var h4=e=>{throw TypeError(e)};var Ij=(e,t,r)=>t.has(e)||h4("Cannot "+r);var _e=(e,t,r)=>(Ij(e,t,"read from private field"),r?r.call(e):t.get(e)),Nt=(e,t,r)=>t.has(e)?h4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lt=(e,t,r,n)=>(Ij(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gt=(e,t,r)=>(Ij(e,t,"access private method"),r);var Tx=(e,t,r,n)=>({set _(a){lt(e,t,a,r)},get _(){return _e(e,t,n)}});function yX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Ax=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var m$={exports:{}},yw={},p$={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.element"),bX=Symbol.for("react.portal"),wX=Symbol.for("react.fragment"),_X=Symbol.for("react.strict_mode"),jX=Symbol.for("react.profiler"),SX=Symbol.for("react.provider"),NX=Symbol.for("react.context"),kX=Symbol.for("react.forward_ref"),CX=Symbol.for("react.suspense"),EX=Symbol.for("react.memo"),TX=Symbol.for("react.lazy"),m4=Symbol.iterator;function AX(e){return e===null||typeof e!="object"?null:(e=m4&&e[m4]||e["@@iterator"],typeof e=="function"?e:null)}var g$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v$=Object.assign,x$={};function op(e,t,r){this.props=e,this.context=t,this.refs=x$,this.updater=r||g$}op.prototype.isReactComponent={};op.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};op.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y$(){}y$.prototype=op.prototype;function fE(e,t,r){this.props=e,this.context=t,this.refs=x$,this.updater=r||g$}var hE=fE.prototype=new y$;hE.constructor=fE;v$(hE,op.prototype);hE.isPureReactComponent=!0;var p4=Array.isArray,b$=Object.prototype.hasOwnProperty,mE={current:null},w$={key:!0,ref:!0,__self:!0,__source:!0};function _$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)b$.call(t,n)&&!w$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Pv,type:e,key:s,ref:o,props:a,_owner:mE.current}}function PX(e,t){return{$$typeof:Pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pv}function OX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var g4=/\/+/g;function Lj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OX(""+e.key):t.toString(36)}function Oy(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Pv:case bX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Lj(o,0):n,p4(a)?(r="",e!=null&&(r=e.replace(g4,"$&/")+"/"),Oy(a,t,r,"",function(u){return u})):a!=null&&(pE(a)&&(a=PX(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(g4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",p4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Lj(s,l);o+=Oy(s,t,r,c,a)}else if(c=AX(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Lj(s,l++),o+=Oy(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Px(e,t,r){if(e==null)return e;var n=[],a=0;return Oy(e,n,"","",function(s){return t.call(r,s,a++)}),n}function DX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var as={current:null},Dy={transition:null},RX={ReactCurrentDispatcher:as,ReactCurrentBatchConfig:Dy,ReactCurrentOwner:mE};function j$(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:Px,forEach:function(e,t,r){Px(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Px(e,function(){t++}),t},toArray:function(e){return Px(e,function(t){return t})||[]},only:function(e){if(!pE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=op;Wt.Fragment=wX;Wt.Profiler=jX;Wt.PureComponent=fE;Wt.StrictMode=_X;Wt.Suspense=CX;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RX;Wt.act=j$;Wt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=v$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=mE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b$.call(t,c)&&!w$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Pv,type:e.type,key:a,ref:s,props:n,_owner:o}};Wt.createContext=function(e){return e={$$typeof:NX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SX,_context:e},e.Consumer=e};Wt.createElement=_$;Wt.createFactory=function(e){var t=_$.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:kX,render:e}};Wt.isValidElement=pE;Wt.lazy=function(e){return{$$typeof:TX,_payload:{_status:-1,_result:e},_init:DX}};Wt.memo=function(e,t){return{$$typeof:EX,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=Dy.transition;Dy.transition={};try{e()}finally{Dy.transition=t}};Wt.unstable_act=j$;Wt.useCallback=function(e,t){return as.current.useCallback(e,t)};Wt.useContext=function(e){return as.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return as.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return as.current.useEffect(e,t)};Wt.useId=function(){return as.current.useId()};Wt.useImperativeHandle=function(e,t,r){return as.current.useImperativeHandle(e,t,r)};Wt.useInsertionEffect=function(e,t){return as.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return as.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return as.current.useMemo(e,t)};Wt.useReducer=function(e,t,r){return as.current.useReducer(e,t,r)};Wt.useRef=function(e){return as.current.useRef(e)};Wt.useState=function(e){return as.current.useState(e)};Wt.useSyncExternalStore=function(e,t,r){return as.current.useSyncExternalStore(e,t,r)};Wt.useTransition=function(){return as.current.useTransition()};Wt.version="18.3.1";p$.exports=Wt;var x=p$.exports;const ie=pr(x),gE=yX({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MX=x,FX=Symbol.for("react.element"),IX=Symbol.for("react.fragment"),LX=Object.prototype.hasOwnProperty,$X=MX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BX={key:!0,ref:!0,__self:!0,__source:!0};function S$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)LX.call(t,n)&&!BX.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FX,type:e,key:s,ref:o,props:a,_owner:$X.current}}yw.Fragment=IX;yw.jsx=S$;yw.jsxs=S$;m$.exports=yw;var i=m$.exports,N$={exports:{}},ci={},k$={exports:{}},C$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,F){var Y=L.length;L.push(F);e:for(;0<Y;){var X=Y-1>>>1,D=L[X];if(0<a(D,F))L[X]=F,L[Y]=D,Y=X;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var F=L[0],Y=L.pop();if(Y!==F){L[0]=Y;e:for(var X=0,D=L.length,R=D>>>1;X<R;){var M=2*(X+1)-1,W=L[M],J=M+1,re=L[J];if(0>a(W,Y))J<D&&0>a(re,W)?(L[X]=re,L[J]=Y,X=J):(L[X]=W,L[M]=Y,X=M);else if(J<D&&0>a(re,Y))L[X]=re,L[J]=Y,X=J;else break e}}return F}function a(L,F){var Y=L.sortIndex-F.sortIndex;return Y!==0?Y:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=L)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(L){if(g=!1,w(L),!p)if(r(c)!==null)p=!0,I(j);else{var F=r(u);F!==null&&z(_,F.startTime-L)}}function j(L,F){p=!1,g&&(g=!1,y(k),k=-1),m=!0;var Y=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||L&&!P());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var D=X(f.expirationTime<=F);F=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var R=!0;else{var M=r(u);M!==null&&z(_,M.startTime-F),R=!1}return R}finally{f=null,h=Y,m=!1}}var N=!1,S=null,k=-1,C=5,E=-1;function P(){return!(e.unstable_now()-E<C)}function T(){if(S!==null){var L=e.unstable_now();E=L;var F=!0;try{F=S(!0,L)}finally{F?V():(N=!1,S=null)}}else N=!1}var V;if(typeof b=="function")V=function(){b(T)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=T,V=function(){B.postMessage(null)}}else V=function(){v(T,0)};function I(L){S=L,N||(N=!0,V())}function z(L,F){k=v(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var Y=h;h=F;try{return L()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Y=h;h=L;try{return F()}finally{h=Y}},e.unstable_scheduleCallback=function(L,F,Y){var X=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?X+Y:X):Y=X,L){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Y+D,L={id:d++,callback:F,priorityLevel:L,startTime:Y,expirationTime:D,sortIndex:-1},Y>X?(L.sortIndex=Y,t(u,L),r(c)===null&&L===r(u)&&(g?(y(k),k=-1):g=!0,z(_,Y-X))):(L.sortIndex=D,t(c,L),p||m||(p=!0,I(j))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var F=h;return function(){var Y=h;h=F;try{return L.apply(this,arguments)}finally{h=Y}}}})(C$);k$.exports=C$;var UX=k$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zX=x,si=UX;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E$=new Set,og={};function wf(e,t){im(e,t),im(e+"Capture",t)}function im(e,t){for(og[e]=t,e=0;e<t.length;e++)E$.add(t[e])}var sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O2=Object.prototype.hasOwnProperty,VX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v4={},x4={};function WX(e){return O2.call(x4,e)?!0:O2.call(v4,e)?!1:VX.test(e)?x4[e]=!0:(v4[e]=!0,!1)}function HX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qX(e,t,r,n){if(t===null||typeof t>"u"||HX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ss(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var aa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){aa[e]=new ss(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];aa[t]=new ss(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){aa[e]=new ss(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){aa[e]=new ss(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){aa[e]=new ss(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){aa[e]=new ss(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){aa[e]=new ss(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){aa[e]=new ss(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){aa[e]=new ss(e,5,!1,e.toLowerCase(),null,!1,!1)});var vE=/[\-:]([a-z])/g;function xE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ss(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ss(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vE,xE);aa[t]=new ss(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){aa[e]=new ss(e,1,!1,e.toLowerCase(),null,!1,!1)});aa.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){aa[e]=new ss(e,1,!1,e.toLowerCase(),null,!0,!0)});function yE(e,t,r,n){var a=aa.hasOwnProperty(t)?aa[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qX(t,r,a,n)&&(r=null),n||a===null?WX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wc=zX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ox=Symbol.for("react.element"),uh=Symbol.for("react.portal"),dh=Symbol.for("react.fragment"),bE=Symbol.for("react.strict_mode"),D2=Symbol.for("react.profiler"),T$=Symbol.for("react.provider"),A$=Symbol.for("react.context"),wE=Symbol.for("react.forward_ref"),R2=Symbol.for("react.suspense"),M2=Symbol.for("react.suspense_list"),_E=Symbol.for("react.memo"),$c=Symbol.for("react.lazy"),P$=Symbol.for("react.offscreen"),y4=Symbol.iterator;function Up(e){return e===null||typeof e!="object"?null:(e=y4&&e[y4]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,$j;function g0(e){if($j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$j=t&&t[1]||""}return`
`+$j+e}var Bj=!1;function Uj(e,t){if(!e||Bj)return"";Bj=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Bj=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?g0(e):""}function GX(e){switch(e.tag){case 5:return g0(e.type);case 16:return g0("Lazy");case 13:return g0("Suspense");case 19:return g0("SuspenseList");case 0:case 2:case 15:return e=Uj(e.type,!1),e;case 11:return e=Uj(e.type.render,!1),e;case 1:return e=Uj(e.type,!0),e;default:return""}}function F2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dh:return"Fragment";case uh:return"Portal";case D2:return"Profiler";case bE:return"StrictMode";case R2:return"Suspense";case M2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A$:return(e.displayName||"Context")+".Consumer";case T$:return(e._context.displayName||"Context")+".Provider";case wE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _E:return t=e.displayName||null,t!==null?t:F2(e.type)||"Memo";case $c:t=e._payload,e=e._init;try{return F2(e(t))}catch{}}return null}function KX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F2(t);case 8:return t===bE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YX(e){var t=O$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dx(e){e._valueTracker||(e._valueTracker=YX(e))}function D$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=O$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function a1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I2(e,t){var r=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function b4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R$(e,t){t=t.checked,t!=null&&yE(e,"checked",t,!1)}function L2(e,t){R$(e,t);var r=Pu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$2(e,t.type,r):t.hasOwnProperty("defaultValue")&&$2(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $2(e,t,r){(t!=="number"||a1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var v0=Array.isArray;function Eh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function B2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(qe(92));if(v0(r)){if(1<r.length)throw Error(qe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pu(r)}}function M$(e,t){var r=Pu(t.value),n=Pu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function j4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function F$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?F$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rx,I$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rx=Rx||document.createElement("div"),Rx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var T0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XX=["Webkit","ms","Moz","O"];Object.keys(T0).forEach(function(e){XX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),T0[t]=T0[e]})});function L$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||T0.hasOwnProperty(e)&&T0[e]?(""+t).trim():t+"px"}function $$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=L$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QX=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z2(e,t){if(t){if(QX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function V2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W2=null;function jE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var H2=null,Th=null,Ah=null;function S4(e){if(e=Rv(e)){if(typeof H2!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=Sw(t),H2(e.stateNode,e.type,t))}}function B$(e){Th?Ah?Ah.push(e):Ah=[e]:Th=e}function U$(){if(Th){var e=Th,t=Ah;if(Ah=Th=null,S4(e),t)for(e=0;e<t.length;e++)S4(t[e])}}function z$(e,t){return e(t)}function V$(){}var zj=!1;function W$(e,t,r){if(zj)return e(t,r);zj=!0;try{return z$(e,t,r)}finally{zj=!1,(Th!==null||Ah!==null)&&(V$(),U$())}}function cg(e,t){var r=e.stateNode;if(r===null)return null;var n=Sw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(qe(231,t,typeof r));return r}var q2=!1;if(sc)try{var zp={};Object.defineProperty(zp,"passive",{get:function(){q2=!0}}),window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{q2=!1}function ZX(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var A0=!1,s1=null,i1=!1,G2=null,JX={onError:function(e){A0=!0,s1=e}};function eQ(e,t,r,n,a,s,o,l,c){A0=!1,s1=null,ZX.apply(JX,arguments)}function tQ(e,t,r,n,a,s,o,l,c){if(eQ.apply(this,arguments),A0){if(A0){var u=s1;A0=!1,s1=null}else throw Error(qe(198));i1||(i1=!0,G2=u)}}function _f(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function H$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N4(e){if(_f(e)!==e)throw Error(qe(188))}function rQ(e){var t=e.alternate;if(!t){if(t=_f(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return N4(a),e;if(s===n)return N4(a),t;s=s.sibling}throw Error(qe(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(qe(189))}}if(r.alternate!==n)throw Error(qe(190))}if(r.tag!==3)throw Error(qe(188));return r.stateNode.current===r?e:t}function q$(e){return e=rQ(e),e!==null?G$(e):null}function G$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G$(e);if(t!==null)return t;e=e.sibling}return null}var K$=si.unstable_scheduleCallback,k4=si.unstable_cancelCallback,nQ=si.unstable_shouldYield,aQ=si.unstable_requestPaint,an=si.unstable_now,sQ=si.unstable_getCurrentPriorityLevel,SE=si.unstable_ImmediatePriority,Y$=si.unstable_UserBlockingPriority,o1=si.unstable_NormalPriority,iQ=si.unstable_LowPriority,X$=si.unstable_IdlePriority,bw=null,al=null;function oQ(e){if(al&&typeof al.onCommitFiberRoot=="function")try{al.onCommitFiberRoot(bw,e,void 0,(e.current.flags&128)===128)}catch{}}var ho=Math.clz32?Math.clz32:uQ,lQ=Math.log,cQ=Math.LN2;function uQ(e){return e>>>=0,e===0?32:31-(lQ(e)/cQ|0)|0}var Mx=64,Fx=4194304;function x0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function l1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=x0(l):(s&=o,s!==0&&(n=x0(s)))}else o=r&~a,o!==0?n=x0(o):s!==0&&(n=x0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ho(t),a=1<<r,n|=e[r],t&=~a;return n}function dQ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fQ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ho(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=dQ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function K2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q$(){var e=Mx;return Mx<<=1,!(Mx&4194240)&&(Mx=64),e}function Vj(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ov(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ho(t),e[t]=r}function hQ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ho(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function NE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ho(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yr=0;function Z$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J$,kE,e8,t8,r8,Y2=!1,Ix=[],pu=null,gu=null,vu=null,ug=new Map,dg=new Map,Hc=[],mQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C4(e,t){switch(e){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":ug.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dg.delete(t.pointerId)}}function Vp(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Rv(t),t!==null&&kE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pQ(e,t,r,n,a){switch(t){case"focusin":return pu=Vp(pu,e,t,r,n,a),!0;case"dragenter":return gu=Vp(gu,e,t,r,n,a),!0;case"mouseover":return vu=Vp(vu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return ug.set(s,Vp(ug.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,dg.set(s,Vp(dg.get(s)||null,e,t,r,n,a)),!0}return!1}function n8(e){var t=yd(e.target);if(t!==null){var r=_f(t);if(r!==null){if(t=r.tag,t===13){if(t=H$(r),t!==null){e.blockedOn=t,r8(e.priority,function(){e8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ry(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=X2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);W2=n,r.target.dispatchEvent(n),W2=null}else return t=Rv(r),t!==null&&kE(t),e.blockedOn=r,!1;t.shift()}return!0}function E4(e,t,r){Ry(e)&&r.delete(t)}function gQ(){Y2=!1,pu!==null&&Ry(pu)&&(pu=null),gu!==null&&Ry(gu)&&(gu=null),vu!==null&&Ry(vu)&&(vu=null),ug.forEach(E4),dg.forEach(E4)}function Wp(e,t){e.blockedOn===t&&(e.blockedOn=null,Y2||(Y2=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,gQ)))}function fg(e){function t(a){return Wp(a,e)}if(0<Ix.length){Wp(Ix[0],e);for(var r=1;r<Ix.length;r++){var n=Ix[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pu!==null&&Wp(pu,e),gu!==null&&Wp(gu,e),vu!==null&&Wp(vu,e),ug.forEach(t),dg.forEach(t),r=0;r<Hc.length;r++)n=Hc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hc.length&&(r=Hc[0],r.blockedOn===null);)n8(r),r.blockedOn===null&&Hc.shift()}var Ph=wc.ReactCurrentBatchConfig,c1=!0;function vQ(e,t,r,n){var a=yr,s=Ph.transition;Ph.transition=null;try{yr=1,CE(e,t,r,n)}finally{yr=a,Ph.transition=s}}function xQ(e,t,r,n){var a=yr,s=Ph.transition;Ph.transition=null;try{yr=4,CE(e,t,r,n)}finally{yr=a,Ph.transition=s}}function CE(e,t,r,n){if(c1){var a=X2(e,t,r,n);if(a===null)Jj(e,t,n,u1,r),C4(e,n);else if(pQ(a,e,t,r,n))n.stopPropagation();else if(C4(e,n),t&4&&-1<mQ.indexOf(e)){for(;a!==null;){var s=Rv(a);if(s!==null&&J$(s),s=X2(e,t,r,n),s===null&&Jj(e,t,n,u1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Jj(e,t,n,null,r)}}var u1=null;function X2(e,t,r,n){if(u1=null,e=jE(n),e=yd(e),e!==null)if(t=_f(e),t===null)e=null;else if(r=t.tag,r===13){if(e=H$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return u1=e,null}function a8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sQ()){case SE:return 1;case Y$:return 4;case o1:case iQ:return 16;case X$:return 536870912;default:return 16}default:return 16}}var iu=null,EE=null,My=null;function s8(){if(My)return My;var e,t=EE,r=t.length,n,a="value"in iu?iu.value:iu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return My=a.slice(e,1<n?1-n:void 0)}function Fy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lx(){return!0}function T4(){return!1}function ui(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lx:T4,this.isPropagationStopped=T4,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lx)},persist:function(){},isPersistent:Lx}),t}var lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},TE=ui(lp),Dv=qr({},lp,{view:0,detail:0}),yQ=ui(Dv),Wj,Hj,Hp,ww=qr({},Dv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hp&&(Hp&&e.type==="mousemove"?(Wj=e.screenX-Hp.screenX,Hj=e.screenY-Hp.screenY):Hj=Wj=0,Hp=e),Wj)},movementY:function(e){return"movementY"in e?e.movementY:Hj}}),A4=ui(ww),bQ=qr({},ww,{dataTransfer:0}),wQ=ui(bQ),_Q=qr({},Dv,{relatedTarget:0}),qj=ui(_Q),jQ=qr({},lp,{animationName:0,elapsedTime:0,pseudoElement:0}),SQ=ui(jQ),NQ=qr({},lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kQ=ui(NQ),CQ=qr({},lp,{data:0}),P4=ui(CQ),EQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AQ[e])?!!t[e]:!1}function AE(){return PQ}var OQ=qr({},Dv,{key:function(e){if(e.key){var t=EQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AE,charCode:function(e){return e.type==="keypress"?Fy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DQ=ui(OQ),RQ=qr({},ww,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O4=ui(RQ),MQ=qr({},Dv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AE}),FQ=ui(MQ),IQ=qr({},lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),LQ=ui(IQ),$Q=qr({},ww,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BQ=ui($Q),UQ=[9,13,27,32],PE=sc&&"CompositionEvent"in window,P0=null;sc&&"documentMode"in document&&(P0=document.documentMode);var zQ=sc&&"TextEvent"in window&&!P0,i8=sc&&(!PE||P0&&8<P0&&11>=P0),D4=" ",R4=!1;function o8(e,t){switch(e){case"keyup":return UQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fh=!1;function VQ(e,t){switch(e){case"compositionend":return l8(t);case"keypress":return t.which!==32?null:(R4=!0,D4);case"textInput":return e=t.data,e===D4&&R4?null:e;default:return null}}function WQ(e,t){if(fh)return e==="compositionend"||!PE&&o8(e,t)?(e=s8(),My=EE=iu=null,fh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i8&&t.locale!=="ko"?null:t.data;default:return null}}var HQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HQ[e.type]:t==="textarea"}function c8(e,t,r,n){B$(n),t=d1(t,"onChange"),0<t.length&&(r=new TE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var O0=null,hg=null;function qQ(e){b8(e,0)}function _w(e){var t=ph(e);if(D$(t))return e}function GQ(e,t){if(e==="change")return t}var u8=!1;if(sc){var Gj;if(sc){var Kj="oninput"in document;if(!Kj){var F4=document.createElement("div");F4.setAttribute("oninput","return;"),Kj=typeof F4.oninput=="function"}Gj=Kj}else Gj=!1;u8=Gj&&(!document.documentMode||9<document.documentMode)}function I4(){O0&&(O0.detachEvent("onpropertychange",d8),hg=O0=null)}function d8(e){if(e.propertyName==="value"&&_w(hg)){var t=[];c8(t,hg,e,jE(e)),W$(qQ,t)}}function KQ(e,t,r){e==="focusin"?(I4(),O0=t,hg=r,O0.attachEvent("onpropertychange",d8)):e==="focusout"&&I4()}function YQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _w(hg)}function XQ(e,t){if(e==="click")return _w(t)}function QQ(e,t){if(e==="input"||e==="change")return _w(t)}function ZQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yo=typeof Object.is=="function"?Object.is:ZQ;function mg(e,t){if(yo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!O2.call(t,a)||!yo(e[a],t[a]))return!1}return!0}function L4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $4(e,t){var r=L4(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L4(r)}}function f8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?f8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h8(){for(var e=window,t=a1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=a1(e.document)}return t}function OE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JQ(e){var t=h8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&f8(r.ownerDocument.documentElement,r)){if(n!==null&&OE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=$4(r,s);var o=$4(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eZ=sc&&"documentMode"in document&&11>=document.documentMode,hh=null,Q2=null,D0=null,Z2=!1;function B4(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z2||hh==null||hh!==a1(n)||(n=hh,"selectionStart"in n&&OE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),D0&&mg(D0,n)||(D0=n,n=d1(Q2,"onSelect"),0<n.length&&(t=new TE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hh)))}function $x(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mh={animationend:$x("Animation","AnimationEnd"),animationiteration:$x("Animation","AnimationIteration"),animationstart:$x("Animation","AnimationStart"),transitionend:$x("Transition","TransitionEnd")},Yj={},m8={};sc&&(m8=document.createElement("div").style,"AnimationEvent"in window||(delete mh.animationend.animation,delete mh.animationiteration.animation,delete mh.animationstart.animation),"TransitionEvent"in window||delete mh.transitionend.transition);function jw(e){if(Yj[e])return Yj[e];if(!mh[e])return e;var t=mh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in m8)return Yj[e]=t[r];return e}var p8=jw("animationend"),g8=jw("animationiteration"),v8=jw("animationstart"),x8=jw("transitionend"),y8=new Map,U4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zu(e,t){y8.set(e,t),wf(t,[e])}for(var Xj=0;Xj<U4.length;Xj++){var Qj=U4[Xj],tZ=Qj.toLowerCase(),rZ=Qj[0].toUpperCase()+Qj.slice(1);zu(tZ,"on"+rZ)}zu(p8,"onAnimationEnd");zu(g8,"onAnimationIteration");zu(v8,"onAnimationStart");zu("dblclick","onDoubleClick");zu("focusin","onFocus");zu("focusout","onBlur");zu(x8,"onTransitionEnd");im("onMouseEnter",["mouseout","mouseover"]);im("onMouseLeave",["mouseout","mouseover"]);im("onPointerEnter",["pointerout","pointerover"]);im("onPointerLeave",["pointerout","pointerover"]);wf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wf("onBeforeInput",["compositionend","keypress","textInput","paste"]);wf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(y0));function z4(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tQ(n,t,void 0,e),e.currentTarget=null}function b8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;z4(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;z4(a,l,u),s=c}}}if(i1)throw e=G2,i1=!1,G2=null,e}function Pr(e,t){var r=t[nN];r===void 0&&(r=t[nN]=new Set);var n=e+"__bubble";r.has(n)||(w8(t,e,2,!1),r.add(n))}function Zj(e,t,r){var n=0;t&&(n|=4),w8(r,e,n,t)}var Bx="_reactListening"+Math.random().toString(36).slice(2);function pg(e){if(!e[Bx]){e[Bx]=!0,E$.forEach(function(r){r!=="selectionchange"&&(nZ.has(r)||Zj(r,!1,e),Zj(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bx]||(t[Bx]=!0,Zj("selectionchange",!1,t))}}function w8(e,t,r,n){switch(a8(t)){case 1:var a=vQ;break;case 4:a=xQ;break;default:a=CE}r=a.bind(null,t,r,e),a=void 0,!q2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Jj(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=yd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}W$(function(){var u=s,d=jE(r),f=[];e:{var h=y8.get(e);if(h!==void 0){var m=TE,p=e;switch(e){case"keypress":if(Fy(r)===0)break e;case"keydown":case"keyup":m=DQ;break;case"focusin":p="focus",m=qj;break;case"focusout":p="blur",m=qj;break;case"beforeblur":case"afterblur":m=qj;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=A4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FQ;break;case p8:case g8:case v8:m=SQ;break;case x8:m=LQ;break;case"scroll":m=yQ;break;case"wheel":m=BQ;break;case"copy":case"cut":case"paste":m=kQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=O4}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=cg(b,y),_!=null&&g.push(gg(b,_,w)))),v)break;b=b.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==W2&&(p=r.relatedTarget||r.fromElement)&&(yd(p)||p[ic]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?yd(p):null,p!==null&&(v=_f(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=A4,_="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=O4,_="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:ph(m),w=p==null?h:ph(p),h=new g(_,b+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,yd(d)===u&&(g=new g(y,b+"enter",p,r,d),g.target=w,g.relatedTarget=v,_=g),v=_,m&&p)t:{for(g=m,y=p,b=0,w=g;w;w=$f(w))b++;for(w=0,_=y;_;_=$f(_))w++;for(;0<b-w;)g=$f(g),b--;for(;0<w-b;)y=$f(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=$f(g),y=$f(y)}g=null}else g=null;m!==null&&V4(f,h,m,g,!1),p!==null&&v!==null&&V4(f,v,p,g,!0)}}e:{if(h=u?ph(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=GQ;else if(M4(h))if(u8)j=QQ;else{j=YQ;var N=KQ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=XQ);if(j&&(j=j(e,u))){c8(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$2(h,"number",h.value)}switch(N=u?ph(u):window,e){case"focusin":(M4(N)||N.contentEditable==="true")&&(hh=N,Q2=u,D0=null);break;case"focusout":D0=Q2=hh=null;break;case"mousedown":Z2=!0;break;case"contextmenu":case"mouseup":case"dragend":Z2=!1,B4(f,r,d);break;case"selectionchange":if(eZ)break;case"keydown":case"keyup":B4(f,r,d)}var S;if(PE)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fh?o8(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(i8&&r.locale!=="ko"&&(fh||k!=="onCompositionStart"?k==="onCompositionEnd"&&fh&&(S=s8()):(iu=d,EE="value"in iu?iu.value:iu.textContent,fh=!0)),N=d1(u,k),0<N.length&&(k=new P4(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=l8(r),S!==null&&(k.data=S)))),(S=zQ?VQ(e,r):WQ(e,r))&&(u=d1(u,"onBeforeInput"),0<u.length&&(d=new P4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}b8(f,t)})}function gg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function d1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=cg(e,r),s!=null&&n.unshift(gg(e,s,a)),s=cg(e,t),s!=null&&n.push(gg(e,s,a))),e=e.return}return n}function $f(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V4(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=cg(r,s),c!=null&&o.unshift(gg(r,c,l))):a||(c=cg(r,s),c!=null&&o.push(gg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var aZ=/\r\n?/g,sZ=/\u0000|\uFFFD/g;function W4(e){return(typeof e=="string"?e:""+e).replace(aZ,`
`).replace(sZ,"")}function Ux(e,t,r){if(t=W4(t),W4(e)!==t&&r)throw Error(qe(425))}function f1(){}var J2=null,eN=null;function tN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rN=typeof setTimeout=="function"?setTimeout:void 0,iZ=typeof clearTimeout=="function"?clearTimeout:void 0,H4=typeof Promise=="function"?Promise:void 0,oZ=typeof queueMicrotask=="function"?queueMicrotask:typeof H4<"u"?function(e){return H4.resolve(null).then(e).catch(lZ)}:rN;function lZ(e){setTimeout(function(){throw e})}function eS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),fg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);fg(t)}function xu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q4(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cp=Math.random().toString(36).slice(2),Ko="__reactFiber$"+cp,vg="__reactProps$"+cp,ic="__reactContainer$"+cp,nN="__reactEvents$"+cp,cZ="__reactListeners$"+cp,uZ="__reactHandles$"+cp;function yd(e){var t=e[Ko];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ic]||r[Ko]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=q4(e);e!==null;){if(r=e[Ko])return r;e=q4(e)}return t}e=r,r=e.parentNode}return null}function Rv(e){return e=e[Ko]||e[ic],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ph(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function Sw(e){return e[vg]||null}var aN=[],gh=-1;function Vu(e){return{current:e}}function Rr(e){0>gh||(e.current=aN[gh],aN[gh]=null,gh--)}function kr(e,t){gh++,aN[gh]=e.current,e.current=t}var Ou={},Ta=Vu(Ou),ys=Vu(!1),Kd=Ou;function om(e,t){var r=e.type.contextTypes;if(!r)return Ou;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bs(e){return e=e.childContextTypes,e!=null}function h1(){Rr(ys),Rr(Ta)}function G4(e,t,r){if(Ta.current!==Ou)throw Error(qe(168));kr(Ta,t),kr(ys,r)}function _8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(qe(108,KX(e)||"Unknown",a));return qr({},r,n)}function m1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ou,Kd=Ta.current,kr(Ta,e),kr(ys,ys.current),!0}function K4(e,t,r){var n=e.stateNode;if(!n)throw Error(qe(169));r?(e=_8(e,t,Kd),n.__reactInternalMemoizedMergedChildContext=e,Rr(ys),Rr(Ta),kr(Ta,e)):Rr(ys),kr(ys,r)}var Ul=null,Nw=!1,tS=!1;function j8(e){Ul===null?Ul=[e]:Ul.push(e)}function dZ(e){Nw=!0,j8(e)}function Wu(){if(!tS&&Ul!==null){tS=!0;var e=0,t=yr;try{var r=Ul;for(yr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ul=null,Nw=!1}catch(a){throw Ul!==null&&(Ul=Ul.slice(e+1)),K$(SE,Wu),a}finally{yr=t,tS=!1}}return null}var vh=[],xh=0,p1=null,g1=0,wi=[],_i=0,Yd=null,Hl=1,ql="";function ld(e,t){vh[xh++]=g1,vh[xh++]=p1,p1=e,g1=t}function S8(e,t,r){wi[_i++]=Hl,wi[_i++]=ql,wi[_i++]=Yd,Yd=e;var n=Hl;e=ql;var a=32-ho(n)-1;n&=~(1<<a),r+=1;var s=32-ho(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Hl=1<<32-ho(t)+a|r<<a|n,ql=s+e}else Hl=1<<s|r<<a|n,ql=e}function DE(e){e.return!==null&&(ld(e,1),S8(e,1,0))}function RE(e){for(;e===p1;)p1=vh[--xh],vh[xh]=null,g1=vh[--xh],vh[xh]=null;for(;e===Yd;)Yd=wi[--_i],wi[_i]=null,ql=wi[--_i],wi[_i]=null,Hl=wi[--_i],wi[_i]=null}var ei=null,Zs=null,Lr=!1,so=null;function N8(e,t){var r=ki(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y4(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Zs=xu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Zs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Yd!==null?{id:Hl,overflow:ql}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ki(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ei=e,Zs=null,!0):!1;default:return!1}}function sN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iN(e){if(Lr){var t=Zs;if(t){var r=t;if(!Y4(e,t)){if(sN(e))throw Error(qe(418));t=xu(r.nextSibling);var n=ei;t&&Y4(e,t)?N8(n,r):(e.flags=e.flags&-4097|2,Lr=!1,ei=e)}}else{if(sN(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Lr=!1,ei=e}}}function X4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function zx(e){if(e!==ei)return!1;if(!Lr)return X4(e),Lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tN(e.type,e.memoizedProps)),t&&(t=Zs)){if(sN(e))throw k8(),Error(qe(418));for(;t;)N8(e,t),t=xu(t.nextSibling)}if(X4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zs=xu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zs=null}}else Zs=ei?xu(e.stateNode.nextSibling):null;return!0}function k8(){for(var e=Zs;e;)e=xu(e.nextSibling)}function lm(){Zs=ei=null,Lr=!1}function ME(e){so===null?so=[e]:so.push(e)}var fZ=wc.ReactCurrentBatchConfig;function qp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(qe(309));var n=r.stateNode}if(!n)throw Error(qe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(qe(284));if(!r._owner)throw Error(qe(290,e))}return e}function Vx(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Q4(e){var t=e._init;return t(e._payload)}function C8(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=_u(y,b),y.index=0,y.sibling=null,y}function s(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,_){return b===null||b.tag!==6?(b=lS(w,y.mode,_),b.return=y,b):(b=a(b,w),b.return=y,b)}function c(y,b,w,_){var j=w.type;return j===dh?d(y,b,w.props.children,_,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$c&&Q4(j)===b.type)?(_=a(b,w.props),_.ref=qp(y,b,w),_.return=y,_):(_=Vy(w.type,w.key,w.props,null,y.mode,_),_.ref=qp(y,b,w),_.return=y,_)}function u(y,b,w,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=cS(w,y.mode,_),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,_,j){return b===null||b.tag!==7?(b=Ud(w,y.mode,_,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=lS(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ox:return w=Vy(b.type,b.key,b.props,null,y.mode,w),w.ref=qp(y,null,b),w.return=y,w;case uh:return b=cS(b,y.mode,w),b.return=y,b;case $c:var _=b._init;return f(y,_(b._payload),w)}if(v0(b)||Up(b))return b=Ud(b,y.mode,w,null),b.return=y,b;Vx(y,b)}return null}function h(y,b,w,_){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(y,b,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ox:return w.key===j?c(y,b,w,_):null;case uh:return w.key===j?u(y,b,w,_):null;case $c:return j=w._init,h(y,b,j(w._payload),_)}if(v0(w)||Up(w))return j!==null?null:d(y,b,w,_,null);Vx(y,w)}return null}function m(y,b,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(b,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ox:return y=y.get(_.key===null?w:_.key)||null,c(b,y,_,j);case uh:return y=y.get(_.key===null?w:_.key)||null,u(b,y,_,j);case $c:var N=_._init;return m(y,b,w,N(_._payload),j)}if(v0(_)||Up(_))return y=y.get(w)||null,d(b,y,_,j,null);Vx(b,_)}return null}function p(y,b,w,_){for(var j=null,N=null,S=b,k=b=0,C=null;S!==null&&k<w.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var E=h(y,S,w[k],_);if(E===null){S===null&&(S=C);break}e&&S&&E.alternate===null&&t(y,S),b=s(E,b,k),N===null?j=E:N.sibling=E,N=E,S=C}if(k===w.length)return r(y,S),Lr&&ld(y,k),j;if(S===null){for(;k<w.length;k++)S=f(y,w[k],_),S!==null&&(b=s(S,b,k),N===null?j=S:N.sibling=S,N=S);return Lr&&ld(y,k),j}for(S=n(y,S);k<w.length;k++)C=m(S,y,k,w[k],_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),b=s(C,b,k),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(P){return t(y,P)}),Lr&&ld(y,k),j}function g(y,b,w,_){var j=Up(w);if(typeof j!="function")throw Error(qe(150));if(w=j.call(w),w==null)throw Error(qe(151));for(var N=j=null,S=b,k=b=0,C=null,E=w.next();S!==null&&!E.done;k++,E=w.next()){S.index>k?(C=S,S=null):C=S.sibling;var P=h(y,S,E.value,_);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(y,S),b=s(P,b,k),N===null?j=P:N.sibling=P,N=P,S=C}if(E.done)return r(y,S),Lr&&ld(y,k),j;if(S===null){for(;!E.done;k++,E=w.next())E=f(y,E.value,_),E!==null&&(b=s(E,b,k),N===null?j=E:N.sibling=E,N=E);return Lr&&ld(y,k),j}for(S=n(y,S);!E.done;k++,E=w.next())E=m(S,y,k,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?k:E.key),b=s(E,b,k),N===null?j=E:N.sibling=E,N=E);return e&&S.forEach(function(T){return t(y,T)}),Lr&&ld(y,k),j}function v(y,b,w,_){if(typeof w=="object"&&w!==null&&w.type===dh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ox:e:{for(var j=w.key,N=b;N!==null;){if(N.key===j){if(j=w.type,j===dh){if(N.tag===7){r(y,N.sibling),b=a(N,w.props.children),b.return=y,y=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$c&&Q4(j)===N.type){r(y,N.sibling),b=a(N,w.props),b.ref=qp(y,N,w),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}w.type===dh?(b=Ud(w.props.children,y.mode,_,w.key),b.return=y,y=b):(_=Vy(w.type,w.key,w.props,null,y.mode,_),_.ref=qp(y,b,w),_.return=y,y=_)}return o(y);case uh:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=cS(w,y.mode,_),b.return=y,y=b}return o(y);case $c:return N=w._init,v(y,b,N(w._payload),_)}if(v0(w))return p(y,b,w,_);if(Up(w))return g(y,b,w,_);Vx(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=lS(w,y.mode,_),b.return=y,y=b),o(y)):r(y,b)}return v}var cm=C8(!0),E8=C8(!1),v1=Vu(null),x1=null,yh=null,FE=null;function IE(){FE=yh=x1=null}function LE(e){var t=v1.current;Rr(v1),e._currentValue=t}function oN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oh(e,t){x1=e,FE=yh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(FE!==e)if(e={context:e,memoizedValue:t,next:null},yh===null){if(x1===null)throw Error(qe(308));yh=e,x1.dependencies={lanes:0,firstContext:e}}else yh=yh.next=e;return t}var bd=null;function $E(e){bd===null?bd=[e]:bd.push(e)}function T8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,$E(t)):(r.next=a.next,a.next=r),t.interleaved=r,oc(e,n)}function oc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bc=!1;function BE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oc(e,r)}return a=n.interleaved,a===null?(t.next=t,$E(n)):(t.next=a.next,a.next=t),n.interleaved=t,oc(e,r)}function Iy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}function Z4(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function y1(e,t,r,n){var a=e.updateQueue;Bc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=qr({},f,h);break e;case 2:Bc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Qd|=o,e.lanes=o,e.memoizedState=f}}function J4(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(qe(191,a));a.call(n)}}}var Mv={},sl=Vu(Mv),xg=Vu(Mv),yg=Vu(Mv);function wd(e){if(e===Mv)throw Error(qe(174));return e}function UE(e,t){switch(kr(yg,t),kr(xg,e),kr(sl,Mv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:U2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=U2(t,e)}Rr(sl),kr(sl,t)}function um(){Rr(sl),Rr(xg),Rr(yg)}function P8(e){wd(yg.current);var t=wd(sl.current),r=U2(t,e.type);t!==r&&(kr(xg,e),kr(sl,r))}function zE(e){xg.current===e&&(Rr(sl),Rr(xg))}var zr=Vu(0);function b1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rS=[];function VE(){for(var e=0;e<rS.length;e++)rS[e]._workInProgressVersionPrimary=null;rS.length=0}var Ly=wc.ReactCurrentDispatcher,nS=wc.ReactCurrentBatchConfig,Xd=0,Hr=null,En=null,Un=null,w1=!1,R0=!1,bg=0,hZ=0;function ca(){throw Error(qe(321))}function WE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yo(e[r],t[r]))return!1;return!0}function HE(e,t,r,n,a,s){if(Xd=s,Hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ly.current=e===null||e.memoizedState===null?vZ:xZ,e=r(n,a),R0){s=0;do{if(R0=!1,bg=0,25<=s)throw Error(qe(301));s+=1,Un=En=null,t.updateQueue=null,Ly.current=yZ,e=r(n,a)}while(R0)}if(Ly.current=_1,t=En!==null&&En.next!==null,Xd=0,Un=En=Hr=null,w1=!1,t)throw Error(qe(300));return e}function qE(){var e=bg!==0;return bg=0,e}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?Hr.memoizedState=Un=e:Un=Un.next=e,Un}function Pi(){if(En===null){var e=Hr.alternate;e=e!==null?e.memoizedState:null}else e=En.next;var t=Un===null?Hr.memoizedState:Un.next;if(t!==null)Un=t,En=e;else{if(e===null)throw Error(qe(310));En=e,e={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Un===null?Hr.memoizedState=Un=e:Un=Un.next=e}return Un}function wg(e,t){return typeof t=="function"?t(e):t}function aS(e){var t=Pi(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=En,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Xd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Hr.lanes|=d,Qd|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,yo(n,t.memoizedState)||(gs=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Hr.lanes|=s,Qd|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sS(e){var t=Pi(),r=t.queue;if(r===null)throw Error(qe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);yo(s,t.memoizedState)||(gs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function O8(){}function D8(e,t){var r=Hr,n=Pi(),a=t(),s=!yo(n.memoizedState,a);if(s&&(n.memoizedState=a,gs=!0),n=n.queue,GE(F8.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Un!==null&&Un.memoizedState.tag&1){if(r.flags|=2048,_g(9,M8.bind(null,r,n,a,t),void 0,null),Wn===null)throw Error(qe(349));Xd&30||R8(r,t,a)}return a}function R8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function M8(e,t,r,n){t.value=r,t.getSnapshot=n,I8(t)&&L8(e)}function F8(e,t,r){return r(function(){I8(t)&&L8(e)})}function I8(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yo(e,r)}catch{return!0}}function L8(e){var t=oc(e,1);t!==null&&mo(t,e,1,-1)}function eD(e){var t=zo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:e},t.queue=e,e=e.dispatch=gZ.bind(null,Hr,e),[t.memoizedState,e]}function _g(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $8(){return Pi().memoizedState}function $y(e,t,r,n){var a=zo();Hr.flags|=e,a.memoizedState=_g(1|t,r,void 0,n===void 0?null:n)}function kw(e,t,r,n){var a=Pi();n=n===void 0?null:n;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,n!==null&&WE(n,o.deps)){a.memoizedState=_g(t,r,s,n);return}}Hr.flags|=e,a.memoizedState=_g(1|t,r,s,n)}function tD(e,t){return $y(8390656,8,e,t)}function GE(e,t){return kw(2048,8,e,t)}function B8(e,t){return kw(4,2,e,t)}function U8(e,t){return kw(4,4,e,t)}function z8(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function V8(e,t,r){return r=r!=null?r.concat([e]):null,kw(4,4,z8.bind(null,t,e),r)}function KE(){}function W8(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function H8(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&WE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function q8(e,t,r){return Xd&21?(yo(r,t)||(r=Q$(),Hr.lanes|=r,Qd|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gs=!0),e.memoizedState=r)}function mZ(e,t){var r=yr;yr=r!==0&&4>r?r:4,e(!0);var n=nS.transition;nS.transition={};try{e(!1),t()}finally{yr=r,nS.transition=n}}function G8(){return Pi().memoizedState}function pZ(e,t,r){var n=wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K8(e))Y8(t,r);else if(r=T8(e,t,r,n),r!==null){var a=es();mo(r,e,n,a),X8(r,t,n)}}function gZ(e,t,r){var n=wu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K8(e))Y8(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,yo(l,o)){var c=t.interleaved;c===null?(a.next=a,$E(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=T8(e,t,a,n),r!==null&&(a=es(),mo(r,e,n,a),X8(r,t,n))}}function K8(e){var t=e.alternate;return e===Hr||t!==null&&t===Hr}function Y8(e,t){R0=w1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X8(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,NE(e,r)}}var _1={readContext:Ai,useCallback:ca,useContext:ca,useEffect:ca,useImperativeHandle:ca,useInsertionEffect:ca,useLayoutEffect:ca,useMemo:ca,useReducer:ca,useRef:ca,useState:ca,useDebugValue:ca,useDeferredValue:ca,useTransition:ca,useMutableSource:ca,useSyncExternalStore:ca,useId:ca,unstable_isNewReconciler:!1},vZ={readContext:Ai,useCallback:function(e,t){return zo().memoizedState=[e,t===void 0?null:t],e},useContext:Ai,useEffect:tD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$y(4194308,4,z8.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $y(4194308,4,e,t)},useInsertionEffect:function(e,t){return $y(4,2,e,t)},useMemo:function(e,t){var r=zo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pZ.bind(null,Hr,e),[n.memoizedState,e]},useRef:function(e){var t=zo();return e={current:e},t.memoizedState=e},useState:eD,useDebugValue:KE,useDeferredValue:function(e){return zo().memoizedState=e},useTransition:function(){var e=eD(!1),t=e[0];return e=mZ.bind(null,e[1]),zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hr,a=zo();if(Lr){if(r===void 0)throw Error(qe(407));r=r()}else{if(r=t(),Wn===null)throw Error(qe(349));Xd&30||R8(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,tD(F8.bind(null,n,s,e),[e]),n.flags|=2048,_g(9,M8.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=zo(),t=Wn.identifierPrefix;if(Lr){var r=ql,n=Hl;r=(n&~(1<<32-ho(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=bg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hZ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xZ={readContext:Ai,useCallback:W8,useContext:Ai,useEffect:GE,useImperativeHandle:V8,useInsertionEffect:B8,useLayoutEffect:U8,useMemo:H8,useReducer:aS,useRef:$8,useState:function(){return aS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Pi();return q8(t,En.memoizedState,e)},useTransition:function(){var e=aS(wg)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:O8,useSyncExternalStore:D8,useId:G8,unstable_isNewReconciler:!1},yZ={readContext:Ai,useCallback:W8,useContext:Ai,useEffect:GE,useImperativeHandle:V8,useInsertionEffect:B8,useLayoutEffect:U8,useMemo:H8,useReducer:sS,useRef:$8,useState:function(){return sS(wg)},useDebugValue:KE,useDeferredValue:function(e){var t=Pi();return En===null?t.memoizedState=e:q8(t,En.memoizedState,e)},useTransition:function(){var e=sS(wg)[0],t=Pi().memoizedState;return[e,t]},useMutableSource:O8,useSyncExternalStore:D8,useId:G8,unstable_isNewReconciler:!1};function Xi(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cw={isMounted:function(e){return(e=e._reactInternals)?_f(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=es(),a=wu(e),s=Zl(n,a);s.payload=t,r!=null&&(s.callback=r),t=yu(e,s,a),t!==null&&(mo(t,e,a,n),Iy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=es(),a=wu(e),s=Zl(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=yu(e,s,a),t!==null&&(mo(t,e,a,n),Iy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=es(),n=wu(e),a=Zl(r,n);a.tag=2,t!=null&&(a.callback=t),t=yu(e,a,n),t!==null&&(mo(t,e,n,r),Iy(t,e,n))}};function rD(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!mg(r,n)||!mg(a,s):!0}function Q8(e,t,r){var n=!1,a=Ou,s=t.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(a=bs(t)?Kd:Ta.current,n=t.contextTypes,s=(n=n!=null)?om(e,a):Ou),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function nD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cw.enqueueReplaceState(t,t.state,null)}function cN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},BE(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ai(s):(s=bs(t)?Kd:Ta.current,a.context=om(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(lN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Cw.enqueueReplaceState(a,a.state,null),y1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function dm(e,t){try{var r="",n=t;do r+=GX(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function iS(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uN(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bZ=typeof WeakMap=="function"?WeakMap:Map;function Z8(e,t,r){r=Zl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){S1||(S1=!0,bN=n),uN(e,t)},r}function J8(e,t,r){r=Zl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){uN(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){uN(e,t),typeof n!="function"&&(bu===null?bu=new Set([this]):bu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function aD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bZ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=RZ.bind(null,e,t,r),t.then(e,e))}function sD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zl(-1,1),t.tag=2,yu(r,t,1))),r.lanes|=1),e)}var wZ=wc.ReactCurrentOwner,gs=!1;function Ua(e,t,r,n){t.child=e===null?E8(t,null,r,n):cm(t,e.child,r,n)}function oD(e,t,r,n,a){r=r.render;var s=t.ref;return Oh(t,a),n=HE(e,t,r,n,s,a),r=qE(),e!==null&&!gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lc(e,t,a)):(Lr&&r&&DE(t),t.flags|=1,Ua(e,t,n,a),t.child)}function lD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!rT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,e6(e,t,s,n,a)):(e=Vy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:mg,r(o,n)&&e.ref===t.ref)return lc(e,t,a)}return t.flags|=1,e=_u(s,n),e.ref=t.ref,e.return=t,t.child=e}function e6(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(mg(s,n)&&e.ref===t.ref)if(gs=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(gs=!0);else return t.lanes=e.lanes,lc(e,t,a)}return dN(e,t,r,n,a)}function t6(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(wh,Ws),Ws|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(wh,Ws),Ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,kr(wh,Ws),Ws|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,kr(wh,Ws),Ws|=n;return Ua(e,t,a,r),t.child}function r6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function dN(e,t,r,n,a){var s=bs(r)?Kd:Ta.current;return s=om(t,s),Oh(t,a),r=HE(e,t,r,n,s,a),n=qE(),e!==null&&!gs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lc(e,t,a)):(Lr&&n&&DE(t),t.flags|=1,Ua(e,t,r,a),t.child)}function cD(e,t,r,n,a){if(bs(r)){var s=!0;m1(t)}else s=!1;if(Oh(t,a),t.stateNode===null)By(e,t),Q8(t,r,n),cN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ai(u):(u=bs(r)?Kd:Ta.current,u=om(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&nD(t,o,n,u),Bc=!1;var h=t.memoizedState;o.state=h,y1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||ys.current||Bc?(typeof d=="function"&&(lN(t,r,d,n),c=t.memoizedState),(l=Bc||rD(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,A8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xi(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ai(c):(c=bs(r)?Kd:Ta.current,c=om(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&nD(t,o,n,c),Bc=!1,h=t.memoizedState,o.state=h,y1(t,n,o,a);var p=t.memoizedState;l!==f||h!==p||ys.current||Bc?(typeof m=="function"&&(lN(t,r,m,n),p=t.memoizedState),(u=Bc||rD(t,r,u,n,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return fN(e,t,r,n,s,a)}function fN(e,t,r,n,a,s){r6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&K4(t,r,!1),lc(e,t,s);n=t.stateNode,wZ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=cm(t,e.child,null,s),t.child=cm(t,null,l,s)):Ua(e,t,l,s),t.memoizedState=n.state,a&&K4(t,r,!0),t.child}function n6(e){var t=e.stateNode;t.pendingContext?G4(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G4(e,t.context,!1),UE(e,t.containerInfo)}function uD(e,t,r,n,a){return lm(),ME(a),t.flags|=256,Ua(e,t,r,n),t.child}var hN={dehydrated:null,treeContext:null,retryLane:0};function mN(e){return{baseLanes:e,cachePool:null,transitions:null}}function a6(e,t,r){var n=t.pendingProps,a=zr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),kr(zr,a&1),e===null)return iN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Aw(o,n,0,null),e=Ud(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mN(r),t.memoizedState=hN,e):YE(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return _Z(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_u(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=_u(l,s):(s=Ud(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?mN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=hN,n}return s=e.child,e=s.sibling,n=_u(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function YE(e,t){return t=Aw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wx(e,t,r,n){return n!==null&&ME(n),cm(t,e.child,null,r),e=YE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _Z(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=iS(Error(qe(422))),Wx(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Aw({mode:"visible",children:n.children},a,0,null),s=Ud(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&cm(t,e.child,null,o),t.child.memoizedState=mN(o),t.memoizedState=hN,s);if(!(t.mode&1))return Wx(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(qe(419)),n=iS(s,n,void 0),Wx(e,t,o,n)}if(l=(o&e.childLanes)!==0,gs||l){if(n=Wn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,oc(e,a),mo(n,e,a,-1))}return tT(),n=iS(Error(qe(421))),Wx(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=MZ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Zs=xu(a.nextSibling),ei=t,Lr=!0,so=null,e!==null&&(wi[_i++]=Hl,wi[_i++]=ql,wi[_i++]=Yd,Hl=e.id,ql=e.overflow,Yd=t),t=YE(t,n.children),t.flags|=4096,t)}function dD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oN(e.return,t,r)}function oS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function s6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ua(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dD(e,r,t);else if(e.tag===19)dD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(zr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&b1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&b1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oS(t,!0,r,null,s);break;case"together":oS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function By(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qd|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,r=_u(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_u(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function jZ(e,t,r){switch(t.tag){case 3:n6(t),lm();break;case 5:P8(t);break;case 1:bs(t.type)&&m1(t);break;case 4:UE(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;kr(v1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(kr(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?a6(e,t,r):(kr(zr,zr.current&1),e=lc(e,t,r),e!==null?e.sibling:null);kr(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return s6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),kr(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,t6(e,t,r)}return lc(e,t,r)}var i6,pN,o6,l6;i6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pN=function(){};o6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,wd(sl.current);var s=null;switch(r){case"input":a=I2(e,a),n=I2(e,n),s=[];break;case"select":a=qr({},a,{value:void 0}),n=qr({},n,{value:void 0}),s=[];break;case"textarea":a=B2(e,a),n=B2(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=f1)}z2(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(og.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(og.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};l6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gp(e,t){if(!Lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ua(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function SZ(e,t,r){var n=t.pendingProps;switch(RE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ua(t),null;case 1:return bs(t.type)&&h1(),ua(t),null;case 3:return n=t.stateNode,um(),Rr(ys),Rr(Ta),VE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,so!==null&&(jN(so),so=null))),pN(e,t),ua(t),null;case 5:zE(t);var a=wd(yg.current);if(r=t.type,e!==null&&t.stateNode!=null)o6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(qe(166));return ua(t),null}if(e=wd(sl.current),zx(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ko]=t,n[vg]=s,e=(t.mode&1)!==0,r){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(a=0;a<y0.length;a++)Pr(y0[a],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":b4(n,s),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pr("invalid",n);break;case"textarea":_4(n,s),Pr("invalid",n)}z2(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ux(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ux(n.textContent,l,e),a=["children",""+l]):og.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Pr("scroll",n)}switch(r){case"input":Dx(n),w4(n,s,!0);break;case"textarea":Dx(n),j4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=f1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ko]=t,e[vg]=n,i6(e,t,!1,!1),t.stateNode=e;e:{switch(o=V2(r,n),r){case"dialog":Pr("cancel",e),Pr("close",e),a=n;break;case"iframe":case"object":case"embed":Pr("load",e),a=n;break;case"video":case"audio":for(a=0;a<y0.length;a++)Pr(y0[a],e);a=n;break;case"source":Pr("error",e),a=n;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),a=n;break;case"details":Pr("toggle",e),a=n;break;case"input":b4(e,n),a=I2(e,n),Pr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qr({},n,{value:void 0}),Pr("invalid",e);break;case"textarea":_4(e,n),a=B2(e,n),Pr("invalid",e);break;default:a=n}z2(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?$$(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&I$(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&lg(e,c):typeof c=="number"&&lg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(og.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Pr("scroll",e):c!=null&&yE(e,s,c,o))}switch(r){case"input":Dx(e),w4(e,n,!1);break;case"textarea":Dx(e),j4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Eh(e,!!n.multiple,s,!1):n.defaultValue!=null&&Eh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=f1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ua(t),null;case 6:if(e&&t.stateNode!=null)l6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(qe(166));if(r=wd(yg.current),wd(sl.current),zx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ko]=t,(s=n.nodeValue!==r)&&(e=ei,e!==null))switch(e.tag){case 3:Ux(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ux(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ko]=t,t.stateNode=n}return ua(t),null;case 13:if(Rr(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lr&&Zs!==null&&t.mode&1&&!(t.flags&128))k8(),lm(),t.flags|=98560,s=!1;else if(s=zx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(qe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(qe(317));s[Ko]=t}else lm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ua(t),s=!1}else so!==null&&(jN(so),so=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?On===0&&(On=3):tT())),t.updateQueue!==null&&(t.flags|=4),ua(t),null);case 4:return um(),pN(e,t),e===null&&pg(t.stateNode.containerInfo),ua(t),null;case 10:return LE(t.type._context),ua(t),null;case 17:return bs(t.type)&&h1(),ua(t),null;case 19:if(Rr(zr),s=t.memoizedState,s===null)return ua(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Gp(s,!1);else{if(On!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=b1(e),o!==null){for(t.flags|=128,Gp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return kr(zr,zr.current&1|2),t.child}e=e.sibling}s.tail!==null&&an()>fm&&(t.flags|=128,n=!0,Gp(s,!1),t.lanes=4194304)}else{if(!n)if(e=b1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Lr)return ua(t),null}else 2*an()-s.renderingStartTime>fm&&r!==1073741824&&(t.flags|=128,n=!0,Gp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=an(),t.sibling=null,r=zr.current,kr(zr,n?r&1|2:r&1),t):(ua(t),null);case 22:case 23:return eT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ws&1073741824&&(ua(t),t.subtreeFlags&6&&(t.flags|=8192)):ua(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function NZ(e,t){switch(RE(t),t.tag){case 1:return bs(t.type)&&h1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return um(),Rr(ys),Rr(Ta),VE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zE(t),null;case 13:if(Rr(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));lm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rr(zr),null;case 4:return um(),null;case 10:return LE(t.type._context),null;case 22:case 23:return eT(),null;case 24:return null;default:return null}}var Hx=!1,_a=!1,kZ=typeof WeakSet=="function"?WeakSet:Set,it=null;function bh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yr(e,t,n)}else r.current=null}function gN(e,t,r){try{r()}catch(n){Yr(e,t,n)}}var fD=!1;function CZ(e,t){if(J2=c1,e=h8(),OE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(eN={focusedElem:e,selectionRange:r},c1=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Xi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(_){Yr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return p=fD,fD=!1,p}function M0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&gN(t,r,s)}a=a.next}while(a!==n)}}function Ew(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vN(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c6(e){var t=e.alternate;t!==null&&(e.alternate=null,c6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ko],delete t[vg],delete t[nN],delete t[cZ],delete t[uZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u6(e){return e.tag===5||e.tag===3||e.tag===4}function hD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=f1));else if(n!==4&&(e=e.child,e!==null))for(xN(e,t,r),e=e.sibling;e!==null;)xN(e,t,r),e=e.sibling}function yN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yN(e,t,r),e=e.sibling;e!==null;)yN(e,t,r),e=e.sibling}var Yn=null,eo=!1;function Oc(e,t,r){for(r=r.child;r!==null;)d6(e,t,r),r=r.sibling}function d6(e,t,r){if(al&&typeof al.onCommitFiberUnmount=="function")try{al.onCommitFiberUnmount(bw,r)}catch{}switch(r.tag){case 5:_a||bh(r,t);case 6:var n=Yn,a=eo;Yn=null,Oc(e,t,r),Yn=n,eo=a,Yn!==null&&(eo?(e=Yn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Yn.removeChild(r.stateNode));break;case 18:Yn!==null&&(eo?(e=Yn,r=r.stateNode,e.nodeType===8?eS(e.parentNode,r):e.nodeType===1&&eS(e,r),fg(e)):eS(Yn,r.stateNode));break;case 4:n=Yn,a=eo,Yn=r.stateNode.containerInfo,eo=!0,Oc(e,t,r),Yn=n,eo=a;break;case 0:case 11:case 14:case 15:if(!_a&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gN(r,t,o),a=a.next}while(a!==n)}Oc(e,t,r);break;case 1:if(!_a&&(bh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Yr(r,t,l)}Oc(e,t,r);break;case 21:Oc(e,t,r);break;case 22:r.mode&1?(_a=(n=_a)||r.memoizedState!==null,Oc(e,t,r),_a=n):Oc(e,t,r);break;default:Oc(e,t,r)}}function mD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kZ),t.forEach(function(n){var a=FZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Yn=l.stateNode,eo=!1;break e;case 3:Yn=l.stateNode.containerInfo,eo=!0;break e;case 4:Yn=l.stateNode.containerInfo,eo=!0;break e}l=l.return}if(Yn===null)throw Error(qe(160));d6(s,o,a),Yn=null,eo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Yr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f6(t,e),t=t.sibling}function f6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wi(t,e),Mo(e),n&4){try{M0(3,e,e.return),Ew(3,e)}catch(g){Yr(e,e.return,g)}try{M0(5,e,e.return)}catch(g){Yr(e,e.return,g)}}break;case 1:Wi(t,e),Mo(e),n&512&&r!==null&&bh(r,r.return);break;case 5:if(Wi(t,e),Mo(e),n&512&&r!==null&&bh(r,r.return),e.flags&32){var a=e.stateNode;try{lg(a,"")}catch(g){Yr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&R$(a,s),V2(l,o);var u=V2(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?$$(a,f):d==="dangerouslySetInnerHTML"?I$(a,f):d==="children"?lg(a,f):yE(a,d,f,u)}switch(l){case"input":L2(a,s);break;case"textarea":M$(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Eh(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Eh(a,!!s.multiple,s.defaultValue,!0):Eh(a,!!s.multiple,s.multiple?[]:"",!1))}a[vg]=s}catch(g){Yr(e,e.return,g)}}break;case 6:if(Wi(t,e),Mo(e),n&4){if(e.stateNode===null)throw Error(qe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Yr(e,e.return,g)}}break;case 3:if(Wi(t,e),Mo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{fg(t.containerInfo)}catch(g){Yr(e,e.return,g)}break;case 4:Wi(t,e),Mo(e);break;case 13:Wi(t,e),Mo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(ZE=an())),n&4&&mD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,Wi(t,e),_a=u):Wi(t,e),Mo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(h=it,m=h.child,h.tag){case 0:case 11:case 14:case 15:M0(4,h,h.return);break;case 1:bh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Yr(n,r,g)}}break;case 5:bh(h,h.return);break;case 22:if(h.memoizedState!==null){gD(f);continue}}m!==null?(m.return=h,it=m):gD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=L$("display",o))}catch(g){Yr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Yr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wi(t,e),Mo(e),n&4&&mD(e);break;case 21:break;default:Wi(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u6(r)){var n=r;break e}r=r.return}throw Error(qe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(lg(a,""),n.flags&=-33);var s=hD(e);yN(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hD(e);xN(e,l,o);break;default:throw Error(qe(161))}}catch(c){Yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function EZ(e,t,r){it=e,h6(e)}function h6(e,t,r){for(var n=(e.mode&1)!==0;it!==null;){var a=it,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Hx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_a;l=Hx;var u=_a;if(Hx=o,(_a=c)&&!u)for(it=a;it!==null;)o=it,c=o.child,o.tag===22&&o.memoizedState!==null?vD(a):c!==null?(c.return=o,it=c):vD(a);for(;s!==null;)it=s,h6(s),s=s.sibling;it=a,Hx=l,_a=u}pD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,it=s):pD(e)}}function pD(e){for(;it!==null;){var t=it;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||Ew(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_a)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Xi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&J4(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}J4(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}_a||t.flags&512&&vN(t)}catch(h){Yr(t,t.return,h)}}if(t===e){it=null;break}if(r=t.sibling,r!==null){r.return=t.return,it=r;break}it=t.return}}function gD(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var r=t.sibling;if(r!==null){r.return=t.return,it=r;break}it=t.return}}function vD(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ew(4,t)}catch(c){Yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Yr(t,a,c)}}var s=t.return;try{vN(t)}catch(c){Yr(t,s,c)}break;case 5:var o=t.return;try{vN(t)}catch(c){Yr(t,o,c)}}}catch(c){Yr(t,t.return,c)}if(t===e){it=null;break}var l=t.sibling;if(l!==null){l.return=t.return,it=l;break}it=t.return}}var TZ=Math.ceil,j1=wc.ReactCurrentDispatcher,XE=wc.ReactCurrentOwner,Ei=wc.ReactCurrentBatchConfig,rr=0,Wn=null,vn=null,Jn=0,Ws=0,wh=Vu(0),On=0,jg=null,Qd=0,Tw=0,QE=0,F0=null,ms=null,ZE=0,fm=1/0,Ll=null,S1=!1,bN=null,bu=null,qx=!1,ou=null,N1=0,I0=0,wN=null,Uy=-1,zy=0;function es(){return rr&6?an():Uy!==-1?Uy:Uy=an()}function wu(e){return e.mode&1?rr&2&&Jn!==0?Jn&-Jn:fZ.transition!==null?(zy===0&&(zy=Q$()),zy):(e=yr,e!==0||(e=window.event,e=e===void 0?16:a8(e.type)),e):1}function mo(e,t,r,n){if(50<I0)throw I0=0,wN=null,Error(qe(185));Ov(e,r,n),(!(rr&2)||e!==Wn)&&(e===Wn&&(!(rr&2)&&(Tw|=r),On===4&&qc(e,Jn)),ws(e,n),r===1&&rr===0&&!(t.mode&1)&&(fm=an()+500,Nw&&Wu()))}function ws(e,t){var r=e.callbackNode;fQ(e,t);var n=l1(e,e===Wn?Jn:0);if(n===0)r!==null&&k4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&k4(r),t===1)e.tag===0?dZ(xD.bind(null,e)):j8(xD.bind(null,e)),oZ(function(){!(rr&6)&&Wu()}),r=null;else{switch(Z$(n)){case 1:r=SE;break;case 4:r=Y$;break;case 16:r=o1;break;case 536870912:r=X$;break;default:r=o1}r=w6(r,m6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m6(e,t){if(Uy=-1,zy=0,rr&6)throw Error(qe(327));var r=e.callbackNode;if(Dh()&&e.callbackNode!==r)return null;var n=l1(e,e===Wn?Jn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=k1(e,n);else{t=n;var a=rr;rr|=2;var s=g6();(Wn!==e||Jn!==t)&&(Ll=null,fm=an()+500,Bd(e,t));do try{OZ();break}catch(l){p6(e,l)}while(!0);IE(),j1.current=s,rr=a,vn!==null?t=0:(Wn=null,Jn=0,t=On)}if(t!==0){if(t===2&&(a=K2(e),a!==0&&(n=a,t=_N(e,a))),t===1)throw r=jg,Bd(e,0),qc(e,n),ws(e,an()),r;if(t===6)qc(e,n);else{if(a=e.current.alternate,!(n&30)&&!AZ(a)&&(t=k1(e,n),t===2&&(s=K2(e),s!==0&&(n=s,t=_N(e,s))),t===1))throw r=jg,Bd(e,0),qc(e,n),ws(e,an()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(qe(345));case 2:cd(e,ms,Ll);break;case 3:if(qc(e,n),(n&130023424)===n&&(t=ZE+500-an(),10<t)){if(l1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){es(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=rN(cd.bind(null,e,ms,Ll),t);break}cd(e,ms,Ll);break;case 4:if(qc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ho(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=an()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TZ(n/1960))-n,10<n){e.timeoutHandle=rN(cd.bind(null,e,ms,Ll),n);break}cd(e,ms,Ll);break;case 5:cd(e,ms,Ll);break;default:throw Error(qe(329))}}}return ws(e,an()),e.callbackNode===r?m6.bind(null,e):null}function _N(e,t){var r=F0;return e.current.memoizedState.isDehydrated&&(Bd(e,t).flags|=256),e=k1(e,t),e!==2&&(t=ms,ms=r,t!==null&&jN(t)),e}function jN(e){ms===null?ms=e:ms.push.apply(ms,e)}function AZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!yo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t){for(t&=~QE,t&=~Tw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ho(t),n=1<<r;e[r]=-1,t&=~n}}function xD(e){if(rr&6)throw Error(qe(327));Dh();var t=l1(e,0);if(!(t&1))return ws(e,an()),null;var r=k1(e,t);if(e.tag!==0&&r===2){var n=K2(e);n!==0&&(t=n,r=_N(e,n))}if(r===1)throw r=jg,Bd(e,0),qc(e,t),ws(e,an()),r;if(r===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cd(e,ms,Ll),ws(e,an()),null}function JE(e,t){var r=rr;rr|=1;try{return e(t)}finally{rr=r,rr===0&&(fm=an()+500,Nw&&Wu())}}function Zd(e){ou!==null&&ou.tag===0&&!(rr&6)&&Dh();var t=rr;rr|=1;var r=Ei.transition,n=yr;try{if(Ei.transition=null,yr=1,e)return e()}finally{yr=n,Ei.transition=r,rr=t,!(rr&6)&&Wu()}}function eT(){Ws=wh.current,Rr(wh)}function Bd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iZ(r)),vn!==null)for(r=vn.return;r!==null;){var n=r;switch(RE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&h1();break;case 3:um(),Rr(ys),Rr(Ta),VE();break;case 5:zE(n);break;case 4:um();break;case 13:Rr(zr);break;case 19:Rr(zr);break;case 10:LE(n.type._context);break;case 22:case 23:eT()}r=r.return}if(Wn=e,vn=e=_u(e.current,null),Jn=Ws=t,On=0,jg=null,QE=Tw=Qd=0,ms=F0=null,bd!==null){for(t=0;t<bd.length;t++)if(r=bd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}bd=null}return e}function p6(e,t){do{var r=vn;try{if(IE(),Ly.current=_1,w1){for(var n=Hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}w1=!1}if(Xd=0,Un=En=Hr=null,R0=!1,bg=0,XE.current=null,r===null||r.return===null){On=1,jg=t,vn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Jn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sD(o);if(m!==null){m.flags&=-257,iD(m,o,l,s,t),m.mode&1&&aD(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){aD(s,u,t),tT();break e}c=Error(qe(426))}}else if(Lr&&l.mode&1){var v=sD(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iD(v,o,l,s,t),ME(dm(c,l));break e}}s=c=dm(c,l),On!==4&&(On=2),F0===null?F0=[s]:F0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=Z8(s,c,t);Z4(s,y);break e;case 1:l=c;var b=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bu===null||!bu.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=J8(s,l,t);Z4(s,_);break e}}s=s.return}while(s!==null)}x6(r)}catch(j){t=j,vn===r&&r!==null&&(vn=r=r.return);continue}break}while(!0)}function g6(){var e=j1.current;return j1.current=_1,e===null?_1:e}function tT(){(On===0||On===3||On===2)&&(On=4),Wn===null||!(Qd&268435455)&&!(Tw&268435455)||qc(Wn,Jn)}function k1(e,t){var r=rr;rr|=2;var n=g6();(Wn!==e||Jn!==t)&&(Ll=null,Bd(e,t));do try{PZ();break}catch(a){p6(e,a)}while(!0);if(IE(),rr=r,j1.current=n,vn!==null)throw Error(qe(261));return Wn=null,Jn=0,On}function PZ(){for(;vn!==null;)v6(vn)}function OZ(){for(;vn!==null&&!nQ();)v6(vn)}function v6(e){var t=b6(e.alternate,e,Ws);e.memoizedProps=e.pendingProps,t===null?x6(e):vn=t,XE.current=null}function x6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NZ(r,t),r!==null){r.flags&=32767,vn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{On=6,vn=null;return}}else if(r=SZ(r,t,Ws),r!==null){vn=r;return}if(t=t.sibling,t!==null){vn=t;return}vn=t=e}while(t!==null);On===0&&(On=5)}function cd(e,t,r){var n=yr,a=Ei.transition;try{Ei.transition=null,yr=1,DZ(e,t,r,n)}finally{Ei.transition=a,yr=n}return null}function DZ(e,t,r,n){do Dh();while(ou!==null);if(rr&6)throw Error(qe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(hQ(e,s),e===Wn&&(vn=Wn=null,Jn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qx||(qx=!0,w6(o1,function(){return Dh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ei.transition,Ei.transition=null;var o=yr;yr=1;var l=rr;rr|=4,XE.current=null,CZ(e,r),f6(r,e),JQ(eN),c1=!!J2,eN=J2=null,e.current=r,EZ(r),aQ(),rr=l,yr=o,Ei.transition=s}else e.current=r;if(qx&&(qx=!1,ou=e,N1=a),s=e.pendingLanes,s===0&&(bu=null),oQ(r.stateNode),ws(e,an()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(S1)throw S1=!1,e=bN,bN=null,e;return N1&1&&e.tag!==0&&Dh(),s=e.pendingLanes,s&1?e===wN?I0++:(I0=0,wN=e):I0=0,Wu(),null}function Dh(){if(ou!==null){var e=Z$(N1),t=Ei.transition,r=yr;try{if(Ei.transition=null,yr=16>e?16:e,ou===null)var n=!1;else{if(e=ou,ou=null,N1=0,rr&6)throw Error(qe(331));var a=rr;for(rr|=4,it=e.current;it!==null;){var s=it,o=s.child;if(it.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(it=u;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:M0(8,d,s)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var h=d.sibling,m=d.return;if(c6(d),d===u){it=null;break}if(h!==null){h.return=m,it=h;break}it=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}it=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,it=o;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:M0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,it=y;break e}it=s.return}}var b=e.current;for(it=b;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=b;it!==null;){if(l=it,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ew(9,l)}}catch(j){Yr(l,l.return,j)}if(l===o){it=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,it=_;break e}it=l.return}}if(rr=a,Wu(),al&&typeof al.onPostCommitFiberRoot=="function")try{al.onPostCommitFiberRoot(bw,e)}catch{}n=!0}return n}finally{yr=r,Ei.transition=t}}return!1}function yD(e,t,r){t=dm(r,t),t=Z8(e,t,1),e=yu(e,t,1),t=es(),e!==null&&(Ov(e,1,t),ws(e,t))}function Yr(e,t,r){if(e.tag===3)yD(e,e,r);else for(;t!==null;){if(t.tag===3){yD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bu===null||!bu.has(n))){e=dm(r,e),e=J8(t,e,1),t=yu(t,e,1),e=es(),t!==null&&(Ov(t,1,e),ws(t,e));break}}t=t.return}}function RZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=es(),e.pingedLanes|=e.suspendedLanes&r,Wn===e&&(Jn&r)===r&&(On===4||On===3&&(Jn&130023424)===Jn&&500>an()-ZE?Bd(e,0):QE|=r),ws(e,t)}function y6(e,t){t===0&&(e.mode&1?(t=Fx,Fx<<=1,!(Fx&130023424)&&(Fx=4194304)):t=1);var r=es();e=oc(e,t),e!==null&&(Ov(e,t,r),ws(e,r))}function MZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),y6(e,r)}function FZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(qe(314))}n!==null&&n.delete(t),y6(e,r)}var b6;b6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ys.current)gs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gs=!1,jZ(e,t,r);gs=!!(e.flags&131072)}else gs=!1,Lr&&t.flags&1048576&&S8(t,g1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;By(e,t),e=t.pendingProps;var a=om(t,Ta.current);Oh(t,r),a=HE(null,t,n,e,a,r);var s=qE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bs(n)?(s=!0,m1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,BE(t),a.updater=Cw,t.stateNode=a,a._reactInternals=t,cN(t,n,e,r),t=fN(null,t,n,!0,s,r)):(t.tag=0,Lr&&s&&DE(t),Ua(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(By(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=LZ(n),e=Xi(n,e),a){case 0:t=dN(null,t,n,e,r);break e;case 1:t=cD(null,t,n,e,r);break e;case 11:t=oD(null,t,n,e,r);break e;case 14:t=lD(null,t,n,Xi(n.type,e),r);break e}throw Error(qe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xi(n,a),dN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xi(n,a),cD(e,t,n,a,r);case 3:e:{if(n6(t),e===null)throw Error(qe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,A8(e,t),y1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=dm(Error(qe(423)),t),t=uD(e,t,n,r,a);break e}else if(n!==a){a=dm(Error(qe(424)),t),t=uD(e,t,n,r,a);break e}else for(Zs=xu(t.stateNode.containerInfo.firstChild),ei=t,Lr=!0,so=null,r=E8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lm(),n===a){t=lc(e,t,r);break e}Ua(e,t,n,r)}t=t.child}return t;case 5:return P8(t),e===null&&iN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,tN(n,a)?o=null:s!==null&&tN(n,s)&&(t.flags|=32),r6(e,t),Ua(e,t,o,r),t.child;case 6:return e===null&&iN(t),null;case 13:return a6(e,t,r);case 4:return UE(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cm(t,null,n,r):Ua(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xi(n,a),oD(e,t,n,a,r);case 7:return Ua(e,t,t.pendingProps,r),t.child;case 8:return Ua(e,t,t.pendingProps.children,r),t.child;case 12:return Ua(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,kr(v1,n._currentValue),n._currentValue=o,s!==null)if(yo(s.value,o)){if(s.children===a.children&&!ys.current){t=lc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Zl(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),oN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(qe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),oN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ua(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Oh(t,r),a=Ai(a),n=n(a),t.flags|=1,Ua(e,t,n,r),t.child;case 14:return n=t.type,a=Xi(n,t.pendingProps),a=Xi(n.type,a),lD(e,t,n,a,r);case 15:return e6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Xi(n,a),By(e,t),t.tag=1,bs(n)?(e=!0,m1(t)):e=!1,Oh(t,r),Q8(t,n,a),cN(t,n,a,r),fN(null,t,n,!0,e,r);case 19:return s6(e,t,r);case 22:return t6(e,t,r)}throw Error(qe(156,t.tag))};function w6(e,t){return K$(e,t)}function IZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(e,t,r,n){return new IZ(e,t,r,n)}function rT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LZ(e){if(typeof e=="function")return rT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wE)return 11;if(e===_E)return 14}return 2}function _u(e,t){var r=e.alternate;return r===null?(r=ki(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vy(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")rT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dh:return Ud(r.children,a,s,t);case bE:o=8,a|=8;break;case D2:return e=ki(12,r,t,a|2),e.elementType=D2,e.lanes=s,e;case R2:return e=ki(13,r,t,a),e.elementType=R2,e.lanes=s,e;case M2:return e=ki(19,r,t,a),e.elementType=M2,e.lanes=s,e;case P$:return Aw(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T$:o=10;break e;case A$:o=9;break e;case wE:o=11;break e;case _E:o=14;break e;case $c:o=16,n=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=ki(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ud(e,t,r,n){return e=ki(7,e,n,t),e.lanes=r,e}function Aw(e,t,r,n){return e=ki(22,e,n,t),e.elementType=P$,e.lanes=r,e.stateNode={isHidden:!1},e}function lS(e,t,r){return e=ki(6,e,null,t),e.lanes=r,e}function cS(e,t,r){return t=ki(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Z(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vj(0),this.expirationTimes=Vj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vj(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function nT(e,t,r,n,a,s,o,l,c){return e=new $Z(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ki(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},BE(s),e}function BZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _6(e){if(!e)return Ou;e=e._reactInternals;e:{if(_f(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var r=e.type;if(bs(r))return _8(e,r,t)}return t}function j6(e,t,r,n,a,s,o,l,c){return e=nT(r,n,!0,e,a,s,o,l,c),e.context=_6(null),r=e.current,n=es(),a=wu(r),s=Zl(n,a),s.callback=t??null,yu(r,s,a),e.current.lanes=a,Ov(e,a,n),ws(e,n),e}function Pw(e,t,r,n){var a=t.current,s=es(),o=wu(a);return r=_6(r),t.context===null?t.context=r:t.pendingContext=r,t=Zl(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=yu(a,t,o),e!==null&&(mo(e,a,o,s),Iy(e,a,o)),o}function C1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function aT(e,t){bD(e,t),(e=e.alternate)&&bD(e,t)}function UZ(){return null}var S6=typeof reportError=="function"?reportError:function(e){console.error(e)};function sT(e){this._internalRoot=e}Ow.prototype.render=sT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));Pw(e,t,null,null)};Ow.prototype.unmount=sT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zd(function(){Pw(null,e,null,null)}),t[ic]=null}};function Ow(e){this._internalRoot=e}Ow.prototype.unstable_scheduleHydration=function(e){if(e){var t=t8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hc.length&&t!==0&&t<Hc[r].priority;r++);Hc.splice(r,0,e),r===0&&n8(e)}};function iT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wD(){}function zZ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=C1(o);s.call(u)}}var o=j6(t,n,e,0,null,!1,!1,"",wD);return e._reactRootContainer=o,e[ic]=o.current,pg(e.nodeType===8?e.parentNode:e),Zd(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=C1(c);l.call(u)}}var c=nT(e,0,!1,null,null,!1,!1,"",wD);return e._reactRootContainer=c,e[ic]=c.current,pg(e.nodeType===8?e.parentNode:e),Zd(function(){Pw(t,c,r,n)}),c}function Rw(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=C1(o);l.call(c)}}Pw(t,o,e,a)}else o=zZ(r,t,e,a,n);return C1(o)}J$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=x0(t.pendingLanes);r!==0&&(NE(t,r|1),ws(t,an()),!(rr&6)&&(fm=an()+500,Wu()))}break;case 13:Zd(function(){var n=oc(e,1);if(n!==null){var a=es();mo(n,e,1,a)}}),aT(e,1)}};kE=function(e){if(e.tag===13){var t=oc(e,134217728);if(t!==null){var r=es();mo(t,e,134217728,r)}aT(e,134217728)}};e8=function(e){if(e.tag===13){var t=wu(e),r=oc(e,t);if(r!==null){var n=es();mo(r,e,t,n)}aT(e,t)}};t8=function(){return yr};r8=function(e,t){var r=yr;try{return yr=e,t()}finally{yr=r}};H2=function(e,t,r){switch(t){case"input":if(L2(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Sw(n);if(!a)throw Error(qe(90));D$(n),L2(n,a)}}}break;case"textarea":M$(e,r);break;case"select":t=r.value,t!=null&&Eh(e,!!r.multiple,t,!1)}};z$=JE;V$=Zd;var VZ={usingClientEntryPoint:!1,Events:[Rv,ph,Sw,B$,U$,JE]},Kp={findFiberByHostInstance:yd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WZ={bundleType:Kp.bundleType,version:Kp.version,rendererPackageName:Kp.rendererPackageName,rendererConfig:Kp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q$(e),e===null?null:e.stateNode},findFiberByHostInstance:Kp.findFiberByHostInstance||UZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gx.isDisabled&&Gx.supportsFiber)try{bw=Gx.inject(WZ),al=Gx}catch{}}ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VZ;ci.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iT(t))throw Error(qe(200));return BZ(e,t,null,r)};ci.createRoot=function(e,t){if(!iT(e))throw Error(qe(299));var r=!1,n="",a=S6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=nT(e,1,!1,null,null,r,!1,n,a),e[ic]=t.current,pg(e.nodeType===8?e.parentNode:e),new sT(t)};ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=q$(t),e=e===null?null:e.stateNode,e};ci.flushSync=function(e){return Zd(e)};ci.hydrate=function(e,t,r){if(!Dw(t))throw Error(qe(200));return Rw(null,e,t,!0,r)};ci.hydrateRoot=function(e,t,r){if(!iT(e))throw Error(qe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=S6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=j6(t,null,e,1,r??null,a,!1,s,o),e[ic]=t.current,pg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ow(t)};ci.render=function(e,t,r){if(!Dw(t))throw Error(qe(200));return Rw(null,e,t,!1,r)};ci.unmountComponentAtNode=function(e){if(!Dw(e))throw Error(qe(40));return e._reactRootContainer?(Zd(function(){Rw(null,null,e,!1,function(){e._reactRootContainer=null,e[ic]=null})}),!0):!1};ci.unstable_batchedUpdates=JE;ci.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dw(r))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return Rw(e,t,r,!1,n)};ci.version="18.3.1-next-f1338f8080-20240426";function N6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N6)}catch(e){console.error(e)}}N6(),N$.exports=ci;var up=N$.exports;const HZ=pr(up);var k6,_D=up;k6=_D.createRoot,_D.hydrateRoot;var Fv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jd=typeof window>"u"||"Deno"in globalThis;function hs(){}function qZ(e,t){return typeof e=="function"?e(t):e}function SN(e){return typeof e=="number"&&e>=0&&e!==1/0}function C6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ju(e,t){return typeof e=="function"?e(t):e}function bi(e,t){return typeof e=="function"?e(t):e}function jD(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==oT(o,t.options))return!1}else if(!Ng(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function SD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Sg(t.options.mutationKey)!==Sg(s))return!1}else if(!Ng(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function oT(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sg)(e)}function Sg(e){return JSON.stringify(e,(t,r)=>kN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ng(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ng(e[r],t[r])):!1}function E6(e,t){if(e===t)return e;const r=ND(e)&&ND(t);if(r||kN(e)&&kN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=E6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function NN(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ND(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kN(e){if(!kD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!kD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kD(e){return Object.prototype.toString.call(e)==="[object Object]"}function GZ(e){return new Promise(t=>{setTimeout(t,e)})}function CN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?E6(e,t):t}function KZ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function YZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lT=Symbol();function T6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function XZ(e,t){return typeof e=="function"?e(...t):!!e}var Pd,Zc,Kh,s$,QZ=(s$=class extends Fv{constructor(){super();Nt(this,Pd);Nt(this,Zc);Nt(this,Kh);lt(this,Kh,t=>{if(!Jd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_e(this,Zc)||this.setEventListener(_e(this,Kh))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,Zc))==null||t.call(this),lt(this,Zc,void 0))}setEventListener(t){var r;lt(this,Kh,t),(r=_e(this,Zc))==null||r.call(this),lt(this,Zc,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){_e(this,Pd)!==t&&(lt(this,Pd,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _e(this,Pd)=="boolean"?_e(this,Pd):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pd=new WeakMap,Zc=new WeakMap,Kh=new WeakMap,s$),cT=new QZ,Yh,Jc,Xh,i$,ZZ=(i$=class extends Fv{constructor(){super();Nt(this,Yh,!0);Nt(this,Jc);Nt(this,Xh);lt(this,Xh,t=>{if(!Jd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_e(this,Jc)||this.setEventListener(_e(this,Xh))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,Jc))==null||t.call(this),lt(this,Jc,void 0))}setEventListener(t){var r;lt(this,Xh,t),(r=_e(this,Jc))==null||r.call(this),lt(this,Jc,t(this.setOnline.bind(this)))}setOnline(t){_e(this,Yh)!==t&&(lt(this,Yh,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return _e(this,Yh)}},Yh=new WeakMap,Jc=new WeakMap,Xh=new WeakMap,i$),E1=new ZZ;function EN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function JZ(e){return Math.min(1e3*2**e,3e4)}function A6(e){return(e??"online")==="online"?E1.isOnline():!0}var P6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function uS(e){return e instanceof P6}function O6(e){let t=!1,r=0,n=!1,a;const s=EN(),o=g=>{var v;n||(h(new P6(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>cT.isFocused()&&(e.networkMode==="always"||E1.isOnline())&&e.canRun(),d=()=>A6(e.networkMode)&&e.canRun(),f=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),s.resolve(g))},h=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),s.reject(g))},m=()=>new Promise(g=>{var v;a=y=>{(n||u())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(n)return;const b=e.retry??(Jd?0:3),w=e.retryDelay??JZ,_=typeof w=="function"?w(r,y):w,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!j){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),GZ(_).then(()=>u()?void 0:m()).then(()=>{t?h(y):p()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var eJ=e=>setTimeout(e,0);function tJ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=eJ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Zn=tJ(),Od,o$,D6=(o$=class{constructor(){Nt(this,Od)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SN(this.gcTime)&&lt(this,Od,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jd?1/0:5*60*1e3))}clearGcTimeout(){_e(this,Od)&&(clearTimeout(_e(this,Od)),lt(this,Od,void 0))}},Od=new WeakMap,o$),Qh,Dd,yi,Rd,ya,Cv,Md,Zi,Il,l$,rJ=(l$=class extends D6{constructor(t){super();Nt(this,Zi);Nt(this,Qh);Nt(this,Dd);Nt(this,yi);Nt(this,Rd);Nt(this,ya);Nt(this,Cv);Nt(this,Md);lt(this,Md,!1),lt(this,Cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],lt(this,Rd,t.client),lt(this,yi,_e(this,Rd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,lt(this,Qh,nJ(this.options)),this.state=t.state??_e(this,Qh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_e(this,ya))==null?void 0:t.promise}setOptions(t){this.options={..._e(this,Cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_e(this,yi).remove(this)}setData(t,r){const n=CN(this.state.data,t,this.options);return Gt(this,Zi,Il).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Gt(this,Zi,Il).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=_e(this,ya))==null?void 0:n.promise;return(a=_e(this,ya))==null||a.cancel(t),r?r.then(hs).catch(hs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,Qh))}isActive(){return this.observers.some(t=>bi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ju(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!C6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_e(this,ya))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_e(this,ya))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_e(this,yi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_e(this,ya)&&(_e(this,Md)?_e(this,ya).cancel({revert:!0}):_e(this,ya).cancelRetry()),this.scheduleGc()),_e(this,yi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Gt(this,Zi,Il).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_e(this,ya))return _e(this,ya).continueRetry(),_e(this,ya).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(lt(this,Md,!0),n.signal)})},s=()=>{const h=T6(this.options,r),p=(()=>{const g={client:_e(this,Rd),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return lt(this,Md,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_e(this,Rd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),lt(this,Dd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Gt(this,Zi,Il).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,g,v;uS(h)&&h.silent||Gt(this,Zi,Il).call(this,{type:"error",error:h}),uS(h)||((p=(m=_e(this,yi).config).onError)==null||p.call(m,h,this),(v=(g=_e(this,yi).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return lt(this,ya,O6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(m=_e(this,yi).config).onSuccess)==null||p.call(m,h,this),(v=(g=_e(this,yi).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Gt(this,Zi,Il).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Gt(this,Zi,Il).call(this,{type:"pause"})},onContinue:()=>{Gt(this,Zi,Il).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),_e(this,ya).start()}},Qh=new WeakMap,Dd=new WeakMap,yi=new WeakMap,Rd=new WeakMap,ya=new WeakMap,Cv=new WeakMap,Md=new WeakMap,Zi=new WeakSet,Il=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...R6(n.data,this.options),fetchMeta:t.meta??null};case"success":return lt(this,Dd,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return uS(a)&&a.revert&&_e(this,Dd)?{..._e(this,Dd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_e(this,yi).notify({query:this,type:"updated",action:t})})},l$);function R6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:A6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ho,c$,aJ=(c$=class extends Fv{constructor(t={}){super();Nt(this,Ho);this.config=t,lt(this,Ho,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??oT(a,r);let o=this.get(s);return o||(o=new rJ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){_e(this,Ho).has(t.queryHash)||(_e(this,Ho).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_e(this,Ho).get(t.queryHash);r&&(t.destroy(),r===t&&_e(this,Ho).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Zn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _e(this,Ho).get(t)}getAll(){return[..._e(this,Ho).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jD(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>jD(t,n)):r}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ho=new WeakMap,c$),qo,$a,Fd,Go,Ic,u$,sJ=(u$=class extends D6{constructor(t){super();Nt(this,Go);Nt(this,qo);Nt(this,$a);Nt(this,Fd);this.mutationId=t.mutationId,lt(this,$a,t.mutationCache),lt(this,qo,[]),this.state=t.state||iJ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_e(this,qo).includes(t)||(_e(this,qo).push(t),this.clearGcTimeout(),_e(this,$a).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){lt(this,qo,_e(this,qo).filter(r=>r!==t)),this.scheduleGc(),_e(this,$a).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_e(this,qo).length||(this.state.status==="pending"?this.scheduleGc():_e(this,$a).remove(this))}continue(){var t;return((t=_e(this,Fd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,p,g,v,y,b,w,_,j,N,S,k;const r=()=>{Gt(this,Go,Ic).call(this,{type:"continue"})};lt(this,Fd,O6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{Gt(this,Go,Ic).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{Gt(this,Go,Ic).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_e(this,$a).canRun(this)}));const n=this.state.status==="pending",a=!_e(this,Fd).canStart();try{if(n)r();else{Gt(this,Go,Ic).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=_e(this,$a).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));E!==this.state.context&&Gt(this,Go,Ic).call(this,{type:"pending",context:E,variables:t,isPaused:a})}const C=await _e(this,Fd).start();return await((d=(u=_e(this,$a).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((p=(m=_e(this,$a).config).onSettled)==null?void 0:p.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,C,null,t,this.state.context)),Gt(this,Go,Ic).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=_e(this,$a).config).onError)==null?void 0:b.call(y,C,t,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,C,t,this.state.context)),await((N=(j=_e(this,$a).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{Gt(this,Go,Ic).call(this,{type:"error",error:C})}}finally{_e(this,$a).runNext(this)}}},qo=new WeakMap,$a=new WeakMap,Fd=new WeakMap,Go=new WeakSet,Ic=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{_e(this,qo).forEach(n=>{n.onMutationUpdate(t)}),_e(this,$a).notify({mutation:this,type:"updated",action:t})})},u$);function iJ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zl,Ji,Ev,d$,oJ=(d$=class extends Fv{constructor(t={}){super();Nt(this,zl);Nt(this,Ji);Nt(this,Ev);this.config=t,lt(this,zl,new Set),lt(this,Ji,new Map),lt(this,Ev,0)}build(t,r,n){const a=new sJ({mutationCache:this,mutationId:++Tx(this,Ev)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){_e(this,zl).add(t);const r=Kx(t);if(typeof r=="string"){const n=_e(this,Ji).get(r);n?n.push(t):_e(this,Ji).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_e(this,zl).delete(t)){const r=Kx(t);if(typeof r=="string"){const n=_e(this,Ji).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&_e(this,Ji).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kx(t);if(typeof r=="string"){const n=_e(this,Ji).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kx(t);if(typeof r=="string"){const a=(n=_e(this,Ji).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{_e(this,zl).forEach(t=>{this.notify({type:"removed",mutation:t})}),_e(this,zl).clear(),_e(this,Ji).clear()})}getAll(){return Array.from(_e(this,zl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>SD(r,n))}findAll(t={}){return this.getAll().filter(r=>SD(t,r))}notify(t){Zn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Zn.batch(()=>Promise.all(t.map(r=>r.continue().catch(hs))))}},zl=new WeakMap,Ji=new WeakMap,Ev=new WeakMap,d$);function Kx(e){var t;return(t=e.options.scope)==null?void 0:t.id}function CD(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=T6(t.options,t.fetchOptions),b=async(w,_,j)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return v(P),P})(),k=await y(S),{maxPages:C}=t.options,E=j?YZ:KZ;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,_,C)}};if(a&&s.length){const w=a==="backward",_=w?lJ:ED,j={pages:s,pageParams:o},N=_(n,j);l=await b(j,N,w)}else{const w=e??s.length;do{const _=c===0?o[0]??n.initialPageParam:ED(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ED(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lJ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gr,eu,tu,Zh,Jh,ru,em,tm,f$,cJ=(f$=class{constructor(e={}){Nt(this,Gr);Nt(this,eu);Nt(this,tu);Nt(this,Zh);Nt(this,Jh);Nt(this,ru);Nt(this,em);Nt(this,tm);lt(this,Gr,e.queryCache||new aJ),lt(this,eu,e.mutationCache||new oJ),lt(this,tu,e.defaultOptions||{}),lt(this,Zh,new Map),lt(this,Jh,new Map),lt(this,ru,0)}mount(){Tx(this,ru)._++,_e(this,ru)===1&&(lt(this,em,cT.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,Gr).onFocus())})),lt(this,tm,E1.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,Gr).onOnline())})))}unmount(){var e,t;Tx(this,ru)._--,_e(this,ru)===0&&((e=_e(this,em))==null||e.call(this),lt(this,em,void 0),(t=_e(this,tm))==null||t.call(this),lt(this,tm,void 0))}isFetching(e){return _e(this,Gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _e(this,eu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_e(this,Gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_e(this,Gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ju(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return _e(this,Gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=_e(this,Gr).get(n.queryHash),s=a==null?void 0:a.state.data,o=qZ(t,s);if(o!==void 0)return _e(this,Gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Zn.batch(()=>_e(this,Gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_e(this,Gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_e(this,Gr);Zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_e(this,Gr);return Zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Zn.batch(()=>_e(this,Gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(hs).catch(hs)}invalidateQueries(e,t={}){return Zn.batch(()=>(_e(this,Gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Zn.batch(()=>_e(this,Gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(hs)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(hs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_e(this,Gr).build(this,t);return r.isStaleByTime(ju(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(hs).catch(hs)}fetchInfiniteQuery(e){return e.behavior=CD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(hs).catch(hs)}ensureInfiniteQueryData(e){return e.behavior=CD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return E1.isOnline()?_e(this,eu).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,Gr)}getMutationCache(){return _e(this,eu)}getDefaultOptions(){return _e(this,tu)}setDefaultOptions(e){lt(this,tu,e)}setQueryDefaults(e,t){_e(this,Zh).set(Sg(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._e(this,Zh).values()],r={};return t.forEach(n=>{Ng(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){_e(this,Jh).set(Sg(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._e(this,Jh).values()],r={};return t.forEach(n=>{Ng(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._e(this,tu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._e(this,tu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_e(this,Gr).clear(),_e(this,eu).clear()}},Gr=new WeakMap,eu=new WeakMap,tu=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,ru=new WeakMap,em=new WeakMap,tm=new WeakMap,f$),us,Kt,Tv,Ba,Id,rm,nu,au,Av,nm,am,Ld,$d,su,sm,mr,b0,TN,AN,PN,ON,DN,RN,MN,M6,h$,uJ=(h$=class extends Fv{constructor(t,r){super();Nt(this,mr);Nt(this,us);Nt(this,Kt);Nt(this,Tv);Nt(this,Ba);Nt(this,Id);Nt(this,rm);Nt(this,nu);Nt(this,au);Nt(this,Av);Nt(this,nm);Nt(this,am);Nt(this,Ld);Nt(this,$d);Nt(this,su);Nt(this,sm,new Set);this.options=r,lt(this,us,t),lt(this,au,null),lt(this,nu,EN()),this.options.experimental_prefetchInRender||_e(this,nu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,Kt).addObserver(this),TD(_e(this,Kt),this.options)?Gt(this,mr,b0).call(this):this.updateResult(),Gt(this,mr,ON).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return FN(_e(this,Kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return FN(_e(this,Kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Gt(this,mr,DN).call(this),Gt(this,mr,RN).call(this),_e(this,Kt).removeObserver(this)}setOptions(t){const r=this.options,n=_e(this,Kt);if(this.options=_e(this,us).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bi(this.options.enabled,_e(this,Kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Gt(this,mr,MN).call(this),_e(this,Kt).setOptions(this.options),r._defaulted&&!NN(this.options,r)&&_e(this,us).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,Kt),observer:this});const a=this.hasListeners();a&&AD(_e(this,Kt),n,this.options,r)&&Gt(this,mr,b0).call(this),this.updateResult(),a&&(_e(this,Kt)!==n||bi(this.options.enabled,_e(this,Kt))!==bi(r.enabled,_e(this,Kt))||ju(this.options.staleTime,_e(this,Kt))!==ju(r.staleTime,_e(this,Kt)))&&Gt(this,mr,TN).call(this);const s=Gt(this,mr,AN).call(this);a&&(_e(this,Kt)!==n||bi(this.options.enabled,_e(this,Kt))!==bi(r.enabled,_e(this,Kt))||s!==_e(this,su))&&Gt(this,mr,PN).call(this,s)}getOptimisticResult(t){const r=_e(this,us).getQueryCache().build(_e(this,us),t),n=this.createResult(r,t);return fJ(this,n)&&(lt(this,Ba,n),lt(this,rm,this.options),lt(this,Id,_e(this,Kt).state)),n}getCurrentResult(){return _e(this,Ba)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){_e(this,sm).add(t)}getCurrentQuery(){return _e(this,Kt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_e(this,us).defaultQueryOptions(t),n=_e(this,us).getQueryCache().build(_e(this,us),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Gt(this,mr,b0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_e(this,Ba)))}createResult(t,r){var C;const n=_e(this,Kt),a=this.options,s=_e(this,Ba),o=_e(this,Id),l=_e(this,rm),u=t!==n?t.state:_e(this,Tv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&TD(t,r),T=E&&AD(t,n,r,a);(P||T)&&(f={...f,...R6(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let E;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=s.data,y=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=_e(this,am))==null?void 0:C.state.data,_e(this,am)):r.placeholderData,E!==void 0&&(v="success",m=CN(s==null?void 0:s.data,E,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===_e(this,Av))m=_e(this,nm);else try{lt(this,Av,r.select),m=r.select(m),m=CN(s==null?void 0:s.data,m,r),lt(this,nm,m),lt(this,au,null)}catch(E){lt(this,au,E)}_e(this,au)&&(p=_e(this,au),m=_e(this,nm),g=Date.now(),v="error");const b=f.fetchStatus==="fetching",w=v==="pending",_=v==="error",j=w&&b,N=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:w,isSuccess:v==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&N,isStale:uT(t,r),refetch:this.refetch,promise:_e(this,nu),isEnabled:bi(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=V=>{k.status==="error"?V.reject(k.error):k.data!==void 0&&V.resolve(k.data)},P=()=>{const V=lt(this,nu,k.promise=EN());E(V)},T=_e(this,nu);switch(T.status){case"pending":t.queryHash===n.queryHash&&E(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&P();break}}return k}updateResult(){const t=_e(this,Ba),r=this.createResult(_e(this,Kt),this.options);if(lt(this,Id,_e(this,Kt).state),lt(this,rm,this.options),_e(this,Id).data!==void 0&&lt(this,am,_e(this,Kt)),NN(r,t))return;lt(this,Ba,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!_e(this,sm).size)return!0;const o=new Set(s??_e(this,sm));return this.options.throwOnError&&o.add("error"),Object.keys(_e(this,Ba)).some(l=>{const c=l;return _e(this,Ba)[c]!==t[c]&&o.has(c)})};Gt(this,mr,M6).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Gt(this,mr,ON).call(this)}},us=new WeakMap,Kt=new WeakMap,Tv=new WeakMap,Ba=new WeakMap,Id=new WeakMap,rm=new WeakMap,nu=new WeakMap,au=new WeakMap,Av=new WeakMap,nm=new WeakMap,am=new WeakMap,Ld=new WeakMap,$d=new WeakMap,su=new WeakMap,sm=new WeakMap,mr=new WeakSet,b0=function(t){Gt(this,mr,MN).call(this);let r=_e(this,Kt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(hs)),r},TN=function(){Gt(this,mr,DN).call(this);const t=ju(this.options.staleTime,_e(this,Kt));if(Jd||_e(this,Ba).isStale||!SN(t))return;const n=C6(_e(this,Ba).dataUpdatedAt,t)+1;lt(this,Ld,setTimeout(()=>{_e(this,Ba).isStale||this.updateResult()},n))},AN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,Kt)):this.options.refetchInterval)??!1},PN=function(t){Gt(this,mr,RN).call(this),lt(this,su,t),!(Jd||bi(this.options.enabled,_e(this,Kt))===!1||!SN(_e(this,su))||_e(this,su)===0)&&lt(this,$d,setInterval(()=>{(this.options.refetchIntervalInBackground||cT.isFocused())&&Gt(this,mr,b0).call(this)},_e(this,su)))},ON=function(){Gt(this,mr,TN).call(this),Gt(this,mr,PN).call(this,Gt(this,mr,AN).call(this))},DN=function(){_e(this,Ld)&&(clearTimeout(_e(this,Ld)),lt(this,Ld,void 0))},RN=function(){_e(this,$d)&&(clearInterval(_e(this,$d)),lt(this,$d,void 0))},MN=function(){const t=_e(this,us).getQueryCache().build(_e(this,us),this.options);if(t===_e(this,Kt))return;const r=_e(this,Kt);lt(this,Kt,t),lt(this,Tv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},M6=function(t){Zn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_e(this,Ba))}),_e(this,us).getQueryCache().notify({query:_e(this,Kt),type:"observerResultsUpdated"})})},h$);function dJ(e,t){return bi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function TD(e,t){return dJ(e,t)||e.state.data!==void 0&&FN(e,t,t.refetchOnMount)}function FN(e,t,r){if(bi(t.enabled,e)!==!1&&ju(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uT(e,t)}return!1}function AD(e,t,r,n){return(e!==t||bi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uT(e,r)}function uT(e,t){return bi(t.enabled,e)!==!1&&e.isStaleByTime(ju(t.staleTime,e))}function fJ(e,t){return!NN(e.getCurrentResult(),t)}var F6=x.createContext(void 0),hJ=e=>{const t=x.useContext(F6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mJ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(F6.Provider,{value:e,children:t})),I6=x.createContext(!1),pJ=()=>x.useContext(I6);I6.Provider;function gJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vJ=x.createContext(gJ()),xJ=()=>x.useContext(vJ),yJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bJ=e=>{x.useEffect(()=>{e.clearReset()},[e])},wJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||XZ(r,[e.error,n])),_J=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jJ=(e,t)=>e.isLoading&&e.isFetching&&!t,SJ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function NJ(e,t,r){var f,h,m,p,g;const n=pJ(),a=xJ(),s=hJ(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",_J(o),yJ(o,a),bJ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(Zn.batchCalls(v)):hs;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),SJ(o,u))throw PD(o,c,a);if(wJ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!Jd&&jJ(u,n)){const v=l?PD(o,c,a):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(hs).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function dT(e,t){return NJ(e,uJ)}const Tt=e=>typeof e=="string",Yp=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},OD=e=>e==null?"":""+e,kJ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},CJ=/###/g,DD=e=>e&&e.indexOf("###")>-1?e.replace(CJ,"."):e,RD=e=>!e||Tt(e),L0=(e,t,r)=>{const n=Tt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(RD(e))return{};const s=DD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return RD(e)?{}:{obj:e,k:DD(n[a])}},MD=(e,t,r)=>{const{obj:n,k:a}=L0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=L0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=L0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},EJ=(e,t,r,n)=>{const{obj:a,k:s}=L0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},T1=(e,t)=>{const{obj:r,k:n}=L0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},TJ=(e,t,r)=>{const n=T1(e,r);return n!==void 0?n:T1(t,r)},L6=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?Tt(e[n])||e[n]instanceof String||Tt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):L6(e[n],t[n],r):e[n]=t[n]);return e},Bf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var AJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const PJ=e=>Tt(e)?e.replace(/[&<>"'\/]/g,t=>AJ[t]):e;class OJ{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const DJ=[" ",",","?","!",";"],RJ=new OJ(20),MJ=(e,t,r)=>{t=t||"",r=r||"";const n=DJ.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=RJ.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},IN=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},kg=e=>e==null?void 0:e.replace("_","-"),FJ={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class A1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||FJ,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(Tt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new A1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new A1(this.logger,t)}}var Jo=new A1;let Mw=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class FD extends Mw{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):Tt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=T1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Tt(n)?c:IN((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),MD(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(Tt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=T1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?L6(c,n,s):c={...c,...n},MD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var $6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const B6=Symbol("i18next/PATH_KEY");function IJ(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===B6?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function LN(e,t){const{[B6]:r}=e(IJ());return r.join((t==null?void 0:t.keySeparator)??".")}const ID={},dS=e=>!Tt(e)&&typeof e!="boolean"&&typeof e!="number";class P1 extends Mw{constructor(t,r={}){super(),kJ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Jo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=dS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!MJ(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Tt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:Tt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=LN(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let p=m==null?void 0:m.res;const g=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!Tt(a.count),j=P1.hasDefaultValue(a),N=_?this.pluralResolver.getSuffix(f,a.count,a):"",S=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",k=_&&!a.ordinal&&a.count===0,C=k&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${N}`]||a[`defaultValue${S}`]||a.defaultValue;let E=p;w&&!p&&j&&(E=C);const P=dS(E),T=Object.prototype.toString.apply(E);if(w&&E&&P&&y.indexOf(T)<0&&!(Tt(b)&&Array.isArray(E))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,E,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=V,m.usedParams=this.getUsedParamsDetails(a),m):V}if(o){const V=Array.isArray(E),G=V?[]:{},B=V?v:g;for(const I in E)if(Object.prototype.hasOwnProperty.call(E,I)){const z=`${B}${o}${I}`;j&&!p?G[I]=this.translate(z,{...a,defaultValue:dS(C)?C[I]:void 0,joinArrays:!1,ns:c}):G[I]=this.translate(z,{...a,joinArrays:!1,ns:c}),G[I]===z&&(G[I]=E[I])}p=G}}else if(w&&Tt(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,t,a,n));else{let V=!1,G=!1;!this.isValidLookup(p)&&j&&(V=!0,p=C),this.isValidLookup(p)||(G=!0,p=l);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&G?void 0:p,z=j&&C!==p&&this.options.updateMissing;if(G||V||z){if(this.logger.log(z?"updateKey":"missingKey",f,u,l,z?C:p),o){const X=this.resolve(l,{...a,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let X=0;X<F.length;X++)L.push(F[X]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(a.lng||this.language):L.push(a.lng||this.language);const Y=(X,D,R)=>{var W;const M=j&&R!==p?R:I;this.options.missingKeyHandler?this.options.missingKeyHandler(X,u,D,M,z,a):(W=this.backendConnector)!=null&&W.saveMissing&&this.backendConnector.saveMissing(X,u,D,M,z,a),this.emit("missingKey",X,u,D,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?L.forEach(X=>{const D=this.pluralResolver.getSuffixes(X,a);k&&a[`defaultValue${this.options.pluralSeparator}zero`]&&D.indexOf(`${this.options.pluralSeparator}zero`)<0&&D.push(`${this.options.pluralSeparator}zero`),D.forEach(R=>{Y([X],l+R,a[`defaultValue${R}`]||C)})}):Y(L,l,C))}p=this.extendTranslation(p,t,a,m,n),G&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(G||V)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,V?p:void 0,a))}return s?(m.res=p,m.usedParams=this.getUsedParamsDetails(a),m):p}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=Tt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!Tt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;f<p&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Tt(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=$6.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return Tt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!Tt(r.count),m=h&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(Tt(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!ID[`${g[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(ID[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(w=>{var N;if(this.isValidLookup(n))return;o=w;const _=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,w,v,r);else{let S;h&&(S=this.pluralResolver.getSuffix(w,r.count,r));const k=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&S.indexOf(C)===0&&_.push(d+S.replace(C,this.options.pluralSeparator)),_.push(d+S),m&&_.push(d+k)),p){const E=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(E),h&&(r.ordinal&&S.indexOf(C)===0&&_.push(E+S.replace(C,this.options.pluralSeparator)),_.push(E+S),m&&_.push(E+k))}}let j;for(;j=_.pop();)this.isValidLookup(n)||(s=j,n=this.getResource(w,v,j,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!Tt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class LD{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jo.create("languageUtils")}getScriptPartFromCode(t){if(t=kg(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=kg(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(Tt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),Tt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Tt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Tt(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const $D={zero:0,one:1,two:2,few:3,many:4,other:5},BD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class LJ{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=kg(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),BD;if(!t.match(/-|_/))return BD;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>$D[a]-$D[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const UD=(e,t,r,n=".",a=!0)=>{let s=TJ(e,t,r);return!s&&a&&Tt(r)&&(s=IN(e,r,n),s===void 0&&(s=IN(t,r,n))),s},fS=e=>e.replace(/\$/g,"$$$$");class $J{constructor(t={}){var r;this.logger=Jo.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:PJ,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Bf(s):o||"{{",this.suffix=l?Bf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Bf(h):m||Bf("$t("),this.nestingSuffix=p?Bf(p):g||Bf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const b=UD(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:p}):b}const g=p.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(UD(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>fS(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?fS(this.escape(p)):fS(p)}].forEach(p=>{for(l=0;s=p.regex.exec(t);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=Tt(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!Tt(o)&&!this.useRawValueToEscape&&(o=OD(o));const v=p.safeValue(o);if(t=t.replace(s[0],v),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),p=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!Tt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!Tt(s))return s;Tt(s)||(s=OD(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const BJ=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},zD=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e(kg(n),a),t[o]=l),l(r)}},UJ=e=>(t,r,n)=>e(kg(r),n)(t);class zJ{constructor(t={}){this.logger=Jo.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?zD:UJ;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=zD(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=BJ(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},p=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,p,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const VJ=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class WJ extends Mw{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{EJ(c.loaded,[s],o),VJ(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Tt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Tt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,r,n,a,m):g=p(t,r,n,a),g&&typeof g.then=="function"?g.then(v=>l(null,v)).catch(l):l(null,g)}catch(g){l(g)}else p(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const VD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Tt(e[1])&&(t.defaultValue=e[1]),Tt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),WD=e=>{var t,r;return Tt(e.ns)&&(e.ns=[e.ns]),Tt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Tt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Yx=()=>{},HJ=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class $0 extends Mw{constructor(t={},r){if(super(),this.options=WD(t),this.services={},this.logger=Jo,this.modules={external:[]},HJ(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(Tt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=VD();this.options={...n,...this.options,...WD(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Jo.init(a(this.modules.logger),this.options):Jo.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=zJ;const d=new LD(this.options);this.store=new FD(this.options.resources,this.options);const f=this.services;f.logger=Jo,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new LJ(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new $J(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new WJ(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new P1(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Yx),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Yp(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Yx){var s,o;let n=r;const a=Tt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=Yp();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Yx),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&$6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Yp();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Tt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Tt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=LN(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=LN(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Tt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=Yp();return this.options.ns?(Tt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Yp();Tt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new LD(VD());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new $0(t,r);return n.createInstance=$0.createInstance,n}cloneInstance(t={},r=Yx){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new $0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new FD(l,a),s.services.resourceStore=s.store}return s.translator=new P1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vr=$0.createInstance();Vr.createInstance;Vr.dir;Vr.init;Vr.loadResources;Vr.reloadResources;Vr.use;Vr.changeLanguage;Vr.getFixedT;Vr.t;Vr.exists;Vr.setDefaultNamespace;Vr.hasLoadedNamespace;Vr.loadNamespaces;Vr.loadLanguages;const qJ=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);ef(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},HD={},U6=(e,t,r,n)=>{ef(r)&&HD[r]||(ef(r)&&(HD[r]=new Date),qJ(e,t,r,n))},z6=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},$N=(e,t,r)=>{e.loadNamespaces(t,z6(e,r))},qD=(e,t,r,n)=>{if(ef(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return $N(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,z6(e,n))},GJ=(e,t,r={})=>!t.languages||!t.languages.length?(U6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),ef=e=>typeof e=="string",KJ=e=>typeof e=="object"&&e!==null,YJ=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,XJ={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},QJ=e=>XJ[e],ZJ=e=>e.replace(YJ,QJ);let BN={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ZJ};const JJ=(e={})=>{BN={...BN,...e}},eee=()=>BN;let V6;const tee=e=>{V6=e},ree=()=>V6,nee={type:"3rdParty",init(e){JJ(e.options.react),tee(e)}},W6=x.createContext();class aee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var H6={exports:{}},q6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=x;function see(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iee=typeof Object.is=="function"?Object.is:see,oee=hm.useState,lee=hm.useEffect,cee=hm.useLayoutEffect,uee=hm.useDebugValue;function dee(e,t){var r=t(),n=oee({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return cee(function(){a.value=r,a.getSnapshot=t,hS(a)&&s({inst:a})},[e,r,t]),lee(function(){return hS(a)&&s({inst:a}),e(function(){hS(a)&&s({inst:a})})},[e]),uee(r),r}function hS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!iee(e,r)}catch{return!0}}function fee(e,t){return t()}var hee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fee:dee;q6.useSyncExternalStore=hm.useSyncExternalStore!==void 0?hm.useSyncExternalStore:hee;H6.exports=q6;var G6=H6.exports;const mee=(e,t)=>ef(t)?t:KJ(t)&&ef(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,pee={t:mee,ready:!1},gee=()=>()=>{},Bt=(e,t={})=>{var S,k;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(W6)||{},s=r||n||ree();s&&!s.reportNamespaces&&(s.reportNamespaces=new aee),s||U6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var C;return{...eee(),...(C=s==null?void 0:s.options)==null?void 0:C.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var E;const C=a||((E=s==null?void 0:s.options)==null?void 0:E.defaultNS);return ef(C)?[C]:C||["translation"]},[e,a,s]);(k=(S=s==null?void 0:s.reportNamespaces)==null?void 0:S.addUsedNamespaces)==null||k.call(S,u);const d=x.useRef(0),f=x.useCallback(C=>{if(!s)return gee;const{bindI18n:E,bindI18nStore:P}=o,T=()=>{d.current+=1,C()};return E&&s.on(E,T),P&&s.store.on(P,T),()=>{E&&E.split(" ").forEach(V=>s.off(V,T)),P&&P.split(" ").forEach(V=>s.store.off(V,T))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return pee;const C=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(B=>GJ(B,s,o)),E=t.lng||s.language,P=d.current,T=h.current;if(T&&T.ready===C&&T.lng===E&&T.keyPrefix===c&&T.revision===P)return T;const G={t:s.getFixedT(E,o.nsMode==="fallback"?u:u[0],c),ready:C,lng:E,keyPrefix:c,revision:P};return h.current=G,G},[s,u,c,o,t.lng]),[p,g]=x.useState(0),{t:v,ready:y}=G6.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const C=()=>g(E=>E+1);t.lng?qD(s,t.lng,u,C):$N(s,u,C)}},[s,t.lng,u,y,l,p]);const b=s||{},w=x.useRef(null),_=x.useRef(),j=C=>{const E=Object.getOwnPropertyDescriptors(C);E.__original&&delete E.__original;const P=Object.create(Object.getPrototypeOf(C),E);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},N=x.useMemo(()=>{const C=b,E=C==null?void 0:C.language;let P=C;C&&(w.current&&w.current.__original===C?_.current!==E?(P=j(C),w.current=P,_.current=E):P=w.current:(P=j(C),w.current=P,_.current=E));const T=[v,P,y];return T.t=v,T.i18n=P,T.ready=y,T},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(C=>{const E=()=>C();t.lng?qD(s,t.lng,u,E):$N(s,u,E)});return N};function vee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(W6.Provider,{value:n},r)}const xee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},yee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},bee={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},wee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},_ee={welcome:"Welcome",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",saving:"Saving...",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},jee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},See={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Nee={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},kee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Cee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Eee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Tee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Aee={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Pee={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Oee={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Dee={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Ree={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Mee={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Fee={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},Iee={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},Lee={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},$ee={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},Bee={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",viewContract:"View Contract",editProjectDescription:"Edit project information and details",createProjectDescription:"Add a new project to the system",projectDetailsDescription:"View and manage project details and information",reports:"Reports",selectReport:"Select Report",projectsSummaryReport:"Projects Summary Report",projectsByCityReport:"Projects by City Report",projectsStatusReport:"Projects Status Report",projectsTrendReport:"Projects Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",projectsByCity:"Projects by City",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},Uee={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},zee={navigation:xee,buttons:yee,forms:bee,auth:wee,common:_ee,status:jee,dashboard:See,leads:Nee,notes:kee,projects:Cee,settings:Eee,chat:Tee,tickets:Aee,teams:Pee,tasks:Oee,landing:Dee,users:Ree,clients:Mee,employeeDashboard:Fee,chats:Iee,surveys:Lee,mleads:$ee,mprojects:Bee,requests:Uee},Vee={home:"",dashboard:" ",projects:"",whatsapp:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},Wee={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},Hee={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},qee={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},Gee={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",saving:" ...",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},Kee={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},Yee={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},Xee={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},Qee={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},Zee={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Jee={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},ete={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},tte={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},rte={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},nte={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},ate={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},ste={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},ite={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},ote={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},lte={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},cte={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},ute={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},dte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},fte={company:"",city:"",country:"",activity:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allCities:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},hte={masterProjects:" ",manageMasterProjectsData:"   ",viewContract:" ",downloadContract:" ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},mte={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},pte={navigation:Vee,buttons:Wee,forms:Hee,auth:qee,common:Gee,validation:Kee,partnerEmployeeDashboard:Yee,status:Xee,dashboard:Qee,leads:Zee,notes:Jee,projects:ete,chat:tte,tickets:rte,teams:nte,tasks:ate,landing:ste,users:ite,clients:ote,employeeDashboard:lte,chats:cte,surveys:ute,settings:dte,mleads:fte,mprojects:hte,requests:mte},gte={en:{translation:zee},ar:{translation:pte}};Vr.use(nee).init({resources:gte,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Oe=(e,t)=>{if(Vr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},fl=(e,t)=>{const r=Vr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Xt=()=>Vr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cg.apply(this,arguments)}var lu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lu||(lu={}));const GD="popstate";function vte(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=jf(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),UN("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:O1(s))}function n(a,s){fT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return yte(t,r,n,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xte(){return Math.random().toString(36).substr(2,8)}function KD(e,t){return{usr:e.state,key:e.key,idx:t}}function UN(e,t,r,n){return r===void 0&&(r=null),Cg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?jf(t):t,{state:r,key:t&&t.key||n||xte()})}function O1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=lu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=lu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function h(v,y){l=lu.Push;let b=UN(g.location,v,y);r&&r(b,v),u=d()+1;let w=KD(b,u),_=g.createHref(b);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,y){l=lu.Replace;let b=UN(g.location,v,y);r&&r(b,v),u=d();let w=KD(b,u),_=g.createHref(b);o.replaceState(w,"",_),s&&c&&c({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:O1(v);return b=b.replace(/ $/,"%20"),cn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(GD,f),c=v,()=>{a.removeEventListener(GD,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var YD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(YD||(YD={}));function bte(e,t,r){return r===void 0&&(r="/"),wte(e,t,r,!1)}function wte(e,t,r,n){let a=typeof t=="string"?jf(t):t,s=hT(a.pathname||"/",r);if(s==null)return null;let o=K6(e);_te(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Dte(s);l=Pte(o[c],u,n)}return l}function K6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(cn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Su([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(cn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),K6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Tte(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of Y6(s.path))a(s,o,c)}),t}function Y6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=Y6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function _te(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ate(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jte=/^:[\w-]+$/,Ste=3,Nte=2,kte=1,Cte=10,Ete=-2,XD=e=>e==="*";function Tte(e,t){let r=e.split("/"),n=r.length;return r.some(XD)&&(n+=Ete),t&&(n+=Nte),r.filter(a=>!XD(a)).reduce((a,s)=>a+(jte.test(s)?Ste:s===""?kte:Cte),n)}function Ate(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Pte(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=QD({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=QD({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Su([s,f.pathname]),pathnameBase:Ite(Su([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Su([s,f.pathnameBase]))}return o}function QD(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Ote(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Ote(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Dte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Rte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?jf(e):e;return{pathname:r?r.startsWith("/")?r:Mte(r,t):t,search:Lte(n),hash:$te(a)}}function Mte(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mT(e,t){let r=Fte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pT(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=jf(e):(a=Cg({},e),cn(!a.pathname||!a.pathname.includes("?"),mS("?","pathname","search",a)),cn(!a.pathname||!a.pathname.includes("#"),mS("#","pathname","hash",a)),cn(!a.search||!a.search.includes("#"),mS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Rte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Su=e=>e.join("/").replace(/\/\/+/g,"/"),Ite=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$te=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const X6=["post","put","patch","delete"];new Set(X6);const Ute=["get",...X6];new Set(Ute);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eg.apply(this,arguments)}const gT=x.createContext(null),zte=x.createContext(null),Hu=x.createContext(null),Fw=x.createContext(null),wl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Q6=x.createContext(null);function Vte(e,t){let{relative:r}=t===void 0?{}:t;dp()||cn(!1);let{basename:n,navigator:a}=x.useContext(Hu),{hash:s,pathname:o,search:l}=J6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Su([n,o])),a.createHref({pathname:c,search:l,hash:s})}function dp(){return x.useContext(Fw)!=null}function _l(){return dp()||cn(!1),x.useContext(Fw).location}function Z6(e){x.useContext(Hu).static||x.useLayoutEffect(e)}function Ms(){let{isDataRoute:e}=x.useContext(wl);return e?sre():Wte()}function Wte(){dp()||cn(!1);let e=x.useContext(gT),{basename:t,future:r,navigator:n}=x.useContext(Hu),{matches:a}=x.useContext(wl),{pathname:s}=_l(),o=JSON.stringify(mT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return Z6(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=pT(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Su([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const Hte=x.createContext(null);function qte(e){let t=x.useContext(wl).outlet;return t&&x.createElement(Hte.Provider,{value:e},t)}function Gte(){let{matches:e}=x.useContext(wl),t=e[e.length-1];return t?t.params:{}}function J6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Hu),{matches:a}=x.useContext(wl),{pathname:s}=_l(),o=JSON.stringify(mT(a,n.v7_relativeSplatPath));return x.useMemo(()=>pT(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function Kte(e,t){return Yte(e,t)}function Yte(e,t,r,n){dp()||cn(!1);let{navigator:a}=x.useContext(Hu),{matches:s}=x.useContext(wl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=_l(),d;if(t){var f;let v=typeof t=="string"?jf(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||cn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=bte(e,{pathname:m}),g=ere(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Su([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Su([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?x.createElement(Fw.Provider,{value:{location:Eg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lu.Pop}},g):g}function Xte(){let e=are(),t=Bte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const Qte=x.createElement(Xte,null);class Zte extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(wl.Provider,{value:this.props.routeContext},x.createElement(Q6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jte(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(gT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(wl.Provider,{value:t},n)}function ere(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||cn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Qte,c&&(u<0&&h===0?(p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return m?w=g:p?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Jte,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Zte,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var eB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eB||{}),D1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D1||{});function tre(e){let t=x.useContext(gT);return t||cn(!1),t}function rre(e){let t=x.useContext(zte);return t||cn(!1),t}function nre(e){let t=x.useContext(wl);return t||cn(!1),t}function tB(e){let t=nre(),r=t.matches[t.matches.length-1];return r.route.id||cn(!1),r.route.id}function are(){var e;let t=x.useContext(Q6),r=rre(D1.UseRouteError),n=tB(D1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function sre(){let{router:e}=tre(eB.UseNavigateStable),t=tB(D1.UseNavigateStable),r=x.useRef(!1);return Z6(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Eg({fromRouteId:t},s)))},[e,t])}function ire(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wy(e){let{to:t,replace:r,state:n,relative:a}=e;dp()||cn(!1);let{future:s,static:o}=x.useContext(Hu),{matches:l}=x.useContext(wl),{pathname:c}=_l(),u=Ms(),d=pT(t,mT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ZD(e){return qte(e.context)}function _r(e){cn(!1)}function ore(e){let{basename:t="/",children:r=null,location:n,navigationType:a=lu.Pop,navigator:s,static:o=!1,future:l}=e;dp()&&cn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Eg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=jf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=x.useMemo(()=>{let v=hT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:x.createElement(Hu.Provider,{value:u},x.createElement(Fw.Provider,{children:r,value:g}))}function lre(e){let{children:t,location:r}=e;return Kte(zN(t),r)}new Promise(()=>{});function zN(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,zN(n.props.children,s));return}n.type!==_r&&cn(!1),!n.props.index||!n.props.children||cn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zN(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function cre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ure(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dre(e,t){return e.button===0&&(!t||t==="_self")&&!ure(e)}const fre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hre="6";try{window.__reactRouterVersion=hre}catch{}const mre="startTransition",JD=gE[mre];function pre(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=vte({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&JD?JD(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ire(n),[n]),x.createElement(ore,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const gre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WN=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=cre(t,fre),{basename:m}=x.useContext(Hu),p,g=!1;if(typeof u=="string"&&vre.test(u)&&(p=u,gre))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=hT(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:g=!0}catch{}let v=Vte(u,{relative:a}),y=xre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",VN({},h,{href:p||v,onClick:g||s?n:b,ref:r,target:c}))});var eR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(eR||(eR={}));var tR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tR||(tR={}));function xre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ms(),u=_l(),d=J6(e,{relative:o});return x.useCallback(f=>{if(dre(f,r)){f.preventDefault();let h=n!==void 0?n:O1(u)===O1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function At(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ns(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function za(e,t){const r=At(e);return isNaN(t)?Ns(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function bo(e,t){const r=At(e);if(isNaN(t))return Ns(e,NaN);if(!t)return r;const n=r.getDate(),a=Ns(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const vT=6048e5,yre=864e5,Xx=43200,rR=1440;let bre={};function fp(){return bre}function hl(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=At(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function tf(e){return hl(e,{weekStartsOn:1})}function rB(e){const t=At(e),r=t.getFullYear(),n=Ns(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=tf(n),s=Ns(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=tf(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mm(e){const t=At(e);return t.setHours(0,0,0,0),t}function pm(e){const t=At(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function el(e,t){const r=mm(e),n=mm(t),a=+r-pm(r),s=+n-pm(n);return Math.round((a-s)/yre)}function wre(e){const t=rB(e),r=Ns(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tf(r)}function HN(e,t){const r=t*7;return za(e,r)}function _re(e,t){return bo(e,t*12)}function jre(e){let t;return e.forEach(function(r){const n=At(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Sre(e){let t;return e.forEach(r=>{const n=At(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Hy(e,t){const r=At(e),n=At(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Nre(e){return Ns(e,Date.now())}function vs(e,t){const r=mm(e),n=mm(t);return+r==+n}function xT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kre(e){if(!xT(e)&&typeof e!="number")return!1;const t=At(e);return!isNaN(Number(t))}function gm(e,t){const r=At(e),n=At(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Cre(e,t,r){const n=hl(e,r),a=hl(t,r),s=+n-pm(n),o=+a-pm(a);return Math.round((s-o)/vT)}function Ere(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Tre(e,t){return+At(e)-+At(t)}function Are(e){const t=At(e);return t.setHours(23,59,59,999),t}function Iw(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Pre(e){const t=At(e);return+Are(t)==+Iw(t)}function Ore(e,t){const r=At(e),n=At(t),a=Hy(r,n),s=Math.abs(gm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Hy(r,n)===-a;Pre(At(e))&&s===1&&Hy(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function Dre(e,t,r){const n=Tre(e,t)/1e3;return Ere(r==null?void 0:r.roundingMethod)(n)}function _s(e){const t=At(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nB(e){const t=At(e),r=Ns(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function yT(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=At(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function aB(e){return yT(e,{weekStartsOn:1})}const Rre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mre=(e,t,r)=>{let n;const a=Rre[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Rh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Fre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ire={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lre={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$re={date:Rh({formats:Fre,defaultWidth:"full"}),time:Rh({formats:Ire,defaultWidth:"full"}),dateTime:Rh({formats:Lre,defaultWidth:"full"})},Bre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ure=(e,t,r,n)=>Bre[e];function Yo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const zre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yre={ordinalNumber:Kre,era:Yo({values:zre,defaultWidth:"wide"}),quarter:Yo({values:Vre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yo({values:Wre,defaultWidth:"wide"}),day:Yo({values:Hre,defaultWidth:"wide"}),dayPeriod:Yo({values:qre,defaultWidth:"wide",formattingValues:Gre,defaultFormattingWidth:"wide"})};function Xo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Qre(l,f=>f.test(o)):Xre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Xre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Qre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Zre=/^(\d+)(th|st|nd|rd)?/i,Jre=/\d+/i,ene={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tne={any:[/^b/i,/^(a|c)/i]},rne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nne={any:[/1/i,/2/i,/3/i,/4/i]},ane={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ine={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},one={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},une={ordinalNumber:sB({matchPattern:Zre,parsePattern:Jre,valueCallback:e=>parseInt(e,10)}),era:Xo({matchPatterns:ene,defaultMatchWidth:"wide",parsePatterns:tne,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:rne,defaultMatchWidth:"wide",parsePatterns:nne,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xo({matchPatterns:ane,defaultMatchWidth:"wide",parsePatterns:sne,defaultParseWidth:"any"}),day:Xo({matchPatterns:ine,defaultMatchWidth:"wide",parsePatterns:one,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:lne,defaultMatchWidth:"any",parsePatterns:cne,defaultParseWidth:"any"})},bT={code:"en-US",formatDistance:Mre,formatLong:$re,formatRelative:Ure,localize:Yre,match:une,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dne(e){const t=At(e);return el(t,nB(t))+1}function iB(e){const t=At(e),r=+tf(t)-+wre(t);return Math.round(r/vT)+1}function oB(e,t){var d,f,h,m;const r=At(e),n=r.getFullYear(),a=fp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ns(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=hl(o,t),c=Ns(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=hl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function fne(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=oB(e,t),s=Ns(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),hl(s,t)}function lB(e,t){const r=At(e),n=+hl(r,t)-+fne(r,t);return Math.round(n/vT)+1}function xr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Dc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xr(r+1,2)},d(e,t){return xr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xr(e.getHours()%12||12,t.length)},H(e,t){return xr(e.getHours(),t.length)},m(e,t){return xr(e.getMinutes(),t.length)},s(e,t){return xr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xr(a,t.length)}},Uf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Dc.y(e,t)},Y:function(e,t,r,n){const a=oB(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return xr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xr(s,t.length)},R:function(e,t){const r=rB(e);return xr(r,t.length)},u:function(e,t){const r=e.getFullYear();return xr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Dc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=lB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xr(a,t.length)},I:function(e,t,r){const n=iB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Dc.d(e,t)},D:function(e,t,r){const n=dne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Uf.noon:n===0?a=Uf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Uf.evening:n>=12?a=Uf.afternoon:n>=4?a=Uf.morning:a=Uf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Dc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Dc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Dc.s(e,t)},S:function(e,t){return Dc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return sR(n);case"XXXX":case"XX":return ud(n);case"XXXXX":case"XXX":default:return ud(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return sR(n);case"xxxx":case"xx":return ud(n);case"xxxxx":case"xxx":default:return ud(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aR(n,":");case"OOOO":default:return"GMT"+ud(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aR(n,":");case"zzzz":default:return"GMT"+ud(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xr(n,t.length)},T:function(e,t,r){const n=e.getTime();return xr(n,t.length)}};function aR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+xr(s,2)}function sR(e,t){return e%60===0?(e>0?"-":"+")+xr(Math.abs(e)/60,2):ud(e,t)}function ud(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xr(Math.trunc(n/60),2),s=xr(n%60,2);return r+a+t+s}const iR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return iR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",iR(n,t)).replace("{{time}}",cB(a,t))},mne={p:cB,P:hne},pne=/^D+$/,gne=/^Y+$/,vne=["D","DD","YY","YYYY"];function xne(e){return pne.test(e)}function yne(e){return gne.test(e)}function bne(e,t,r){const n=wne(e,t,r);if(console.warn(n),vne.includes(e))throw new RangeError(n)}function wne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _ne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sne=/^'([^]*?)'?$/,Nne=/''/g,kne=/[a-zA-Z]/;function ts(e,t,r){var d,f,h,m,p,g,v,y;const n=fp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=At(e);if(!kre(l))throw new RangeError("Invalid time value");let c=t.match(jne).map(b=>{const w=b[0];if(w==="p"||w==="P"){const _=mne[w];return _(b,a.formatLong)}return b}).join("").match(_ne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const w=b[0];if(w==="'")return{isToken:!1,value:Cne(b)};if(nR[w])return{isToken:!0,value:b};if(w.match(kne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const w=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&yne(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&xne(w))&&bne(w,t,String(e));const _=nR[w[0]];return _(l,w,a.localize,u)}).join("")}function Cne(e){const t=e.match(Sne);return t?t[1].replace(Nne,"'"):e}function Ene(e,t,r){const n=fp(),a=(r==null?void 0:r.locale)??n.locale??bT,s=2520,o=Hy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=At(t),u=At(e)):(c=At(e),u=At(t));const d=Dre(u,c),f=(pm(u)-pm(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<rR){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Xx){const p=Math.round(h/rR);return a.formatDistance("xDays",p,l)}else if(h<Xx*2)return m=Math.round(h/Xx),a.formatDistance("aboutXMonths",m,l)}if(m=Ore(u,c),m<12){const p=Math.round(h/Xx);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function Tne(e,t){return Ene(e,Nre(e),t)}function Ane(e){const t=At(e),r=t.getFullYear(),n=t.getMonth(),a=Ns(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Pne(e){return Math.trunc(+At(e)/1e3)}function One(e){const t=At(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Dne(e,t){return Cre(One(e),_s(e),t)+1}function qN(e,t){const r=At(e),n=At(t);return r.getTime()>n.getTime()}function uB(e,t){const r=At(e),n=At(t);return+r<+n}function wT(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Rne(e,t){const r=At(e),n=At(t);return r.getFullYear()===n.getFullYear()}function pS(e,t){return za(e,-t)}function gS(e,t){const r=At(e),n=r.getFullYear(),a=r.getDate(),s=Ns(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=Ane(s);return r.setMonth(t,Math.min(a,o)),r}function oR(e,t){const r=At(e);return isNaN(+r)?Ns(e,NaN):(r.setFullYear(t),r)}function lR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:ts(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?ts(e,"yyyy-MM-dd HH:mm:ss"):e}function GN(e){if(e==null)return e;if(e instanceof Date)return lR(e);if(Array.isArray(e))return e.map(t=>GN(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=lR(e[r]):t[r]=GN(e[r]));return t}return e}const Mne="https://api.middar.com";async function $l(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=GN(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${Mne}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const K={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return $l(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await $l(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await K.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?$l(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):$l(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>$l(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>$l(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await K.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>$l("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>K.list("permissions",e),get:e=>K.get("permissions",e),create:e=>K.create("permissions",e),update:(e,t)=>K.update("permissions",e,t),delete:e=>K.delete("permissions",e)},comments:{list:(e={})=>K.list("comments",e),get:e=>K.get("comments",e),create:e=>K.create("comments",e),update:(e,t)=>K.update("comments",e,t),delete:e=>K.delete("comments",e)},leads:{list:(e={})=>K.list("leads",e),get:e=>K.get("leads",e),create:e=>K.create("leads",e),update:(e,t)=>K.update("leads",e,t),delete:e=>K.delete("leads",e)},mAction:{list:(e={})=>K.list("m_action",e),get:e=>K.get("m_action",e),create:e=>K.create("m_action",e),update:(e,t)=>K.update("m_action",e,t),delete:e=>K.delete("m_action",e)},mActivity:{list:(e={})=>K.list("m_activity",e),get:e=>K.get("m_activity",e),create:e=>K.create("m_activity",e),update:(e,t)=>K.update("m_activity",e,t),delete:e=>K.delete("m_activity",e)},messages:{list:(e={})=>K.list("messages",e),get:e=>K.get("messages",e),create:e=>K.create("messages",e),update:(e,t)=>K.update("messages",e,t),delete:e=>K.delete("messages",e)},mContacts:{list:(e={})=>K.list("m_contacts",e),get:e=>K.get("m_contacts",e),create:e=>K.create("m_contacts",e),update:(e,t)=>K.update("m_contacts",e,t),delete:e=>K.delete("m_contacts",e)},mCountry:{list:(e={})=>K.list("m_country",e),get:e=>K.get("m_country",e),create:e=>K.create("m_country",e),update:(e,t)=>K.update("m_country",e,t),delete:e=>K.delete("m_country",e)},mCity:{list:(e={})=>K.list("m_city",e),get:e=>K.get("m_city",e),create:e=>K.create("m_city",e),update:(e,t)=>K.update("m_city",e,t),delete:e=>K.delete("m_city",e),getByCountry:(e,t={})=>K.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>K.list("m_jobtitle",e),get:e=>K.get("m_jobtitle",e),create:e=>K.create("m_jobtitle",e),update:(e,t)=>K.update("m_jobtitle",e,t),delete:e=>K.delete("m_jobtitle",e)},mLeads:{list:(e={})=>K.list("m_leads",e),get:e=>K.get("m_leads",e),create:e=>K.create("m_leads",e),update:(e,t)=>K.update("m_leads",e,t),delete:e=>K.delete("m_leads",e),getByStage:(e,t={})=>K.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>K.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>K.list("m_system",e),get:e=>K.get("m_system",e),create:e=>K.create("m_system",e),update:(e,t)=>K.update("m_system",e,t),delete:e=>K.delete("m_system",e)},mLeadsTrans:{list:(e={})=>K.list("m_leads_trans",e),get:e=>K.get("m_leads_trans",e),create:e=>K.create("m_leads_trans",e),update:(e,t)=>K.update("m_leads_trans",e,t),delete:e=>K.delete("m_leads_trans",e),getByLead:(e,t={})=>K.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>K.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>K.list("m_projects",e),get:e=>K.get("m_projects",e),create:e=>K.create("m_projects",e),update:(e,t)=>K.update("m_projects",e,t),delete:e=>K.delete("m_projects",e)},mStatus:{list:(e={})=>K.list("m_status",e),get:e=>K.get("m_status",e),create:e=>K.create("m_status",e),update:(e,t)=>K.update("m_status",e,t),delete:e=>K.delete("m_status",e)},notes:{list:(e={})=>K.list("notes",e),get:e=>K.get("notes",e),create:e=>K.create("notes",e),update:(e,t)=>K.update("notes",e,t),delete:e=>K.delete("notes",e),getByRelated:(e,t,r={})=>K.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>K.list("partner_apply",e),get:e=>K.get("partner_apply",e),create:e=>K.create("partner_apply",e),update:(e,t)=>K.update("partner_apply",e,t),delete:e=>K.delete("partner_apply",e),getPending:(e={})=>K.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>K.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>K.list("project_users",e),get:e=>K.get("project_users",e),create:e=>K.create("project_users",e),update:(e,t)=>K.update("project_users",e,t),delete:e=>K.delete("project_users",e),getByProject:(e,t={})=>K.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>K.list("project_images",e),get:e=>K.get("project_images",e),create:e=>K.create("project_images",e),update:(e,t)=>K.update("project_images",e,t),delete:e=>K.delete("project_images",e),getByProject:(e,t={})=>K.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>K.list("projects",e),get:e=>K.get("projects",e),create:e=>K.create("projects",e),update:(e,t)=>K.update("projects",e,t),delete:e=>K.delete("projects",e),getByStage:(e,t={})=>K.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>K.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>K.list("requests_crm",e),get:e=>K.get("requests_crm",e),create:e=>K.create("requests_crm",e),update:(e,t)=>K.update("requests_crm",e,t),delete:e=>K.delete("requests_crm",e)},rooms:{list:(e={})=>K.list("rooms",e),get:e=>K.get("rooms",e),create:e=>K.create("rooms",e),update:(e,t)=>K.update("rooms",e,t),delete:e=>K.delete("rooms",e),getByProject:(e,t={})=>K.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>K.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>K.list("room_members",e),get:e=>K.get("room_members",e),create:e=>K.create("room_members",e),update:(e,t)=>K.update("room_members",e,t),delete:e=>K.delete("room_members",e),getByRoom:(e,t={})=>K.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>K.list("stages",e),get:e=>K.get("stages",e),create:e=>K.create("stages",e),update:(e,t)=>K.update("stages",e,t),delete:e=>K.delete("stages",e)},tasks:{list:(e={})=>K.list("tasks",e),get:e=>K.get("tasks",e),create:e=>K.create("tasks",e),update:(e,t)=>K.update("tasks",e,t),delete:e=>K.delete("tasks",e),getByStage:(e,t={})=>K.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>K.list("survey_templates",e),get:e=>K.get("survey_templates",e),create:e=>K.create("survey_templates",e),update:(e,t)=>K.update("survey_templates",e,t),delete:e=>K.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>K.list("survey_template_fields",e),get:e=>K.get("survey_template_fields",e),create:e=>K.create("survey_template_fields",e),update:(e,t)=>K.update("survey_template_fields",e,t),delete:e=>K.delete("survey_template_fields",e),getByTemplate:(e,t={})=>K.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>K.list("surveys",e),get:e=>K.get("surveys",e),create:e=>K.create("surveys",e),update:(e,t)=>K.update("surveys",e,t),delete:e=>K.delete("surveys",e)},teams:{list:(e={})=>K.list("teams",e),get:e=>K.get("teams",e),create:e=>K.create("teams",e),update:(e,t)=>K.update("teams",e,t),delete:e=>K.delete("teams",e)},teamMembers:{list:(e={})=>K.list("team_members",e),get:e=>K.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),K.create("team_members",s)},update:(e,t)=>K.update("team_members",e,t),delete:e=>K.delete("team_members",e),getByTeam:(e,t={})=>K.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>K.list("tickets",e),get:e=>K.get("tickets",e),create:e=>K.create("tickets",e),update:(e,t)=>K.update("tickets",e,t),delete:e=>K.delete("tickets",e),getByStatus:(e,t={})=>K.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>K.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>K.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>K.list("Users",e),get:e=>K.get("Users",e),create:e=>K.create("Users",e),update:(e,t)=>K.update("Users",e,t),delete:e=>K.delete("Users",e)},whatsappConversations:{list:(e={})=>K.list("whatsapp_conversations",e),get:e=>K.get("whatsapp_conversations",e),create:e=>K.create("whatsapp_conversations",e),update:(e,t)=>K.update("whatsapp_conversations",e,t),delete:e=>K.delete("whatsapp_conversations",e),getByLead:(e,t={})=>K.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>K.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>K.list("whatsapp_messages",e),get:e=>K.get("whatsapp_messages",e),create:e=>K.create("whatsapp_messages",e),update:(e,t)=>K.update("whatsapp_messages",e,t),delete:e=>K.delete("whatsapp_messages",e),getByConversation:(e,t={})=>K.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let vS=null,zf=null;async function _T(){return vS||zf||(zf=K.permissions.list().then(e=>{const t=e.data||[];return vS=t,zf=null,t}).catch(e=>(zf=null,console.error("Failed to fetch permissions:",e),[])),zf)}const dB=x.createContext(void 0),Fne=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const p=JSON.parse(m);if(p&&p.role&&(p.role=p.role.toLowerCase()),!p.permissions_permissions_Name)if(p.profile&&p.profile.permissions_permissions_Name)p.permissions_permissions_Name=p.profile.permissions_permissions_Name;else if(p.profile&&p.profile.permissions){const g=p.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[g]&&(p.permissions_permissions_Name=v[g],p.role=v[g])}else p.isAdmin===1&&(p.permissions_permissions_Name="admin",p.role="admin");a(h),r(p)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await _T()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await K.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let p="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?p="admin":v==="manager"?p="manager":v==="employee"?p="employee":v==="team_leader"?p="team_leader":v==="partner_employee"?p="partner_employee":v==="partner_leader"?p="partner_leader":p="employee"}else m.isAdmin===1&&(p="admin");const g={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:p,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(dB.Provider,{value:d,children:e})},gr=()=>{const e=x.useContext(dB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},fB=x.createContext(void 0),Ine=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],Lne=({children:e})=>{const[t,r]=x.useState(Vr.language||"ar"),[n,a]=x.useState(Xt());x.useEffect(()=>{const l=c=>{r(c),a(Xt())};return Vr.on("languageChanged",l),()=>{Vr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await Vr.changeLanguage(l),r(l),a(Xt())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Ine};return i.jsx(fB.Provider,{value:o,children:e})},Da=()=>{const e=x.useContext(fB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},hB=x.createContext(void 0);function $ne({children:e}){const[t,r]=x.useState([]);return i.jsx(hB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function Iv(){const e=x.useContext(hB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var R1=["light","dark"],jT="(prefers-color-scheme: dark)",Bne=typeof window>"u",ST=x.createContext(void 0),Une={setTheme:e=>{},themes:[]},zne=()=>{var e;return(e=x.useContext(ST))!=null?e:Une},mB=e=>x.useContext(ST)?e.children:x.createElement(Wne,{...e}),Vne=["light","dark"],Wne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Vne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>cR(a,o)),[m,p]=x.useState(()=>cR(a)),g=c?Object.values(c):s,v=x.useCallback(_=>{let j=_;if(!j)return;_==="system"&&r&&(j=uR());let N=c?c[j]:j,S=t?qne():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let C=R1.includes(o)?o:null,E=R1.includes(j)?j:C;k.style.colorScheme=E}S==null||S()},[]),y=x.useCallback(_=>{let j=typeof _=="function"?_(_):_;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=x.useCallback(_=>{let j=uR(_);p(j),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia(jT);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),x.useEffect(()=>{let _=j=>{if(j.key!==a)return;let N=j.newValue||o;y(N)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let w=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(ST.Provider,{value:w},x.createElement(Hne,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},Hne=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?R1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,v=!0)=>{let y=o?o[p]:p,b=g?p+"|| ''":`'${y}'`,w="";return a&&v&&!g&&R1.includes(p)&&(w+=`d.style.colorScheme = '${p}';`),r==="class"?g||y?w+=`c.add(${b})`:w+="null":y&&(w+=`d[s](n,${b})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${jT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),cR=(e,t)=>{if(Bne)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},qne=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},uR=e=>(e||(e=window.matchMedia(jT)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...Kne,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(Yne,{ref:s,iconNode:t,className:pB(`lucide-${Gne(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Qe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=Qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=Qe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=Qe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=wB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Mt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=wB(e))&&(n&&(n+=" "),n+=t);return n}const CT="-",Aae=e=>{const t=Oae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(CT);return l[0]===""&&l.length!==1&&l.shift(),_B(l,t)||Pae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},_B=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?_B(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(CT);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},vR=/^\[(.+)\]$/,Pae=e=>{if(vR.test(e)){const t=vR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Oae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Rae(Object.entries(e.classGroups),r).forEach(([s,o])=>{XN(o,n,s,t)}),n},XN=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:xR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(Dae(a)){XN(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{XN(o,xR(t,s),r,n)})})},xR=(e,t)=>{let r=e;return t.split(CT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Dae=e=>e.isThemeGetter,Rae=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,Mae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},jB="!",Fae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(jB),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Iae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Lae=e=>({cache:Mae(e.cacheSize),parseClassName:Fae(e),...Aae(e)}),$ae=/\s+/,Bae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split($ae);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=Iae(d).join(":"),y=f?v+jB:v,b=y+g;if(s.includes(b))continue;s.push(b);const w=a(g,p);for(let _=0;_<w.length;++_){const j=w[_];s.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function Uae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=SB(t))&&(n&&(n+=" "),n+=r);return n}const SB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=SB(e[n]))&&(r&&(r+=" "),r+=t);return r};function zae(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=Lae(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Bae(c,r);return a(c,d),d}return function(){return s(Uae.apply(null,arguments))}}const Ar=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},NB=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vae=/^\d+\/\d+$/,Wae=new Set(["px","full","screen"]),Hae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dl=e=>Ih(e)||Wae.has(e)||Vae.test(e),Rc=e=>hp(e,"length",nse),Ih=e=>!!e&&!Number.isNaN(Number(e)),xS=e=>hp(e,"number",Ih),Xp=e=>!!e&&Number.isInteger(Number(e)),Xae=e=>e.endsWith("%")&&Ih(e.slice(0,-1)),Lt=e=>NB.test(e),Mc=e=>Hae.test(e),Qae=new Set(["length","size","percentage"]),Zae=e=>hp(e,Qae,kB),Jae=e=>hp(e,"position",kB),ese=new Set(["image","url"]),tse=e=>hp(e,ese,sse),rse=e=>hp(e,"",ase),Qp=()=>!0,hp=(e,t,r)=>{const n=NB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},nse=e=>qae.test(e)&&!Gae.test(e),kB=()=>!1,ase=e=>Kae.test(e),sse=e=>Yae.test(e),ise=()=>{const e=Ar("colors"),t=Ar("spacing"),r=Ar("blur"),n=Ar("brightness"),a=Ar("borderColor"),s=Ar("borderRadius"),o=Ar("borderSpacing"),l=Ar("borderWidth"),c=Ar("contrast"),u=Ar("grayscale"),d=Ar("hueRotate"),f=Ar("invert"),h=Ar("gap"),m=Ar("gradientColorStops"),p=Ar("gradientColorStopPositions"),g=Ar("inset"),v=Ar("margin"),y=Ar("opacity"),b=Ar("padding"),w=Ar("saturate"),_=Ar("scale"),j=Ar("sepia"),N=Ar("skew"),S=Ar("space"),k=Ar("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Lt,t],T=()=>[Lt,t],V=()=>["",Dl,Rc],G=()=>["auto",Ih,Lt],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Lt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Ih,Lt];return{cacheSize:500,separator:":",theme:{colors:[Qp],spacing:[Dl,Rc],blur:["none","",Mc,Lt],brightness:X(),borderColor:[e],borderRadius:["none","","full",Mc,Lt],borderSpacing:T(),borderWidth:V(),contrast:X(),grayscale:F(),hueRotate:X(),invert:F(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Xae,Rc],inset:P(),margin:P(),opacity:X(),padding:T(),saturate:X(),scale:X(),sepia:F(),skew:X(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Lt]}],container:["container"],columns:[{columns:[Mc]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Lt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xp,Lt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Lt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Xp,Lt]}],"grid-cols":[{"grid-cols":[Qp]}],"col-start-end":[{col:["auto",{span:["full",Xp,Lt]},Lt]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Qp]}],"row-start-end":[{row:["auto",{span:[Xp,Lt]},Lt]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Lt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Lt,t]}],"min-w":[{"min-w":[Lt,t,"min","max","fit"]}],"max-w":[{"max-w":[Lt,t,"none","full","min","max","fit","prose",{screen:[Mc]},Mc]}],h:[{h:[Lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mc,Rc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xS]}],"font-family":[{font:[Qp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Lt]}],"line-clamp":[{"line-clamp":["none",Ih,xS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Dl,Lt]}],"list-image":[{"list-image":["none",Lt]}],"list-style-type":[{list:["none","disc","decimal",Lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Dl,Rc]}],"underline-offset":[{"underline-offset":["auto",Dl,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),Jae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Dl,Lt]}],"outline-w":[{outline:[Dl,Rc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Dl,Rc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mc,rse]}],"shadow-color":[{shadow:[Qp]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Mc,Lt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Lt]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Lt]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Xp,Lt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Dl,Rc,xS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ose=zae(ise);function be(...e){return ose(Mt(e))}const lse={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function sa({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:be("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(Uw,{className:be("animate-spin text-primary",lse[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Zx=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=_l(),{user:s,loading:o,hasRole:l}=gr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(sa,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(Wy,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx(Wy,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(Wy,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function yR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=yR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():yR(e[a],null)}}}}function $t(...e){return x.useCallback(cc(...e),e)}function Ru(e){const t=cse(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(dse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var CB=Ru("Slot");function cse(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=hse(a),l=fse(s,a.props);return a.type!==x.Fragment&&(l.ref=n?cc(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EB=Symbol("radix.slottable");function use(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=EB,t}function dse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EB}function fse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function hse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const bR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wR=Mt,$v=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return wR(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=bR(d)||bR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...l}[g]):{...s,...l}[g]===v})?[...u,f,h]:u},[]);return wR(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},ym=$v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?CB:"button";return i.jsx(o,{className:be(ym({variant:t,size:r,className:e})),ref:s,...a})});ue.displayName="Button";const Ve=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ve.displayName="Input";var mse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ct=mse.reduce((e,t)=>{const r=Ru(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TB(e,t){e&&up.flushSync(()=>e.dispatchEvent(t))}var pse="Label",AB=x.forwardRef((e,t)=>i.jsx(ct.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));AB.displayName=pse;var PB=AB;const gse=$v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ke=x.forwardRef(({className:e,...t},r)=>i.jsx(PB,{ref:r,className:be(gse(),e),...t}));Ke.displayName=PB.displayName;const st=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));st.displayName="Card";const zt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));zt.displayName="CardHeader";const lr=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));lr.displayName="CardTitle";const vse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));vse.displayName="CardDescription";const dt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));dt.displayName="CardContent";const OB=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));OB.displayName="CardFooter";const xse=1,yse=1e6;let yS=0;function bse(){return yS=(yS+1)%Number.MAX_SAFE_INTEGER,yS.toString()}const bS=new Map,_R=e=>{if(bS.has(e))return;const t=setTimeout(()=>{bS.delete(e),z0({type:"REMOVE_TOAST",toastId:e})},yse);bS.set(e,t)},wse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xse)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?_R(r):e.toasts.forEach(n=>{_R(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qy=[];let Gy={toasts:[]};function z0(e){Gy=wse(Gy,e),qy.forEach(t=>{t(Gy)})}function _se({...e}){const t=bse(),r=a=>z0({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>z0({type:"DISMISS_TOAST",toastId:t});return z0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function jl(){const[e,t]=x.useState(Gy);return x.useEffect(()=>(qy.push(t),()=>{const r=qy.indexOf(t);r>-1&&qy.splice(r,1)}),[e]),{...e,toast:_se,dismiss:r=>z0({type:"DISMISS_TOAST",toastId:r})}}const jse=()=>{var b,w;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=gr(),f=Ms(),h=_l(),{t:m}=Bt(),{isRTL:p}=Da(),{toast:g}=jl(),v=((w=(b=h.state)==null?void 0:b.from)==null?void 0:w.pathname)||"/dashboard",y=async _=>{if(_.preventDefault(),!e||!r){g({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const j=await K.auth.login({email:e,password:r,company_code:a});if(j.serviceToken&&j.user)await d(j.serviceToken,j.user),g({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(j){console.error("Login error:",j);let N=m("auth.loginFailed","Failed to login. Please check your credentials.");j.message&&!j.message.includes("Unexpected token")&&(N=j.message),g({title:m("auth.loginFailedTitle","Login Failed"),description:N,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(Tn,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(st,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(dt,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(Ve,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:_=>t(_.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(Ve,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:_=>n(_.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${p?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(cae,{className:"h-4 w-4"}):i.jsx(Js,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(Ve,{id:"companyCode",type:"text",value:a,onChange:_=>s(_.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(OB,{className:"px-8 pb-8",children:i.jsx(ue,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Uw,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{g({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},Sse=()=>{const[e,t]=x.useState(!1);gr();const r=Ms(),{t:n}=Bt();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(ue,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},F1=()=>{const{user:e}=gr(),t=e==null?void 0:e.permissions,r=m=>{var g;return t===1?!0:((g={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:g.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},DB=x.createContext(void 0),Nse=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,p=0,g=0;h.length===4?(m=parseInt(h[1]+h[1],16),p=parseInt(h[2]+h[2],16),g=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),p=parseInt(h.substring(3,5),16),g=parseInt(h.substring(5,7),16)),m/=255,p/=255,g/=255;const v=Math.max(m,p,g),y=Math.min(m,p,g);let b=0,w,_=(v+y)/2;if(v===y)b=w=0;else{const j=v-y;switch(w=_>.5?j/(2-v-y):j/(v+y),v){case m:b=(p-g)/j+(p<g?6:0);break;case p:b=(g-m)/j+2;break;case g:b=(m-p)/j+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(w*100),l:Math.round(_*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx(DB.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},RB=()=>{const e=x.useContext(DB);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function kse(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function is(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...p}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=x.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Cse(a,...t)]}function Cse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Vn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var _n=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Ese(){return G6.useSyncExternalStore(Tse,()=>!0,()=>!1)}function Tse(){return()=>{}}var ET="Avatar",[Ase,kHe]=is(ET),[Pse,MB]=Ase(ET),FB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(Pse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(ct.span,{...n,ref:t})})});FB.displayName=ET;var IB="AvatarImage",LB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=MB(IB,r),l=Ose(n,s),c=Vn(u=>{a(u),o.onImageLoadingStatusChange(u)});return _n(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(ct.img,{...s,ref:t,src:n}):null});LB.displayName=IB;var $B="AvatarFallback",BB=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=MB($B,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(ct.span,{...a,ref:t}):null});BB.displayName=$B;function jR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ose(e,{referrerPolicy:t,crossOrigin:r}){const n=Ese(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>jR(s,e));return _n(()=>{l(jR(s,e))},[s,e]),_n(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var UB=FB,zB=LB,VB=BB;const ks=x.forwardRef(({className:e,...t},r)=>i.jsx(UB,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ks.displayName=UB.displayName;const So=x.forwardRef(({className:e,...t},r)=>i.jsx(zB,{ref:r,className:be("aspect-square h-full w-full",e),...t}));So.displayName=zB.displayName;const Cs=x.forwardRef(({className:e,...t},r)=>i.jsx(VB,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cs.displayName=VB.displayName;const Dse=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:hae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ps}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tn},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:U0},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:eh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ps}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Du},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Du},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:M1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:kae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:kT},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:M1}]}];function wS({onNavigate:e}={}){var l,c,u;const t=_l(),{user:r}=gr(),{userPermissionId:n}=F1(),{canAccessSystem:a}=F1(),{t:s}=Bt(),{companyName:o}=RB();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:Dse.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>n==={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6}[m]));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,p=h.icon;return i.jsxs(WN,{to:h.path,onClick:g=>{m&&g.preventDefault(),e==null||e()},className:be("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(p,{className:be("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(ks,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx(Cs,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(Lw,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Rse(){const e=_l(),{t}=Bt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(WN,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lw,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(WN,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function QN(e,[t,r]){return Math.min(r,Math.max(t,e))}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function TT(e){const t=e+"CollectionProvider",[r,n]=is(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=ie.useRef(null),w=ie.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Ru(l),u=ie.forwardRef((g,v)=>{const{scope:y,children:b}=g,w=s(l,y),_=$t(v,w.collectionRef);return i.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ru(d),m=ie.forwardRef((g,v)=>{const{scope:y,children:b,...w}=g,_=ie.useRef(null),j=$t(v,_),N=s(d,y);return ie.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),i.jsx(h,{[f]:"",ref:j,children:b})});m.displayName=d;function p(g){const v=s(e+"CollectionConsumer",g);return ie.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>w.indexOf(N.ref.current)-w.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}var Mse=x.createContext(void 0);function Bv(e){const t=x.useContext(Mse);return e||t||"ltr"}function Fse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ise="DismissableLayer",ZN="dismissableLayer.update",Lse="dismissableLayer.pointerDownOutside",$se="dismissableLayer.focusOutside",SR,WB=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(WB),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),p=$t(t,S=>f(S)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,j=zse(S=>{const k=S.target,C=[...u.branches].some(E=>E.contains(k));!_||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=Vse(S=>{const k=S.target;[...u.branches].some(E=>E.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return Fse(S=>{b===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(SR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),NR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=SR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),NR())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(ZN,S),()=>document.removeEventListener(ZN,S)},[]),i.jsx(ct.div,{...c,ref:p,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,j.onPointerDownCapture)})});Uv.displayName=Ise;var Bse="DismissableLayerBranch",Use=x.forwardRef((e,t)=>{const r=x.useContext(WB),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(ct.div,{...e,ref:a})});Use.displayName=Bse;function zse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){HB(Lse,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Vse(e,t=globalThis==null?void 0:globalThis.document){const r=Vn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&HB($se,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function NR(){const e=new CustomEvent(ZN);document.dispatchEvent(e)}function HB(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TB(a,s):a.dispatchEvent(s)}var _S=0;function zw(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??kR()),document.body.insertAdjacentElement("beforeend",e[1]??kR()),_S++,()=>{_S===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_S--}},[])}function kR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var jS="focusScope.autoFocusOnMount",SS="focusScope.autoFocusOnUnmount",CR={bubbles:!1,cancelable:!0},Wse="FocusScope",zv=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=Vn(a),d=Vn(s),f=x.useRef(null),h=$t(t,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Lc(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Lc(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Lc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){TR.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(jS,CR);l.addEventListener(jS,u),l.dispatchEvent(y),y.defaultPrevented||(Hse(Xse(qB(l)),{select:!0}),document.activeElement===g&&Lc(l))}return()=>{l.removeEventListener(jS,u),setTimeout(()=>{const y=new CustomEvent(SS,CR);l.addEventListener(SS,d),l.dispatchEvent(y),y.defaultPrevented||Lc(g??document.body,{select:!0}),l.removeEventListener(SS,d),TR.remove(m)},0)}}},[l,u,d,m]);const p=x.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[w,_]=qse(b);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&Lc(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&Lc(_,{select:!0})):y===b&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(ct.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});zv.displayName=Wse;function Hse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Lc(n,{select:t}),document.activeElement!==r)return}function qse(e){const t=qB(e),r=ER(t,e),n=ER(t.reverse(),e);return[r,n]}function qB(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ER(e,t){for(const r of e)if(!Gse(r,{upTo:t}))return r}function Gse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kse(e){return e instanceof HTMLInputElement&&"select"in e}function Lc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Kse(e)&&t&&e.select()}}var TR=Yse();function Yse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=AR(e,t),e.unshift(t)},remove(t){var r;e=AR(e,t),(r=e[0])==null||r.resume()}}}function AR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Xse(e){return e.filter(t=>t.tagName!=="A")}var Qse=gE[" useId ".trim().toString()]||(()=>{}),Zse=0;function ea(e){const[t,r]=x.useState(Qse());return _n(()=>{r(n=>n??String(Zse++))},[e]),t?`radix-${t}`:""}const Jse=["top","right","bottom","left"],Mu=Math.min,Gs=Math.max,I1=Math.round,Jx=Math.floor,il=e=>({x:e,y:e}),eie={left:"right",right:"left",bottom:"top",top:"bottom"},tie={start:"end",end:"start"};function JN(e,t,r){return Gs(e,Mu(t,r))}function uc(e,t){return typeof e=="function"?e(t):e}function dc(e){return e.split("-")[0]}function mp(e){return e.split("-")[1]}function AT(e){return e==="x"?"y":"x"}function PT(e){return e==="y"?"height":"width"}const rie=new Set(["top","bottom"]);function tl(e){return rie.has(dc(e))?"y":"x"}function OT(e){return AT(tl(e))}function nie(e,t,r){r===void 0&&(r=!1);const n=mp(e),a=OT(e),s=PT(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=L1(o)),[o,L1(o)]}function aie(e){const t=L1(e);return[ek(e),t,ek(t)]}function ek(e){return e.replace(/start|end/g,t=>tie[t])}const PR=["left","right"],OR=["right","left"],sie=["top","bottom"],iie=["bottom","top"];function oie(e,t,r){switch(e){case"top":case"bottom":return r?t?OR:PR:t?PR:OR;case"left":case"right":return t?sie:iie;default:return[]}}function lie(e,t,r,n){const a=mp(e);let s=oie(dc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(ek)))),s}function L1(e){return e.replace(/left|right|bottom|top/g,t=>eie[t])}function cie(e){return{top:0,right:0,bottom:0,left:0,...e}}function GB(e){return typeof e!="number"?cie(e):{top:e,right:e,bottom:e,left:e}}function $1(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function DR(e,t,r){let{reference:n,floating:a}=e;const s=tl(t),o=OT(t),l=PT(o),c=dc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(mp(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const uie=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=DR(u,n,c),h=n,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:w,data:_,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,m={...m,[v]:{...m[v],..._}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=DR(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Pg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=uc(t,e),p=GB(m),v=l[h?f==="floating"?"reference":"floating":f],y=$1(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=$1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-j.top+p.top)/_.y,bottom:(j.bottom-y.bottom+p.bottom)/_.y,left:(y.left-j.left+p.left)/_.x,right:(j.right-y.right+p.right)/_.x}}const die=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=uc(e,t)||{};if(u==null)return{};const f=GB(d),h={x:r,y:n},m=OT(a),p=PT(m),g=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=s.reference[p]+s.reference[m]-h[m]-s.floating[p],j=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[w]||s.floating[p]);const k=_/2-j/2,C=S/2-g[p]/2-1,E=Mu(f[y],C),P=Mu(f[b],C),T=E,V=S-g[p]-P,G=S/2-g[p]/2+k,B=JN(T,G,V),I=!c.arrow&&mp(a)!=null&&G!==B&&s.reference[p]/2-(G<T?E:P)-g[p]/2<0,z=I?G<T?G-T:G-V:0;return{[m]:h[m]+z,data:{[m]:B,centerOffset:G-B-z,...I&&{alignmentOffset:z}},reset:I}}}),fie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=uc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=dc(a),b=tl(l),w=dc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!g?[L1(l)]:aie(l)),N=p!=="none";!h&&N&&j.push(...lie(l,g,p,_));const S=[l,...j],k=await Pg(t,v),C=[];let E=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const G=nie(a,o,_);C.push(k[G[0]],k[G[1]])}if(E=[...E,{placement:a,overflows:C}],!C.every(G=>G<=0)){var P,T;const G=(((P=s.flip)==null?void 0:P.index)||0)+1,B=S[G];if(B&&(!(f==="alignment"?b!==tl(B):!1)||E.every(L=>L.overflows[0]>0&&tl(L.placement)===b)))return{data:{index:G,overflows:E},reset:{placement:B}};let I=(T=E.filter(z=>z.overflows[0]<=0).sort((z,L)=>z.overflows[1]-L.overflows[1])[0])==null?void 0:T.placement;if(!I)switch(m){case"bestFit":{var V;const z=(V=E.filter(L=>{if(N){const F=tl(L.placement);return F===b||F==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((L,F)=>L[1]-F[1])[0])==null?void 0:V[0];z&&(I=z);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function RR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function MR(e){return Jse.some(t=>e[t]>=0)}const hie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=uc(e,t);switch(n){case"referenceHidden":{const s=await Pg(t,{...a,elementContext:"reference"}),o=RR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:MR(o)}}}case"escaped":{const s=await Pg(t,{...a,altBoundary:!0}),o=RR(s,r.floating);return{data:{escapedOffsets:o,escaped:MR(o)}}}default:return{}}}}},KB=new Set(["left","top"]);async function mie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=dc(r),l=mp(r),c=tl(r)==="y",u=KB.has(o)?-1:1,d=s&&c?-1:1,f=uc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const pie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await mie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},gie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=uc(e,t),u={x:r,y:n},d=await Pg(t,c),f=tl(dc(a)),h=AT(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],w=m-d[y];m=JN(b,m,w)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+d[v],w=p-d[y];p=JN(b,p,w)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:o}}}}}},vie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uc(e,t),d={x:r,y:n},f=tl(a),h=AT(f);let m=d[h],p=d[f];const g=uc(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+v.mainAxis,j=s.reference[h]+s.reference[w]-v.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var y,b;const w=h==="y"?"width":"height",_=KB.has(dc(a)),j=s.reference[f]-s.floating[w]+(_&&((y=o.offset)==null?void 0:y[f])||0)+(_?0:v.crossAxis),N=s.reference[f]+s.reference[w]+(_?0:((b=o.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);p<j?p=j:p>N&&(p=N)}return{[h]:m,[f]:p}}}},xie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=uc(e,t),d=await Pg(t,u),f=dc(a),h=mp(a),m=tl(a)==="y",{width:p,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,w=p-d.left-d.right,_=Mu(g-d[v],b),j=Mu(p-d[y],w),N=!t.middlewareData.shift;let S=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=b),N&&!h){const E=Gs(d.left,0),P=Gs(d.right,0),T=Gs(d.top,0),V=Gs(d.bottom,0);m?k=p-2*(E!==0||P!==0?E+P:Gs(d.left,d.right)):S=g-2*(T!==0||V!==0?T+V:Gs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function Vw(){return typeof window<"u"}function pp(e){return YB(e)?(e.nodeName||"").toLowerCase():"#document"}function ti(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Sl(e){var t;return(t=(YB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YB(e){return Vw()?e instanceof Node||e instanceof ti(e).Node:!1}function No(e){return Vw()?e instanceof Element||e instanceof ti(e).Element:!1}function ml(e){return Vw()?e instanceof HTMLElement||e instanceof ti(e).HTMLElement:!1}function FR(e){return!Vw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ti(e).ShadowRoot}const yie=new Set(["inline","contents"]);function Vv(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ko(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!yie.has(a)}const bie=new Set(["table","td","th"]);function wie(e){return bie.has(pp(e))}const _ie=[":popover-open",":modal"];function Ww(e){return _ie.some(t=>{try{return e.matches(t)}catch{return!1}})}const jie=["transform","translate","scale","rotate","perspective"],Sie=["transform","translate","scale","rotate","perspective","filter"],Nie=["paint","layout","strict","content"];function DT(e){const t=RT(),r=No(e)?ko(e):e;return jie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Sie.some(n=>(r.willChange||"").includes(n))||Nie.some(n=>(r.contain||"").includes(n))}function kie(e){let t=Fu(e);for(;ml(t)&&!bm(t);){if(DT(t))return t;if(Ww(t))return null;t=Fu(t)}return null}function RT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cie=new Set(["html","body","#document"]);function bm(e){return Cie.has(pp(e))}function ko(e){return ti(e).getComputedStyle(e)}function Hw(e){return No(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fu(e){if(pp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||FR(e)&&e.host||Sl(e);return FR(t)?t.host:t}function XB(e){const t=Fu(e);return bm(t)?e.ownerDocument?e.ownerDocument.body:e.body:ml(t)&&Vv(t)?t:XB(t)}function Og(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=XB(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=ti(a);if(s){const l=tk(o);return t.concat(o,o.visualViewport||[],Vv(a)?a:[],l&&r?Og(l):[])}return t.concat(a,Og(a,[],r))}function tk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QB(e){const t=ko(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ml(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=I1(r)!==s||I1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function MT(e){return No(e)?e:e.contextElement}function Lh(e){const t=MT(e);if(!ml(t))return il(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=QB(t);let o=(s?I1(r.width):r.width)/n,l=(s?I1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Eie=il(0);function ZB(e){const t=ti(e);return!RT()||!t.visualViewport?Eie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ti(e)?!1:t}function rf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=MT(e);let o=il(1);t&&(n?No(n)&&(o=Lh(n)):o=Lh(e));const l=Tie(s,r,n)?ZB(s):il(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=ti(s),m=n&&No(n)?ti(n):n;let p=h,g=tk(p);for(;g&&n&&m!==p;){const v=Lh(g),y=g.getBoundingClientRect(),b=ko(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,_=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,p=ti(g),g=tk(p)}}return $1({width:d,height:f,x:c,y:u})}function FT(e,t){const r=Hw(e).scrollLeft;return t?t.left+r:rf(Sl(e)).left+r}function JB(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:FT(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Aie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Sl(n),l=t?Ww(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=il(1);const d=il(0),f=ml(n);if((f||!f&&!s)&&((pp(n)!=="body"||Vv(o))&&(c=Hw(n)),ml(n))){const m=rf(n);u=Lh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?JB(o,c,!0):il(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Pie(e){return Array.from(e.getClientRects())}function Oie(e){const t=Sl(e),r=Hw(e),n=e.ownerDocument.body,a=Gs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Gs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FT(e);const l=-r.scrollTop;return ko(n).direction==="rtl"&&(o+=Gs(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Die(e,t){const r=ti(e),n=Sl(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=RT();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const Rie=new Set(["absolute","fixed"]);function Mie(e,t){const r=rf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ml(e)?Lh(e):il(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function IR(e,t,r){let n;if(t==="viewport")n=Die(e,r);else if(t==="document")n=Oie(Sl(e));else if(No(t))n=Mie(t,r);else{const a=ZB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return $1(n)}function e9(e,t){const r=Fu(e);return r===t||!No(r)||bm(r)?!1:ko(r).position==="fixed"||e9(r,t)}function Fie(e,t){const r=t.get(e);if(r)return r;let n=Og(e,[],!1).filter(l=>No(l)&&pp(l)!=="body"),a=null;const s=ko(e).position==="fixed";let o=s?Fu(e):e;for(;No(o)&&!bm(o);){const l=ko(o),c=DT(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Rie.has(a.position)||Vv(o)&&!c&&e9(e,o))?n=n.filter(d=>d!==o):a=l,o=Fu(o)}return t.set(e,n),n}function Iie(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Ww(t)?[]:Fie(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=IR(t,d,a);return u.top=Gs(f.top,u.top),u.right=Mu(f.right,u.right),u.bottom=Mu(f.bottom,u.bottom),u.left=Gs(f.left,u.left),u},IR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Lie(e){const{width:t,height:r}=QB(e);return{width:t,height:r}}function $ie(e,t,r){const n=ml(t),a=Sl(t),s=r==="fixed",o=rf(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=il(0);function u(){c.x=FT(a)}if(n||!n&&!s)if((pp(t)!=="body"||Vv(a))&&(l=Hw(t)),n){const m=rf(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?JB(a,l):il(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function NS(e){return ko(e).position==="static"}function LR(e,t){if(!ml(e)||ko(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Sl(e)===r&&(r=r.ownerDocument.body),r}function t9(e,t){const r=ti(e);if(Ww(e))return r;if(!ml(e)){let a=Fu(e);for(;a&&!bm(a);){if(No(a)&&!NS(a))return a;a=Fu(a)}return r}let n=LR(e,t);for(;n&&wie(n)&&NS(n);)n=LR(n,t);return n&&bm(n)&&NS(n)&&!DT(n)?r:n||kie(e)||r}const Bie=async function(e){const t=this.getOffsetParent||t9,r=this.getDimensions,n=await r(e.floating);return{reference:$ie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Uie(e){return ko(e).direction==="rtl"}const zie={convertOffsetParentRelativeRectToViewportRelativeRect:Aie,getDocumentElement:Sl,getClippingRect:Iie,getOffsetParent:t9,getElementRects:Bie,getClientRects:Pie,getDimensions:Lie,getScale:Lh,isElement:No,isRTL:Uie};function r9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Vie(e,t){let r=null,n;const a=Sl(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const p=Jx(f),g=Jx(a.clientWidth-(d+h)),v=Jx(a.clientHeight-(f+m)),y=Jx(d),w={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Gs(0,Mu(1,c))||1};let _=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!_)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!r9(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),s}function Wie(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=MT(e),d=a||s?[...u?Og(u):[],...Og(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?Vie(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?rf(e):null;c&&v();function v(){const y=rf(e);g&&!r9(g,y)&&r(),g=y,p=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const Hie=pie,qie=gie,Gie=fie,Kie=xie,Yie=hie,$R=die,Xie=vie,Qie=(e,t,r)=>{const n=new Map,a={platform:zie,...r},s={...a.platform,_c:n};return uie(e,t,{...a,platform:s})};var Zie=typeof document<"u",Jie=function(){},Ky=Zie?x.useLayoutEffect:Jie;function B1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!B1(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!B1(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function n9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function BR(e,t){const r=n9(e);return Math.round(t*r)/r}function kS(e){const t=x.useRef(e);return Ky(()=>{t.current=e}),t}function eoe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);B1(h,n)||m(n);const[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(L=>{L!==N.current&&(N.current=L,g(L))},[]),w=x.useCallback(L=>{L!==S.current&&(S.current=L,y(L))},[]),_=s||p,j=o||v,N=x.useRef(null),S=x.useRef(null),k=x.useRef(d),C=c!=null,E=kS(c),P=kS(a),T=kS(u),V=x.useCallback(()=>{if(!N.current||!S.current)return;const L={placement:t,strategy:r,middleware:h};P.current&&(L.platform=P.current),Qie(N.current,S.current,L).then(F=>{const Y={...F,isPositioned:T.current!==!1};G.current&&!B1(k.current,Y)&&(k.current=Y,up.flushSync(()=>{f(Y)}))})},[h,t,r,P,T]);Ky(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const G=x.useRef(!1);Ky(()=>(G.current=!0,()=>{G.current=!1}),[]),Ky(()=>{if(_&&(N.current=_),j&&(S.current=j),_&&j){if(E.current)return E.current(_,j,V);V()}},[_,j,V,E,C]);const B=x.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:w}),[b,w]),I=x.useMemo(()=>({reference:_,floating:j}),[_,j]),z=x.useMemo(()=>{const L={position:r,left:0,top:0};if(!I.floating)return L;const F=BR(I.floating,d.x),Y=BR(I.floating,d.y);return l?{...L,transform:"translate("+F+"px, "+Y+"px)",...n9(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:Y}},[r,l,I.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:V,refs:B,elements:I,floatingStyles:z}),[d,V,B,I,z])}const toe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?$R({element:n.current,padding:a}).fn(r):{}:n?$R({element:n,padding:a}).fn(r):{}}}},roe=(e,t)=>({...Hie(e),options:[e,t]}),noe=(e,t)=>({...qie(e),options:[e,t]}),aoe=(e,t)=>({...Xie(e),options:[e,t]}),soe=(e,t)=>({...Gie(e),options:[e,t]}),ioe=(e,t)=>({...Kie(e),options:[e,t]}),ooe=(e,t)=>({...Yie(e),options:[e,t]}),loe=(e,t)=>({...toe(e),options:[e,t]});var coe="Arrow",a9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(ct.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});a9.displayName=coe;var uoe=a9;function IT(e){const[t,r]=x.useState(void 0);return _n(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var LT="Popper",[s9,gp]=is(LT),[doe,i9]=s9(LT),o9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(doe,{scope:t,anchor:n,onAnchorChange:a,children:r})};o9.displayName=LT;var l9="PopperAnchor",c9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=i9(l9,r),o=x.useRef(null),l=$t(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(ct.div,{...a,ref:l})});c9.displayName=l9;var $T="PopperContent",[foe,hoe]=s9($T),u9=x.forwardRef((e,t)=>{var re,xe,se,Q,fe,A;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=i9($T,r),[y,b]=x.useState(null),w=$t(t,Be=>b(Be)),[_,j]=x.useState(null),N=IT(_),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(s!=="center"?"-"+s:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,V={padding:E,boundary:P.filter(poe),altBoundary:T},{refs:G,floatingStyles:B,placement:I,isPositioned:z,middlewareData:L}=eoe({strategy:"fixed",placement:C,whileElementsMounted:(...Be)=>Wie(...Be,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[roe({mainAxis:a+k,alignmentAxis:o}),c&&noe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aoe():void 0,...V}),c&&soe({...V}),ioe({...V,apply:({elements:Be,rects:Me,availableWidth:Le,availableHeight:ze})=>{const{width:Re,height:gt}=Me.reference,ht=Be.floating.style;ht.setProperty("--radix-popper-available-width",`${Le}px`),ht.setProperty("--radix-popper-available-height",`${ze}px`),ht.setProperty("--radix-popper-anchor-width",`${Re}px`),ht.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),_&&loe({element:_,padding:l}),goe({arrowWidth:S,arrowHeight:k}),h&&ooe({strategy:"referenceHidden",...V})]}),[F,Y]=h9(I),X=Vn(p);_n(()=>{z&&(X==null||X())},[z,X]);const D=(re=L.arrow)==null?void 0:re.x,R=(xe=L.arrow)==null?void 0:xe.y,M=((se=L.arrow)==null?void 0:se.centerOffset)!==0,[W,J]=x.useState();return _n(()=>{y&&J(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:z?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Q=L.transformOrigin)==null?void 0:Q.x,(fe=L.transformOrigin)==null?void 0:fe.y].join(" "),...((A=L.hide)==null?void 0:A.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(foe,{scope:r,placedSide:F,onArrowChange:j,arrowX:D,arrowY:R,shouldHideArrow:M,children:i.jsx(ct.div,{"data-side":F,"data-align":Y,...g,ref:w,style:{...g.style,animation:z?void 0:"none"}})})})});u9.displayName=$T;var d9="PopperArrow",moe={top:"bottom",right:"left",bottom:"top",left:"right"},f9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=hoe(d9,n),o=moe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(uoe,{...a,ref:r,style:{...a.style,display:"block"}})})});f9.displayName=d9;function poe(e){return e!==null}var goe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=h9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):u==="top"?(p=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:p,y:g}}}});function h9(e){const[t,r="center"]=e.split("-");return[t,r]}var BT=o9,qw=c9,UT=u9,zT=f9,voe="Portal",Wv=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);_n(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?HZ.createPortal(i.jsx(ct.div,{...n,ref:t}),o):null});Wv.displayName=voe;var xoe=gE[" useInsertionEffect ".trim().toString()]||_n;function fc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=yoe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=boe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function yoe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return xoe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function boe(e){return typeof e=="function"}function VT(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var m9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),woe="VisuallyHidden",_oe=x.forwardRef((e,t)=>i.jsx(ct.span,{...e,ref:t,style:{...m9,...e.style}}));_oe.displayName=woe;var joe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vf=new WeakMap,ey=new WeakMap,ty={},CS=0,p9=function(e){return e&&(e.host||p9(e.parentNode))},Soe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=p9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Noe=function(e,t,r,n){var a=Soe(t,Array.isArray(e)?e:[e]);ty[r]||(ty[r]=new WeakMap);var s=ty[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(Vf.get(h)||0)+1,v=(s.get(h)||0)+1;Vf.set(h,g),s.set(h,v),o.push(h),g===1&&p&&ey.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),CS++,function(){o.forEach(function(f){var h=Vf.get(f)-1,m=s.get(f)-1;Vf.set(f,h),s.set(f,m),h||(ey.has(f)||f.removeAttribute(n),ey.delete(f)),m||f.removeAttribute(r)}),CS--,CS||(Vf=new WeakMap,Vf=new WeakMap,ey=new WeakMap,ty={})}},Gw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=joe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Noe(n,a,r,"aria-hidden")):function(){return null}},Qo=function(){return Qo=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qo.apply(this,arguments)};function g9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function koe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Yy="right-scroll-bar-position",Xy="width-before-scroll-bar",Coe="with-scroll-bars-hidden",Eoe="--removed-body-scroll-bar-size";function ES(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Toe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Aoe=typeof window<"u"?x.useLayoutEffect:x.useEffect,UR=new WeakMap;function Poe(e,t){var r=Toe(null,function(n){return e.forEach(function(a){return ES(a,n)})});return Aoe(function(){var n=UR.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||ES(l,null)}),s.forEach(function(l){a.has(l)||ES(l,o)})}UR.set(r,e)},[e]),r}function Ooe(e){return e}function Doe(e,t){t===void 0&&(t=Ooe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Roe(e){e===void 0&&(e={});var t=Doe(null);return t.options=Qo({async:!0,ssr:!1},e),t}var v9=function(e){var t=e.sideCar,r=g9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Qo({},r))};v9.isSideCarExport=!0;function Moe(e,t){return e.useMedium(t),v9}var x9=Roe(),TS=function(){},Kw=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:TS,onWheelCapture:TS,onTouchMoveCapture:TS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,_=g9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=Poe([r,t]),S=Qo(Qo({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:x9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),Qo(Qo({},S),{ref:N})):x.createElement(b,Qo({},S,{className:c,ref:N}),l))});Kw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kw.classNames={fullWidth:Xy,zeroRight:Yy};var Foe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ioe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Foe();return t&&e.setAttribute("nonce",t),e}function Loe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $oe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Boe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ioe())&&(Loe(t,r),$oe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Uoe=function(){var e=Boe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},y9=function(){var e=Uoe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},zoe={left:0,top:0,right:0,gap:0},AS=function(e){return parseInt(e||"",10)||0},Voe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[AS(r),AS(n),AS(a)]},Woe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zoe;var t=Voe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Hoe=y9(),$h="data-scroll-locked",qoe=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Coe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($h,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yy," .").concat(Yy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($h,`] {
    `).concat(Eoe,": ").concat(l,`px;
  }
`)},zR=function(){var e=parseInt(document.body.getAttribute($h)||"0",10);return isFinite(e)?e:0},Goe=function(){x.useEffect(function(){return document.body.setAttribute($h,(zR()+1).toString()),function(){var e=zR()-1;e<=0?document.body.removeAttribute($h):document.body.setAttribute($h,e.toString())}},[])},Koe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Goe();var s=x.useMemo(function(){return Woe(a)},[a]);return x.createElement(Hoe,{styles:qoe(s,!t,a,r?"":"!important")})},rk=!1;if(typeof window<"u")try{var ry=Object.defineProperty({},"passive",{get:function(){return rk=!0,!0}});window.addEventListener("test",ry,ry),window.removeEventListener("test",ry,ry)}catch{rk=!1}var Wf=rk?{passive:!1}:!1,Yoe=function(e){return e.tagName==="TEXTAREA"},b9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yoe(e)&&r[t]==="visible")},Xoe=function(e){return b9(e,"overflowY")},Qoe=function(e){return b9(e,"overflowX")},VR=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=w9(e,n);if(a){var s=_9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zoe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Joe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},w9=function(e,t){return e==="v"?Xoe(t):Qoe(t)},_9=function(e,t){return e==="v"?Zoe(t):Joe(t)},ele=function(e,t){return e==="h"&&t==="rtl"?-1:1},tle=function(e,t,r,n,a){var s=ele(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=_9(e,l),p=m[0],g=m[1],v=m[2],y=g-v-s*p;(p||y)&&w9(e,l)&&(f+=y,h+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},ny=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},WR=function(e){return[e.deltaX,e.deltaY]},HR=function(e){return e&&"current"in e?e.current:e},rle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},nle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ale=0,Hf=[];function sle(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(ale++)[0],s=x.useState(y9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=koe([e.lockRef.current],(e.shards||[]).map(HR),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=ny(g),b=r.current,w="deltaX"in g?g.deltaX:b[0]-y[0],_="deltaY"in g?g.deltaY:b[1]-y[1],j,N=g.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var k=VR(S,N);if(!k)return!0;if(k?j=S:(j=S==="v"?"h":"v",k=VR(S,N)),!k)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=j),!j)return!0;var C=n.current||j;return tle(C,v,g,C==="h"?w:_,!0)},[]),c=x.useCallback(function(g){var v=g;if(!(!Hf.length||Hf[Hf.length-1]!==s)){var y="deltaY"in v?WR(v):ny(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&rle(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(HR).filter(Boolean).filter(function(j){return j.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,y,b){var w={name:g,delta:v,target:y,should:b,shadowParent:ile(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(g){r.current=ny(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,WR(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,ny(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return Hf.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wf),document.addEventListener("touchmove",c,Wf),document.addEventListener("touchstart",d,Wf),function(){Hf=Hf.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,Wf),document.removeEventListener("touchmove",c,Wf),document.removeEventListener("touchstart",d,Wf)}},[]);var m=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(s,{styles:nle(a)}):null,m?x.createElement(Koe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ile(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ole=Moe(x9,sle);var Hv=x.forwardRef(function(e,t){return x.createElement(Kw,Qo({},e,{ref:t,sideCar:ole}))});Hv.classNames=Kw.classNames;var lle=[" ","Enter","ArrowUp","ArrowDown"],cle=[" ","Enter"],nf="Select",[Yw,Xw,ule]=TT(nf),[vp,CHe]=is(nf,[ule,gp]),Qw=gp(),[dle,qu]=vp(nf),[fle,hle]=vp(nf),j9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,g=Qw(t),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,j]=x.useState(!1),N=Bv(u),[S,k]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:nf}),[C,E]=fc({prop:o,defaultProp:l,onChange:c,caller:nf}),P=x.useRef(null),T=v?p||!!v.closest("form"):!0,[V,G]=x.useState(new Set),B=Array.from(V).map(I=>I.props.value).join(";");return i.jsx(BT,{...g,children:i.jsxs(dle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:ea(),value:C,onValueChange:E,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(Yw.Provider,{scope:t,children:i.jsx(fle,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(I=>{G(z=>new Set(z).add(I))},[]),onNativeOptionRemove:x.useCallback(I=>{G(z=>{const L=new Set(z);return L.delete(I),L})},[]),children:r})}),T?i.jsxs(G9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:I=>E(I.target.value),disabled:h,form:p,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},B):null]})})};j9.displayName=nf;var S9="SelectTrigger",N9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=Qw(r),o=qu(S9,r),l=o.disabled||n,c=$t(t,o.onTriggerChange),u=Xw(r),d=x.useRef("touch"),[f,h,m]=Y9(g=>{const v=u().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=X9(v,g,y);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(qw,{asChild:!0,...s,children:i.jsx(ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":K9(o.value)?"":void 0,...a,ref:c,onClick:tt(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:tt(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:tt(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&lle.includes(g.key)&&(p(),g.preventDefault())})})})});N9.displayName=S9;var k9="SelectValue",C9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=qu(k9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=$t(t,c.onValueNodeChange);return _n(()=>{u(d)},[u,d]),i.jsx(ct.span,{...l,ref:f,style:{pointerEvents:"none"},children:K9(c.value)?i.jsx(i.Fragment,{children:o}):s})});C9.displayName=k9;var mle="SelectIcon",E9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(ct.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});E9.displayName=mle;var ple="SelectPortal",T9=e=>i.jsx(Wv,{asChild:!0,...e});T9.displayName=ple;var af="SelectContent",A9=x.forwardRef((e,t)=>{const r=qu(af,e.__scopeSelect),[n,a]=x.useState();if(_n(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?up.createPortal(i.jsx(P9,{scope:e.__scopeSelect,children:i.jsx(Yw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(O9,{...e,ref:t})});A9.displayName=af;var Yi=10,[P9,Gu]=vp(af),gle="SelectContentImpl",vle=Ru("SelectContent.RemoveScroll"),O9=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=qu(af,r),[w,_]=x.useState(null),[j,N]=x.useState(null),S=$t(t,re=>_(re)),[k,C]=x.useState(null),[E,P]=x.useState(null),T=Xw(r),[V,G]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(w)return Gw(w)},[w]),zw();const I=x.useCallback(re=>{const[xe,...se]=T().map(A=>A.ref.current),[Q]=se.slice(-1),fe=document.activeElement;for(const A of re)if(A===fe||(A==null||A.scrollIntoView({block:"nearest"}),A===xe&&j&&(j.scrollTop=0),A===Q&&j&&(j.scrollTop=j.scrollHeight),A==null||A.focus(),document.activeElement!==fe))return},[T,j]),z=x.useCallback(()=>I([k,w]),[I,k,w]);x.useEffect(()=>{V&&z()},[V,z]);const{onOpenChange:L,triggerPointerDownPosRef:F}=b;x.useEffect(()=>{if(w){let re={x:0,y:0};const xe=Q=>{var fe,A;re={x:Math.abs(Math.round(Q.pageX)-(((fe=F.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((A=F.current)==null?void 0:A.y)??0))}},se=Q=>{re.x<=10&&re.y<=10?Q.preventDefault():w.contains(Q.target)||L(!1),document.removeEventListener("pointermove",xe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,L,F]),x.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[Y,X]=Y9(re=>{const xe=T().filter(fe=>!fe.disabled),se=xe.find(fe=>fe.ref.current===document.activeElement),Q=X9(xe,re,se);Q&&setTimeout(()=>Q.ref.current.focus())}),D=x.useCallback((re,xe,se)=>{const Q=!B.current&&!se;(b.value!==void 0&&b.value===xe||Q)&&(C(re),Q&&(B.current=!0))},[b.value]),R=x.useCallback(()=>w==null?void 0:w.focus(),[w]),M=x.useCallback((re,xe,se)=>{const Q=!B.current&&!se;(b.value!==void 0&&b.value===xe||Q)&&P(re)},[b.value]),W=n==="popper"?nk:D9,J=W===nk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return i.jsx(P9,{scope:r,content:w,viewport:j,onViewportChange:N,itemRefCallback:D,selectedItem:k,onItemLeave:R,itemTextRefCallback:M,focusSelectedItem:z,selectedItemText:E,position:n,isPositioned:V,searchRef:Y,children:i.jsx(Hv,{as:vle,allowPinchZoom:!0,children:i.jsx(zv,{asChild:!0,trapped:b.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:tt(a,re=>{var xe;(xe=b.trigger)==null||xe.focus({preventScroll:!0}),re.preventDefault()}),children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(W,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:re=>re.preventDefault(),...y,...J,onPlaced:()=>G(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:tt(y.onKeyDown,re=>{const xe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!xe&&re.key.length===1&&X(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Q=T().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const fe=re.target,A=Q.indexOf(fe);Q=Q.slice(A+1)}setTimeout(()=>I(Q)),re.preventDefault()}})})})})})})});O9.displayName=gle;var xle="SelectItemAlignedPosition",D9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=qu(af,r),o=Gu(af,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=$t(t,S=>d(S)),h=Xw(r),m=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&v&&y){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),E=y.getBoundingClientRect();if(s.dir!=="rtl"){const fe=E.left-k.left,A=C.left-fe,Be=S.left-A,Me=S.width+Be,Le=Math.max(Me,k.width),ze=window.innerWidth-Yi,Re=QN(A,[Yi,Math.max(Yi,ze-Le)]);l.style.minWidth=Me+"px",l.style.left=Re+"px"}else{const fe=k.right-E.right,A=window.innerWidth-C.right-fe,Be=window.innerWidth-S.right-A,Me=S.width+Be,Le=Math.max(Me,k.width),ze=window.innerWidth-Yi,Re=QN(A,[Yi,Math.max(Yi,ze-Le)]);l.style.minWidth=Me+"px",l.style.right=Re+"px"}const P=h(),T=window.innerHeight-Yi*2,V=g.scrollHeight,G=window.getComputedStyle(u),B=parseInt(G.borderTopWidth,10),I=parseInt(G.paddingTop,10),z=parseInt(G.borderBottomWidth,10),L=parseInt(G.paddingBottom,10),F=B+I+V+L+z,Y=Math.min(v.offsetHeight*5,F),X=window.getComputedStyle(g),D=parseInt(X.paddingTop,10),R=parseInt(X.paddingBottom,10),M=S.top+S.height/2-Yi,W=T-M,J=v.offsetHeight/2,re=v.offsetTop+J,xe=B+I+re,se=F-xe;if(xe<=M){const fe=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const A=u.clientHeight-g.offsetTop-g.offsetHeight,Be=Math.max(W,J+(fe?R:0)+A+z),Me=xe+Be;l.style.height=Me+"px"}else{const fe=P.length>0&&v===P[0].ref.current;l.style.top="0px";const Be=Math.max(M,B+g.offsetTop+(fe?D:0)+J)+se;l.style.height=Be+"px",g.scrollTop=xe-M+g.offsetTop}l.style.margin=`${Yi}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,v,y,s.dir,n]);_n(()=>w(),[w]);const[_,j]=x.useState();_n(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&p.current===!0&&(w(),b==null||b(),p.current=!1)},[w,b]);return i.jsx(ble,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:i.jsx(ct.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});D9.displayName=xle;var yle="SelectPopperPosition",nk=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Yi,...s}=e,o=Qw(r);return i.jsx(UT,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nk.displayName=yle;var[ble,WT]=vp(af,{}),ak="SelectViewport",R9=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Gu(ak,r),o=WT(ak,r),l=$t(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Yw.Slot,{scope:r,children:i.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tt(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-Yi*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<p){const b=y+m,w=Math.min(p,b),_=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});R9.displayName=ak;var M9="SelectGroup",[wle,_le]=vp(M9),jle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ea();return i.jsx(wle,{scope:r,id:a,children:i.jsx(ct.div,{role:"group","aria-labelledby":a,...n,ref:t})})});jle.displayName=M9;var F9="SelectLabel",I9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_le(F9,r);return i.jsx(ct.div,{id:a.id,...n,ref:t})});I9.displayName=F9;var U1="SelectItem",[Sle,L9]=vp(U1),$9=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=qu(U1,r),c=Gu(U1,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),p=$t(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,a)}),g=ea(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Sle,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Yw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(ct.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:tt(o.onFocus,()=>m(!0)),onBlur:tt(o.onBlur,()=>m(!1)),onClick:tt(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:tt(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:tt(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:tt(o.onPointerMove,b=>{var w;v.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:tt(o.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(cle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});$9.displayName=U1;var w0="SelectItemText",B9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=qu(w0,r),l=Gu(w0,r),c=L9(w0,r),u=hle(w0,r),[d,f]=x.useState(null),h=$t(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return _n(()=>(g(p),()=>v(p)),[g,v,p]),i.jsxs(i.Fragment,{children:[i.jsx(ct.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?up.createPortal(s.children,o.valueNode):null]})});B9.displayName=w0;var U9="SelectItemIndicator",z9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return L9(U9,r).isSelected?i.jsx(ct.span,{"aria-hidden":!0,...n,ref:t}):null});z9.displayName=U9;var sk="SelectScrollUpButton",V9=x.forwardRef((e,t)=>{const r=Gu(sk,e.__scopeSelect),n=WT(sk,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return _n(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(H9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});V9.displayName=sk;var ik="SelectScrollDownButton",W9=x.forwardRef((e,t)=>{const r=Gu(ik,e.__scopeSelect),n=WT(ik,e.__scopeSelect),[a,s]=x.useState(!1),o=$t(t,n.onScrollButtonChange);return _n(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(H9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});W9.displayName=ik;var H9=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Gu("SelectScrollButton",r),o=x.useRef(null),l=Xw(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),_n(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ct.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:tt(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:tt(a.onPointerLeave,()=>{c()})})}),Nle="SelectSeparator",q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(ct.div,{"aria-hidden":!0,...n,ref:t})});q9.displayName=Nle;var ok="SelectArrow",kle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qw(r),s=qu(ok,r),o=Gu(ok,r);return s.open&&o.position==="popper"?i.jsx(zT,{...a,...n,ref:t}):null});kle.displayName=ok;var Cle="SelectBubbleInput",G9=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=$t(n,a),o=VT(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(ct.select,{...r,style:{...m9,...r.style},ref:s,defaultValue:t})});G9.displayName=Cle;function K9(e){return e===""||e===void 0}function Y9(e){const t=Vn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function X9(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Ele(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Ele(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Tle=j9,Q9=N9,Ale=C9,Ple=E9,Ole=T9,Z9=A9,Dle=R9,J9=I9,eU=$9,Rle=B9,Mle=z9,tU=V9,rU=W9,nU=q9;const yt=Tle,bt=Ale,mt=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Q9,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Ple,{asChild:!0,children:i.jsx(Fh,{className:"h-4 w-4 opacity-50"})})]}));mt.displayName=Q9.displayName;const aU=x.forwardRef(({className:e,...t},r)=>i.jsx(tU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(aae,{className:"h-4 w-4"})}));aU.displayName=tU.displayName;const sU=x.forwardRef(({className:e,...t},r)=>i.jsx(rU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Fh,{className:"h-4 w-4"})}));sU.displayName=rU.displayName;const pt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(Ole,{children:i.jsxs(Z9,{ref:a,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(aU,{}),i.jsx(Dle,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(sU,{})]})}));pt.displayName=Z9.displayName;const Fle=x.forwardRef(({className:e,...t},r)=>i.jsx(J9,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Fle.displayName=J9.displayName;const Te=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(eU,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Mle,{children:i.jsx(NT,{className:"h-4 w-4"})})}),i.jsx(Rle,{children:t})]}));Te.displayName=eU.displayName;const Ile=x.forwardRef(({className:e,...t},r)=>i.jsx(nU,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));Ile.displayName=nU.displayName;const iU=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=Da(),n=r.find(a=>a.code===e);return i.jsxs(yt,{value:e,onValueChange:t,children:[i.jsx(mt,{className:"w-[140px]",children:i.jsx(bt,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(pt,{children:r.map(a=>i.jsx(Te,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function Lle(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Ra=e=>{const{present:t,children:r}=e,n=$le(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=$t(n.ref,Ble(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};Ra.displayName="Presence";function $le(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lle(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=ay(n.current);s.current=l==="mounted"?u:"none"},[l]),_n(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=ay(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),_n(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=ay(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=ay(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ay(e){return(e==null?void 0:e.animationName)||"none"}function Ble(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var PS="rovingFocusGroup.onEntryFocus",Ule={bubbles:!1,cancelable:!0},qv="RovingFocusGroup",[lk,oU,zle]=TT(qv),[Vle,Zw]=is(qv,[zle]),[Wle,Hle]=Vle(qv),lU=x.forwardRef((e,t)=>i.jsx(lk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(qle,{...e,ref:t})})}));lU.displayName=qv;var qle=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=$t(t,h),p=Bv(s),[g,v]=fc({prop:o,defaultProp:l??null,onChange:c,caller:qv}),[y,b]=x.useState(!1),w=Vn(u),_=oU(r),j=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(PS,w),()=>k.removeEventListener(PS,w)},[w]),i.jsx(Wle,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:i.jsx(ct.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{j.current=!0}),onFocus:tt(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const E=new CustomEvent(PS,Ule);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const P=_().filter(I=>I.focusable),T=P.find(I=>I.active),V=P.find(I=>I.id===g),B=[T,V,...P].filter(Boolean).map(I=>I.ref.current);dU(B,d)}}j.current=!1}),onBlur:tt(e.onBlur,()=>b(!1))})})}),cU="RovingFocusGroupItem",uU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ea(),u=s||c,d=Hle(cU,r),f=d.currentTabStopId===u,h=oU(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),i.jsx(lk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(ct.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:tt(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:tt(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:tt(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Yle(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?Xle(w,_+1):w.slice(_+1)}setTimeout(()=>dU(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});uU.displayName=cU;var Gle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Yle(e,t,r){const n=Kle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Gle[n]}function dU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Xle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fU=lU,hU=uU,ck=["Enter"," "],Qle=["ArrowDown","PageUp","Home"],mU=["ArrowUp","PageDown","End"],Zle=[...Qle,...mU],Jle={ltr:[...ck,"ArrowRight"],rtl:[...ck,"ArrowLeft"]},ece={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Gv="Menu",[Dg,tce,rce]=TT(Gv),[Sf,pU]=is(Gv,[rce,gp,Zw]),Jw=gp(),gU=Zw(),[nce,Nf]=Sf(Gv),[ace,Kv]=Sf(Gv),vU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=Jw(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Vn(s),h=Bv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),i.jsx(BT,{...l,children:i.jsx(nce,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(ace,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};vU.displayName=Gv;var sce="MenuAnchor",HT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Jw(r);return i.jsx(qw,{...a,...n,ref:t})});HT.displayName=sce;var qT="MenuPortal",[ice,xU]=Sf(qT,{forceMount:void 0}),yU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Nf(qT,t);return i.jsx(ice,{scope:t,forceMount:r,children:i.jsx(Ra,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};yU.displayName=qT;var Ti="MenuContent",[oce,GT]=Sf(Ti),bU=x.forwardRef((e,t)=>{const r=xU(Ti,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ti,e.__scopeMenu),o=Kv(Ti,e.__scopeMenu);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Ra,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(lce,{...a,ref:t}):i.jsx(cce,{...a,ref:t})})})})}),lce=x.forwardRef((e,t)=>{const r=Nf(Ti,e.__scopeMenu),n=x.useRef(null),a=$t(t,n);return x.useEffect(()=>{const s=n.current;if(s)return Gw(s)},[]),i.jsx(KT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cce=x.forwardRef((e,t)=>{const r=Nf(Ti,e.__scopeMenu);return i.jsx(KT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),uce=Ru("MenuContent.ScrollLock"),KT=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,v=Nf(Ti,r),y=Kv(Ti,r),b=Jw(r),w=gU(r),_=tce(r),[j,N]=x.useState(null),S=x.useRef(null),k=$t(t,S,v.onContentChange),C=x.useRef(0),E=x.useRef(""),P=x.useRef(0),T=x.useRef(null),V=x.useRef("right"),G=x.useRef(0),B=p?Hv:x.Fragment,I=p?{as:uce,allowPinchZoom:!0}:void 0,z=F=>{var re,xe;const Y=E.current+F,X=_().filter(se=>!se.disabled),D=document.activeElement,R=(re=X.find(se=>se.ref.current===D))==null?void 0:re.textValue,M=X.map(se=>se.textValue),W=_ce(M,Y,R),J=(xe=X.find(se=>se.textValue===W))==null?void 0:xe.ref.current;(function se(Q){E.current=Q,window.clearTimeout(C.current),Q!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})(Y),J&&setTimeout(()=>J.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),zw();const L=x.useCallback(F=>{var X,D;return V.current===((X=T.current)==null?void 0:X.side)&&Sce(F,(D=T.current)==null?void 0:D.area)},[]);return i.jsx(oce,{scope:r,searchRef:E,onItemEnter:x.useCallback(F=>{L(F)&&F.preventDefault()},[L]),onItemLeave:x.useCallback(F=>{var Y;L(F)||((Y=S.current)==null||Y.focus(),N(null))},[L]),onTriggerLeave:x.useCallback(F=>{L(F)&&F.preventDefault()},[L]),pointerGraceTimerRef:P,onPointerGraceIntentChange:x.useCallback(F=>{T.current=F},[]),children:i.jsx(B,{...I,children:i.jsx(zv,{asChild:!0,trapped:a,onMountAutoFocus:tt(s,F=>{var Y;F.preventDefault(),(Y=S.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(fU,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:tt(c,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(UT,{role:"menu","aria-orientation":"vertical","data-state":FU(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:tt(g.onKeyDown,F=>{const X=F.target.closest("[data-radix-menu-content]")===F.currentTarget,D=F.ctrlKey||F.altKey||F.metaKey,R=F.key.length===1;X&&(F.key==="Tab"&&F.preventDefault(),!D&&R&&z(F.key));const M=S.current;if(F.target!==M||!Zle.includes(F.key))return;F.preventDefault();const J=_().filter(re=>!re.disabled).map(re=>re.ref.current);mU.includes(F.key)&&J.reverse(),bce(J)}),onBlur:tt(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:tt(e.onPointerMove,Rg(F=>{const Y=F.target,X=G.current!==F.clientX;if(F.currentTarget.contains(Y)&&X){const D=F.clientX>G.current?"right":"left";V.current=D,G.current=F.clientX}}))})})})})})})});bU.displayName=Ti;var dce="MenuGroup",YT=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ct.div,{role:"group",...n,ref:t})});YT.displayName=dce;var fce="MenuLabel",wU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ct.div,{...n,ref:t})});wU.displayName=fce;var z1="MenuItem",qR="menu.itemSelect",e_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=Kv(z1,e.__scopeMenu),l=GT(z1,e.__scopeMenu),c=$t(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(qR,{bubbles:!0,cancelable:!0});f.addEventListener(qR,m=>n==null?void 0:n(m),{once:!0}),TB(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(_U,{...a,ref:c,disabled:r,onClick:tt(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:tt(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:tt(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||ck.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});e_.displayName=z1;var _U=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=GT(z1,r),l=gU(r),c=x.useRef(null),u=$t(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[s.children]),i.jsx(Dg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(hU,{asChild:!0,...l,focusable:!n,children:i.jsx(ct.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:tt(e.onPointerMove,Rg(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(e.onPointerLeave,Rg(p=>o.onItemLeave(p))),onFocus:tt(e.onFocus,()=>f(!0)),onBlur:tt(e.onBlur,()=>f(!1))})})})}),hce="MenuCheckboxItem",jU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(EU,{scope:e.__scopeMenu,checked:r,children:i.jsx(e_,{role:"menuitemcheckbox","aria-checked":V1(r)?"mixed":r,...a,ref:t,"data-state":QT(r),onSelect:tt(a.onSelect,()=>n==null?void 0:n(V1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jU.displayName=hce;var SU="MenuRadioGroup",[mce,pce]=Sf(SU,{value:void 0,onValueChange:()=>{}}),NU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Vn(n);return i.jsx(mce,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(YT,{...a,ref:t})})});NU.displayName=SU;var kU="MenuRadioItem",CU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=pce(kU,e.__scopeMenu),s=r===a.value;return i.jsx(EU,{scope:e.__scopeMenu,checked:s,children:i.jsx(e_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":QT(s),onSelect:tt(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});CU.displayName=kU;var XT="MenuItemIndicator",[EU,gce]=Sf(XT,{checked:!1}),TU=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=gce(XT,r);return i.jsx(Ra,{present:n||V1(s.checked)||s.checked===!0,children:i.jsx(ct.span,{...a,ref:t,"data-state":QT(s.checked)})})});TU.displayName=XT;var vce="MenuSeparator",AU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});AU.displayName=vce;var xce="MenuArrow",PU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Jw(r);return i.jsx(zT,{...a,...n,ref:t})});PU.displayName=xce;var yce="MenuSub",[EHe,OU]=Sf(yce),_0="MenuSubTrigger",DU=x.forwardRef((e,t)=>{const r=Nf(_0,e.__scopeMenu),n=Kv(_0,e.__scopeMenu),a=OU(_0,e.__scopeMenu),s=GT(_0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(HT,{asChild:!0,...u,children:i.jsx(_U,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":FU(r.open),...e,ref:cc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:tt(e.onPointerMove,Rg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:tt(e.onPointerLeave,Rg(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",y=v?-5:5,b=h[v?"left":"right"],w=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:tt(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Jle[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});DU.displayName=_0;var RU="MenuSubContent",MU=x.forwardRef((e,t)=>{const r=xU(Ti,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Nf(Ti,e.__scopeMenu),o=Kv(Ti,e.__scopeMenu),l=OU(RU,e.__scopeMenu),c=x.useRef(null),u=$t(t,c);return i.jsx(Dg.Provider,{scope:e.__scopeMenu,children:i.jsx(Ra,{present:n||s.open,children:i.jsx(Dg.Slot,{scope:e.__scopeMenu,children:i.jsx(KT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:tt(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:tt(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:tt(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=ece[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});MU.displayName=RU;function FU(e){return e?"open":"closed"}function V1(e){return e==="indeterminate"}function QT(e){return V1(e)?"indeterminate":e?"checked":"unchecked"}function bce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function wce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function _ce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=wce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function jce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Sce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return jce(r,t)}function Rg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Nce=vU,kce=HT,Cce=yU,Ece=bU,Tce=YT,Ace=wU,Pce=e_,Oce=jU,Dce=NU,Rce=CU,Mce=TU,Fce=AU,Ice=PU,Lce=DU,$ce=MU,t_="DropdownMenu",[Bce,THe]=is(t_,[pU]),os=pU(),[Uce,IU]=Bce(t_),LU=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=os(t),u=x.useRef(null),[d,f]=fc({prop:a,defaultProp:s??!1,onChange:o,caller:t_});return i.jsx(Uce,{scope:t,triggerId:ea(),triggerRef:u,contentId:ea(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Nce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};LU.displayName=t_;var $U="DropdownMenuTrigger",BU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=IU($U,r),o=os(r);return i.jsx(kce,{asChild:!0,...o,children:i.jsx(ct.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:cc(t,s.triggerRef),onPointerDown:tt(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:tt(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BU.displayName=$U;var zce="DropdownMenuPortal",UU=e=>{const{__scopeDropdownMenu:t,...r}=e,n=os(t);return i.jsx(Cce,{...n,...r})};UU.displayName=zce;var zU="DropdownMenuContent",VU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IU(zU,r),s=os(r),o=x.useRef(!1);return i.jsx(Ece,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:tt(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:tt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VU.displayName=zU;var Vce="DropdownMenuGroup",Wce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Tce,{...a,...n,ref:t})});Wce.displayName=Vce;var Hce="DropdownMenuLabel",WU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Ace,{...a,...n,ref:t})});WU.displayName=Hce;var qce="DropdownMenuItem",HU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Pce,{...a,...n,ref:t})});HU.displayName=qce;var Gce="DropdownMenuCheckboxItem",qU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Oce,{...a,...n,ref:t})});qU.displayName=Gce;var Kce="DropdownMenuRadioGroup",Yce=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Dce,{...a,...n,ref:t})});Yce.displayName=Kce;var Xce="DropdownMenuRadioItem",GU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Rce,{...a,...n,ref:t})});GU.displayName=Xce;var Qce="DropdownMenuItemIndicator",KU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Mce,{...a,...n,ref:t})});KU.displayName=Qce;var Zce="DropdownMenuSeparator",YU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Fce,{...a,...n,ref:t})});YU.displayName=Zce;var Jce="DropdownMenuArrow",eue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Ice,{...a,...n,ref:t})});eue.displayName=Jce;var tue="DropdownMenuSubTrigger",XU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx(Lce,{...a,...n,ref:t})});XU.displayName=tue;var rue="DropdownMenuSubContent",QU=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=os(r);return i.jsx($ce,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QU.displayName=rue;var nue=LU,aue=BU,sue=UU,ZU=VU,JU=WU,e7=HU,t7=qU,r7=GU,n7=KU,a7=YU,s7=XU,i7=QU;const ZT=nue,JT=aue,iue=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(s7,{ref:a,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(Lw,{className:"ml-auto h-4 w-4"})]}));iue.displayName=s7.displayName;const oue=x.forwardRef(({className:e,...t},r)=>i.jsx(i7,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));oue.displayName=i7.displayName;const r_=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(sue,{children:i.jsx(ZU,{ref:n,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));r_.displayName=ZU.displayName;const Vl=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(e7,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Vl.displayName=e7.displayName;const lue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(t7,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n7,{children:i.jsx(NT,{className:"h-4 w-4"})})}),t]}));lue.displayName=t7.displayName;const cue=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(r7,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(n7,{children:i.jsx(iae,{className:"h-2 w-2 fill-current"})})}),t]}));cue.displayName=r7.displayName;const uue=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(JU,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));uue.displayName=JU.displayName;const uk=x.forwardRef(({className:e,...t},r)=>i.jsx(a7,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));uk.displayName=a7.displayName;var n_="Dialog",[o7,l7]=is(n_),[due,Ao]=o7(n_),c7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:n_});return i.jsx(due,{scope:t,triggerRef:l,contentRef:c,contentId:ea(),titleId:ea(),descriptionId:ea(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};c7.displayName=n_;var u7="DialogTrigger",d7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(u7,r),s=$t(t,a.triggerRef);return i.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rA(a.open),...n,ref:s,onClick:tt(e.onClick,a.onOpenToggle)})});d7.displayName=u7;var eA="DialogPortal",[fue,f7]=o7(eA,{forceMount:void 0}),h7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Ao(eA,t);return i.jsx(fue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(Ra,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:o})}))})};h7.displayName=eA;var W1="DialogOverlay",m7=x.forwardRef((e,t)=>{const r=f7(W1,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ao(W1,e.__scopeDialog);return s.modal?i.jsx(Ra,{present:n||s.open,children:i.jsx(mue,{...a,ref:t})}):null});m7.displayName=W1;var hue=Ru("DialogOverlay.RemoveScroll"),mue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(W1,r);return i.jsx(Hv,{as:hue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(ct.div,{"data-state":rA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sf="DialogContent",p7=x.forwardRef((e,t)=>{const r=f7(sf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ao(sf,e.__scopeDialog);return i.jsx(Ra,{present:n||s.open,children:s.modal?i.jsx(pue,{...a,ref:t}):i.jsx(gue,{...a,ref:t})})});p7.displayName=sf;var pue=x.forwardRef((e,t)=>{const r=Ao(sf,e.__scopeDialog),n=x.useRef(null),a=$t(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return Gw(s)},[]),i.jsx(g7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:tt(e.onFocusOutside,s=>s.preventDefault())})}),gue=x.forwardRef((e,t)=>{const r=Ao(sf,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(g7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),g7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Ao(sf,r),c=x.useRef(null),u=$t(t,c);return zw(),i.jsxs(i.Fragment,{children:[i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(xue,{titleId:l.titleId}),i.jsx(bue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tA="DialogTitle",v7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(tA,r);return i.jsx(ct.h2,{id:a.titleId,...n,ref:t})});v7.displayName=tA;var x7="DialogDescription",y7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(x7,r);return i.jsx(ct.p,{id:a.descriptionId,...n,ref:t})});y7.displayName=x7;var b7="DialogClose",w7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ao(b7,r);return i.jsx(ct.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});w7.displayName=b7;function rA(e){return e?"open":"closed"}var _7="DialogTitleWarning",[vue,j7]=kse(_7,{contentName:sf,titleName:tA,docsSlug:"dialog"}),xue=({titleId:e})=>{const t=j7(_7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yue="DialogDescriptionWarning",bue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${j7(yue).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},a_=c7,nA=d7,s_=h7,xp=m7,yp=p7,Yv=v7,Xv=y7,i_=w7;const xn=a_,H1=nA,wue=s_,S7=x.forwardRef(({className:e,...t},r)=>i.jsx(xp,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));S7.displayName=xp.displayName;const sn=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(wue,{children:[i.jsx(S7,{}),i.jsxs(yp,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(i_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(jo,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sn.displayName=yp.displayName;const on=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});on.displayName="DialogHeader";const Aa=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Xt()&&"sm:space-x-reverse",e),...t});Aa.displayName="DialogFooter";const ln=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));ln.displayName=Yv.displayName;const Pa=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Pa.displayName=Xv.displayName;const _ue=$v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),wm=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:be(_ue({variant:t}),e),...r}));wm.displayName="Alert";const jue=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...t}));jue.displayName="AlertTitle";const _m=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",e),...t}));_m.displayName="AlertDescription";function Sue({onToggleSidebar:e}){var _,j,N;const{breadcrumbs:t}=Iv(),{user:r,logout:n}=gr(),{t:a}=Bt(),s=Ms(),{setTheme:o}=zne(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState(""),[g,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(S){console.error("Logout failed:",S),s("/login")}},b=()=>{c(!0)},w=async S=>{if(S.preventDefault(),!g){if(!u.trim()){p(a("settings.newPasswordRequired"));return}if(u.length<6){p(a("settings.passwordTooShort"));return}if(u!==f){p(a("settings.passwordsDoNotMatch"));return}p(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(k){console.error("Password change failed:",k),p(k.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(gae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(Rse,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Oe((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(iU,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(eae,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,children:i.jsxs(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(So,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),i.jsx(Cs,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=r==null?void 0:r.email)==null?void 0:j.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(r_,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Oe((r==null?void 0:r.profile)||{},"user_name")||((N=r==null?void 0:r.email)==null?void 0:N.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(uk,{}),i.jsxs(Vl,{onClick:()=>o("light"),children:[i.jsx(Nae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs(Vl,{onClick:()=>o("dark"),children:[i.jsx(xae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs(Vl,{onClick:()=>o("system"),children:[i.jsx(kT,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(uk,{}),i.jsxs(Vl,{onClick:b,children:[i.jsx(mae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs(Vl,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(Eae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(xn,{open:l,onOpenChange:c,children:i.jsxs(sn,{className:"sm:max-w-[425px]",children:[i.jsxs(on,{children:[i.jsx(ln,{children:a("settings.changePassword")}),i.jsx(Pa,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[m&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(Ve,{id:"newPassword",type:"password",value:u,onChange:S=>d(S.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(Ve,{id:"confirmPassword",type:"password",value:f,onChange:S=>h(S.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(Aa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ue,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(ue,{type:"submit",disabled:g||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const pl=a_,N7=nA,Nue=s_,k7=x.forwardRef(({className:e,...t},r)=>i.jsx(xp,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));k7.displayName=xp.displayName;const kue=$v("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Co=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Nue,{children:[i.jsx(k7,{}),i.jsxs(yp,{ref:a,className:be(kue({side:e}),t),...n,children:[r,i.jsxs(i_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(jo,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Co.displayName=yp.displayName;const hc=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});hc.displayName="SheetHeader";const gl=x.forwardRef(({className:e,...t},r)=>i.jsx(Yv,{ref:r,className:be("text-lg font-semibold text-foreground",e),...t}));gl.displayName=Yv.displayName;const of=x.forwardRef(({className:e,...t},r)=>i.jsx(Xv,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));of.displayName=Xv.displayName;function dk({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1),[s,o]=x.useState(!1);x.useEffect(()=>{const u=()=>{const d=window.innerWidth;a(d<768),o(d>=768&&d<1024),d<768?r(!1):r(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const l=()=>{r(!t)},c=()=>{n&&r(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(Sue,{onToggleSidebar:l}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&!s&&i.jsx("aside",{className:be("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(wS,{onNavigate:c})}),s&&i.jsx("aside",{className:be("bg-sidebar transition-all duration-300 ease-in-out h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(wS,{onNavigate:c})}),n&&i.jsx(pl,{open:t,onOpenChange:r,children:i.jsxs(Co,{side:Xt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(gl,{className:"sr-only",children:"Navigation Menu"}),i.jsx(of,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(wS,{onNavigate:c})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const OS=1024;function Jr(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${OS-1}px)`),n=()=>{t(window.innerWidth<OS)};return r.addEventListener("change",n),t(window.innerWidth<OS),()=>r.removeEventListener("change",n)},[]),!!e}const Cue=$v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ut({className:e,variant:t,...r}){return i.jsx("div",{className:be(Cue({variant:t}),e),...r})}function C7(){Bt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var Eue=Array.isArray,Is=Eue,Tue=typeof Ax=="object"&&Ax&&Ax.Object===Object&&Ax,E7=Tue,Aue=E7,Pue=typeof self=="object"&&self&&self.Object===Object&&self,Oue=Aue||Pue||Function("return this")(),Nl=Oue,Due=Nl,Rue=Due.Symbol,Qv=Rue,GR=Qv,T7=Object.prototype,Mue=T7.hasOwnProperty,Fue=T7.toString,Zp=GR?GR.toStringTag:void 0;function Iue(e){var t=Mue.call(e,Zp),r=e[Zp];try{e[Zp]=void 0;var n=!0}catch{}var a=Fue.call(e);return n&&(t?e[Zp]=r:delete e[Zp]),a}var Lue=Iue,$ue=Object.prototype,Bue=$ue.toString;function Uue(e){return Bue.call(e)}var zue=Uue,KR=Qv,Vue=Lue,Wue=zue,Hue="[object Null]",que="[object Undefined]",YR=KR?KR.toStringTag:void 0;function Gue(e){return e==null?e===void 0?que:Hue:YR&&YR in Object(e)?Vue(e):Wue(e)}var _c=Gue;function Kue(e){return e!=null&&typeof e=="object"}var jc=Kue,Yue=_c,Xue=jc,Que="[object Symbol]";function Zue(e){return typeof e=="symbol"||Xue(e)&&Yue(e)==Que}var bp=Zue,Jue=Is,ede=bp,tde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rde=/^\w*$/;function nde(e,t){if(Jue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ede(e)?!0:rde.test(e)||!tde.test(e)||t!=null&&e in Object(t)}var aA=nde;function ade(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ku=ade;const wp=pr(Ku);var sde=_c,ide=Ku,ode="[object AsyncFunction]",lde="[object Function]",cde="[object GeneratorFunction]",ude="[object Proxy]";function dde(e){if(!ide(e))return!1;var t=sde(e);return t==lde||t==cde||t==ode||t==ude}var sA=dde;const Et=pr(sA);var fde=Nl,hde=fde["__core-js_shared__"],mde=hde,DS=mde,XR=function(){var e=/[^.]+$/.exec(DS&&DS.keys&&DS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pde(e){return!!XR&&XR in e}var gde=pde,vde=Function.prototype,xde=vde.toString;function yde(e){if(e!=null){try{return xde.call(e)}catch{}try{return e+""}catch{}}return""}var A7=yde,bde=sA,wde=gde,_de=Ku,jde=A7,Sde=/[\\^$.*+?()[\]{}|]/g,Nde=/^\[object .+?Constructor\]$/,kde=Function.prototype,Cde=Object.prototype,Ede=kde.toString,Tde=Cde.hasOwnProperty,Ade=RegExp("^"+Ede.call(Tde).replace(Sde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pde(e){if(!_de(e)||wde(e))return!1;var t=bde(e)?Ade:Nde;return t.test(jde(e))}var Ode=Pde;function Dde(e,t){return e==null?void 0:e[t]}var Rde=Dde,Mde=Ode,Fde=Rde;function Ide(e,t){var r=Fde(e,t);return Mde(r)?r:void 0}var kf=Ide,Lde=kf,$de=Lde(Object,"create"),o_=$de,QR=o_;function Bde(){this.__data__=QR?QR(null):{},this.size=0}var Ude=Bde;function zde(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vde=zde,Wde=o_,Hde="__lodash_hash_undefined__",qde=Object.prototype,Gde=qde.hasOwnProperty;function Kde(e){var t=this.__data__;if(Wde){var r=t[e];return r===Hde?void 0:r}return Gde.call(t,e)?t[e]:void 0}var Yde=Kde,Xde=o_,Qde=Object.prototype,Zde=Qde.hasOwnProperty;function Jde(e){var t=this.__data__;return Xde?t[e]!==void 0:Zde.call(t,e)}var efe=Jde,tfe=o_,rfe="__lodash_hash_undefined__";function nfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tfe&&t===void 0?rfe:t,this}var afe=nfe,sfe=Ude,ife=Vde,ofe=Yde,lfe=efe,cfe=afe;function _p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_p.prototype.clear=sfe;_p.prototype.delete=ife;_p.prototype.get=ofe;_p.prototype.has=lfe;_p.prototype.set=cfe;var ufe=_p;function dfe(){this.__data__=[],this.size=0}var ffe=dfe;function hfe(e,t){return e===t||e!==e&&t!==t}var iA=hfe,mfe=iA;function pfe(e,t){for(var r=e.length;r--;)if(mfe(e[r][0],t))return r;return-1}var l_=pfe,gfe=l_,vfe=Array.prototype,xfe=vfe.splice;function yfe(e){var t=this.__data__,r=gfe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xfe.call(t,r,1),--this.size,!0}var bfe=yfe,wfe=l_;function _fe(e){var t=this.__data__,r=wfe(t,e);return r<0?void 0:t[r][1]}var jfe=_fe,Sfe=l_;function Nfe(e){return Sfe(this.__data__,e)>-1}var kfe=Nfe,Cfe=l_;function Efe(e,t){var r=this.__data__,n=Cfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Tfe=Efe,Afe=ffe,Pfe=bfe,Ofe=jfe,Dfe=kfe,Rfe=Tfe;function jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jp.prototype.clear=Afe;jp.prototype.delete=Pfe;jp.prototype.get=Ofe;jp.prototype.has=Dfe;jp.prototype.set=Rfe;var c_=jp,Mfe=kf,Ffe=Nl,Ife=Mfe(Ffe,"Map"),oA=Ife,ZR=ufe,Lfe=c_,$fe=oA;function Bfe(){this.size=0,this.__data__={hash:new ZR,map:new($fe||Lfe),string:new ZR}}var Ufe=Bfe;function zfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vfe=zfe,Wfe=Vfe;function Hfe(e,t){var r=e.__data__;return Wfe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var u_=Hfe,qfe=u_;function Gfe(e){var t=qfe(this,e).delete(e);return this.size-=t?1:0,t}var Kfe=Gfe,Yfe=u_;function Xfe(e){return Yfe(this,e).get(e)}var Qfe=Xfe,Zfe=u_;function Jfe(e){return Zfe(this,e).has(e)}var ehe=Jfe,the=u_;function rhe(e,t){var r=the(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var nhe=rhe,ahe=Ufe,she=Kfe,ihe=Qfe,ohe=ehe,lhe=nhe;function Sp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sp.prototype.clear=ahe;Sp.prototype.delete=she;Sp.prototype.get=ihe;Sp.prototype.has=ohe;Sp.prototype.set=lhe;var lA=Sp,P7=lA,che="Expected a function";function cA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(che);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(cA.Cache||P7),r}cA.Cache=P7;var O7=cA;const uhe=pr(O7);var dhe=O7,fhe=500;function hhe(e){var t=dhe(e,function(n){return r.size===fhe&&r.clear(),n}),r=t.cache;return t}var mhe=hhe,phe=mhe,ghe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vhe=/\\(\\)?/g,xhe=phe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ghe,function(r,n,a,s){t.push(a?s.replace(vhe,"$1"):n||r)}),t}),yhe=xhe;function bhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var uA=bhe,JR=Qv,whe=uA,_he=Is,jhe=bp,She=1/0,eM=JR?JR.prototype:void 0,tM=eM?eM.toString:void 0;function D7(e){if(typeof e=="string")return e;if(_he(e))return whe(e,D7)+"";if(jhe(e))return tM?tM.call(e):"";var t=e+"";return t=="0"&&1/e==-She?"-0":t}var Nhe=D7,khe=Nhe;function Che(e){return e==null?"":khe(e)}var R7=Che,Ehe=Is,The=aA,Ahe=yhe,Phe=R7;function Ohe(e,t){return Ehe(e)?e:The(e,t)?[e]:Ahe(Phe(e))}var M7=Ohe,Dhe=bp,Rhe=1/0;function Mhe(e){if(typeof e=="string"||Dhe(e))return e;var t=e+"";return t=="0"&&1/e==-Rhe?"-0":t}var d_=Mhe,Fhe=M7,Ihe=d_;function Lhe(e,t){t=Fhe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Ihe(t[r++])];return r&&r==n?e:void 0}var dA=Lhe,$he=dA;function Bhe(e,t,r){var n=e==null?void 0:$he(e,t);return n===void 0?r:n}var F7=Bhe;const ri=pr(F7);function Uhe(e){return e==null}var zhe=Uhe;const Rt=pr(zhe);var Vhe=_c,Whe=Is,Hhe=jc,qhe="[object String]";function Ghe(e){return typeof e=="string"||!Whe(e)&&Hhe(e)&&Vhe(e)==qhe}var Khe=Ghe;const lf=pr(Khe);var I7={exports:{}},br={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA=Symbol.for("react.element"),hA=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),h_=Symbol.for("react.strict_mode"),m_=Symbol.for("react.profiler"),p_=Symbol.for("react.provider"),g_=Symbol.for("react.context"),Yhe=Symbol.for("react.server_context"),v_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),y_=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),Xhe=Symbol.for("react.offscreen"),L7;L7=Symbol.for("react.module.reference");function Mi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fA:switch(e=e.type,e){case f_:case m_:case h_:case x_:case y_:return e;default:switch(e=e&&e.$$typeof,e){case Yhe:case g_:case v_:case w_:case b_:case p_:return e;default:return t}}case hA:return t}}}br.ContextConsumer=g_;br.ContextProvider=p_;br.Element=fA;br.ForwardRef=v_;br.Fragment=f_;br.Lazy=w_;br.Memo=b_;br.Portal=hA;br.Profiler=m_;br.StrictMode=h_;br.Suspense=x_;br.SuspenseList=y_;br.isAsyncMode=function(){return!1};br.isConcurrentMode=function(){return!1};br.isContextConsumer=function(e){return Mi(e)===g_};br.isContextProvider=function(e){return Mi(e)===p_};br.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fA};br.isForwardRef=function(e){return Mi(e)===v_};br.isFragment=function(e){return Mi(e)===f_};br.isLazy=function(e){return Mi(e)===w_};br.isMemo=function(e){return Mi(e)===b_};br.isPortal=function(e){return Mi(e)===hA};br.isProfiler=function(e){return Mi(e)===m_};br.isStrictMode=function(e){return Mi(e)===h_};br.isSuspense=function(e){return Mi(e)===x_};br.isSuspenseList=function(e){return Mi(e)===y_};br.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===f_||e===m_||e===h_||e===x_||e===y_||e===Xhe||typeof e=="object"&&e!==null&&(e.$$typeof===w_||e.$$typeof===b_||e.$$typeof===p_||e.$$typeof===g_||e.$$typeof===v_||e.$$typeof===L7||e.getModuleId!==void 0)};br.typeOf=Mi;I7.exports=br;var Qhe=I7.exports,Zhe=_c,Jhe=jc,eme="[object Number]";function tme(e){return typeof e=="number"||Jhe(e)&&Zhe(e)==eme}var $7=tme;const rme=pr($7);var nme=$7;function ame(e){return nme(e)&&e!=+e}var sme=ame;const Zv=pr(sme);var Ya=function(t){return t===0?0:t>0?1:-1},jd=function(t){return lf(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return rme(t)&&!Zv(t)},ime=function(t){return Rt(t)},Dn=function(t){return Xe(t)||lf(t)},ome=0,Np=function(t){var r=++ome;return"".concat(t||"").concat(r)},Xa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!lf(t))return n;var s;if(jd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Zv(s)&&(s=n),a&&s>r&&(s=r),s},Gc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},lme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ks=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function q1(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ri(n,t))===r})}var cme=function(t,r){return Xe(t)&&Xe(r)?t-r:lf(t)&&lf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Bh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fk(e){"@babel/helpers - typeof";return fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fk(e)}var ume=["viewBox","children"],dme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rM=["points","pathLength"],RS={svg:ume,polygon:rM,polyline:rM},mA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!wp(n))return null;var a={};return Object.keys(n).forEach(function(s){mA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},fme=function(t,r,n){return function(a){return t(r,n,a),null}},cf=function(t,r,n){if(!wp(t)||fk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];mA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=fme(o,r,n))}),a},hme=["children"],mme=["children"];function nM(e,t){if(e==null)return{};var r=pme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hk(e){"@babel/helpers - typeof";return hk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hk(e)}var aM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ec=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},sM=null,MS=null,pA=function e(t){if(t===sM&&Array.isArray(MS))return MS;var r=[];return x.Children.forEach(t,function(n){Rt(n)||(Qhe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),MS=r,sM=t,r};function ni(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ec(a)}):n=[ec(t)],pA(e).forEach(function(a){var s=ri(a,"type.displayName")||ri(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Hs(e,t){var r=ni(e,t);return r&&r[0]}var iM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},gme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vme=function(t){return t&&t.type&&lf(t.type)&&gme.indexOf(t.type)>=0},xme=function(t){return t&&hk(t)==="object"&&"clipDot"in t},yme=function(t,r,n,a){var s,o=(s=RS==null?void 0:RS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Et(t)&&(a&&o.includes(r)||dme.includes(r))||n&&mA.includes(r)},jt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!wp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;yme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},mk=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!oM(s,o))return!1}return!0},oM=function(t,r){if(Rt(t)&&Rt(r))return!0;if(!Rt(t)&&!Rt(r)){var n=t.props||{},a=n.children,s=nM(n,hme),o=r.props||{},l=o.children,c=nM(o,mme);return a&&l?Bh(s,c)&&mk(a,l):!a&&!l?Bh(s,c):!1}return!1},lM=function(t,r){var n=[],a={};return pA(t).forEach(function(s,o){if(vme(s))n.push(s);else if(s){var l=ec(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},bme=function(t){var r=t&&t.type;return r&&aM[r]?aM[r]:null},wme=function(t,r){return pA(r).indexOf(t)},_me=["children","width","height","viewBox","className","style","title","desc"];function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function jme(e,t){if(e==null)return{};var r=Sme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gk(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=jme(e,_me),d=a||{width:r,height:n,x:0,y:0},f=Mt("recharts-surface",s);return ie.createElement("svg",pk({},jt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var Nme=["children","className"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function kme(e,t){if(e==null)return{};var r=Cme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ir=ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=kme(e,Nme),s=Mt("recharts-layer",n);return ie.createElement("g",vk({className:s},jt(a,!0),{ref:t}),r)}),po=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Eme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Tme=Eme,Ame=Tme;function Pme(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ame(e,t,r)}var Ome=Pme,Dme="\\ud800-\\udfff",Rme="\\u0300-\\u036f",Mme="\\ufe20-\\ufe2f",Fme="\\u20d0-\\u20ff",Ime=Rme+Mme+Fme,Lme="\\ufe0e\\ufe0f",$me="\\u200d",Bme=RegExp("["+$me+Dme+Ime+Lme+"]");function Ume(e){return Bme.test(e)}var B7=Ume;function zme(e){return e.split("")}var Vme=zme,U7="\\ud800-\\udfff",Wme="\\u0300-\\u036f",Hme="\\ufe20-\\ufe2f",qme="\\u20d0-\\u20ff",Gme=Wme+Hme+qme,Kme="\\ufe0e\\ufe0f",Yme="["+U7+"]",xk="["+Gme+"]",yk="\\ud83c[\\udffb-\\udfff]",Xme="(?:"+xk+"|"+yk+")",z7="[^"+U7+"]",V7="(?:\\ud83c[\\udde6-\\uddff]){2}",W7="[\\ud800-\\udbff][\\udc00-\\udfff]",Qme="\\u200d",H7=Xme+"?",q7="["+Kme+"]?",Zme="(?:"+Qme+"(?:"+[z7,V7,W7].join("|")+")"+q7+H7+")*",Jme=q7+H7+Zme,epe="(?:"+[z7+xk+"?",xk,V7,W7,Yme].join("|")+")",tpe=RegExp(yk+"(?="+yk+")|"+epe+Jme,"g");function rpe(e){return e.match(tpe)||[]}var npe=rpe,ape=Vme,spe=B7,ipe=npe;function ope(e){return spe(e)?ipe(e):ape(e)}var lpe=ope,cpe=Ome,upe=B7,dpe=lpe,fpe=R7;function hpe(e){return function(t){t=fpe(t);var r=upe(t)?dpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?cpe(r,1).join(""):t.slice(1);return n[e]()+a}}var mpe=hpe,ppe=mpe,gpe=ppe("toUpperCase"),vpe=gpe;const __=pr(vpe);function Nr(e){return function(){return e}}const G7=Math.cos,K1=Math.sin,Po=Math.sqrt,Y1=Math.PI,j_=2*Y1,bk=Math.PI,wk=2*bk,dd=1e-6,xpe=wk-dd;function K7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ype(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K7;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K7:ype(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>dd)if(!(Math.abs(f*c-u*d)>dd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=c*c+u*u,v=m*m+p*p,y=Math.sqrt(g),b=Math.sqrt(h),w=s*Math.tan((bk-Math.acos((g+h-v)/(2*y*b)))/2),_=w/b,j=w/y;Math.abs(_-1)>dd&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>dd||Math.abs(this._y1-d)>dd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%wk+wk),h>xpe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>dd&&this._append`A${n},${n},0,${+(h>=bk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bpe(t)}function vA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y7(e){this._context=e}Y7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function S_(e){return new Y7(e)}function X7(e){return e[0]}function Q7(e){return e[1]}function Z7(e,t){var r=Nr(!0),n=null,a=S_,s=null,o=gA(l);e=typeof e=="function"?e:e===void 0?X7:Nr(e),t=typeof t=="function"?t:t===void 0?Q7:Nr(t);function l(c){var u,d=(c=vA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Nr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Nr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Nr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function sy(e,t,r){var n=null,a=Nr(!0),s=null,o=S_,l=null,c=gA(u);e=typeof e=="function"?e:e===void 0?X7:Nr(+e),t=typeof t=="function"?t:Nr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Q7:Nr(+r);function u(f){var h,m,p,g=(f=vA(f)).length,v,y=!1,b,w=new Array(g),_=new Array(g);for(s==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],_[p]);l.lineEnd(),l.areaEnd()}y&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return Z7().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Nr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Nr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Nr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Nr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Nr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class J7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wpe(e){return new J7(e,!0)}function _pe(e){return new J7(e,!1)}const xA={draw(e,t){const r=Po(t/Y1);e.moveTo(r,0),e.arc(0,0,r,0,j_)}},jpe={draw(e,t){const r=Po(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},ez=Po(1/3),Spe=ez*2,Npe={draw(e,t){const r=Po(t/Spe),n=r*ez;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kpe={draw(e,t){const r=Po(t),n=-r/2;e.rect(n,n,r,r)}},Cpe=.8908130915292852,tz=K1(Y1/10)/K1(7*Y1/10),Epe=K1(j_/10)*tz,Tpe=-G7(j_/10)*tz,Ape={draw(e,t){const r=Po(t*Cpe),n=Epe*r,a=Tpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=j_*s/5,l=G7(o),c=K1(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},FS=Po(3),Ppe={draw(e,t){const r=-Po(t/(FS*3));e.moveTo(0,r*2),e.lineTo(-FS*r,-r),e.lineTo(FS*r,-r),e.closePath()}},fi=-.5,hi=Po(3)/2,_k=1/Po(12),Ope=(_k/2+1)*3,Dpe={draw(e,t){const r=Po(t/Ope),n=r/2,a=r*_k,s=n,o=r*_k+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(fi*n-hi*a,hi*n+fi*a),e.lineTo(fi*s-hi*o,hi*s+fi*o),e.lineTo(fi*l-hi*c,hi*l+fi*c),e.lineTo(fi*n+hi*a,fi*a-hi*n),e.lineTo(fi*s+hi*o,fi*o-hi*s),e.lineTo(fi*l+hi*c,fi*c-hi*l),e.closePath()}};function Rpe(e,t){let r=null,n=gA(a);e=typeof e=="function"?e:Nr(e||xA),t=typeof t=="function"?t:Nr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Nr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function X1(){}function Q1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rz(e){this._context=e}rz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mpe(e){return new rz(e)}function nz(e){this._context=e}nz.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fpe(e){return new nz(e)}function az(e){this._context=e}az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ipe(e){return new az(e)}function sz(e){this._context=e}sz.prototype={areaStart:X1,areaEnd:X1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lpe(e){return new sz(e)}function cM(e){return e<0?-1:1}function uM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(cM(s)+cM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function dM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function IS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Z1(e){this._context=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IS(this,this._t0,dM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,IS(this,dM(this,r=uM(this,e,t)),r);break;default:IS(this,this._t0,r=uM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iz(e){this._context=new oz(e)}(iz.prototype=Object.create(Z1.prototype)).point=function(e,t){Z1.prototype.point.call(this,t,e)};function oz(e){this._context=e}oz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function $pe(e){return new Z1(e)}function Bpe(e){return new iz(e)}function lz(e){this._context=e}lz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fM(e),a=fM(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Upe(e){return new lz(e)}function N_(e,t){this._context=e,this._t=t}N_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zpe(e){return new N_(e,.5)}function Vpe(e){return new N_(e,0)}function Wpe(e){return new N_(e,1)}function jm(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function jk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Hpe(e,t){return e[t]}function qpe(e){const t=[];return t.key=e,t}function Gpe(){var e=Nr([]),t=jk,r=jm,n=Hpe;function a(s){var o=Array.from(e.apply(this,arguments),qpe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=vA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Nr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Nr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?jk:typeof s=="function"?s:Nr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??jm,a):r},a}function Kpe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}jm(e,t)}}function Ype(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jm(e,t)}}function Xpe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,jm(e,t)}}function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}var Qpe=["type","size","sizeType"];function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){Zpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zpe(e,t,r){return t=Jpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jpe(e){var t=e0e(e,"string");return Mg(t)=="symbol"?t:t+""}function e0e(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t0e(e,t){if(e==null)return{};var r=r0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cz={symbolCircle:xA,symbolCross:jpe,symbolDiamond:Npe,symbolSquare:kpe,symbolStar:Ape,symbolTriangle:Ppe,symbolWye:Dpe},n0e=Math.PI/180,a0e=function(t){var r="symbol".concat(__(t));return cz[r]||xA},s0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*n0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},i0e=function(t,r){cz["symbol".concat(__(t))]=r},yA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=t0e(t,Qpe),u=mM(mM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=a0e(n),y=Rpe().type(v).size(s0e(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,p=jt(u,!0);return h===+h&&m===+m&&s===+s?ie.createElement("path",Sk({},p,{className:Mt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};yA.registerSymbol=i0e;function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dz(n.key),n)}}function u0e(e,t,r){return t&&c0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d0e(e,t,r){return t=J1(t),f0e(e,uz()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function f0e(e,t){if(t&&(Sm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h0e(e)}function h0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function m0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function Fg(e,t,r){return t=dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=p0e(e,"string");return Sm(t)=="symbol"?t:t+""}function p0e(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mi=32,bA=function(e){function t(){return l0e(this,t),d0e(this,t,arguments)}return m0e(t,e),u0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=mi/2,o=mi/6,l=mi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:mi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(mi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-mi,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var u=o0e({},n);return delete u.legendIcon,ie.cloneElement(n.legendIcon,u)}return ie.createElement(yA,{fill:c,cx:s,cy:s,size:mi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:mi,height:mi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var g=m.formatter||c,v=Mt(Fg(Fg({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Et(m.value)?null:m.value;po(!Et(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ie.createElement("li",Nk({className:v,style:f,key:"legend-item-".concat(p)},cf(n.props,m,p)),ie.createElement(gk,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,m,p):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Fg(bA,"displayName","Legend");Fg(bA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var g0e=c_;function v0e(){this.__data__=new g0e,this.size=0}var x0e=v0e;function y0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var b0e=y0e;function w0e(e){return this.__data__.get(e)}var _0e=w0e;function j0e(e){return this.__data__.has(e)}var S0e=j0e,N0e=c_,k0e=oA,C0e=lA,E0e=200;function T0e(e,t){var r=this.__data__;if(r instanceof N0e){var n=r.__data__;if(!k0e||n.length<E0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new C0e(n)}return r.set(e,t),this.size=r.size,this}var A0e=T0e,P0e=c_,O0e=x0e,D0e=b0e,R0e=_0e,M0e=S0e,F0e=A0e;function kp(e){var t=this.__data__=new P0e(e);this.size=t.size}kp.prototype.clear=O0e;kp.prototype.delete=D0e;kp.prototype.get=R0e;kp.prototype.has=M0e;kp.prototype.set=F0e;var fz=kp,I0e="__lodash_hash_undefined__";function L0e(e){return this.__data__.set(e,I0e),this}var $0e=L0e;function B0e(e){return this.__data__.has(e)}var U0e=B0e,z0e=lA,V0e=$0e,W0e=U0e;function eb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new z0e;++t<r;)this.add(e[t])}eb.prototype.add=eb.prototype.push=V0e;eb.prototype.has=W0e;var hz=eb;function H0e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var mz=H0e;function q0e(e,t){return e.has(t)}var pz=q0e,G0e=hz,K0e=mz,Y0e=pz,X0e=1,Q0e=2;function Z0e(e,t,r,n,a,s){var o=r&X0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Q0e?new G0e:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],g=t[f];if(n)var v=o?n(g,p,f,t,e,s):n(p,g,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!K0e(t,function(y,b){if(!Y0e(m,b)&&(p===y||a(p,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var gz=Z0e,J0e=Nl,ege=J0e.Uint8Array,tge=ege;function rge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var nge=rge;function age(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var wA=age,gM=Qv,vM=tge,sge=iA,ige=gz,oge=nge,lge=wA,cge=1,uge=2,dge="[object Boolean]",fge="[object Date]",hge="[object Error]",mge="[object Map]",pge="[object Number]",gge="[object RegExp]",vge="[object Set]",xge="[object String]",yge="[object Symbol]",bge="[object ArrayBuffer]",wge="[object DataView]",xM=gM?gM.prototype:void 0,LS=xM?xM.valueOf:void 0;function _ge(e,t,r,n,a,s,o){switch(r){case wge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case bge:return!(e.byteLength!=t.byteLength||!s(new vM(e),new vM(t)));case dge:case fge:case pge:return sge(+e,+t);case hge:return e.name==t.name&&e.message==t.message;case gge:case xge:return e==t+"";case mge:var l=oge;case vge:var c=n&cge;if(l||(l=lge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=uge,o.set(e,t);var d=ige(l(e),l(t),n,a,s,o);return o.delete(e),d;case yge:if(LS)return LS.call(e)==LS.call(t)}return!1}var jge=_ge;function Sge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var vz=Sge,Nge=vz,kge=Is;function Cge(e,t,r){var n=t(e);return kge(e)?n:Nge(n,r(e))}var Ege=Cge;function Tge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Age=Tge;function Pge(){return[]}var Oge=Pge,Dge=Age,Rge=Oge,Mge=Object.prototype,Fge=Mge.propertyIsEnumerable,yM=Object.getOwnPropertySymbols,Ige=yM?function(e){return e==null?[]:(e=Object(e),Dge(yM(e),function(t){return Fge.call(e,t)}))}:Rge,Lge=Ige;function $ge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Bge=$ge,Uge=_c,zge=jc,Vge="[object Arguments]";function Wge(e){return zge(e)&&Uge(e)==Vge}var Hge=Wge,bM=Hge,qge=jc,xz=Object.prototype,Gge=xz.hasOwnProperty,Kge=xz.propertyIsEnumerable,Yge=bM(function(){return arguments}())?bM:function(e){return qge(e)&&Gge.call(e,"callee")&&!Kge.call(e,"callee")},_A=Yge,tb={exports:{}};function Xge(){return!1}var Qge=Xge;tb.exports;(function(e,t){var r=Nl,n=Qge,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(tb,tb.exports);var yz=tb.exports,Zge=9007199254740991,Jge=/^(?:0|[1-9]\d*)$/;function eve(e,t){var r=typeof e;return t=t??Zge,!!t&&(r=="number"||r!="symbol"&&Jge.test(e))&&e>-1&&e%1==0&&e<t}var jA=eve,tve=9007199254740991;function rve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tve}var SA=rve,nve=_c,ave=SA,sve=jc,ive="[object Arguments]",ove="[object Array]",lve="[object Boolean]",cve="[object Date]",uve="[object Error]",dve="[object Function]",fve="[object Map]",hve="[object Number]",mve="[object Object]",pve="[object RegExp]",gve="[object Set]",vve="[object String]",xve="[object WeakMap]",yve="[object ArrayBuffer]",bve="[object DataView]",wve="[object Float32Array]",_ve="[object Float64Array]",jve="[object Int8Array]",Sve="[object Int16Array]",Nve="[object Int32Array]",kve="[object Uint8Array]",Cve="[object Uint8ClampedArray]",Eve="[object Uint16Array]",Tve="[object Uint32Array]",Or={};Or[wve]=Or[_ve]=Or[jve]=Or[Sve]=Or[Nve]=Or[kve]=Or[Cve]=Or[Eve]=Or[Tve]=!0;Or[ive]=Or[ove]=Or[yve]=Or[lve]=Or[bve]=Or[cve]=Or[uve]=Or[dve]=Or[fve]=Or[hve]=Or[mve]=Or[pve]=Or[gve]=Or[vve]=Or[xve]=!1;function Ave(e){return sve(e)&&ave(e.length)&&!!Or[nve(e)]}var Pve=Ave;function Ove(e){return function(t){return e(t)}}var bz=Ove,rb={exports:{}};rb.exports;(function(e,t){var r=E7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(rb,rb.exports);var Dve=rb.exports,Rve=Pve,Mve=bz,wM=Dve,_M=wM&&wM.isTypedArray,Fve=_M?Mve(_M):Rve,wz=Fve,Ive=Bge,Lve=_A,$ve=Is,Bve=yz,Uve=jA,zve=wz,Vve=Object.prototype,Wve=Vve.hasOwnProperty;function Hve(e,t){var r=$ve(e),n=!r&&Lve(e),a=!r&&!n&&Bve(e),s=!r&&!n&&!a&&zve(e),o=r||n||a||s,l=o?Ive(e.length,String):[],c=l.length;for(var u in e)(t||Wve.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Uve(u,c)))&&l.push(u);return l}var qve=Hve,Gve=Object.prototype;function Kve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Gve;return e===r}var Yve=Kve;function Xve(e,t){return function(r){return e(t(r))}}var _z=Xve,Qve=_z,Zve=Qve(Object.keys,Object),Jve=Zve,exe=Yve,txe=Jve,rxe=Object.prototype,nxe=rxe.hasOwnProperty;function axe(e){if(!exe(e))return txe(e);var t=[];for(var r in Object(e))nxe.call(e,r)&&r!="constructor"&&t.push(r);return t}var sxe=axe,ixe=sA,oxe=SA;function lxe(e){return e!=null&&oxe(e.length)&&!ixe(e)}var Jv=lxe,cxe=qve,uxe=sxe,dxe=Jv;function fxe(e){return dxe(e)?cxe(e):uxe(e)}var k_=fxe,hxe=Ege,mxe=Lge,pxe=k_;function gxe(e){return hxe(e,pxe,mxe)}var vxe=gxe,jM=vxe,xxe=1,yxe=Object.prototype,bxe=yxe.hasOwnProperty;function wxe(e,t,r,n,a,s){var o=r&xxe,l=jM(e),c=l.length,u=jM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:bxe.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var w=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(w===void 0?y===b||a(y,b,r,n,s):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var _xe=wxe,jxe=kf,Sxe=Nl,Nxe=jxe(Sxe,"DataView"),kxe=Nxe,Cxe=kf,Exe=Nl,Txe=Cxe(Exe,"Promise"),Axe=Txe,Pxe=kf,Oxe=Nl,Dxe=Pxe(Oxe,"Set"),jz=Dxe,Rxe=kf,Mxe=Nl,Fxe=Rxe(Mxe,"WeakMap"),Ixe=Fxe,Ck=kxe,Ek=oA,Tk=Axe,Ak=jz,Pk=Ixe,Sz=_c,Cp=A7,SM="[object Map]",Lxe="[object Object]",NM="[object Promise]",kM="[object Set]",CM="[object WeakMap]",EM="[object DataView]",$xe=Cp(Ck),Bxe=Cp(Ek),Uxe=Cp(Tk),zxe=Cp(Ak),Vxe=Cp(Pk),fd=Sz;(Ck&&fd(new Ck(new ArrayBuffer(1)))!=EM||Ek&&fd(new Ek)!=SM||Tk&&fd(Tk.resolve())!=NM||Ak&&fd(new Ak)!=kM||Pk&&fd(new Pk)!=CM)&&(fd=function(e){var t=Sz(e),r=t==Lxe?e.constructor:void 0,n=r?Cp(r):"";if(n)switch(n){case $xe:return EM;case Bxe:return SM;case Uxe:return NM;case zxe:return kM;case Vxe:return CM}return t});var Wxe=fd,$S=fz,Hxe=gz,qxe=jge,Gxe=_xe,TM=Wxe,AM=Is,PM=yz,Kxe=wz,Yxe=1,OM="[object Arguments]",DM="[object Array]",iy="[object Object]",Xxe=Object.prototype,RM=Xxe.hasOwnProperty;function Qxe(e,t,r,n,a,s){var o=AM(e),l=AM(t),c=o?DM:TM(e),u=l?DM:TM(t);c=c==OM?iy:c,u=u==OM?iy:u;var d=c==iy,f=u==iy,h=c==u;if(h&&PM(e)){if(!PM(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new $S),o||Kxe(e)?Hxe(e,t,r,n,a,s):qxe(e,t,c,r,n,a,s);if(!(r&Yxe)){var m=d&&RM.call(e,"__wrapped__"),p=f&&RM.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new $S),a(g,v,r,n,s)}}return h?(s||(s=new $S),Gxe(e,t,r,n,a,s)):!1}var Zxe=Qxe,Jxe=Zxe,MM=jc;function Nz(e,t,r,n,a){return e===t?!0:e==null||t==null||!MM(e)&&!MM(t)?e!==e&&t!==t:Jxe(e,t,r,n,Nz,a)}var NA=Nz,eye=fz,tye=NA,rye=1,nye=2;function aye(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new eye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?tye(d,u,rye|nye,n,f):h))return!1}}return!0}var sye=aye,iye=Ku;function oye(e){return e===e&&!iye(e)}var kz=oye,lye=kz,cye=k_;function uye(e){for(var t=cye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,lye(a)]}return t}var dye=uye;function fye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Cz=fye,hye=sye,mye=dye,pye=Cz;function gye(e){var t=mye(e);return t.length==1&&t[0][2]?pye(t[0][0],t[0][1]):function(r){return r===e||hye(r,e,t)}}var vye=gye;function xye(e,t){return e!=null&&t in Object(e)}var yye=xye,bye=M7,wye=_A,_ye=Is,jye=jA,Sye=SA,Nye=d_;function kye(e,t,r){t=bye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Nye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Sye(a)&&jye(o,a)&&(_ye(e)||wye(e)))}var Cye=kye,Eye=yye,Tye=Cye;function Aye(e,t){return e!=null&&Tye(e,t,Eye)}var Pye=Aye,Oye=NA,Dye=F7,Rye=Pye,Mye=aA,Fye=kz,Iye=Cz,Lye=d_,$ye=1,Bye=2;function Uye(e,t){return Mye(e)&&Fye(t)?Iye(Lye(e),t):function(r){var n=Dye(r,e);return n===void 0&&n===t?Rye(r,e):Oye(t,n,$ye|Bye)}}var zye=Uye;function Vye(e){return e}var Ep=Vye;function Wye(e){return function(t){return t==null?void 0:t[e]}}var Hye=Wye,qye=dA;function Gye(e){return function(t){return qye(t,e)}}var Kye=Gye,Yye=Hye,Xye=Kye,Qye=aA,Zye=d_;function Jye(e){return Qye(e)?Yye(Zye(e)):Xye(e)}var e1e=Jye,t1e=vye,r1e=zye,n1e=Ep,a1e=Is,s1e=e1e;function i1e(e){return typeof e=="function"?e:e==null?n1e:typeof e=="object"?a1e(e)?r1e(e[0],e[1]):t1e(e):s1e(e)}var kl=i1e;function o1e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Ez=o1e;function l1e(e){return e!==e}var c1e=l1e;function u1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var d1e=u1e,f1e=Ez,h1e=c1e,m1e=d1e;function p1e(e,t,r){return t===t?m1e(e,t,r):f1e(e,h1e,r)}var g1e=p1e,v1e=g1e;function x1e(e,t){var r=e==null?0:e.length;return!!r&&v1e(e,t,0)>-1}var y1e=x1e;function b1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var w1e=b1e;function _1e(){}var j1e=_1e,BS=jz,S1e=j1e,N1e=wA,k1e=1/0,C1e=BS&&1/N1e(new BS([,-0]))[1]==k1e?function(e){return new BS(e)}:S1e,E1e=C1e,T1e=hz,A1e=y1e,P1e=w1e,O1e=pz,D1e=E1e,R1e=wA,M1e=200;function F1e(e,t,r){var n=-1,a=A1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=P1e;else if(s>=M1e){var u=t?null:D1e(e);if(u)return R1e(u);o=!1,a=O1e,c=new T1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var I1e=F1e,L1e=kl,$1e=I1e;function B1e(e,t){return e&&e.length?$1e(e,L1e(t)):[]}var U1e=B1e;const FM=pr(U1e);function Tz(e,t,r){return t===!0?FM(e,r):Et(t)?FM(e,t):e}function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var z1e=["ref"];function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){C_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pz(n.key),n)}}function W1e(e,t,r){return t&&LM(e.prototype,t),r&&LM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H1e(e,t,r){return t=nb(t),q1e(e,Az()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function q1e(e,t){if(t&&(Nm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(e)}function G1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function K1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function C_(e,t,r){return t=Pz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pz(e){var t=Y1e(e,"string");return Nm(t)=="symbol"?t:t+""}function Y1e(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X1e(e,t){if(e==null)return{};var r=Q1e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z1e(e){return e.value}function J1e(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var r=X1e(t,z1e);return ie.createElement(bA,r)}var $M=1,ai=function(e){function t(){var r;V1e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=H1e(this,t,[].concat(a)),C_(r,"lastBoundingBox",{width:-1,height:-1}),r}return K1e(t,e),W1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>$M||Math.abs(a.height-this.lastBoundingBox.height)>$M)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rl(Rl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Rl(Rl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},J1e(s,Rl(Rl({},this.props),{},{payload:Tz(d,u,Z1e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Rl(Rl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);C_(ai,"displayName","Legend");C_(ai,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BM=Qv,ebe=_A,tbe=Is,UM=BM?BM.isConcatSpreadable:void 0;function rbe(e){return tbe(e)||ebe(e)||!!(UM&&e&&e[UM])}var nbe=rbe,abe=vz,sbe=nbe;function Oz(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=sbe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?Oz(l,t-1,r,n,a):abe(a,l):n||(a[a.length]=l)}return a}var Dz=Oz;function ibe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var obe=ibe,lbe=obe,cbe=lbe(),ube=cbe,dbe=ube,fbe=k_;function hbe(e,t){return e&&dbe(e,t,fbe)}var Rz=hbe,mbe=Jv;function pbe(e,t){return function(r,n){if(r==null)return r;if(!mbe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var gbe=pbe,vbe=Rz,xbe=gbe,ybe=xbe(vbe),kA=ybe,bbe=kA,wbe=Jv;function _be(e,t){var r=-1,n=wbe(e)?Array(e.length):[];return bbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var Mz=_be;function jbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Sbe=jbe,zM=bp;function Nbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=zM(e),o=t!==void 0,l=t===null,c=t===t,u=zM(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var kbe=Nbe,Cbe=kbe;function Ebe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Cbe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Tbe=Ebe,US=uA,Abe=dA,Pbe=kl,Obe=Mz,Dbe=Sbe,Rbe=bz,Mbe=Tbe,Fbe=Ep,Ibe=Is;function Lbe(e,t,r){t.length?t=US(t,function(s){return Ibe(s)?function(o){return Abe(o,s.length===1?s[0]:s)}:s}):t=[Fbe];var n=-1;t=US(t,Rbe(Pbe));var a=Obe(e,function(s,o,l){var c=US(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Dbe(a,function(s,o){return Mbe(s,o,r)})}var $be=Lbe;function Bbe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Ube=Bbe,zbe=Ube,VM=Math.max;function Vbe(e,t,r){return t=VM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=VM(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),zbe(e,this,l)}}var Wbe=Vbe;function Hbe(e){return function(){return e}}var qbe=Hbe,Gbe=kf,Kbe=function(){try{var e=Gbe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fz=Kbe,Ybe=qbe,WM=Fz,Xbe=Ep,Qbe=WM?function(e,t){return WM(e,"toString",{configurable:!0,enumerable:!1,value:Ybe(t),writable:!0})}:Xbe,Zbe=Qbe,Jbe=800,ewe=16,twe=Date.now;function rwe(e){var t=0,r=0;return function(){var n=twe(),a=ewe-(n-r);if(r=n,a>0){if(++t>=Jbe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nwe=rwe,awe=Zbe,swe=nwe,iwe=swe(awe),owe=iwe,lwe=Ep,cwe=Wbe,uwe=owe;function dwe(e,t){return uwe(cwe(e,t,lwe),e+"")}var fwe=dwe,hwe=iA,mwe=Jv,pwe=jA,gwe=Ku;function vwe(e,t,r){if(!gwe(r))return!1;var n=typeof t;return(n=="number"?mwe(r)&&pwe(t,r.length):n=="string"&&t in r)?hwe(r[t],e):!1}var E_=vwe,xwe=Dz,ywe=$be,bwe=fwe,HM=E_,wwe=bwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&HM(e,t[0],t[1])?t=[]:r>2&&HM(t[0],t[1],t[2])&&(t=[t[0]]),ywe(e,xwe(t,1),[])}),_we=wwe;const CA=pr(_we);function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function jwe(e,t){return Cwe(e)||kwe(e,t)||Nwe(e,t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cwe(e){if(Array.isArray(e))return e}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){Ewe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ewe(e,t,r){return t=Twe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Twe(e){var t=Awe(e,"string");return Ig(t)=="symbol"?t:t+""}function Awe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pwe(e){return Array.isArray(e)&&Dn(e[0])&&Dn(e[1])?e.join(" ~ "):e}var Owe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var T={padding:0,margin:0},V=(h?CA(d,h):d).map(function(G,B){if(G.type==="none")return null;var I=zS({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),z=G.formatter||f||Pwe,L=G.value,F=G.name,Y=L,X=F;if(z&&Y!=null&&X!=null){var D=z(L,F,G,B,d);if(Array.isArray(D)){var R=jwe(D,2);Y=R[0],X=R[1]}else Y=D}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:I},Dn(X)?ie.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Dn(X)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},Y),ie.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:T},V)}return null},_=zS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=zS({margin:0},u),N=!Rt(g),S=N?g:"",k=Mt("recharts-default-tooltip",m),C=Mt("recharts-tooltip-label",p);N&&v&&d!==void 0&&d!==null&&(S=v(g,d));var E=b?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",Dk({className:k,style:_},E),ie.createElement("p",{className:C,style:j},ie.isValidElement(S)?S:"".concat(S)),w())};function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function oy(e,t,r){return t=Dwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dwe(e){var t=Rwe(e,"string");return Lg(t)=="symbol"?t:t+""}function Rwe(e,t){if(Lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jp="recharts-tooltip-wrapper",Mwe={visibility:"hidden"};function Fwe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Mt(Jp,oy(oy(oy(oy({},"".concat(Jp,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(Jp,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(Jp,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(Jp,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function KM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function Iwe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Lwe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=KM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=KM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Iwe({translateX:d,translateY:f,useTranslate3d:l})):u=Mwe,{cssProperties:u,cssClasses:Fwe({translateX:d,translateY:f,coordinate:r})}}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lz(n.key),n)}}function Uwe(e,t,r){return t&&Bwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zwe(e,t,r){return t=ab(t),Vwe(e,Iz()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function Vwe(e,t){if(t&&(km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wwe(e)}function Wwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function Hwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rk(e,t)}function Mk(e,t,r){return t=Lz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lz(e){var t=qwe(e,"string");return km(t)=="symbol"?t:t+""}function qwe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QM=1,Gwe=function(e){function t(){var r;$we(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=zwe(this,t,[].concat(a)),Mk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Mk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Hwe(t,e),Uwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>QM||Math.abs(n.height-this.state.lastBoundingBox.height)>QM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=Lwe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),_=w.cssClasses,j=w.cssProperties,N=XM(XM({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ie.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Kwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ol={isSsr:Kwe(),get:function(t){return ol[t]},set:function(t,r){if(typeof t=="string")ol[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ol[a]=t[a]})}}};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){EA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bz(n.key),n)}}function Qwe(e,t,r){return t&&Xwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zwe(e,t,r){return t=sb(t),Jwe(e,$z()?Reflect.construct(t,r||[],sb(e).constructor):t.apply(e,r))}function Jwe(e,t){if(t&&(Cm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e_e(e)}function e_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function sb(e){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sb(e)}function t_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fk(e,t)}function EA(e,t,r){return t=Bz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=r_e(e,"string");return Cm(t)=="symbol"?t:t+""}function r_e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n_e(e){return e.dataKey}function a_e(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(Owe,t)}var Xn=function(e){function t(){return Ywe(this,t),Zwe(this,t,arguments)}return t_e(t,e),Qwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,j=p??[];f&&j.length&&(j=Tz(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,n_e));var N=j.length>0;return ie.createElement(Gwe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:_},a_e(u,JM(JM({},this.props),{},{payload:j})))}}])}(x.PureComponent);EA(Xn,"displayName","Tooltip");EA(Xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ol.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var s_e=Nl,i_e=function(){return s_e.Date.now()},o_e=i_e,l_e=/\s/;function c_e(e){for(var t=e.length;t--&&l_e.test(e.charAt(t)););return t}var u_e=c_e,d_e=u_e,f_e=/^\s+/;function h_e(e){return e&&e.slice(0,d_e(e)+1).replace(f_e,"")}var m_e=h_e,p_e=m_e,eF=Ku,g_e=bp,tF=NaN,v_e=/^[-+]0x[0-9a-f]+$/i,x_e=/^0b[01]+$/i,y_e=/^0o[0-7]+$/i,b_e=parseInt;function w_e(e){if(typeof e=="number")return e;if(g_e(e))return tF;if(eF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=p_e(e);var r=x_e.test(e);return r||y_e.test(e)?b_e(e.slice(2),r?2:8):v_e.test(e)?tF:+e}var Uz=w_e,__e=Ku,VS=o_e,rF=Uz,j_e="Expected a function",S_e=Math.max,N_e=Math.min;function k_e(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(j_e);t=rF(t)||0,__e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?S_e(rF(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function p(N){return u=N,l=setTimeout(y,t),d?m(N):o}function g(N){var S=N-c,k=N-u,C=t-S;return f?N_e(C,s-k):C}function v(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=s}function y(){var N=VS();if(v(N))return b(N);l=setTimeout(y,g(N))}function b(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:b(VS())}function j(){var N=VS(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=w,j.flush=_,j}var C_e=k_e,E_e=C_e,T_e=Ku,A_e="Expected a function";function P_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(A_e);return T_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),E_e(e,t,{leading:n,maxWait:t,trailing:a})}var O_e=P_e;const zz=pr(O_e);function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){D_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_e(e,t,r){return t=R_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R_e(e){var t=M_e(e,"string");return $g(t)=="symbol"?t:t+""}function M_e(e,t){if($g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F_e(e,t){return B_e(e)||$_e(e,t)||L_e(e,t)||I_e()}function I_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L_e(e,t){if(e){if(typeof e=="string")return aF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(e,t)}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function B_e(e){if(Array.isArray(e))return e}var Nu=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,y=e.className,b=e.onResize,w=e.style,_=w===void 0?{}:w,j=x.useRef(null),N=x.useRef();N.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),k=F_e(S,2),C=k[0],E=k[1],P=x.useCallback(function(V,G){E(function(B){var I=Math.round(V),z=Math.round(G);return B.containerWidth===I&&B.containerHeight===z?B:{containerWidth:I,containerHeight:z}})},[]);x.useEffect(function(){var V=function(F){var Y,X=F[0].contentRect,D=X.width,R=X.height;P(D,R),(Y=N.current)===null||Y===void 0||Y.call(N,D,R)};g>0&&(V=zz(V,g,{trailing:!0,leading:!1}));var G=new ResizeObserver(V),B=j.current.getBoundingClientRect(),I=B.width,z=B.height;return P(I,z),G.observe(j.current),function(){G.disconnect()}},[P,g]);var T=x.useMemo(function(){var V=C.containerWidth,G=C.containerHeight;if(V<0||G<0)return null;po(jd(o)||jd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),po(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=jd(o)?V:o,I=jd(c)?G:c;r&&r>0&&(B?I=B/r:I&&(B=I*r),h&&I>h&&(I=h)),po(B>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,I,o,c,d,f,r);var z=!Array.isArray(m)&&ec(m.type).endsWith("Chart");return ie.Children.map(m,function(L){return ie.isValidElement(L)?x.cloneElement(L,ly({width:B,height:I},z?{style:ly({height:"100%",width:"100%",maxHeight:I,maxWidth:B},L.props.style)}:{})):L})},[r,m,c,h,f,d,C,o]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:Mt("recharts-responsive-container",y),style:ly(ly({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),Zo=function(t){return null};Zo.displayName="Cell";function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){U_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U_e(e,t,r){return t=z_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_e(e){var t=V_e(e,"string");return Bg(t)=="symbol"?t:t+""}function V_e(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qf={widthCache:{},cacheCount:0},W_e=2e3,H_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iF="recharts_measurement_span";function q_e(e){var t=Ik({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var V0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ol.isSsr)return{width:0,height:0};var n=q_e(r),a=JSON.stringify({text:t,copyStyle:n});if(qf.widthCache[a])return qf.widthCache[a];try{var s=document.getElementById(iF);s||(s=document.createElement("span"),s.setAttribute("id",iF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Ik(Ik({},H_e),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return qf.widthCache[a]=c,++qf.cacheCount>W_e&&(qf.cacheCount=0,qf.widthCache={}),c}catch{return{width:0,height:0}}},G_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function ib(e,t){return Q_e(e)||X_e(e,t)||Y_e(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_e(e,t){if(e){if(typeof e=="string")return oF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oF(e,t)}}function oF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Q_e(e){if(Array.isArray(e))return e}function Z_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eje(n.key),n)}}function J_e(e,t,r){return t&&lF(e.prototype,t),r&&lF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eje(e){var t=tje(e,"string");return Ug(t)=="symbol"?t:t+""}function tje(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Vz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aje=Object.keys(Vz),_h="NaN";function sje(e,t){return e*Vz[t]}var cy=function(){function e(t,r){Z_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rje.test(r)&&(this.num=NaN,this.unit=""),aje.includes(r)&&(this.num=sje(t,r),this.unit="px")}return J_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nje.exec(r))!==null&&n!==void 0?n:[],s=ib(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function Wz(e){if(e.includes(_h))return _h;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=cF.exec(t))!==null&&r!==void 0?r:[],a=ib(n,4),s=a[1],o=a[2],l=a[3],c=cy.parse(s??""),u=cy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return _h;t=t.replace(cF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uF.exec(t))!==null&&f!==void 0?f:[],m=ib(h,4),p=m[1],g=m[2],v=m[3],y=cy.parse(p??""),b=cy.parse(v??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return _h;t=t.replace(uF,w.toString())}return t}var dF=/\(([^()]*)\)/;function ije(e){for(var t=e;t.includes("(");){var r=dF.exec(t),n=ib(r,2),a=n[1];t=t.replace(dF,Wz(a))}return t}function oje(e){var t=e.replace(/\s+/g,"");return t=ije(t),t=Wz(t),t}function lje(e){try{return oje(e)}catch{return _h}}function WS(e){var t=lje(e.slice(5,-1));return t===_h?"":t}var cje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],uje=["dx","dy","angle","className","breakAll"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function fF(e,t){if(e==null)return{};var r=dje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hF(e,t){return pje(e)||mje(e,t)||hje(e,t)||fje()}function fje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hje(e,t){if(e){if(typeof e=="string")return mF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mF(e,t)}}function mF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pje(e){if(Array.isArray(e))return e}var Hz=/[ \f\n\r\t\v\u2028\u2029]+/,qz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Rt(r)||(n?s=r.toString().split(""):s=r.toString().split(Hz));var o=s.map(function(c){return{word:c,width:V0(c,a).width}}),l=n?0:V0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gje=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(o),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(I,z){var L=z.word,F=z.width,Y=I[I.length-1];if(Y&&(a==null||s||Y.width+F+n<Number(a)))Y.words.push(L),Y.width+=F+n;else{var X={words:[L],width:F};I.push(X)}return I},[])},m=h(r),p=function(B){return B.reduce(function(I,z){return I.width>z.width?I:z})};if(!d)return m;for(var g="",v=function(B){var I=f.slice(0,B),z=qz({breakAll:u,style:c,children:I+g}).wordsWithComputedWidth,L=h(z),F=L.length>o||p(L).width>Number(a);return[F,L]},y=0,b=f.length-1,w=0,_;y<=b&&w<=f.length-1;){var j=Math.floor((y+b)/2),N=j-1,S=v(N),k=hF(S,2),C=k[0],E=k[1],P=v(j),T=hF(P,1),V=T[0];if(!C&&!V&&(y=j+1),C&&V&&(b=j-1),!C&&V){_=E;break}w++}return _||m},pF=function(t){var r=Rt(t)?[]:t.toString().split(Hz);return[{words:r}]},vje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ol.isSsr){var c,u,d=qz({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pF(a);return gje({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return pF(a)},gF="#808080",uf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,y=v===void 0?gF:v,b=fF(t,cje),w=x.useMemo(function(){return vje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,j=b.dy,N=b.angle,S=b.className,k=b.breakAll,C=fF(b,uje);if(!Dn(n)||!Dn(s))return null;var E=n+(Xe(_)?_:0),P=s+(Xe(j)?j:0),T;switch(g){case"start":T=WS("calc(".concat(u,")"));break;case"middle":T=WS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=WS("calc(".concat(w.length-1," * -").concat(l,")"));break}var V=[];if(f){var G=w[0].width,B=b.width;V.push("scale(".concat((Xe(B)?B/G:1)/G,")"))}return N&&V.push("rotate(".concat(N,", ").concat(E,", ").concat(P,")")),V.length&&(C.transform=V.join(" ")),ie.createElement("text",Lk({},jt(C,!0),{x:E,y:P,className:Mt("recharts-text",S),textAnchor:m,fill:y.includes("url")?gF:y}),w.map(function(I,z){var L=I.words.join(k?"":" ");return ie.createElement("tspan",{x:E,dy:z===0?T:l,key:"".concat(L,"-").concat(z)},L)}))};function ku(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TA(e){let t,r,n;e.length!==2?(t=ku,r=(l,c)=>ku(e(l),c),n=(l,c)=>e(l)-c):(t=e===ku||e===xje?e:yje,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function yje(){return 0}function Gz(e){return e===null?NaN:+e}function*bje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wje=TA(ku),ex=wje.right;TA(Gz).center;class vF extends Map{constructor(t,r=Sje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(xF(this,t))}has(t){return super.has(xF(this,t))}set(t,r){return super.set(_je(this,t),r)}delete(t){return super.delete(jje(this,t))}}function xF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _je({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Nje(e=ku){if(e===ku)return Kz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kje=Math.sqrt(50),Cje=Math.sqrt(10),Eje=Math.sqrt(2);function ob(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=kje?10:s>=Cje?5:s>=Eje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ob(e,t,r*2):[l,c,u]}function $k(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?ob(t,e,r):ob(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function Bk(e,t,r){return t=+t,e=+e,r=+r,ob(e,t,r)[2]}function Uk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bk(t,e,r):Bk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function yF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Yz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Kz:Nje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));Yz(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(e0(e,r,t),a(e[n],s)>0&&e0(e,r,n);o<l;){for(e0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?e0(e,r,l):(++l,e0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function e0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Tje(e,t,r){if(e=Float64Array.from(bje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bF(e);if(t>=1)return yF(e);var n,a=(n-1)*t,s=Math.floor(a),o=yF(Yz(e,s).subarray(0,s+1)),l=bF(e.subarray(s+1));return o+(l-o)*(a-s)}}function Aje(e,t,r=Gz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function Pje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Fi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Sc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const zk=Symbol("implicit");function AA(){var e=new vF,t=[],r=[],n=zk;function a(s){let o=e.get(s);if(o===void 0){if(n!==zk)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new vF;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return AA(t,r).unknown(n)},Fi.apply(a,arguments),a}function zg(){var e=AA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=Pje(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return zg(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fi.apply(f(),arguments)}function Xz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Xz(t())},e}function W0(){return Xz(zg.apply(null,arguments).paddingInner(1))}function PA(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tx(){}var Vg=.7,lb=1/Vg,Uh="\\s*([+-]?\\d+)\\s*",Wg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oje=/^#([0-9a-f]{3,8})$/,Dje=new RegExp(`^rgb\\(${Uh},${Uh},${Uh}\\)$`),Rje=new RegExp(`^rgb\\(${ll},${ll},${ll}\\)$`),Mje=new RegExp(`^rgba\\(${Uh},${Uh},${Uh},${Wg}\\)$`),Fje=new RegExp(`^rgba\\(${ll},${ll},${ll},${Wg}\\)$`),Ije=new RegExp(`^hsl\\(${Wg},${ll},${ll}\\)$`),Lje=new RegExp(`^hsla\\(${Wg},${ll},${ll},${Wg}\\)$`),wF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PA(tx,Hg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_F,formatHex:_F,formatHex8:$je,formatHsl:Bje,formatRgb:jF,toString:jF});function _F(){return this.rgb().formatHex()}function $je(){return this.rgb().formatHex8()}function Bje(){return Zz(this).formatHsl()}function jF(){return this.rgb().formatRgb()}function Hg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Oje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SF(t):r===3?new xs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?uy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?uy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dje.exec(e))?new xs(t[1],t[2],t[3],1):(t=Rje.exec(e))?new xs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mje.exec(e))?uy(t[1],t[2],t[3],t[4]):(t=Fje.exec(e))?uy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ije.exec(e))?CF(t[1],t[2]/100,t[3]/100,1):(t=Lje.exec(e))?CF(t[1],t[2]/100,t[3]/100,t[4]):wF.hasOwnProperty(e)?SF(wF[e]):e==="transparent"?new xs(NaN,NaN,NaN,0):null}function SF(e){return new xs(e>>16&255,e>>8&255,e&255,1)}function uy(e,t,r,n){return n<=0&&(e=t=r=NaN),new xs(e,t,r,n)}function Uje(e){return e instanceof tx||(e=Hg(e)),e?(e=e.rgb(),new xs(e.r,e.g,e.b,e.opacity)):new xs}function Vk(e,t,r,n){return arguments.length===1?Uje(e):new xs(e,t,r,n??1)}function xs(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}PA(xs,Vk,Qz(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new xs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xs(Vd(this.r),Vd(this.g),Vd(this.b),cb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NF,formatHex:NF,formatHex8:zje,formatRgb:kF,toString:kF}));function NF(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}`}function zje(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}${Sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function kF(){const e=cb(this.opacity);return`${e===1?"rgb(":"rgba("}${Vd(this.r)}, ${Vd(this.g)}, ${Vd(this.b)}${e===1?")":`, ${e})`}`}function cb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sd(e){return e=Vd(e),(e<16?"0":"")+e.toString(16)}function CF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new io(e,t,r,n)}function Zz(e){if(e instanceof io)return new io(e.h,e.s,e.l,e.opacity);if(e instanceof tx||(e=Hg(e)),!e)return new io;if(e instanceof io)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new io(o,l,c,e.opacity)}function Vje(e,t,r,n){return arguments.length===1?Zz(e):new io(e,t,r,n??1)}function io(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}PA(io,Vje,Qz(tx,{brighter(e){return e=e==null?lb:Math.pow(lb,e),new io(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vg:Math.pow(Vg,e),new io(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xs(HS(e>=240?e-240:e+120,a,n),HS(e,a,n),HS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new io(EF(this.h),dy(this.s),dy(this.l),cb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cb(this.opacity);return`${e===1?"hsl(":"hsla("}${EF(this.h)}, ${dy(this.s)*100}%, ${dy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EF(e){return e=(e||0)%360,e<0?e+360:e}function dy(e){return Math.max(0,Math.min(1,e||0))}function HS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const OA=e=>()=>e;function Wje(e,t){return function(r){return e+r*t}}function Hje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qje(e){return(e=+e)==1?Jz:function(t,r){return r-t?Hje(t,r,e):OA(isNaN(t)?r:t)}}function Jz(e,t){var r=t-e;return r?Wje(e,r):OA(isNaN(e)?t:e)}const TF=function e(t){var r=qje(t);function n(a,s){var o=r((a=Vk(a)).r,(s=Vk(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Jz(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Gje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Kje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Tp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function Xje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ub(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Qje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Wk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qS=new RegExp(Wk.source,"g");function Zje(e){return function(){return e}}function Jje(e){return function(t){return e(t)+""}}function eSe(e,t){var r=Wk.lastIndex=qS.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Wk.exec(e))&&(a=qS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ub(n,a)})),r=qS.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Jje(c[0].x):Zje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Tp(e,t){var r=typeof t,n;return t==null||r==="boolean"?OA(t):(r==="number"?ub:r==="string"?(n=Hg(t))?(t=n,TF):eSe:t instanceof Hg?TF:t instanceof Date?Xje:Kje(t)?Gje:Array.isArray(t)?Yje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qje:ub)(e,t)}function DA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tSe(e,t){t===void 0&&(t=e,e=Tp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function rSe(e){return function(){return e}}function db(e){return+e}var AF=[0,1];function Qa(e){return e}function Hk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rSe(isNaN(t)?NaN:.5)}function nSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aSe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=Hk(a,n),s=r(o,s)):(n=Hk(n,a),s=r(s,o)),function(l){return s(n(l))}}function sSe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Hk(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=ex(e,l,1,n)-1;return s[c](a[c](l))}}function rx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T_(){var e=AF,t=AF,r=Tp,n,a,s,o=Qa,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Qa&&(o=nSe(e[0],e[h-1])),l=h>2?sSe:aSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ub)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,db),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=DA,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Qa,d()):o!==Qa},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function RA(){return T_()(Qa,Qa)}function iSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Em(e){return e=fb(Math.abs(e)),e?e[1]:NaN}function oSe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function lSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qg(e){if(!(t=cSe.exec(e)))throw new Error("invalid format: "+e);var t;return new MA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qg.prototype=MA.prototype;function MA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var eV;function dSe(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(eV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+fb(e,Math.max(0,t+s-1))[0]}function PF(e,t){var r=fb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const OF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PF(e*100,t),r:PF,s:dSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DF(e){return e}var RF=Array.prototype.map,MF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fSe(e){var t=e.grouping===void 0||e.thousands===void 0?DF:oSe(RF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?DF:lSe(RF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=qg(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(b=!0,j="g"):OF[j]||(w===void 0&&(w=12),_=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=g==="$"?n:/[%p]/.test(j)?o:"",k=OF[j],C=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(P){var T=N,V=S,G,B,I;if(j==="c")V=k(P)+V,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),w),_&&(P=uSe(P)),z&&+P==0&&p!=="+"&&(z=!1),T=(z?p==="("?p:l:p==="-"||p==="("?"":p)+T,V=(j==="s"?MF[8+eV/3]:"")+V+(z&&p==="("?")":""),C){for(G=-1,B=P.length;++G<B;)if(I=P.charCodeAt(G),48>I||I>57){V=(I===46?a+P.slice(G+1):P.slice(G))+V,P=P.slice(0,G);break}}}b&&!v&&(P=t(P,1/0));var L=T.length+P.length+V.length,F=L<y?new Array(y-L+1).join(h):"";switch(b&&v&&(P=t(F+P,F.length?y-V.length:1/0),F=""),m){case"<":P=T+P+V+F;break;case"=":P=T+F+P+V;break;case"^":P=F.slice(0,L=F.length>>1)+T+P+V+F.slice(L);break;default:P=F+T+P+V;break}return s(P)}return E.toString=function(){return f+""},E}function d(f,h){var m=u((f=qg(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Em(h)/3)))*3,g=Math.pow(10,-p),v=MF[8+p/3];return function(y){return m(g*y)+v}}return{format:u,formatPrefix:d}}var fy,FA,tV;hSe({thousands:",",grouping:[3],currency:["$",""]});function hSe(e){return fy=fSe(e),FA=fy.format,tV=fy.formatPrefix,fy}function mSe(e){return Math.max(0,-Em(Math.abs(e)))}function pSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Em(t)/3)))*3-Em(Math.abs(e)))}function gSe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Em(t)-Em(e))+1}function rV(e,t,r,n){var a=Uk(e,t,r),s;switch(n=qg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=pSe(a,o))&&(n.precision=s),tV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gSe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=mSe(a))&&(n.precision=s-(n.type==="%")*2);break}}return FA(n)}function Yu(e){var t=e.domain;return e.ticks=function(r){var n=t();return $k(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=Bk(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hb(){var e=RA();return e.copy=function(){return rx(e,hb())},Fi.apply(e,arguments),Yu(e)}function nV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,db),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nV(e).unknown(t)},e=arguments.length?Array.from(e,db):[0,1],Yu(r)}function aV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function FF(e){return Math.log(e)}function IF(e){return Math.exp(e)}function vSe(e){return-Math.log(-e)}function xSe(e){return-Math.exp(-e)}function ySe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bSe(e){return e===10?ySe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LF(e){return(t,r)=>-e(-t,r)}function IA(e){const t=e(FF,IF),r=t.domain;let n=10,a,s;function o(){return a=wSe(n),s=bSe(n),r()[0]<0?(a=LF(a),s=LF(s),e(vSe,xSe)):e(FF,IF),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=$k(u,d,v))}else y=$k(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qg(c)).precision==null&&(c.trim=!0),c=FA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function sV(){const e=IA(T_()).domain([1,10]);return e.copy=()=>rx(e,sV()).base(e.base()),Fi.apply(e,arguments),e}function $F(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function LA(e){var t=1,r=e($F(t),BF(t));return r.constant=function(n){return arguments.length?e($F(t=+n),BF(t)):t},Yu(r)}function iV(){var e=LA(T_());return e.copy=function(){return rx(e,iV()).constant(e.constant())},Fi.apply(e,arguments)}function UF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _Se(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jSe(e){return e<0?-e*e:e*e}function $A(e){var t=e(Qa,Qa),r=1;function n(){return r===1?e(Qa,Qa):r===.5?e(_Se,jSe):e(UF(r),UF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Yu(t)}function BA(){var e=$A(T_());return e.copy=function(){return rx(e,BA()).exponent(e.exponent())},Fi.apply(e,arguments),e}function SSe(){return BA.apply(null,arguments).exponent(.5)}function zF(e){return Math.sign(e)*e*e}function NSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oV(){var e=RA(),t=[0,1],r=!1,n;function a(s){var o=NSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(zF(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,db)).map(zF)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return oV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fi.apply(a,arguments),Yu(a)}function lV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Aje(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[ex(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ku),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return lV().domain(e).range(t).unknown(n)},Fi.apply(s,arguments)}function cV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[ex(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cV().domain([e,t]).range(a).unknown(s)},Fi.apply(Yu(o),arguments)}function uV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[ex(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return uV().domain(e).range(t).unknown(r)},Fi.apply(a,arguments)}const GS=new Date,KS=new Date;function Fn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Fn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(GS.setTime(+s),KS.setTime(+o),e(GS),e(KS),Math.floor(r(GS,KS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const mb=Fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):mb);mb.range;const Kl=1e3,Ci=Kl*60,Yl=Ci*60,mc=Yl*24,UA=mc*7,VF=mc*30,YS=mc*365,Nd=Fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCSeconds());Nd.range;const zA=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getMinutes());zA.range;const VA=Fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCMinutes());VA.range;const WA=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl-e.getMinutes()*Ci)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getHours());WA.range;const HA=Fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yl)},(e,t)=>(t-e)/Yl,e=>e.getUTCHours());HA.range;const nx=Fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ci)/mc,e=>e.getDate()-1);nx.range;const A_=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>e.getUTCDate()-1);A_.range;const dV=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>Math.floor(e/mc));dV.range;function Cf(e){return Fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ci)/UA)}const P_=Cf(0),pb=Cf(1),kSe=Cf(2),CSe=Cf(3),Tm=Cf(4),ESe=Cf(5),TSe=Cf(6);P_.range;pb.range;kSe.range;CSe.range;Tm.range;ESe.range;TSe.range;function Ef(e){return Fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/UA)}const O_=Ef(0),gb=Ef(1),ASe=Ef(2),PSe=Ef(3),Am=Ef(4),OSe=Ef(5),DSe=Ef(6);O_.range;gb.range;ASe.range;PSe.range;Am.range;OSe.range;DSe.range;const qA=Fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qA.range;const GA=Fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());GA.range;const pc=Fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pc.range;const gc=Fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());gc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});gc.range;function fV(e,t,r,n,a,s){const o=[[Nd,1,Kl],[Nd,5,5*Kl],[Nd,15,15*Kl],[Nd,30,30*Kl],[s,1,Ci],[s,5,5*Ci],[s,15,15*Ci],[s,30,30*Ci],[a,1,Yl],[a,3,3*Yl],[a,6,6*Yl],[a,12,12*Yl],[n,1,mc],[n,2,2*mc],[r,1,UA],[t,1,VF],[t,3,3*VF],[e,1,YS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=TA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(Uk(u/YS,d/YS,f));if(m===0)return mb.every(Math.max(Uk(u,d,f),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[RSe,MSe]=fV(gc,GA,O_,dV,HA,VA),[FSe,ISe]=fV(pc,qA,P_,nx,WA,zA);function XS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function QS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function t0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LSe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=r0(a),d=n0(a),f=r0(s),h=n0(s),m=r0(o),p=n0(o),g=r0(l),v=n0(l),y=r0(c),b=n0(c),w={a:z,A:L,b:F,B:Y,c:null,d:YF,e:YF,f:o2e,g:v2e,G:y2e,H:a2e,I:s2e,j:i2e,L:hV,m:l2e,M:c2e,p:X,q:D,Q:ZF,s:JF,S:u2e,u:d2e,U:f2e,V:h2e,w:m2e,W:p2e,x:null,X:null,y:g2e,Y:x2e,Z:b2e,"%":QF},_={a:R,A:M,b:W,B:J,c:null,d:XF,e:XF,f:S2e,g:R2e,G:F2e,H:w2e,I:_2e,j:j2e,L:pV,m:N2e,M:k2e,p:re,q:xe,Q:ZF,s:JF,S:C2e,u:E2e,U:T2e,V:A2e,w:P2e,W:O2e,x:null,X:null,y:D2e,Y:M2e,Z:I2e,"%":QF},j={a:E,A:P,b:T,B:V,c:G,d:GF,e:GF,f:e2e,g:qF,G:HF,H:KF,I:KF,j:XSe,L:JSe,m:YSe,M:QSe,p:C,q:KSe,Q:r2e,s:n2e,S:ZSe,u:VSe,U:WSe,V:HSe,w:zSe,W:qSe,x:B,X:I,y:qF,Y:HF,Z:GSe,"%":t2e};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(se,Q){return function(fe){var A=[],Be=-1,Me=0,Le=se.length,ze,Re,gt;for(fe instanceof Date||(fe=new Date(+fe));++Be<Le;)se.charCodeAt(Be)===37&&(A.push(se.slice(Me,Be)),(Re=WF[ze=se.charAt(++Be)])!=null?ze=se.charAt(++Be):Re=ze==="e"?" ":"0",(gt=Q[ze])&&(ze=gt(fe,Re)),A.push(ze),Me=Be+1);return A.push(se.slice(Me,Be)),A.join("")}}function S(se,Q){return function(fe){var A=t0(1900,void 0,1),Be=k(A,se,fe+="",0),Me,Le;if(Be!=fe.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(Q&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Me=QS(t0(A.y,0,1)),Le=Me.getUTCDay(),Me=Le>4||Le===0?gb.ceil(Me):gb(Me),Me=A_.offset(Me,(A.V-1)*7),A.y=Me.getUTCFullYear(),A.m=Me.getUTCMonth(),A.d=Me.getUTCDate()+(A.w+6)%7):(Me=XS(t0(A.y,0,1)),Le=Me.getDay(),Me=Le>4||Le===0?pb.ceil(Me):pb(Me),Me=nx.offset(Me,(A.V-1)*7),A.y=Me.getFullYear(),A.m=Me.getMonth(),A.d=Me.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),Le="Z"in A?QS(t0(A.y,0,1)).getUTCDay():XS(t0(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(Le+5)%7:A.w+A.U*7-(Le+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,QS(A)):XS(A)}}function k(se,Q,fe,A){for(var Be=0,Me=Q.length,Le=fe.length,ze,Re;Be<Me;){if(A>=Le)return-1;if(ze=Q.charCodeAt(Be++),ze===37){if(ze=Q.charAt(Be++),Re=j[ze in WF?Q.charAt(Be++):ze],!Re||(A=Re(se,fe,A))<0)return-1}else if(ze!=fe.charCodeAt(A++))return-1}return A}function C(se,Q,fe){var A=u.exec(Q.slice(fe));return A?(se.p=d.get(A[0].toLowerCase()),fe+A[0].length):-1}function E(se,Q,fe){var A=m.exec(Q.slice(fe));return A?(se.w=p.get(A[0].toLowerCase()),fe+A[0].length):-1}function P(se,Q,fe){var A=f.exec(Q.slice(fe));return A?(se.w=h.get(A[0].toLowerCase()),fe+A[0].length):-1}function T(se,Q,fe){var A=y.exec(Q.slice(fe));return A?(se.m=b.get(A[0].toLowerCase()),fe+A[0].length):-1}function V(se,Q,fe){var A=g.exec(Q.slice(fe));return A?(se.m=v.get(A[0].toLowerCase()),fe+A[0].length):-1}function G(se,Q,fe){return k(se,t,Q,fe)}function B(se,Q,fe){return k(se,r,Q,fe)}function I(se,Q,fe){return k(se,n,Q,fe)}function z(se){return o[se.getDay()]}function L(se){return s[se.getDay()]}function F(se){return c[se.getMonth()]}function Y(se){return l[se.getMonth()]}function X(se){return a[+(se.getHours()>=12)]}function D(se){return 1+~~(se.getMonth()/3)}function R(se){return o[se.getUTCDay()]}function M(se){return s[se.getUTCDay()]}function W(se){return c[se.getUTCMonth()]}function J(se){return l[se.getUTCMonth()]}function re(se){return a[+(se.getUTCHours()>=12)]}function xe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var Q=N(se+="",w);return Q.toString=function(){return se},Q},parse:function(se){var Q=S(se+="",!1);return Q.toString=function(){return se},Q},utcFormat:function(se){var Q=N(se+="",_);return Q.toString=function(){return se},Q},utcParse:function(se){var Q=S(se+="",!0);return Q.toString=function(){return se},Q}}}var WF={"-":"",_:" ",0:"0"},qn=/^\s*\d+/,$Se=/^%/,BSe=/[\\^$*+?|[\]().{}]/g;function or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function USe(e){return e.replace(BSe,"\\$&")}function r0(e){return new RegExp("^(?:"+e.map(USe).join("|")+")","i")}function n0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function WSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GSe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KSe(e,t,r){var n=qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XSe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function KF(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZSe(e,t,r){var n=qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JSe(e,t,r){var n=qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function e2e(e,t,r){var n=qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t2e(e,t,r){var n=$Se.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function r2e(e,t,r){var n=qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function n2e(e,t,r){var n=qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YF(e,t){return or(e.getDate(),t,2)}function a2e(e,t){return or(e.getHours(),t,2)}function s2e(e,t){return or(e.getHours()%12||12,t,2)}function i2e(e,t){return or(1+nx.count(pc(e),e),t,3)}function hV(e,t){return or(e.getMilliseconds(),t,3)}function o2e(e,t){return hV(e,t)+"000"}function l2e(e,t){return or(e.getMonth()+1,t,2)}function c2e(e,t){return or(e.getMinutes(),t,2)}function u2e(e,t){return or(e.getSeconds(),t,2)}function d2e(e){var t=e.getDay();return t===0?7:t}function f2e(e,t){return or(P_.count(pc(e)-1,e),t,2)}function mV(e){var t=e.getDay();return t>=4||t===0?Tm(e):Tm.ceil(e)}function h2e(e,t){return e=mV(e),or(Tm.count(pc(e),e)+(pc(e).getDay()===4),t,2)}function m2e(e){return e.getDay()}function p2e(e,t){return or(pb.count(pc(e)-1,e),t,2)}function g2e(e,t){return or(e.getFullYear()%100,t,2)}function v2e(e,t){return e=mV(e),or(e.getFullYear()%100,t,2)}function x2e(e,t){return or(e.getFullYear()%1e4,t,4)}function y2e(e,t){var r=e.getDay();return e=r>=4||r===0?Tm(e):Tm.ceil(e),or(e.getFullYear()%1e4,t,4)}function b2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+or(t/60|0,"0",2)+or(t%60,"0",2)}function XF(e,t){return or(e.getUTCDate(),t,2)}function w2e(e,t){return or(e.getUTCHours(),t,2)}function _2e(e,t){return or(e.getUTCHours()%12||12,t,2)}function j2e(e,t){return or(1+A_.count(gc(e),e),t,3)}function pV(e,t){return or(e.getUTCMilliseconds(),t,3)}function S2e(e,t){return pV(e,t)+"000"}function N2e(e,t){return or(e.getUTCMonth()+1,t,2)}function k2e(e,t){return or(e.getUTCMinutes(),t,2)}function C2e(e,t){return or(e.getUTCSeconds(),t,2)}function E2e(e){var t=e.getUTCDay();return t===0?7:t}function T2e(e,t){return or(O_.count(gc(e)-1,e),t,2)}function gV(e){var t=e.getUTCDay();return t>=4||t===0?Am(e):Am.ceil(e)}function A2e(e,t){return e=gV(e),or(Am.count(gc(e),e)+(gc(e).getUTCDay()===4),t,2)}function P2e(e){return e.getUTCDay()}function O2e(e,t){return or(gb.count(gc(e)-1,e),t,2)}function D2e(e,t){return or(e.getUTCFullYear()%100,t,2)}function R2e(e,t){return e=gV(e),or(e.getUTCFullYear()%100,t,2)}function M2e(e,t){return or(e.getUTCFullYear()%1e4,t,4)}function F2e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Am(e):Am.ceil(e),or(e.getUTCFullYear()%1e4,t,4)}function I2e(){return"+0000"}function QF(){return"%"}function ZF(e){return+e}function JF(e){return Math.floor(+e/1e3)}var Gf,vV,xV;L2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function L2e(e){return Gf=LSe(e),vV=Gf.format,Gf.parse,xV=Gf.utcFormat,Gf.utcParse,Gf}function $2e(e){return new Date(e)}function B2e(e){return e instanceof Date?+e:+new Date(+e)}function KA(e,t,r,n,a,s,o,l,c,u){var d=RA(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?p:o(N)<N?g:s(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,B2e)):h().map($2e)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(aV(S,N)):d},d.copy=function(){return rx(d,KA(e,t,r,n,a,s,o,l,c,u))},d}function U2e(){return Fi.apply(KA(FSe,ISe,pc,qA,P_,nx,WA,zA,Nd,vV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z2e(){return Fi.apply(KA(RSe,MSe,gc,GA,O_,A_,HA,VA,Nd,xV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var e=0,t=1,r,n,a,s,o=Qa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(Tp),u.rangeRound=d(DA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Xu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yV(){var e=Yu(D_()(Qa));return e.copy=function(){return Xu(e,yV())},Sc.apply(e,arguments)}function bV(){var e=IA(D_()).domain([1,10]);return e.copy=function(){return Xu(e,bV()).base(e.base())},Sc.apply(e,arguments)}function wV(){var e=LA(D_());return e.copy=function(){return Xu(e,wV()).constant(e.constant())},Sc.apply(e,arguments)}function YA(){var e=$A(D_());return e.copy=function(){return Xu(e,YA()).exponent(e.exponent())},Sc.apply(e,arguments)}function V2e(){return YA.apply(null,arguments).exponent(.5)}function _V(){var e=[],t=Qa;function r(n){if(n!=null&&!isNaN(n=+n))return t((ex(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ku),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Tje(e,s/n))},r.copy=function(){return _V(t).domain(e)},Sc.apply(r,arguments)}function R_(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=Qa,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,u=tSe(g,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(Tp),m.rangeRound=p(DA),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function jV(){var e=Yu(R_()(Qa));return e.copy=function(){return Xu(e,jV())},Sc.apply(e,arguments)}function SV(){var e=IA(R_()).domain([.1,1,10]);return e.copy=function(){return Xu(e,SV()).base(e.base())},Sc.apply(e,arguments)}function NV(){var e=LA(R_());return e.copy=function(){return Xu(e,NV()).constant(e.constant())},Sc.apply(e,arguments)}function XA(){var e=$A(R_());return e.copy=function(){return Xu(e,XA()).exponent(e.exponent())},Sc.apply(e,arguments)}function W2e(){return XA.apply(null,arguments).exponent(.5)}const e3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zg,scaleDiverging:jV,scaleDivergingLog:SV,scaleDivergingPow:XA,scaleDivergingSqrt:W2e,scaleDivergingSymlog:NV,scaleIdentity:nV,scaleImplicit:zk,scaleLinear:hb,scaleLog:sV,scaleOrdinal:AA,scalePoint:W0,scalePow:BA,scaleQuantile:lV,scaleQuantize:cV,scaleRadial:oV,scaleSequential:yV,scaleSequentialLog:bV,scaleSequentialPow:YA,scaleSequentialQuantile:_V,scaleSequentialSqrt:V2e,scaleSequentialSymlog:wV,scaleSqrt:SSe,scaleSymlog:iV,scaleThreshold:uV,scaleTime:U2e,scaleUtc:z2e,tickFormat:rV},Symbol.toStringTag,{value:"Module"}));var H2e=bp;function q2e(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!H2e(o):r(o,l)))var l=o,c=s}return c}var M_=q2e;function G2e(e,t){return e>t}var kV=G2e,K2e=M_,Y2e=kV,X2e=Ep;function Q2e(e){return e&&e.length?K2e(e,X2e,Y2e):void 0}var Z2e=Q2e;const F_=pr(Z2e);function J2e(e,t){return e<t}var CV=J2e,eNe=M_,tNe=CV,rNe=Ep;function nNe(e){return e&&e.length?eNe(e,rNe,tNe):void 0}var aNe=nNe;const I_=pr(aNe);var sNe=uA,iNe=kl,oNe=Mz,lNe=Is;function cNe(e,t){var r=lNe(e)?sNe:oNe;return r(e,iNe(t))}var uNe=cNe,dNe=Dz,fNe=uNe;function hNe(e,t){return dNe(fNe(e,t),1)}var mNe=hNe;const pNe=pr(mNe);var gNe=NA;function vNe(e,t){return gNe(e,t)}var xNe=vNe;const ax=pr(xNe);var Ap=1e9,yNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZA,Br=!0,Di="[DecimalError] ",Wd=Di+"Invalid argument: ",QA=Di+"Exponent out of range: ",Pp=Math.floor,hd=Math.pow,bNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xs,$n=1e7,Dr=7,EV=9007199254740991,vb=Pp(EV/Dr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return tc(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return jr(tc(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return bn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xs))throw Error(Di+"NaN");if(r.s<1)throw Error(Di+(r.s?"NaN":"-Infinity"));return r.eq(Xs)?new n(0):(Br=!1,t=tc(Gg(r,s),Gg(e,s),s),Br=!0,jr(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PV(t,e):TV(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Di+"NaN");return r.s?(Br=!1,t=tc(r,e,0,1).times(e),Br=!0,r.minus(t)):jr(new n(r),a)};ot.naturalExponential=ot.exp=function(){return AV(this)};ot.naturalLogarithm=ot.ln=function(){return Gg(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TV(t,e):PV(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wd+e);if(t=bn(a)+1,n=a.d.length-1,r=n*Dr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Di+"NaN")}for(e=bn(l),Br=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=rl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Pp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(tc(l,s,o+2)).times(.5),rl(s.d).slice(0,o)===(t=rl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(jr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Br=!0,jr(n,r)};ot.times=ot.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%$n|0,t=l/$n|0;s[a]=(s[a]+t)%$n|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Br?jr(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vl(e,0,Ap),t===void 0?t=n.rounding:vl(t,0,8),jr(r,e+bn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=df(n,!0):(vl(e,0,Ap),t===void 0?t=a.rounding:vl(t,0,8),n=jr(new a(n),e+1,t),r=df(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?df(a):(vl(e,0,Ap),t===void 0?t=s.rounding:vl(t,0,8),n=jr(new s(a),e+bn(a)+1,t),r=df(n.abs(),!1,e+bn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return jr(new t(e),bn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Xs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Di+"Infinity");return l}if(l.eq(Xs))return l;if(n=c.precision,e.eq(Xs))return jr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=EV){for(a=new c(Xs),t=Math.ceil(n/Dr+4),Br=!1;r%2&&(a=a.times(l),r3(a.d,t)),r=Pp(r/2),r!==0;)l=l.times(l),r3(l.d,t);return Br=!0,e.s<0?new c(Xs).div(a):jr(a,n)}}else if(s<0)throw Error(Di+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Br=!1,a=e.times(Gg(l,n+u)),Br=!0,a=AV(a),a.s=s,a};ot.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=bn(a),n=df(a,r<=s.toExpNeg||r>=s.toExpPos)):(vl(e,1,Ap),t===void 0?t=s.rounding:vl(t,0,8),a=jr(new s(a),e,t),r=bn(a),n=df(a,e<=r||r<=s.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vl(e,1,Ap),t===void 0?t=n.rounding:vl(t,0,8)),jr(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=bn(e),r=e.constructor;return df(e,t<=r.toExpNeg||t>=r.toExpPos)};function TV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Br?jr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Dr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/$n|0,c[s]%=$n;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Br?jr(t,f):t}function vl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wd+e)}function rl(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Dr-n.length,r&&(s+=Uc(r)),s+=n;o=e[t],n=o+"",r=Dr-n.length,r&&(s+=Uc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var tc=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%$n|0,o=s/$n|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*$n+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,p,g,v,y,b,w,_,j,N,S,k,C=n.constructor,E=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Di+"Division by zero");for(c=n.e-a.e,S=T.length,j=P.length,m=new C(E),p=m.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,s==null?b=s=C.precision:o?b=s+(bn(n)-bn(a))+1:b=s,b<0)return new C(0);if(b=b/Dr+2|0,u=0,S==1)for(d=0,T=T[0],b++;(u<j||d)&&b--;u++)w=d*$n+(P[u]||0),p[u]=w/T|0,d=w%T|0;else{for(d=$n/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),S=T.length,j=P.length),_=S,g=P.slice(0,S),v=g.length;v<S;)g[v++]=0;k=T.slice(),k.unshift(0),N=T[0],T[1]>=$n/2&&++N;do d=0,l=t(T,g,S,v),l<0?(y=g[0],S!=v&&(y=y*$n+(g[1]||0)),d=y/N|0,d>1?(d>=$n&&(d=$n-1),f=e(T,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,S<h?k:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(T,g,S,v),l<1&&(d++,r(g,S<v?k:T,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=P[_]||0:(g=[P[_]],v=1);while((_++<j||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,jr(m,o?s+bn(m)+1:s)}}();function AV(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(bn(e)>16)throw Error(QA+bn(e));if(!e.s)return new d(Xs);for(t==null?(Br=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(hd(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Xs),d.precision=l;;){if(a=jr(a.times(e),l),r=r.times(++c),o=s.plus(tc(a,r,l)),rl(o.d).slice(0,l)===rl(s.d).slice(0,l)){for(;u--;)s=jr(s.times(s),l);return d.precision=f,t==null?(Br=!0,jr(s,f)):s}s=o}}function bn(e){for(var t=e.e*Dr,r=e.d[0];r>=10;r/=10)t++;return t}function ZS(e,t,r){if(t>e.LN10.sd())throw Br=!0,r&&(e.precision=r),Error(Di+"LN10 precision limit exceeded");return jr(new e(e.LN10),t)}function Uc(e){for(var t="";e--;)t+="0";return t}function Gg(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Di+(m.s?"NaN":"-Infinity"));if(m.eq(Xs))return new g(0);if(t==null?(Br=!1,u=v):u=t,m.eq(10))return t==null&&(Br=!0),ZS(g,u);if(u+=h,g.precision=u,r=rl(p),n=r.charAt(0),s=bn(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=rl(m.d),n=r.charAt(0),f++;s=bn(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=ZS(g,u+2,v).times(s+""),m=Gg(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Br=!0,jr(m,v)):m;for(l=o=m=tc(m.minus(Xs),m.plus(Xs),u),d=jr(m.times(m),u),a=3;;){if(o=jr(o.times(d),u),c=l.plus(tc(o,new g(a),u)),rl(c.d).slice(0,u)===rl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ZS(g,u+2,v).times(s+""))),l=tc(l,new g(f),u),g.precision=v,t==null?(Br=!0,jr(l,v)):l;l=c,a+=2}}function t3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Pp(r/Dr),e.d=[],n=(r+1)%Dr,r<0&&(n+=Dr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Dr;n<a;)e.d.push(+t.slice(n,n+=Dr));t=t.slice(n),n=Dr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Br&&(e.e>vb||e.e<-vb))throw Error(QA+r)}else e.s=0,e.e=0,e.d=[0];return e}function jr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Dr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Dr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Dr,a=n-Dr+o}if(r!==void 0&&(s=hd(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/hd(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=bn(e),f.length=1,t=t-s-1,f[0]=hd(10,(Dr-t%Dr)%Dr),e.e=Pp(-t/Dr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=hd(10,Dr-n),f[d]=a>0?(u/hd(10,o-a)%hd(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==$n&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=$n)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Br&&(e.e>vb||e.e<-vb))throw Error(QA+bn(e));return e}function PV(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Br?jr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Dr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=$n-1;--c[s],c[a]+=$n}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Br?jr(t,m):t):new h(0)}function df(e,t,r){var n,a=bn(e),s=rl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Uc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Uc(-a-1)+s,r&&(n=r-o)>0&&(s+=Uc(n))):a>=o?(s+=Uc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Uc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Uc(n))),e.s<0?"-"+s:s}function r3(e,t){if(e.length>t)return e.length=t,!0}function OV(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return t3(o,s.toString())}else if(typeof s!="string")throw Error(Wd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,bNe.test(s))t3(o,s);else throw Error(Wd+s)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=OV,a.config=a.set=wNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function wNe(e){if(!e||typeof e!="object")throw Error(Di+"Object expected");var t,r,n,a=["precision",1,Ap,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Pp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wd+r+": "+n);return this}var ZA=OV(yNe);Xs=new ZA(1);const wr=ZA;function _Ne(e){return kNe(e)||NNe(e)||SNe(e)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SNe(e,t){if(e){if(typeof e=="string")return qk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qk(e,t)}}function NNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function kNe(e){if(Array.isArray(e))return qk(e)}function qk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CNe=function(t){return t},DV={"@@functional/placeholder":!0},RV=function(t){return t===DV},n3=function(t){return function r(){return arguments.length===0||arguments.length===1&&RV(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ENe=function e(t,r){return t===1?r:n3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==DV}).length;return o>=t?r.apply(void 0,a):e(t-o,n3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return RV(f)?c.shift():f});return r.apply(void 0,_Ne(d).concat(c))}))})},L_=function(t){return ENe(t.length,t)},Gk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},TNe=L_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ANe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return CNe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Kk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},MV=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function PNe(e){var t;return e===0?t=1:t=Math.floor(new wr(e).abs().log(10).toNumber())+1,t}function ONe(e,t,r){for(var n=new wr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var DNe=L_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),RNe=L_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),MNe=L_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const $_={rangeStep:ONe,getDigitCount:PNe,interpolateNumber:DNe,uninterpolateNumber:RNe,uninterpolateTruncation:MNe};function Yk(e){return LNe(e)||INe(e)||FV(e)||FNe()}function FNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function INe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function LNe(e){if(Array.isArray(e))return Xk(e)}function Kg(e,t){return UNe(e)||BNe(e,t)||FV(e,t)||$Ne()}function $Ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FV(e,t){if(e){if(typeof e=="string")return Xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(e,t)}}function Xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BNe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function UNe(e){if(Array.isArray(e))return e}function IV(e){var t=Kg(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function LV(e,t,r){if(e.lte(0))return new wr(0);var n=$_.getDigitCount(e.toNumber()),a=new wr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new wr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new wr(Math.ceil(c))}function zNe(e,t,r){var n=1,a=new wr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new wr(10).pow($_.getDigitCount(e)-1),a=new wr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new wr(Math.floor(e)))}else e===0?a=new wr(Math.floor((t-1)/2)):r||(a=new wr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ANe(TNe(function(c){return a.add(new wr(c-o).mul(n)).toNumber()}),Gk);return l(0,t)}function $V(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new wr(0),tickMin:new wr(0),tickMax:new wr(0)};var s=LV(new wr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new wr(0):(o=new wr(e).add(t).div(2),o=o.sub(new wr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new wr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?$V(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new wr(l).mul(s)),tickMax:o.add(new wr(c).mul(s))})}function VNe(e){var t=Kg(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=IV([r,n]),c=Kg(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Yk(Gk(0,a-1).map(function(){return 1/0}))):[].concat(Yk(Gk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Kk(f):f}if(u===d)return zNe(u,a,s);var h=$V(u,d,o,s),m=h.step,p=h.tickMin,g=h.tickMax,v=$_.rangeStep(p,g.add(new wr(.1).mul(m)),m);return r>n?Kk(v):v}function WNe(e,t){var r=Kg(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=IV([n,a]),l=Kg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=LV(new wr(u).sub(c).div(d-1),s,0),h=[].concat(Yk($_.rangeStep(new wr(c),new wr(u).sub(new wr(.99).mul(f)),f)),[u]);return n>a?Kk(h):h}var HNe=MV(VNe),qNe=MV(WNe),GNe="Invariant failed";function ff(e,t){throw new Error(GNe)}var KNe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function YNe(e,t){return JNe(e)||ZNe(e,t)||QNe(e,t)||XNe()}function XNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QNe(e,t){if(e){if(typeof e=="string")return a3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(e,t)}}function a3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JNe(e){if(Array.isArray(e))return e}function eke(e,t){if(e==null)return{};var r=tke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zV(n.key),n)}}function ake(e,t,r){return t&&nke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ske(e,t,r){return t=yb(t),ike(e,BV()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function ike(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oke(e)}function oke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function lke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qk(e,t)}function UV(e,t,r){return t=zV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zV(e){var t=cke(e,"string");return Pm(t)=="symbol"?t:t+""}function cke(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx=function(e){function t(){return rke(this,t),ske(this,t,arguments)}return lke(t,e),ake(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=eke(n,KNe),m=jt(h,!1);this.props.direction==="x"&&d.type!=="number"&&ff();var p=c.map(function(g){var v=u(g,l),y=v.x,b=v.y,w=v.value,_=v.errorVal;if(!_)return null;var j=[],N,S;if(Array.isArray(_)){var k=YNe(_,2);N=k[0],S=k[1]}else N=S=_;if(s==="vertical"){var C=d.scale,E=b+a,P=E+o,T=E-o,V=C(w-N),G=C(w+S);j.push({x1:G,y1:P,x2:G,y2:T}),j.push({x1:V,y1:E,x2:G,y2:E}),j.push({x1:V,y1:P,x2:V,y2:T})}else if(s==="horizontal"){var B=f.scale,I=y+a,z=I-o,L=I+o,F=B(w-N),Y=B(w+S);j.push({x1:z,y1:Y,x2:L,y2:Y}),j.push({x1:I,y1:F,x2:I,y2:Y}),j.push({x1:z,y1:F,x2:L,y2:F})}return ie.createElement(ir,xb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),j.map(function(X){return ie.createElement("line",xb({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return ie.createElement(ir,{className:"recharts-errorBars"},p)}}])}(ie.Component);UV(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UV(sx,"displayName","ErrorBar");function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function s3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(r),!0).forEach(function(n){uke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t,r){return t=dke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=fke(e,"string");return Yg(t)=="symbol"?t:t+""}function fke(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VV=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Hs(r,ai);if(!o)return null;var l=ai.defaultProps,c=l!==void 0?sd(sd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?sd(sd({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||v||"square",color:JA(f),value:g||p,payload:m}}),sd(sd(sd({},c),ai.getWithHeight(o,a)),{},{payload:u,item:o})};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function i3(e){return gke(e)||pke(e)||mke(e)||hke()}function hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(e,t){if(e){if(typeof e=="string")return Zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zk(e,t)}}function pke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gke(e){if(Array.isArray(e))return Zk(e)}function Zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return t=vke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vke(e){var t=xke(e,"string");return Xg(t)=="symbol"?t:t+""}function xke(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t,r){return Rt(e)||Rt(t)?r:Dn(t)?ri(e,t,r):Et(t)?t(e):r}function H0(e,t,r,n){var a=pNe(e,function(l){return Pn(l,t)});if(r==="number"){var s=a.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[I_(s),F_(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Rt(l)}):a;return o.map(function(l){return Dn(l)||l instanceof Date?l:""})}var yke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Ya(f-d)!==Ya(h-f)){var p=[];if(Ya(h-f)===Ya(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){o=a[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},JA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},bke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,y=g.filter(function(S){return ec(S.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Xr(Xr({},b),y[0].props):y[0].props,_=w.barSize,j=w[v];o[j]||(o[j]=[]);var N=Rt(_)?r:_;o[j].push({item:y[0],stackList:y.slice(1),barSize:Rt(N)?void 0:Xa(N,n,0)})}}return o},wke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Xa(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,p=o.reduce(function(_,j){return _+j.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=c*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(_,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},S=[].concat(i3(_),[N]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:v})}),S},f)}else{var y=Xa(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(_,j,N){var S=[].concat(i3(_),[{item:j.item,position:{offset:y+(b+u)*N+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},_ke=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=VV({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Xe(t[m]))return Xr(Xr({},t),{},zh({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Xe(t[p]))return Xr(Xr({},t),{},zh({},p,t[p]+(h||0)))}return t},jke=function(t,r,n){return Rt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WV=function(t,r,n,a,s){var o=r.props.children,l=ni(o,sx).filter(function(u){return jke(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Pn(d,n);if(Rt(f))return u;var h=Array.isArray(f)?[I_(f),F_(f)]:[f,f],m=c.reduce(function(p,g){var v=Pn(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Ske=function(t,r,n,a,s){var o=r.map(function(l){return WV(t,l,n,s,a)}).filter(function(l){return!Rt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HV=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WV(t,c,u,a)||H0(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},qV=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},GV=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Xl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ya(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Zv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},JS=new WeakMap,hy=function(t,r){if(typeof r!="function")return t;JS.has(t)||JS.set(t,new WeakMap);var n=JS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},KV=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:hb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:W0(),realScaleType:"point"}:s==="category"?{scale:zg(),realScaleType:"band"}:{scale:hb(),realScaleType:"linear"};if(lf(a)){var c="scale".concat(__(a));return{scale:(e3[c]||W0)(),realScaleType:e3[c]?c:"point"}}return Et(a)?{scale:a}:{scale:W0(),realScaleType:"point"}},l3=1e-4,YV=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-l3,o=Math.max(a[0],a[1])+l3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Nke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kke=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Cke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Zv(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Eke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Zv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Tke={sign:Cke,expand:Kpe,none:jm,silhouette:Ype,wiggle:Xpe,positive:Eke},Ake=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Tke[n],o=Gpe().keys(a).value(function(l,c){return+Pn(l,c,0)}).order(jk).offset(s);return o(t)},Pke=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Xr(Xr({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var y=p[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Dn(g)){var w=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[g]=w}else b.stackGroups[Np("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Xr(Xr({},f),{},zh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Xr(Xr({},g),{},zh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:Ake(t,y.items,s)}))},p)}return Xr(Xr({},f),{},zh({},h,m))},d)},XV=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=HNe(u,s,l);return t.domain([I_(d),F_(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=qNe(f,s,l);return{niceTicks:h}}return null};function c3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rt(a[t.dataKey])){var l=q1(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Pn(a,Rt(o)?t.dataKey:o);return Rt(c)?null:t.scale(c)}var u3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Pn(o,r.dataKey,r.domain[l]);return Rt(c)?null:r.scale(c)-s/2+a},Oke=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Dke=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Dn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Rke=function(t){return t.reduce(function(r,n){return[I_(n.concat([r[0]]).filter(Xe)),F_(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},QV=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Rke(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},d3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jk=function(t,r,n){if(Et(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(d3.test(t[0])){var s=+d3.exec(t[0])[1];a[0]=r[0]-s}else Et(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(f3.test(t[1])){var o=+f3.exec(t[1])[1];a[1]=r[1]+o}else Et(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},bb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=CA(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},h3=function(t,r,n){return!t||!t.length||ax(t,ri(n,"type.defaultProps.domain"))?r:t},ZV=function(t,r){var n=t.type.defaultProps?Xr(Xr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Xr(Xr({},jt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:JA(t),value:Pn(r,a),type:c,payload:r,chartType:u,hide:d})};function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function m3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m3(Object(r),!0).forEach(function(n){JV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JV(e,t,r){return t=Mke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mke(e){var t=Fke(e,"string");return Qg(t)=="symbol"?t:t+""}function Fke(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ike(e,t){return Uke(e)||Bke(e,t)||$ke(e,t)||Lke()}function Lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Uke(e){if(Array.isArray(e))return e}var wb=Math.PI/180,zke=function(t){return t*180/Math.PI},Cr=function(t,r,n,a){return{x:t+Math.cos(-wb*a)*n,y:r+Math.sin(-wb*a)*n}},eW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Vke=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Xa(t.cx,o,o/2),f=Xa(t.cy,l,l/2),h=eW(o,l,n),m=Xa(t.innerRadius,h,0),p=Xa(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],w=b.domain,_=b.reversed,j;if(Rt(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,p]),_&&(j=[j[1],j[0]]);else{j=b.range;var N=j,S=Ike(N,2);c=S[0],u=S[1]}var k=KV(b,s),C=k.realScaleType,E=k.scale;E.domain(w).range(j),YV(E);var P=XV(E,Bl(Bl({},b),{},{realScaleType:C})),T=Bl(Bl(Bl({},b),P),{},{range:j,radius:p,realScaleType:C,scale:E,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Bl(Bl({},v),{},JV({},y,T))},{})},Wke=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Hke=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Wke({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:zke(u),angleInRadian:u}},qke=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Gke=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},g3=function(t,r){var n=t.x,a=t.y,s=Hke({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qke(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Bl(Bl({},r),{},{radius:o,angle:Gke(m,r)}):null},tW=function(t){return!x.isValidElement(t)&&!Et(t)&&typeof t!="boolean"?t.className:""};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}var Kke=["offset"];function Yke(e){return Jke(e)||Zke(e)||Qke(e)||Xke()}function Xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qke(e,t){if(e){if(typeof e=="string")return eC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}function Zke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jke(e){if(Array.isArray(e))return eC(e)}function eC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){if(e==null)return{};var r=tCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=aCe(e,"string");return Zg(t)=="symbol"?t:t+""}function aCe(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}var sCe=function(t){var r=t.value,n=t.formatter,a=Rt(t.children)?r:t.children;return Et(n)?n(a):a},iCe=function(t,r){var n=Ya(r-t),a=Math.min(Math.abs(r-t),360);return n*a},oCe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,y=iCe(m,p),b=y>=0?1:-1,w,_;a==="insideStart"?(w=m+b*o,_=g):a==="insideEnd"?(w=p-b*o,_=!g):a==="end"&&(w=p+b*o,_=g),_=y<=0?_:!_;var j=Cr(u,d,v,w),N=Cr(u,d,v,w+(_?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Rt(t.id)?Np("recharts-radial-line-"):t.id;return ie.createElement("text",Jg({},n,{dominantBaseline:"central",className:Mt("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:k,d:S})),ie.createElement("textPath",{xlinkHref:"#".concat(k)},r))},lCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Cr(o,l,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Cr(o,l,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},cCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Nn(Nn({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return Nn(Nn({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Nn(Nn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Nn(Nn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?Nn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?Nn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideTop"?Nn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},S):s==="insideBottom"?Nn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):s==="insideTopLeft"?Nn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:p},S):s==="insideTopRight"?Nn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:p},S):s==="insideBottomLeft"?Nn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},S):s==="insideBottomRight"?Nn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},S):wp(s)&&(Xe(s.x)||jd(s.x))&&(Xe(s.y)||jd(s.y))?Nn({x:l+Xa(s.x,u),y:c+Xa(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Nn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},uCe=function(t){return"cx"in t&&Xe(t.cx)};function zn(e){var t=e.offset,r=t===void 0?5:t,n=eCe(e,Kke),a=Nn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Rt(l)&&Rt(c)&&!x.isValidElement(u)&&!Et(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Et(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=sCe(a);var p=uCe(s),g=jt(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return oCe(a,m,g);var v=p?lCe(a):cCe(a);return ie.createElement(uf,Jg({className:Mt("recharts-label",f)},g,v,{breakAll:h}),m)}zn.displayName="Label";var rW=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Xe(g)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:g,height:v};if(Xe(m)&&Xe(p))return{x:m,y:p,width:g,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},dCe=function(t,r){return t?t===!0?ie.createElement(zn,{key:"label-implicit",viewBox:r}):Dn(t)?ie.createElement(zn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===zn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ie.createElement(zn,{key:"label-implicit",content:t,viewBox:r}):Et(t)?ie.createElement(zn,{key:"label-implicit",content:t,viewBox:r}):wp(t)?ie.createElement(zn,Jg({viewBox:r},t,{key:"label-implicit"})):null:null},fCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=rW(t),o=ni(a,zn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=dCe(t.label,r||s);return[l].concat(Yke(o))};zn.parseViewBox=rW;zn.renderCallByParent=fCe;function hCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var mCe=hCe;const pCe=pr(mCe);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var gCe=["valueAccessor"],vCe=["data","dataKey","clockWise","id","textBreakAll"];function xCe(e){return _Ce(e)||wCe(e)||bCe(e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(e,t){if(e){if(typeof e=="string")return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}function wCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ce(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function x3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x3(Object(r),!0).forEach(function(n){jCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jCe(e,t,r){return t=SCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SCe(e){var t=NCe(e,"string");return ev(t)=="symbol"?t:t+""}function NCe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b3(e,t){if(e==null)return{};var r=kCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CCe=function(t){return Array.isArray(t.value)?pCe(t.value):t.value};function rc(e){var t=e.valueAccessor,r=t===void 0?CCe:t,n=b3(e,gCe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=b3(n,vCe);return!a||!a.length?null:ie.createElement(ir,{className:"recharts-label-list"},a.map(function(d,f){var h=Rt(s)?r(d,f):Pn(d&&d.payload,s),m=Rt(l)?{}:{id:"".concat(l,"-").concat(f)};return ie.createElement(zn,_b({},jt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:zn.parseViewBox(Rt(o)?d:y3(y3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}rc.displayName="LabelList";function ECe(e,t){return e?e===!0?ie.createElement(rc,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||Et(e)?ie.createElement(rc,{key:"labelList-implicit",data:t,content:e}):wp(e)?ie.createElement(rc,_b({data:t},e,{key:"labelList-implicit"})):null:null}function TCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ni(n,rc).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=ECe(e.label,t);return[s].concat(xCe(a))}rc.renderCallByParent=TCe;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){ACe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ACe(e,t,r){return t=PCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PCe(e){var t=OCe(e,"string");return tv(t)=="symbol"?t:t+""}function OCe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DCe=function(t,r){var n=Ya(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},my=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/wb,h=u?s:s+o*f,m=Cr(r,n,d,h),p=Cr(r,n,a,h),g=u?s-o*f:s,v=Cr(r,n,d*Math.cos(f*wb),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},nW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=DCe(o,l),u=o+c,d=Cr(r,n,s,o),f=Cr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Cr(r,n,a,o),p=Cr(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},RCe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Ya(d-u),h=my({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=my({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nW({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=my({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,E=my({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,T=E.lineTangency,V=E.theta,G=c?Math.abs(u-d):Math.abs(u-d)-C-V;if(G<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},MCe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aW=function(t){var r=_3(_3({},MCe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=Mt("recharts-sector",h),p=o-s,g=Xa(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=RCe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=nW({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ie.createElement("path",rC({},jt(r,!0),{className:m,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){FCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FCe(e,t,r){return t=ICe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ICe(e){var t=LCe(e,"string");return rv(t)=="symbol"?t:t+""}function LCe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N3={curveBasisClosed:Fpe,curveBasisOpen:Ipe,curveBasis:Mpe,curveBumpX:wpe,curveBumpY:_pe,curveLinearClosed:Lpe,curveLinear:S_,curveMonotoneX:$pe,curveMonotoneY:Bpe,curveNatural:Upe,curveStep:zpe,curveStepAfter:Wpe,curveStepBefore:Vpe},py=function(t){return t.x===+t.x&&t.y===+t.y},a0=function(t){return t.x},s0=function(t){return t.y},$Ce=function(t,r){if(Et(t))return t;var n="curve".concat(__(t));return(n==="curveMonotone"||n==="curveBump")&&r?N3["".concat(n).concat(r==="vertical"?"Y":"X")]:N3[n]||S_},BCe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=$Ce(n,l),f=u?s.filter(function(g){return py(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return py(g)}):o,p=f.map(function(g,v){return S3(S3({},g),{},{base:m[v]})});return l==="vertical"?h=sy().y(s0).x1(a0).x0(function(g){return g.base.x}):h=sy().x(a0).y1(s0).y0(function(g){return g.base.y}),h.defined(py).curve(d),h(p)}return l==="vertical"&&Xe(o)?h=sy().y(s0).x1(a0).x0(o):Xe(o)?h=sy().x(a0).y1(s0).y0(o):h=Z7().x(a0).y(s0),h.defined(py).curve(d),h(f)},jb=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?BCe(t):a;return x.createElement("path",nC({},jt(t,!1),G1(t),{className:Mt("recharts-curve",r),d:o,ref:s}))},sW={exports:{}},UCe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zCe=UCe,VCe=zCe;function iW(){}function oW(){}oW.resetWarningCache=iW;var WCe=function(){function e(n,a,s,o,l,c){if(c!==VCe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oW,resetWarningCache:iW};return r.PropTypes=r,r};sW.exports=WCe();var HCe=sW.exports;const dr=pr(HCe);var qCe=Object.getOwnPropertyNames,GCe=Object.getOwnPropertySymbols,KCe=Object.prototype.hasOwnProperty;function k3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function gy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function C3(e){return qCe(e).concat(GCe(e))}var YCe=Object.hasOwn||function(e,t){return KCe.call(e,t)};function Tf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var XCe="__v",QCe="__o",ZCe="_owner",E3=Object.getOwnPropertyDescriptor,T3=Object.keys;function JCe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function eEe(e,t){return Tf(e.getTime(),t.getTime())}function tEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rEe(e,t){return e===t}function A3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var nEe=Tf;function aEe(e,t,r){var n=T3(e),a=n.length;if(T3(t).length!==a)return!1;for(;a-- >0;)if(!lW(e,t,r,n[a]))return!1;return!0}function i0(e,t,r){var n=C3(e),a=n.length;if(C3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!lW(e,t,r,s)||(o=E3(e,s),l=E3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function sEe(e,t){return Tf(e.valueOf(),t.valueOf())}function iEe(e,t){return e.source===t.source&&e.flags===t.flags}function P3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function oEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function lEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lW(e,t,r,n){return(n===ZCe||n===QCe||n===XCe)&&(e.$$typeof||t.$$typeof)?!0:YCe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var cEe="[object Arguments]",uEe="[object Boolean]",dEe="[object Date]",fEe="[object Error]",hEe="[object Map]",mEe="[object Number]",pEe="[object Object]",gEe="[object RegExp]",vEe="[object Set]",xEe="[object String]",yEe="[object URL]",bEe=Array.isArray,O3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,D3=Object.assign,wEe=Object.prototype.toString.call.bind(Object.prototype.toString);function _Ee(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var y=typeof p;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(p,g,v):y==="function"?a(p,g,v):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,v);if(bEe(p))return t(p,g,v);if(O3!=null&&O3(p))return f(p,g,v);if(b===Date)return r(p,g,v);if(b===RegExp)return u(p,g,v);if(b===Map)return s(p,g,v);if(b===Set)return d(p,g,v);var w=wEe(p);return w===dEe?r(p,g,v):w===gEe?u(p,g,v):w===hEe?s(p,g,v):w===vEe?d(p,g,v):w===pEe?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):w===yEe?h(p,g,v):w===fEe?n(p,g,v):w===cEe?l(p,g,v):w===uEe||w===mEe||w===xEe?c(p,g,v):!1}}function jEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?i0:JCe,areDatesEqual:eEe,areErrorsEqual:tEe,areFunctionsEqual:rEe,areMapsEqual:n?k3(A3,i0):A3,areNumbersEqual:nEe,areObjectsEqual:n?i0:aEe,arePrimitiveWrappersEqual:sEe,areRegExpsEqual:iEe,areSetsEqual:n?k3(P3,i0):P3,areTypedArraysEqual:n?i0:oEe,areUrlsEqual:lEe};if(r&&(a=D3({},a,r(a))),t){var s=gy(a.areArraysEqual),o=gy(a.areMapsEqual),l=gy(a.areObjectsEqual),c=gy(a.areSetsEqual);a=D3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function SEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function NEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var kEe=Qu();Qu({strict:!0});Qu({circular:!0});Qu({circular:!0,strict:!0});Qu({createInternalComparator:function(){return Tf}});Qu({strict:!0,createInternalComparator:function(){return Tf}});Qu({circular:!0,createInternalComparator:function(){return Tf}});Qu({circular:!0,createInternalComparator:function(){return Tf},strict:!0});function Qu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=jEe(e),c=_Ee(l),u=n?n(c):SEe(c);return NEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function CEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function R3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):CEe(a)};requestAnimationFrame(n)}function aC(e){"@babel/helpers - typeof";return aC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aC(e)}function EEe(e){return OEe(e)||PEe(e)||AEe(e)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AEe(e,t){if(e){if(typeof e=="string")return M3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M3(e,t)}}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OEe(e){if(Array.isArray(e))return e}function DEe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=EEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){R3(a.bind(null,u),c);return}a(c),R3(a.bind(null,u));return}aC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=MEe(e,"string");return nv(t)==="symbol"?t:String(t)}function MEe(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FEe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},IEe=function(t){return t},LEe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},q0=function(t,r){return Object.keys(r).reduce(function(n,a){return I3(I3({},n),{},cW({},a,t(a,r[a])))},{})},L3=function(t,r,n){return t.map(function(a){return"".concat(LEe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $Ee(e,t){return zEe(e)||UEe(e,t)||uW(e,t)||BEe()}function BEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zEe(e){if(Array.isArray(e))return e}function VEe(e){return qEe(e)||HEe(e)||uW(e)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uW(e,t){if(e){if(typeof e=="string")return sC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sC(e,t)}}function HEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qEe(e){if(Array.isArray(e))return sC(e)}function sC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sb=1e-4,dW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},$3=function(t,r){return function(n){var a=dW(t,r);return fW(a,n)}},GEe=function(t,r){return function(n){var a=dW(t,r),s=[].concat(VEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return fW(s,n)}},B3=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=$Ee(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=$3(a,o),h=$3(s,l),m=GEe(a,o),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,w=b,_=0;_<8;++_){var j=f(w)-b,N=m(w);if(Math.abs(j-b)<Sb||N<Sb)return h(w);w=p(w-j/N)}return h(w)};return g.isStepper=!1,g},KEe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,p=h*s,g=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Sb&&Math.abs(g)<Sb?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},YEe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return B3(a);case"spring":return KEe();default:if(a.split("(")[0]==="cubic-bezier")return B3(a)}return typeof a=="function"?a:null};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function U3(e){return ZEe(e)||QEe(e)||hW(e)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZEe(e){if(Array.isArray(e))return oC(e)}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return t=JEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JEe(e){var t=eTe(e,"string");return av(t)==="symbol"?t:String(t)}function eTe(e,t){if(av(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tTe(e,t){return aTe(e)||nTe(e,t)||hW(e,t)||rTe()}function rTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hW(e,t){if(e){if(typeof e=="string")return oC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oC(e,t)}}function oC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aTe(e){if(Array.isArray(e))return e}var Nb=function(t,r,n){return t+(r-t)*n},lC=function(t){var r=t.from,n=t.to;return r!==n},sTe=function e(t,r,n){var a=q0(function(s,o){if(lC(o)){var l=t(o.from,o.to,o.velocity),c=tTe(l,2),u=c[0],d=c[1];return Kn(Kn({},o),{},{from:u,velocity:d})}return o},r);return n<1?q0(function(s,o){return lC(o)?Kn(Kn({},o),{},{velocity:Nb(o.velocity,a[s].velocity,n),from:Nb(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const iTe=function(e,t,r,n,a){var s=FEe(e,t),o=s.reduce(function(v,y){return Kn(Kn({},v),{},iC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return Kn(Kn({},v),{},iC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return q0(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(lC).length},p=function(y){u||(u=y);var b=y-u,w=b/r.dt;l=sTe(r,l,w),a(Kn(Kn(Kn({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/n,w=q0(function(j,N){return Nb.apply(void 0,U3(N).concat([r(b)]))},o);if(a(Kn(Kn(Kn({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var _=q0(function(j,N){return Nb.apply(void 0,U3(N).concat([r(1)]))},o);a(Kn(Kn(Kn({},e),t),_))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var oTe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lTe(e,t){if(e==null)return{};var r=cTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e2(e){return hTe(e)||fTe(e)||dTe(e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(e,t){if(e){if(typeof e=="string")return cC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}function fTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hTe(e){if(Array.isArray(e))return cC(e)}function cC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V3(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t=mW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mW(n.key),n)}}function gTe(e,t,r){return t&&pTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mW(e){var t=vTe(e,"string");return Om(t)==="symbol"?t:String(t)}function vTe(e,t){if(Om(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Om(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}function uC(e,t){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uC(e,t)}function yTe(e){var t=bTe();return function(){var n=kb(e),a;if(t){var s=kb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return dC(this,a)}}function dC(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fC(e)}function fC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}var xl=function(e){xTe(r,e);var t=yTe(r);function r(n,a){var s;mTe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(fC(s)),s.changeStyle=s.changeStyle.bind(fC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),dC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},dC(s);s.state={style:c?j0({},c,u):u}}else s.state={style:{}};return s}return gTe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?j0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(kEe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&h){var v={style:c?j0({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Hi(Hi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=iTe(o,l,YEe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,y){if(y===0)return g;var b=v.duration,w=v.easing,_=w===void 0?"ease":w,j=v.style,N=v.properties,S=v.onAnimationEnd,k=y>0?o[y-1]:v,C=N||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(e2(g),[s.runJSAnimation.bind(s,{from:k.style,to:j,duration:b,easing:_}),b]);var E=L3(C,b,_),P=Hi(Hi(Hi({},k.style),j),{},{transition:E});return[].concat(e2(g),[P,b,S]).filter(IEe)};return this.manager.start([c].concat(e2(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=DEe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?j0({},l,c):c,v=L3(Object.keys(g),o,u);p.start([d,s,Hi(Hi({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=lTe(a,oTe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,y=p.className,b=x.cloneElement(m,Hi(Hi({},c),{},{style:Hi(Hi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ie.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);xl.displayName="Animate";xl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xl.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function wTe(e,t){return NTe(e)||STe(e,t)||jTe(e,t)||_Te()}function _Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jTe(e,t){if(e){if(typeof e=="string")return W3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(e,t)}}function W3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function STe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function NTe(e){if(Array.isArray(e))return e}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){kTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kTe(e,t,r){return t=CTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CTe(e){var t=ETe(e,"string");return sv(t)=="symbol"?t:t+""}function ETe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G3=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},TTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},ATe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eP=function(t){var r=q3(q3({},ATe),t),n=x.useRef(),a=x.useState(-1),s=wTe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Mt("recharts-rectangle",m);return b?ie.createElement(xl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(_){var j=_.width,N=_.height,S=_.x,k=_.y;return ie.createElement(xl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:p},ie.createElement("path",Cb({},jt(r,!0),{className:w,d:G3(S,k,j,N,h),ref:n})))}):ie.createElement("path",Cb({},jt(r,!0),{className:w,d:G3(c,u,d,f,h)}))},PTe=["points","className","baseLinePoints","connectNulls"];function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(this,arguments)}function OTe(e,t){if(e==null)return{};var r=DTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K3(e){return ITe(e)||FTe(e)||MTe(e)||RTe()}function RTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MTe(e,t){if(e){if(typeof e=="string")return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(e,t)}}function FTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ITe(e){if(Array.isArray(e))return hC(e)}function hC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y3=function(t){return t&&t.x===+t.x&&t.y===+t.y},LTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){Y3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Y3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},G0=function(t,r){var n=LTe(t);r&&(n=[n.reduce(function(s,o){return[].concat(K3(s),K3(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},$Te=function(t,r,n){var a=G0(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(G0(r.reverse(),n).slice(1))},BTe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=OTe(t,PTe);if(!r||!r.length)return null;var l=Mt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=$Te(r,a,s);return ie.createElement("g",{className:l},ie.createElement("path",jh({},jt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",jh({},jt(o,!0),{fill:"none",d:G0(r,s)})):null,c?ie.createElement("path",jh({},jt(o,!0),{fill:"none",d:G0(a,s)})):null)}var d=G0(r,s);return ie.createElement("path",jh({},jt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(this,arguments)}var B_=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=Mt("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",mC({},jt(t,!1),G1(t),{className:o,cx:r,cy:n,r:a})):null};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}var UTe=["x","y","top","left","width","height","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(this,arguments)}function X3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(r),!0).forEach(function(n){VTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VTe(e,t,r){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTe(e){var t=HTe(e,"string");return iv(t)=="symbol"?t:t+""}function HTe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qTe(e,t){if(e==null)return{};var r=GTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KTe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},YTe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=qTe(t,UTe),v=zTe({x:n,y:s,top:l,left:u,width:f,height:m},g);return!Xe(n)||!Xe(s)||!Xe(f)||!Xe(m)||!Xe(l)||!Xe(u)?null:ie.createElement("path",pC({},jt(v,!0),{className:Mt("recharts-cross",p),d:KTe(n,s,f,m,l,u)}))},XTe=M_,QTe=kV,ZTe=kl;function JTe(e,t){return e&&e.length?XTe(e,ZTe(t),QTe):void 0}var eAe=JTe;const tAe=pr(eAe);var rAe=M_,nAe=kl,aAe=CV;function sAe(e,t){return e&&e.length?rAe(e,nAe(t),aAe):void 0}var iAe=sAe;const oAe=pr(iAe);var lAe=["cx","cy","angle","ticks","axisLine"],cAe=["ticks","tick","angle","tickFormatter","stroke"];function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){U_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z3(e,t){if(e==null)return{};var r=uAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gW(n.key),n)}}function fAe(e,t,r){return t&&J3(e.prototype,t),r&&J3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hAe(e,t,r){return t=Eb(t),mAe(e,pW()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function mAe(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pAe(e)}function pAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function gAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gC(e,t)}function gC(e,t){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(e,t)}function U_(e,t,r){return t=gW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vAe(e,"string");return Dm(t)=="symbol"?t:t+""}function vAe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z_=function(e){function t(){return dAe(this,t),hAe(this,t,arguments)}return gAe(t,e),fAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Cr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=tAe(l,function(d){return d.coordinate||0}),u=oAe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=Z3(n,lAe),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Cr(a,s,d[0],o),h=Cr(a,s,d[1],o),m=id(id(id({},jt(u,!1)),{},{fill:"none"},jt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ie.createElement("line",K0({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Z3(a,cAe),f=this.getTickTextAnchor(),h=jt(d,!1),m=jt(o,!1),p=s.map(function(g,v){var y=n.getTickValueCoord(g),b=id(id(id(id({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:g});return ie.createElement(ir,K0({className:Mt("recharts-polar-radius-axis-tick",tW(o)),key:"tick-".concat(g.coordinate)},cf(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return ie.createElement(ir,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ie.createElement(ir,{className:Mt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),zn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Et(n)?o=n(a):o=ie.createElement(uf,K0({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);U_(z_,"displayName","PolarRadiusAxis");U_(z_,"axisType","radiusAxis");U_(z_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){V_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xW(n.key),n)}}function yAe(e,t,r){return t&&tI(e.prototype,t),r&&tI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bAe(e,t,r){return t=Tb(t),wAe(e,vW()?Reflect.construct(t,r||[],Tb(e).constructor):t.apply(e,r))}function wAe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(e)}function _Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tb(e)}function jAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vC(e,t)}function vC(e,t){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vC(e,t)}function V_(e,t,r){return t=xW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xW(e){var t=SAe(e,"string");return Rm(t)=="symbol"?t:t+""}function SAe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NAe=Math.PI/180,rI=1e-5,W_=function(e){function t(){return xAe(this,t),bAe(this,t,arguments)}return jAe(t,e),yAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Cr(s,o,l,n.coordinate),h=Cr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*NAe),o;return s>rI?o=a==="outer"?"start":"end":s<-rI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=od(od({},jt(this.props,!1)),{},{fill:"none"},jt(l,!1));if(c==="circle")return ie.createElement(B_,md({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Cr(a,s,o,h.coordinate)});return ie.createElement(BTe,md({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=jt(this.props,!1),f=jt(o,!1),h=od(od({},d),{},{fill:"none"},jt(l,!1)),m=s.map(function(p,g){var v=n.getTickLineCoord(p),y=n.getTickTextAnchor(p),b=od(od(od({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return ie.createElement(ir,md({className:Mt("recharts-polar-angle-axis-tick",tW(o)),key:"tick-".concat(p.coordinate)},cf(n.props,p,g)),l&&ie.createElement("line",md({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(p.value,g):p.value))});return ie.createElement(ir,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ie.createElement(ir,{className:Mt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Et(n)?o=n(a):o=ie.createElement(uf,md({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);V_(W_,"displayName","PolarAngleAxis");V_(W_,"axisType","angleAxis");V_(W_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kAe=_z,CAe=kAe(Object.getPrototypeOf,Object),EAe=CAe,TAe=_c,AAe=EAe,PAe=jc,OAe="[object Object]",DAe=Function.prototype,RAe=Object.prototype,yW=DAe.toString,MAe=RAe.hasOwnProperty,FAe=yW.call(Object);function IAe(e){if(!PAe(e)||TAe(e)!=OAe)return!1;var t=AAe(e);if(t===null)return!0;var r=MAe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yW.call(r)==FAe}var LAe=IAe;const $Ae=pr(LAe);var BAe=_c,UAe=jc,zAe="[object Boolean]";function VAe(e){return e===!0||e===!1||UAe(e)&&BAe(e)==zAe}var WAe=VAe;const HAe=pr(WAe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function qAe(e,t){return XAe(e)||YAe(e,t)||KAe(e,t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KAe(e,t){if(e){if(typeof e=="string")return nI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nI(e,t)}}function nI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XAe(e){if(Array.isArray(e))return e}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){QAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QAe(e,t,r){return t=ZAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZAe(e){var t=JAe(e,"string");return ov(t)=="symbol"?t:t+""}function JAe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iI=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},ePe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tPe=function(t){var r=sI(sI({},ePe),t),n=x.useRef(),a=x.useState(-1),s=qAe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Mt("recharts-trapezoid",m);return y?ie.createElement(xl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(w){var _=w.upperWidth,j=w.lowerWidth,N=w.height,S=w.x,k=w.y;return ie.createElement(xl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},ie.createElement("path",Ab({},jt(r,!0),{className:b,d:iI(S,k,_,j,N),ref:n})))}):ie.createElement("g",null,ie.createElement("path",Ab({},jt(r,!0),{className:b,d:iI(c,u,d,f,h)})))},rPe=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function nPe(e,t){if(e==null)return{};var r=aPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){sPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sPe(e,t,r){return t=iPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iPe(e){var t=oPe(e,"string");return lv(t)=="symbol"?t:t+""}function oPe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lPe(e,t){return Pb(Pb({},t),e)}function cPe(e,t){return e==="symbols"}function lI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ie.createElement(eP,r);case"trapezoid":return ie.createElement(tPe,r);case"sector":return ie.createElement(aW,r);case"symbols":if(cPe(t))return ie.createElement(yA,r);break;default:return null}}function uPe(e){return x.isValidElement(e)?e.props:e}function bW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?lPe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=nPe(e,rPe),u;if(x.isValidElement(t))u=x.cloneElement(t,Pb(Pb({},c),uPe(t)));else if(Et(t))u=t(c);else if($Ae(t)&&!HAe(t)){var d=a(t,c);u=ie.createElement(lI,{shapeType:r,elementProps:d})}else{var f=c;u=ie.createElement(lI,{shapeType:r,elementProps:f})}return l?ie.createElement(ir,{className:o},u):u}function H_(e,t){return t!=null&&"trapezoids"in e.props}function q_(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function dPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function fPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function hPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function mPe(e,t){var r;return H_(e,t)?r=dPe:q_(e,t)?r=fPe:cv(e,t)&&(r=hPe),r}function pPe(e,t){var r;return H_(e,t)?r="trapezoids":q_(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function gPe(e,t){if(H_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(q_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cv(e,t)?t.payload:{}}function vPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=pPe(r,t),s=gPe(r,t),o=n.filter(function(c,u){var d=ax(s,c),f=r.props[a].filter(function(p){var g=mPe(r,t);return g(p,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Qy;function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(this,arguments)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){Ni(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_W(n.key),n)}}function yPe(e,t,r){return t&&uI(e.prototype,t),r&&uI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bPe(e,t,r){return t=Ob(t),wPe(e,wW()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function wPe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Pe(e)}function _Pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wW=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function jPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xC(e,t)}function Ni(e,t,r){return t=_W(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _W(e){var t=SPe(e,"string");return Mm(t)=="symbol"?t:t+""}function SPe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qa=function(e){function t(r){var n;return xPe(this,t),n=bPe(this,t,[r]),Ni(n,"pieRef",null),Ni(n,"sectorRefs",[]),Ni(n,"id",Np("recharts-pie-")),Ni(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Et(a)&&a()}),Ni(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Et(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return jPe(t,e),yPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=jt(this.props,!1),f=jt(o,!1),h=jt(l,!1),m=o&&o.offsetRadius||20,p=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Cr(g.cx,g.cy,g.outerRadius+m,y),w=Sr(Sr(Sr(Sr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),_=Sr(Sr(Sr(Sr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Cr(g.cx,g.cy,g.outerRadius,y),b]}),j=c;return Rt(c)&&Rt(u)?j="value":Rt(c)&&(j=u),ie.createElement(ir,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,Pn(g,j)))});return ie.createElement(ir,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,p=Sr(Sr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(ir,Sh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},cf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ie.createElement(bW,Sh({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ie.createElement(xl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(w,_){var j=h&&h[_],N=_>0?ri(w,"paddingAngle",0):0;if(j){var S=Ks(j.endAngle-j.startAngle,w.endAngle-w.startAngle),k=Sr(Sr({},w),{},{startAngle:b+N,endAngle:b+S(g)+N});v.push(k),b=k.endAngle}else{var C=w.endAngle,E=w.startAngle,P=Ks(0,C-E),T=P(g),V=Sr(Sr({},w),{},{startAngle:b+N,endAngle:b+T+N});v.push(V),b=V.endAngle}}),ie.createElement(ir,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!Xe(u)||!Xe(d)||!Xe(f)||!Xe(h))return null;var g=Mt("recharts-pie",l);return ie.createElement(ir,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),zn.renderCallByParent(this.props,null,!1),(!m||p)&&rc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);if(Et(n))return n(a);var o=Mt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement(jb,Sh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);var o=s;if(Et(n)&&(o=n(a),ie.isValidElement(o)))return o;var l=Mt("recharts-pie-label-text",typeof n!="boolean"&&!Et(n)?n.className:"");return ie.createElement(uf,Sh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);Qy=qa;Ni(qa,"displayName","Pie");Ni(qa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ol.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ni(qa,"parseDeltaAngle",function(e,t){var r=Ya(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ni(qa,"getRealPieData",function(e){var t=e.data,r=e.children,n=jt(e,!1),a=ni(r,Zo);return t&&t.length?t.map(function(s,o){return Sr(Sr(Sr({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Sr(Sr({},n),s.props)}):[]});Ni(qa,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=eW(a,s),l=n+Xa(e.cx,a,a/2),c=r+Xa(e.cy,s,s/2),u=Xa(e.innerRadius,o,0),d=Xa(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ni(qa,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Sr(Sr({},t.type.defaultProps),t.props):t.props,a=Qy.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=Qy.parseCoordinateOfPie(n,r),g=Qy.parseDeltaAngle(o,l),v=Math.abs(g),y=u;Rt(u)&&Rt(f)?(po(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Rt(u)&&(po(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(k){return Pn(k,y,0)!==0}).length,w=(v>=360?b:b-1)*c,_=v-b*m-w,j=a.reduce(function(k,C){var E=Pn(C,y,0);return k+(Xe(E)?E:0)},0),N;if(j>0){var S;N=a.map(function(k,C){var E=Pn(k,y,0),P=Pn(k,d,C),T=(Xe(E)?E:0)/j,V;C?V=S.endAngle+Ya(g)*c*(E!==0?1:0):V=o;var G=V+Ya(g)*((E!==0?m:0)+T*_),B=(V+G)/2,I=(p.innerRadius+p.outerRadius)/2,z=[{name:P,value:E,payload:k,dataKey:y,type:h}],L=Cr(p.cx,p.cy,I,B);return S=Sr(Sr(Sr({percent:T,cornerRadius:s,name:P,tooltipPayload:z,midAngle:B,middleRadius:I,tooltipPosition:L},k),p),{},{value:Pn(k,y),startAngle:V,endAngle:G,payload:k,paddingAngle:Ya(g)*c}),S})}return Sr(Sr({},p),{},{sectors:N,data:a})});var NPe=Math.ceil,kPe=Math.max;function CPe(e,t,r,n){for(var a=-1,s=kPe(NPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var EPe=CPe,TPe=Uz,dI=1/0,APe=17976931348623157e292;function PPe(e){if(!e)return e===0?e:0;if(e=TPe(e),e===dI||e===-dI){var t=e<0?-1:1;return t*APe}return e===e?e:0}var jW=PPe,OPe=EPe,DPe=E_,t2=jW;function RPe(e){return function(t,r,n){return n&&typeof n!="number"&&DPe(t,r,n)&&(r=n=void 0),t=t2(t),r===void 0?(r=t,t=0):r=t2(r),n=n===void 0?t<r?1:-1:t2(n),OPe(t,r,n,e)}}var MPe=RPe,FPe=MPe,IPe=FPe(),LPe=IPe;const Db=pr(LPe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return t=$Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Pe(e){var t=BPe(e,"string");return uv(t)=="symbol"?t:t+""}function BPe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UPe=["Webkit","Moz","O","ms"],zPe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=UPe.reduce(function(s,o){return hI(hI({},s),{},SW({},o+n,r))},{});return a[t]=r,a};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){Vs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kW(n.key),n)}}function WPe(e,t,r){return t&&pI(e.prototype,t),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HPe(e,t,r){return t=Mb(t),qPe(e,NW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function qPe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GPe(e)}function GPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function KPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yC(e,t)}function yC(e,t){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yC(e,t)}function Vs(e,t,r){return t=kW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=YPe(e,"string");return Fm(t)=="symbol"?t:t+""}function YPe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XPe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=W0().domain(Db(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},gI=function(t){return t.changedTouches&&!!t.changedTouches.length},Im=function(e){function t(r){var n;return VPe(this,t),n=HPe(this,t,[r]),Vs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Vs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Vs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Vs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vs(n,"handleSlideDragStart",function(a){var s=gI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return KPe(t,e),WPe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Pn(s[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=gI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var w=this.getIndex(y),_=w.startIndex,j=w.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?_%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:_%g===0)||l>c&&j===k};this.setState(Vs(Vs({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&N()&&p(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Vs({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ie.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=r2(r2({},jt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return ie.createElement(ir,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return ie.createElement(ir,{className:"recharts-brush-texts"},ie.createElement(uf,Rb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(a)),ie.createElement(uf,Rb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var w=Mt("recharts-brush",s),_=ie.Children.count(o)===1,j=zPe("userSelect","none");return ie.createElement(ir,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,a):Et(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return r2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?XPe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Vs(Im,"displayName","Brush");Vs(Im,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QPe=kA;function ZPe(e,t){var r;return QPe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var JPe=ZPe,eOe=mz,tOe=kl,rOe=JPe,nOe=Is,aOe=E_;function sOe(e,t,r){var n=nOe(e)?eOe:rOe;return r&&aOe(e,t,r)&&(t=void 0),n(e,tOe(t))}var iOe=sOe;const oOe=pr(iOe);var cl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},vI=Fz;function lOe(e,t,r){t=="__proto__"&&vI?vI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var cOe=lOe,uOe=cOe,dOe=Rz,fOe=kl;function hOe(e,t){var r={};return t=fOe(t),dOe(e,function(n,a,s){uOe(r,a,t(n,a,s))}),r}var mOe=hOe;const pOe=pr(mOe);function gOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var vOe=gOe,xOe=kA;function yOe(e,t){var r=!0;return xOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var bOe=yOe,wOe=vOe,_Oe=bOe,jOe=kl,SOe=Is,NOe=E_;function kOe(e,t,r){var n=SOe(e)?wOe:_Oe;return r&&NOe(e,t,r)&&(t=void 0),n(e,jOe(t))}var COe=kOe;const CW=pr(COe);var EOe=["x","y"];function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(this,arguments)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){TOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TOe(e,t,r){return t=AOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AOe(e){var t=POe(e,"string");return dv(t)=="symbol"?t:t+""}function POe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OOe(e,t){if(e==null)return{};var r=DOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ROe(e,t){var r=e.x,n=e.y,a=OOe(e,EOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return o0(o0(o0(o0(o0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function yI(e){return ie.createElement(bW,bC({shapeType:"rectangle",propTransformer:ROe,activeClassName:"recharts-active-bar"},e))}var MOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Xe(n)||ime(n);return s?t(n,a):(s||ff(),r)}},FOe=["value","background"],EW;function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function IOe(e,t){if(e==null)return{};var r=LOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(this,arguments)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){cu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AW(n.key),n)}}function BOe(e,t,r){return t&&wI(e.prototype,t),r&&wI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UOe(e,t,r){return t=Ib(t),zOe(e,TW()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function zOe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VOe(e)}function VOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TW=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function WOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wC(e,t)}function wC(e,t){return wC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wC(e,t)}function cu(e,t,r){return t=AW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AW(e){var t=HOe(e,"string");return Lm(t)=="symbol"?t:t+""}function HOe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ji=function(e){function t(){var r;$Oe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=UOe(this,t,[].concat(a)),cu(r,"state",{isAnimationFinished:!1}),cu(r,"id",Np("recharts-bar-")),cu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),cu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return WOe(t,e),BOe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=jt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:o,g=mn(mn(mn({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ie.createElement(ir,Fb({className:"recharts-bar-rectangle"},cf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ie.createElement(yI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ie.createElement(xl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=s.map(function(v,y){var b=h&&h[y];if(b){var w=Ks(b.x,v.x),_=Ks(b.y,v.y),j=Ks(b.width,v.width),N=Ks(b.height,v.height);return mn(mn({},v),{},{x:w(p),y:_(p),width:j(p),height:N(p)})}if(o==="horizontal"){var S=Ks(0,v.height),k=S(p);return mn(mn({},v),{},{y:v.y+v.height-k,height:k})}var C=Ks(0,v.width),E=C(p);return mn(mn({},v),{},{width:E})});return ie.createElement(ir,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!ax(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=jt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=IOe(u,FOe);if(!f)return null;var m=mn(mn(mn(mn(mn({},h),{},{fill:"#eee"},f),c),cf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ie.createElement(yI,Fb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ni(d,sx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Pn(v,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ir,p,f.map(function(g){return ie.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=b||w,j=Rt(g)?this.id:g;return ie.createElement(ir,{className:y},b||w?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(j)},ie.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,ie.createElement(ir,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||v)&&rc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);EW=ji;cu(ji,"displayName","Bar");cu(ji,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ol.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cu(ji,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Nke(n,r);if(!m)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?mn(mn({},g),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,_=p==="horizontal"?o:s,j=u?_.scale.domain():null,N=Oke({numericAxis:_}),S=ni(b,Zo),k=f.map(function(C,E){var P,T,V,G,B,I;u?P=kke(u[d+E],j):(P=Pn(C,y),Array.isArray(P)||(P=[N,P]));var z=MOe(w,EW.defaultProps.minPointSize)(P[1],E);if(p==="horizontal"){var L,F=[o.scale(P[0]),o.scale(P[1])],Y=F[0],X=F[1];T=u3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:E}),V=(L=X??Y)!==null&&L!==void 0?L:void 0,G=m.size;var D=Y-X;if(B=Number.isNaN(D)?0:D,I={x:T,y:o.y,width:G,height:o.height},Math.abs(z)>0&&Math.abs(B)<Math.abs(z)){var R=Ya(B||z)*(Math.abs(z)-Math.abs(B));V-=R,B+=R}}else{var M=[s.scale(P[0]),s.scale(P[1])],W=M[0],J=M[1];if(T=W,V=u3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:E}),G=J-W,B=m.size,I={x:s.x,y:V,width:s.width,height:B},Math.abs(z)>0&&Math.abs(G)<Math.abs(z)){var re=Ya(G||z)*(Math.abs(z)-Math.abs(G));G+=re}}return mn(mn(mn({},C),{},{x:T,y:V,width:G,height:B,value:u?P:P[1],payload:C,background:I},S&&S[E]&&S[E].props),{},{tooltipPayload:[ZV(r,C)],tooltipPosition:{x:T+G/2,y:V+B/2}})});return mn({data:k,layout:p},h)});function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PW(n.key),n)}}function GOe(e,t,r){return t&&_I(e.prototype,t),r&&_I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){G_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G_(e,t,r){return t=PW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=KOe(e,"string");return fv(t)=="symbol"?t:t+""}function KOe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OW=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Hs(u,ji);return d.reduce(function(m,p){var g=r[p],v=g.orientation,y=g.domain,b=g.padding,w=b===void 0?{}:b,_=g.mirror,j=g.reversed,N="".concat(v).concat(_?"Mirror":""),S,k,C,E,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=y[1]-y[0],V=1/0,G=g.categoricalDomain.sort(cme);if(G.forEach(function(M,W){W>0&&(V=Math.min((M||0)-(G[W-1]||0),V))}),Number.isFinite(V)){var B=V/T,I=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=B*I/2),g.padding==="no-gap"){var z=Xa(t.barCategoryGap,B*I),L=B*I/2;S=L-z-(L-z)/I*z}}}a==="xAxis"?k=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:k=g.range,j&&(k=[k[1],k[0]]);var F=KV(g,s,h),Y=F.scale,X=F.realScaleType;Y.domain(y).range(k),YV(Y);var D=XV(Y,to(to({},g),{},{realScaleType:X}));a==="xAxis"?(P=v==="top"&&!_||v==="bottom"&&_,C=n.left,E=f[N]-P*g.height):a==="yAxis"&&(P=v==="left"&&!_||v==="right"&&_,C=f[N]-P*g.width,E=n.top);var R=to(to(to({},g),D),{},{realScaleType:X,x:C,y:E,scale:Y,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return R.bandSize=bb(R,D),!g.hide&&a==="xAxis"?f[N]+=(P?-1:1)*R.height:g.hide||(f[N]+=(P?-1:1)*R.width),to(to({},m),{},G_({},p,R))},{})},DW=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},YOe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return DW({x:r,y:n},{x:a,y:s})},RW=function(){function e(t){qOe(this,e),this.scale=t}return GOe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();G_(RW,"EPS",1e-4);var tP=function(t){var r=Object.keys(t).reduce(function(n,a){return to(to({},n),{},G_({},a,RW.create(t[a])))},{});return to(to({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return pOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return CW(a,function(s,o){return r[o].isInRange(s)})}})};function XOe(e){return(e%180+180)%180}var QOe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=XOe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ZOe=kl,JOe=Jv,e4e=k_;function t4e(e){return function(t,r,n){var a=Object(t);if(!JOe(t)){var s=ZOe(r);t=e4e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var r4e=t4e,n4e=jW;function a4e(e){var t=n4e(e),r=t%1;return t===t?r?t-r:t:0}var s4e=a4e,i4e=Ez,o4e=kl,l4e=s4e,c4e=Math.max;function u4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:l4e(r);return a<0&&(a=c4e(n+a,0)),i4e(e,o4e(t),a)}var d4e=u4e,f4e=r4e,h4e=d4e,m4e=f4e(h4e),p4e=m4e;const g4e=pr(p4e);var v4e=uhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),rP=x.createContext(void 0),nP=x.createContext(void 0),MW=x.createContext(void 0),FW=x.createContext({}),IW=x.createContext(void 0),LW=x.createContext(0),$W=x.createContext(0),SI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=v4e(s);return ie.createElement(rP.Provider,{value:n},ie.createElement(nP.Provider,{value:a},ie.createElement(FW.Provider,{value:s},ie.createElement(MW.Provider,{value:d},ie.createElement(IW.Provider,{value:o},ie.createElement(LW.Provider,{value:u},ie.createElement($W.Provider,{value:c},l)))))))},x4e=function(){return x.useContext(IW)},BW=function(t){var r=x.useContext(rP);r==null&&ff();var n=r[t];return n==null&&ff(),n},y4e=function(){var t=x.useContext(rP);return Gc(t)},b4e=function(){var t=x.useContext(nP),r=g4e(t,function(n){return CW(n.domain,Number.isFinite)});return r||Gc(t)},UW=function(t){var r=x.useContext(nP);r==null&&ff();var n=r[t];return n==null&&ff(),n},w4e=function(){var t=x.useContext(MW);return t},_4e=function(){return x.useContext(FW)},aP=function(){return x.useContext($W)},sP=function(){return x.useContext(LW)};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function N4e(e,t,r){return t&&S4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k4e(e,t,r){return t=Lb(t),C4e(e,zW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function C4e(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E4e(e)}function E4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function T4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_C(e,t)}function _C(e,t){return _C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_C(e,t)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){iP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iP(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=A4e(e,"string");return $m(t)=="symbol"?t:t+""}function A4e(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P4e(e,t){return M4e(e)||R4e(e,t)||D4e(e,t)||O4e()}function O4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4e(e,t){if(e){if(typeof e=="string")return CI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M4e(e){if(Array.isArray(e))return e}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}var F4e=function(t,r){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,r):Et(t)?n=t(r):n=ie.createElement("line",jC({},r,{className:"recharts-reference-line-line"})),n},I4e=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,g=t.y.apply(p,{position:o});if(cl(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(cl(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,j=_.map(function(N){return t.apply(N,{position:o})});return cl(u,"discard")&&oOe(j,function(N){return!t.isInRange(N)})?null:j}return null};function L4e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=x4e(),d=BW(a),f=UW(s),h=w4e();if(!u||!h)return null;po(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=tP({x:d.scale,y:f.scale}),p=Dn(t),g=Dn(r),v=n&&n.length===2,y=I4e(m,p,g,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=P4e(y,2),w=b[0],_=w.x,j=w.y,N=b[1],S=N.x,k=N.y,C=cl(e,"hidden")?"url(#".concat(u,")"):void 0,E=kI(kI({clipPath:C},jt(e,!0)),{},{x1:_,y1:j,x2:S,y2:k});return ie.createElement(ir,{className:Mt("recharts-reference-line",l)},F4e(o,E),zn.renderCallByParent(e,YOe({x1:_,y1:j,x2:S,y2:k})))}var oP=function(e){function t(){return j4e(this,t),k4e(this,t,arguments)}return T4e(t,e),N4e(t,[{key:"render",value:function(){return ie.createElement(L4e,this.props)}}])}(ie.Component);iP(oP,"displayName","ReferenceLine");iP(oP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(this,arguments)}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){K_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HW(n.key),n)}}function U4e(e,t,r){return t&&B4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4e(e,t,r){return t=$b(t),V4e(e,WW()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function V4e(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W4e(e)}function W4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function H4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NC(e,t)}function K_(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=q4e(e,"string");return Bm(t)=="symbol"?t:t+""}function q4e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G4e=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=tP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return cl(t,"discard")&&!o.isInRange(l)?null:l},Y_=function(e){function t(){return $4e(this,t),z4e(this,t,arguments)}return H4e(t,e),U4e(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Dn(a),d=Dn(s);if(po(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=G4e(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,y=cl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=TI(TI({clipPath:y},jt(this.props,!0)),{},{cx:h,cy:m});return ie.createElement(ir,{className:Mt("recharts-reference-dot",v)},t.renderDot(g,b),zn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ie.Component);K_(Y_,"displayName","ReferenceDot");K_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});K_(Y_,"renderDot",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Et(e)?r=e(t):r=ie.createElement(B_,SC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(this,arguments)}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){X_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GW(n.key),n)}}function X4e(e,t,r){return t&&Y4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q4e(e,t,r){return t=Bb(t),Z4e(e,qW()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function Z4e(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(e)}function J4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qW=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function eDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CC(e,t)}function X_(e,t,r){return t=GW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GW(e){var t=tDe(e,"string");return Um(t)=="symbol"?t:t+""}function tDe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rDe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=tP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return cl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:DW(m,p)},Q_=function(e){function t(){return K4e(this,t),Q4e(this,t,arguments)}return eDe(t,e),X4e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;po(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dn(a),h=Dn(s),m=Dn(o),p=Dn(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=rDe(f,h,m,p,this.props);if(!v&&!g)return null;var y=cl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ie.createElement(ir,{className:Mt("recharts-reference-area",c)},t.renderRect(g,PI(PI({clipPath:y},jt(this.props,!0)),v)),zn.renderCallByParent(this.props,v))}}])}(ie.Component);X_(Q_,"displayName","ReferenceArea");X_(Q_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});X_(Q_,"renderRect",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Et(e)?r=e(t):r=ie.createElement(eP,kC({},t,{className:"recharts-reference-area-rect"})),r});function KW(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function nDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QOe(n,r)}function aDe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function Ub(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function sDe(e,t){return KW(e,t+1)}function iDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:KW(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(p,g)),v},b=p.coordinate,w=c===0||Ub(e,b,y,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){oDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oDe(e,t,r){return t=lDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lDe(e){var t=cDe(e,"string");return hv(t)=="symbol"?t:t+""}function cDe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);s[h]=m=ba(ba({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=ba(ba({},m),{},{tickCoord:m.coordinate});var y=Ub(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+a),s[h]=ba(ba({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function dDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ba(ba({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ub(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=ba(ba({},d),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(b){var w=o[b],_,j=function(){return _===void 0&&(_=r(w,b)),_};if(b===0){var N=e*(w.coordinate-e*j()/2-c);o[b]=w=ba(ba({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[b]=w=ba(ba({},w),{},{tickCoord:w.coordinate});var S=Ub(e,w.tickCoord,j,c,u);S&&(c=w.tickCoord+e*(j()/2+a),o[b]=ba(ba({},w),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function lP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||ol.isSsr)return sDe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?V0(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,_){var j=Et(u)?u(w.value,_):w.value;return m==="width"?nDe(V0(j,{fontSize:t,letterSpacing:r}),p,f):V0(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Ya(a[1].coordinate-a[0].coordinate):1,y=aDe(s,v,m);return c==="equidistantPreserveStart"?iDe(v,y,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=dDe(v,y,g,a,o,c==="preserveStartEnd"):h=uDe(v,y,g,a,o),h.filter(function(b){return b.isShow}))}var fDe=["viewBox"],hDe=["viewBox"],mDe=["ticks"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nh.apply(this,arguments)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){cP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n2(e,t){if(e==null)return{};var r=pDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function vDe(e,t,r){return t&&RI(e.prototype,t),r&&RI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xDe(e,t,r){return t=zb(t),yDe(e,YW()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function yDe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bDe(e)}function bDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function wDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EC(e,t)}function EC(e,t){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EC(e,t)}function cP(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=_De(e,"string");return zm(t)=="symbol"?t:t+""}function _De(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Op=function(e){function t(r){var n;return gDe(this,t),n=xDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return wDe(t,e),vDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=n2(n,fDe),l=this.props,c=l.viewBox,u=n2(l,hDe);return!Bh(s,c)||!Bh(o,u)||!Bh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,g,v,y,b,w=f?-1:1,_=n.tickSize||d,j=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=o+ +!f*c,g=v-w*_,b=g-w*h,y=j;break;case"left":g=v=n.coordinate,p=s+ +!f*l,m=p-w*_,y=m-w*h,b=j;break;case"right":g=v=n.coordinate,p=s+ +f*l,m=p+w*_,y=m+w*h,b=j;break;default:m=p=n.coordinate,v=o+ +f*c,g=v+w*_,b=g+w*h,y=j;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Sn(Sn(Sn({},jt(this.props,!1)),jt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Sn(Sn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Sn(Sn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ie.createElement("line",Nh({},f,{className:Mt("recharts-cartesian-axis-line",ri(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=lP(Sn(Sn({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=jt(this.props,!1),y=jt(d,!1),b=Sn(Sn({},v),{},{fill:"none"},jt(c,!1)),w=m.map(function(_,j){var N=o.getTickLineCoord(_),S=N.line,k=N.tick,C=Sn(Sn(Sn(Sn({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return ie.createElement(ir,Nh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},cf(o.props,_,j)),c&&ie.createElement("line",Nh({},b,S,{className:Mt("recharts-cartesian-axis-tick-line",ri(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Et(f)?f(_.value,j):_.value).concat(h||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=n2(f,mDe),p=h;return Et(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:ie.createElement(ir,{className:Mt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),zn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Mt(a.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?o=ie.cloneElement(n,Sn(Sn({},a),{},{className:l})):Et(n)?o=n(Sn(Sn({},a),{},{className:l})):o=ie.createElement(uf,Nh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);cP(Op,"displayName","CartesianAxis");cP(Op,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jDe=["x1","y1","x2","y2","key"],SDe=["offset"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){NDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NDe(e,t,r){return t=kDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kDe(e){var t=CDe(e,"string");return hf(t)=="symbol"?t:t+""}function CDe(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function FI(e,t){if(e==null)return{};var r=EDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function QW(e,t){var r;if(ie.isValidElement(e))r=ie.cloneElement(e,t);else if(Et(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=FI(t,jDe),u=jt(c,!1);u.offset;var d=FI(u,SDe);r=ie.createElement("line",kd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function ADe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return QW(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function PDe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=ja(ja({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return QW(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ODe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+o-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function DDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?s+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return ie.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var RDe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return GV(lP(ja(ja(ja({},Op.defaultProps),n),{},{ticks:Xl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},MDe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return GV(lP(ja(ja(ja({},Op.defaultProps),n),{},{ticks:Xl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Kf={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Cu(e){var t,r,n,a,s,o,l=aP(),c=sP(),u=_4e(),d=ja(ja({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Kf.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Kf.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Kf.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Kf.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Kf.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Kf.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=y4e(),w=b4e();if(!Xe(m)||m<=0||!Xe(p)||p<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||RDe,j=d.horizontalCoordinatesGenerator||MDe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Et(j)){var k=v&&v.length,C=j({yAxis:w?ja(ja({},w),{},{ticks:k?v:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);po(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hf(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Et(_)){var E=y&&y.length,P=_({xAxis:b?ja(ja({},b),{},{ticks:E?y:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:g);po(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hf(P),"]")),Array.isArray(P)&&(S=P)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(TDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ie.createElement(ADe,kd({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:w})),ie.createElement(PDe,kd({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:w})),ie.createElement(ODe,kd({},d,{horizontalPoints:N})),ie.createElement(DDe,kd({},d,{verticalPoints:S})))}Cu.displayName="CartesianGrid";var FDe=["type","layout","connectNulls","ref"],IDe=["key"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function II(e,t){if(e==null)return{};var r=LDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e){return zDe(e)||UDe(e)||BDe(e)||$De()}function $De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BDe(e,t){if(e){if(typeof e=="string")return TC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TC(e,t)}}function UDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zDe(e){if(Array.isArray(e))return TC(e)}function TC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JW(n.key),n)}}function WDe(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HDe(e,t,r){return t=Vb(t),qDe(e,ZW()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function qDe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GDe(e)}function GDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function KDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AC(e,t)}function AC(e,t){return AC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AC(e,t)}function ro(e,t,r){return t=JW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=YDe(e,"string");return Vm(t)=="symbol"?t:t+""}function YDe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nc=function(e){function t(){var r;VDe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=HDe(this,t,[].concat(a)),ro(r,"state",{isAnimationFinished:!0,totalLength:0}),ro(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ro(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(Yf(c.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Yf(t.repeat(c,d)),Yf(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),ro(r,"id",Np("recharts-line-")),ro(r,"pathRef",function(o){r.mainCurve=o}),ro(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ro(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return KDe(t,e),WDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ni(d,sx);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Pn(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(ir,m,f.map(function(p){return ie.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=jt(this.props,!1),h=jt(c,!0),m=u.map(function(g,v){var y=zs(zs(zs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ie.createElement(ir,Y0({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=II(l,FDe),h=zs(zs(zs({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ie.createElement(jb,Y0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,g=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return ie.createElement(xl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var j=_.t;if(b){var N=b.length/l.length,S=l.map(function(T,V){var G=Math.floor(V*N);if(b[G]){var B=b[G],I=Ks(B.x,T.x),z=Ks(B.y,T.y);return zs(zs({},T),{},{x:I(j),y:z(j)})}if(p){var L=Ks(g*2,T.x),F=Ks(v/2,T.y);return zs(zs({},T),{},{x:L(j),y:F(j)})}return zs(zs({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(S,n,a)}var k=Ks(0,w),C=k(j),E;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});E=s.getStrokeDasharray(C,w,P)}else E=s.generateSimpleStrokeDasharray(w,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ax(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=Mt("recharts-line",c),_=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=_||j,S=Rt(v)?this.id:v,k=(n=jt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,E=C===void 0?3:C,P=k.strokeWidth,T=P===void 0?2:P,V=xme(o)?o:{},G=V.clipDot,B=G===void 0?!0:G,I=E*2+T;return ie.createElement(ir,{className:w},_||j?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(S)},ie.createElement("rect",{x:_?h:h-m/2,y:j?f:f-p/2,width:_?m:m*2,height:j?p:p*2})),!B&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ie.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:p+I}))):null,!b&&this.renderCurve(N,S),this.renderErrorBar(N,S),(b||o)&&this.renderDots(N,B,S),(!g||y)&&rc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Yf(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Yf(o),Yf(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,a);else if(Et(n))s=n(a);else{var o=a.key,l=II(a,IDe),c=Mt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(B_,Y0({key:o},l,{className:c}))}return s}}])}(x.PureComponent);ro(Nc,"displayName","Line");ro(Nc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ol.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ro(Nc,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Pn(h,o);return d==="horizontal"?{x:c3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Rt(p)?null:n.scale(p),value:p,payload:h}:{x:Rt(p)?null:r.scale(p),y:c3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:p,payload:h}});return zs({points:f,layout:d},u)});function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function XDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rH(n.key),n)}}function ZDe(e,t,r){return t&&QDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JDe(e,t,r){return t=Wb(t),eRe(e,eH()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function eRe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tRe(e)}function tRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function rRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PC(e,t)}function tH(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nRe(e,"string");return Wm(t)=="symbol"?t:t+""}function nRe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(this,arguments)}function aRe(e){var t=e.xAxisId,r=aP(),n=sP(),a=BW(t);return a==null?null:x.createElement(Op,OC({},a,{className:Mt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xl(o,!0)}}))}var go=function(e){function t(){return XDe(this,t),JDe(this,t,arguments)}return rRe(t,e),ZDe(t,[{key:"render",value:function(){return x.createElement(aRe,this.props)}}])}(x.Component);tH(go,"displayName","XAxis");tH(go,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function sRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function oRe(e,t,r){return t&&iRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lRe(e,t,r){return t=Hb(t),cRe(e,nH()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function cRe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uRe(e)}function uRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function dRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function aH(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=fRe(e,"string");return Hm(t)=="symbol"?t:t+""}function fRe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(this,arguments)}var hRe=function(t){var r=t.yAxisId,n=aP(),a=sP(),s=UW(r);return s==null?null:x.createElement(Op,RC({},s,{className:Mt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Xl(l,!0)}}))},vo=function(e){function t(){return sRe(this,t),lRe(this,t,arguments)}return dRe(t,e),oRe(t,[{key:"render",value:function(){return x.createElement(hRe,this.props)}}])}(x.Component);aH(vo,"displayName","YAxis");aH(vo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BI(e){return vRe(e)||gRe(e)||pRe(e)||mRe()}function mRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pRe(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function gRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vRe(e){if(Array.isArray(e))return MC(e)}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var FC=function(t,r,n,a,s){var o=ni(t,oP),l=ni(t,Y_),c=[].concat(BI(o),BI(l)),u=ni(t,Q_),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&cl(v.props,"extendDomain")&&Xe(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&cl(v.props,"extendDomain")&&Xe(v.props[m])&&Xe(v.props[p])){var y=v.props[m],b=v.props[p];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return Xe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},iH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var _=v.length,j;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iH);var xRe=iH.exports;const yRe=pr(xRe);var a2=new yRe,s2="recharts.syncMouseEvents";function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function bRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oH(n.key),n)}}function _Re(e,t,r){return t&&wRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i2(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=jRe(e,"string");return mv(t)=="symbol"?t:t+""}function jRe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SRe=function(){function e(){bRe(this,e),i2(this,"activeIndex",0),i2(this,"coordinateList",[]),i2(this,"layout","horizontal")}return _Re(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function NRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function kRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Cr(t,r,n,a),l=Cr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function CRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Cr(l,c,u,f),m=Cr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return lH(t);return[{x:n,y:a},{x:s,y:o}]}function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){ERe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ERe(e,t,r){return t=TRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TRe(e){var t=ARe(e,"string");return pv(t)=="symbol"?t:t+""}function ARe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PRe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,g=jb;if(h==="ScatterChart")p=o,g=YTe;else if(h==="BarChart")p=kRe(f,o,c,d),g=eP;else if(f==="radial"){var v=lH(o),y=v.cx,b=v.cy,w=v.radius,_=v.startAngle,j=v.endAngle;p={cx:y,cy:b,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},g=aW}else p={points:CRe(f,o,c)},g=jb;var N=vy(vy(vy(vy({stroke:"#ccc",pointerEvents:"none"},c),p),jt(m,!1)),{},{payload:l,payloadIndex:u,className:Mt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var ORe=["item"],DRe=["children","className","width","height","style","compact","title","desc"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function zI(e,t){return FRe(e)||MRe(e,t)||uH(e,t)||RRe()}function RRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function FRe(e){if(Array.isArray(e))return e}function VI(e,t){if(e==null)return{};var r=IRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function BRe(e,t,r){return t&&$Re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function URe(e,t,r){return t=qb(t),zRe(e,cH()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function zRe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VRe(e)}function VRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function WRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IC(e,t)}function Gm(e){return GRe(e)||qRe(e)||uH(e)||HRe()}function HRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(e,t){if(e){if(typeof e=="string")return LC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(e,t)}}function qRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GRe(e){if(Array.isArray(e))return LC(e)}function LC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(r),!0).forEach(function(n){St(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function St(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=KRe(e,"string");return qm(t)=="symbol"?t:t+""}function KRe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YRe={xAxis:["bottom","top"],yAxis:["left","right"]},XRe={width:"100%",height:"100%"},fH={x:0,y:0};function xy(e){return e}var QRe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ZRe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return $e($e($e({},a),Cr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return $e($e($e({},a),Cr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return fH},Z_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Gm(l),Gm(u)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(s)?t.slice(a,s+1):[]};function hH(e){return e==="number"?[0,"auto"]:void 0}var $C=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Z_(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=q1(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Gm(c),[ZV(u,h)]):c},[])},HI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=QRe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=yke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$C(t,r,d,f),m=ZRe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},JRe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=qV(d,s);return n.reduce(function(p,g){var v,y=g.type.defaultProps!==void 0?$e($e({},g.type.defaultProps),g.props):g.props,b=y.type,w=y.dataKey,_=y.allowDataOverflow,j=y.allowDuplicatedCategory,N=y.scale,S=y.ticks,k=y.includeHidden,C=y[o];if(p[C])return p;var E=Z_(t.data,{graphicalItems:a.filter(function(D){var R,M=o in D.props?D.props[o]:(R=D.type.defaultProps)===null||R===void 0?void 0:R[o];return M===C}),dataStartIndex:c,dataEndIndex:u}),P=E.length,T,V,G;NRe(y.domain,_,b)&&(T=Jk(y.domain,null,_),m&&(b==="number"||N!=="auto")&&(G=H0(E,w,"category")));var B=hH(b);if(!T||T.length===0){var I,z=(I=y.domain)!==null&&I!==void 0?I:B;if(w){if(T=H0(E,w,b),b==="category"&&m){var L=lme(T);j&&L?(V=T,T=Db(0,P)):j||(T=h3(z,T,g).reduce(function(D,R){return D.indexOf(R)>=0?D:[].concat(Gm(D),[R])},[]))}else if(b==="category")j?T=T.filter(function(D){return D!==""&&!Rt(D)}):T=h3(z,T,g).reduce(function(D,R){return D.indexOf(R)>=0||R===""||Rt(R)?D:[].concat(Gm(D),[R])},[]);else if(b==="number"){var F=Ske(E,a.filter(function(D){var R,M,W=o in D.props?D.props[o]:(R=D.type.defaultProps)===null||R===void 0?void 0:R[o],J="hide"in D.props?D.props.hide:(M=D.type.defaultProps)===null||M===void 0?void 0:M.hide;return W===C&&(k||!J)}),w,s,d);F&&(T=F)}m&&(b==="number"||N!=="auto")&&(G=H0(E,w,"category"))}else m?T=Db(0,P):l&&l[C]&&l[C].hasStack&&b==="number"?T=h==="expand"?[0,1]:QV(l[C].stackGroups,c,u):T=HV(E,a.filter(function(D){var R=o in D.props?D.props[o]:D.type.defaultProps[o],M="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return R===C&&(k||!M)}),b,d,!0);if(b==="number")T=FC(f,T,C,s,S),z&&(T=Jk(z,T,_));else if(b==="category"&&z){var Y=z,X=T.every(function(D){return Y.indexOf(D)>=0});X&&(T=Y)}}return $e($e({},p),{},St({},C,$e($e({},y),{},{axisType:s,domain:T,categoricalDomain:G,duplicateDomain:V,originalDomain:(v=y.domain)!==null&&v!==void 0?v:B,isCategorical:m,layout:d})))},{})},eMe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Z_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=qV(d,s),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?$e($e({},y.type.defaultProps),y.props):y.props,w=b[o],_=hH("number");if(!v[w]){g++;var j;return p?j=Db(0,m):l&&l[w]&&l[w].hasStack?(j=QV(l[w].stackGroups,c,u),j=FC(f,j,w,s)):(j=Jk(_,HV(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],E="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),a.defaultProps.allowDataOverflow),j=FC(f,j,w,s)),$e($e({},v),{},St({},w,$e($e({axisType:s},a.defaultProps),{},{hide:!0,orientation:ri(YRe,"".concat(s,".").concat(g%2),null),domain:j,originalDomain:_,isCategorical:p,layout:d})))}return v},{})},tMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=ni(d,s),m={};return h&&h.length?m=JRe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=eMe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},rMe=function(t){var r=Gc(t),n=Xl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:bb(r,n)}},qI=function(t){var r=t.children,n=t.defaultShowTooltip,a=Hs(r,Im),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},nMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ec(r&&r.type);return n&&n.indexOf("Bar")>=0})},GI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aMe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Hs(f,Im),p=Hs(f,ai),g=Object.keys(c).reduce(function(j,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?$e($e({},j),{},St({},k,j[k]+S.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?$e($e({},j),{},St({},k,ri(j,"".concat(k))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=$e($e({},v),g),b=y.bottom;m&&(y.bottom+=m.props.height||Im.defaultProps.height),p&&r&&(y=_ke(y,a,n,r));var w=u-y.left-y.right,_=d-y.top-y.bottom;return $e($e({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(_,0)})},sMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},uP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,_=b.stackGroups,j=b.offset,N=b.updateId,S=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,E=y.layout,P=y.barGap,T=y.barCategoryGap,V=y.maxBarSize,G=GI(E),B=G.numericAxisName,I=G.cateAxisName,z=nMe(w),L=[];return w.forEach(function(F,Y){var X=Z_(y.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:k}),D=F.type.defaultProps!==void 0?$e($e({},F.type.defaultProps),F.props):F.props,R=D.dataKey,M=D.maxBarSize,W=D["".concat(B,"Id")],J=D["".concat(I,"Id")],re={},xe=c.reduce(function(ge,U){var he=b["".concat(U.axisType,"Map")],je=D["".concat(U.axisType,"Id")];he&&he[je]||U.axisType==="zAxis"||ff();var Se=he[je];return $e($e({},ge),{},St(St({},U.axisType,Se),"".concat(U.axisType,"Ticks"),Xl(Se)))},re),se=xe[I],Q=xe["".concat(I,"Ticks")],fe=_&&_[W]&&_[W].hasStack&&Dke(F,_[W].stackGroups),A=ec(F.type).indexOf("Bar")>=0,Be=bb(se,Q),Me=[],Le=z&&bke({barSize:C,stackGroups:_,totalSize:sMe(xe,I)});if(A){var ze,Re,gt=Rt(M)?V:M,ht=(ze=(Re=bb(se,Q,!0))!==null&&Re!==void 0?Re:gt)!==null&&ze!==void 0?ze:0;Me=wke({barGap:P,barCategoryGap:T,bandSize:ht!==Be?ht:Be,sizeList:Le[J],maxBarSize:gt}),ht!==Be&&(Me=Me.map(function(ge){return $e($e({},ge),{},{position:$e($e({},ge.position),{},{offset:ge.position.offset-ht/2})})}))}var le=F&&F.type&&F.type.getComposedData;le&&L.push({props:$e($e({},le($e($e({},xe),{},{displayedData:X,props:y,dataKey:R,item:F,bandSize:Be,barPosition:Me,offset:j,stackedData:fe,layout:E,dataStartIndex:S,dataEndIndex:k}))),{},St(St(St({key:F.key||"item-".concat(Y)},B,xe[B]),I,xe[I]),"animationId",N)),childIndex:wme(F,y.children),item:F})}),L},m=function(y,b){var w=y.props,_=y.dataStartIndex,j=y.dataEndIndex,N=y.updateId;if(!iM({props:w}))return null;var S=w.children,k=w.layout,C=w.stackOffset,E=w.data,P=w.reverseStackOrder,T=GI(k),V=T.numericAxisName,G=T.cateAxisName,B=ni(S,n),I=Pke(E,B,"".concat(V,"Id"),"".concat(G,"Id"),C,P),z=c.reduce(function(D,R){var M="".concat(R.axisType,"Map");return $e($e({},D),{},St({},M,tMe(w,$e($e({},R),{},{graphicalItems:B,stackGroups:R.axisType===V&&I,dataStartIndex:_,dataEndIndex:j}))))},{}),L=aMe($e($e({},z),{},{props:w,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(z).forEach(function(D){z[D]=d(w,z[D],L,D.replace("Map",""),r)});var F=z["".concat(G,"Map")],Y=rMe(F),X=h(w,$e($e({},z),{},{dataStartIndex:_,dataEndIndex:j,updateId:N,graphicalItems:B,stackGroups:I,offset:L}));return $e($e({formattedGraphicalItems:X,graphicalItems:B,offset:L,stackGroups:I},Y),z)},p=function(v){function y(b){var w,_,j;return LRe(this,y),j=URe(this,y,[b]),St(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),St(j,"accessibilityManager",new SRe),St(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,k=S.dataStartIndex,C=S.dataEndIndex,E=S.updateId;j.setState($e({legendBBox:N},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},$e($e({},j.state),{},{legendBBox:N}))))}}),St(j,"handleReceiveSyncEvent",function(N,S,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),St(j,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return $e({dataStartIndex:S,dataEndIndex:k},m({props:j.props,dataStartIndex:S,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),St(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var k=$e($e({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;Et(C)&&C(k,N)}}),St(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),k=S?$e($e({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;Et(C)&&C(k,N)}),St(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),St(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),St(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),St(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var k=j.props.onMouseLeave;Et(k)&&k(S,N)}),St(j,"handleOuterEvent",function(N){var S=bme(N),k=ri(j.props,"".concat(S));if(S&&Et(k)){var C,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),k((C=E)!==null&&C!==void 0?C:{},N)}}),St(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var k=$e($e({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;Et(C)&&C(k,N)}}),St(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Et(S)){var k=j.getMouseInfo(N);S(k,N)}}),St(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Et(S)){var k=j.getMouseInfo(N);S(k,N)}}),St(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),St(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),St(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),St(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(Et(S)){var k=j.getMouseInfo(N);S(k,N)}}),St(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(Et(S)){var k=j.getMouseInfo(N);S(k,N)}}),St(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&a2.emit(s2,j.props.syncId,N,j.eventEmitterSymbol)}),St(j,"applySyncEvent",function(N){var S=j.props,k=S.layout,C=S.syncMethod,E=j.state.updateId,P=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState($e({dataStartIndex:P,dataEndIndex:T},m({props:j.props,dataStartIndex:P,dataEndIndex:T,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var V=N.chartX,G=N.chartY,B=N.activeTooltipIndex,I=j.state,z=I.offset,L=I.tooltipTicks;if(!z)return;if(typeof C=="function")B=C(L,N);else if(C==="value"){B=-1;for(var F=0;F<L.length;F++)if(L[F].value===N.activeLabel){B=F;break}}var Y=$e($e({},z),{},{x:z.left,y:z.top}),X=Math.min(V,Y.x+Y.width),D=Math.min(G,Y.y+Y.height),R=L[B]&&L[B].value,M=$C(j.state,j.props.data,B),W=L[B]?{x:k==="horizontal"?L[B].coordinate:X,y:k==="horizontal"?D:L[B].coordinate}:fH;j.setState($e($e({},N),{},{activeLabel:R,activeCoordinate:W,activePayload:M,activeTooltipIndex:B}))}else j.setState(N)}),St(j,"renderCursor",function(N){var S,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,P=k.activePayload,T=k.offset,V=k.activeTooltipIndex,G=k.tooltipAxisBandSize,B=j.getTooltipEventType(),I=(S=N.props.active)!==null&&S!==void 0?S:C,z=j.props.layout,L=N.key||"_recharts-cursor";return ie.createElement(PRe,{key:L,activeCoordinate:E,activePayload:P,activeTooltipIndex:V,chartName:r,element:N,isActive:I,layout:z,offset:T,tooltipAxisBandSize:G,tooltipEventType:B})}),St(j,"renderPolarAxis",function(N,S,k){var C=ri(N,"type.axisType"),E=ri(j.state,"".concat(C,"Map")),P=N.type.defaultProps,T=P!==void 0?$e($e({},P),N.props):N.props,V=E&&E[T["".concat(C,"Id")]];return x.cloneElement(N,$e($e({},V),{},{className:Mt(C,V.className),key:N.key||"".concat(S,"-").concat(k),ticks:Xl(V,!0)}))}),St(j,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,E=S.polarRadius,P=j.state,T=P.radiusAxisMap,V=P.angleAxisMap,G=Gc(T),B=Gc(V),I=B.cx,z=B.cy,L=B.innerRadius,F=B.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Xl(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(E)?E:Xl(G,!0).map(function(Y){return Y.coordinate}),cx:I,cy:z,innerRadius:L,outerRadius:F,key:N.key||"polar-grid",radialLines:k})}),St(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,k=S.children,C=S.width,E=S.height,P=j.props.margin||{},T=C-(P.left||0)-(P.right||0),V=VV({children:k,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!V)return null;var G=V.item,B=VI(V,ORe);return x.cloneElement(G,$e($e({},B),{},{chartWidth:C,chartHeight:E,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),St(j,"renderTooltip",function(){var N,S=j.props,k=S.children,C=S.accessibilityLayer,E=Hs(k,Xn);if(!E)return null;var P=j.state,T=P.isTooltipActive,V=P.activeCoordinate,G=P.activePayload,B=P.activeLabel,I=P.offset,z=(N=E.props.active)!==null&&N!==void 0?N:T;return x.cloneElement(E,{viewBox:$e($e({},I),{},{x:I.left,y:I.top}),active:z,label:B,payload:z?G:[],coordinate:V,accessibilityLayer:C})}),St(j,"renderBrush",function(N){var S=j.props,k=S.margin,C=S.data,E=j.state,P=E.offset,T=E.dataStartIndex,V=E.dataEndIndex,G=E.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:hy(j.handleBrushChange,N.props.onChange),data:C,x:Xe(N.props.x)?N.props.x:P.left,y:Xe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:Xe(N.props.width)?N.props.width:P.width,startIndex:T,endIndex:V,updateId:"brush-".concat(G)})}),St(j,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=j,E=C.clipPathId,P=j.state,T=P.xAxisMap,V=P.yAxisMap,G=P.offset,B=N.type.defaultProps||{},I=N.props,z=I.xAxisId,L=z===void 0?B.xAxisId:z,F=I.yAxisId,Y=F===void 0?B.yAxisId:F;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:T[L],yAxis:V[Y],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:E})}),St(j,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,E=N.childIndex,P=N.isRange,T=[],V=S.props.key,G=S.item.type.defaultProps!==void 0?$e($e({},S.item.type.defaultProps),S.item.props):S.item.props,B=G.activeDot,I=G.dataKey,z=$e($e({index:E,dataKey:I,cx:k.x,cy:k.y,r:4,fill:JA(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},jt(B,!1)),G1(B));return T.push(y.renderActiveDot(B,z,"".concat(V,"-activePoint-").concat(E))),C?T.push(y.renderActiveDot(B,$e($e({},z),{},{cx:C.x,cy:C.y}),"".concat(V,"-basePoint-").concat(E))):P&&T.push(null),T}),St(j,"renderGraphicChild",function(N,S,k){var C=j.filterFormatItem(N,S,k);if(!C)return null;var E=j.getTooltipEventType(),P=j.state,T=P.isTooltipActive,V=P.tooltipAxis,G=P.activeTooltipIndex,B=P.activeLabel,I=j.props.children,z=Hs(I,Xn),L=C.props,F=L.points,Y=L.isRange,X=L.baseLine,D=C.item.type.defaultProps!==void 0?$e($e({},C.item.type.defaultProps),C.item.props):C.item.props,R=D.activeDot,M=D.hide,W=D.activeBar,J=D.activeShape,re=!!(!M&&T&&z&&(R||W||J)),xe={};E!=="axis"&&z&&z.props.trigger==="click"?xe={onClick:hy(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(xe={onMouseLeave:hy(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:hy(j.handleItemMouseEnter,N.props.onMouseEnter)});var se=x.cloneElement(N,$e($e({},C.props),xe));function Q(U){return typeof V.dataKey=="function"?V.dataKey(U.payload):null}if(re)if(G>=0){var fe,A;if(V.dataKey&&!V.allowDuplicatedCategory){var Be=typeof V.dataKey=="function"?Q:"payload.".concat(V.dataKey.toString());fe=q1(F,Be,B),A=Y&&X&&q1(X,Be,B)}else fe=F==null?void 0:F[G],A=Y&&X&&X[G];if(J||W){var Me=N.props.activeIndex!==void 0?N.props.activeIndex:G;return[x.cloneElement(N,$e($e($e({},C.props),xe),{},{activeIndex:Me})),null,null]}if(!Rt(fe))return[se].concat(Gm(j.renderActivePoints({item:C,activePoint:fe,basePoint:A,childIndex:G,isRange:Y})))}else{var Le,ze=(Le=j.getItemByXY(j.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:se},Re=ze.graphicalItem,gt=Re.item,ht=gt===void 0?N:gt,le=Re.childIndex,ge=$e($e($e({},C.props),xe),{},{activeIndex:le});return[x.cloneElement(ht,ge),null,null]}return Y?[se,null,null]:[se,null]}),St(j,"renderCustomized",function(N,S,k){return x.cloneElement(N,$e($e({key:"recharts-customized-".concat(k)},j.props),j.state))}),St(j,"renderMap",{CartesianGrid:{handler:xy,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:xy},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:xy},YAxis:{handler:xy},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:Np("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=zz(j.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return WRe(y,v),BRe(y,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,N=w.height,S=w.layout,k=Hs(_,Xn);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=$C(this.state,j,C,E),T=this.state.tooltipTicks[C].coordinate,V=(this.state.offset.top+N)/2,G=S==="horizontal",B=G?{x:T,y:V}:{y:T,x:V},I=this.state.formattedGraphicalItems.find(function(L){var F=L.item;return F.type.name==="Scatter"});I&&(B=$e($e({},B),I.props.points[C].tooltipPosition),P=I.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:B};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){mk([Hs(w.children,Xn)],[Hs(this.props.children,Xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Hs(this.props.children,Xn);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),N=G_e(j),S={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},k=j.width/_.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var E=this.state,P=E.xAxisMap,T=E.yAxisMap,V=this.getTooltipEventType(),G=HI(this.state,this.props.data,this.props.layout,C);if(V!=="axis"&&P&&T){var B=Gc(P).scale,I=Gc(T).scale,z=B&&B.invert?B.invert(S.chartX):null,L=I&&I.invert?I.invert(S.chartY):null;return $e($e({},S),{},{xValue:z,yValue:L},G)}return G?$e($e({},S),G):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=w/j,k=_/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,E=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:S,y:k}:null}var P=this.state,T=P.angleAxisMap,V=P.radiusAxisMap;if(T&&V){var G=Gc(T);return g3({x:S,y:k},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=Hs(w,Xn),N={};j&&_==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=G1(this.props,this.handleOuterEvent);return $e($e({},S),N)}},{key:"addListener",value:function(){a2.on(s2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){a2.removeListener(s2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===w||C.props.key===w.key||_===ec(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,N=_.top,S=_.height,k=_.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:w},ie.createElement("rect",{x:j,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=zI(j,2),S=N[0],k=N[1];return $e($e({},_),{},St({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var N=zI(j,2),S=N[0],k=N[1];return $e($e({},_),{},St({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,N=_.activeItem;if(j&&j.length)for(var S=0,k=j.length;S<k;S++){var C=j[S],E=C.props,P=C.item,T=P.type.defaultProps!==void 0?$e($e({},P.type.defaultProps),P.props):P.props,V=ec(P.type);if(V==="Bar"){var G=(E.data||[]).find(function(L){return TTe(w,L)});if(G)return{graphicalItem:C,payload:G}}else if(V==="RadialBar"){var B=(E.data||[]).find(function(L){return g3(w,L)});if(B)return{graphicalItem:C,payload:B}}else if(H_(C,N)||q_(C,N)||cv(C,N)){var I=vPe({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),z=T.activeIndex===void 0?I:T.activeIndex;return{graphicalItem:$e($e({},C),{},{childIndex:z}),payload:cv(C,N)?T.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var w=this;if(!iM(this))return null;var _=this.props,j=_.children,N=_.className,S=_.width,k=_.height,C=_.style,E=_.compact,P=_.title,T=_.desc,V=VI(_,DRe),G=jt(V,!1);if(E)return ie.createElement(SI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(gk,kh({},G,{width:S,height:k,title:P,desc:T}),this.renderClipPath(),lM(j,this.renderMap)));if(this.props.accessibilityLayer){var B,I;G.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,G.role=(I=this.props.role)!==null&&I!==void 0?I:"application",G.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},G.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ie.createElement(SI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",kh({className:Mt("recharts-wrapper",N),style:$e({position:"relative",cursor:"default",width:S,height:k},C)},z,{ref:function(F){w.container=F}}),ie.createElement(gk,kh({},G,{width:S,height:k,title:P,desc:T,style:XRe}),this.renderClipPath(),lM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);St(p,"displayName",r),St(p,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),St(p,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,_=v.children,j=v.width,N=v.height,S=v.layout,k=v.stackOffset,C=v.margin,E=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var T=qI(v);return $e($e($e({},T),{},{updateId:0},m($e($e({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(b!==y.prevDataKey||w!==y.prevData||j!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||k!==y.prevStackOffset||!Bh(C,y.prevMargin)){var V=qI(v),G={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},B=$e($e({},HI(y,w,S)),{},{updateId:y.updateId+1}),I=$e($e($e({},V),G),B);return $e($e($e({},I),m($e({props:v},I),y)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!mk(_,y.prevChildren)){var z,L,F,Y,X=Hs(_,Im),D=X&&(z=(L=X.props)===null||L===void 0?void 0:L.startIndex)!==null&&z!==void 0?z:E,R=X&&(F=(Y=X.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&F!==void 0?F:P,M=D!==E||R!==P,W=!Rt(w),J=W&&!M?y.updateId:y.updateId+1;return $e($e({updateId:J},m($e($e({props:v},y),{},{updateId:J,dataStartIndex:D,dataEndIndex:R}),y)),{},{prevChildren:_,dataStartIndex:D,dataEndIndex:R})}return null}),St(p,"renderActiveDot",function(v,y,b){var w;return x.isValidElement(v)?w=x.cloneElement(v,y):Et(v)?w=v(y):w=ie.createElement(B_,y),ie.createElement(ir,{className:"recharts-active-dot",key:b},w)});var g=x.forwardRef(function(y,b){return ie.createElement(p,kh({},y,{ref:b}))});return g.displayName=p.displayName,g},ix=uP({chartName:"LineChart",GraphicalChild:Nc,axisComponents:[{axisType:"xAxis",AxisComp:go},{axisType:"yAxis",AxisComp:vo}],formatAxisMap:OW}),KI=uP({chartName:"BarChart",GraphicalChild:ji,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:go},{axisType:"yAxis",AxisComp:vo}],formatAxisMap:OW}),pd=uP({chartName:"PieChart",GraphicalChild:qa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:W_},{axisType:"radiusAxis",AxisComp:z_}],formatAxisMap:Vke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const YI=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u})=>{var w;const{user:d}=gr(),f=c.projects,h=0,m=c.projects,p=0;c.clients;const g=c.users,v=c.leads,y=c.surveys,b=[...e].sort((_,j)=>new Date(j.created_at||"").getTime()-new Date(_.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(C7,{})})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(zt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(An,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Oe(d.profile||{},"user_name")||d.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:d.email,children:d.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(ut,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:d.permissions_permissions_Name||d.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(w=d.profile)!=null&&w.created_at?new Date(d.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(Si,{title:l("dashboard.totalProjects"),value:f,subtext:`${h} ${l("dashboard.completed")}`,icon:yB,isRTL:o}),i.jsx(Si,{title:l("dashboard.inProgress"),value:m,subtext:l("dashboard.activeProjects"),icon:Ka,isRTL:o}),i.jsx(Si,{title:l("dashboard.teamMembers"),value:g,subtext:l("dashboard.activeUsers"),icon:Ka,isRTL:o}),i.jsx(Si,{title:l("dashboard.leads"),value:v,subtext:l("dashboard.totalLeads"),icon:zd,isRTL:o}),i.jsx(Si,{title:l("dashboard.surveys"),value:y,subtext:l("dashboard.totalSurveys"),icon:ps,isRTL:o})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{children:i.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(zd,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Nu,{width:"100%",height:"100%",children:i.jsxs(ix,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(vo,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(Xn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:_=>[`${_} leads`,"Total"]}),i.jsx(ai,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:b.length>0?b.map(_=>i.jsx(oMe,{project:_,clientName:_.company_name||l("dashboard.noClient"),isRTL:o,t:l},_.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(dt,{className:"space-y-2 pt-4",children:[i.jsx(o2,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:h,isRTL:o}),i.jsx(o2,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:m,isRTL:o}),i.jsx(o2,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:p,isRTL:o})]})]})]})]})},iMe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c})=>{var m;const u=t.filter(p=>p.task_status==="completed").length,d=t.filter(p=>p.task_status==="in_progress").length,f=l.projects,h=[...t].sort((p,g)=>new Date(g.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Oe(e.profile||{},"user.name")||e.email})})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(C7,{})})]}),i.jsxs(st,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(zt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(An,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(l2,{label:o("employeeDashboard.name"),value:Oe(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(l2,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(ut,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(l2,{label:o("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(Si,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${f} ${o("employeeDashboard.active")}`,icon:Mh,isRTL:s}),i.jsx(Si,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${u} ${o("employeeDashboard.completed")}`,icon:zd,isRTL:s}),i.jsx(Si,{title:o("employeeDashboard.inProgress"),value:d,subtext:o("employeeDashboard.activeTasks"),icon:_d,isRTL:s}),i.jsx(Si,{title:o("employeeDashboard.completedTasks"),value:u,subtext:o("employeeDashboard.finishedTasks"),icon:Jl,isRTL:s}),i.jsx(Si,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:zd,isRTL:s}),i.jsx(Si,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:ps,isRTL:s})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{children:i.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(zd,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Nu,{width:"100%",height:"100%",children:i.jsxs(ix,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(vo,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(Xn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:p=>[`${p} leads`,"Total"]}),i.jsx(ai,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(p=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(lr,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var g;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||o("employeeDashboard.noDescription")})]}),i.jsx(ut,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(g=p.task_status)==null?void 0:g.replace("_"," ")})]},p.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Si=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(st,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs(zt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(lr,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(dt,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),oMe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),o2=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),l2=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function lMe(){const{t:e}=Bt(),{currentLanguage:t,isRTL:r}=Da();Jr();const{user:n,loading:a}=gr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(new Map),g=s.projects.filter(w=>{var N;const _=(N=n==null?void 0:n.profile)==null?void 0:N.userid,j=_?Number(_):null;return j!==null&&!isNaN(j)&&w.created_by===j}),v=async()=>{try{if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const w={pageSize:100,select_fields:"leads_id,created_at"},j=(await K.mLeads.list(w)).data||[],N=new Map;j.forEach(C=>{const E=new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});N.set(E,(N.get(E)||0)+1)});const k=Array.from(N.entries()).sort((C,E)=>new Date(C[0]).getTime()-new Date(E[0]).getTime()).map(([C,E])=>({date:C,count:E}));c(k)}catch(w){console.error("[Dashboard] Failed to load MLeads chart data:",w)}};x.useEffect(()=>{n&&!a&&(b(),y(),v())},[n,a]);const y=async()=>{try{const w=await _T(),_=new Map;w.forEach(j=>{_.set(j.permissions_ID,j.permissions_Name)}),p(_)}catch(w){console.error("Failed to load permission names:",w)}},b=async()=>{var w,_,j,N,S,k;try{d(!0),h(null);const[C]=await Promise.all([K.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),E=((w=C.m_projects)==null?void 0:w.Count)||0,P=((_=C.users)==null?void 0:_.Count)||0,T=((j=C.m_leads)==null?void 0:j.Count)||0,V=((N=C.surveys)==null?void 0:N.Count)||0,G=((S=C.clients)==null?void 0:S.Count)||0,B=((k=C.tasks)==null?void 0:k.Count)||0;o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:E,users:P,leads:T,surveys:V,clients:G,myTasks:0}})}catch(C){console.error("[Dashboard] Failed to load data:",C),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(C.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(ue,{onClick:b,className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx(Wy,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(YI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["employee","manager","team_leader"].includes(n.role)?i.jsx(iMe,{user:n,myTasks:s.myTasks,myProjects:g,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(st,{className:"border-0 shadow-md",children:[i.jsx(zt,{children:i.jsxs(lr,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(zd,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Nu,{width:"100%",height:"100%",children:i.jsxs(ix,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(vo,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(Xn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:w=>[`${w} leads`,"Total"]}),i.jsx(ai,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(Si,{title:"",value:0,subtext:"",icon:Mh,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(YI,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:b,isRTL:r,t:e,counts:s.counts,mleadsChartData:l})}var J_="Popover",[mH,AHe]=is(J_,[gp]),ox=gp(),[cMe,Zu]=mH(J_),pH=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=ox(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=fc({prop:n,defaultProp:a??!1,onChange:s,caller:J_});return i.jsx(BT,{...l,children:i.jsx(cMe,{scope:t,contentId:ea(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};pH.displayName=J_;var gH="PopoverAnchor",uMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(gH,r),s=ox(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(qw,{...s,...n,ref:t})});uMe.displayName=gH;var vH="PopoverTrigger",xH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(vH,r),s=ox(r),o=$t(t,a.triggerRef),l=i.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jH(a.open),...n,ref:o,onClick:tt(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(qw,{asChild:!0,...s,children:l})});xH.displayName=vH;var dP="PopoverPortal",[dMe,fMe]=mH(dP,{forceMount:void 0}),yH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Zu(dP,t);return i.jsx(dMe,{scope:t,forceMount:r,children:i.jsx(Ra,{present:r||s.open,children:i.jsx(Wv,{asChild:!0,container:a,children:n})})})};yH.displayName=dP;var Km="PopoverContent",bH=x.forwardRef((e,t)=>{const r=fMe(Km,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Zu(Km,e.__scopePopover);return i.jsx(Ra,{present:n||s.open,children:s.modal?i.jsx(mMe,{...a,ref:t}):i.jsx(pMe,{...a,ref:t})})});bH.displayName=Km;var hMe=Ru("PopoverContent.RemoveScroll"),mMe=x.forwardRef((e,t)=>{const r=Zu(Km,e.__scopePopover),n=x.useRef(null),a=$t(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Gw(o)},[]),i.jsx(Hv,{as:hMe,allowPinchZoom:!0,children:i.jsx(wH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:tt(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:tt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),pMe=x.forwardRef((e,t)=>{const r=Zu(Km,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(wH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),wH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Zu(Km,r),m=ox(r);return zw(),i.jsx(zv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Uv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(UT,{"data-state":jH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_H="PopoverClose",gMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Zu(_H,r);return i.jsx(ct.button,{type:"button",...n,ref:t,onClick:tt(e.onClick,()=>a.onOpenChange(!1))})});gMe.displayName=_H;var vMe="PopoverArrow",xMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ox(r);return i.jsx(zT,{...a,...n,ref:t})});xMe.displayName=vMe;function jH(e){return e?"open":"closed"}var yMe=pH,bMe=xH,wMe=yH,SH=bH;const fa=yMe,ha=bMe,Gn=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(wMe,{children:i.jsx(SH,{ref:a,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Gn.displayName=SH.displayName;const _Me={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},jMe=(e,t,r)=>{const n=_Me[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},SMe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},NMe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},kMe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CMe={date:Rh({formats:SMe,defaultWidth:"full"}),time:Rh({formats:NMe,defaultWidth:"full"}),dateTime:Rh({formats:kMe,defaultWidth:"full"})},EMe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},TMe=e=>EMe[e],AMe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},PMe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},OMe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},DMe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},RMe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},MMe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},FMe=e=>String(e),IMe={ordinalNumber:FMe,era:Yo({values:AMe,defaultWidth:"wide"}),quarter:Yo({values:PMe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yo({values:OMe,defaultWidth:"wide"}),day:Yo({values:DMe,defaultWidth:"wide"}),dayPeriod:Yo({values:RMe,defaultWidth:"wide",formattingValues:MMe,defaultFormattingWidth:"wide"})},LMe=/^(\d+)(th|st|nd|rd)?/i,$Me=/\d+/i,BMe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},UMe={any:[//,//]},zMe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},VMe={any:[/1/i,/2/i,/3/i,/4/i]},WMe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},HMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},qMe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},GMe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},KMe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},YMe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},XMe={ordinalNumber:sB({matchPattern:LMe,parsePattern:$Me,valueCallback:e=>parseInt(e,10)}),era:Xo({matchPatterns:BMe,defaultMatchWidth:"wide",parsePatterns:UMe,defaultParseWidth:"any"}),quarter:Xo({matchPatterns:zMe,defaultMatchWidth:"wide",parsePatterns:VMe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xo({matchPatterns:WMe,defaultMatchWidth:"wide",parsePatterns:HMe,defaultParseWidth:"any"}),day:Xo({matchPatterns:qMe,defaultMatchWidth:"wide",parsePatterns:GMe,defaultParseWidth:"any"}),dayPeriod:Xo({matchPatterns:KMe,defaultMatchWidth:"any",parsePatterns:YMe,defaultParseWidth:"any"})},QMe={code:"ar",formatDistance:jMe,formatLong:CMe,formatRelative:TMe,localize:IMe,match:XMe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var kt=function(){return kt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},kt.apply(this,arguments)};function ZMe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function NH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function lx(e){return e.mode==="multiple"}function cx(e){return e.mode==="range"}function ej(e){return e.mode==="single"}var JMe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eFe(e,t){return ts(e,"LLLL y",t)}function tFe(e,t){return ts(e,"d",t)}function rFe(e,t){return ts(e,"LLLL",t)}function nFe(e){return"".concat(e)}function aFe(e,t){return ts(e,"cccccc",t)}function sFe(e,t){return ts(e,"yyyy",t)}var iFe=Object.freeze({__proto__:null,formatCaption:eFe,formatDay:tFe,formatMonthCaption:rFe,formatWeekNumber:nFe,formatWeekdayName:aFe,formatYearCaption:sFe}),oFe=function(e,t,r){return ts(e,"do MMMM (EEEE)",r)},lFe=function(){return"Month: "},cFe=function(){return"Go to next month"},uFe=function(){return"Go to previous month"},dFe=function(e,t){return ts(e,"cccc",t)},fFe=function(e){return"Week n. ".concat(e)},hFe=function(){return"Year: "},mFe=Object.freeze({__proto__:null,labelDay:oFe,labelMonthDropdown:lFe,labelNext:cFe,labelPrevious:uFe,labelWeekNumber:fFe,labelWeekday:dFe,labelYearDropdown:hFe});function pFe(){var e="buttons",t=JMe,r=bT,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:iFe,labels:mFe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function gFe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=_s(n):t&&(s=new Date(t,0,1)),a?o=Iw(a):r&&(o=new Date(r,11,31)),{fromDate:s?mm(s):void 0,toDate:o?mm(o):void 0}}var kH=x.createContext(void 0);function vFe(e){var t,r=e.initialProps,n=pFe(),a=gFe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(ej(r)||lx(r)||cx(r))&&(c=r.onSelect);var u=kt(kt(kt({},n),r),{captionLayout:l,classNames:kt(kt({},n.classNames),r.classNames),components:kt({},r.components),formatters:kt(kt({},n.formatters),r.formatters),fromDate:s,labels:kt(kt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:kt(kt({},n.modifiers),r.modifiers),modifiersClassNames:kt(kt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:kt(kt({},n.styles),r.styles),toDate:o});return i.jsx(kH.Provider,{value:u,children:e.children})}function Tr(){var e=x.useContext(kH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CH(e){var t=Tr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function xFe(e){return i.jsx("svg",kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Tr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:xFe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yFe(e){var t,r=Tr(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(Rne(n,a))for(var h=_s(n),m=n.getMonth();m<=a.getMonth();m++)f.push(gS(h,m));else for(var h=_s(new Date),m=0;m<=11;m++)f.push(gS(h,m));var p=function(v){var y=Number(v.target.value),b=gS(_s(e.displayMonth),y);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EH;return i.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function bFe(e){var t,r=e.displayMonth,n=Tr(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),p=s.getFullYear(),g=m;g<=p;g++)h.push(oR(nB(new Date),g));var v=function(b){var w=oR(_s(r),Number(b.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:EH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function wFe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function _Fe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&gm(s,a)<0){var u=-1*(c-1);a=bo(s,u)}return o&&gm(a,o)<0&&(a=o),_s(a)}function jFe(){var e=Tr(),t=_Fe(e),r=wFe(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=_s(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function SFe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=_s(e),s=_s(bo(a,n)),o=gm(s,a),l=[],c=0;c<o;c++){var u=bo(a,c);l.push(u)}return r&&(l=l.reverse()),l}function NFe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=_s(e);if(!r)return bo(l,o);var c=gm(r,e);if(!(c<s))return bo(l,o)}}function kFe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=_s(e);if(!r)return bo(l,-o);var c=gm(l,r);if(!(c<=0))return bo(l,-o)}}var TH=x.createContext(void 0);function CFe(e){var t=Tr(),r=jFe(),n=r[0],a=r[1],s=SFe(n,t),o=NFe(n,t),l=kFe(n,t),c=function(f){return s.some(function(h){return wT(f,h)})},u=function(f,h){c(f)||(h&&uB(f,h)?a(bo(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(TH.Provider,{value:d,children:e.children})}function ux(){var e=x.useContext(TH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function XI(e){var t,r=Tr(),n=r.classNames,a=r.styles,s=r.components,o=ux().goToMonth,l=function(d){o(bo(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:CH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(yFe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(bFe,{onChange:l,displayMonth:e.displayMonth})]})}function EFe(e){return i.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TFe(e){return i.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Gb=x.forwardRef(function(e,t){var r=Tr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=kt(kt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",kt({},e,{ref:t,type:"button",className:o,style:l}))});function AFe(e){var t,r,n=Tr(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:s}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:TFe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:EFe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(Gb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(Gb,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function QI(e){var t=Tr().numberOfMonths,r=ux(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return wT(e.displayMonth,p)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(AFe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function PFe(e){var t,r=Tr(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:CH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(XI,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(XI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(QI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(QI,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function OFe(e){var t=Tr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function DFe(e,t,r){for(var n=r?tf(new Date):hl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=za(n,s);a.push(o)}return a}function RFe(){var e=Tr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=DFe(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function MFe(){var e,t=Tr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:RFe;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function FFe(e){var t=Tr(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var fP=x.createContext(void 0);function IFe(e){if(!lx(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(fP.Provider,{value:t,children:e.children})}return i.jsx(LFe,{initialProps:e.initialProps,children:e.children})}function LFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=n?NH([],n):[];if(d.selected){var y=v.findIndex(function(b){return vs(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return vs(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(fP.Provider,{value:c,children:r})}function hP(){var e=x.useContext(fP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $Fe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?vs(a,e)&&vs(n,e)?void 0:vs(a,e)?{from:a,to:void 0}:vs(n,e)?void 0:qN(n,e)?{from:e,to:a}:{from:n,to:e}:a?qN(e,a)?{from:a,to:e}:{from:e,to:a}:n?uB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var mP=x.createContext(void 0);function BFe(e){if(!cx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(mP.Provider,{value:t,children:e.children})}return i.jsx(UFe,{initialProps:e.initialProps,children:e.children})}function UFe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,p,g){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,p,g);var b=$Fe(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],vs(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:pS(s,l-1),before:za(s,l-1)}),s&&o&&d.disabled.push({after:s,before:za(s,l-1)}),!s&&o&&d.disabled.push({after:pS(o,l-1),before:za(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:za(s,-c+1)}),d.disabled.push({after:za(s,c-1)})),s&&o){var f=el(o,s)+1,h=c-f;d.disabled.push({before:pS(s,h)}),d.disabled.push({after:za(o,h)})}!s&&o&&(d.disabled.push({before:za(o,-c+1)}),d.disabled.push({after:za(o,c-1)}))}return i.jsx(mP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function pP(){var e=x.useContext(mP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Zy(e){return Array.isArray(e)?NH([],e):e!==void 0?[e]:[]}function zFe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Zy(a)}),t}var Eo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Eo||(Eo={}));var VFe=Eo.Selected,Ml=Eo.Disabled,WFe=Eo.Hidden,HFe=Eo.Today,c2=Eo.RangeEnd,u2=Eo.RangeMiddle,d2=Eo.RangeStart,qFe=Eo.Outside;function GFe(e,t,r){var n,a=(n={},n[VFe]=Zy(e.selected),n[Ml]=Zy(e.disabled),n[WFe]=Zy(e.hidden),n[HFe]=[e.today],n[c2]=[],n[u2]=[],n[d2]=[],n[qFe]=[],n);return e.fromDate&&a[Ml].push({before:e.fromDate}),e.toDate&&a[Ml].push({after:e.toDate}),lx(e)?a[Ml]=a[Ml].concat(t.modifiers[Ml]):cx(e)&&(a[Ml]=a[Ml].concat(r.modifiers[Ml]),a[d2]=r.modifiers[d2],a[u2]=r.modifiers[u2],a[c2]=r.modifiers[c2]),a}var AH=x.createContext(void 0);function KFe(e){var t=Tr(),r=hP(),n=pP(),a=GFe(t,r,n),s=zFe(t.modifiers),o=kt(kt({},a),s);return i.jsx(AH.Provider,{value:o,children:e.children})}function PH(){var e=x.useContext(AH);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function YFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function XFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function QFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function ZFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function JFe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function e3e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=el(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=el(e,n)>=0&&el(a,e)>=0;return o}return a?vs(a,e):n?vs(n,e):!1}function t3e(e){return xT(e)}function r3e(e){return Array.isArray(e)&&e.every(xT)}function n3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(t3e(r))return vs(e,r);if(r3e(r))return r.includes(e);if(XFe(r))return e3e(e,r);if(JFe(r))return r.dayOfWeek.includes(e.getDay());if(YFe(r)){var n=el(r.before,e),a=el(r.after,e),s=n>0,o=a<0,l=qN(r.before,r.after);return l?o&&s:s||o}return QFe(r)?el(e,r.after)>0:ZFe(r)?el(r.before,e)>0:typeof r=="function"?r(e):!1})}function gP(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return n3e(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!wT(e,r)&&(a.outside=!0),a}function a3e(e,t){for(var r=_s(e[0]),n=Iw(e[e.length-1]),a,s,o=r;o<=n;){var l=gP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=za(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=za(o,1)}return s||a}var s3e=365;function OH(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:za,week:HN,month:bo,year:_re,startOfWeek:function(v){return a.ISOWeek?tf(v):hl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?aB(v):yT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=jre([u,m]):n==="after"&&d&&(m=Sre([d,m]));var p=!0;if(s){var g=gP(m,s);p=!g.disabled&&!g.hidden}return p?m:l.count>s3e?l.lastFocused:OH(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:kt(kt({},l),{count:l.count+1})})}var DH=x.createContext(void 0);function i3e(e){var t=ux(),r=PH(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=a3e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Tr(),p=function(v,y){if(a){var b=OH(a,{moveBy:v,direction:y,context:m,modifiers:r});vs(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return i.jsx(DH.Provider,{value:g,children:e.children})}function vP(){var e=x.useContext(DH);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function o3e(e,t){var r=PH(),n=gP(e,r,t);return n}var xP=x.createContext(void 0);function l3e(e){if(!ej(e.initialProps)){var t={selected:void 0};return i.jsx(xP.Provider,{value:t,children:e.children})}return i.jsx(c3e,{initialProps:e.initialProps,children:e.children})}function c3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(xP.Provider,{value:a,children:r})}function RH(){var e=x.useContext(xP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function u3e(e,t){var r=Tr(),n=RH(),a=hP(),s=pP(),o=vP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,w=function(z){var L,F,Y,X;ej(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,z):lx(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,z):cx(r)?(Y=s.onDayClick)===null||Y===void 0||Y.call(s,e,t,z):(X=r.onDayClick)===null||X===void 0||X.call(r,e,t,z)},_=function(z){var L;h(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,z)},j=function(z){var L;f(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,z)},N=function(z){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,z)},S=function(z){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,z)},k=function(z){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,z)},C=function(z){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,z)},E=function(z){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,z)},P=function(z){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,z)},T=function(z){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,z)},V=function(z){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,z)},G=function(z){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,z)},B=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():p();break;case"Home":z.preventDefault(),z.stopPropagation(),y();break;case"End":z.preventDefault(),z.stopPropagation(),b();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,z)},I={onClick:w,onFocus:_,onBlur:j,onKeyDown:B,onKeyUp:G,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:E,onTouchEnd:P,onTouchMove:T,onTouchStart:V};return I}function d3e(){var e=Tr(),t=RH(),r=hP(),n=pP(),a=ej(e)?t.selected:lx(e)?r.selected:cx(e)?n.selected:void 0;return a}function f3e(e){return Object.values(Eo).includes(e)}function h3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(f3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function m3e(e,t){var r=kt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=kt(kt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function p3e(e,t,r){var n,a,s,o=Tr(),l=vP(),c=o3e(e,t),u=u3e(e,c),d=d3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&vs(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=h3e(o,c).join(" "),m=m3e(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:FFe,v=i.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&vs(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&vs(l.focusedDay,e),_=kt(kt(kt({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||b?0:-1,n)),u),j={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:y};return j}function g3e(e){var t=x.useRef(null),r=p3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Gb,kt({name:"day",ref:t},r.buttonProps)):i.jsx("div",kt({},r.divProps))}function v3e(e){var t=e.number,r=e.dates,n=Tr(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(Gb,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function x3e(e){var t,r,n=Tr(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:g3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:v3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},Pne(f))})]})}function ZI(e,t,r){for(var n=r!=null&&r.ISOWeek?aB(t):yT(t,r),a=r!=null&&r.ISOWeek?tf(e):hl(e,r),s=el(n,a),o=[],l=0;l<=s;l++)o.push(za(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?iB(d):lB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function y3e(e,t){var r=ZI(_s(e),Iw(e),t);if(t!=null&&t.useFixedWeeks){var n=Dne(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=HN(s,6-n),l=ZI(HN(s,1),o,t);r.push.apply(r,l)}}return r}function b3e(e){var t,r,n,a=Tr(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,p=y3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:MFe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:x3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:OFe;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(g,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function w3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _3e=w3e()?x.useLayoutEffect:x.useEffect,f2=!1,j3e=0;function JI(){return"react-day-picker-".concat(++j3e)}function S3e(e){var t,r=e??(f2?JI():null),n=x.useState(r),a=n[0],s=n[1];return _3e(function(){a===null&&s(JI())},[]),x.useEffect(function(){f2===!1&&(f2=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function N3e(e){var t,r,n=Tr(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=ux().displayMonths,u=S3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(s.caption_start),h=kt(kt({},h),o.caption_start)),p&&(f.push(s.caption_end),h=kt(kt({},h),o.caption_end)),g&&(f.push(s.caption_between),h=kt(kt({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:PFe;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(b3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function k3e(e){var t=Tr(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function C3e(e){var t,r,n=e.initialProps,a=Tr(),s=vP(),o=ux(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=kt(kt({},a.styles.root),a.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return kt(kt({},p),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:k3e;return i.jsx("div",kt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(p,g){return i.jsx(N3e,{displayIndex:g,displayMonth:p},g)})})}))}function E3e(e){var t=e.children,r=ZMe(e,["children"]);return i.jsx(vFe,{initialProps:r,children:i.jsx(CFe,{children:i.jsx(l3e,{initialProps:r,children:i.jsx(IFe,{initialProps:r,children:i.jsx(BFe,{initialProps:r,children:i.jsx(KFe,{children:i.jsx(i3e,{children:t})})})})})})})}function T3e(e){return i.jsx(E3e,kt({},e,{children:i.jsx(C3e,{initialProps:e})}))}function MH({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(T3e,{showOutsideDays:r,className:be("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:be(ym({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:be(ym({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(nae,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(Lw,{className:"h-4 w-4"})},...n})}MH.displayName="Calendar";function yP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=Bt(),{currentLanguage:u}=Da(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),p=u==="ar"?QMe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const g=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:be("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(Ve,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(yt,{onValueChange:t,children:[i.jsxs(mt,{className:"w-[140px]",children:[i.jsx(uae,{className:"mr-2 h-4 w-4"}),i.jsx(bt,{placeholder:c("common.status","Status")})]}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(Te,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(yt,{onValueChange:r,children:[i.jsxs(mt,{className:"w-[140px]",children:[i.jsx(A3e,{className:"mr-2 h-4 w-4"}),i.jsx(bt,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(Te,{value:y.user_id.toString(),children:Oe(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",className:be("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(wo,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[ts(h.from,"LLL dd, y",{locale:p})," -"," ",ts(h.to,"LLL dd, y",{locale:p})]}):ts(h.from,"LLL dd, y",{locale:p}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(Gn,{className:"w-auto p-0",align:"start",children:i.jsx(MH,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:g,numberOfMonths:2})})]}),i.jsx(ue,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(jo,{className:"h-4 w-4"})})]})]})}function A3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const Za={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await K.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await K.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await K.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await K.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=fl(t,{stage_name:"stage_name"});await K.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await K.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},wn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await K.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return K.count("Users")},async getById(e){try{const t=await K.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await K.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await K.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},FH={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await K.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return K.count("Users")},async getById(e){try{const t=await K.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await K.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},zc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await K.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return K.count("projects")},async getById(e){try{return await K.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await K.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await K.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await K.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await K.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>K.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},Cd={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await K.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return K.count("tasks",e)},async getByStage(e){try{return(await K.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=fl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await K.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=fl(t,{task_name:"task_name",description:"description"});await K.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await K.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},BC={async getByTask(e){try{return(await K.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await K.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Qi={async getUserRooms(e){try{const r=(await K.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await K.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await wn.getByAuthId(e.userid);n&&(t=n.userid)}return await K.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await K.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await K.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await K.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await wn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await K.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await K.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},P3e={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await K.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>wn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await K.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await K.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await K.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Xf={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await K.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await K.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await K.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await K.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await K.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=fl(t,{team_name:"team_name"});await K.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await K.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await K.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>wn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await K.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await K.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await K.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},l0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await K.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await K.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await K.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await K.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await K.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await K.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},Kc={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await K.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await K.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>wn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await K.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await K.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await K.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},gd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await K.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return K.count("teams")},async getById(e){try{return await K.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await K.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await K.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await K.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await K.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Vh={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await K.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>wn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await K.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await K.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await K.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},qi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await K.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await K.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await K.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await K.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await K.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await K.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await K.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await K.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await K.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},th={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await K.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await $l("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await K.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await K.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>K.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await K.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await K.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var IH="AlertDialog",[O3e,PHe]=is(IH,[l7]),kc=l7(),LH=e=>{const{__scopeAlertDialog:t,...r}=e,n=kc(t);return i.jsx(a_,{...n,...r,modal:!0})};LH.displayName=IH;var D3e="AlertDialogTrigger",$H=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(nA,{...a,...n,ref:t})});$H.displayName=D3e;var R3e="AlertDialogPortal",BH=e=>{const{__scopeAlertDialog:t,...r}=e,n=kc(t);return i.jsx(s_,{...n,...r})};BH.displayName=R3e;var M3e="AlertDialogOverlay",UH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(xp,{...a,...n,ref:t})});UH.displayName=M3e;var Wh="AlertDialogContent",[F3e,I3e]=O3e(Wh),L3e=use("AlertDialogContent"),zH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=kc(r),o=x.useRef(null),l=$t(t,o),c=x.useRef(null);return i.jsx(vue,{contentName:Wh,titleName:VH,docsSlug:"alert-dialog",children:i.jsx(F3e,{scope:r,cancelRef:c,children:i.jsxs(yp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:tt(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(L3e,{children:n}),i.jsx(B3e,{contentRef:o})]})})})});zH.displayName=Wh;var VH="AlertDialogTitle",WH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(Yv,{...a,...n,ref:t})});WH.displayName=VH;var HH="AlertDialogDescription",qH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(Xv,{...a,...n,ref:t})});qH.displayName=HH;var $3e="AlertDialogAction",GH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=kc(r);return i.jsx(i_,{...a,...n,ref:t})});GH.displayName=$3e;var KH="AlertDialogCancel",YH=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=I3e(KH,r),s=kc(r),o=$t(t,a);return i.jsx(i_,{...s,...n,ref:o})});YH.displayName=KH;var B3e=({contentRef:e})=>{const t=`\`${Wh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Wh}\` by passing a \`${HH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Wh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},U3e=LH,z3e=$H,V3e=BH,XH=UH,QH=zH,ZH=GH,JH=YH,eq=WH,tq=qH;const ii=U3e,dx=z3e,W3e=V3e,rq=x.forwardRef(({className:e,...t},r)=>i.jsx(XH,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rq.displayName=XH.displayName;const Es=x.forwardRef(({className:e,...t},r)=>i.jsxs(W3e,{children:[i.jsx(rq,{}),i.jsx(QH,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Es.displayName=QH.displayName;const Ts=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ts.displayName="AlertDialogHeader";const As=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Xt()&&"sm:space-x-reverse",e),...t});As.displayName="AlertDialogFooter";const Ps=x.forwardRef(({className:e,...t},r)=>i.jsx(eq,{ref:r,className:be("text-lg font-semibold",e),...t}));Ps.displayName=eq.displayName;const Os=x.forwardRef(({className:e,...t},r)=>i.jsx(tq,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Os.displayName=tq.displayName;const Ds=x.forwardRef(({className:e,...t},r)=>i.jsx(ZH,{ref:r,className:be(ym(),e),...t}));Ds.displayName=ZH.displayName;const Rs=x.forwardRef(({className:e,...t},r)=>i.jsx(JH,{ref:r,className:be(ym({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Rs.displayName=JH.displayName;const ta=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ta.displayName="Textarea";function fx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=Jr(),s=x.useRef(null),o=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Xt()?"ltr":"rtl",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Xt(),l.id-c.id)).map(l=>{const c=l.id===o.id;return i.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:be("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),i.jsx(ut,{variant:"secondary",className:be("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var tj="Tabs",[H3e,OHe]=is(tj,[Zw]),nq=Zw(),[q3e,bP]=H3e(tj),aq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Bv(l),[f,h]=fc({prop:n,onChange:a,defaultProp:s??"",caller:tj});return i.jsx(q3e,{scope:r,baseId:ea(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(ct.div,{dir:d,"data-orientation":o,...u,ref:t})})});aq.displayName=tj;var sq="TabsList",iq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=bP(sq,r),o=nq(r);return i.jsx(fU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(ct.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});iq.displayName=sq;var oq="TabsTrigger",lq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=bP(oq,r),l=nq(r),c=dq(o.baseId,n),u=fq(o.baseId,n),d=n===o.value;return i.jsx(hU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(ct.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:tt(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:tt(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:tt(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});lq.displayName=oq;var cq="TabsContent",uq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=bP(cq,r),c=dq(l.baseId,n),u=fq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Ra,{present:a||d,children:({present:h})=>i.jsx(ct.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});uq.displayName=cq;function dq(e,t){return`${e}-trigger-${t}`}function fq(e,t){return`${e}-content-${t}`}var G3e=aq,hq=iq,mq=lq,pq=uq;const yl=G3e,To=x.forwardRef(({className:e,...t},r)=>i.jsx(hq,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));To.displayName=hq.displayName;const Wr=x.forwardRef(({className:e,...t},r)=>i.jsx(mq,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Wr.displayName=mq.displayName;const yn=x.forwardRef(({className:e,...t},r)=>i.jsx(pq,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));yn.displayName=pq.displayName;function wP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Bt(),{user:s}=gr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[p,g]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){g(!0);try{await Vh.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{g(!1)}}},y=async _=>{if(d.trim()){g(!0);try{await Vh.update(_,d.trim()),u(null),f(""),n()}catch(j){console.error("Failed to update note:",j)}finally{g(!1)}}},b=async()=>{if(h){g(!0);try{await Vh.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{g(!1)}}},w=_=>{if(!_)return"";try{return Tne(new Date(_),{addSuffix:!0})}catch{return _}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ta,{value:o,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(ue,{onClick:v,disabled:!o.trim()||p,className:"w-full",children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var S;const j=c===_.note_id,N=_.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(S=_.user)!=null&&S.avatar?i.jsx("img",{src:_.user.avatar,alt:Oe(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?Oe(_.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:_.user?Oe(_.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:w(_.created_at)})]})]}),N&&!j&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:i.jsx(Oi,{className:"h-3.5 w-3.5"})}),i.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:i.jsx(hr,{className:"h-3.5 w-3.5"})})]})]}),j?i.jsxs("div",{className:"space-y-2",children:[i.jsx(ta,{value:d,onChange:k=>f(k.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ue,{size:"sm",onClick:()=>y(_.note_id),disabled:!d.trim()||p,children:[i.jsx(_o,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(jo,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),i.jsx(ii,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:a("notes.delete")}),i.jsx(Os,{children:a("notes.deleteConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:a("buttons.cancel")}),i.jsx(Ds,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function gq({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:be("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(xB,{className:be(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function K3e({leadId:e}){const{t}=Bt(),{isRTL:r}=Da(),{user:n}=gr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[p,g]=x.useState([]),[v,y]=x.useState(!0),[b,w]=x.useState(!1),[_,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[E,P]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{V(),T()},[e]);const T=async()=>{try{const Y=await wn.getAll().then(X=>X.filter(D=>D.user_role==="client"));C(Y)}catch(Y){console.error("Failed to load clients:",Y)}},V=async()=>{var Y,X,D;try{y(!0);const[R,M,W]=await Promise.all([gd.getById(e),Za.getByType("leads"),wn.getAll()]);if(s(R),j(M),S(W),!R)return;if(P({lead_name:R.lead_name||"",lead_description:R.lead_description||"",client_user_id:R.client_user_id||"",stage:((Y=R.stage)==null?void 0:Y.toString())||"",assigned_to:R.assigned_to||"",value:((X=R.value)==null?void 0:X.toString())||"",currency:R.currency||"SAR",priority:((D=R.priority)==null?void 0:D.toString())||"3",expected_close_date:R.expected_close_date||""}),R.client_user_id){const J=await wn.getByAuthId(R.client_user_id);l(J)}if(R.created_by){const J=W.find(re=>re.auth_user_id===R.created_by)||null;u(J)}if(R.assigned_to){const J=W.find(re=>re.auth_user_id===R.assigned_to)||null;f(J)}if(R.stage){const J=M.find(re=>re.stage_id===R.stage);J&&m(Oe(J,"stage_name"))}G()}catch(R){console.error("Failed to load lead data:",R)}finally{y(!1)}},G=async()=>{try{const Y=await Vh.getByRelated("lead",e);g(Y)}catch(Y){console.error("Failed to load notes:",Y)}},B=async()=>{if(a)try{const Y=E.assigned_to&&E.assigned_to!=="unassigned"?E.assigned_to:null,X=fl({lead_name:E.lead_name,lead_description:E.lead_description||null,client_user_id:E.client_user_id||null,stage:parseInt(E.stage),assigned_to:Y,value:E.value?parseFloat(E.value):null,currency:E.currency,priority:parseInt(E.priority),expected_close_date:E.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await gd.update(a.lead_id,X);const D={...a,...X};if(s(D),E.client_user_id){const M=k.find(W=>W.auth_user_id===E.client_user_id)||null;l(M)}if(Y){const M=N.find(W=>W.auth_user_id===Y)||null;f(M)}const R=_.find(M=>M.stage_id===parseInt(E.stage));R&&m(Oe(R,"stage_name")),w(!1)}catch(Y){console.error("Failed to update lead:",Y)}},I=()=>{var Y,X,D;a&&P({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((Y=a.stage)==null?void 0:Y.toString())||"",assigned_to:a.assigned_to||"",value:((X=a.value)==null?void 0:X.toString())||"",currency:a.currency||"SAR",priority:((D=a.priority)==null?void 0:D.toString())||"3",expected_close_date:a.expected_close_date||""}),w(!1)},z=(Y,X)=>{if(Y===null)return"-";const D=X||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:D==="SAR"?"SAR":D}).format(Y)},L=Y=>Y?new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const F=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),F&&!b&&i.jsxs(ue,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ue,{onClick:I,variant:"outline",size:"sm",children:[i.jsx(jo,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(ue,{onClick:B,size:"sm",children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(yl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(To,{className:"grid w-full grid-cols-2",children:[i.jsx(Wr,{value:"overview",children:t("common.overview")}),i.jsx(Wr,{value:"notes",children:t("notes.title")})]}),i.jsx(yn,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(Ve,{id:"lead_name",value:E.lead_name,onChange:Y=>P(X=>({...X,lead_name:Y.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(ta,{id:"lead_description",value:E.lead_description,onChange:Y=>P(X=>({...X,lead_description:Y.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("leads.client")}),i.jsxs(yt,{value:E.client_user_id,onValueChange:Y=>P(X=>({...X,client_user_id:Y})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:t("leads.selectClient")})}),i.jsx(pt,{children:k.filter(Y=>Y.auth_user_id).map(Y=>i.jsx(Te,{value:Y.auth_user_id,children:Oe(Y,"user_name")},Y.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("common.stage")}),i.jsxs(yt,{value:E.stage,onValueChange:Y=>P(X=>({...X,stage:Y})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:t("leads.selectStage")})}),i.jsx(pt,{children:_.map(Y=>i.jsx(Te,{value:Y.stage_id.toString(),children:Oe(Y,"stage_name")},Y.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("leads.value")}),i.jsx(Ve,{type:"number",min:"0",step:"0.01",value:E.value,onChange:Y=>P(X=>({...X,value:Y.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("leads.currency")}),i.jsxs(yt,{value:E.currency,onValueChange:Y=>P(X=>({...X,currency:Y})),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"SAR",children:"SAR (.)"}),i.jsx(Te,{value:"USD",children:"USD ($)"}),i.jsx(Te,{value:"EUR",children:"EUR ()"}),i.jsx(Te,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("common.priority")}),i.jsxs(yt,{value:E.priority,onValueChange:Y=>P(X=>({...X,priority:Y})),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsxs(Te,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(Te,{value:"2",children:[" ",t("common.low")]}),i.jsxs(Te,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(Te,{value:"4",children:[" ",t("common.high")]}),i.jsxs(Te,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("leads.expectedCloseDate")}),i.jsx(Ve,{type:"date",value:E.expected_close_date,onChange:Y=>P(X=>({...X,expected_close_date:Y.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:t("leads.assignToEmployee")}),i.jsxs(yt,{value:E.assigned_to,onValueChange:Y=>P(X=>({...X,assigned_to:Y})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:t("leads.selectAssignee")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"unassigned",children:t("common.unassigned")}),N.filter(Y=>["employee","admin","manager","team_leader"].includes(Y.user_role)&&Y.auth_user_id).map(Y=>i.jsx(Te,{value:Y.auth_user_id,children:Oe(Y,"user_name")},Y.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Oe(a,"lead_name")}),Oe(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Oe(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(pR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx(gq,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(B0,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:z(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(Tn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Oe(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(pR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(ut,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Oe(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(wo,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:L(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Oe(c,"user_name")})]})]})]})}),i.jsx(yn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:G})})]})]})}function hx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Bt();const o=Jr();return i.jsxs("div",{className:be("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ie.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(st,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ie.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:be("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function ul({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ie.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const _P=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));_P.displayName="Table";const jP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));jP.displayName="TableHeader";const SP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));SP.displayName="TableBody";const Y3e=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Y3e.displayName="TableFooter";const gv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));gv.displayName="TableRow";const no=x.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:be("h-12 py-4 align-middle font-medium text-muted-foreground",Xt()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));no.displayName="TableHead";const ao=x.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:be("py-4 align-middle",Xt()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));ao.displayName="TableCell";const X3e=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));X3e.displayName="TableCaption";var rj="Checkbox",[Q3e,DHe]=is(rj),[Z3e,NP]=Q3e(rj);function J3e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=fc({prop:r,defaultProp:a??!1,onChange:c,caller:rj}),[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),w=p?!!o||!!p.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:p,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Eu(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:y};return i.jsx(Z3e,{scope:t,..._,children:eIe(f)?f(_):n})}var vq="CheckboxTrigger",xq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=NP(vq,e),g=$t(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":Eu(c)?"mixed":c,"aria-required":u,"data-state":jq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:tt(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:tt(r,y=>{f(b=>Eu(b)?!0:!b),p&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});xq.displayName=vq;var kP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(J3e,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(xq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(_q,{__scopeCheckbox:r})]})})});kP.displayName=rj;var yq="CheckboxIndicator",bq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=NP(yq,r);return i.jsx(Ra,{present:n||Eu(s.checked)||s.checked===!0,children:i.jsx(ct.span,{"data-state":jq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bq.displayName=yq;var wq="CheckboxBubbleInput",_q=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=NP(wq,e),p=$t(r,m),g=VT(s),v=IT(n);x.useEffect(()=>{const b=h;if(!b)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(g!==s&&j){const S=new Event("click",{bubbles:N});b.indeterminate=Eu(s),j.call(b,Eu(s)?!1:s),b.dispatchEvent(S)}},[h,g,s,a]);const y=x.useRef(Eu(s)?!1:s);return i.jsx(ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_q.displayName=wq;function eIe(e){return typeof e=="function"}function Eu(e){return e==="indeterminate"}function jq(e){return Eu(e)?"indeterminate":e?"checked":"unchecked"}const Kb=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(kP,{ref:n,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(bq,{className:be("flex items-center justify-center text-current"),children:t?i.jsx(vae,{className:"h-4 w-4"}):i.jsx(NT,{className:"h-4 w-4"})})}));Kb.displayName=kP.displayName;function vc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=Jr(),{t:h}=Bt(),[m,p]=x.useState(new Set);x.useEffect(()=>{const S=new Set(e.map(a));p(k=>{const C=new Set(k);for(const E of k)S.has(E)||C.delete(E);return C})},[e,a]);const g=S=>{const k=new Set(m);k.has(S)?k.delete(S):k.add(S),p(k)},v=()=>{m.size===e.length?p(new Set):p(new Set(e.map(a)))},y=()=>{p(new Set)},b=()=>e.filter(S=>m.has(a(S))),w=S=>{const k=r.filter(C=>!C.show||C.show(S));return k.length===0?null:i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,onClick:C=>C.stopPropagation(),children:i.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(lae,{className:"h-4 w-4"})})}),i.jsx(r_,{align:"end",children:k.map((C,E)=>i.jsxs(Vl,{onClick:P=>{P.stopPropagation(),C.onClick(S)},className:be(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&i.jsx("span",{className:"mr-2",children:C.icon}),C.label]},E))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return i.jsx("div",{className:be("space-y-3 w-full overflow-hidden",c),children:e.map((S,k)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(S),className:"w-full",children:l(S,w(S))},a(S)):i.jsx(st,{className:be("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(S),children:i.jsx(dt,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(C=>!C.hideOnMobile).map((C,E)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(S,k)})]},C.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:w(S)})]})})},a(S)))});const _=m.size,j=_===e.length&&e.length>0,N=_>0&&_<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&_>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((S,k)=>i.jsxs(ue,{variant:S.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>S.onClick(b()),className:be(S.variant==="destructive"&&"hover:bg-destructive/90"),children:[S.icon&&i.jsx("span",{className:"mr-2",children:S.icon}),S.label]},k)),i.jsx(ue,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:i.jsx(jo,{className:"h-4 w-4"})})]})]}),i.jsx(st,{className:be("overflow-hidden",c),children:i.jsx(dt,{className:"p-0",children:i.jsxs(_P,{children:[i.jsx(jP,{children:i.jsxs(gv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(no,{className:"w-12",children:i.jsx(Kb,{checked:j,indeterminate:N,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(S=>i.jsx(no,{className:be("font-semibold",S.className),children:S.header},S.key)),r.length>0&&i.jsx(no,{className:"w-[100px] text-right",children:h("common.actions")})]})}),i.jsx(SP,{children:e.map((S,k)=>{const C=a(S),E=m.has(C);return i.jsxs(gv,{className:be("group transition-colors",E&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(S),children:[u&&i.jsx(ao,{onClick:P=>P.stopPropagation(),children:i.jsx(Kb,{checked:E,onCheckedChange:()=>g(C),"aria-label":h("common.selectItem","Select item")})}),t.map(P=>i.jsx(ao,{className:be(P.className,"overflow-hidden"),children:P.render(S,k)},P.key)),r.length>0&&i.jsx(ao,{className:"text-right",children:i.jsx("div",{children:w(S)})})]},C)})})]})})})]})}function Sq({children:e,variant:t="secondary"}){return i.jsx(ut,{variant:t,className:"text-xs font-medium",children:e})}function Ym({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:be(!e&&"text-muted-foreground"),children:e||t})]})}function Af({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(wo,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function xc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ie.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function tIe({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function rIe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Bt(),m=Jr(),p=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),g=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs(zt,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"lead_name")}),Oe(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(ue,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Oi,{className:"h-4 w-4"})}),o&&i.jsxs(ii,{children:[i.jsx(dx,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(ue,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(hr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:v=>v.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:h("leads.deleteLead")}),i.jsx(Os,{children:h("leads.deleteConfirmation",{name:Oe(e,"lead_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:h("buttons.cancel")}),i.jsx(Ds,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx(gq,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(wo,{className:"h-3 w-3"}),i.jsx("span",{children:p(e.expected_close_date)})]})]})]}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(B0,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Tn,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Oe(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Oe(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Oe(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(Te,{value:(v.userid||v.userid||"").toString(),children:Oe(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(wo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:p(e.created_date)})]}),i.jsx(ut,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function nIe(){var ht,le,ge;Ms();const{hasRole:e,user:t}=gr(),r=Jr(),{t:n}=Bt(),{setBreadcrumbs:a}=Iv();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState(!0);x.useState(!1),x.useState("");const[g,v]=x.useState(null),[y,b]=x.useState(""),[w,_]=x.useState(null),[j,N]=x.useState(null),[S,k]=x.useState(!1),[C,E]=x.useState(null),[P,T]=x.useState("kanban"),[V,G]=x.useState(null),[B,I]=x.useState(""),[z,L]=x.useState("all"),[F,Y]=x.useState("all"),[X,D]=x.useState({from:void 0,to:void 0}),R=x.useMemo(()=>s.filter(U=>{const he=(U.lead_name||"").toLowerCase().includes(B.toLowerCase())||(U.lead_description||"").toLowerCase().includes(B.toLowerCase())||(U.client_name||"").toLowerCase().includes(B.toLowerCase()),je=F==="all"||U.assigned_to&&U.assigned_to===F;let Se=!0;if(X.from&&U.created_date){const Ue=new Date(U.created_date),Ne=new Date(X.from);Ne.setHours(0,0,0,0);const Ce=new Date(Ue);if(Ce.setHours(0,0,0,0),Se=Ce>=Ne,Se&&X.to){const ye=new Date(X.to);ye.setHours(23,59,59,999),Se=Ce<=ye}}else X.from&&!U.created_date&&(Se=!1);return he&&je&&Se}),[s,B,z,F,X]),[M,W]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{J()},[]),x.useEffect(()=>{if(f.length>0&&C===null){const U=f.find(he=>he.stage_id===1);U&&E(U.stage_id)}},[f,C]);const J=async()=>{try{p(!0);const[U,he,je,Se]=await Promise.all([gd.getAll(),wn.getAll(),FH.getAll(),Za.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:U.length,clients:je.length,users:he.length,stages:Se.length}),console.log("[Leads] Leads data:",U),console.log("[Leads] Stages data:",Se),o(U),c(je),d(he),h(Se)}catch(U){console.error("Failed to load data:",U)}finally{p(!1)}},re=async U=>{if(y.trim())try{await Za.update(U,{stage_name:y.trim()}),h(f.map(he=>he.stage_id===U?{...he,stage_name:y.trim()}:he)),v(null),b("")}catch(he){console.error("Failed to update stage:",he)}},xe=async U=>{if(s.filter(je=>je.stage===U).length>0){_(U);return}try{await Za.delete(U),h(f.filter(je=>je.stage_id!==U))}catch(je){console.error("Failed to delete stage:",je)}},se=async()=>{if(w)try{await Za.delete(w),h(f.filter(U=>U.stage_id!==w)),_(null),J()}catch(U){console.error("Failed to delete stage:",U)}},Q=U=>{N(U)},fe=U=>{U.preventDefault(),U.dataTransfer.dropEffect="move"},A=async U=>{if(!j)return;const he=s.find(je=>je.lead_id===j);if(he&&he.stage!==U)try{await gd.update(j,{stage:U}),o(s.map(je=>je.lead_id===j?{...je,stage:U}:je))}catch(je){console.error("Failed to update lead stage:",je)}N(null)},Be=async U=>{try{await gd.delete(U),o(s.filter(he=>he.lead_id!==U))}catch(he){console.error("Failed to delete lead:",he)}},Me=async(U,he)=>{const je=he||null,Se=je?new Date().toISOString():null,Ue=s.find(Ne=>Ne.lead_id===U);if(Ue){o(s.map(Ne=>Ne.lead_id===U?{...Ne,assigned_to:je,assigned_at:Se}:Ne));try{await gd.update(U,{assigned_to:je,assigned_at:Se})}catch(Ne){console.error("Failed to assign lead:",Ne),o(s.map(Ce=>Ce.lead_id===U?{...Ce,assigned_to:Ue.assigned_to,assigned_at:Ue.assigned_at}:Ce))}}},Le=U=>{W(he=>({...he,stage:U.toString()})),k(!0)},ze=async()=>{if(M.lead_name.trim())try{const U=M.assigned_to&&M.assigned_to!=="unassigned"?M.assigned_to:null,he=U?new Date().toISOString():null,je=fl({lead_name:M.lead_name.trim(),lead_description:M.lead_description.trim()||null,client_name:M.client_name.trim()||null,client_user_id:M.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(M.stage),assigned_to:U,assigned_at:he,value:M.value?parseFloat(M.value):null,currency:M.currency||"SAR",priority:M.priority?parseInt(M.priority):3,expected_close_date:M.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),Se=await gd.create(je);o([...s,Se]),W({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(U){console.error("Failed to create lead:",U)}},Re=f.filter(U=>U.stage_type==="leads").sort((U,he)=>{const je=U.stager_order_index??0,Se=he.stager_order_index??0;return je-Se}),gt=Re.map(U=>({id:U.stage_id,name:Oe(U,"stage_name"),color:U.color,count:R.filter(he=>he.stage===U.stage_id).length}));return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(Ka,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:P==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(ue,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(ue,{onClick:()=>k(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:i.jsx(Ka,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(U=>{const he=new Date(U.created_date),je=new Date;return he.getMonth()===je.getMonth()&&he.getFullYear()===je.getFullYear()}).length,icon:i.jsx(wo,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((U,he)=>U+(he.value||0),0).toLocaleString()}`,icon:i.jsx(B0,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((U,he)=>U+(he.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:i.jsx(B0,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(yP,{onSearch:I,onFilterAssignee:Y,onFilterDateRange:D,users:u}),P==="kanban"?i.jsxs(fx,{stages:gt,currentStageId:C||((ht=gt[0])==null?void 0:ht.id),onStageChange:E,children:[i.jsx(xn,{open:S,onOpenChange:k,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("leads.createLead")}),i.jsx(Pa,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ve,{value:M.lead_name,onChange:U=>W(he=>({...he,lead_name:U.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(ta,{value:M.lead_description,onChange:U=>W(he=>({...he,lead_description:U.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ve,{value:M.client_name,onChange:U=>W(he=>({...he,client_name:U.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(yt,{value:M.client_user_id,onValueChange:U=>W(he=>({...he,client_user_id:U})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("leads.selectClient")})}),i.jsx(pt,{children:l.filter(U=>U.userid||U.userid).map(U=>i.jsx(Te,{value:(U.userid||U.userid||"").toString(),children:Oe(U,"user_name")},U.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(Ve,{type:"number",min:"0",step:"0.01",value:M.value,onChange:U=>W(he=>({...he,value:U.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(yt,{value:M.currency,onValueChange:U=>W(he=>({...he,currency:U})),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"SAR",children:"SAR (.)"}),i.jsx(Te,{value:"USD",children:"USD ($)"}),i.jsx(Te,{value:"EUR",children:"EUR ()"}),i.jsx(Te,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(yt,{value:M.priority,onValueChange:U=>W(he=>({...he,priority:U})),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsxs(Te,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(Te,{value:"2",children:[" ",n("common.low")]}),i.jsxs(Te,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(Te,{value:"4",children:[" ",n("common.high")]}),i.jsxs(Te,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(Ve,{type:"date",value:M.expected_close_date,onChange:U=>W(he=>({...he,expected_close_date:U.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(yt,{value:M.assigned_to,onValueChange:U=>W(he=>({...he,assigned_to:U})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(U=>i.jsx(Te,{value:String(U.userid),children:Oe(U,"user_name")},U.userid))]})]})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(ue,{onClick:ze,disabled:!((le=M.lead_name)!=null&&le.trim()),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Re.filter(U=>{var he;return r?U.stage_id===(C||((he=gt[0])==null?void 0:he.id)):!0}).map((U,he)=>{var ye,Ae;const je=R.filter(Pe=>Pe.stage===U.stage_id),Se=je.reduce((Pe,Ze)=>Pe+(Ze.value||0),0),Ue=new Set(je.filter(Pe=>Pe.value!==null&&Pe.currency).map(Pe=>Pe.currency)),Ne=Ue.size===1?Array.from(Ue)[0]:"SAR",Ce=Pe=>new Intl.NumberFormat(void 0,{style:"currency",currency:Ne}).format(Pe);return je.length>0&&console.log(`[Leads] Stage ${U.stage_name} (${U.stage_id}): ${je.length} leads`),he===0&&R.length>0&&(console.log("[Leads] First lead structure:",R[0]),console.log("[Leads] Stage IDs:",f.map(Pe=>Pe.stage_id))),i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${he*.1}s`},onDragOver:fe,onDrop:()=>A(U.stage_id),children:[i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",U.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===U.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ve,{value:y,onChange:Pe=>b(Pe.target.value),onKeyDown:Pe=>{Pe.key==="Enter"&&re(U.stage_id),Pe.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>re(U.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Oe(U,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:je.length}),i.jsxs(i.Fragment,{children:[i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Le(U.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Zt,{className:"h-4 w-4"})}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{v(U.stage_id),b(Oe(U,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Oi,{className:"h-3 w-3"})}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>xe(U.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(hr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((ye=f.sort((Pe,Ze)=>(Pe.stager_order_index||0)-(Ze.stager_order_index||0))[0])==null?void 0:ye.stage_id)===U.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Le(U.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),je.map(Pe=>{const Ze=l.find(_t=>{var Ut,cr;return((Ut=_t.userid||_t.userid)==null?void 0:Ut.toString())===((cr=Pe.client_user_id)==null?void 0:cr.toString())}),Je=u.find(_t=>{var Ut,cr;return((Ut=_t.userid||_t.userid)==null?void 0:Ut.toString())===((cr=Pe.created_by)==null?void 0:cr.toString())}),vt=u.find(_t=>{var Ut,cr;return((Ut=_t.userid||_t.userid)==null?void 0:Ut.toString())===((cr=Pe.assigned_to)==null?void 0:cr.toString())});return i.jsx("div",{children:i.jsx(rIe,{lead:Pe,client:Ze||null,creator:Je||null,assignedUser:vt||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>Be(Pe.lead_id),onEdit:()=>G(Pe.lead_id),onAssign:Me,onClick:()=>G(Pe.lead_id),onDragStart:Q,isDragging:j===Pe.lead_id})},Pe.lead_id)}),((Ae=f.sort((Pe,Ze)=>(Pe.stager_order_index||0)-(Ze.stager_order_index||0))[0])==null?void 0:Ae.stage_id)!==U.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Le(U.stage_id),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(B0,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:Ce(Se)})]})})]},U.stage_id)})}),i.jsx(ii,{open:!!w,onOpenChange:()=>_(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("leads.deleteStage")}),i.jsx(Os,{children:n("leads.deleteStageConfirmation",{count:s.filter(U=>U.stage===w).length})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:se,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),i.jsx(xn,{open:S,onOpenChange:k,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("leads.createLead")}),i.jsx(Pa,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(Ve,{value:M.lead_name,onChange:U=>W(he=>({...he,lead_name:U.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(ta,{value:M.lead_description,onChange:U=>W(he=>({...he,lead_description:U.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(Ve,{value:M.client_name,onChange:U=>W(he=>({...he,client_name:U.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(yt,{value:M.client_user_id,onValueChange:U=>W(he=>({...he,client_user_id:U})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("leads.selectClient")})}),i.jsx(pt,{children:l.filter(U=>U.userid).map(U=>i.jsx(Te,{value:String(U.userid),children:Oe(U,"user_name")},U.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(yt,{value:M.assigned_to,onValueChange:U=>W(he=>({...he,assigned_to:U})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(U=>i.jsx(Te,{value:String(U.userid),children:Oe(U,"user_name")},U.userid))]})]})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(ue,{onClick:ze,disabled:!((ge=M.lead_name)!=null&&ge.trim()),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const U=[{key:"lead",header:n("leads.leadName"),render:Se=>i.jsx(xc,{title:Oe(Se,"lead_name"),subtitle:Oe(Se,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:Se=>i.jsx(tIe,{value:Se.value,currency:Se.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:Se=>{const Ue=l.find(Ne=>String(Ne.userid)===Se.client_user_id);return Ue?Oe(Ue,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:Se=>{const Ue=u.find(Ne=>String(Ne.userid)===Se.created_by);return i.jsx(Ym,{name:Ue?Oe(Ue,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:Se=>{const Ue=u.find(Ne=>String(Ne.userid)===Se.assigned_to);return i.jsx(Ym,{name:Ue?Oe(Ue,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:Se=>{const Ue=f.find(Ne=>Ne.stage_id===Se.stage);return Ue?Oe(Ue,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:Se=>i.jsx(Af,{date:Se.created_date,fallback:n("leads.notSet")})}],he=[{label:n("common.view"),icon:i.jsx(Js,{className:"h-4 w-4"}),onClick:Se=>G(Se.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:Se=>Be(Se.lead_id),variant:"destructive",show:()=>!0}],je=[{label:n("buttons.delete","Delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:Se=>{Se.forEach(Ue=>Be(Ue.lead_id))},variant:"destructive"}];return i.jsx(vc,{data:R,columns:U,actions:he,bulkActions:je,keyExtractor:Se=>Se.lead_id,onRowClick:Se=>G(Se.lead_id),enableBulkSelect:!0,emptyState:i.jsx(ul,{icon:i.jsx(Ka,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(ue,{onClick:()=>k(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(pl,{open:!!V,onOpenChange:()=>G(null),children:i.jsxs(Co,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Xt()?"left":"right",children:[i.jsxs(hc,{children:[i.jsx(gl,{children:n("leads.leadDetails")}),i.jsx(of,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:V&&i.jsx(K3e,{leadId:V})})]})})]})}const CP={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},aIe=()=>dT({queryKey:CP.users,queryFn:wn.getAll}),sIe=()=>dT({queryKey:CP.tasks,queryFn:Cd.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),iIe=e=>dT({queryKey:[...CP.stages,"type",e],queryFn:()=>Za.getByType(e)});function Dp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx($w,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(ue,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(Tg,{className:"h-4 w-4"}),"Try Again"]})]})}function oIe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var g,v;const{t:c}=Bt(),u=Jr(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(Jl,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(_d,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx($w,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,_=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},p=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:be("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),p(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx(zt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(ii,{children:[i.jsx(dx,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(ue,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(hr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:y=>y.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:"Delete Task"}),i.jsxs(Os,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:"Cancel"}),i.jsx(Ds,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Oe(t,"user_name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(pt,{children:r.map(y=>{var b;return i.jsx(Te,{value:((b=y.stage_id)==null?void 0:b.toString())||"",children:Oe(y,"stage_name")},y.stage_id)})})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(wo,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function lIe(){var se;Ms();const{hasRole:e,user:t,loading:r}=gr(),{t:n}=Bt(),a=Jr(),[s,o]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[p,g]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[b,w]=x.useState("all"),[_,j]=x.useState("all"),[N,S]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:C,error:E}=sIe(),{data:P=[],isLoading:T,error:V}=aIe(),{data:G=[],isLoading:B,error:I}=iIe("tasks"),z=x.useMemo(()=>k.filter(Q=>{const fe=Q.task_name.toLowerCase().includes(v.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(v.toLowerCase()),A=b==="all"||Q.task_status===b,Be=_==="all"||Q.assigned_to&&Q.assigned_to.toString()===_;let Me=!0;if(N.from&&Q.due_date){const Le=new Date(Q.due_date),ze=new Date(N.from);ze.setHours(0,0,0,0);const Re=new Date(Le);if(Re.setHours(0,0,0,0),Me=Re>=ze,Me&&N.to){const gt=new Date(N.to);gt.setHours(23,59,59,999),Me=Re<=gt}}else N.from&&!Q.due_date&&(Me=!1);return fe&&A&&Be&&Me}),[k,v,b,_,N]),L=G.sort((Q,fe)=>{const A=Q.stager_order_index??0,Be=fe.stager_order_index??0;return A-Be}).map(Q=>({id:Q.stage_id,name:Oe(Q,"stage_name"),color:Q.color,count:z.filter(fe=>fe.stage_id===Q.stage_id).length})),F=C||T||B||r,Y=(E==null?void 0:E.message)||(V==null?void 0:V.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:F,data:{tasks:k.length,users:P.length,stages:G.length}});const X=()=>{},D=async Q=>{try{await Cd.delete(Q),X()}catch(fe){console.error("Failed to delete task:",fe)}},R=Q=>{f(Q)},M=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},W=async Q=>{if(!d)return;const fe=k.find(A=>A.task_id===d);if(fe&&fe.stage_id!==Q)try{await Cd.update(d,{stage_id:Q}),X()}catch(A){console.error("Failed to update task stage:",A)}f(null)},J=async(Q,fe)=>{const A=k.find(Be=>Be.task_id===Q);if(A&&A.stage_id!==fe)try{await Cd.update(Q,{stage_id:fe}),X()}catch(Be){console.error("Failed to update task stage:",Be)}},re=async()=>{if(p.task_name.trim())try{const Q=fl({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await Cd.create(Q),X(),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(Q){console.error("Failed to create task:",Q)}},xe=!0;return x.useEffect(()=>{if(G.length>0&&s===null){const Q=G.sort((fe,A)=>(fe.stager_order_index??0)-(A.stager_order_index??0));Q.length>0&&o(Q[0].stage_id)}},[G,s]),F||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:n("common.loading"),size:"2xl"})}):Y?i.jsx(Dp,{message:Y}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(U0,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(ue,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(ue,{onClick:()=>m(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(U0,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(Q=>Q.task_status==="todo").length,icon:i.jsx($w,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(Q=>Q.task_status==="in_progress").length,icon:i.jsx(_d,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(Q=>Q.task_status==="done").length,icon:i.jsx(Jl,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(yP,{onSearch:y,onFilterStatus:w,onFilterAssignee:j,onFilterDateRange:S,users:P,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?i.jsxs(fx,{stages:L,currentStageId:s||((se=L[0])==null?void 0:se.id),onStageChange:o,children:[i.jsx(xn,{open:h,onOpenChange:m,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("tasks.createTask")}),i.jsx(Pa,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ve,{value:p.task_name,onChange:Q=>g(fe=>({...fe,task_name:Q.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(ta,{value:p.description,onChange:Q=>g(fe=>({...fe,description:Q.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(yt,{value:p.assigned_to,onValueChange:Q=>g(fe=>({...fe,assigned_to:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectUser")})}),i.jsx(pt,{children:P.map(Q=>{var fe;return i.jsx(Te,{value:((fe=Q.user_id)==null?void 0:fe.toString())||"",children:Oe(Q,"user_name")},Q.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(yt,{value:p.stage_id,onValueChange:Q=>g(fe=>({...fe,stage_id:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectStage")})}),i.jsx(pt,{children:G.map(Q=>{var fe;return i.jsx(Te,{value:((fe=Q.stage_id)==null?void 0:fe.toString())||"",children:Oe(Q,"stage_name")},Q.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(yt,{value:p.task_status,onValueChange:Q=>g(fe=>({...fe,task_status:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"todo",children:n("tasks.todo")}),i.jsx(Te,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Te,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ve,{type:"date",value:p.due_date,onChange:Q=>g(fe=>({...fe,due_date:Q.target.value}))})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(ue,{onClick:re,disabled:!p.task_name.trim(),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:G.sort((Q,fe)=>{const A=Q.stager_order_index??0,Be=fe.stager_order_index??0;return A-Be}).filter(Q=>{var fe;return a?Q.stage_id===(s||((fe=L[0])==null?void 0:fe.id)):!0}).map((Q,fe)=>{var Be,Me;const A=z.filter(Le=>Le.stage_id===Q.stage_id);return i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:M,onDrop:()=>W(Q.stage_id),children:[i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Q.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(Q,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:A.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Be=G.sort((Le,ze)=>(Le.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:Be.stage_id)===Q.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),A.map(Le=>{const ze=P.find(Re=>Re.user_id===Le.assigned_to);return i.jsx("div",{draggable:xe,onDragStart:()=>R(Le.task_id),className:"cursor-move",children:i.jsx(oIe,{task:Le,assignedUser:ze||null,stages:G,onDelete:()=>D(Le.task_id),onClick:()=>{console.log("Task clicked:",Le.task_id)},onDragStart:R,onStageChange:J,isDragging:d===Le.task_id})},Le.task_id)}),((Me=G.sort((Le,ze)=>(Le.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:Me.stage_id)!==Q.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},Q.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(xn,{open:h,onOpenChange:m,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("tasks.createTask")}),i.jsx(Pa,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(Ve,{value:p.task_name,onChange:Q=>g(fe=>({...fe,task_name:Q.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(ta,{value:p.description,onChange:Q=>g(fe=>({...fe,description:Q.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(yt,{value:p.assigned_to,onValueChange:Q=>g(fe=>({...fe,assigned_to:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectUser")})}),i.jsx(pt,{children:P.map(Q=>{var fe;return i.jsx(Te,{value:((fe=Q.user_id)==null?void 0:fe.toString())||"",children:Oe(Q,"user_name")},Q.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(yt,{value:p.stage_id,onValueChange:Q=>g(fe=>({...fe,stage_id:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectStage")})}),i.jsx(pt,{children:G.map(Q=>{var fe;return i.jsx(Te,{value:((fe=Q.stage_id)==null?void 0:fe.toString())||"",children:Oe(Q,"stage_name")},Q.stage_id)})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(yt,{value:p.task_status,onValueChange:Q=>g(fe=>({...fe,task_status:Q})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"todo",children:n("tasks.todo")}),i.jsx(Te,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Te,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(Ve,{type:"date",value:p.due_date,onChange:Q=>g(fe=>({...fe,due_date:Q.target.value}))})]})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(ue,{onClick:re,disabled:!p.task_name.trim(),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const Q=[{key:"task",header:n("tasks.taskName"),render:A=>i.jsx(xc,{title:A.task_name,subtitle:A.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:A=>{const Be=P.find(Me=>Me.user_id===A.assigned_to);return i.jsx(Ym,{name:Be?Oe(Be,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:A=>i.jsx(Sq,{variant:u(A.task_status),children:A.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:A=>i.jsx(Af,{date:A.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:A=>{const Be=G.find(Me=>Me.stage_id===A.stage_id);return Be?Oe(Be,"stage_name"):n("leads.unknown")}}],fe=[{label:n("common.view"),icon:i.jsx(Js,{className:"h-4 w-4"}),onClick:A=>console.log("View task:",A.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:A=>D(A.task_id),variant:"destructive"}];return i.jsx(vc,{data:z,columns:Q,actions:fe,keyExtractor:A=>A.task_id,emptyState:i.jsx(ul,{icon:i.jsx(U0,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(ue,{onClick:()=>m(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function eL(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const UC=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},cIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,uIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(YN,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(YN,{className:"h-3 w-3 text-orange-500"});default:return null}};function tL({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=Bt(),d=Jr();return i.jsxs(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx(zt,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),uIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(ii,{children:[i.jsx(dx,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(ue,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(hr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:f=>f.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(Os,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:u("buttons.cancel")}),i.jsx(Ds,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(ut,{variant:"outline",className:"text-xs",children:c}),i.jsx(ut,{variant:UC(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(ut,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Oe(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(wo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:cIe(e.created_date,u("leads.unknown"))})]})})]})]})}function dIe(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[p,g]=x.useState("all"),[v,y]=x.useState("all"),[b,w]=x.useState(!1),[_,j]=x.useState(null),[N,S]=x.useState(!1),[k,C]=x.useState(!1),E=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),P=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:V,reset:G,setValues:B}=eL(E),{values:I,setField:z,reset:L,setValues:F}=eL(P),[Y,X]=x.useState(null),[D,R]=x.useState(null),[M,W]=x.useState("kanban"),[J,re]=x.useState(""),[xe,se]=x.useState(!1),{user:Q,loading:fe}=gr(),{t:A}=Bt(),Be=Jr();x.useEffect(()=>{Q&&!fe&&Me()},[Q,fe]),x.useEffect(()=>{if(a.length>0&&D===null){const ye=a.filter(Ae=>Ae.stage_type==="tickets");ye.length>0&&R(ye[0].stage_id)}},[a,D]);const Me=async()=>{try{l(!0),u(null);const[ye,Ae,Pe]=await Promise.all([l0.getAll().catch(Ze=>(console.error("[Tickets] Error fetching tickets:",Ze),[])),wn.getAll().catch(Ze=>(console.error("[Tickets] Error fetching users:",Ze),[])),Za.getByType("tickets").catch(Ze=>(console.error("[Tickets] Error fetching stages:",Ze),[]))]);if(t(ye),n(Ae),s(Pe),Pe.length>0){const Ze=[...Pe].sort((Je,vt)=>(Je.stager_order_index||0)-(vt.stager_order_index||0));B(Je=>{var vt;return{...Je,stage_id:Je.stage_id||((vt=Ze[0].stage_id)==null?void 0:vt.toString())||""}})}}catch(ye){console.error("[Tickets] Failed to load data:",ye),u(ye.message||A("common.error"))}finally{l(!1)}},Le=ye=>ye&&r.find(Ae=>Ae.user_id===ye)||null,ze=async ye=>{var Ae,Pe;if(ye.preventDefault(),!(xe||!Q)){re(""),se(!0);try{const Ze=T.assigned_to?parseInt(T.assigned_to):null,Je=r.find(cr=>cr.user_id===Ze),vt={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ae=Q.profile)==null?void 0:Ae.user_id)||null,assigned_to:Ze,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},_t=await l0.create(vt);t([_t,...e]);const Ut=a.length>0&&((Pe=[...a].sort((cr,en)=>(cr.stager_order_index||0)-(en.stager_order_index||0))[0].stage_id)==null?void 0:Pe.toString())||"";G({...E,stage_id:Ut}),w(!1)}catch(Ze){re(Ze.message||A("tickets.createError"))}finally{se(!1)}}},Re=ye=>{var Ae,Pe;j(ye),C(!1),F({...P,subject:ye.subject||"",description:ye.description||"",priority:ye.priority||"medium",ticket_type:ye.ticket_type||"request",assigned_to:((Ae=ye.assigned_to)==null?void 0:Ae.toString())||"unassigned",stage_id:((Pe=ye.stage_id)==null?void 0:Pe.toString())||""}),S(!0)},gt=async()=>{if(!(!_||xe)){re(""),se(!0);try{const ye=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,Ae=r.find(Pe=>Pe.user_id===ye);await l0.update(_.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ye,stage_id:I.stage_id?parseInt(I.stage_id):null}),t(e.map(Pe=>Pe.ticket_id===_.ticket_id?{...Pe,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ye,stage_id:I.stage_id?parseInt(I.stage_id):null}:Pe)),j(Pe=>Pe?{...Pe,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:ye,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),C(!1)}catch(ye){re(ye.message||A("tickets.updateError","Failed to update ticket"))}finally{se(!1)}}},ht=async ye=>{try{await l0.delete(ye),t(e.filter(Ae=>Ae.ticket_id!==ye))}catch(Ae){console.error("[Tickets] Failed to delete ticket:",Ae)}},le=ye=>{X(ye)},ge=()=>{X(null)},U=ye=>{ye.preventDefault(),ye.dataTransfer.dropEffect="move"},he=async ye=>{if(!Y)return;const Ae=e.find(Pe=>Pe.ticket_id===Y);if(Ae&&Ae.stage_id!==ye){t(Pe=>Pe.map(Ze=>Ze.ticket_id===Y?{...Ze,stage_id:ye}:Ze));try{await l0.moveToStage(Y,ye)}catch(Pe){console.error("Failed to update ticket stage:",Pe),t(Ze=>Ze.map(Je=>Je.ticket_id===Y?{...Je,stage_id:Ae.stage_id}:Je))}}X(null)},je=x.useMemo(()=>e.filter(ye=>{var vt,_t,Ut;const Ae=((vt=ye.subject)==null?void 0:vt.toLowerCase().includes(d.toLowerCase()))||((_t=ye.description)==null?void 0:_t.toLowerCase().includes(d.toLowerCase())),Pe=h==="all"||ye.priority===h,Ze=p==="all"||ye.ticket_type===p,Je=v==="all"||((Ut=ye.stage_id)==null?void 0:Ut.toString())===v;return Ae&&Pe&&Ze&&Je}),[e,d,h,p,v]),Se=x.useMemo(()=>a.filter(ye=>ye.stage_type==="tickets").sort((ye,Ae)=>{const Pe=ye.stager_order_index??0,Ze=Ae.stager_order_index??0;return Pe-Ze}),[a]),Ue=x.useMemo(()=>Se.map(ye=>({id:ye.stage_id,name:Oe(ye,"stage_name"),color:ye.color,count:je.filter(Ae=>Ae.stage_id===ye.stage_id).length})),[Se,je]),Ne=()=>{var ye;return Se.length===0?i.jsx(ul,{icon:i.jsx(eh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noStages","No ticket stages found"),description:A("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(fx,{stages:Ue,currentStageId:D||((ye=Ue[0])==null?void 0:ye.id),onStageChange:R,children:[i.jsx("div",{className:be("flex gap-4 pb-4 overflow-x-auto",Be?"hidden":"flex"),children:Se.map(Ae=>{const Pe=je.filter(vt=>vt.stage_id===Ae.stage_id),Ze=Ae.color||"border-l-4 border-gray-400",Je=Oe(Ae,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:U,onDrop:()=>he(Ae.stage_id),children:[i.jsx("div",{className:be("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Ze),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Oe(Ae,"stage_name")}),i.jsx(ut,{variant:"secondary",className:"text-xs",children:Pe.length})]}),i.jsx(ue,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{B(vt=>{var _t;return{...vt,stage_id:((_t=Ae.stage_id)==null?void 0:_t.toString())||""}}),w(!0)},children:i.jsx(Zt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[Pe.map(vt=>i.jsx(tL,{ticket:vt,assignedUser:Le(vt.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:ht,onClick:()=>Re(vt),onDragStart:le,onDragEnd:ge,isDragging:Y===vt.ticket_id,stageName:Je},vt.ticket_id)),Pe.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:A("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ae.stage_id)})}),Be&&D&&i.jsxs("div",{className:"space-y-3 p-2",children:[je.filter(Ae=>Ae.stage_id===D).map(Ae=>{var Pe;return i.jsx(tL,{ticket:Ae,assignedUser:Le(Ae.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:ht,onClick:()=>Re(Ae),onDragStart:le,onDragEnd:ge,isDragging:Y===Ae.ticket_id,stageName:((Pe=Ue.find(Ze=>Ze.id===D))==null?void 0:Pe.name)||null},Ae.ticket_id)}),je.filter(Ae=>Ae.stage_id===D).length===0&&i.jsx(ul,{icon:i.jsx(eh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInStage","No tickets in this stage"),description:A("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(ue,{onClick:()=>{B(Ae=>({...Ae,stage_id:(D==null?void 0:D.toString())||""})),w(!0)},children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})})]})]})},Ce=()=>{const ye=[{key:"ticket",header:A("tickets.subject","Subject"),render:Pe=>i.jsx(xc,{title:Pe.subject||A("tickets.noSubject","No Subject"),subtitle:Pe.description})},{key:"priority",header:A("tickets.priority","Priority"),render:Pe=>i.jsx(Sq,{variant:UC(Pe.priority),children:Pe.priority||A("leads.unknown")})},{key:"type",header:A("tickets.ticketType","Type"),hideOnMobile:!0,render:Pe=>i.jsx(ut,{variant:"outline",className:"text-xs",children:Pe.ticket_type||A("leads.unknown")})},{key:"assignee",header:A("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Pe=>{const Ze=Le(Pe.assigned_to);return i.jsx(Ym,{name:Ze?Oe(Ze,"user_name"):null,fallback:A("tickets.unassigned","Unassigned")})}},{key:"stage",header:A("tickets.stage","Stage"),hideOnMobile:!0,render:Pe=>{const Ze=Se.find(Je=>Je.stage_id===Pe.stage_id);return Ze?Oe(Ze,"stage_name"):A("tickets.noStage","No stage")}},{key:"created",header:A("tickets.createdDate","Created"),hideOnMobile:!0,render:Pe=>i.jsx(Af,{date:Pe.created_date,fallback:A("leads.notSet","Not set")})}],Ae=[{label:A("common.view","View"),icon:i.jsx(Js,{className:"h-4 w-4"}),onClick:Re},{label:A("buttons.delete","Delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:Pe=>ht(Pe.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(vc,{data:je,columns:ye,actions:Ae,keyExtractor:Pe=>Pe.ticket_id,onRowClick:Re,emptyState:i.jsx(ul,{icon:i.jsx(eh,{className:"h-12 w-12 text-muted-foreground/50"}),title:A("tickets.noTicketsInPage"),description:A("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(ue,{onClick:()=>w(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket","New Ticket")]})})})};return o||fe?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:A("common.loading"),size:"2xl"})}):Q?c?i.jsx(Dp,{title:A("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Me}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:A("tickets.title"),description:A("tickets.description","Manage and track support tickets"),icon:i.jsx(eh,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:M==="kanban"?"default":"ghost",size:"sm",onClick:()=>W("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(ue,{variant:M==="list"?"default":"ghost",size:"sm",onClick:()=>W("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(ue,{onClick:()=>w(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),A("tickets.newTicket")]})]}),stats:[{label:A("tickets.total","Total Tickets"),value:e.length,icon:i.jsx(eh,{className:"h-4 w-4 text-primary"})},...Se.map(ye=>({label:Oe(ye,"stage_name"),value:e.filter(Ae=>Ae.stage_id===ye.stage_id).length,icon:i.jsx(Vo,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:A("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:ye=>f(ye.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(yt,{value:v,onValueChange:y,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allStages","All Stages")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allStages","All Stages")}),Se.map(ye=>{var Ae;return i.jsx(Te,{value:((Ae=ye.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ye,"stage_name")},ye.stage_id)})]})]}),i.jsxs(yt,{value:p,onValueChange:g,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allTypes")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allTypes","All Types")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue","Issue")}),i.jsx(Te,{value:"request",children:A("tickets.typeRequest","Request")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp","Follow Up")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(yt,{value:h,onValueChange:m,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:A("tickets.allPriorities")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:A("tickets.allPriorities","All Priorities")}),i.jsx(Te,{value:"low",children:A("tickets.priorityLow","Low")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium","Medium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh","High")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:M==="kanban"?Ne():Ce()}),i.jsx(xn,{open:b,onOpenChange:w,children:i.jsxs(sn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:A("tickets.createNewTicket")}),i.jsx(Pa,{children:A("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[J&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:J})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"subject",children:[A("tickets.subject")," *"]}),i.jsx(Ve,{id:"subject",value:T.subject,onChange:ye=>V("subject",ye.target.value),placeholder:A("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"description",children:A("tickets.description")}),i.jsx(ta,{id:"description",value:T.description,onChange:ye=>V("description",ye.target.value),placeholder:A("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"stage",children:A("tickets.stage","Stage")}),i.jsxs(yt,{value:T.stage_id,onValueChange:ye=>V("stage_id",ye),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),i.jsx(pt,{children:Se.map(ye=>{var Ae;return i.jsx(Te,{value:((Ae=ye.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ye,"stage_name")},ye.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"priority",children:[A("tickets.priority")," *"]}),i.jsxs(yt,{value:T.priority,onValueChange:ye=>V("priority",ye),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"low",children:A("tickets.priorityLow")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"ticket_type",children:[A("tickets.ticketType")," *"]}),i.jsxs(yt,{value:T.ticket_type,onValueChange:ye=>V("ticket_type",ye),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"request",children:A("tickets.typeRequest")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"assigned_to",children:A("tickets.assignTo")}),i.jsxs(yt,{value:T.assigned_to,onValueChange:ye=>V("assigned_to",ye),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),i.jsx(pt,{children:r.map(ye=>{var Ae;return i.jsx(Te,{value:((Ae=ye.user_id)==null?void 0:Ae.toString())||"",children:Oe(ye,"user_name")},ye.user_id)})})]})]})]}),i.jsxs(Aa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ue,{type:"button",variant:"outline",onClick:()=>w(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),i.jsx(ue,{type:"submit",disabled:xe||!T.subject.trim(),className:"w-full sm:w-auto",children:A(xe?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(xn,{open:N,onOpenChange:S,children:i.jsxs(sn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(on,{children:[i.jsx(ln,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),i.jsx(ut,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||A("leads.unknown")})]})}),i.jsxs(Pa,{className:"text-sm",children:[A("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[J&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:J})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"edit-subject",children:[A("tickets.subject")," *"]}),i.jsx(Ve,{id:"edit-subject",value:I.subject,onChange:ye=>z("subject",ye.target.value),placeholder:A("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"edit-description",children:A("tickets.description")}),i.jsx(ta,{id:"edit-description",value:I.description,onChange:ye=>z("description",ye.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:A("tickets.stage","Stage")}),i.jsxs(yt,{value:I.stage_id,onValueChange:ye=>z("stage_id",ye),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:A("tickets.selectStage","Select stage")})}),i.jsx(pt,{children:Se.map(ye=>{var Ae;return i.jsx(Te,{value:((Ae=ye.stage_id)==null?void 0:Ae.toString())||"",children:Oe(ye,"stage_name")},ye.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:A("tickets.priority")}),i.jsxs(yt,{value:I.priority,onValueChange:ye=>z("priority",ye),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"low",children:A("tickets.priorityLow")}),i.jsx(Te,{value:"medium",children:A("tickets.priorityMedium")}),i.jsx(Te,{value:"high",children:A("tickets.priorityHigh")}),i.jsx(Te,{value:"urgent",children:A("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:A("tickets.ticketType")}),i.jsxs(yt,{value:I.ticket_type,onValueChange:ye=>z("ticket_type",ye),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"request",children:A("tickets.typeRequest")}),i.jsx(Te,{value:"follow_up",children:A("tickets.typeFollowUp")}),i.jsx(Te,{value:"issue",children:A("tickets.typeIssue")}),i.jsx(Te,{value:"internal_task",children:A("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:A("tickets.assignTo")}),i.jsxs(yt,{value:I.assigned_to,onValueChange:ye=>z("assigned_to",ye),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:A("tickets.selectAssignee")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"unassigned",children:A("tickets.unassigned","Unassigned")}),r.map(ye=>{var Ae;return i.jsx(Te,{value:((Ae=ye.user_id)==null?void 0:Ae.toString())||"",children:Oe(ye,"user_name")},ye.user_id)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(ut,{variant:UC(_.priority),className:"text-xs",children:_.priority||A("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(ut,{variant:"outline",className:"text-xs",children:_.ticket_type||A("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:Se.find(ye=>ye.stage_id===_.stage_id)?Oe(Se.find(ye=>ye.stage_id===_.stage_id),"stage_name"):A("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Le(_.assigned_to)?Oe(Le(_.assigned_to),"user_name"):A("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Le(_.created_by)?Oe(Le(_.created_by),"user_name"):A("leads.unknown")})]}),_.resolved_date&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:A("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),i.jsx(Aa,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(ue,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:A("buttons.cancel")}),i.jsxs(ue,{onClick:gt,disabled:xe||!I.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),xe?A("buttons.saving","Saving..."):A("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(ue,{variant:"outline",onClick:()=>S(!1),className:"w-full sm:w-auto",children:A("buttons.close","Close")}),i.jsxs(ue,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),A("buttons.edit","Edit")]})]})})]})})]}):null}var EP="Progress",TP=100,[fIe,RHe]=is(EP),[hIe,mIe]=fIe(EP),Nq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=pIe,...o}=e;(a||a===0)&&!rL(a)&&console.error(gIe(`${a}`,"Progress"));const l=rL(a)?a:TP;n!==null&&!nL(n,l)&&console.error(vIe(`${n}`,"Progress"));const c=nL(n,l)?n:null,u=Yb(c)?s(c,l):void 0;return i.jsx(hIe,{scope:r,value:c,max:l,children:i.jsx(ct.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Yb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Eq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Nq.displayName=EP;var kq="ProgressIndicator",Cq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=mIe(kq,r);return i.jsx(ct.div,{"data-state":Eq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Cq.displayName=kq;function pIe(e,t){return`${Math.round(e/t*100)}%`}function Eq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Yb(e){return typeof e=="number"}function rL(e){return Yb(e)&&!isNaN(e)&&e>0}function nL(e,t){return Yb(e)&&!isNaN(e)&&e<=t&&e>=0}function gIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TP}\`.`}function vIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Tq=Nq,xIe=Cq;const mf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Tq,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(xIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));mf.displayName=Tq.displayName;function yIe({projectId:e,onClose:t}){const{id:r}=Gte(),n=Ms(),{user:a}=gr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(null),[w,_]=x.useState([]),[j,N]=x.useState([]),S=e||(r?parseInt(r):null),k=!!e;x.useEffect(()=>{(async()=>{!S||!a||h(!0)})()},[S,a]),x.useEffect(()=>{S&&f&&C()},[S,f]);const C=async()=>{if(S)try{d(!0);const B=await zc.getById(S);if(p(B),B){if(B.created_by)try{const I=await wn.getByAuthId(B.created_by.toString());v(I)}catch(I){console.error("Failed to fetch client:",I)}if(B.created_by)try{const I=await wn.getByAuthId(B.created_by.toString());b(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const z=(await P3e.getProjectUsers(S)).map(F=>F.userid),L=await Promise.all(z.map(F=>F?wn.getByAuthId(F.toString()).catch(()=>null):null));_(L.filter(F=>F!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const L=(await Za.getAll()).filter(X=>X.project_id===S).map(X=>X.stage_id),Y=(await Promise.all(L.map(X=>Cd.getByStage(X)))).flat();N(Y)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(B){console.error("Failed to load project data:",B)}finally{d(!1)}};x.useEffect(()=>{S&&m&&j.length>0&&E()},[S,m,j]);const E=async()=>{if(!(!S||!m||j.length===0))try{const B=[];for(const I of j){const z=await BC.getByTask(I.task_id);B.push(...z)}o(B)}catch(B){console.error("Failed to load comments:",B)}},P=async B=>{if(!(!l.trim()||!a))try{const I=await BC.create({task_id:B,userid:a.id.toString(),message:l.trim()});o(z=>[...z,I]),c("")}catch(I){console.error("Failed to add comment:",I)}},T=()=>{t?t():n("/projects")},V=({children:B})=>k?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:B}):i.jsx(dk,{children:B});if(f===!1)return i.jsx(V,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(ue,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!g||!y)return u?i.jsx(V,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(V,{children:i.jsx("div",{children:"Project not found"})});const G={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(V,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ue,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(gB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Oe(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Oe(g,"company_name")})]})]}),i.jsx(ue,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(st,{children:i.jsxs(dt,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(mf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(yl,{defaultValue:"tasks",children:[i.jsxs(To,{className:"w-full sm:w-auto",children:[i.jsx(Wr,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(Wr,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(Wr,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(yn,{value:"tasks",className:"space-y-3",children:[j.map(B=>{var z;const I=w.find(L=>L.user_id===B.assigned_to);return i.jsx(st,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Oe(B,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Oe(B,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(ut,{className:be("text-xs",G[B.task_status]),children:((z=B.task_status)==null?void 0:z.replace("_"," "))||"todo"}),B.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(wo,{className:"h-3 w-3"}),"Due: ",new Date(B.due_date).toLocaleDateString()]})]})]}),I&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Oe(I,"user_name")]})]})})},B.task_id)}),i.jsx(ue,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(yn,{value:"images",children:i.jsx(st,{children:i.jsxs(dt,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(B=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},B))}),i.jsxs(ue,{variant:"outline",className:"w-full mt-4",children:[i.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(yn,{value:"comments",className:"space-y-3",children:[s.map(B=>{const I=[...w,g,y].find(z=>{var L,F,Y,X;return z&&(((L=z.userid)==null?void 0:L.toString())===((F=B.userid)==null?void 0:F.toString())||((Y=z.user_id)==null?void 0:Y.toString())===((X=B.userid)==null?void 0:X.toString()))});return i.jsx(st,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:I?Oe(I,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:B.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(B.created_date||"").toLocaleString()})]})]})})},B.comment_id)}),j.length>0&&i.jsx(st,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ve,{placeholder:"Add a comment...",value:l,onChange:B=>c(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),P(j[0].task_id))}}),i.jsx(ue,{size:"icon",onClick:()=>P(j[0].task_id),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:g.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Oe(g,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Oe(g,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Oe(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:w.map(B=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:B.avatar||""}),i.jsx("div",{className:"text-sm",children:Oe(B,"user_name")})]},B.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(dt,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function bIe({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:o,onStageChange:l,isDragging:c=!1}){const{t:u}=Bt(),d=Jr(),f=e.progress||0,h=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=g=>{if(!g)return null;const v=new Date,b=(new Date(g).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},p=g=>{switch(m(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(st,{className:be("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),p(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:g=>{o&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[i.jsx(zt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Oe(e,"project_name")}),Oe(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Oe(e,"project_description")})]}),a&&i.jsxs(ii,{children:[i.jsx(dx,{asChild:!0,onClick:g=>g.stopPropagation(),children:i.jsx(ue,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(hr,{className:"h-4 w-4"})})}),i.jsxs(Es,{onClick:g=>g.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:u("projects.deleteProject")}),i.jsx(Os,{children:u("projects.deleteConfirmation",{name:Oe(e,"project_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:u("buttons.cancel")}),i.jsx(Ds,{onClick:g=>{g.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(mf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(An,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&i.jsx("div",{className:"pt-1",children:i.jsxs(yt,{value:e.stage.toString(),onValueChange:g=>l(e.project_id,parseInt(g)),children:[i.jsx(mt,{className:"h-7 text-xs",children:i.jsx(bt,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(pt,{children:n.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>i.jsx(Te,{value:g.stage_id.toString(),children:Oe(g,"stage_name")},g.stage_id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(wo,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(ut,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(ut,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(ut,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function wIe(){var Se,Ue;Ms();const{hasRole:e,user:t}=gr();Da();const{t:r}=Bt(),n=Jr(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,w]=x.useState(""),[_,j]=x.useState(null),[N,S]=x.useState(null),[k,C]=x.useState(!1),[E,P]=x.useState(null),[T,V]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[G,B]=x.useState(!1),[I,z]=x.useState({project_name:"",project_description:"",client_id:""}),[L,F]=x.useState("kanban"),[Y,X]=x.useState(null),[D,R]=x.useState(""),[M,W]=x.useState("all"),[J,re]=x.useState("all"),[xe,se]=x.useState({from:void 0,to:void 0}),Q=x.useMemo(()=>a.filter(Ne=>{const Ce=(Ne.project_name||"").toLowerCase().includes(D.toLowerCase())||(Ne.project_description||"").toLowerCase().includes(D.toLowerCase());let ye=!0;M==="todo"?ye=(Ne.progress||0)===0:M==="in_progress"?ye=(Ne.progress||0)>0&&(Ne.progress||0)<100:M==="done"&&(ye=(Ne.progress||0)===100);const Ae=J==="all"||Ne.created_by&&Ne.created_by.toString()===J;let Pe=!0;if(xe.from&&Ne.end_date){const Ze=new Date(Ne.end_date),Je=new Date(xe.from);Je.setHours(0,0,0,0);const vt=new Date(Ze);if(vt.setHours(0,0,0,0),Pe=vt>=Je,Pe&&xe.to){const _t=new Date(xe.to);_t.setHours(23,59,59,999),Pe=vt<=_t}}else xe.from&&!Ne.end_date&&(Pe=!1);return Ce&&ye&&Ae&&Pe}),[a,D,M,J,xe]);x.useEffect(()=>{fe()},[]),x.useEffect(()=>{if(d.length>0&&E===null){const Ne=d.find(Ce=>Ce.stage_id===5);Ne&&P(Ne.stage_id)}},[d,E]);const fe=async()=>{try{m(!0),g(null);const[Ne,Ce,ye,Ae]=await Promise.all([zc.getAll(),FH.getAll(),wn.getAll(),Za.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:Ne.length,clients:Ce.length,users:ye.length,stages:Ae.length}),console.log("[Projects] Projects data:",Ne),console.log("[Projects] Stages data:",Ae),s(Ne),l(Ce),u(ye),f(Ae)}catch(Ne){console.error("Failed to load data:",Ne),g(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},A=async Ne=>{if(b.trim())try{await Za.update(Ne,{stage_name:b.trim()}),f(d.map(Ce=>Ce.stage_id===Ne?{...Ce,stage_name:b.trim()}:Ce)),y(null),w("")}catch(Ce){console.error("Failed to update stage:",Ce)}},Be=async Ne=>{if(a.filter(ye=>ye.stage===Ne).length>0){j(Ne);return}try{await Za.delete(Ne),f(d.filter(ye=>ye.stage_id!==Ne))}catch(ye){console.error("Failed to delete stage:",ye)}},Me=Ne=>{S(Ne)},Le=Ne=>{Ne.preventDefault(),Ne.dataTransfer.dropEffect="move"},ze=async Ne=>{if(!N)return;const Ce=a.find(ye=>ye.project_id===N);if(Ce&&Ce.stage!==Ne)try{await zc.update(N,{stage:Ne}),s(a.map(ye=>ye.project_id===N?{...ye,stage:Ne}:ye))}catch(ye){console.error("Failed to update project stage:",ye)}S(null)},Re=async(Ne,Ce)=>{const ye=a.find(Ae=>Ae.project_id===Ne);if(ye&&ye.stage!==Ce)try{await zc.update(Ne,{stage:Ce}),s(a.map(Ae=>Ae.project_id===Ne?{...Ae,stage:Ce}:Ae))}catch(Ae){console.error("Failed to update project stage:",Ae)}},gt=async Ne=>{try{await zc.delete(Ne),s(a.filter(Ce=>Ce.project_id!==Ne))}catch(Ce){console.error("Failed to delete project:",Ce)}},ht=Ne=>{V(Ce=>({...Ce,stage:Ne.toString()})),C(!0)},le=async()=>{var Ne;if(T.project_name.trim())try{const Ce=fl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((Ne=t==null?void 0:t.profile)==null?void 0:Ne.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ye=await zc.create(Ce);s([...a,ye]),V({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(Ce){console.error("Failed to create project:",Ce)}},ge=async()=>{var Ne;if(I.project_name.trim())try{const Ce=fl({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((Ne=t==null?void 0:t.profile)==null?void 0:Ne.user_id)||1,progress:0,stage:1,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ye=await zc.create(Ce);s([...a,ye]),z({project_name:"",project_description:"",client_id:""}),B(!1)}catch(Ce){console.error("Failed to create lead:",Ce)}},U=d.filter(Ne=>Ne.stage_type==="projects").sort((Ne,Ce)=>{const ye=Ne.stager_order_index??0,Ae=Ce.stager_order_index??0;return Xt()?Ae-ye:ye-Ae}),he=U.map(Ne=>({id:Ne.stage_id,name:Oe(Ne,"stage_name"),color:Ne.color,count:Q.filter(Ce=>Ce.stage===Ne.stage_id).length}));if(h)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:r("common.loading"),size:"2xl"})});const je=()=>{var Ne;return p?i.jsx(Dp,{title:r("projects.errorTitle","Error loading projects"),message:p,onRetry:fe}):a.length===0&&!D&&M==="all"&&J==="all"?i.jsx(ul,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx(Mh,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(ue,{onClick:()=>B(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(yP,{onSearch:R,onFilterStatus:W,onFilterAssignee:re,onFilterDateRange:se,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),L==="kanban"?i.jsx(i.Fragment,{children:i.jsx(fx,{stages:he,currentStageId:E||((Ne=he[0])==null?void 0:Ne.id),onStageChange:P,children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:U.sort((Ce,ye)=>Ce.stage_id-ye.stage_id).filter(Ce=>{var Ae;return window.innerWidth<1024?Ce.stage_id===(E||((Ae=he[0])==null?void 0:Ae.id)):!0}).map((Ce,ye)=>{var Pe,Ze;const Ae=Q.filter(Je=>Je.stage===Ce.stage_id);return console.log(`[Projects] Stage ${Ce.stage_name} (${Ce.stage_id}): ${Ae.length} projects`),console.log("[Projects] Stage projects:",Ae),i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ye*.1}s`},onDragOver:Le,onDrop:()=>ze(Ce.stage_id),children:[!n&&i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",Ce.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:v===Ce.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(Ve,{value:b,onChange:Je=>w(Je.target.value),onKeyDown:Je=>{Je.key==="Enter"&&A(Ce.stage_id),Je.key==="Escape"&&(y(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>A(Ce.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Oe(Ce,"stage_name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ae.length}),i.jsxs(i.Fragment,{children:[i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{y(Ce.stage_id),w(Oe(Ce,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:i.jsx(Oi,{className:"h-3 w-3"})}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Be(Ce.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:i.jsx(hr,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Pe=d.sort((Je,vt)=>(Je.stager_order_index||0)-(vt.stager_order_index||0))[0])==null?void 0:Pe.stage_id)===Ce.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>ht(Ce.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Zt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),Ae.map(Je=>{const vt=c.find(_t=>_t.userid===Number(Je.created_by)||_t.user_id===Number(Je.created_by));return i.jsx(bIe,{project:Je,client:o.find(_t=>{var Ut,cr;return((Ut=_t.user_id)==null?void 0:Ut.toString())===((cr=Je.client_id)==null?void 0:cr.toString())})||null,manager:vt||null,stages:d,onDelete:gt,onClick:()=>X(Je.project_id),onDragStart:Me,onStageChange:Re,isDragging:N===Je.project_id},Je.project_id)}),((Ze=d.sort((Je,vt)=>(Je.stager_order_index||0)-(vt.stager_order_index||0))[0])==null?void 0:Ze.stage_id)!==Ce.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>ht(Ce.stage_id),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},Ce.stage_id)})})})}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(_P,{children:[i.jsx(jP,{children:i.jsxs(gv,{children:[i.jsx(no,{children:r("projects.projectName")}),i.jsx(no,{children:r("projects.client")}),i.jsx(no,{children:r("projects.manager")}),i.jsx(no,{children:r("projects.stage")}),i.jsx(no,{children:r("projects.progress")}),i.jsx(no,{children:r("projects.dueDate")}),i.jsx(no,{className:"w-[50px]"})]})}),i.jsx(SP,{children:Q.map(Ce=>{const ye=c.find(Ze=>Ze.userid===Number(Ce.created_by)||Ze.user_id===Number(Ce.created_by)),Ae=o.find(Ze=>{var Je,vt;return((Je=Ze.user_id)==null?void 0:Je.toString())===((vt=Ce.client_id)==null?void 0:vt.toString())}),Pe=d.find(Ze=>Ze.stage_id===Ce.stage);return i.jsxs(gv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>X(Ce.project_id),children:[i.jsx(ao,{className:"font-medium",children:Oe(Ce,"project_name")}),i.jsx(ao,{children:Ae?Oe(Ae,"user_name"):"-"}),i.jsx(ao,{children:ye?Oe(ye,"user_name"):"-"}),i.jsx(ao,{children:i.jsx(ut,{variant:"outline",className:"bg-background",children:Pe?Oe(Pe,"stage_name"):"-"})}),i.jsx(ao,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mf,{value:Ce.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ce.progress,"%"]})]})}),i.jsx(ao,{className:"text-muted-foreground text-sm",children:Ce.end_date?new Date(Ce.end_date).toLocaleDateString():"-"}),i.jsx(ao,{children:i.jsx(ue,{variant:"ghost",size:"icon",onClick:Ze=>{Ze.stopPropagation(),gt(Ce.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(hr,{className:"h-4 w-4"})})})]},Ce.project_id)})})]})})]})};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:r("projects.title"),description:r("projects.subtitle"),icon:i.jsx(Mh,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:L==="kanban"?"default":"ghost",size:"sm",onClick:()=>F("kanban"),className:"h-8 w-8 p-0",children:i.jsx(Bw,{className:"h-4 w-4"})}),i.jsx(ue,{variant:L==="list"?"default":"ghost",size:"sm",onClick:()=>F("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})})]}),i.jsxs(ue,{onClick:()=>B(!0),children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:i.jsx(Mh,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(Ne=>(Ne.progress||0)>0&&(Ne.progress||0)<100).length,icon:i.jsx(wo,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(Ne=>(Ne.progress||0)===100).length,icon:i.jsx(Tn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((Ne,Ce)=>Ne+(Ce.progress||0),0)/a.length)}%`:"0%",icon:i.jsx(mf,{className:"h-4 w-4 text-blue-500"})}]}),je(),i.jsx(xn,{open:k,onOpenChange:C,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:r("projects.createProject")}),i.jsx(Pa,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(Ve,{value:T.project_name,onChange:Ne=>V(Ce=>({...Ce,project_name:Ne.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(ta,{value:T.project_description,onChange:Ne=>V(Ce=>({...Ce,project_description:Ne.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(yt,{value:T.client_id,onValueChange:Ne=>V(Ce=>({...Ce,client_id:Ne})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:r("projects.selectClient")})}),i.jsx(pt,{children:o.map(Ne=>{var Ce;return i.jsx(Te,{value:((Ce=Ne.user_id)==null?void 0:Ce.toString())||"",children:Oe(Ne,"user_name")},Ne.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:Ne=>V(Ce=>({...Ce,progress:parseInt(Ne.target.value)})),className:"w-full h-1.5"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[T.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>C(!1),children:r("buttons.cancel")}),i.jsxs(ue,{onClick:le,disabled:!((Se=T.project_name)!=null&&Se.trim()),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(xn,{open:G,onOpenChange:B,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:r("projects.createProject")}),i.jsx(Pa,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(Ve,{value:I.project_name,onChange:Ne=>z(Ce=>({...Ce,project_name:Ne.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(ta,{value:I.project_description,onChange:Ne=>z(Ce=>({...Ce,project_description:Ne.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(yt,{value:I.client_id,onValueChange:Ne=>z(Ce=>({...Ce,client_id:Ne})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:r("projects.selectClient")})}),i.jsx(pt,{children:o.map(Ne=>{var Ce;return i.jsx(Te,{value:((Ce=Ne.user_id)==null?void 0:Ce.toString())||"",children:Oe(Ne,"user_name")},Ne.user_id)})})]})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>B(!1),children:r("buttons.cancel")}),i.jsxs(ue,{onClick:ge,disabled:!((Ue=I.project_name)!=null&&Ue.trim()),children:[i.jsx(_o,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(pl,{open:!!Y,onOpenChange:Ne=>!Ne&&X(null),children:i.jsxs(Co,{side:Xt()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(hc,{className:"sr-only",children:[i.jsx(gl,{children:"Project Details"}),i.jsx(of,{children:"View and manage project information"})]}),Y&&i.jsx(yIe,{projectId:Y,onClose:()=>X(null)})]})})]})}function _Ie(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var AP="ScrollArea",[Aq,MHe]=is(AP),[jIe,Ii]=Aq(AP),Pq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(0),[w,_]=x.useState(0),[j,N]=x.useState(!1),[S,k]=x.useState(!1),C=$t(t,P=>c(P)),E=Bv(a);return i.jsx(jIe,{scope:r,type:n,dir:E,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:_,children:i.jsx(ct.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Pq.displayName=AP;var Oq="ScrollAreaViewport",Dq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Ii(Oq,r),l=x.useRef(null),c=$t(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Dq.displayName=Oq;var Cl="ScrollAreaScrollbar",PP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ii(Cl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(SIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(NIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(Rq,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(OP,{...n,ref:t}):null});PP.displayName=Cl;var SIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ii(Cl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Ra,{present:r||s,children:i.jsx(Rq,{"data-state":s?"visible":"hidden",...n,ref:t})})}),NIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ii(Cl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=aj(()=>c("SCROLL_END"),100),[l,c]=_Ie("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(Ra,{present:r||l!=="hidden",children:i.jsx(OP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:tt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:tt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Rq=x.forwardRef((e,t)=>{const r=Ii(Cl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=aj(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Xm(r.viewport,c),Xm(r.content,c),i.jsx(Ra,{present:n||s,children:i.jsx(OP,{"data-state":s?"visible":"hidden",...a,ref:t})})}),OP=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ii(Cl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$q(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return PIe(h,o.current,l,m)}return r==="horizontal"?i.jsx(kIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=aL(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(CIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=aL(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),kIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ii(Cl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Fq,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Uq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Qb(o.paddingLeft),paddingEnd:Qb(o.paddingRight)}})}})}),CIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Ii(Cl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=$t(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Fq,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Uq(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Qb(o.paddingTop),paddingEnd:Qb(o.paddingBottom)}})}})}),[EIe,Mq]=Aq(Cl),Fq=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Ii(Cl,r),[p,g]=x.useState(null),v=$t(t,C=>g(C)),y=x.useRef(null),b=x.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Vn(d),N=Vn(c),S=aj(f,10);function k(C){if(y.current){const E=C.clientX-y.current.left,P=C.clientY-y.current.top;u({x:E,y:P})}}return x.useEffect(()=>{const C=E=>{const P=E.target;(p==null?void 0:p.contains(P))&&j(E,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,p,_,j]),x.useEffect(N,[n,N]),Xm(p,S),Xm(m.content,S),i.jsx(EIe,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Vn(s),onThumbPointerUp:Vn(o),onThumbPositionChange:N,onThumbPointerDown:Vn(l),children:i.jsx(ct.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:tt(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:tt(e.onPointerMove,k),onPointerUp:tt(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Xb="ScrollAreaThumb",Iq=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Mq(Xb,e.__scopeScrollArea);return i.jsx(Ra,{present:r||a.hasThumb,children:i.jsx(TIe,{ref:t,...n})})}),TIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Ii(Xb,r),o=Mq(Xb,r),{onThumbPositionChange:l}=o,c=$t(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=aj(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=OIe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(ct.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:tt(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),p=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:tt(e.onPointerUp,o.onThumbPointerUp)})});Iq.displayName=Xb;var DP="ScrollAreaCorner",Lq=x.forwardRef((e,t)=>{const r=Ii(DP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(AIe,{...e,ref:t}):null});Lq.displayName=DP;var AIe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ii(DP,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return Xm(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Xm(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(ct.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Qb(e){return e?parseInt(e,10):0}function $q(e,t){const r=e/t;return isNaN(r)?0:r}function nj(e){const t=$q(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function PIe(e,t,r,n="ltr"){const a=nj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Bq([c,u],f)(e)}function aL(e,t,r="ltr"){const n=nj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=QN(e,c);return Bq([0,o],[0,l])(u)}function Bq(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Uq(e,t){return e>0&&e<t}var OIe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function aj(e,t){const r=Vn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xm(e,t){const r=Vn(t);_n(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var zq=Pq,DIe=Dq,RIe=Lq;const Ga=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(zq,{ref:n,className:be("relative overflow-hidden",e),...r,children:[i.jsx(DIe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Vq,{}),i.jsx(RIe,{})]}));Ga.displayName=zq.displayName;const Vq=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(PP,{ref:n,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Iq,{className:"relative flex-1 rounded-full bg-border"})}));Vq.displayName=PP.displayName;const Jy={async createApplication(e){return await K.partnerApply.create(e)},async getApplications(){return(await K.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await K.partnerApply.update(e,{status:t})}},MIe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function FIe(){const{user:e}=gr(),{currentLanguage:t,isRTL:r}=Da();Jr();const{t:n}=Bt(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[p,g]=x.useState(""),[v,y]=x.useState(""),[b,w]=x.useState(""),[_,j]=x.useState("employee"),[N,S]=x.useState(""),[k,C]=x.useState(!1),[E,P]=x.useState(null),[T,V]=x.useState("all"),[G,B]=x.useState("employees"),[I,z]=x.useState(!1),[L,F]=x.useState(null),[Y,X]=x.useState(!1),[D,R]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[M,W]=x.useState(!1),[J,re]=x.useState(""),[xe,se]=x.useState(new Map);x.useEffect(()=>{fe(),Q()},[]);const Q=async()=>{try{const U=await _T(),he=new Map;U.forEach(je=>{he.set(je.permissions_ID,je.permissions_Name)}),se(he)}catch(U){console.error("Failed to load permission names:",U)}},fe=async()=>{try{u(!0);const[U,he]=await Promise.all([wn.getAll(),Jy.getApplications()]);s(U),l(he)}catch(U){console.error("Failed to load users:",U)}finally{u(!1)}},A=a.filter(U=>{var Ae,Pe;const he=G==="employees",je=G==="clients",Se=G==="partners";if(he&&![1,2,3,4].includes(Number(U.permissions))||Se&&![5,6].includes(Number(U.permissions)))return!1;const Ue=((Ae=U.name)==null?void 0:Ae.toLowerCase())||"",Ne=((Pe=U.Email)==null?void 0:Pe.toLowerCase())||"",Ce=String(U.permissions||""),ye=d.toLowerCase();return Ue.includes(ye)||Ne.includes(ye)||Ce.includes(ye)}),Be=U=>{const he=["destructive","default","secondary","outline","default","secondary"];return U&&U>=1&&U<=he.length?he[U-1]:"secondary"},Me=U=>{if(!U)return"User";const he=xe.get(U);return he||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[U]||`Permission ${U}`},Le=async U=>{if(U.preventDefault(),!k){S(""),C(!0);try{const he=await MIe(b),je={name:p,Email:v,user_pasword:he,permissions:_==="admin"?1:_==="manager"||_==="employee"?2:_==="team_leader"?4:2},Se=await K.Users.create(je);E&&(await Jy.updateStatus(E,"approved"),P(null)),m(!1),g(""),y(""),w(""),j("employee"),fe()}catch(he){S(he.message||n("users.addUserError"))}finally{C(!1)}}},ze=U=>{g(U.full_name),y(U.email),j("employee"),w(""),P(U.apply_id),m(!0),B("employees")},Re=async U=>{if(confirm(n("users.rejectConfirmation")))try{await Jy.updateStatus(U,"rejected"),fe()}catch(he){console.error("Failed to reject application:",he)}},gt=async(U,he)=>{if(confirm(n("users.deleteConfirmation",{name:he})))try{await K.Users.delete(U),fe()}catch(je){alert(`${n("users.deleteError")}: ${je.message}`)}},ht=async(U,he)=>{try{const je=he==="1"?1:2;await K.Users.update(U,{permissions:je}),fe()}catch(je){alert(`${n("users.updateRoleError")}: ${je.message}`)}},le=async U=>{var he;if(U.preventDefault(),!(M||!L)){re(""),W(!0);try{const je={};D.name!==Oe(L,"name")&&(je.name=D.name),D.Email!==L.Email&&(je.Email=D.Email),D.mobile!==((he=L.mobile)==null?void 0:he.toString())&&(je.mobile=D.mobile?parseInt(D.mobile):null),D.permissions!==L.permissions&&(je.permissions=D.permissions),Object.keys(je).length>0?(await K.Users.update(L.userid,je),X(!1),fe()):X(!1)}catch(je){re(je.message||n("users.updateUserError"))}finally{W(!1)}}},ge=U=>{var he;F(U),R({name:U.name||"",Email:U.Email||"",mobile:((he=U.mobile)==null?void 0:he.toString())||"",permissions:U.permissions||""}),X(!1),re(""),z(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ka,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(ue,{variant:G==="employees"?"default":"ghost",size:"sm",onClick:()=>B("employees"),className:"h-8 px-3",children:[i.jsx(gR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(ue,{variant:G==="clients"?"default":"ghost",size:"sm",onClick:()=>B("clients"),className:"h-8 px-3",children:[i.jsx(An,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(ue,{variant:G==="partners"?"default":"ghost",size:"sm",onClick:()=>B("partners"),className:"h-8 px-3",children:[i.jsx(Ka,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),G==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(xn,{open:h,onOpenChange:m,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(ue,{className:"w-full",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(sn,{children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("users.addNewUser")}),i.jsx(Pa,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[N&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:N})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(Ve,{id:"formName",value:p,onChange:U=>g(U.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(Ve,{id:"formEmail",type:"email",value:v,onChange:U=>y(U.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(Ve,{id:"formPassword",type:"password",value:b,onChange:U=>w(U.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(yt,{value:_,onValueChange:U=>j(U),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"employee",children:n("users.employee")}),i.jsx(Te,{value:"manager",children:n("users.manager")}),i.jsx(Te,{value:"admin",children:n("users.admin")}),i.jsx(Te,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(ue,{type:"submit",className:"w-full",disabled:k,children:n(k?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:n("users.searchPlaceholder"),value:d,onChange:U=>f(U.target.value),className:"pl-10"})]}),i.jsxs(Ga,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(U=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(zt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(lr,{className:"text-lg truncate",children:Oe(U,"name")}),i.jsx(ut,{variant:Be(U.permissions),className:"mt-1",children:Me(U.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ge(U),children:i.jsx(Js,{className:"h-4 w-4"})}),i.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>gt(U.userid,Oe(U,"name")),children:i.jsx(hr,{className:"h-4 w-4"})})]})]})}),i.jsxs(dt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Jf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:U.Email})]}),U.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Gl,{className:"h-4 w-4"}),i.jsx("span",{children:U.mobile})]}),(U.permissions===2||U.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(yt,{value:String(U.permissions),onValueChange:he=>ht(U.userid,he),children:[i.jsx(mt,{className:"w-full h-8",children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"2",children:n("users.employee")}),i.jsx(Te,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",U.created_at?new Date(U.created_at).toLocaleDateString():"-"]})]})]},U.userid))}),A.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ka,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),G==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(Ga,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(U=>i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsx(zt,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(lr,{className:"text-lg truncate",children:Oe(U,"name")}),i.jsx(ut,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(dt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Jf,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:U.Email})]}),U.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Gl,{className:"h-4 w-4"}),i.jsx("span",{children:U.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",U.created_at?new Date(U.created_at).toLocaleDateString():"-"]})]})]},U.userid))}),A.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(An,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),G==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(gR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(ut,{variant:"secondary",className:"ml-auto",children:a.filter(U=>[5,6].includes(Number(U.permissions))).length})]}),i.jsx(Ga,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(U=>[5,6].includes(Number(U.permissions))).length>0?a.filter(U=>[5,6].includes(Number(U.permissions))).map(U=>i.jsx(st,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>ge(U),children:i.jsxs(dt,{className:"p-4 flex items-center gap-3",children:[i.jsxs(ks,{children:[i.jsx(So,{src:U.avatar||""}),i.jsx(Cs,{children:Oe(U,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Oe(U,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:U.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ut,{variant:"outline",className:"text-xs py-0 h-5",children:U.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),U.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(tae,{className:"h-3 w-3"}),U.company_name]})]})]})]})},U.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ka,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Jf,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(ut,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(yt,{value:T,onValueChange:U=>V(U),children:[i.jsx(mt,{className:"h-8",children:i.jsx(bt,{placeholder:n("common.filter")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:n("common.all")}),i.jsx(Te,{value:"pending",children:n("status.pending")}),i.jsx(Te,{value:"approved",children:n("status.approved")}),i.jsx(Te,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(Ga,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(U=>T==="all"||U.status===T).length>0?o.filter(U=>T==="all"||U.status===T).map(U=>i.jsx(st,{children:i.jsxs(dt,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:U.company_name||U.full_name}),i.jsx(ut,{variant:U.status==="pending"?"outline":U.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${U.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(An,{className:"h-3 w-3"}),U.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jf,{className:"h-3 w-3"}),U.email]}),U.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-3 w-3"}),U.phone]})]}),U.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(ue,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Re(U.apply_id),children:n("users.reject")}),i.jsx(ue,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ze(U),children:n("users.approve")})]})]})},U.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Jf,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(xn,{open:I,onOpenChange:z,children:i.jsxs(sn,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n("users.userDetails")}),i.jsx(Pa,{children:n("users.userDetailsDescription")})]}),L&&i.jsx(Ga,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Oe(L,"name")}),i.jsx(ut,{variant:Be(L.permissions),className:"mt-1",children:Me(L.permissions)})]})}),Y?i.jsxs("form",{onSubmit:le,className:"space-y-4",children:[J&&i.jsx(wm,{variant:"destructive",children:i.jsx(_m,{children:J})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(Ve,{id:"editName",value:D.name,onChange:U=>R(he=>({...he,name:U.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(Ve,{id:"editEmail",type:"email",value:D.Email,onChange:U=>R(he=>({...he,Email:U.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(yt,{value:String(D.permissions),onValueChange:U=>R(he=>({...he,permissions:Number(U)})),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"2",children:n("users.employee")}),i.jsx(Te,{value:"1",children:n("users.manager")}),i.jsx(Te,{value:"3",children:n("users.client")}),i.jsx(Te,{value:"4",children:n("users.partner")}),i.jsx(Te,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(L.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:L.updated_at?new Date(L.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(Ve,{id:"editPhone",type:"tel",value:D.mobile,onChange:U=>R(he=>({...he,mobile:U.target.value})),placeholder:n("users.phone")})]}),L.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:L.client_contact})]}),L.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(L,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:L.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ue,{type:"button",variant:"outline",onClick:()=>X(!1),children:n("buttons.cancel")}),i.jsx(ue,{type:"submit",disabled:M,children:n(M?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Oe(L,"name")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:L.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${L.permissions===1?"admin":L.permissions===2?"employee":L.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(L.created_at).toLocaleDateString()})]}),L.updated_at&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(L.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[L.user_phone&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:L.mobile})]}),L.client_contact&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:L.client_contact})]}),L.company_name&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Oe(L,"company_name")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:L.userid})]})]})]}),L.userid&&i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:L.userid})]})]})}),i.jsxs(Aa,{children:[!Y&&!0&&i.jsx(ue,{variant:"outline",onClick:()=>X(!0),children:n("buttons.edit")}),i.jsx(ue,{onClick:()=>z(!1),children:n("buttons.close")})]})]})})]})}function IIe(){gr();const{t:e}=Bt(),{isRTL:t}=Da();Jr();const r=Ms();console.log("Teams Page - isRTL:",t);const[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,p]=x.useState(!1),[g,v]=x.useState(""),[y,b]=x.useState(""),[w,_]=x.useState(null),j=!0;x.useEffect(()=>{S(),k()},[]);const N=B=>{r("/chats",{state:{teamId:B}})},S=async()=>{try{d(!0);const B=await Xf.getAll(),I=await Xf.getAllTeamMembers();a(B),c(I)}catch(B){console.error("Failed to load teams:",B)}finally{d(!1)}},k=async()=>{try{const B=await wn.getAll();o(B)}catch(B){console.error("Failed to load users:",B)}},C=async()=>{if(g.trim())try{const B=fl({team_name:g.trim(),team_leader_id:(y==null?void 0:y.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Xf.create(B),v(""),b(""),p(!1),await S()}catch(B){console.error("Failed to create team:",B)}},E=async(B,I)=>{try{await Xf.addMember(B,I),await S()}catch(z){console.error("Failed to add team member:",z)}},P=async(B,I)=>{try{await Xf.removeMember(B,I),await S()}catch(z){console.error("Failed to remove team member:",z)}},T=async B=>{try{await Xf.delete(B),a(I=>I.filter(z=>z.team_id!==B)),c(I=>{const z={...I};return delete z[B],z}),_(null)}catch(I){console.error("Failed to delete team:",I)}},V=n.filter(B=>(Oe(B,"team_name")||"").toLowerCase().includes(f.toLowerCase())),G=s;return u?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ka,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:n.length})})]}),i.jsxs(xn,{open:m,onOpenChange:p,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(ue,{children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(sn,{className:"sm:max-w-[425px]",children:[i.jsxs(on,{children:[i.jsx(ln,{children:e("teams.createTeamTitle")}),i.jsx(Pa,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ke,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(Ve,{id:"team-name",value:g,onChange:B=>v(B.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(Ke,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(yt,{value:y,onValueChange:b,children:[i.jsx(mt,{className:"col-span-3",children:i.jsx(bt,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(pt,{children:G.map(B=>i.jsx(Te,{value:B.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:B.name})]})},B.userid))})]})]})]}),i.jsx(Aa,{children:i.jsx(ue,{type:"submit",onClick:C,disabled:!g.trim(),children:e("teams.createTeam")})})]})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:e("teams.searchPlaceholder"),value:f,onChange:B=>h(B.target.value),className:"pl-10"})]}),i.jsxs(Ga,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:V.map(B=>{const I=l[B.team_id]||[];return i.jsxs(st,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(zt,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(lr,{className:"text-lg",children:Oe(B,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(B.team_id),title:e("teams.chat","Chat"),children:i.jsx(Du,{className:"h-4 w-4"})}),i.jsx(ut,{variant:"outline",children:e("teams.memberCount_plural",{count:I.length})}),i.jsxs(ii,{children:[i.jsx(dx,{asChild:!0,children:i.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:z=>{z.stopPropagation(),_(B.team_id)},children:i.jsx(hr,{className:"h-3 w-3"})})}),i.jsxs(Es,{onClick:z=>z.stopPropagation(),children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("teams.deleteTeam")}),i.jsx(Os,{children:e("teams.deleteConfirmation",{name:Oe(B,"team_name")})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("buttons.cancel")}),i.jsx(Ds,{onClick:z=>{z.stopPropagation(),T(B.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),B.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:B.team_leader_id_name})]})]})]}),i.jsxs(dt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[I.slice(0,4).map(z=>i.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ks,{className:"h-6 w-6",children:[i.jsx(So,{src:""}),i.jsx(Cs,{className:"text-xs",children:(z.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:z.name})]}),i.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var L;return P(B.team_id,((L=z.userid)==null?void 0:L.toString())||"")},children:i.jsx(Cae,{className:"h-3 w-3"})})]},z.userid)),I.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:I.length-4})}),I.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx("div",{children:i.jsxs(yt,{onValueChange:z=>{z&&E(B.team_id,z)},children:[i.jsx(mt,{className:"w-full",children:i.jsx(bt,{placeholder:e("teams.addMember")})}),i.jsx(pt,{children:s.filter(z=>!I.some(L=>L.userid.toString()===z.userid.toString())).map(z=>i.jsx(Te,{value:z.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:z.name})]})},z.userid))})]})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",B.created_at?new Date(B.created_at).toLocaleDateString():"N/A"]})]})]},B.team_id)})}),V.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ka,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(f?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(f?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!f&&j&&i.jsxs(ue,{onClick:()=>p(!0),children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function LIe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=Bt(),[c,u]=x.useState(""),d=e.filter(g=>{const v=g.is_private&&Oe(g.other_user||{},"user_name")||g.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(g=>!g.is_private&&!g.team_id),h=d.filter(g=>g.is_private),m=d.filter(g=>g.team_id),p=g=>{var j;const v=(t==null?void 0:t.room_id)===g.room_id,y=g.is_private,b=y&&Oe(g.other_user||{},"user_name")||g.room_name,w=y?(j=g.other_user)==null?void 0:j.avatar:null,_=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(g),className:be("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(ks,{className:"h-6 w-6",children:[i.jsx(So,{src:w}),i.jsx(Cs,{className:"text-[10px]",children:_})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(Ka,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},g.room_id)};return i.jsxs("div",{className:be("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(vB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:l("common.search","Jump to..."),value:c,onChange:g=>u(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(Ga,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Zt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(p),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(p)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Zt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(p),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function $Ie({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var W;const{t:h}=Bt(),[m,p]=x.useState(""),g=x.useRef(null),[v,y]=x.useState(!1),[b,w]=x.useState(null),[_,j]=x.useState(""),[N,S]=x.useState(!1),k=x.useRef(null),[C,E]=x.useState(null);x.useEffect(()=>{if(g.current&&!c){const J=g.current.querySelector("[data-radix-scroll-area-viewport]");J&&(J.scrollTop=J.scrollHeight)}},[t,c]);const P=J=>{const re=J.target;if(!re)return;const se=re.scrollTop<100;y(se),se&&l&&o&&!c&&o()};x.useEffect(()=>{var re;const J=(re=g.current)==null?void 0:re.querySelector("[data-radix-scroll-area-viewport]");if(J)return J.addEventListener("scroll",P),()=>J.removeEventListener("scroll",P)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),E(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const re=await Qi.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",re.length),E(re.length)}catch(re){console.error("Failed to fetch member count:",re),E(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),E(null))},[e==null?void 0:e.room_id]);const T=J=>{w(J.message_id),j(J.content)},V=()=>{w(null),j("")},G=()=>{b&&_.trim()&&u&&(u(b,_),w(null),j(""))},B=()=>{m.trim()&&(n(m),p(""))},I=J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),B())},z=async J=>{var xe;const re=(xe=J.target.files)==null?void 0:xe[0];if(!(!re||!n))try{S(!0);const se=await Kc.uploadAttachment(re),fe=re.type.startsWith("image/")?`![${re.name}](${se})`:`[${re.name}](${se})`;n(fe)}catch(se){console.error("Failed to upload file:",se),alert(h("chat.uploadError","Failed to upload file"))}finally{S(!1),k.current&&(k.current.value="")}},L=()=>{var J;(J=k.current)==null||J.click()},F=J=>{const re=/!\\[(.*?)\\]\((.*?)\)/g,xe=/\\[(.*?)\\]\((.*?)\)/g,se=re.exec(J);if(se)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:se[2],alt:se[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(se[2],"_blank")}),J.replace(se[0],"").trim()&&i.jsx("span",{children:J.replace(se[0],"").trim()})]});const Q=xe.exec(J);return Q?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:Q[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(hR,{className:"h-4 w-4"}),Q[1]]}),J.replace(Q[0],"").trim()&&i.jsx("span",{children:J.replace(Q[0],"").trim()})]}):J};if(s)return i.jsx("div",{className:be("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:be("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Du,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const Y=e.is_private,X=Y&&Oe(e.other_user||{},"user_name")||e.room_name,D=Y?(W=e.other_user)==null?void 0:W.avatar:null,R=(X==null?void 0:X.charAt(0).toUpperCase())||"?",M=t.reduce((J,re)=>{const xe=new Date(re.created_at).toLocaleDateString();return J[xe]||(J[xe]=[]),J[xe].push(re),J},{});return i.jsxs("div",{className:be("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(gB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[Y?i.jsxs(ks,{className:"h-9 w-9",children:[i.jsx(So,{src:D}),i.jsx(Cs,{children:R})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(Ka,{className:"h-5 w-5"}):i.jsx(dae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[X,Y&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!Y&&i.jsx("p",{className:"text-xs text-muted-foreground",children:C!==null?h("chat.membersCount",{count:C}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Gl,{className:"h-5 w-5"})}),i.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Tae,{className:"h-5 w-5"})}),i.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(fae,{className:"h-5 w-5"})})]})]}),i.jsx(Ga,{className:"flex-1 p-4 overflow-hidden",ref:g,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(M).map(([J,re])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:J===new Date().toLocaleDateString()?h("common.today","Today"):J})})]}),i.jsx("div",{className:"space-y-4",children:re.map((xe,se)=>{var Me;const Q=xe.auth_user_id===(r==null?void 0:r.id),fe=se===0||re[se-1].auth_user_id!==xe.auth_user_id,A=xe.sender,Be=b===xe.message_id;return i.jsxs("div",{className:be("flex gap-3 group",Q?"flex-row-reverse":""),children:[fe?i.jsxs(ks,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(So,{src:A==null?void 0:A.avatar}),i.jsx(Cs,{children:((Me=A==null?void 0:A.user_name)==null?void 0:Me.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:be("flex flex-col max-w-[75%]",Q?"items-end":"items-start"),children:[fe&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:A==null?void 0:A.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:ts(new Date(xe.created_at),"h:mm a")})]}),i.jsx("div",{className:be("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",Q?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",Be?"w-full min-w-[200px]":""),children:Be?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:_,onChange:Le=>j(Le.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ue,{size:"sm",variant:"ghost",onClick:V,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(ue,{size:"sm",variant:"secondary",onClick:G,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[F(xe.content),Q&&!Be&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>T(xe),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(xe.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${xe.message_id}-${se}`)})})]},J))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:L,disabled:N,children:N?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(hR,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:k,className:"hidden",onChange:z,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:J=>p(J.target.value),onKeyDown:I,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:J=>{const re=J.target;re.style.height="auto",re.style.height=`${Math.min(re.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx(jae,{className:"h-5 w-5"})}),i.jsx(ue,{size:"icon",className:be("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:B,disabled:!m.trim()&&!N,children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function BIe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Bt(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await wn.getAll();o(m.filter(p=>p.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var p,g;return((p=m.user_name)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=m.user_email)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))});return i.jsx(xn,{open:e,onOpenChange:t,children:i.jsxs(sn,{className:"sm:max-w-[425px]",children:[i.jsx(on,{children:i.jsx(ln,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(Ga,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var p;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(ks,{children:[i.jsx(So,{src:m.avatar}),i.jsx(Cs,{children:((p=m.user_name)==null?void 0:p.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var sj="Switch",[UIe,FHe]=is(sj),[zIe,VIe]=UIe(sj),Wq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),p=$t(t,w=>m(w)),g=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=fc({prop:a,defaultProp:s??!1,onChange:u,caller:sj});return i.jsxs(zIe,{scope:r,checked:y,disabled:l,children:[i.jsx(ct.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Kq(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:tt(e.onClick,w=>{b(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&i.jsx(Gq,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Wq.displayName=sj;var Hq="SwitchThumb",qq=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=VIe(Hq,r);return i.jsx(ct.span,{"data-state":Kq(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});qq.displayName=Hq;var WIe="SwitchBubbleInput",Gq=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=$t(o,s),c=VT(r),u=IT(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Gq.displayName=WIe;function Kq(e){return e?"checked":"unchecked"}var Yq=Wq,HIe=qq;const Xq=x.forwardRef(({className:e,...t},r)=>i.jsx(Yq,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(HIe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xq.displayName=Yq.displayName;function qIe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Bt(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(xn,{open:e,onOpenChange:t,children:i.jsxs(sn,{children:[i.jsx(on,{children:i.jsx(ln,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(Ve,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(Ke,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(Xq,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(Aa,{children:[i.jsx(ue,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(ue,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function GIe(){var L;const{user:e}=gr(),{t}=Bt(),{isRTL:r}=Da(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,p]=x.useState(!0),[g,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[w,_]=x.useState(!1),[j,N]=x.useState(!1),S=x.useRef(!1),k=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const F=()=>{const Y=window.innerWidth<768;h(Y),Y||p(!0)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),x.useEffect(()=>{e&&!S.current&&P()},[e]),x.useEffect(()=>{var Y;const F=(Y=window.history.state)==null?void 0:Y.usr;if(F!=null&&F.teamId&&n.length>0){const X=n.find(D=>D.team_id===F.teamId);X&&o(X)}},[n]),x.useEffect(()=>{s&&(k.current!==s.room_id&&(v(!0),b(!1),T(s.room_id),e&&(Qi.markAsRead(s.room_id,e.id.toString()),a(F=>F.map(Y=>Y.room_id===s.room_id?{...Y,unreadCount:0}:Y)))),f&&p(!1))},[s,f,e]),x.useEffect(()=>{var D;if(!e||!s)return;let F=((D=l[0])==null?void 0:D.message_id)||0;const Y=async()=>{try{const R=await Kc.getByRoom(s.room_id.toString(),{limit:5});if(R.length>0){const M=R[0];M.message_id>F&&(console.log("New message detected, refreshing..."),await T(s.room_id.toString()),F=M.message_id)}}catch(R){console.warn("Failed to poll for new messages:",R)}},X=setInterval(Y,2e3);return Y(),()=>{clearInterval(X)}},[e,s,l]);const C=async(F,Y)=>{try{await Kc.update(F,Y)}catch(X){console.error("Failed to edit message:",X)}},E=async F=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await Kc.delete(F)}catch(Y){console.error("Failed to delete message:",Y)}},P=async()=>{try{d(!0);const F=await Qi.getUserRooms(e==null?void 0:e.id.toString()),Y=F.filter(R=>R.is_private).map(R=>R.room_id),X=new Map;if(Y.length>0){const R=Y.map(W=>Qi.getRoomMembers(W).catch(()=>[])),M=await Promise.all(R);Y.forEach((W,J)=>{X.set(W,M[J])})}const D=F.map(R=>{if(R.is_private){const W=(X.get(R.room_id)||[]).find(J=>{var re;return((re=J.userid)==null?void 0:re.toString())!==(e==null?void 0:e.id.toString())});return{...R,other_user:W}}return R});a(D),S.current=!0}catch(F){console.error("Failed to load rooms:",F)}finally{d(!1)}},T=async(F,Y=!1)=>{try{Y&&b(!0);const X=10,D=Y&&l.length>0?l[0].created_at:void 0,R=await Kc.getByRoom(F,{limit:X,before:D});Y?(c(M=>[...R,...M]),v(R.length===X)):(c(R),v(R.length===X),k.current=F)}catch(X){console.error("Failed to load messages:",X)}finally{Y&&b(!1)}},V=async()=>{!s||y||!g||await T(s.room_id,!0)},G=async F=>{if(!(!s||!e))try{const Y={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:F,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(X=>[...X,Y]),await Kc.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:F,metadata:null}),setTimeout(()=>{T(s.room_id.toString())},500)}catch(Y){console.error("Failed to send message:",Y),c(X=>X.filter(D=>D.message_id!==Date.now()))}},B=()=>{p(!0)},I=async(F,Y)=>{if(e)try{const X=await Qi.createRoom({name:F,is_private:Y,created_by:e.profile.user_id||0,userid:e.id.toString()});await Qi.addMember(X.room_id,e.id.toString()),await P();const D={...X};o(D)}catch(X){console.error("Failed to create channel:",X)}},z=async F=>{if(!e)return;const Y=n.find(X=>{var D;return X.is_private&&((D=X.other_user)==null?void 0:D.userid)===F.userid});if(Y){o(Y);return}try{const X=await Qi.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Qi.addMember(X.room_id,e.id.toString()),await Qi.addMember(X.room_id,(F.userid||F.user_id||"").toString()),await P();const D={...X,other_user:F};o(D)}catch(X){console.error("Failed to create DM:",X)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:be("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx(LIe,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>_(!0),onNewDM:()=>N(!0)})}),i.jsx("div",{className:be("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx($Ie,{room:s,messages:l,currentUser:e,onSendMessage:G,onBack:B,loading:u,onLoadMore:V,hasMoreMessages:g,isLoadingMore:y,onEditMessage:C,onDeleteMessage:E})}),i.jsx(qIe,{open:w,onOpenChange:_,onCreate:I}),i.jsx(BIe,{open:j,onOpenChange:N,onSelectUser:z,currentUserId:(L=e==null?void 0:e.id)==null?void 0:L.toString()})]})}function Qq(e,t){return function(){return e.apply(t,arguments)}}const{toString:KIe}=Object.prototype,{getPrototypeOf:RP}=Object,{iterator:ij,toStringTag:Zq}=Symbol,oj=(e=>t=>{const r=KIe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Oo=e=>(e=e.toLowerCase(),t=>oj(t)===e),lj=e=>t=>typeof t===e,{isArray:Rp}=Array,Qm=lj("undefined");function mx(e){return e!==null&&!Qm(e)&&e.constructor!==null&&!Qm(e.constructor)&&js(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jq=Oo("ArrayBuffer");function YIe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Jq(e.buffer),t}const XIe=lj("string"),js=lj("function"),eG=lj("number"),px=e=>e!==null&&typeof e=="object",QIe=e=>e===!0||e===!1,e1=e=>{if(oj(e)!=="object")return!1;const t=RP(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zq in e)&&!(ij in e)},ZIe=e=>{if(!px(e)||mx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},JIe=Oo("Date"),eLe=Oo("File"),tLe=Oo("Blob"),rLe=Oo("FileList"),nLe=e=>px(e)&&js(e.pipe),aLe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||js(e.append)&&((t=oj(e))==="formdata"||t==="object"&&js(e.toString)&&e.toString()==="[object FormData]"))},sLe=Oo("URLSearchParams"),[iLe,oLe,lLe,cLe]=["ReadableStream","Request","Response","Headers"].map(Oo),uLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Rp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(mx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function tG(e,t){if(mx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Ed=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rG=e=>!Qm(e)&&e!==Ed;function zC(){const{caseless:e,skipUndefined:t}=rG(this)&&this||{},r={},n=(a,s)=>{const o=e&&tG(r,s)||s;e1(r[o])&&e1(a)?r[o]=zC(r[o],a):e1(a)?r[o]=zC({},a):Rp(a)?r[o]=a.slice():(!t||!Qm(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&gx(arguments[a],n);return r}const dLe=(e,t,r,{allOwnKeys:n}={})=>(gx(t,(a,s)=>{r&&js(a)?e[s]=Qq(a,r):e[s]=a},{allOwnKeys:n}),e),fLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),hLe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&RP(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pLe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},gLe=e=>{if(!e)return null;if(Rp(e))return e;let t=e.length;if(!eG(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},vLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&RP(Uint8Array)),xLe=(e,t)=>{const n=(e&&e[ij]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},yLe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},bLe=Oo("HTMLFormElement"),wLe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),sL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_Le=Oo("RegExp"),nG=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};gx(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},jLe=e=>{nG(e,(t,r)=>{if(js(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(js(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},SLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Rp(e)?n(e):n(String(e).split(t)),r},NLe=()=>{},kLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function CLe(e){return!!(e&&js(e.append)&&e[Zq]==="FormData"&&e[ij])}const ELe=e=>{const t=new Array(10),r=(n,a)=>{if(px(n)){if(t.indexOf(n)>=0)return;if(mx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Rp(n)?[]:{};return gx(n,(o,l)=>{const c=r(o,a+1);!Qm(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},TLe=Oo("AsyncFunction"),ALe=e=>e&&(px(e)||js(e))&&js(e.then)&&js(e.catch),aG=((e,t)=>e?setImmediate:t?((r,n)=>(Ed.addEventListener("message",({source:a,data:s})=>{a===Ed&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ed.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",js(Ed.postMessage)),PLe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ed):typeof process<"u"&&process.nextTick||aG,OLe=e=>e!=null&&js(e[ij]),De={isArray:Rp,isArrayBuffer:Jq,isBuffer:mx,isFormData:aLe,isArrayBufferView:YIe,isString:XIe,isNumber:eG,isBoolean:QIe,isObject:px,isPlainObject:e1,isEmptyObject:ZIe,isReadableStream:iLe,isRequest:oLe,isResponse:lLe,isHeaders:cLe,isUndefined:Qm,isDate:JIe,isFile:eLe,isBlob:tLe,isRegExp:_Le,isFunction:js,isStream:nLe,isURLSearchParams:sLe,isTypedArray:vLe,isFileList:rLe,forEach:gx,merge:zC,extend:dLe,trim:uLe,stripBOM:fLe,inherits:hLe,toFlatObject:mLe,kindOf:oj,kindOfTest:Oo,endsWith:pLe,toArray:gLe,forEachEntry:xLe,matchAll:yLe,isHTMLForm:bLe,hasOwnProperty:sL,hasOwnProp:sL,reduceDescriptors:nG,freezeMethods:jLe,toObjectSet:SLe,toCamelCase:wLe,noop:NLe,toFiniteNumber:kLe,findKey:tG,global:Ed,isContextDefined:rG,isSpecCompliantForm:CLe,toJSONObject:ELe,isAsyncFn:TLe,isThenable:ALe,setImmediate:aG,asap:PLe,isIterable:OLe};function It(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}De.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const sG=It.prototype,iG={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{iG[e]={value:e}});Object.defineProperties(It,iG);Object.defineProperty(sG,"isAxiosError",{value:!0});It.from=(e,t,r,n,a,s)=>{const o=Object.create(sG);De.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return It.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const DLe=null;function VC(e){return De.isPlainObject(e)||De.isArray(e)}function oG(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function iL(e,t,r){return e?e.concat(t).map(function(a,s){return a=oG(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function RLe(e){return De.isArray(e)&&!e.some(VC)}const MLe=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function cj(e,t,r){if(!De.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=De.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!De.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(t);if(!De.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(De.isDate(p))return p.toISOString();if(De.isBoolean(p))return p.toString();if(!c&&De.isBlob(p))throw new It("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(p)||De.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(De.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(De.isArray(p)&&RLe(p)||(De.isFileList(p)||De.endsWith(g,"[]"))&&(y=De.toArray(p)))return g=oG(g),y.forEach(function(w,_){!(De.isUndefined(w)||w===null)&&t.append(o===!0?iL([g],_,s):o===null?g:g+"[]",u(w))}),!1}return VC(p)?!0:(t.append(iL(v,g,s),u(p)),!1)}const f=[],h=Object.assign(MLe,{defaultVisitor:d,convertValue:u,isVisitable:VC});function m(p,g){if(!De.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),De.forEach(p,function(y,b){(!(De.isUndefined(y)||y===null)&&a.call(t,y,De.isString(b)?b.trim():b,g,h))===!0&&m(y,g?g.concat(b):[b])}),f.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return m(e),t}function oL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function MP(e,t){this._pairs=[],e&&cj(e,this,t)}const lG=MP.prototype;lG.append=function(t,r){this._pairs.push([t,r])};lG.toString=function(t){const r=t?function(n){return t.call(this,n,oL)}:oL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function FLe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cG(e,t,r){if(!t)return e;const n=r&&r.encode||FLe;De.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=De.isURLSearchParams(t)?t.toString():new MP(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class lL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(n){n!==null&&t(n)})}}const uG={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ILe=typeof URLSearchParams<"u"?URLSearchParams:MP,LLe=typeof FormData<"u"?FormData:null,$Le=typeof Blob<"u"?Blob:null,BLe={isBrowser:!0,classes:{URLSearchParams:ILe,FormData:LLe,Blob:$Le},protocols:["http","https","file","blob","url","data"]},FP=typeof window<"u"&&typeof document<"u",WC=typeof navigator=="object"&&navigator||void 0,ULe=FP&&(!WC||["ReactNative","NativeScript","NS"].indexOf(WC.product)<0),zLe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VLe=FP&&window.location.href||"http://localhost",WLe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FP,hasStandardBrowserEnv:ULe,hasStandardBrowserWebWorkerEnv:zLe,navigator:WC,origin:VLe},Symbol.toStringTag,{value:"Module"})),Na={...WLe,...BLe};function HLe(e,t){return cj(e,new Na.classes.URLSearchParams,{visitor:function(r,n,a,s){return Na.isNode&&De.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function qLe(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function GLe(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function dG(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&De.isArray(a)?a.length:o,c?(De.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!De.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&De.isArray(a[o])&&(a[o]=GLe(a[o])),!l)}if(De.isFormData(e)&&De.isFunction(e.entries)){const r={};return De.forEachEntry(e,(n,a)=>{t(qLe(n),a,r,0)}),r}return null}function KLe(e,t,r){if(De.isString(e))try{return(t||JSON.parse)(e),De.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const vx={transitional:uG,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=De.isObject(t);if(s&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return a?JSON.stringify(dG(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t)||De.isReadableStream(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return HLe(t,this.formSerializer).toString();if((l=De.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),KLe(t)):t}],transformResponse:[function(t){const r=this.transitional||vx.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(De.isResponse(t)||De.isReadableStream(t))return t;if(t&&De.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?It.from(l,It.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{vx.headers[e]={}});const YLe=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XLe=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&YLe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},cL=Symbol("internals");function c0(e){return e&&String(e).trim().toLowerCase()}function t1(e){return e===!1||e==null?e:De.isArray(e)?e.map(t1):String(e)}function QLe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const ZLe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function h2(e,t,r,n,a){if(De.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!De.isString(t)){if(De.isString(n))return t.indexOf(n)!==-1;if(De.isRegExp(n))return n.test(t)}}function JLe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function e5e(e,t){const r=De.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Ss{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=c0(c);if(!d)throw new Error("header name must be a non-empty string");const f=De.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=t1(l))}const o=(l,c)=>De.forEach(l,(u,d)=>s(u,d,c));if(De.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(De.isString(t)&&(t=t.trim())&&!ZLe(t))o(XLe(t),r);else if(De.isObject(t)&&De.isIterable(t)){let l={},c,u;for(const d of t){if(!De.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?De.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=c0(t),t){const n=De.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return QLe(a);if(De.isFunction(r))return r.call(this,a,n);if(De.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=c0(t),t){const n=De.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||h2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=c0(o),o){const l=De.findKey(n,o);l&&(!r||h2(n,n[l],l,r))&&(delete n[l],a=!0)}}return De.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||h2(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return De.forEach(this,(a,s)=>{const o=De.findKey(n,s);if(o){r[o]=t1(a),delete r[s];return}const l=t?JLe(s):String(s).trim();l!==s&&delete r[s],r[l]=t1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return De.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&De.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[cL]=this[cL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=c0(o);n[l]||(e5e(a,o),n[l]=!0)}return De.isArray(t)?t.forEach(s):s(t),this}}Ss.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Ss.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});De.freezeMethods(Ss);function m2(e,t){const r=this||vx,n=t||r,a=Ss.from(n.headers);let s=n.data;return De.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function fG(e){return!!(e&&e.__CANCEL__)}function Mp(e,t,r){It.call(this,e??"canceled",It.ERR_CANCELED,t,r),this.name="CanceledError"}De.inherits(Mp,It,{__CANCEL__:!0});function hG(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function t5e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function r5e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function n5e(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const Zb=(e,t,r=3)=>{let n=0;const a=r5e(50,250);return n5e(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},uL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dL=e=>(...t)=>De.asap(()=>e(...t)),a5e=Na.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Na.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,s5e=Na.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];De.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),De.isString(n)&&l.push(`path=${n}`),De.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),De.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function i5e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function o5e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mG(e,t,r){let n=!i5e(t);return e&&(n||r==!1)?o5e(e,t):t}const fL=e=>e instanceof Ss?{...e}:e;function pf(e,t){t=t||{};const r={};function n(u,d,f,h){return De.isPlainObject(u)&&De.isPlainObject(d)?De.merge.call({caseless:h},u,d):De.isPlainObject(d)?De.merge({},d):De.isArray(d)?d.slice():d}function a(u,d,f,h){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!De.isUndefined(d))return n(void 0,d)}function o(u,d){if(De.isUndefined(d)){if(!De.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(fL(u),fL(d),f,!0)};return De.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);De.isUndefined(h)&&f!==l||(r[d]=h)}),r}const pG=e=>{const t=pf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ss.from(o),t.url=cG(mG(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(r)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(De.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Na.hasStandardBrowserEnv&&(n&&De.isFunction(n)&&(n=n(t)),n||n!==!1&&a5e(t.url))){const c=a&&s&&s5e.read(s);c&&o.set(a,c)}return t},l5e=typeof XMLHttpRequest<"u",c5e=l5e&&function(e){return new Promise(function(r,n){const a=pG(e);let s=a.data;const o=Ss.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const w=Ss.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};hG(function(S){r(S),g()},function(S){n(S),g()},j),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new It("Request aborted",It.ECONNABORTED,e,v)),v=null)},v.onerror=function(_){const j=_&&_.message?_.message:"Network Error",N=new It(j,It.ERR_NETWORK,e,v);N.event=_||null,n(N),v=null},v.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||uG;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new It(_,j.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&De.forEach(o.toJSON(),function(_,j){v.setRequestHeader(j,_)}),De.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=Zb(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=Zb(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=w=>{v&&(n(!w||w.type?new Mp(null,e,v):w),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=t5e(a.url);if(b&&Na.protocols.indexOf(b)===-1){n(new It("Unsupported protocol "+b+":",It.ERR_BAD_REQUEST,e));return}v.send(s||null)})},u5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof It?d:new Mp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new It(`timeout ${t} of ms exceeded`,It.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>De.asap(l),c}},d5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},f5e=async function*(e,t){for await(const r of h5e(e))yield*d5e(r,t)},h5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},hL=(e,t,r,n)=>{const a=f5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},mL=64*1024,{isFunction:yy}=De,m5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(De.global),{ReadableStream:pL,TextEncoder:gL}=De.global,vL=(e,...t)=>{try{return!!e(...t)}catch{return!1}},p5e=e=>{e=De.merge.call({skipUndefined:!0},m5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?yy(t):typeof fetch=="function",s=yy(r),o=yy(n);if(!a)return!1;const l=a&&yy(pL),c=a&&(typeof gL=="function"?(p=>g=>p.encode(g))(new gL):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&vL(()=>{let p=!1;const g=new r(Na.origin,{body:new pL,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=o&&l&&vL(()=>De.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,v)=>{let y=g&&g[p];if(y)return y.call(g);throw new It(`Response type '${p}' is not supported`,It.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(De.isBlob(p))return p.size;if(De.isSpecCompliantForm(p))return(await new r(Na.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(De.isArrayBufferView(p)||De.isArrayBuffer(p))return p.byteLength;if(De.isURLSearchParams(p)&&(p=p+""),De.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const v=De.toFiniteNumber(p.getContentLength());return v??h(g)};return async p=>{let{url:g,method:v,data:y,signal:b,cancelToken:w,timeout:_,onDownloadProgress:j,onUploadProgress:N,responseType:S,headers:k,withCredentials:C="same-origin",fetchOptions:E}=pG(p),P=t||fetch;S=S?(S+"").toLowerCase():"text";let T=u5e([b,w&&w.toAbortSignal()],_),V=null;const G=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let B;try{if(N&&u&&v!=="get"&&v!=="head"&&(B=await m(k,y))!==0){let X=new r(g,{method:"POST",body:y,duplex:"half"}),D;if(De.isFormData(y)&&(D=X.headers.get("content-type"))&&k.setContentType(D),X.body){const[R,M]=uL(B,Zb(dL(N)));y=hL(X.body,mL,R,M)}}De.isString(C)||(C=C?"include":"omit");const I=s&&"credentials"in r.prototype,z={...E,signal:T,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:I?C:void 0};V=s&&new r(g,z);let L=await(s?P(V,E):P(g,z));const F=d&&(S==="stream"||S==="response");if(d&&(j||F&&G)){const X={};["status","statusText","headers"].forEach(W=>{X[W]=L[W]});const D=De.toFiniteNumber(L.headers.get("content-length")),[R,M]=j&&uL(D,Zb(dL(j),!0))||[];L=new n(hL(L.body,mL,R,()=>{M&&M(),G&&G()}),X)}S=S||"text";let Y=await f[De.findKey(f,S)||"text"](L,p);return!F&&G&&G(),await new Promise((X,D)=>{hG(X,D,{data:Y,headers:Ss.from(L.headers),status:L.status,statusText:L.statusText,config:p,request:V})})}catch(I){throw G&&G(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,p,V),{cause:I.cause||I}):It.from(I,I&&I.code,p,V)}}},g5e=new Map,gG=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=g5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:p5e(t)),d=u;return u};gG();const IP={http:DLe,xhr:c5e,fetch:{get:gG}};De.forEach(IP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xL=e=>`- ${e}`,v5e=e=>De.isFunction(e)||e===null||e===!1;function x5e(e,t){e=De.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!v5e(n)&&(a=IP[(l=String(n)).toLowerCase()],a===void 0))throw new It(`Unknown adapter '${l}'`);if(a&&(De.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(xL).join(`
`):" "+xL(o[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const vG={getAdapter:x5e,adapters:IP};function p2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mp(null,e)}function yL(e){return p2(e),e.headers=Ss.from(e.headers),e.data=m2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vG.getAdapter(e.adapter||vx.adapter,e)(e).then(function(n){return p2(e),n.data=m2.call(e,e.transformResponse,n),n.headers=Ss.from(n.headers),n},function(n){return fG(n)||(p2(e),n&&n.response&&(n.response.data=m2.call(e,e.transformResponse,n.response),n.response.headers=Ss.from(n.response.headers))),Promise.reject(n)})}const xG="1.13.2",uj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{uj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const bL={};uj.transitional=function(t,r,n){function a(s,o){return"[Axios v"+xG+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new It(a(o," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!bL[o]&&(bL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};uj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function y5e(e,t,r){if(typeof e!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new It("option "+s+" must be "+c,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+s,It.ERR_BAD_OPTION)}}const r1={assertOptions:y5e,validators:uj},Fo=r1.validators;class Hd{constructor(t){this.defaults=t||{},this.interceptors={request:new lL,response:new lL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=pf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&r1.assertOptions(n,{silentJSONParsing:Fo.transitional(Fo.boolean),forcedJSONParsing:Fo.transitional(Fo.boolean),clarifyTimeoutError:Fo.transitional(Fo.boolean)},!1),a!=null&&(De.isFunction(a)?r.paramsSerializer={serialize:a}:r1.assertOptions(a,{encode:Fo.function,serialize:Fo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),r1.assertOptions(r,{baseUrl:Fo.spelling("baseURL"),withXsrfToken:Fo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&De.merge(s.common,s[r.method]);s&&De.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ss.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[yL.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],g=l[f++];try{m=p(m)}catch(v){g.call(this,v);break}}try{d=yL.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=pf(this.defaults,t);const r=mG(t.baseURL,t.url,t.allowAbsoluteUrls);return cG(r,t.params,t.paramsSerializer)}}De.forEach(["delete","get","head","options"],function(t){Hd.prototype[t]=function(r,n){return this.request(pf(n||{},{method:t,url:r,data:(n||{}).data}))}});De.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(pf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hd.prototype[t]=r(),Hd.prototype[t+"Form"]=r(!0)});class LP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Mp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new LP(function(a){t=a}),cancel:t}}}function b5e(e){return function(r){return e.apply(null,r)}}function w5e(e){return De.isObject(e)&&e.isAxiosError===!0}const HC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HC).forEach(([e,t])=>{HC[t]=e});function yG(e){const t=new Hd(e),r=Qq(Hd.prototype.request,t);return De.extend(r,Hd.prototype,t,{allOwnKeys:!0}),De.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return yG(pf(e,a))},r}const $r=yG(vx);$r.Axios=Hd;$r.CanceledError=Mp;$r.CancelToken=LP;$r.isCancel=fG;$r.VERSION=xG;$r.toFormData=cj;$r.AxiosError=It;$r.Cancel=$r.CanceledError;$r.all=function(t){return Promise.all(t)};$r.spread=b5e;$r.isAxiosError=w5e;$r.mergeConfig=pf;$r.AxiosHeaders=Ss;$r.formToJSON=e=>dG(De.isHTMLForm(e)?new FormData(e):e);$r.getAdapter=vG.getAdapter;$r.HttpStatusCode=HC;$r.default=$r;const u0="https://app.chatwoot.com",Io="",Lo="",by={async getConversations(e="open",t=1){var r;try{if(!Io||!Lo)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await $r.get(`${u0}/api/v1/accounts/${Lo}/conversations`,{headers:{api_access_token:Io},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Io||!Lo?[]:(await $r.get(`${u0}/api/v1/accounts/${Lo}/conversations/${e}/messages`,{headers:{api_access_token:Io}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Io||!Lo?null:(await $r.post(`${u0}/api/v1/accounts/${Lo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Io}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Io||!Lo)return;await $r.post(`${u0}/api/v1/accounts/${Lo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Io}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Io||!Lo?[]:(await $r.get(`${u0}/api/v1/accounts/${Lo}/inboxes`,{headers:{api_access_token:Io}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function _5e(){const{t:e}=Bt();gr(),jl();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{b(g);const k=setInterval(()=>{b(g,!0)},3e4);return()=>clearInterval(k)},[g]),x.useEffect(()=>{if(n){w(n.id);const k=setInterval(()=>w(n.id),1e4);return()=>clearInterval(k)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const b=async(k,C=!1)=>{C||c(!0);try{const E=await by.getConversations(k);r(E||[])}catch(E){console.error("Failed to load conversations:",E),C||console.error("User notification skipped for load error")}finally{C||c(!1)}},w=async k=>{s.length===0&&d(!0);try{const C=await by.getMessages(k);o(C)}catch(C){console.error("Failed to load messages",C)}finally{d(!1)}},_=async()=>{if(!(!m.trim()||!n)){h(!0);try{const k=await by.sendMessage(n.id,m);k&&(o(C=>[...C,k]),p(""))}catch(k){console.error("Failed to send message",k)}finally{h(!1)}}},j=async k=>{try{const C=g==="open"?"resolved":"open";await by.toggleStatus(k,C),g!=="all"?(r(E=>E.filter(P=>P.id!==k)),(n==null?void 0:n.id)===k&&(a(null),o([]))):(r(E=>E.map(P=>P.id===k?{...P,status:C}:P)),b(g))}catch(C){console.error("Failed to toggle status",C)}},N=k=>k!=null&&k.includes("email")?i.jsx(Jf,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(Gl,{className:"h-4 w-4"}):i.jsx(Du,{className:"h-4 w-4"}),S=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Xt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>b(g),disabled:l,children:i.jsx(Tg,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),i.jsx(yl,{defaultValue:"open",onValueChange:k=>v(k),className:"w-full",children:i.jsxs(To,{className:"grid w-full grid-cols-3",children:[i.jsx(Wr,{value:"open",children:e("status.open")}),i.jsx(Wr,{value:"resolved",children:e("status.closed")}),i.jsx(Wr,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(Ga,{className:"flex-1",children:t.length===0&&!l?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:t.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(So,{src:k.meta.sender.thumbnail}),i.jsx(Cs,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:S(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(ut,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ks,{children:[i.jsx(So,{src:n.meta.sender.thumbnail}),i.jsx(Cs,{children:n.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&i.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&i.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(n.id),children:n.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(Tg,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(fR,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(ZT,{children:[i.jsx(JT,{asChild:!0,children:i.jsx(ue,{variant:"ghost",size:"icon",children:i.jsx(vB,{className:"h-4 w-4"})})}),i.jsxs(r_,{align:"end",children:[i.jsx(Vl,{children:e("chats.viewContactDetails")}),i.jsx(Vl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(k=>{const C=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",E=k.private;return i.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${E?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[E&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(Xne,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[S(k.created_at),C&&i.jsx(fR,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ve,{placeholder:e("chats.typeMessage"),value:m,onChange:k=>p(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&_(),disabled:f||n.status==="resolved",className:"flex-1"}),i.jsx(ue,{onClick:_,disabled:f||!m.trim()||n.status==="resolved",children:f?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Lv,{className:"h-4 w-4"})})]}),n.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(Du,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function j5e(){const{user:e}=gr(),{t}=Bt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[p,g]=x.useState(!1),[v,y]=x.useState(null),[b,w]=x.useState(null),[_,j]=x.useState(!1),[N,S]=x.useState(!0),k=x.useRef(!1),C=x.useRef(null),E=x.useRef(null);x.useEffect(()=>{e&&!k.current&&P()},[e]),x.useEffect(()=>{a&&(E.current!==a.room_id&&V(),C.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(z){console.error("Failed to setup realtime:",z)}})()},[a]),x.useEffect(()=>{g(!1),y(null),w(null),k.current=!1,C.current=null,E.current=null},[e]);const P=async()=>{if(!k.current)try{m(!0);const I=await Qi.getUserRooms((e==null?void 0:e.id)||"");n(I),I.length>0&&s(I[0]),g(!0),k.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{m(!1)}},T=async()=>{if(!(!a||C.current===a.room_id))try{const I=await Kc.getByRoom(a.room_id);l(I),y(a.room_id),C.current=a.room_id}catch(I){console.error("Failed to load messages:",I)}},V=async()=>{if(!(!a||E.current===a.room_id))try{const I=await Qi.getRoomMembers(a.room_id);u(I),w(a.room_id),E.current=a.room_id}catch(I){console.error("Failed to load room members:",I)}},G=async()=>{if(!d.trim()||!a||!e)return;const I=d.trim(),z={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:I,created_at:new Date().toISOString(),metadata:null};l(L=>[...L,z]),f("");try{await Kc.create({room_id:a.room_id,userid:e.id.toString(),content:I,metadata:null})}catch(L){console.error("Failed to send message:",L),l(F=>F.filter(Y=>Y.message_id!==z.message_id)),f(I)}},B=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(Ga,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(I=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(I),children:i.jsx(dt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(pl,{open:_,onOpenChange:j,children:[i.jsx(N7,{asChild:!0,children:i.jsxs(ue,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(Qx,{className:"h-4 w-4 ml-2"})]})}),i.jsx(Co,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(Ga,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(I=>i.jsx(st,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(I),j(!1)},children:i.jsx(dt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Qx,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ka,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>S(!N),children:i.jsx(yae,{className:"h-4 w-4"})})]}),i.jsx(Ga,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(I=>{var L,F,Y,X,D;let z;return I.userid===((L=e==null?void 0:e.id)==null?void 0:L.toString())?z={userid:e.id.toString(),user_name:((F=e.profile)==null?void 0:F.user_name)||e.email||t("chats.you"),avatar:(Y=e.profile)==null?void 0:Y.avatar,user_id:((X=e.profile)==null?void 0:X.user_id)||0,user_email:e.email}:z=c.find(R=>R.userid===I.userid),z||(z={userid:I.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(ks,{className:"h-8 w-8",children:[i.jsx(So,{src:z.avatar||""}),i.jsx(Cs,{children:((D=z.user_name)==null?void 0:D.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:z.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:B(I.created_at)})]}),i.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(Ve,{value:d,onChange:I=>f(I.target.value),placeholder:t("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&G(),className:"flex-1"}),i.jsx(ue,{onClick:G,disabled:!d.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Qx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function S5e(){const{isRTL:e}=Da();Jr();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=gr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const g=await zc.getByUserAuthId(f.id);a(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[g,v]=await Promise.all([Cd.getAll(),BC.getByTask(0)]),y=g.filter(b=>!0);o(y),c(v)}catch(g){console.error("Failed to fetch project data:",g)}})()},[t]);const m=t?n.find(p=>p.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(ue,{variant:"ghost",size:"sm",children:[i.jsx(pae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Oe((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(ue,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:m.project_name})}),i.jsxs(dt,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(mf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(yl,{defaultValue:"tasks",children:[i.jsxs(To,{children:[i.jsx(Wr,{value:"tasks",children:"Tasks"}),i.jsx(Wr,{value:"images",children:"Gallery"}),i.jsx(Wr,{value:"comments",children:"Comments"})]}),i.jsx(yn,{value:"tasks",className:"space-y-3",children:s.filter(p=>p.stage_id!==null).map(p=>{var g;return i.jsx(st,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:p.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description||"No description"})]}),i.jsxs(ut,{variant:p.task_status==="completed"?"default":"secondary",children:[p.task_status==="completed"?"":""," ",((g=p.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},p.task_id)})}),i.jsx(yn,{value:"images",children:i.jsx(st,{children:i.jsx(dt,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(p=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},p))})})})}),i.jsx(yn,{value:"comments",children:i.jsx(st,{children:i.jsxs(dt,{className:"pt-6 space-y-4",children:[l.map(p=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:p.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:p.created_date?new Date(p.created_date).toLocaleString():"Unknown date"})]})]},p.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(Ve,{placeholder:"Add a comment..."}),i.jsx(ue,{children:i.jsx(Du,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{className:"text-lg",children:"Timeline"})}),i.jsxs(dt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(sa,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>i.jsxs(st,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(p.project_id),children:[i.jsxs(zt,{children:[i.jsx(lr,{className:"text-lg",children:p.project_name}),i.jsxs(ut,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",p.stage||"N/A"]})]}),i.jsx(dt,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[p.progress||0,"%"]})]}),i.jsx(mf,{value:p.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"]}),i.jsx(ue,{className:"w-full",variant:"outline",children:"View Details "})]})})]},p.project_id))})]})]})}const N5e=()=>{const e=Ms(),{t}=Bt(),{toast:r}=jl(),{companyName:n}=RB(),a=[{icon:i.jsx(Mh,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(Ka,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx(rae,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(Du,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(U0,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(M1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(iU,{}),i.jsx(ue,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(ut,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(xB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(ue,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(Zne,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(ue,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(st,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(dt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(st,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(dt,{className:"p-8 sm:p-12 text-center",children:[i.jsx(bB,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(ue,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(zd,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(st,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(dt,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await Jy.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(Ve,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(Ve,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ve,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(Ve,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(ue,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},k5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Ms(),{user:s}=gr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(sa,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})},Zm=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:be("mx-auto flex w-full justify-center",e),...t});Zm.displayName="Pagination";const Jm=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:be("flex flex-row items-center gap-1",e),...t}));Jm.displayName="PaginationContent";const Sa=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:be("",e),...t}));Sa.displayName="PaginationItem";const $P=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:be(ym({variant:t?"outline":"ghost",size:r}),e),...n});$P.displayName="PaginationLink";const uu=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to previous page",size:"default",className:be("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});uu.displayName="PaginationPrevious";const du=({className:e,children:t,...r})=>i.jsx($P,{"aria-label":"Go to next page",size:"default",className:be("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});du.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var bG=1252,C5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],BP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},UP=function(e){C5e.indexOf(e)!=-1&&(bG=BP[0]=e)};function E5e(){UP(1252)}var uo=function(e){UP(e)};function wG(){uo(1200),E5e()}function wL(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function T5e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function _G(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var S0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?T5e(e.slice(2)):t==254&&r==255?_G(e.slice(2)):t==65279?e.slice(1):e},wy=function(t){return String.fromCharCode(t)},_L=function(t){return String.fromCharCode(t)},Yc,fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jL(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=fu.charAt(s)+fu.charAt(o)+fu.charAt(l)+fu.charAt(c);return t}function oi(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=fu.indexOf(e.charAt(u++)),o=fu.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=fu.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=fu.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Yt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Pf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Iu(e){return Yt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function SL(e){return Yt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var oo=function(t){return Yt?Pf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Of(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function zP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return zP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Xc=Yt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Pf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function A5e(e){for(var t=[],r=0,n=e.length+250,a=Iu(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Iu(65535),n=65530)}return t.push(a.slice(0,r)),Xc(t)}var rs=/\u0000/g,N0=/[\u0001-\u0006]/g;function Hh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function fo(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}function VP(e,t){var r=""+e;return r.length>=t?r:Qr(" ",t-r.length)+r}function Jb(e,t){var r=""+e;return r.length>=t?r:r+Qr(" ",t-r.length)}function P5e(e,t){var r=""+Math.round(e);return r.length>=t?r:Qr("0",t-r.length)+r}function O5e(e,t){var r=""+e;return r.length>=t?r:Qr("0",t-r.length)+r}var NL=Math.pow(2,32);function Qf(e,t){if(e>NL||e<-NL)return P5e(e,t);var r=Math.round(e);return O5e(r,t)}function ew(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var kL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],g2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function D5e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ft={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},CL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},R5e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function tw(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Td(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=B5e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var jG=new Date(1899,11,31,0,0,0),M5e=jG.getTime(),F5e=new Date(1900,2,1,0,0,0);function SG(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=F5e&&(r+=24*60*60*1e3),(r-(M5e+(e.getTimezoneOffset()-jG.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function WP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function I5e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function L5e(e){var t=e<0?12:11,r=WP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function $5e(e){var t=WP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function vv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=L5e(e):t===10?r=e.toFixed(10).substr(0,12):r=$5e(e),WP(I5e(r.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):vv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ri(14,SG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function B5e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function U5e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return g2[r.m-1][1];case 5:return g2[r.m-1][0];default:return g2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return kL[r.q][0];default:return kL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?fo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=fo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?fo(c,u):"";return d}function hu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var NG=/%/g;function z5e(e,t,r){var n=t.replace(NG,""),a=t.length-n.length;return nc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function V5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return nc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function kG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+kG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var CG=/# (\?+)( ?)\/( ?)(\d+)/;function W5e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Qr(" ",e[1].length+1+e[4].length):VP(o,e[1].length)+e[2]+"/"+e[3]+fo(l,e[4].length))}function H5e(e,t,r){return r+(t===0?"":""+t)+Qr(" ",e[1].length+2+e[4].length)}var EG=/^#*0*\.([0#]+)/,TG=/\).*[0#]/,AG=/\(###\) ###\\?-####/;function Va(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function EL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function TL(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function q5e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function G5e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function vi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vi("n",n,r):"("+vi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return V5e(e,t,r);if(t.indexOf("%")!==-1)return z5e(e,t,r);if(t.indexOf("E")!==-1)return kG(t,r);if(t.charCodeAt(0)===36)return"$"+vi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Qf(c,t.length);if(t.match(/^[#?]+$/))return a=Qf(r,0),a==="0"&&(a=""),a.length>t.length?a:Va(t.substr(0,t.length-a.length))+a;if(s=t.match(CG))return W5e(s,c,u);if(t.match(/^#+0+$/))return u+Qf(c,t.length-t.indexOf("0"));if(s=t.match(EG))return a=EL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Qr("0",Va(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+EL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hu(Qf(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vi(e,t,-r):hu(""+(Math.floor(r)+q5e(r,s[1].length)))+"."+fo(TL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return vi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hh(vi(e,t.replace(/[\\-]/g,""),r)),o=0,Hh(Hh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(AG))return a=vi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=tw(c,Math.pow(10,o)-1,!1),a=""+u,d=nc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jb(l[2],o),d.length<s[4].length&&(d=Va(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=tw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Jb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Qf(r,0),t.length<=a.length?a:Va(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Va(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=TL(r,s[1].length),r<0?"-"+vi(e,t,-r):hu(G5e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?fo(0,3-p.length):"")+p})+"."+fo(o,s[1].length);switch(t){case"###,##0.00":return vi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=hu(Qf(c,0));return m!=="0"?u+m:"";case"###,###.00":return vi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return vi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function K5e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return nc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Y5e(e,t,r){var n=t.replace(NG,""),a=t.length-n.length;return nc(e,n,r*Math.pow(10,2*a))+Qr("%",a)}function PG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Uo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(TG)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uo("n",n,r):"("+Uo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return K5e(e,t,r);if(t.indexOf("%")!==-1)return Y5e(e,t,r);if(t.indexOf("E")!==-1)return PG(t,r);if(t.charCodeAt(0)===36)return"$"+Uo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+fo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Va(t.substr(0,t.length-a.length))+a;if(s=t.match(CG))return H5e(s,c,u);if(t.match(/^#+0+$/))return u+fo(c,t.length-t.indexOf("0"));if(s=t.match(EG))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Va(s[1])).replace(/\.$/,"."+Va(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+Qr("0",Va(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+hu(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uo(e,t,-r):hu(""+r)+"."+Qr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Uo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Hh(Uo(e,t.replace(/[\\-]/g,""),r)),o=0,Hh(Hh(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(AG))return a=Uo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=tw(c,Math.pow(10,o)-1,!1),a=""+u,d=nc("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Jb(l[2],o),d.length<s[4].length&&(d=Va(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=tw(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?VP(l[1],o)+s[2]+"/"+s[3]+Jb(l[2],o):Qr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Va(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Va(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Uo(e,t,-r):hu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?fo(0,3-p.length):"")+p})+"."+fo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=hu(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Uo(e,t.slice(0,t.lastIndexOf(".")),r)+Va(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function nc(e,t,r){return(r|0)===r?Uo(e,t,r):vi(e,t,r)}function X5e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var OG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Fp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ew(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(OG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Q5e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!ew(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Td(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Td(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Td(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(OG)){if(u==null&&(u=Td(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Fp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=U5e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(_=o+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[o].v+=a[_].v,a[_]={v:"",t:";"},++_;w+=a[o].v,o=_-1;break;case"G":a[o].t="t",a[o].v=gf(t,r);break}var j="",N,S;if(w.length>0){w.charCodeAt(0)==40?(N=t<0&&w.charCodeAt(0)===45?-t:t,S=nc("n",w,N)):(N=t<0&&n>1?-t:t,S=nc("n",w,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),_=S.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var C=a.length;if(k===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(_>=a[o].v.length-1?(_-=a[o].v.length,a[o].v=S.substr(_+1,a[o].v.length)):_<0?a[o].v="":(a[o].v=S.substr(0,_+1),_=-1),a[o].t="t",C=o);_>=0&&C<a.length&&(a[C].v=S.substr(0,_+1)+a[C].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(_=S.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)_>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=S.charAt(_--)+j);a[o].v=j,a[o].t="t",C=o}for(_>=0&&C<a.length&&(a[C].v=S.substr(0,_+1)+a[C].v),_=S.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)_<S.length&&(j+=S.charAt(_++));a[o].v=j,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=nc(a[o].t,a[o].v,N),a[o].t="t");var E="";for(o=0;o!==a.length;++o)a[o]!=null&&(E+=a[o].v);return E}var AL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function PL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Z5e(e,t){var r=X5e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(AL),l=r[1].match(AL);return PL(t,o)?[n,r[0]]:PL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Ri(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ft)[e],n==null&&(n=r.table&&r.table[CL[e]]||Ft[CL[e]]),n==null&&(n=R5e[e]||"General");break}if(ew(n,0))return gf(t,r);t instanceof Date&&(t=SG(t,r.date1904));var a=Z5e(n,t);if(ew(a[1]))return gf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Q5e(a[1],t,r,a[0])}function qd(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ft[r]==null){t<0&&(t=r);continue}if(Ft[r]==e){t=r;break}}t<0&&(t=391)}return Ft[t]=e,t}function DG(){Ft=D5e()}var J5e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},RG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function e$e(e){var t=typeof e=="number"?Ft[e]:e;return t=t.replace(RG,"(\\d+)"),new RegExp("^"+t+"$")}function t$e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(RG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var r$e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[C]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,C=0,E=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(E=0;E!=256;++E)P[E]=S[E];for(E=0;E!=256;++E)for(C=S[E],k=256+E;k<4096;k+=256)C=P[k]=C>>>8^S[C&255];var T=[];for(E=1;E!=16;++E)T[E-1]=typeof Int32Array<"u"?P.subarray(E*256,E*256+256):P.slice(E*256,E*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function _(S,k){for(var C=k^-1,E=0,P=S.length;E<P;)C=C>>>8^r[(C^S.charCodeAt(E++))&255];return~C}function j(S,k){for(var C=k^-1,E=S.length-15,P=0;P<E;)C=w[S[P++]^C&255]^b[S[P++]^C>>8&255]^y[S[P++]^C>>16&255]^v[S[P++]^C>>>24]^g[S[P++]]^p[S[P++]]^m[S[P++]]^h[S[P++]]^f[S[P++]]^d[S[P++]]^u[S[P++]]^c[S[P++]]^l[S[P++]]^o[S[P++]]^s[S[P++]]^r[S[P++]];for(E+=15;P<E;)C=C>>>8^r[(C^S[P++])&255];return~C}function N(S,k){for(var C=k^-1,E=0,P=S.length,T=0,V=0;E<P;)T=S.charCodeAt(E++),T<128?C=C>>>8^r[(C^T)&255]:T<2048?(C=C>>>8^r[(C^(192|T>>6&31))&255],C=C>>>8^r[(C^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,V=S.charCodeAt(E++)&1023,C=C>>>8^r[(C^(240|T>>8&7))&255],C=C>>>8^r[(C^(128|T>>2&63))&255],C=C>>>8^r[(C^(128|V>>6&15|(T&3)<<4))&255],C=C>>>8^r[(C^(128|V&63))&255]):(C=C>>>8^r[(C^(224|T>>12&15))&255],C=C>>>8^r[(C^(128|T>>6&63))&255],C=C>>>8^r[(C^(128|T&63))&255]);return~C}return e.table=r,e.bstr=_,e.buf=j,e.str=N,e}(),Qt=function(){var t={};t.version="1.2.1";function r(q,ne){for(var Z=q.split("/"),ee=ne.split("/"),ae=0,oe=0,H=Math.min(Z.length,ee.length);ae<H;++ae){if(oe=Z[ae].length-ee[ae].length)return oe;if(Z[ae]!=ee[ae])return Z[ae]<ee[ae]?-1:1}return Z.length-ee.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var ne=q.lastIndexOf("/");return ne===-1?q:q.slice(0,ne+1)}function a(q){if(q.charAt(q.length-1)=="/")return a(q.slice(0,-1));var ne=q.lastIndexOf("/");return ne===-1?q:q.slice(ne+1)}function s(q,ne){typeof ne=="string"&&(ne=new Date(ne));var Z=ne.getHours();Z=Z<<6|ne.getMinutes(),Z=Z<<5|ne.getSeconds()>>>1,q.write_shift(2,Z);var ee=ne.getFullYear()-1980;ee=ee<<4|ne.getMonth()+1,ee=ee<<5|ne.getDate(),q.write_shift(2,ee)}function o(q){var ne=q.read_shift(2)&65535,Z=q.read_shift(2)&65535,ee=new Date,ae=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,ee.setMilliseconds(0),ee.setFullYear(Z+1980),ee.setMonth(oe-1),ee.setDate(ae);var H=ne&31;ne>>>=5;var de=ne&63;return ne>>>=6,ee.setHours(ne),ee.setMinutes(de),ee.setSeconds(H<<1),ee}function l(q){Qn(q,0);for(var ne={},Z=0;q.l<=q.length-4;){var ee=q.read_shift(2),ae=q.read_shift(2),oe=q.l+ae,H={};switch(ee){case 21589:Z=q.read_shift(1),Z&1&&(H.mtime=q.read_shift(4)),ae>5&&(Z&2&&(H.atime=q.read_shift(4)),Z&4&&(H.ctime=q.read_shift(4))),H.mtime&&(H.mt=new Date(H.mtime*1e3));break}q.l=oe,ne[ee]=H}return ne}var c;function u(){return c||(c={})}function d(q,ne){if(q[0]==80&&q[1]==75)return $s(q,ne);if((q[0]|32)==109&&(q[1]|32)==105)return Us(q,ne);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var Z=3,ee=512,ae=0,oe=0,H=0,de=0,me=0,we=[],ke=q.slice(0,512);Qn(ke,0);var Fe=f(ke);switch(Z=Fe[0],Z){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(Fe[1]==0)return $s(q,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}ee!==512&&(ke=q.slice(0,ee),Qn(ke,28));var He=q.slice(0,ee);h(ke,Z);var te=ke.read_shift(4,"i");if(Z===3&&te!==0)throw new Error("# Directory Sectors: Expected 0 saw "+te);ke.l+=4,H=ke.read_shift(4,"i"),ke.l+=4,ke.chk("00100000","Mini Stream Cutoff Size: "),de=ke.read_shift(4,"i"),ae=ke.read_shift(4,"i"),me=ke.read_shift(4,"i"),oe=ke.read_shift(4,"i");for(var pe=-1,Ee=0;Ee<109&&(pe=ke.read_shift(4,"i"),!(pe<0));++Ee)we[Ee]=pe;var ve=m(q,ee);v(me,oe,ve,ee,we);var rt=b(ve,H,we,ee);rt[H].name="!Directory",ae>0&&de!==V&&(rt[de].name="!MiniFAT"),rt[we[0]].name="!FAT",rt.fat_addrs=we,rt.ssz=ee;var wt={},Ht=[],nt=[],We=[];w(H,rt,ve,Ht,ae,wt,nt,de),p(nt,We,Ht),Ht.shift();var tn={FileIndex:nt,FullPaths:We};return ne&&ne.raw&&(tn.raw={header:He,sectors:ve}),tn}function f(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(G,"Header Signature: "),q.l+=16;var ne=q.read_shift(2,"u");return[q.read_shift(2,"u"),ne]}function h(q,ne){var Z=9;switch(q.l+=2,Z=q.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function m(q,ne){for(var Z=Math.ceil(q.length/ne)-1,ee=[],ae=1;ae<Z;++ae)ee[ae-1]=q.slice(ae*ne,(ae+1)*ne);return ee[Z-1]=q.slice(Z*ne),ee}function p(q,ne,Z){for(var ee=0,ae=0,oe=0,H=0,de=0,me=Z.length,we=[],ke=[];ee<me;++ee)we[ee]=ke[ee]=ee,ne[ee]=Z[ee];for(;de<ke.length;++de)ee=ke[de],ae=q[ee].L,oe=q[ee].R,H=q[ee].C,we[ee]===ee&&(ae!==-1&&we[ae]!==ae&&(we[ee]=we[ae]),oe!==-1&&we[oe]!==oe&&(we[ee]=we[oe])),H!==-1&&(we[H]=ee),ae!==-1&&ee!=we[ee]&&(we[ae]=we[ee],ke.lastIndexOf(ae)<de&&ke.push(ae)),oe!==-1&&ee!=we[ee]&&(we[oe]=we[ee],ke.lastIndexOf(oe)<de&&ke.push(oe));for(ee=1;ee<me;++ee)we[ee]===ee&&(oe!==-1&&we[oe]!==oe?we[ee]=we[oe]:ae!==-1&&we[ae]!==ae&&(we[ee]=we[ae]));for(ee=1;ee<me;++ee)if(q[ee].type!==0){if(de=ee,de!=we[de])do de=we[de],ne[ee]=ne[de]+"/"+ne[ee];while(de!==0&&we[de]!==-1&&de!=we[de]);we[ee]=-1}for(ne[0]+="/",ee=1;ee<me;++ee)q[ee].type!==2&&(ne[ee]+="/")}function g(q,ne,Z){for(var ee=q.start,ae=q.size,oe=[],H=ee;Z&&ae>0&&H>=0;)oe.push(ne.slice(H*T,H*T+T)),ae-=T,H=vd(Z,H*4);return oe.length===0?Cn(0):Xc(oe).slice(0,q.size)}function v(q,ne,Z,ee,ae){var oe=V;if(q===V){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var H=Z[q],de=(ee>>>2)-1;if(!H)return;for(var me=0;me<de&&(oe=vd(H,me*4))!==V;++me)ae.push(oe);v(vd(H,ee-4),ne-1,Z,ee,ae)}}function y(q,ne,Z,ee,ae){var oe=[],H=[];ae||(ae=[]);var de=ee-1,me=0,we=0;for(me=ne;me>=0;){ae[me]=!0,oe[oe.length]=me,H.push(q[me]);var ke=Z[Math.floor(me*4/ee)];if(we=me*4&de,ee<4+we)throw new Error("FAT boundary crossed: "+me+" 4 "+ee);if(!q[ke])break;me=vd(q[ke],we)}return{nodes:oe,data:UL([H])}}function b(q,ne,Z,ee){var ae=q.length,oe=[],H=[],de=[],me=[],we=ee-1,ke=0,Fe=0,He=0,te=0;for(ke=0;ke<ae;++ke)if(de=[],He=ke+ne,He>=ae&&(He-=ae),!H[He]){me=[];var pe=[];for(Fe=He;Fe>=0;){pe[Fe]=!0,H[Fe]=!0,de[de.length]=Fe,me.push(q[Fe]);var Ee=Z[Math.floor(Fe*4/ee)];if(te=Fe*4&we,ee<4+te)throw new Error("FAT boundary crossed: "+Fe+" 4 "+ee);if(!q[Ee]||(Fe=vd(q[Ee],te),pe[Fe]))break}oe[He]={nodes:de,data:UL([me])}}return oe}function w(q,ne,Z,ee,ae,oe,H,de){for(var me=0,we=ee.length?2:0,ke=ne[q].data,Fe=0,He=0,te;Fe<ke.length;Fe+=128){var pe=ke.slice(Fe,Fe+128);Qn(pe,64),He=pe.read_shift(2),te=YP(pe,0,He-we),ee.push(te);var Ee={name:te,type:pe.read_shift(1),color:pe.read_shift(1),L:pe.read_shift(4,"i"),R:pe.read_shift(4,"i"),C:pe.read_shift(4,"i"),clsid:pe.read_shift(16),state:pe.read_shift(4,"i"),start:0,size:0},ve=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);ve!==0&&(Ee.ct=_(pe,pe.l-8));var rt=pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2)+pe.read_shift(2);rt!==0&&(Ee.mt=_(pe,pe.l-8)),Ee.start=pe.read_shift(4,"i"),Ee.size=pe.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=V,Ee.name=""),Ee.type===5?(me=Ee.start,ae>0&&me!==V&&(ne[me].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",ne[Ee.start]===void 0&&(ne[Ee.start]=y(Z,Ee.start,ne.fat_addrs,ne.ssz)),ne[Ee.start].name=Ee.name,Ee.content=ne[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:me!==V&&Ee.start!==V&&ne[me]&&(Ee.content=g(Ee,ne[me].data,(ne[de]||{}).data))),Ee.content&&Qn(Ee.content,0),oe[te]=Ee,H.push(Ee)}}function _(q,ne){return new Date((Ys(q,ne+4)/1e7*Math.pow(2,32)+Ys(q,ne)/1e7-11644473600)*1e3)}function j(q,ne){return u(),d(c.readFileSync(q),ne)}function N(q,ne){var Z=ne&&ne.type;switch(Z||Yt&&Buffer.isBuffer(q)&&(Z="buffer"),Z||"base64"){case"file":return j(q,ne);case"base64":return d(oo(oi(q)),ne);case"binary":return d(oo(q),ne)}return d(q,ne)}function S(q,ne){var Z=ne||{},ee=Z.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=ee+"/",q.FileIndex[0]={name:ee,type:5}),Z.CLSID&&(q.FileIndex[0].clsid=Z.CLSID),k(q)}function k(q){var ne="Sh33tJ5";if(!Qt.find(q,"/"+ne)){var Z=Cn(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,q.FileIndex.push({name:ne,type:2,content:Z,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ne),C(q)}}function C(q,ne){S(q);for(var Z=!1,ee=!1,ae=q.FullPaths.length-1;ae>=0;--ae){var oe=q.FileIndex[ae];switch(oe.type){case 0:ee?Z=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ne)){var H=new Date(1987,1,19),de=0,me=Object.create?Object.create(null):{},we=[];for(ae=0;ae<q.FullPaths.length;++ae)me[q.FullPaths[ae]]=!0,q.FileIndex[ae].type!==0&&we.push([q.FullPaths[ae],q.FileIndex[ae]]);for(ae=0;ae<we.length;++ae){var ke=n(we[ae][0]);ee=me[ke],ee||(we.push([ke,{name:a(ke).replace("/",""),type:1,clsid:I,ct:H,mt:H,content:null}]),me[ke]=!0)}for(we.sort(function(te,pe){return r(te[0],pe[0])}),q.FullPaths=[],q.FileIndex=[],ae=0;ae<we.length;++ae)q.FullPaths[ae]=we[ae][0],q.FileIndex[ae]=we[ae][1];for(ae=0;ae<we.length;++ae){var Fe=q.FileIndex[ae],He=q.FullPaths[ae];if(Fe.name=a(He).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||I,ae===0)Fe.C=we.length>1?1:-1,Fe.size=0,Fe.type=5;else if(He.slice(-1)=="/"){for(de=ae+1;de<we.length&&n(q.FullPaths[de])!=He;++de);for(Fe.C=de>=we.length?-1:de,de=ae+1;de<we.length&&n(q.FullPaths[de])!=n(He);++de);Fe.R=de>=we.length?-1:de,Fe.type=1}else n(q.FullPaths[ae+1]||"")==n(He)&&(Fe.R=ae+1),Fe.type=2}}}function E(q,ne){var Z=ne||{};if(Z.fileType=="mad")return Do(q,Z);switch(C(q),Z.fileType){case"zip":return Bi(q,Z)}var ee=function(te){for(var pe=0,Ee=0,ve=0;ve<te.FileIndex.length;++ve){var rt=te.FileIndex[ve];if(rt.content){var wt=rt.content.length;wt>0&&(wt<4096?pe+=wt+63>>6:Ee+=wt+511>>9)}}for(var Ht=te.FullPaths.length+3>>2,nt=pe+7>>3,We=pe+127>>7,tn=nt+Ee+Ht+We,Ur=tn+127>>7,Ui=Ur<=109?0:Math.ceil((Ur-109)/127);tn+Ur+Ui+127>>7>Ur;)Ui=++Ur<=109?0:Math.ceil((Ur-109)/127);var Ln=[1,Ui,Ur,We,Ht,Ee,pe,0];return te.FileIndex[0].size=pe<<6,Ln[7]=(te.FileIndex[0].start=Ln[0]+Ln[1]+Ln[2]+Ln[3]+Ln[4]+Ln[5])+(Ln[6]+7>>3),Ln}(q),ae=Cn(ee[7]<<9),oe=0,H=0;{for(oe=0;oe<8;++oe)ae.write_shift(1,B[oe]);for(oe=0;oe<8;++oe)ae.write_shift(2,0);for(ae.write_shift(2,62),ae.write_shift(2,3),ae.write_shift(2,65534),ae.write_shift(2,9),ae.write_shift(2,6),oe=0;oe<3;++oe)ae.write_shift(2,0);for(ae.write_shift(4,0),ae.write_shift(4,ee[2]),ae.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ae.write_shift(4,0),ae.write_shift(4,4096),ae.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:V),ae.write_shift(4,ee[3]),ae.write_shift(-4,ee[1]?ee[0]-1:V),ae.write_shift(4,ee[1]),oe=0;oe<109;++oe)ae.write_shift(-4,oe<ee[2]?ee[1]+oe:-1)}if(ee[1])for(H=0;H<ee[1];++H){for(;oe<236+H*127;++oe)ae.write_shift(-4,oe<ee[2]?ee[1]+oe:-1);ae.write_shift(-4,H===ee[1]-1?V:H+1)}var de=function(te){for(H+=te;oe<H-1;++oe)ae.write_shift(-4,oe+1);te&&(++oe,ae.write_shift(-4,V))};for(H=oe=0,H+=ee[1];oe<H;++oe)ae.write_shift(-4,z.DIFSECT);for(H+=ee[2];oe<H;++oe)ae.write_shift(-4,z.FATSECT);de(ee[3]),de(ee[4]);for(var me=0,we=0,ke=q.FileIndex[0];me<q.FileIndex.length;++me)ke=q.FileIndex[me],ke.content&&(we=ke.content.length,!(we<4096)&&(ke.start=H,de(we+511>>9)));for(de(ee[6]+7>>3);ae.l&511;)ae.write_shift(-4,z.ENDOFCHAIN);for(H=oe=0,me=0;me<q.FileIndex.length;++me)ke=q.FileIndex[me],ke.content&&(we=ke.content.length,!(!we||we>=4096)&&(ke.start=H,de(we+63>>6)));for(;ae.l&511;)ae.write_shift(-4,z.ENDOFCHAIN);for(oe=0;oe<ee[4]<<2;++oe){var Fe=q.FullPaths[oe];if(!Fe||Fe.length===0){for(me=0;me<17;++me)ae.write_shift(4,0);for(me=0;me<3;++me)ae.write_shift(4,-1);for(me=0;me<12;++me)ae.write_shift(4,0);continue}ke=q.FileIndex[oe],oe===0&&(ke.start=ke.size?ke.start-1:V);var He=oe===0&&Z.root||ke.name;if(we=2*(He.length+1),ae.write_shift(64,He,"utf16le"),ae.write_shift(2,we),ae.write_shift(1,ke.type),ae.write_shift(1,ke.color),ae.write_shift(-4,ke.L),ae.write_shift(-4,ke.R),ae.write_shift(-4,ke.C),ke.clsid)ae.write_shift(16,ke.clsid,"hex");else for(me=0;me<4;++me)ae.write_shift(4,0);ae.write_shift(4,ke.state||0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,ke.start),ae.write_shift(4,ke.size),ae.write_shift(4,0)}for(oe=1;oe<q.FileIndex.length;++oe)if(ke=q.FileIndex[oe],ke.size>=4096)if(ae.l=ke.start+1<<9,Yt&&Buffer.isBuffer(ke.content))ke.content.copy(ae,ae.l,0,ke.size),ae.l+=ke.size+511&-512;else{for(me=0;me<ke.size;++me)ae.write_shift(1,ke.content[me]);for(;me&511;++me)ae.write_shift(1,0)}for(oe=1;oe<q.FileIndex.length;++oe)if(ke=q.FileIndex[oe],ke.size>0&&ke.size<4096)if(Yt&&Buffer.isBuffer(ke.content))ke.content.copy(ae,ae.l,0,ke.size),ae.l+=ke.size+63&-64;else{for(me=0;me<ke.size;++me)ae.write_shift(1,ke.content[me]);for(;me&63;++me)ae.write_shift(1,0)}if(Yt)ae.l=ae.length;else for(;ae.l<ae.length;)ae.write_shift(1,0);return ae}function P(q,ne){var Z=q.FullPaths.map(function(me){return me.toUpperCase()}),ee=Z.map(function(me){var we=me.split("/");return we[we.length-(me.slice(-1)=="/"?2:1)]}),ae=!1;ne.charCodeAt(0)===47?(ae=!0,ne=Z[0].slice(0,-1)+ne):ae=ne.indexOf("/")!==-1;var oe=ne.toUpperCase(),H=ae===!0?Z.indexOf(oe):ee.indexOf(oe);if(H!==-1)return q.FileIndex[H];var de=!oe.match(N0);for(oe=oe.replace(rs,""),de&&(oe=oe.replace(N0,"!")),H=0;H<Z.length;++H)if((de?Z[H].replace(N0,"!"):Z[H]).replace(rs,"")==oe||(de?ee[H].replace(N0,"!"):ee[H]).replace(rs,"")==oe)return q.FileIndex[H];return null}var T=64,V=-2,G="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(q,ne,Z){u();var ee=E(q,Z);c.writeFileSync(ne,ee)}function F(q){for(var ne=new Array(q.length),Z=0;Z<q.length;++Z)ne[Z]=String.fromCharCode(q[Z]);return ne.join("")}function Y(q,ne){var Z=E(q,ne);switch(ne&&ne.type||"buffer"){case"file":return u(),c.writeFileSync(ne.filename,Z),Z;case"binary":return typeof Z=="string"?Z:F(Z);case"base64":return jL(typeof Z=="string"?Z:F(Z));case"buffer":if(Yt)return Buffer.isBuffer(Z)?Z:Pf(Z);case"array":return typeof Z=="string"?oo(Z):Z}return Z}var X;function D(q){try{var ne=q.InflateRaw,Z=new ne;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)X=q;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function R(q,ne){if(!X)return en(q,ne);var Z=X.InflateRaw,ee=new Z,ae=ee._processChunk(q.slice(q.l),ee._finishFlushFlag);return q.l+=ee.bytesRead,ae}function M(q){return X?X.deflateRawSync(q):Ae(q)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(q){var ne=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var se=typeof Uint8Array<"u",Q=se?new Uint8Array(256):[],fe=0;fe<256;++fe)Q[fe]=xe(fe);function A(q,ne){var Z=Q[q&255];return ne<=8?Z>>>8-ne:(Z=Z<<8|Q[q>>8&255],ne<=16?Z>>>16-ne:(Z=Z<<8|Q[q>>16&255],Z>>>24-ne))}function Be(q,ne){var Z=ne&7,ee=ne>>>3;return(q[ee]|(Z<=6?0:q[ee+1]<<8))>>>Z&3}function Me(q,ne){var Z=ne&7,ee=ne>>>3;return(q[ee]|(Z<=5?0:q[ee+1]<<8))>>>Z&7}function Le(q,ne){var Z=ne&7,ee=ne>>>3;return(q[ee]|(Z<=4?0:q[ee+1]<<8))>>>Z&15}function ze(q,ne){var Z=ne&7,ee=ne>>>3;return(q[ee]|(Z<=3?0:q[ee+1]<<8))>>>Z&31}function Re(q,ne){var Z=ne&7,ee=ne>>>3;return(q[ee]|(Z<=1?0:q[ee+1]<<8))>>>Z&127}function gt(q,ne,Z){var ee=ne&7,ae=ne>>>3,oe=(1<<Z)-1,H=q[ae]>>>ee;return Z<8-ee||(H|=q[ae+1]<<8-ee,Z<16-ee)||(H|=q[ae+2]<<16-ee,Z<24-ee)||(H|=q[ae+3]<<24-ee),H&oe}function ht(q,ne,Z){var ee=ne&7,ae=ne>>>3;return ee<=5?q[ae]|=(Z&7)<<ee:(q[ae]|=Z<<ee&255,q[ae+1]=(Z&7)>>8-ee),ne+3}function le(q,ne,Z){var ee=ne&7,ae=ne>>>3;return Z=(Z&1)<<ee,q[ae]|=Z,ne+1}function ge(q,ne,Z){var ee=ne&7,ae=ne>>>3;return Z<<=ee,q[ae]|=Z&255,Z>>>=8,q[ae+1]=Z,ne+8}function U(q,ne,Z){var ee=ne&7,ae=ne>>>3;return Z<<=ee,q[ae]|=Z&255,Z>>>=8,q[ae+1]=Z&255,q[ae+2]=Z>>>8,ne+16}function he(q,ne){var Z=q.length,ee=2*Z>ne?2*Z:ne+5,ae=0;if(Z>=ne)return q;if(Yt){var oe=SL(ee);if(q.copy)q.copy(oe);else for(;ae<q.length;++ae)oe[ae]=q[ae];return oe}else if(se){var H=new Uint8Array(ee);if(H.set)H.set(q);else for(;ae<Z;++ae)H[ae]=q[ae];return H}return q.length=ee,q}function je(q){for(var ne=new Array(q),Z=0;Z<q;++Z)ne[Z]=0;return ne}function Se(q,ne,Z){var ee=1,ae=0,oe=0,H=0,de=0,me=q.length,we=se?new Uint16Array(32):je(32);for(oe=0;oe<32;++oe)we[oe]=0;for(oe=me;oe<Z;++oe)q[oe]=0;me=q.length;var ke=se?new Uint16Array(me):je(me);for(oe=0;oe<me;++oe)we[ae=q[oe]]++,ee<ae&&(ee=ae),ke[oe]=0;for(we[0]=0,oe=1;oe<=ee;++oe)we[oe+16]=de=de+we[oe-1]<<1;for(oe=0;oe<me;++oe)de=q[oe],de!=0&&(ke[oe]=we[de+16]++);var Fe=0;for(oe=0;oe<me;++oe)if(Fe=q[oe],Fe!=0)for(de=A(ke[oe],ee)>>ee-Fe,H=(1<<ee+4-Fe)-1;H>=0;--H)ne[de|H<<Fe]=Fe&15|oe<<4;return ee}var Ue=se?new Uint16Array(512):je(512),Ne=se?new Uint16Array(32):je(32);if(!se){for(var Ce=0;Ce<512;++Ce)Ue[Ce]=0;for(Ce=0;Ce<32;++Ce)Ne[Ce]=0}(function(){for(var q=[],ne=0;ne<32;ne++)q.push(5);Se(q,Ne,32);var Z=[];for(ne=0;ne<=143;ne++)Z.push(8);for(;ne<=255;ne++)Z.push(9);for(;ne<=279;ne++)Z.push(7);for(;ne<=287;ne++)Z.push(8);Se(Z,Ue,288)})();var ye=function(){for(var ne=se?new Uint8Array(32768):[],Z=0,ee=0;Z<re.length-1;++Z)for(;ee<re[Z+1];++ee)ne[ee]=Z;for(;ee<32768;++ee)ne[ee]=29;var ae=se?new Uint8Array(259):[];for(Z=0,ee=0;Z<J.length-1;++Z)for(;ee<J[Z+1];++ee)ae[ee]=Z;function oe(de,me){for(var we=0;we<de.length;){var ke=Math.min(65535,de.length-we),Fe=we+ke==de.length;for(me.write_shift(1,+Fe),me.write_shift(2,ke),me.write_shift(2,~ke&65535);ke-- >0;)me[me.l++]=de[we++]}return me.l}function H(de,me){for(var we=0,ke=0,Fe=se?new Uint16Array(32768):[];ke<de.length;){var He=Math.min(65535,de.length-ke);if(He<10){for(we=ht(me,we,+(ke+He==de.length)),we&7&&(we+=8-(we&7)),me.l=we/8|0,me.write_shift(2,He),me.write_shift(2,~He&65535);He-- >0;)me[me.l++]=de[ke++];we=me.l*8;continue}we=ht(me,we,+(ke+He==de.length)+2);for(var te=0;He-- >0;){var pe=de[ke];te=(te<<5^pe)&32767;var Ee=-1,ve=0;if((Ee=Fe[te])&&(Ee|=ke&-32768,Ee>ke&&(Ee-=32768),Ee<ke))for(;de[Ee+ve]==de[ke+ve]&&ve<250;)++ve;if(ve>2){pe=ae[ve],pe<=22?we=ge(me,we,Q[pe+1]>>1)-1:(ge(me,we,3),we+=5,ge(me,we,Q[pe-23]>>5),we+=3);var rt=pe<8?0:pe-4>>2;rt>0&&(U(me,we,ve-J[pe]),we+=rt),pe=ne[ke-Ee],we=ge(me,we,Q[pe]>>3),we-=3;var wt=pe<4?0:pe-2>>1;wt>0&&(U(me,we,ke-Ee-re[pe]),we+=wt);for(var Ht=0;Ht<ve;++Ht)Fe[te]=ke&32767,te=(te<<5^de[ke])&32767,++ke;He-=ve-1}else pe<=143?pe=pe+48:we=le(me,we,1),we=ge(me,we,Q[pe]),Fe[te]=ke&32767,++ke}we=ge(me,we,0)-1}return me.l=(we+7)/8|0,me.l}return function(me,we){return me.length<8?oe(me,we):H(me,we)}}();function Ae(q){var ne=Cn(50+Math.floor(q.length*1.1)),Z=ye(q,ne);return ne.slice(0,Z)}var Pe=se?new Uint16Array(32768):je(32768),Ze=se?new Uint16Array(32768):je(32768),Je=se?new Uint16Array(128):je(128),vt=1,_t=1;function Ut(q,ne){var Z=ze(q,ne)+257;ne+=5;var ee=ze(q,ne)+1;ne+=5;var ae=Le(q,ne)+4;ne+=4;for(var oe=0,H=se?new Uint8Array(19):je(19),de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,we=se?new Uint8Array(8):je(8),ke=se?new Uint8Array(8):je(8),Fe=H.length,He=0;He<ae;++He)H[W[He]]=oe=Me(q,ne),me<oe&&(me=oe),we[oe]++,ne+=3;var te=0;for(we[0]=0,He=1;He<=me;++He)ke[He]=te=te+we[He-1]<<1;for(He=0;He<Fe;++He)(te=H[He])!=0&&(de[He]=ke[te]++);var pe=0;for(He=0;He<Fe;++He)if(pe=H[He],pe!=0){te=Q[de[He]]>>8-pe;for(var Ee=(1<<7-pe)-1;Ee>=0;--Ee)Je[te|Ee<<pe]=pe&7|He<<3}var ve=[];for(me=1;ve.length<Z+ee;)switch(te=Je[Re(q,ne)],ne+=te&7,te>>>=3){case 16:for(oe=3+Be(q,ne),ne+=2,te=ve[ve.length-1];oe-- >0;)ve.push(te);break;case 17:for(oe=3+Me(q,ne),ne+=3;oe-- >0;)ve.push(0);break;case 18:for(oe=11+Re(q,ne),ne+=7;oe-- >0;)ve.push(0);break;default:ve.push(te),me<te&&(me=te);break}var rt=ve.slice(0,Z),wt=ve.slice(Z);for(He=Z;He<286;++He)rt[He]=0;for(He=ee;He<30;++He)wt[He]=0;return vt=Se(rt,Pe,286),_t=Se(wt,Ze,30),ne}function cr(q,ne){if(q[0]==3&&!(q[1]&3))return[Iu(ne),2];for(var Z=0,ee=0,ae=SL(ne||1<<18),oe=0,H=ae.length>>>0,de=0,me=0;!(ee&1);){if(ee=Me(q,Z),Z+=3,ee>>>1)ee>>1==1?(de=9,me=5):(Z=Ut(q,Z),de=vt,me=_t);else{Z&7&&(Z+=8-(Z&7));var we=q[Z>>>3]|q[(Z>>>3)+1]<<8;if(Z+=32,we>0)for(!ne&&H<oe+we&&(ae=he(ae,oe+we),H=ae.length);we-- >0;)ae[oe++]=q[Z>>>3],Z+=8;continue}for(;;){!ne&&H<oe+32767&&(ae=he(ae,oe+32767),H=ae.length);var ke=gt(q,Z,de),Fe=ee>>>1==1?Ue[ke]:Pe[ke];if(Z+=Fe&15,Fe>>>=4,!(Fe>>>8&255))ae[oe++]=Fe;else{if(Fe==256)break;Fe-=257;var He=Fe<8?0:Fe-4>>2;He>5&&(He=0);var te=oe+J[Fe];He>0&&(te+=gt(q,Z,He),Z+=He),ke=gt(q,Z,me),Fe=ee>>>1==1?Ne[ke]:Ze[ke],Z+=Fe&15,Fe>>>=4;var pe=Fe<4?0:Fe-2>>1,Ee=re[Fe];for(pe>0&&(Ee+=gt(q,Z,pe),Z+=pe),!ne&&H<te&&(ae=he(ae,te+100),H=ae.length);oe<te;)ae[oe]=ae[oe-Ee],++oe}}}return ne?[ae,Z+7>>>3]:[ae.slice(0,oe),Z+7>>>3]}function en(q,ne){var Z=q.slice(q.l||0),ee=cr(Z,ne);return q.l+=ee[1],ee[0]}function jn(q,ne){if(q)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function $s(q,ne){var Z=q;Qn(Z,0);var ee=[],ae=[],oe={FileIndex:ee,FullPaths:ae};S(oe,{root:ne.root});for(var H=Z.length-4;(Z[H]!=80||Z[H+1]!=75||Z[H+2]!=5||Z[H+3]!=6)&&H>=0;)--H;Z.l=H+4,Z.l+=4;var de=Z.read_shift(2);Z.l+=6;var me=Z.read_shift(4);for(Z.l=me,H=0;H<de;++H){Z.l+=20;var we=Z.read_shift(4),ke=Z.read_shift(4),Fe=Z.read_shift(2),He=Z.read_shift(2),te=Z.read_shift(2);Z.l+=8;var pe=Z.read_shift(4),Ee=l(Z.slice(Z.l+Fe,Z.l+Fe+He));Z.l+=Fe+He+te;var ve=Z.l;Z.l=pe+4,Fa(Z,we,ke,oe,Ee),Z.l=ve}return oe}function Fa(q,ne,Z,ee,ae){q.l+=2;var oe=q.read_shift(2),H=q.read_shift(2),de=o(q);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var me=q.read_shift(4),we=q.read_shift(4),ke=q.read_shift(4),Fe=q.read_shift(2),He=q.read_shift(2),te="",pe=0;pe<Fe;++pe)te+=String.fromCharCode(q[q.l++]);if(He){var Ee=l(q.slice(q.l,q.l+He));(Ee[21589]||{}).mt&&(de=Ee[21589].mt),((ae||{})[21589]||{}).mt&&(de=ae[21589].mt)}q.l+=He;var ve=q.slice(q.l,q.l+we);switch(H){case 8:ve=R(q,ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+H)}var rt=!1;oe&8&&(me=q.read_shift(4),me==134695760&&(me=q.read_shift(4),rt=!0),we=q.read_shift(4),ke=q.read_shift(4)),we!=ne&&jn(rt,"Bad compressed size: "+ne+" != "+we),ke!=Z&&jn(rt,"Bad uncompressed size: "+Z+" != "+ke),Ro(ee,te,ve,{unsafe:!0,mt:de})}function Bi(q,ne){var Z=ne||{},ee=[],ae=[],oe=Cn(1),H=Z.compression?8:0,de=0,me=0,we=0,ke=0,Fe=0,He=q.FullPaths[0],te=He,pe=q.FileIndex[0],Ee=[],ve=0;for(me=1;me<q.FullPaths.length;++me)if(te=q.FullPaths[me].slice(He.length),pe=q.FileIndex[me],!(!pe.size||!pe.content||te=="Sh33tJ5")){var rt=ke,wt=Cn(te.length);for(we=0;we<te.length;++we)wt.write_shift(1,te.charCodeAt(we)&127);wt=wt.slice(0,wt.l),Ee[Fe]=r$e.buf(pe.content,0);var Ht=pe.content;H==8&&(Ht=M(Ht)),oe=Cn(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,de),oe.write_shift(2,H),pe.mt?s(oe,pe.mt):oe.write_shift(4,0),oe.write_shift(-4,Ee[Fe]),oe.write_shift(4,Ht.length),oe.write_shift(4,pe.content.length),oe.write_shift(2,wt.length),oe.write_shift(2,0),ke+=oe.length,ee.push(oe),ke+=wt.length,ee.push(wt),ke+=Ht.length,ee.push(Ht),oe=Cn(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,de),oe.write_shift(2,H),oe.write_shift(4,0),oe.write_shift(-4,Ee[Fe]),oe.write_shift(4,Ht.length),oe.write_shift(4,pe.content.length),oe.write_shift(2,wt.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,rt),ve+=oe.l,ae.push(oe),ve+=wt.length,ae.push(wt),++Fe}return oe=Cn(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Fe),oe.write_shift(2,Fe),oe.write_shift(4,ve),oe.write_shift(4,ke),oe.write_shift(2,0),Xc([Xc(ee),Xc(ae),oe])}var Mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function In(q,ne){if(q.ctype)return q.ctype;var Z=q.name||"",ee=Z.match(/\.([^\.]+)$/);return ee&&Mr[ee[1]]||ne&&(ee=(Z=ne).match(/[\.\\]([^\.\\])+$/),ee&&Mr[ee[1]])?Mr[ee[1]]:"application/octet-stream"}function ls(q){for(var ne=jL(q),Z=[],ee=0;ee<ne.length;ee+=76)Z.push(ne.slice(ee,ee+76));return Z.join(`\r
`)+`\r
`}function Bs(q){var ne=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(we){var ke=we.charCodeAt(0).toString(16).toUpperCase();return"="+(ke.length==1?"0"+ke:ke)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],ee=ne.split(`\r
`),ae=0;ae<ee.length;++ae){var oe=ee[ae];if(oe.length==0){Z.push("");continue}for(var H=0;H<oe.length;){var de=76,me=oe.slice(H,H+de);me.charAt(de-1)=="="?de--:me.charAt(de-2)=="="?de-=2:me.charAt(de-3)=="="&&(de-=3),me=oe.slice(H,H+de),H+=de,H<oe.length&&(me+="="),Z.push(me)}}return Z.join(`\r
`)}function ia(q){for(var ne=[],Z=0;Z<q.length;++Z){for(var ee=q[Z];Z<=q.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+q[++Z];ne.push(ee)}for(var ae=0;ae<ne.length;++ae)ne[ae]=ne[ae].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return oo(ne.join(`\r
`))}function di(q,ne,Z){for(var ee="",ae="",oe="",H,de=0;de<10;++de){var me=ne[de];if(!me||me.match(/^\s*$/))break;var we=me.match(/^(.*?):\s*([^\s].*)$/);if(we)switch(we[1].toLowerCase()){case"content-location":ee=we[2].trim();break;case"content-type":oe=we[2].trim();break;case"content-transfer-encoding":ae=we[2].trim();break}}switch(++de,ae.toLowerCase()){case"base64":H=oo(oi(ne.slice(de).join("")));break;case"quoted-printable":H=ia(ne.slice(de));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ae)}var ke=Ro(q,ee.slice(Z.length),H,{unsafe:!0});oe&&(ke.ctype=oe)}function Us(q,ne){if(F(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ne&&ne.root||"",ee=(Yt&&Buffer.isBuffer(q)?q.toString("binary"):F(q)).split(`\r
`),ae=0,oe="";for(ae=0;ae<ee.length;++ae)if(oe=ee[ae],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var H=(ee[1]||"").match(/boundary="(.*?)"/);if(!H)throw new Error("MAD cannot find boundary");var de="--"+(H[1]||""),me=[],we=[],ke={FileIndex:me,FullPaths:we};S(ke);var Fe,He=0;for(ae=0;ae<ee.length;++ae){var te=ee[ae];te!==de&&te!==de+"--"||(He++&&di(ke,ee.slice(Fe,ae),Z),Fe=ae)}return ke}function Do(q,ne){var Z=ne||{},ee=Z.boundary||"SheetJS";ee="------="+ee;for(var ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],oe=q.FullPaths[0],H=oe,de=q.FileIndex[0],me=1;me<q.FullPaths.length;++me)if(H=q.FullPaths[me].slice(oe.length),de=q.FileIndex[me],!(!de.size||!de.content||H=="Sh33tJ5")){H=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ve){return"_x"+ve.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ve){return"_u"+ve.charCodeAt(0).toString(16)+"_"});for(var we=de.content,ke=Yt&&Buffer.isBuffer(we)?we.toString("binary"):F(we),Fe=0,He=Math.min(1024,ke.length),te=0,pe=0;pe<=He;++pe)(te=ke.charCodeAt(pe))>=32&&te<128&&++Fe;var Ee=Fe>=He*4/5;ae.push(ee),ae.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+H),ae.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),ae.push("Content-Type: "+In(de,H)),ae.push(""),ae.push(Ee?Bs(ke):ls(ke))}return ae.push(ee+`--\r
`),ae.join(`\r
`)}function ed(q){var ne={};return S(ne,q),ne}function Ro(q,ne,Z,ee){var ae=ee&&ee.unsafe;ae||S(q);var oe=!ae&&Qt.find(q,ne);if(!oe){var H=q.FullPaths[0];ne.slice(0,H.length)==H?H=ne:(H.slice(-1)!="/"&&(H+="/"),H=(H+ne).replace("//","/")),oe={name:a(ne),type:2},q.FileIndex.push(oe),q.FullPaths.push(H),ae||Qt.utils.cfb_gc(q)}return oe.content=Z,oe.size=Z?Z.length:0,ee&&(ee.CLSID&&(oe.clsid=ee.CLSID),ee.mt&&(oe.mt=ee.mt),ee.ct&&(oe.ct=ee.ct)),oe}function ur(q,ne){S(q);var Z=Qt.find(q,ne);if(Z){for(var ee=0;ee<q.FileIndex.length;++ee)if(q.FileIndex[ee]==Z)return q.FileIndex.splice(ee,1),q.FullPaths.splice(ee,1),!0}return!1}function td(q,ne,Z){S(q);var ee=Qt.find(q,ne);if(ee){for(var ae=0;ae<q.FileIndex.length;++ae)if(q.FileIndex[ae]==ee)return q.FileIndex[ae].name=a(Z),q.FullPaths[ae]=Z,!0}return!1}function Ec(q){C(q,!0)}return t.find=P,t.read=N,t.parse=d,t.write=Y,t.writeFile=L,t.utils={cfb_new:ed,cfb_add:Ro,cfb_del:ur,cfb_mov:td,cfb_gc:Ec,ReadShift:X0,CheckField:rK,prep_blob:Qn,bconcat:Xc,use_zlib:D,_deflateRaw:Ae,_inflateRaw:en,consts:z},t}();function n$e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function bl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function HP(e){for(var t=[],r=bl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var rw=new Date(1899,11,30,0,0,0);function ns(e,t){var r=e.getTime(),n=rw.getTime()+(e.getTimezoneOffset()-rw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var MG=new Date,a$e=rw.getTime()+(MG.getTimezoneOffset()-rw.getTimezoneOffset())*6e4,OL=MG.getTimezoneOffset();function dj(e){var t=new Date;return t.setTime(e*24*60*60*1e3+a$e),t.getTimezoneOffset()!==OL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-OL)*6e4),t}function s$e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var DL=new Date("2017-02-19T19:06:09.000Z"),FG=isNaN(DL.getFullYear())?new Date("2/19/17"):DL,i$e=FG.getFullYear()==2017;function Hn(e,t){var r=new Date(e);if(i$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(FG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function vf(e,t){if(Yt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return C0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return C0(_G(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return C0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return C0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ra(e[r]));return t}function Qr(e,t){for(var r="";r.length<t;)r+=e;return r}function xo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var o$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function ep(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&o$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var l$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function IG(e){return e?e.content&&e.type?vf(e.content,!0):e.data?S0(e.data):e.asNodeBuffer&&Yt?S0(e.asNodeBuffer().toString("binary")):e.asBinary?S0(e.asBinary()):e._data&&e._data.getContent?S0(vf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function LG(e){if(!e)return null;if(e.data)return wL(e.data);if(e.asNodeBuffer&&Yt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?wL(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function c$e(e){return e&&e.name.slice(-4)===".bin"?LG(e):IG(e)}function xi(e,t){for(var r=e.FullPaths||bl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function qP(e,t){var r=xi(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function pn(e,t,r){if(!r)return c$e(qP(e,t));if(!t)return null;try{return pn(e,t)}catch{return null}}function Qs(e,t,r){if(!r)return IG(qP(e,t));if(!t)return null;try{return Qs(e,t)}catch{return null}}function u$e(e,t,r){return LG(qP(e,t))}function RL(e){for(var t=e.FullPaths||bl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function d$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Yt?n=Pf(r):n=A5e(r),Qt.utils.cfb_add(e,t,n)}Qt.utils.cfb_add(e,t,r)}else e.file(t,r)}function $G(e,t){switch(t.type){case"base64":return Qt.read(e,{type:"base64"});case"binary":return Qt.read(e,{type:"binary"});case"buffer":case"array":return Qt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function k0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var BG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,f$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ML=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,h$e=/<[^>]*>/g,Ma=BG.match(ML)?ML:h$e,m$e=/<\w*:/,p$e=/<(\/?)\w+:/;function Ct(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(f$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function El(e){return e.replace(p$e,"<$1")}var UG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},g$e=HP(UG),nr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return UG[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),v$e=/[&<>'"]/g,x$e=/[\u0000-\u001f]/g;function GP(e){var t=e+"";return t.replace(v$e,function(r){return g$e[r]}).replace(/\n/g,"<br/>").replace(x$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var FL=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ir(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v2(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function IL(e){var t=Iu(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function LL(e){return Pf(e,"binary").toString("utf8")}var _y="foo bar baz",Er=Yt&&(LL(_y)==v2(_y)&&LL||IL(_y)==v2(_y)&&IL)||v2,C0=Yt?function(e){return Pf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},xv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),zG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),y$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),b$e=/<\/?(?:vt:)?variant>/g,w$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function $L(e,t){var r=Ct(e),n=e.match(y$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(b$e,"").match(w$e);o&&a.push({v:Er(o[2]),t:o[1]})}),a}var _$e=/(^\s|\s$|\n)/;function j$e(e){return bl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function S$e(e,t,r){return"<"+e+(r!=null?j$e(r):"")+(t!=null?(t.match(_$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function KP(e){if(Yt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Er(Of(zP(e)));throw new Error("Bad input format: expected Buffer or string")}var yv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,N$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},k$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function C$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function E$e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var BL=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},UL=Yt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Pf(t)})):BL(e)}:BL,zL=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ql(e,a)));return n.join("").replace(rs,"")},YP=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(rs,""):zL(e,t,r)}:zL,VL=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},VG=Yt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):VL(e,t,r)}:VL,WL=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(rh(e,a)));return n.join("")},xx=Yt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):WL(t,r,n)}:WL,WG=function(e,t){var r=Ys(e,t);return r>0?xx(e,t+4,t+4+r-1):""},HG=WG,qG=function(e,t){var r=Ys(e,t);return r>0?xx(e,t+4,t+4+r-1):""},GG=qG,KG=function(e,t){var r=2*Ys(e,t);return r>0?xx(e,t+4,t+4+r-1):""},YG=KG,XG=function(t,r){var n=Ys(t,r);return n>0?YP(t,r+4,r+4+n):""},QG=XG,ZG=function(e,t){var r=Ys(e,t);return r>0?xx(e,t+4,t+4+r):""},JG=ZG,eK=function(e,t){return C$e(e,t)},nw=eK,tK=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Yt&&(HG=function(t,r){if(!Buffer.isBuffer(t))return WG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},GG=function(t,r){if(!Buffer.isBuffer(t))return qG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},YG=function(t,r){if(!Buffer.isBuffer(t))return KG(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},QG=function(t,r){if(!Buffer.isBuffer(t))return XG(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},JG=function(t,r){if(!Buffer.isBuffer(t))return ZG(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},nw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):eK(t,r)},tK=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var rh=function(e,t){return e[t]},Ql=function(e,t){return e[t+1]*256+e[t]},T$e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ys=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},vd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},A$e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function X0(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Yt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Ql(this,u)),u+=2;e*=2;break;case"utf8":r=xx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YP(this,this.l,this.l+e);break;case"wstr":return X0.call(this,e,"dbcs");case"lpstr-ansi":r=HG(this,this.l),e=4+Ys(this,this.l);break;case"lpstr-cp":r=GG(this,this.l),e=4+Ys(this,this.l);break;case"lpwstr":r=YG(this,this.l),e=4+2*Ys(this,this.l);break;case"lpp4":e=4+Ys(this,this.l),r=QG(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ys(this,this.l),r=JG(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=rh(this,this.l+e++))!==0;)s.push(wy(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=Ql(this,this.l+e))!==0;)s.push(wy(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rh(this,u),this.l=u+1,l=X0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(wy(Ql(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=rh(this,u),this.l=u+1,l=X0.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(wy(rh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=rh(this,this.l),this.l++,n;case 2:return n=(t==="i"?T$e:Ql)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?vd:A$e)(this,this.l),this.l+=4,n):(a=Ys(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=nw(this,this.l):a=nw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=VG(this,this.l,e);break}}return this.l+=e,r}var P$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},O$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},D$e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function R$e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)D$e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,P$e(this,t,this.l);break;case 8:if(n=8,r==="f"){E$e(this,t,this.l);break}case 16:break;case-4:n=4,O$e(this,t,this.l);break}return this.l+=n,this}function rK(e,t){var r=VG(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Qn(e,t){e.l=t,e.read_shift=X0,e.chk=rK,e.write_shift=R$e}function Oa(e,t){e.l+=t}function Cn(e){var t=Iu(e);return Qn(t,0),t}function Cc(e,t,r){if(e){var n,a,s;Qn(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=cw[l]||cw[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function qC(){var e=[],t=Yt?256:2048,r=function(u){var d=Cn(u);return Qn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),Xc(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function Q0(e,t,r){var n=ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function HL(e,t,r){var n=ra(e);return n.s=Q0(n.s,t.s,r),n.e=Q0(n.e,t.s,r),n}function Z0(e,t){if(e.cRel&&e.c<0)for(e=ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Pt(e);return!e.cRel&&e.cRel!=null&&(r=I$e(r)),!e.rRel&&e.rRel!=null&&(r=M$e(r)),r}function x2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Rn(e.s.c)+":"+(e.e.cRel?"":"$")+Rn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+na(e.s.r)+":"+(e.e.rRel?"":"$")+na(e.e.r):Z0(e.s,t.biff)+":"+Z0(e.e,t.biff)}function XP(e){return parseInt(F$e(e),10)-1}function na(e){return""+(e+1)}function M$e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function F$e(e){return e.replace(/\$(\d+)$/,"$1")}function QP(e){for(var t=L$e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Rn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function I$e(e){return e.replace(/^([A-Z])/,"$$$1")}function L$e(e){return e.replace(/^\$([A-Z])/,"$1")}function $$e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ja(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Pt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Ip(e){var t=e.indexOf(":");return t==-1?{s:Ja(e),e:Ja(e)}:{s:Ja(e.slice(0,t)),e:Ja(e.slice(t+1))}}function Jt(e,t){return typeof t>"u"||typeof t=="number"?Jt(e.s,e.e):(typeof e!="string"&&(e=Pt(e)),typeof t!="string"&&(t=Pt(t)),e==t?e:e+":"+t)}function Zr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function qL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ri(e.z,r?ns(t):t)}catch{}try{return e.w=Ri((e.XF||{}).numFmtId||(r?14:0),r?ns(t):t)}catch{return""+t}}function yc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Mf[e.v]||e.v:t==null?qL(e,e.v):qL(e,t))}function Ju(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function nK(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ja(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Zr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=o+f,g=l+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ft[14],n.cellDates?(m.t="d",m.w=Ri(m.z,ns(m.v))):(m.t="n",m.v=ns(m.v),m.w=Ri(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var v=Pt({c:g,r:p});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Jt(u)),s}function Lp(e,t){return nK(null,e,t)}function B$e(e){return e.read_shift(4,"i")}function Ea(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function U$e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ZP(e,t){var r=e.l,n=e.read_shift(1),a=Ea(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(U$e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var z$e=ZP;function Li(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Df(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var V$e=Ea;function JP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var W$e=Ea,GC=JP;function eO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?nw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):vd(t,0)>>2;return r?a/100:a}function aK(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Rf=aK;function ka(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function H$e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Gd[a];u&&(t.rgb=wv(u));break;case 2:t.rgb=wv([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function q$e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function sK(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function G$e(e){return sK(e,1)}function K$e(e){return sK(e,2)}var tO=2,fs=3,jy=11,GL=12,aw=19,Sy=64,Y$e=65,X$e=71,Q$e=4108,Z$e=4126,Bn=80,iK=81,J$e=[Bn,iK],e8e={1:{n:"CodePage",t:tO},2:{n:"Category",t:Bn},3:{n:"PresentationFormat",t:Bn},4:{n:"ByteCount",t:fs},5:{n:"LineCount",t:fs},6:{n:"ParagraphCount",t:fs},7:{n:"SlideCount",t:fs},8:{n:"NoteCount",t:fs},9:{n:"HiddenCount",t:fs},10:{n:"MultimediaClipCount",t:fs},11:{n:"ScaleCrop",t:jy},12:{n:"HeadingPairs",t:Q$e},13:{n:"TitlesOfParts",t:Z$e},14:{n:"Manager",t:Bn},15:{n:"Company",t:Bn},16:{n:"LinksUpToDate",t:jy},17:{n:"CharacterCount",t:fs},19:{n:"SharedDoc",t:jy},22:{n:"HyperlinksChanged",t:jy},23:{n:"AppVersion",t:fs,p:"version"},24:{n:"DigSig",t:Y$e},26:{n:"ContentType",t:Bn},27:{n:"ContentStatus",t:Bn},28:{n:"Language",t:Bn},29:{n:"Version",t:Bn},255:{},2147483648:{n:"Locale",t:aw},2147483651:{n:"Behavior",t:aw},1919054434:{}},t8e={1:{n:"CodePage",t:tO},2:{n:"Title",t:Bn},3:{n:"Subject",t:Bn},4:{n:"Author",t:Bn},5:{n:"Keywords",t:Bn},6:{n:"Comments",t:Bn},7:{n:"Template",t:Bn},8:{n:"LastAuthor",t:Bn},9:{n:"RevNumber",t:Bn},10:{n:"EditTime",t:Sy},11:{n:"LastPrinted",t:Sy},12:{n:"CreatedDate",t:Sy},13:{n:"ModifiedDate",t:Sy},14:{n:"PageCount",t:fs},15:{n:"WordCount",t:fs},16:{n:"CharCount",t:fs},17:{n:"Thumbnail",t:X$e},18:{n:"Application",t:Bn},19:{n:"DocSecurity",t:fs},255:{},2147483648:{n:"Locale",t:aw},2147483651:{n:"Behavior",t:aw},1919054434:{}},KL={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},r8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function n8e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var a8e=n8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Gd=ra(a8e),Mf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},YL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function s8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function i8e(e){var t=s8e();if(!e||!e.match)return t;var r={};if((e.match(Ma)||[]).forEach(function(n){var a=Ct(n);switch(a[0].replace(m$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[YL[a.ContentType]]!==void 0&&t[YL[a.ContentType]].push(a.PartName);break}}),t.xmlns!==N$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Ch={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KC(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function J0(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ma)||[]).forEach(function(a){var s=Ct(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:k0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var o8e="application/vnd.oasis.opendocument.spreadsheet";function l8e(e,t){for(var r=KP(e),n,a;n=yv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Ct(n[0],!1),a.path=="/"&&a.type!==o8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var eg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],c8e=function(){for(var e=new Array(eg.length),t=0;t<eg.length;++t){var r=eg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function lK(e){var t={};e=Er(e);for(var r=0;r<eg.length;++r){var n=eg[r],a=e.match(c8e[r]);a!=null&&a.length>0&&(t[n[1]]=nr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Hn(t[n[1]]))}return t}var u8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function cK(e,t,r,n){var a=[];if(typeof e=="string")a=$L(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?$L(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function d8e(e,t,r){var n={};return t||(t={}),e=Er(e),u8e.forEach(function(a){var s=(e.match(xv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=nr(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&cK(n.HeadingPairs,n.TitlesOfParts,t,r),t}var f8e=/<[^>]+>[^<]*/g;function h8e(e,t){var r={},n="",a=e.match(f8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=Ct(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nr(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=nr(d);break;case"bool":r[n]=Ir(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Hn(d);break;case"cy":case"error":r[n]=nr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var m8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},y2;function p8e(e,t,r){y2||(y2=HP(m8e)),t=y2[t]||t,e[t]=r}function rO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function uK(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function dK(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function fK(e,t,r){return t===31?dK(e):uK(e,t,r)}function YC(e,t,r){return fK(e,t,r===!1?0:4)}function g8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fK(e,t,0)}function v8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(rs,""),e.l-a&2&&(e.l+=2)}return r}function x8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(rs,"");return r}function y8e(e){var t=e.l,r=sw(e,iK);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=sw(e,fs);return[r,n]}function b8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(y8e(e));return r}function XL(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(rs,"").replace(N0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function hK(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function w8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function sw(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==GL&&n!==t&&J$e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===GL?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return uK(e,n,4).replace(rs,"");case 31:return dK(e);case 64:return rO(e);case 65:return hK(e);case 71:return w8e(e);case 80:return YC(e,n,!s.raw).replace(rs,"");case 81:return g8e(e,n).replace(rs,"");case 4108:return b8e(e);case 4126:case 4127:return n==4127?v8e(e):x8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function QL(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,w){return b[1]-w[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[s[o][0]];if(h[p.n]=sw(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:uo(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[o][0]===1){if(l=h.CodePage=sw(e,tO),uo(l),c!==-1){var g=e.l;e.l=s[c][1],u=XL(e,l),e.l=g}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=XL(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=hK(e);break;case 30:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=YC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=rn(e,4);break;case 64:e.l+=4,y=Hn(rO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function ZL(e,t,r){var n=e.content;if(!n)return{};Qn(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Qt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=QL(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=QL(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,o],h}function Fc(e,t){return e.read_shift(t),null}function _8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function rn(e,t){return e.read_shift(t)===1}function gn(e){return e.read_shift(2,"u")}function mK(e,t){return _8e(e,t,gn)}function j8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function yx(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function S8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function bx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function Ff(e,t,r){if(r.biff>5)return bx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function N8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function k8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(rs,"");return n&&(e.l+=24),a}function C8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(rs,"");return r+o}function E8e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return k8e(e);case"0303000000000000c000000000000046":return C8e(e);default:throw new Error("Unsupported Moniker "+r)}}function Ny(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(rs,""):"";return r}function T8e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=Ny(e,r-e.l)),a&128&&(o=Ny(e,r-e.l)),(a&257)===257&&(l=Ny(e,r-e.l)),(a&257)===1&&(c=E8e(e,r-e.l)),a&8&&(u=Ny(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=rO(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function pK(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function gK(e,t){var r=pK(e);return r[3]=0,r}function Tl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function A8e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function P8e(e,t,r){return t===0?"":Ff(e,t,r)}function O8e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function vK(e){var t=e.read_shift(2),r=eO(e);return[t,r]}function D8e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=yx(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function fj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function xK(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var R8e=xK;function yK(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function M8e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function F8e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function da(e){e.l+=2,e.l+=e.read_shift(2)}var I8e={0:da,4:da,5:da,6:da,7:F8e,8:da,9:da,10:da,11:da,12:da,13:M8e,14:da,15:da,16:da,17:da,18:da,19:da,20:da,21:yK};function L8e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(I8e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ky(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function $8e(e,t){return t===0||e.read_shift(2),1200}function B8e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Ff(e,0,r);return e.read_shift(t+n-e.l),a}function U8e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function z8e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=yx(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function V8e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(S8e(e));return s.Count=n,s.Unique=a,s}function W8e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function H8e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function q8e(e){var t=A8e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function G8e(e){return e.read_shift(2),e.read_shift(4)}function JL(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function K8e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function Y8e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function X8e(){}function Q8e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=yx(e,0,r),n}function Z8e(e){var t=Tl(e);return t.isst=e.read_shift(4),t}function J8e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Tl(e);r.biff==2&&e.l++;var s=bx(e,n-e.l,r);return a.val=s,a}function e6e(e,t,r){var n=e.read_shift(2),a=Ff(e,0,r);return[n,a]}var t6e=Ff;function e5(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function r6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=vK(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function n6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(vK(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function a6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function s6e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=r8e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function i6e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=s6e(e,t,n.fStyle,r),n}function o6e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function t5(e,t,r){var n=Tl(e);(r.biff==2||t==9)&&++e.l;var a=j8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function l6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Tl(e),a=ka(e);return n.val=a,n}var r5=P8e;function c6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=xf(e,s),l=[];n>e.l;)l.push(bx(e));return[s,a,o,l]}function n5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=D8e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var u6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function a5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,o,r);a&32&&(u=u6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:HUe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function bK(e,t,r){if(r.biff<8)return d6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(O8e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function d6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=yx(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function f6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=xf(e,n,r),o=xf(e,a,r);return[s,o]}function h6e(e,t,r){var n=xK(e);e.l++;var a=e.read_shift(1);return t-=8,[qUe(e,t,r),a,n]}function s5(e,t,r){var n=R8e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,VUe(e,t,r)]}function m6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function p6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=Ff(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function g6e(e,t,r){return p6e(e,t,r)}function v6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(fj(e));return r}function x6e(e,t,r){if(r&&r.biff<8)return b6e(e,t,r);var n=yK(e),a=L8e(e,t-22,n[1]);return{cmo:n,ft:a}}var y6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function b6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((y6e[n]||Oa)(e,t,r)),{cmo:[a,n,s],ft:o}}function w6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=N8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),gn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=xf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function _6e(e,t){var r=fj(e);e.l+=16;var n=T8e(e,t-24);return[r,n]}function j6e(e,t){e.read_shift(2);var r=fj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(rs,""),[r,n]}function S6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=KL[r]||r,r=e.read_shift(2),t[1]=KL[r]||r,t}function N6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gK(e));return r}function k6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gK(e));return r}function C6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function wK(e,t,r){if(!r.cellStyles)return Oa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function E6e(e,t){var r={};return t<32||(e.l+=16,r.header=ka(e),r.footer=ka(e),e.l+=2),r}function T6e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var A6e=Tl,P6e=mK,O6e=bx;function D6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function R6e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Tl(e);++e.l;var a=Ff(e,t-7,r);return n.t="str",n.val=a,n}function M6e(e){var t=Tl(e);++e.l;var r=ka(e);return t.t="n",t.val=r,t}function F6e(e){var t=Tl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function I6e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function L6e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function $6e(e,t,r){var n=e.l+t,a=Tl(e),s=e.read_shift(2),o=xf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var B6e=[2,3,48,49,131,139,140,245],i5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=HP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Iu(1);switch(c.type){case"base64":d=oo(oi(l));break;case"binary":d=oo(l);break;case"buffer":case"array":d=l;break}Qn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var w=[],_={},j=Math.min(d.length,f==2?521:v-10-(m?264:0)),N=p?32:11;d.l<j&&d[d.l]!=13;)switch(_={},_.name=Yc.utils.decode(b,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),f!=2&&(d.l+=p?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var S=0,k=0;for(u[0]=[],k=0;k!=w.length;++k)u[0][k]=w[k].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],k=0,k=0;k!=w.length;++k){var C=d.slice(d.l,d.l+w[k].len);d.l+=w[k].len,Qn(C,0);var E=Yc.utils.decode(b,C);switch(w[k].type){case"C":E.trim().length&&(u[S][k]=E.replace(/\s+$/,""));break;case"D":E.length===8?u[S][k]=new Date(+E.slice(0,4),+E.slice(4,6)-1,+E.slice(6,8)):u[S][k]=E;break;case"F":u[S][k]=parseFloat(E.trim());break;case"+":case"I":u[S][k]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(E.trim().toUpperCase()){case"Y":case"T":u[S][k]=!0;break;case"N":case"F":u[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+E+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][k]="##MEMO##"+(p?parseInt(E.trim(),10):C.read_shift(4));break;case"N":E=E.replace(/\u0000/g,"").trim(),E&&E!="."&&(u[S][k]=+E||0);break;case"@":u[S][k]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][k]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][k]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][k]=-C.read_shift(-8,"f");break;case"B":if(m&&w[k].len==8){u[S][k]=C.read_shift(8,"f");break}case"G":case"P":C.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Lp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ju(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&uo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=qC(),f=rE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],g=0,v=0,y=0,b=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var w=Zr(l["!ref"]),_=[],j=[],N=[];for(g=0;g<=w.e.c-w.s.c;++g){var S="",k="",C=0,E=[];for(v=0;v<m.length;++v)m[v][g]!=null&&E.push(m[v][g]);if(E.length==0||h[g]==null){_[g]="?";continue}for(v=0;v<E.length;++v){switch(typeof E[v]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=E[v]instanceof Date?"D":"C";break;default:k="C"}C=Math.max(C,String(E[v]).length),S=S&&S!=k?"C":k}C>250&&(C=250),k=((p[g]||{}).DBF||{}).type,k=="C"&&p[g].DBF.len>C&&(C=p[g].DBF.len),S=="B"&&k=="N"&&(S="N",N[g]=p[g].DBF.dec,C=p[g].DBF.len),j[g]=S=="C"||k=="N"?C:s[S]||0,b+=j[g],_[g]=S}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*y),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[bG]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var T=d.next(32),V=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,V,"sbcs"),T.write_shift(1,_[g]=="?"?"C":_[g],"sbcs"),T.write_shift(4,v),T.write_shift(1,j[g]||s[_[g]]||0),T.write_shift(1,N[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=j[g]||s[_[g]]||0}var G=d.next(264);for(G.write_shift(4,13),g=0;g<65;++g)G.write_shift(4,0);for(g=0;g<m.length;++g){var B=d.next(b);for(B.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":B.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":B.write_shift(8,m[g][v]||0,"f");break;case"N":var I="0";for(typeof m[g][v]=="number"&&(I=m[g][v].toFixed(N[v]||0)),y=0;y<j[v]-I.length;++y)B.write_shift(1,32);B.write_shift(1,I,"sbcs");break;case"D":m[g][v]?(B.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var z=String(m[g][v]!=null?m[g][v]:"").slice(0,j[v]);for(B.write_shift(1,z,"sbcs"),y=0;y<j[v]-z.length;++y)B.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),U6e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+bl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?_L(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:_L(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(oi(h),m);case"binary":return s(h,m);case"buffer":return s(Yt&&Buffer.isBuffer(h)?h.toString("binary"):Of(h),m);case"array":return s(vf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,b=0,w=[],_=[],j=null,N={},S=[],k=[],C=[],E=0,P;for(+m.codepage>=0&&uo(+m.codepage);y!==p.length;++y){E=0;var T=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),V=T.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),G=V[0],B;if(T.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&_.push(T.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,z=!1,L=!1,F=!1,Y=-1,X=-1;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"A":break;case"X":v=parseInt(V[b].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(V[b].slice(1))-1,z||(v=0),P=w.length;P<=g;++P)w[P]=[];break;case"K":B=V[b].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(xo(B))?isNaN(ep(B).getDate())||(B=Hn(B)):(B=xo(B),j!==null&&Fp(j)&&(B=dj(B))),I=!0;break;case"E":F=!0;var D=qh(V[b].slice(1),{r:g,c:v});w[g][v]=[w[g][v],D];break;case"S":L=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":Y=parseInt(V[b].slice(1))-1;break;case"C":X=parseInt(V[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(I&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=B:w[g][v]=B,j=null),L){if(F)throw new Error("SYLK shared formula cannot have own formula");var R=Y>-1&&w[Y][X];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=PK(R[1],{r:g-Y,c:v-X})}break;case"F":var M=0;for(b=1;b<V.length;++b)switch(V[b].charAt(0)){case"X":v=parseInt(V[b].slice(1))-1,++M;break;case"Y":for(g=parseInt(V[b].slice(1))-1,P=w.length;P<=g;++P)w[P]=[];break;case"M":E=parseInt(V[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=_[parseInt(V[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=V[b].slice(1).split(" "),P=parseInt(C[0],10);P<=parseInt(C[1],10);++P)E=parseInt(C[2],10),k[P-1]=E===0?{hidden:!0}:{wch:E},tp(k[P-1]);break;case"C":v=parseInt(V[b].slice(1))-1,k[v]||(k[v]={});break;case"R":g=parseInt(V[b].slice(1))-1,S[g]||(S[g]={}),E>0?(S[g].hpt=E,S[g].hpx=_v(E)):E===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}M<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return S.length>0&&(N["!rows"]=S),k.length>0&&(N["!cols"]=k),m&&m.sheetRows&&(w=w.slice(0,m.sheetRows)),[w,N]}function o(h,m){var p=a(h,m),g=p[0],v=p[1],y=Lp(g,m);return bl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return Ju(o(h,m),m)}function c(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+C9e(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=ow(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=lw(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*EK(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=Zr(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var j=v.s.c;j<=v.e.c;++j){var N=Pt({r:_,c:j});y=b?(h[_]||[])[j]:h[N],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,h,_,j))}return p.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),z6e=function(){function e(s,o){switch(o.type){case"base64":return t(oi(s),o);case"binary":return t(s,o);case"buffer":return t(Yt&&Buffer.isBuffer(s)?s.toString("binary"):Of(s),o);case"array":return t(vf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(xo(p))?isNaN(ep(p).getDate())?f[c][u]=p:f[c][u]=Hn(p):f[c][u]=xo(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Lp(e(s,o),o)}function n(s,o){return Ju(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Zr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=Pt({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ri(f.z||Ft[14],ns(Hn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),V6e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var w=Ja(b[1]);if(y.length<=w.r)for(p=y.length;p<=w.r;++p)y[p]||(y[p]=[]);switch(p=w.r,g=w.c,b[2]){case"t":y[p][g]=e(b[3]);break;case"v":y[p][g]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][g]=!!+b[4];break;default:y[p][g]=+b[4];break}b[2]=="vtf"&&(y[p][g]=[y[p][g],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Lp(r(f,h),h)}function a(f,h){return Ju(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=Ip(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(g=Pt({r:b,c:w}),p=y?(f[b]||[])[w]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var _=ns(Hn(p.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=p.w||Ri(p.z||Ft[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),bv=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(xo(d))?isNaN(ep(d).getDate())?f[h][m]=d:f[h][m]=Hn(d):f[h][m]=xo(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,b=0;b<=g;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,v=Math.max(v,y);for(b=0;b<=g;++b){m[b]=[];var w=0;for(e(p[b].slice(0,v).trim(),m,b,w,h),w=1;w<=(p[b].length-v)/10+1;++w)e(p[b].slice(v+(w-1)*10,v+w*10).trim(),m,b,w,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,w=0,_=0,j=m.charCodeAt(0),N=!1,S=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?e$e(h.dateNF):null;function E(){var P=d.slice(w,_),T={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)T.t="z";else if(h.raw)T.t="s",T.v=P;else if(P.trim().length===0)T.t="s",T.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(T.t="s",T.v=P.slice(2,-1).replace(/""/g,'"')):T9e(P)?(T.t="n",T.f=P.slice(1)):(T.t="s",T.v=P);else if(P=="TRUE")T.t="b",T.v=!0;else if(P=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=xo(P)))T.t="n",h.cellText!==!1&&(T.w=P),T.v=b;else if(!isNaN(ep(P).getDate())||C&&P.match(C)){T.z=h.dateNF||Ft[14];var V=0;C&&P.match(C)&&(P=t$e(P,h.dateNF,P.match(C)||[]),V=1),h.cellDates?(T.t="d",T.v=Hn(P,V)):(T.t="n",T.v=ns(Hn(P,V))),h.cellText!==!1&&(T.w=Ri(T.z,T.v instanceof Date?ns(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=P;if(T.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=T):p[Pt({c:y,r:v})]=T),w=_+1,k=d.charCodeAt(w),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),S==j)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(S=d.charCodeAt(_)){case 34:k===34&&(N=!N);break;case j:case 10:case 13:if(!N&&E())break e;break}return _-w>0&&E(),p["!ref"]=Jt(g),p}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Lp(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:uO(d,f);switch(f.type){case"base64":h=oi(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof Yc<"u"?h=Yc.utils.decode(f.codepage,d):h=Yt&&Buffer.isBuffer(d)?d.toString("binary"):Of(d);break;case"array":h=vf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Er(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Er(h):f.type=="binary"&&typeof Yc<"u"&&f.codepage&&(h=Yc.utils.decode(f.codepage,Yc.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?V6e.to_sheet(f.type=="string"?h:Er(h),f):o(h,f)}function c(d,f){return Ju(l(d,f),f)}function u(d){for(var f=[],h=Zr(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Pt({r:g,c:y});if(m=p?(d[g]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var w=(m.w||(yc(m),m.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function W6e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=U6e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return bv.to_workbook(e,t)}}var tg=function(){function e(D,R,M){if(D){Qn(D,D.l||0);for(var W=M.Enum||Y;D.l<D.length;){var J=D.read_shift(2),re=W[J]||W[65535],xe=D.read_shift(2),se=D.l+xe,Q=re.f&&re.f(D,xe,M);if(D.l=se,R(Q,re,J))return}}}function t(D,R){switch(R.type){case"base64":return r(oo(oi(D)),R);case"binary":return r(oo(D),R);case"buffer":case"array":return r(D,R)}throw"Unsupported type "+R.type}function r(D,R){if(!D)return D;var M=R||{},W=M.dense?[]:{},J="Sheet1",re="",xe=0,se={},Q=[],fe=[],A={s:{r:0,c:0},e:{r:0,c:0}},Be=M.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)M.Enum=Y,e(D,function(Re,gt,ht){switch(ht){case 0:M.vers=Re,Re>=4096&&(M.qpro=!0);break;case 6:A=Re;break;case 204:Re&&(re=Re);break;case 222:re=Re;break;case 15:case 51:M.qpro||(Re[1].v=Re[1].v.slice(1));case 13:case 14:case 16:ht==14&&(Re[2]&112)==112&&(Re[2]&15)>1&&(Re[2]&15)<15&&(Re[1].z=M.dateNF||Ft[14],M.cellDates&&(Re[1].t="d",Re[1].v=dj(Re[1].v))),M.qpro&&Re[3]>xe&&(W["!ref"]=Jt(A),se[J]=W,Q.push(J),W=M.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},xe=Re[3],J=re||"Sheet"+(xe+1),re="");var le=M.dense?(W[Re[0].r]||[])[Re[0].c]:W[Pt(Re[0])];if(le){le.t=Re[1].t,le.v=Re[1].v,Re[1].z!=null&&(le.z=Re[1].z),Re[1].f!=null&&(le.f=Re[1].f);break}M.dense?(W[Re[0].r]||(W[Re[0].r]=[]),W[Re[0].r][Re[0].c]=Re[1]):W[Pt(Re[0])]=Re[1];break}},M);else if(D[2]==26||D[2]==14)M.Enum=X,D[2]==14&&(M.qpro=!0,D.l=0),e(D,function(Re,gt,ht){switch(ht){case 204:J=Re;break;case 22:Re[1].v=Re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Re[3]>xe&&(W["!ref"]=Jt(A),se[J]=W,Q.push(J),W=M.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},xe=Re[3],J="Sheet"+(xe+1)),Be>0&&Re[0].r>=Be)break;M.dense?(W[Re[0].r]||(W[Re[0].r]=[]),W[Re[0].r][Re[0].c]=Re[1]):W[Pt(Re[0])]=Re[1],A.e.c<Re[0].c&&(A.e.c=Re[0].c),A.e.r<Re[0].r&&(A.e.r=Re[0].r);break;case 27:Re[14e3]&&(fe[Re[14e3][0]]=Re[14e3][1]);break;case 1537:fe[Re[0]]=Re[1],Re[0]==xe&&(J=Re[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(W["!ref"]=Jt(A),se[re||J]=W,Q.push(re||J),!fe.length)return{SheetNames:Q,Sheets:se};for(var Me={},Le=[],ze=0;ze<fe.length;++ze)se[Q[ze]]?(Le.push(fe[ze]||Q[ze]),Me[fe[ze]]=se[fe[ze]]||se[Q[ze]]):(Le.push(fe[ze]),Me[fe[ze]]={"!ref":"A1"});return{SheetNames:Le,Sheets:Me}}function n(D,R){var M=R||{};if(+M.codepage>=0&&uo(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var W=qC(),J=Zr(D["!ref"]),re=Array.isArray(D),xe=[];Ki(W,0,s(1030)),Ki(W,6,c(J));for(var se=Math.min(J.e.r,8191),Q=J.s.r;Q<=se;++Q)for(var fe=na(Q),A=J.s.c;A<=J.e.c;++A){Q===J.s.r&&(xe[A]=Rn(A));var Be=xe[A]+fe,Me=re?(D[Q]||[])[A]:D[Be];if(!(!Me||Me.t=="z"))if(Me.t=="n")(Me.v|0)==Me.v&&Me.v>=-32768&&Me.v<=32767?Ki(W,13,m(Q,A,Me.v)):Ki(W,14,g(Q,A,Me.v));else{var Le=yc(Me);Ki(W,15,f(Q,A,Le.slice(0,239)))}}return Ki(W,1),W.end()}function a(D,R){var M=R||{};if(+M.codepage>=0&&uo(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var W=qC();Ki(W,0,o(D));for(var J=0,re=0;J<D.SheetNames.length;++J)(D.Sheets[D.SheetNames[J]]||{})["!ref"]&&Ki(W,27,F(D.SheetNames[J],re++));var xe=0;for(J=0;J<D.SheetNames.length;++J){var se=D.Sheets[D.SheetNames[J]];if(!(!se||!se["!ref"])){for(var Q=Zr(se["!ref"]),fe=Array.isArray(se),A=[],Be=Math.min(Q.e.r,8191),Me=Q.s.r;Me<=Be;++Me)for(var Le=na(Me),ze=Q.s.c;ze<=Q.e.c;++ze){Me===Q.s.r&&(A[ze]=Rn(ze));var Re=A[ze]+Le,gt=fe?(se[Me]||[])[ze]:se[Re];if(!(!gt||gt.t=="z"))if(gt.t=="n")Ki(W,23,E(Me,ze,xe,gt.v));else{var ht=yc(gt);Ki(W,22,S(Me,ze,xe,ht.slice(0,239)))}}++xe}}return Ki(W,1),W.end()}function s(D){var R=Cn(2);return R.write_shift(2,D),R}function o(D){var R=Cn(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var M=0,W=0,J=0,re=0;re<D.SheetNames.length;++re){var xe=D.SheetNames[re],se=D.Sheets[xe];if(!(!se||!se["!ref"])){++J;var Q=Ip(se["!ref"]);M<Q.e.r&&(M=Q.e.r),W<Q.e.c&&(W=Q.e.c)}}return M>8191&&(M=8191),R.write_shift(2,M),R.write_shift(1,J),R.write_shift(1,W),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function l(D,R,M){var W={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&M.qpro?(W.s.c=D.read_shift(1),D.l++,W.s.r=D.read_shift(2),W.e.c=D.read_shift(1),D.l++,W.e.r=D.read_shift(2),W):(W.s.c=D.read_shift(2),W.s.r=D.read_shift(2),R==12&&M.qpro&&(D.l+=2),W.e.c=D.read_shift(2),W.e.r=D.read_shift(2),R==12&&M.qpro&&(D.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function c(D){var R=Cn(8);return R.write_shift(2,D.s.c),R.write_shift(2,D.s.r),R.write_shift(2,D.e.c),R.write_shift(2,D.e.r),R}function u(D,R,M){var W=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(W[0].c=D.read_shift(1),W[3]=D.read_shift(1),W[0].r=D.read_shift(2),D.l+=2):(W[2]=D.read_shift(1),W[0].c=D.read_shift(2),W[0].r=D.read_shift(2)),W}function d(D,R,M){var W=D.l+R,J=u(D,R,M);if(J[1].t="s",M.vers==20768){D.l++;var re=D.read_shift(1);return J[1].v=D.read_shift(re,"utf8"),J}return M.qpro&&D.l++,J[1].v=D.read_shift(W-D.l,"cstr"),J}function f(D,R,M){var W=Cn(7+M.length);W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,D),W.write_shift(1,39);for(var J=0;J<W.length;++J){var re=M.charCodeAt(J);W.write_shift(1,re>=128?95:re)}return W.write_shift(1,0),W}function h(D,R,M){var W=u(D,R,M);return W[1].v=D.read_shift(2,"i"),W}function m(D,R,M){var W=Cn(7);return W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,D),W.write_shift(2,M,"i"),W}function p(D,R,M){var W=u(D,R,M);return W[1].v=D.read_shift(8,"f"),W}function g(D,R,M){var W=Cn(13);return W.write_shift(1,255),W.write_shift(2,R),W.write_shift(2,D),W.write_shift(8,M,"f"),W}function v(D,R,M){var W=D.l+R,J=u(D,R,M);if(J[1].v=D.read_shift(8,"f"),M.qpro)D.l=W;else{var re=D.read_shift(2);_(D.slice(D.l,D.l+re),J),D.l+=re}return J}function y(D,R,M){var W=R&32768;return R&=-32769,R=(W?D:0)+(R>=8192?R-16384:R),(W?"":"$")+(M?Rn(R):na(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,R){Qn(D,0);for(var M=[],W=0,J="",re="",xe="",se="";D.l<D.length;){var Q=D[D.l++];switch(Q){case 0:M.push(D.read_shift(8,"f"));break;case 1:re=y(R[0].c,D.read_shift(2),!0),J=y(R[0].r,D.read_shift(2),!1),M.push(re+J);break;case 2:{var fe=y(R[0].c,D.read_shift(2),!0),A=y(R[0].r,D.read_shift(2),!1);re=y(R[0].c,D.read_shift(2),!0),J=y(R[0].r,D.read_shift(2),!1),M.push(fe+A+":"+re+J)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(D.read_shift(2));break;case 6:{for(var Be="";Q=D[D.l++];)Be+=String.fromCharCode(Q);M.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:se=M.pop(),xe=M.pop(),M.push(["AND","OR"][Q-20]+"("+xe+","+se+")");break;default:if(Q<32&&w[Q])se=M.pop(),xe=M.pop(),M.push(xe+w[Q]+se);else if(b[Q]){if(W=b[Q][1],W==69&&(W=D[D.l++]),W>M.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+M.join("|")+"|");return}var Me=M.slice(-W);M.length-=W,M.push(b[Q][0]+"("+Me.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}M.length==1?R[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function j(D){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=D.read_shift(2),R[3]=D[D.l++],R[0].c=D[D.l++],R}function N(D,R){var M=j(D);return M[1].t="s",M[1].v=D.read_shift(R-4,"cstr"),M}function S(D,R,M,W){var J=Cn(6+W.length);J.write_shift(2,D),J.write_shift(1,M),J.write_shift(1,R),J.write_shift(1,39);for(var re=0;re<W.length;++re){var xe=W.charCodeAt(re);J.write_shift(1,xe>=128?95:xe)}return J.write_shift(1,0),J}function k(D,R){var M=j(D);M[1].v=D.read_shift(2);var W=M[1].v>>1;if(M[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return M[1].v=W,M}function C(D,R){var M=j(D),W=D.read_shift(4),J=D.read_shift(4),re=D.read_shift(2);if(re==65535)return W===0&&J===3221225472?(M[1].t="e",M[1].v=15):W===0&&J===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var xe=re&32768;return re=(re&32767)-16446,M[1].v=(1-xe*2)*(J*Math.pow(2,re+32)+W*Math.pow(2,re)),M}function E(D,R,M,W){var J=Cn(14);if(J.write_shift(2,D),J.write_shift(1,M),J.write_shift(1,R),W==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var re=0,xe=0,se=0,Q=0;return W<0&&(re=1,W=-W),xe=Math.log2(W)|0,W/=Math.pow(2,xe-31),Q=W>>>0,Q&2147483648||(W/=2,++xe,Q=W>>>0),W-=Q,Q|=2147483648,Q>>>=0,W*=Math.pow(2,32),se=W>>>0,J.write_shift(4,se),J.write_shift(4,Q),xe+=16383+(re?32768:0),J.write_shift(2,xe),J}function P(D,R){var M=C(D);return D.l+=R-14,M}function T(D,R){var M=j(D),W=D.read_shift(4);return M[1].v=W>>6,M}function V(D,R){var M=j(D),W=D.read_shift(8,"f");return M[1].v=W,M}function G(D,R){var M=V(D);return D.l+=R-10,M}function B(D,R){return D[D.l+R-1]==0?D.read_shift(R,"cstr"):""}function I(D,R){var M=D[D.l++];M>R-1&&(M=R-1);for(var W="";W.length<M;)W+=String.fromCharCode(D[D.l++]);return W}function z(D,R,M){if(!(!M.qpro||R<21)){var W=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var J=D.read_shift(R-21,"cstr");return[W,J]}}function L(D,R){for(var M={},W=D.l+R;D.l<W;){var J=D.read_shift(2);if(J==14e3){for(M[J]=[0,""],M[J][0]=D.read_shift(2);D[D.l];)M[J][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return M}function F(D,R){var M=Cn(5+D.length);M.write_shift(2,14e3),M.write_shift(2,R);for(var W=0;W<D.length;++W){var J=D.charCodeAt(W);M[M.l++]=J>127?95:J}return M[M.l++]=0,M}var Y={0:{n:"BOF",f:gn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function H6e(e){var t={},r=e.match(Ma),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Ct(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=BP[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var q6e=function(){var e=xv("t"),t=xv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:nr(o[1])},c=s.match(t);return c&&(l.s=H6e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),G6e=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),K6e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Y6e=/<(?:\w+:)?r>/,X6e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function nO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nr(Er(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Er(e),r&&(n.h=GP(n.t))):e.match(Y6e)&&(n.r=Er(e),n.t=nr(Er((e.replace(X6e,"").match(K6e)||[]).join("").replace(Ma,""))),r&&(n.h=G6e(q6e(n.r)))),n):{t:""}}var Q6e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Z6e=/<(?:\w+:)?(?:si|sstItem)>/g,J6e=/<\/(?:\w+:)?(?:si|sstItem)>/;function eBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(Q6e);if(a){n=a[2].replace(Z6e,"").split(J6e);for(var s=0;s!=n.length;++s){var o=nO(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=Ct(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function tBe(e){return[e.read_shift(4),e.read_shift(4)]}function rBe(e,t){var r=[],n=!1;return Cc(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function _K(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ac(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function nBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ac(e,4),t.U=ac(e,4),t.W=ac(e,4),t}function aBe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function sBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(aBe(e));return t}function iBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function oBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ac(e,4),t.U=ac(e,4),t.W=ac(e,4),t}function lBe(e){var t=oBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function jK(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function SK(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function cBe(e){var t=ac(e);switch(t.Minor){case 2:return[t.Minor,uBe(e)];case 3:return[t.Minor,dBe()];case 4:return[t.Minor,fBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function uBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=jK(e,r),a=SK(e,e.length-e.l);return{t:"Std",h:n,v:a}}function dBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function fBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ma,function(s){var o=Ct(s);switch(El(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function hBe(e,t){var r={},n=r.EncryptionVersionInfo=ac(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=jK(e,a),t-=a,r.EncryptionVerifier=SK(e,t),r}function mBe(e){var t={},r=t.EncryptionVersionInfo=ac(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function pBe(e){var t=0,r,n=_K(e),a=n.length+1,s,o,l,c,u;for(r=Iu(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var NK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=_K(o),c=s(l),u=l.length,d=Iu(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,p=15-l.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(l[u],h),--u,--p;return d}}(),gBe=function(e,t,r,n,a){a||(a=t),n||(n=NK(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},vBe=function(e){var t=0,r=NK(e);return function(n){var a=gBe("",n,t,r);return t=a[1],a[0]}};function xBe(e,t,r,n){var a={key:gn(e),verificationBytes:gn(e)};return r.password&&(a.verifier=pBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=vBe(r.password)),a}function yBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=mBe(e):n.Data=hBe(e,t),n}function bBe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?yBe(e,t-2,n):xBe(e,r.biff>=8?t:t-2,r,n),n}var wBe=function(){function e(a,s){switch(s.type){case"base64":return t(oi(a),s);case"binary":return t(a,s);case"buffer":return t(Yt&&Buffer.isBuffer(a)?a.toString("binary"):Of(a),s);case"array":return t(vf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var v=d.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][g]=y:l[Pt({r:f,c:g})]=y}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=Jt(u),l}function r(a,s){return Ju(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=Zr(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Pt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(yc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _Be(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function wv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function jBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function SBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function iw(e,t){if(t===0)return e;var r=jBe(_Be(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),wv(SBe(r))}var kK=6,NBe=15,kBe=1,Ha=kK;function ow(e){return Math.floor((e+Math.round(128/Ha)/256)*Ha)}function lw(e){return Math.floor((e-5)/Ha*100+.5)/100}function XC(e){return Math.round((e*Ha+5)/Ha*256)/256}function b2(e){return XC(lw(ow(e)))}function aO(e){var t=Math.abs(e-b2(e)),r=Ha;if(t>.005)for(Ha=kBe;Ha<NBe;++Ha)Math.abs(e-b2(e))<=t&&(t=Math.abs(e-b2(e)),r=Ha);Ha=r}function tp(e){e.width?(e.wpx=ow(e.width),e.wch=lw(e.wpx),e.MDW=Ha):e.wpx?(e.wch=lw(e.wpx),e.width=XC(e.wch),e.MDW=Ha):typeof e.wch=="number"&&(e.width=XC(e.wch),e.wpx=ow(e.width),e.MDW=Ha),e.customWidth&&delete e.customWidth}var CBe=96,CK=CBe;function EK(e){return e*96/CK}function _v(e){return e*CK/96}var EBe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function TBe(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Ma)||[]).forEach(function(o){var l=Ct(o);switch(El(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Ir(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Ir(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function ABe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Ma)||[]).forEach(function(o){var l=Ct(o);switch(El(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function PBe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Ma)||[]).forEach(function(o){var l=Ct(o);switch(El(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Er(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Ir(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Ir(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Ir(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Ir(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Ir(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Ir(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Ir(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=BP[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Ir(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Gd[a.color.index];a.color.index==81&&(c=Gd[1]),c||(c=Gd[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=iw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function OBe(e,t,r){t.NumberFmt=[];for(var n=bl(Ft),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ft[n[a]];var s=e[0].match(Ma);if(s)for(a=0;a<s.length;++a){var o=Ct(s[a]);switch(El(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=nr(Er(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}qd(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Cy=["numFmtId","fillId","fontId","borderId","xfId"],Ey=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function DBe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ma)||[]).forEach(function(s){var o=Ct(s),l=0;switch(El(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Cy.length;++l)n[Cy[l]]&&(n[Cy[l]]=parseInt(n[Cy[l]],10));for(l=0;l<Ey.length;++l)n[Ey[l]]&&(n[Ey[l]]=Ir(n[Ey[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Ir(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var RBe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&OBe(f,d,u),(f=l.match(a))&&PBe(f,d,c,u),(f=l.match(n))&&ABe(f,d,c,u),(f=l.match(s))&&TBe(f,d,c,u),(f=l.match(r))&&DBe(f,d,u),d}}();function MBe(e,t){var r=e.read_shift(2),n=Ea(e);return[r,n]}function FBe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=q$e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=H$e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ea(e),n}var IBe=Oa;function LBe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var $Be=Oa;function BBe(e,t,r){var n={};n.NumberFmt=[];for(var a in Ft)n.NumberFmt[a]=Ft[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Cc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],qd(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=iw(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var UBe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function zBe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ma)||[]).forEach(function(a){var s=Ct(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[UBe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function VBe(){}function WBe(){}var HBe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,qBe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,GBe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function KBe(e,t,r){t.themeElements={};var n;[["clrScheme",HBe,zBe],["fontScheme",qBe,VBe],["fmtScheme",GBe,WBe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var YBe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function TK(e,t){(!e||e.length===0)&&(e=XBe());var r,n={};if(!(r=e.match(YBe)))throw new Error("themeElements not found in theme");return KBe(r[0],n,t),n.raw=e,n}function XBe(e,t){var r=[BG];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function QBe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=$G(s,{type:"array"})}catch{return}var l=Qs(o,"theme/theme/theme1.xml",!0);if(l)return TK(l,r)}}function ZBe(e){return e.read_shift(4)}function JBe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=e9e(e,4);break;case 2:t.xclrValue=pK(e);break;case 3:t.xclrValue=ZBe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function e9e(e,t){return Oa(e,t)}function t9e(e,t){return Oa(e,t)}function r9e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=JBe(e);break;case 6:n[1]=t9e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function n9e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(r9e(e,r-e.l));return{ixfe:n,ext:s}}function a9e(e,t){t.forEach(function(r){switch(r[0]){}})}function s9e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ea(e)}}function i9e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function o9e(e){return e.l+=4,e.read_shift(4)!=0}function l9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Cc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function c9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace(Ma,function(l){var c=Ct(l);switch(El(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function u9e(e){var t=[];if(!e)return t;var r=1;return(e.match(Ma)||[]).forEach(function(n){var a=Ct(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function d9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Pt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function f9e(e,t,r){var n=[];return Cc(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function h9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Cc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function m9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function o5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=Ja(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=Zr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=Jt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function p9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Ct(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=Ja(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&nO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function g9e(e,t){var r=[],n=!1,a={},s=0;return e.replace(Ma,function(l,c){var u=Ct(l);switch(El(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function v9e(e,t){var r=[],n=!1;return e.replace(Ma,function(s){var o=Ct(s);switch(El(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function x9e(e){var t={};t.iauthor=e.read_shift(4);var r=Rf(e);return t.rfx=r.s,t.ref=Pt(r.s),e.l+=16,t}var y9e=Ea;function b9e(e,t){var r=[],n=[],a={},s=!1;return Cc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var w9e="application/vnd.ms-office.vbaProject";function _9e(e){var t=Qt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Qt.write(t)}function j9e(){return{"!type":"dialog"}}function S9e(){return{"!type":"dialog"}}function N9e(){return{"!type":"macro"}}function k9e(){return{"!type":"macro"}}var qh=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+Rn(d)+(c?"":"$")+na(u)}return function(a,s){return t=s,a.replace(e,r)}}(),AK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,C9e=function(){return function(t,r){return t.replace(AK,function(n,a,s,o,l,c){var u=QP(o)-(s?0:r.c),d=XP(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function PK(e,t){return e.replace(AK,function(r,n,a,s,o,l){return n+(a=="$"?a+s:Rn(QP(s)+t.c))+(o=="$"?o+l:na(XP(l)+t.r))})}function E9e(e,t,r){var n=Ip(t),a=n.s,s=Ja(r),o={r:s.r-a.r,c:s.c-a.c};return PK(e,o)}function T9e(e){return e.length!=1}function l5(e){return e.replace(/_xlfn\./g,"")}function fn(e){e.l+=1}function Lu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function OK(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return DK(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Lu(e),l=Lu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function DK(e){var t=Lu(e),r=Lu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function A9e(e,t,r){if(r.biff<8)return DK(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Lu(e),o=Lu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function RK(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return P9e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Lu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function P9e(e){var t=Lu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function O9e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function D9e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return R9e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function R9e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function M9e(e,t,r){var n=(e[e.l++]&96)>>5,a=OK(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function F9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=OK(e,s,r);return[n,a,o]}function I9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function L9e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function $9e(e,t,r){var n=(e[e.l++]&96)>>5,a=A9e(e,t-1,r);return[n,a]}function B9e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function c5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function U9e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function z9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function V9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function W9e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function H9e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function MK(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function q9e(e){return e.read_shift(2),MK(e)}function G9e(e){return e.read_shift(2),MK(e)}function K9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=RK(e,0,r);return[n,a]}function Y9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=D9e(e,0,r);return[n,a]}function X9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=RK(e,0,r);return[n,a,s]}function Q9e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[ZUe[a],LK[a],n]}function Z9e(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:J9e(e);return[a,(s[0]===0?LK:QUe)[s[1]]]}function J9e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function eUe(e,t,r){e.l+=r&&r.biff==2?3:4}function tUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function rUe(e){return e.l++,Mf[e.read_shift(1)]}function nUe(e){return e.l++,e.read_shift(2)}function aUe(e){return e.l++,e.read_shift(1)!==0}function sUe(e){return e.l++,ka(e)}function iUe(e,t,r){return e.l++,yx(e,t-1,r)}function oUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=rn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Mf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ka(e);break;case 2:r[1]=Ff(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function lUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Rf:fj)(e));return a}function cUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=oUe(e,r.biff);return o}function uUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function dUe(e,t,r){if(r.biff==5)return fUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function fUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function hUe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function mUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function pUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function gUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var vUe=Oa,xUe=Oa,yUe=Oa;function wx(e,t,r){return e.l+=2,[O9e(e)]}function sO(e){return e.l+=6,[]}var bUe=wx,wUe=sO,_Ue=sO,jUe=wx;function FK(e){return e.l+=2,[gn(e),e.read_shift(2)&1]}var SUe=wx,NUe=FK,kUe=sO,CUe=wx,EUe=wx,TUe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AUe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=TUe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function PUe(e){return e.l+=2,[e.read_shift(4)]}function OUe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function DUe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function RUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function MUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function FUe(e){return e.l+=4,[0,0]}var u5={1:{n:"PtgExp",f:tUe},2:{n:"PtgTbl",f:yUe},3:{n:"PtgAdd",f:fn},4:{n:"PtgSub",f:fn},5:{n:"PtgMul",f:fn},6:{n:"PtgDiv",f:fn},7:{n:"PtgPower",f:fn},8:{n:"PtgConcat",f:fn},9:{n:"PtgLt",f:fn},10:{n:"PtgLe",f:fn},11:{n:"PtgEq",f:fn},12:{n:"PtgGe",f:fn},13:{n:"PtgGt",f:fn},14:{n:"PtgNe",f:fn},15:{n:"PtgIsect",f:fn},16:{n:"PtgUnion",f:fn},17:{n:"PtgRange",f:fn},18:{n:"PtgUplus",f:fn},19:{n:"PtgUminus",f:fn},20:{n:"PtgPercent",f:fn},21:{n:"PtgParen",f:fn},22:{n:"PtgMissArg",f:fn},23:{n:"PtgStr",f:iUe},26:{n:"PtgSheet",f:OUe},27:{n:"PtgEndSheet",f:DUe},28:{n:"PtgErr",f:rUe},29:{n:"PtgBool",f:aUe},30:{n:"PtgInt",f:nUe},31:{n:"PtgNum",f:sUe},32:{n:"PtgArray",f:B9e},33:{n:"PtgFunc",f:Q9e},34:{n:"PtgFuncVar",f:Z9e},35:{n:"PtgName",f:uUe},36:{n:"PtgRef",f:K9e},37:{n:"PtgArea",f:M9e},38:{n:"PtgMemArea",f:hUe},39:{n:"PtgMemErr",f:vUe},40:{n:"PtgMemNoMem",f:xUe},41:{n:"PtgMemFunc",f:mUe},42:{n:"PtgRefErr",f:pUe},43:{n:"PtgAreaErr",f:I9e},44:{n:"PtgRefN",f:Y9e},45:{n:"PtgAreaN",f:$9e},46:{n:"PtgMemAreaN",f:RUe},47:{n:"PtgMemNoMemN",f:MUe},57:{n:"PtgNameX",f:dUe},58:{n:"PtgRef3d",f:X9e},59:{n:"PtgArea3d",f:F9e},60:{n:"PtgRefErr3d",f:gUe},61:{n:"PtgAreaErr3d",f:L9e},255:{}},IUe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},LUe={1:{n:"PtgElfLel",f:FK},2:{n:"PtgElfRw",f:CUe},3:{n:"PtgElfCol",f:bUe},6:{n:"PtgElfRwV",f:EUe},7:{n:"PtgElfColV",f:jUe},10:{n:"PtgElfRadical",f:SUe},11:{n:"PtgElfRadicalS",f:kUe},13:{n:"PtgElfColS",f:wUe},15:{n:"PtgElfColSV",f:_Ue},16:{n:"PtgElfRadicalLel",f:NUe},25:{n:"PtgList",f:AUe},29:{n:"PtgSxName",f:PUe},255:{}},$Ue={0:{n:"PtgAttrNoop",f:FUe},1:{n:"PtgAttrSemi",f:H9e},2:{n:"PtgAttrIf",f:V9e},4:{n:"PtgAttrChoose",f:U9e},8:{n:"PtgAttrGoto",f:z9e},16:{n:"PtgAttrSum",f:eUe},32:{n:"PtgAttrBaxcel",f:c5},33:{n:"PtgAttrBaxcel",f:c5},64:{n:"PtgAttrSpace",f:q9e},65:{n:"PtgAttrSpaceSemi",f:G9e},128:{n:"PtgAttrIfError",f:W9e},255:{}};function _x(e,t,r,n){if(n.biff<8)return Oa(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=cUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=lUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Oa(e,t)),s}function jx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=u5[s]||u5[IUe[s]],(s===24||s===25)&&(a=(s===24?LUe:$Ue)[e[e.l+1]]),!a||!a.f?Oa(e,t):o.push([a.n,a.f(e,t,r)]);return o}function BUe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var UUe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zUe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function IK(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function d5(e,t,r){var n=IK(e,t,r);return n=="#REF"?n:zUe(n,r)}function wa(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Qr(" ",e[0][g][1][1]);break;case 1:v=Qr("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+UUe[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Q0(w[1][1],o,a),l.push(Z0(d,s));break;case"PtgRefN":d=r?Q0(w[1][1],r,a):w[1][1],l.push(Z0(d,s));break;case"PtgRef3d":f=w[1][1],d=Q0(w[1][2],o,a),p=d5(n,f,a),l.push(p+"!"+Z0(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],j=w[1][1];_||(_=0),_&=127;var N=_==0?[]:l.slice(-_);l.length-=_,j==="User"&&(j=N.shift()),l.push(j+"("+N.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":m=HL(w[1][1],r?{s:r}:o,a),l.push(x2(m,a));break;case"PtgArea":m=HL(w[1][1],o,a),l.push(x2(m,a));break;case"PtgArea3d":f=w[1][1],m=w[1][2],p=d5(n,f,a),l.push(p+"!"+x2(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],k=S?S.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var C=w[1][1];h=w[1][2];var E;if(a.biff<=5)C<0&&(C=-C),n[C]&&(E=n[C][h]);else{var P="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(P=n.SheetNames[n[C][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])P+=n[C][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var T=(IK(n,C,a)||"").split(";;");T[h-1]?P=T[h-1]:P+="SH33TJSERRX"}l.push(P);break}E||(E={Name:"SH33TJSERRY"}),l.push(E.Name);break;case"PtgParen":var V="(",G=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:V=Qr(" ",e[0][g][1][1])+V;break;case 3:V=Qr("\r",e[0][g][1][1])+V;break;case 4:G=Qr(" ",e[0][g][1][1])+G;break;case 5:G=Qr("\r",e[0][g][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(V+l.pop()+G);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[Pt(d)]){var I=n.sharedf[Pt(d)];l.push(wa(I,o,B,n,a))}else{var z=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(wa(u[1],o,B,n,a)),z=!0;break}z||l.push(w[1])}break;case"PtgArray":l.push("{"+BUe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&L.indexOf(e[0][y][0])==-1){w=e[0][g];var F=!0;switch(w[1][0]){case 4:F=!1;case 0:v=Qr(" ",w[1][1]);break;case 5:F=!1;case 1:v=Qr("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((F?v:"")+l.pop()+(F?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function VUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Oa(e,t-2)];var l=jx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function WUe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Oa(e,t-2)];var l=jx(e,o,r);return t!==o+a&&(s=_x(e,t-o-a,l,r)),e.l=n,[l,s]}function HUe(e,t,r,n){var a=e.l+t,s=jx(e,n,r),o;return a!==e.l&&(o=_x(e,a-e.l,s,r)),[s,o]}function qUe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=jx(e,s,r);return s==65535?[[],Oa(e,t-2)]:(t!==s+2&&(a=_x(e,n-s-2,o,r)),[o,a])}function GUe(e){var t;if(Ql(e,e.l+6)!==65535)return[ka(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function w2(e,t,r){var n=e.l+t,a=Tl(e);r.biff==2&&++e.l;var s=GUe(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=WUe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function hj(e,t,r){var n=e.read_shift(4),a=jx(e,n,r),s=e.read_shift(4),o=s>0?_x(e,s,a,r):null;return[a,o]}var KUe=hj,mj=hj,YUe=hj,XUe=hj,QUe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},LK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ZUe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function f5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function _2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var rg={},Gh={};function ng(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $K(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ft[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Hn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ft[t]==null&&qd(J5e[t]||"General",t),e.t==="e")e.w=e.w||Mf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v);else if(e.t==="d"){var o=ns(e.v);(o|0)===o?e.w=o.toString(10):e.w=vv(o)}else{if(e.v===void 0)return"";e.w=gf(e.v,Gh)}else e.t==="d"?e.w=Ri(t,ns(e.v),Gh):e.w=Ri(t,e.v,Gh)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=iw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=iw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function JUe(e,t){var r=Zr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Jt(r))}var e7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,t7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,r7e=/<(?:\w:)?hyperlink [^>]*>/mg,n7e=/"(\w*:\w*)"/,a7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,s7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,i7e=/<(?:\w:)?pageMargins[^>]*\/>/g,BK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,o7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,l7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function c7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(t7e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(BK);h?iO(h[0],l,a,r):(h=u.match(o7e))&&u7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(n7e);p&&JUe(l,p[1])}var g=u.match(l7e);g&&g[1]&&g7e(g[1],a);var v=[];if(t.cellStyles){var y=u.match(a7e);y&&h7e(v,y)}f&&v7e(f[1],l,t,c,s,o);var b=d.match(s7e);b&&(l["!autofilter"]=m7e(b[0]));var w=[],_=d.match(e7e);if(_)for(m=0;m!=_.length;++m)w[m]=Zr(_[m].slice(_[m].indexOf('"')+1));var j=d.match(r7e);j&&d7e(l,j,n);var N=d.match(i7e);if(N&&(l["!margins"]=f7e(Ct(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Jt(c)),t.sheetRows>0&&l["!ref"]){var S=Zr(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Jt(S))}return v.length>0&&(l["!cols"]=v),w.length>0&&(l["!merges"]=w),l}function iO(e,t,r,n){var a=Ct(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nr(Er(a.codeName)))}function u7e(e,t,r,n,a){iO(e.slice(0,e.indexOf(">")),r,n,a)}function d7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Ct(Er(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+nr(s.location))):(s.Target="#"+nr(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Zr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Pt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function f7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function h7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Ct(t[n],!0);a.hidden&&(a.hidden=Ir(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,aO(a.width)),tp(a);s<=o;)e[s++]=ra(a)}}function m7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var p7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function g7e(e,t){t.Views||(t.Views=[{}]),(e.match(p7e)||[]).forEach(function(r,n){var a=Ct(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ir(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var v7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=xv("v"),o=xv("f");return function(c,u,d,f,h,m){for(var p=0,g="",v=[],y=[],b=0,w=0,_=0,j="",N,S,k=0,C=0,E,P,T=0,V=0,G=Array.isArray(m.CellXf),B,I=[],z=[],L=Array.isArray(u),F=[],Y={},X=!1,D=!!d.sheetStubs,R=c.split(t),M=0,W=R.length;M!=W;++M){g=R[M].trim();var J=g.length;if(J!==0){var re=0;e:for(p=0;p<J;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(S=Ct(g.slice(re,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,d.sheetRows&&d.sheetRows<k)continue;Y={},X=!1,S.ht&&(X=!0,Y.hpt=parseFloat(S.ht),Y.hpx=_v(Y.hpt)),S.hidden=="1"&&(X=!0,Y.hidden=!0),S.outlineLevel!=null&&(X=!0,Y.level=+S.outlineLevel),X&&(F[k-1]=Y)}break;case"<":re=p;break}if(re>=p)break;if(S=Ct(g.slice(re,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(Y={},X=!1,S.ht&&(X=!0,Y.hpt=parseFloat(S.ht),Y.hpx=_v(Y.hpt)),S.hidden=="1"&&(X=!0,Y.hidden=!0),S.outlineLevel!=null&&(X=!0,Y.level=+S.outlineLevel),X&&(F[k-1]=Y)),v=g.slice(p).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),b=p,w=0,_=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(b=0,j=y[1],w=0;w!=j.length&&!((_=j.charCodeAt(w)-64)<1||_>26);++w)b=26*b+_;--b,C=b}else++C;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,S=Ct(g.slice(0,w),!0),S.r||(S.r=Pt({r:k-1,c:C})),j=g.slice(w),N={t:""},(y=j.match(s))!=null&&y[1]!==""&&(N.v=nr(y[1])),d.cellFormula){if((y=j.match(o))!=null&&y[1]!==""){if(N.f=nr(Er(y[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=l5(N.f)),y[0].indexOf('t="array"')>-1)N.F=(j.match(a)||[])[1],N.F.indexOf(":")>-1&&I.push([Zr(N.F),N.F]);else if(y[0].indexOf('t="shared"')>-1){P=Ct(y[0]);var se=nr(Er(y[1]));d.xlfn||(se=l5(se)),z[parseInt(P.si,10)]=[P,se,S.r]}}else(y=j.match(/<f[^>]*\/>/))&&(P=Ct(y[0]),z[P.si]&&(N.f=E9e(z[P.si][1],z[P.si][2],S.r)));var Q=Ja(S.r);for(w=0;w<I.length;++w)Q.r>=I[w][0].s.r&&Q.r<=I[w][0].e.r&&Q.c>=I[w][0].s.c&&Q.c<=I[w][0].e.c&&(N.F=I[w][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(D)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!D)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!D)continue;N.t="z"}else E=rg[parseInt(N.v,10)],N.v=E.t,N.r=E.r,d.cellHTML&&(N.h=E.h);break;case"str":N.t="s",N.v=N.v!=null?Er(N.v):"",d.cellHTML&&(N.h=GP(N.v));break;case"inlineStr":y=j.match(n),N.t="s",y!=null&&(E=nO(y[1]))?(N.v=E.t,d.cellHTML&&(N.h=E.h)):N.v="";break;case"b":N.v=Ir(N.v);break;case"d":d.cellDates?N.v=Hn(N.v,1):(N.v=ns(Hn(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=oK[N.v];break}if(T=V=0,B=null,G&&S.s!==void 0&&(B=m.CellXf[S.s],B!=null&&(B.numFmtId!=null&&(T=B.numFmtId),d.cellStyles&&B.fillId!=null&&(V=B.fillId))),$K(N,T,V,d,h,m),d.cellDates&&G&&N.t=="n"&&Fp(Ft[T])&&(N.t="d",N.v=dj(N.v)),S.cm&&d.xlmeta){var fe=(d.xlmeta.Cell||[])[+S.cm-1];fe&&fe.type=="XLDAPR"&&(N.D=!0)}if(L){var A=Ja(S.r);u[A.r]||(u[A.r]=[]),u[A.r][A.c]=N}else u[S.r]=N}}}}F.length>0&&(u["!rows"]=F)}}();function x7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var y7e=Rf;function b7e(){}function w7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=V$e(e),r}function _7e(e){var t=Li(e);return[t]}function j7e(e){var t=Df(e);return[t]}function S7e(e){var t=Li(e),r=e.read_shift(1);return[t,r,"b"]}function N7e(e){var t=Df(e),r=e.read_shift(1);return[t,r,"b"]}function k7e(e){var t=Li(e),r=e.read_shift(1);return[t,r,"e"]}function C7e(e){var t=Df(e),r=e.read_shift(1);return[t,r,"e"]}function E7e(e){var t=Li(e),r=e.read_shift(4);return[t,r,"s"]}function T7e(e){var t=Df(e),r=e.read_shift(4);return[t,r,"s"]}function A7e(e){var t=Li(e),r=ka(e);return[t,r,"n"]}function UK(e){var t=Df(e),r=ka(e);return[t,r,"n"]}function P7e(e){var t=Li(e),r=eO(e);return[t,r,"n"]}function O7e(e){var t=Df(e),r=eO(e);return[t,r,"n"]}function D7e(e){var t=Li(e),r=ZP(e);return[t,r,"is"]}function R7e(e){var t=Li(e),r=Ea(e);return[t,r,"str"]}function M7e(e){var t=Df(e),r=Ea(e);return[t,r,"str"]}function F7e(e,t,r){var n=e.l+t,a=Li(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function I7e(e,t,r){var n=e.l+t,a=Li(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function L7e(e,t,r){var n=e.l+t,a=Li(e);a.r=r["!row"];var s=ka(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}function $7e(e,t,r){var n=e.l+t,a=Li(e);a.r=r["!row"];var s=Ea(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=mj(e,n-e.l,r);o[3]=wa(l,null,a,r.supbooks,r)}else e.l=n;return o}var B7e=Rf;function U7e(e,t){var r=e.l+t,n=Rf(e),a=JP(e),s=Ea(e),o=Ea(e),l=Ea(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function z7e(){}function V7e(e,t,r){var n=e.l+t,a=aK(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=KUe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function W7e(e,t,r){var n=e.l+t,a=Rf(e),s=[a];if(r.cellFormula){var o=XUe(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var H7e=["left","right","top","bottom","header","footer"];function q7e(e){var t={};return H7e.forEach(function(r){t[r]=ka(e)}),t}function G7e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function K7e(){}function Y7e(){}function X7e(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,b,w,_,j,N=[];l.biff=12,l["!row"]=0;var S=0,k=!1,C=[],E={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=E,P.arrayf=C,P.SheetNames=a.SheetNames||a.Sheets.map(function(L){return L.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var T=0;T<a.Names.length;++T)P[0][T+1]=a.Names[T];var V=[],G=[],B=!1;cw[16]={n:"BrtShortReal",f:UK};var I;if(Cc(e,function(F,Y,X){if(!h)switch(X){case 148:u=F;break;case 0:m=F,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=na(v=m.r),l["!row"]=m.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=_v(F.hpt)),G[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:F[2]},F[2]){case"n":p.v=F[1];break;case"s":w=rg[F[1]],p.v=w.t,p.r=w.r;break;case"b":p.v=!!F[1];break;case"e":p.v=F[1],l.cellText!==!1&&(p.w=Mf[p.v]);break;case"str":p.t="s",p.v=F[1];break;case"is":p.t="s",p.v=F[1].t;break}if((g=o.CellXf[F[0].iStyleRef])&&$K(p,g.numFmtId,null,l,s,o),y=F[0].c==-1?y+1:F[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Rn(y)+_]=p,l.cellFormula){for(k=!1,S=0;S<C.length;++S){var D=C[S];m.r>=D[0].s.r&&m.r<=D[0].e.r&&y>=D[0].s.c&&y<=D[0].e.c&&(p.F=Jt(D[0]),k=!0)}!k&&F.length>3&&(p.f=F[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&g&&p.t=="n"&&Fp(Ft[g.numFmtId])){var R=Td(p.v);R&&(p.t="d",p.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},y=F[0].c==-1?y+1:F[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[Rn(y)+_]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),I&&(I.type=="XLDAPR"&&(p.D=!0),I=void 0);break;case 176:N.push(F);break;case 49:I=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var M=n["!id"][F.relId];for(M?(F.Target=M.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=M):F.relId==""&&(F.Target="#"+F.loc),v=F.rfx.s.r;v<=F.rfx.e.r;++v)for(y=F.rfx.s.c;y<=F.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=F):(b=Pt({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=F);break;case 426:if(!l.cellFormula)break;C.push(F),j=l.dense?c[v][y]:c[Rn(y)+_],j.f=wa(F[1],d,{r:m.r,c:y},P,l),j.F=Jt(F[0]);break;case 427:if(!l.cellFormula)break;E[Pt(F[0].s)]=F[1],j=l.dense?c[v][y]:c[Rn(y)+_],j.f=wa(F[1],d,{r:m.r,c:y},P,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)V[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},B||(B=!0,aO(F.w/256)),tp(V[F.e+1]);break;case 161:c["!autofilter"]={ref:Jt(F)};break;case 476:c["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!Y.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Jt(u||d)),l.sheetRows&&c["!ref"]){var z=Zr(c["!ref"]);l.sheetRows<=+z.e.r&&(z.e.r=l.sheetRows-1,z.e.r>d.e.r&&(z.e.r=d.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>d.e.c&&(z.e.c=d.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Jt(z))}return N.length>0&&(c["!merges"]=N),V.length>0&&(c["!cols"]=V),G.length>0&&(c["!rows"]=G),c}function Q7e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=nr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Z7e(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Q7e(f);d.s.r=d.s.c=0,d.e.c=l,u=Rn(l),h[0].forEach(function(m,p){o[u+na(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=Jt(d)),o}function J7e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(BK);return l&&iO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function eze(e,t){e.l+=10;var r=Ea(e);return{name:r}}function tze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Cc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var zK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],rze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],nze=[],aze=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function h5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ir(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function m5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ir(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function VK(e){m5(e.WBProps,zK),m5(e.CalcPr,aze),h5(e.WBView,rze),h5(e.Sheets,nze),Gh.date1904=Ir(e.WBProps.date1904)}var sze="][*?/\\".split("");function ize(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return sze.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var oze=/<\w+:workbook/;function lze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace(Ma,function(c,u){var d=Ct(c);switch(El(d[0])){case"<?xml":break;case"<workbook":c.match(oze)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":zK.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ir(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Er(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nr(Er(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Er(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Ir(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=nr(Er(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),k$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return VK(r),r}function cze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=GC(e),r.name=Ea(e),r}function uze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ea(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function dze(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function fze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=W$e(e),o=YUe(e,0,r),l=JP(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function hze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],cw[16]={n:"BrtFRTArchID$",f:dze},Cc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=wa(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),VK(r),r.Names=s,r.supbooks=o,r}function mze(e,t,r){return t.slice(-4)===".bin"?hze(e,r):lze(e,r)}function pze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?X7e(e,n,r,a,s,o,l):c7e(e,n,r,a,s,o,l)}function gze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?tze(e,n,r,a,s):J7e(e,n,r,a,s)}function vze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?N9e():k9e()}function xze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?j9e():S9e()}function yze(e,t,r,n){return t.slice(-4)===".bin"?BBe(e,r,n):RBe(e,r,n)}function bze(e,t,r){return TK(e,r)}function wze(e,t,r){return t.slice(-4)===".bin"?rBe(e,r):eBe(e,r)}function _ze(e,t,r){return t.slice(-4)===".bin"?b9e(e,r):p9e(e,r)}function jze(e,t,r){return t.slice(-4)===".bin"?f9e(e):u9e(e)}function Sze(e,t,r,n){return r.slice(-4)===".bin"?h9e(e,t,r,n):void 0}function Nze(e,t,r){return t.slice(-4)===".bin"?l9e(e,t,r):c9e(e,t,r)}var WK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,HK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Gi(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(WK),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(HK),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function kze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(WK),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(HK),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var ag;function Cze(e,t){var r=ag[e]||nr(e);return r==="General"?gf(t):Ri(r,t)}function Eze(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ir(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Hn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nr(t)]=a}function Tze(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=gf(e.v):e.w=Cze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=ag[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Fp(n)){var a=Td(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Aze(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=EBe[n.Pattern]||n.Pattern)}e[t.ID]=t}function Pze(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ir(e);break;case"String":n.t="s",n.r=FL(nr(e)),n.v=e.indexOf("<")>-1?nr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Hn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=nr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=oK[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=FL(t||e));break}if(Tze(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=nr(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=qh(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=qh("RC:RC",a):n.ArrayRange&&(n.F=qh(n.ArrayRange,a),c.push([Zr(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Oze(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function j2(e,t){var r=t||{};DG();var n=S0(KP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Er(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=ra(r);return o.type="string",bv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(gt){a.indexOf("<"+gt)>=0&&(s=!0)}),s)return Uze(n,r);ag={"General Number":"General","General Date":Ft[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ft[15],"Short Date":Ft[14],"Long Time":Ft[19],"Medium Time":Ft[18],"Short Time":Ft[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ft[2],Standard:Ft[4],Percent:Ft[10],Scientific:Ft[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},v=Gi('<Data ss:Type="String">'),y=0,b=0,w=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},S="",k=0,C=[],E={},P={},T=0,V=[],G=[],B={},I=[],z,L=!1,F=[],Y=[],X={},D=0,R=0,M={Sheets:[],WBProps:{date1904:!1}},W={};yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";l=yv.exec(n);)switch(l[3]=(J=l[3]).toLowerCase()){case"data":if(J=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?Pze(n.slice(y,l.index),S,v,c[c.length-1][0]=="comment"?B:p,{c:b,r:w},j,I[b],g,F,r):(S="",v=Gi(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(G.length>0&&(p.c=G),(!r.sheetRows||r.sheetRows>w)&&p.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=p):h[Rn(b)+na(w)]=p),p.HRef&&(p.l={Target:nr(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(D=b+(parseInt(p.MergeAcross,10)|0),R=w+(parseInt(p.MergeDown,10)|0),C.push({s:{c:b,r:w},e:{c:D,r:R}})),!r.sheetStubs)p.MergeAcross?b=D+1:++b;else if(p.MergeAcross||p.MergeDown){for(var re=b;re<=D;++re)for(var xe=w;xe<=R;++xe)(re>b||xe>w)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][re]={t:"z"}):h[Rn(re)+na(xe)]={t:"z"});b=D+1}else++b;else p=kze(l[0]),p.Index&&(b=+p.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),l[0].slice(-2)==="/>"&&++b,G=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(w<_.s.r&&(_.s.r=w),w>_.e.r&&(_.e.r=w),l[0].slice(-2)==="/>"&&(g=Gi(l[0]),g.Index&&(w=+g.Index-1)),b=0,++w):(g=Gi(l[0]),g.Index&&(w=+g.Index-1),X={},(g.AutoFitHeight=="0"||g.Height)&&(X.hpx=parseInt(g.Height,10),X.hpt=EK(X.hpx),Y[w]=X),g.Hidden=="1"&&(X.hidden=!0,Y[w]=X));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Jt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Jt(_))),C.length&&(h["!merges"]=C),I.length>0&&(h["!cols"]=I),Y.length>0&&(h["!rows"]=Y),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,c.push([l[3],!1]),u=Gi(l[0]),m=nr(u.Name),h=r.dense?[]:{},C=[],F=[],Y=[],W={name:m,Hidden:0},M.Sheets.push(W);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],L=!1}break;case"style":l[1]==="/"?Aze(j,N,r):N=Gi(l[0]);break;case"numberformat":N.nf=nr(Gi(l[0]).Format||"General"),ag[N.nf]&&(N.nf=ag[N.nf]);for(var se=0;se!=392&&Ft[se]!=N.nf;++se);if(se==392){for(se=57;se!=392;++se)if(Ft[se]==null){qd(N.nf,se);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(z=Gi(l[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!L&&z.wpx>10){L=!0,Ha=kK;for(var Q=0;Q<I.length;++Q)I[Q]&&tp(I[Q])}L&&tp(z),I[z.Index-1||I.length]=z;for(var fe=0;fe<+z.Span;++fe)I[I.length]=ra(z);break;case"namedrange":if(l[1]==="/")break;M.Names||(M.Names=[]);var A=Ct(l[0]),Be={Name:A.Name,Ref:qh(A.RefersTo.slice(1),{r:0,c:0})};M.Sheets.length>0&&(Be.Sheet=M.Sheets.length-1),M.Names.push(Be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=Gi(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?p8e(E,J,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));Oze(B),G.push(B)}else c.push([l[3],!1]),u=Gi(l[0]),B={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Me=Gi(l[0]);h["!autofilter"]={ref:qh(Me.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return b5(n,r);var Le=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Le=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Le=!1}break;case"excelworkbook":switch(l[3]){case"date1904":M.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Le=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Le=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+Ct(l[0]).Margin)||(h["!margins"].header=+Ct(l[0]).Margin);break;case"footer":h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+Ct(l[0]).Margin)||(h["!margins"].footer=+Ct(l[0]).Margin);break;case"pagemargins":var ze=Ct(l[0]);h["!margins"]||ng(h["!margins"]={},"xlml"),isNaN(+ze.Top)||(h["!margins"].top=+ze.Top),isNaN(+ze.Left)||(h["!margins"].left=+ze.Left),isNaN(+ze.Right)||(h["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(h["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":M.Views||(M.Views=[]),M.Views[0]||(M.Views[0]={}),M.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Le=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Le=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Le=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Le=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Le=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Le=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Le=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Le=!1}break;case"smarttags":break;default:Le=!1;break}if(Le||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?Eze(P,J,V,n.slice(T,l.index)):(V=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Re={};return!r.bookSheets&&!r.bookProps&&(Re.Sheets=d),Re.SheetNames=f,Re.Workbook=M,Re.SSF=ra(Ft),Re.Props=E,Re.Custprops=P,Re}function QC(e,t){switch(cO(t=t||{}),t.type||"base64"){case"base64":return j2(oi(e),t);case"binary":case"buffer":case"file":return j2(e,t);case"array":return j2(Of(e),t)}}function Dze(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=G$e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=K$e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Rze=[60,1084,2066,2165,2175];function Mze(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=Ql(r,r.l),u=ZC[c],d=0;u!=null&&Rze.indexOf(c)>-1;)s=Ql(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=ZC[c=Ql(r,r.l)];var f=Xc(o);Qn(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function $o(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ft[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Mf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=vv(e.v):e.w=gf(e.v):e.w=Ri(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Fp(Ft[n]||String(n))){var a=Td(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Ty(e,t,r){return{v:e,ixfe:t,t:r}}function Fze(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,p,g,v,y={},b=[],w,_,j=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},C=function(Ae){return Ae<8?Gd[Ae]:Ae<64&&N[Ae-8]||Gd[Ae]},E=function(Ae,Pe,Ze){var Je=Pe.XF.data;if(!(!Je||!Je.patternType||!Ze||!Ze.cellStyles)){Pe.s={},Pe.s.patternType=Je.patternType;var vt;(vt=wv(C(Je.icvFore)))&&(Pe.s.fgColor={rgb:vt}),(vt=wv(C(Je.icvBack)))&&(Pe.s.bgColor={rgb:vt})}},P=function(Ae,Pe,Ze){if(!(X>1)&&!(Ze.sheetRows&&Ae.r>=Ze.sheetRows)){if(Ze.cellStyles&&Pe.XF&&Pe.XF.data&&E(Ae,Pe,Ze),delete Pe.ixfe,delete Pe.XF,f=Ae,h=Pt(Ae),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ae.r<o.s.r&&(o.s.r=Ae.r),Ae.c<o.s.c&&(o.s.c=Ae.c),Ae.r+1>o.e.r&&(o.e.r=Ae.r+1),Ae.c+1>o.e.c&&(o.e.c=Ae.c+1),Ze.cellFormula&&Pe.f){for(var Je=0;Je<b.length;++Je)if(!(b[Je][0].s.c>Ae.c||b[Je][0].s.r>Ae.r)&&!(b[Je][0].e.c<Ae.c||b[Je][0].e.r<Ae.r)){Pe.F=Jt(b[Je][0]),(b[Je][0].s.c!=Ae.c||b[Je][0].s.r!=Ae.r)&&delete Pe.f,Pe.f&&(Pe.f=""+wa(b[Je][1],o,Ae,F,T));break}}Ze.dense?(a[Ae.r]||(a[Ae.r]=[]),a[Ae.r][Ae.c]=Pe):a[h]=Pe}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var V,G=[],B=[],I=[],z=[],L=!1,F=[];F.SheetNames=T.snames,F.sharedf=T.sharedf,F.arrayf=T.arrayf,F.names=[],F.XTI=[];var Y=0,X=0,D=0,R=[],M=[],W;T.codepage=1200,uo(1200);for(var J=!1;e.l<e.length-1;){var re=e.l,xe=e.read_shift(2);if(xe===0&&Y===10)break;var se=e.l===e.length?0:e.read_shift(2),Q=ZC[xe];if(Q&&Q.f){if(t.bookSheets&&Y===133&&xe!==133)break;if(Y=xe,Q.r===2||Q.r==12){var fe=e.read_shift(2);if(se-=2,!T.enc&&fe!==xe&&((fe&255)<<8|fe>>8)!==xe)throw new Error("rt mismatch: "+fe+"!="+xe);Q.r==12&&(e.l+=10,se-=10)}var A={};if(xe===10?A=Q.f(e,se,T):A=Mze(xe,Q,e,se,T),X==0&&[9,521,1033,2057].indexOf(Y)===-1)continue;switch(xe){case 34:r.opts.Date1904=S.WBProps.date1904=A;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=A,!t.password)throw new Error("File is password-protected");if(A.valid==null)throw new Error("Encryption scheme unsupported");if(!A.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=A;break;case 66:var Be=Number(A);switch(Be){case 21010:Be=1200;break;case 32768:Be=1e4;break;case 32769:Be=1252;break}uo(T.codepage=Be),J=!0;break;case 317:T.rrtabid=A;break;case 25:T.winlocked=A;break;case 439:r.opts.RefreshAll=A;break;case 12:r.opts.CalcCount=A;break;case 16:r.opts.CalcDelta=A;break;case 17:r.opts.CalcIter=A;break;case 13:r.opts.CalcMode=A;break;case 14:r.opts.CalcPrecision=A;break;case 95:r.opts.CalcSaveRecalc=A;break;case 15:T.CalcRefMode=A;break;case 2211:r.opts.FullCalc=A;break;case 129:A.fDialog&&(a["!type"]="dialog"),A.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),A.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(A);break;case 430:F.push([A]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(A);break;case 24:case 536:W={Name:A.Name,Ref:wa(A.rgce,o,null,F,T)},A.itab>0&&(W.Sheet=A.itab-1),F.names.push(W),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(A),A.Name=="_xlnm._FilterDatabase"&&A.itab>0&&A.rgce&&A.rgce[0]&&A.rgce[0][0]&&A.rgce[0][0][0]=="PtgArea3d"&&(M[A.itab-1]={ref:Jt(A.rgce[0][0][1][2])});break;case 22:T.ExternCount=A;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(A),F.XTI=F.XTI.concat(A);break;case 2196:if(T.biff<8)break;W!=null&&(W.Comment=A[1]);break;case 18:a["!protect"]=A;break;case 19:A!==0&&T.WTF&&console.error("Password verifier: "+A);break;case 133:s[A.pos]=A,T.snames.push(A.name);break;case 10:{if(--X)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=Jt(o),t.sheetRows&&t.sheetRows<=o.e.r){var Me=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Jt(o),o.e.r=Me}o.e.r++,o.e.c++}G.length>0&&(a["!merges"]=G),B.length>0&&(a["!objects"]=B),I.length>0&&(a["!cols"]=I),z.length>0&&(a["!rows"]=z),S.Sheets.push(k)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[A.BIFFVer]||8),T.biffguess=A.BIFFVer==0,A.BIFFVer==0&&A.dt==4096&&(T.biff=5,J=!0,uo(T.codepage=28591)),T.biff==8&&A.BIFFVer==0&&A.dt==16&&(T.biff=2),X++)break;if(a=t.dense?[]:{},T.biff<8&&!J&&(J=!0,uo(T.codepage=t.codepage||1252)),T.biff<5||A.BIFFVer==0&&A.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Le={pos:e.l-se,name:u};s[Le.pos]=Le,T.snames.push(u)}else u=(s[re]||{name:""}).name;A.dt==32&&(a["!type"]="chart"),A.dt==64&&(a["!type"]="macro"),G=[],B=[],T.arrayf=b=[],I=[],z=[],L=!1,k={Hidden:(s[re]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[A.r]||[])[A.c]:a[Pt({c:A.c,r:A.r})])&&++A.c,w={ixfe:A.ixfe,XF:j[A.ixfe]||{},v:A.val,t:"n"},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 5:case 517:w={ixfe:A.ixfe,XF:j[A.ixfe],v:A.val,t:A.t},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 638:w={ixfe:A.ixfe,XF:j[A.ixfe],v:A.rknum,t:"n"},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 189:for(var ze=A.c;ze<=A.C;++ze){var Re=A.rkrec[ze-A.c][0];w={ixfe:Re,XF:j[Re],v:A.rkrec[ze-A.c][1],t:"n"},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:ze,r:A.r},w,t)}break;case 6:case 518:case 1030:{if(A.val=="String"){l=A;break}if(w=Ty(A.val,A.cell.ixfe,A.tt),w.XF=j[w.ixfe],t.cellFormula){var gt=A.formula;if(gt&&gt[0]&&gt[0][0]&&gt[0][0][0]=="PtgExp"){var ht=gt[0][0][1][0],le=gt[0][0][1][1],ge=Pt({r:ht,c:le});y[ge]?w.f=""+wa(A.formula,o,A.cell,F,T):w.F=((t.dense?(a[ht]||[])[le]:a[ge])||{}).F}else w.f=""+wa(A.formula,o,A.cell,F,T)}D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P(A.cell,w,t),l=A}break;case 7:case 519:if(l)l.val=A,w=Ty(A,l.cell.ixfe,"s"),w.XF=j[w.ixfe],t.cellFormula&&(w.f=""+wa(l.formula,o,l.cell,F,T)),D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P(l.cell,w,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(A);var U=Pt(A[0].s);if(m=t.dense?(a[A[0].s.r]||[])[A[0].s.c]:a[U],t.cellFormula&&m){if(!l||!U||!m)break;m.f=""+wa(A[1],o,A[0],F,T),m.F=Jt(A[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[Pt(l.cell)]=A[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Pt(l.cell)],(m||{}).f=""+wa(A[0],o,f,F,T)}}break;case 253:w=Ty(c[A.isst].t,A.ixfe,"s"),c[A.isst].h&&(w.h=c[A.isst].h),w.XF=j[w.ixfe],D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:A.ixfe,XF:j[A.ixfe],t:"z"},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t));break;case 190:if(t.sheetStubs)for(var he=A.c;he<=A.C;++he){var je=A.ixfe[he-A.c];w={ixfe:je,XF:j[je],t:"z"},D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:he,r:A.r},w,t)}break;case 214:case 516:case 4:w=Ty(A.val,A.ixfe,"s"),w.XF=j[w.ixfe],D>0&&(w.z=R[w.ixfe>>8&63]),$o(w,t,r.opts.Date1904),P({c:A.c,r:A.r},w,t);break;case 0:case 512:X===1&&(o=A);break;case 252:c=A;break;case 1054:if(T.biff==4){R[D++]=A[1];for(var Se=0;Se<D+163&&Ft[Se]!=A[1];++Se);Se>=163&&qd(A[1],D+163)}else qd(A[1],A[0]);break;case 30:{R[D++]=A;for(var Ue=0;Ue<D+163&&Ft[Ue]!=A;++Ue);Ue>=163&&qd(A,D+163)}break;case 229:G=G.concat(A);break;case 93:B[A.cmo[0]]=T.lastobj=A;break;case 438:T.lastobj.TxO=A;break;case 127:T.lastobj.ImData=A;break;case 440:for(v=A[0].s.r;v<=A[0].e.r;++v)for(g=A[0].s.c;g<=A[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Pt({c:g,r:v})],m&&(m.l=A[1]);break;case 2048:for(v=A[0].s.r;v<=A[0].e.r;++v)for(g=A[0].s.c;g<=A[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Pt({c:g,r:v})],m&&m.l&&(m.l.Tooltip=A[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[A[0].r]||[])[A[0].c]:a[Pt(A[0])];var Ne=B[A[2]];m||(t.dense?(a[A[0].r]||(a[A[0].r]=[]),m=a[A[0].r][A[0].c]={t:"z"}):m=a[Pt(A[0])]={t:"z"},o.e.r=Math.max(o.e.r,A[0].r),o.s.r=Math.min(o.s.r,A[0].r),o.e.c=Math.max(o.e.c,A[0].c),o.s.c=Math.min(o.s.c,A[0].c)),m.c||(m.c=[]),p={a:A[1],t:Ne.TxO.t},m.c.push(p)}break;case 2173:a9e(j[A.ixfe],A.ext);break;case 125:{if(!T.cellStyles)break;for(;A.e>=A.s;)I[A.e--]={width:A.w/256,level:A.level||0,hidden:!!(A.flags&1)},L||(L=!0,aO(A.w/256)),tp(I[A.e+1])}break;case 520:{var Ce={};A.level!=null&&(z[A.r]=Ce,Ce.level=A.level),A.hidden&&(z[A.r]=Ce,Ce.hidden=!0),A.hpt&&(z[A.r]=Ce,Ce.hpt=A.hpt,Ce.hpx=_v(A.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||ng(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=A;break;case 161:a["!margins"]||ng(a["!margins"]={}),a["!margins"].header=A.header,a["!margins"].footer=A.footer;break;case 574:A.RTL&&(S.Views[0].RTL=!0);break;case 146:N=A;break;case 2198:V=A;break;case 140:_=A;break;case 442:u?k.CodeName=A||k.name:S.WBProps.CodeName=A||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=se}return r.SheetNames=bl(s).sort(function(ye,Ae){return Number(ye)-Number(Ae)}).map(function(ye){return s[ye].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&M.forEach(function(ye,Ae){r.Sheets[r.SheetNames[Ae]]["!autofilter"]=ye}),r.Strings=c,r.SSF=ra(Ft),T.enc&&(r.Encryption=T.enc),V&&(r.Themes=V),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var p5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ize(e,t,r){var n=Qt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=ZL(n,e8e,p5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Qt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=ZL(o,t8e,p5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(cK(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function qK(e,t){t||(t={}),cO(t),wG(),t.codepage&&UP(t.codepage);var r,n;if(e.FullPaths){if(Qt.find(e,"/encryption"))throw new Error("File is password-protected");r=Qt.find(e,"!CompObj"),n=Qt.find(e,"/Workbook")||Qt.find(e,"/Book")}else{switch(t.type){case"base64":e=oo(oi(e));break;case"binary":e=oo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Qn(e,0),n={content:e}}var a,s;if(r&&Dze(r),t.bookProps&&!t.bookSheets)a={};else{var o=Yt?"buffer":"array";if(n&&n.content)a=Fze(n.content,t);else if((s=Qt.find(e,"PerfectOffice_MAIN"))&&s.content)a=tg.to_workbook(s.content,(t.type=o,t));else if((s=Qt.find(e,"NativeContent_MAIN"))&&s.content)a=tg.to_workbook(s.content,(t.type=o,t));else throw(s=Qt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Qt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=_9e(e))}var l={};return e.FullPaths&&Ize(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var cw={0:{f:x7e},1:{f:_7e},2:{f:P7e},3:{f:k7e},4:{f:S7e},5:{f:A7e},6:{f:R7e},7:{f:E7e},8:{f:$7e},9:{f:L7e},10:{f:F7e},11:{f:I7e},12:{f:j7e},13:{f:O7e},14:{f:C7e},15:{f:N7e},16:{f:UK},17:{f:M7e},18:{f:T7e},19:{f:ZP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fze},40:{},42:{},43:{f:FBe},44:{f:MBe},45:{f:IBe},46:{f:$Be},47:{f:LBe},48:{},49:{f:B$e},50:{},51:{f:i9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:wK},62:{f:D7e},63:{f:d9e},64:{f:K7e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:G7e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:w7e},148:{f:y7e,p:16},151:{f:z7e},152:{},153:{f:uze},154:{},155:{},156:{f:cze},157:{},158:{},159:{T:1,f:tBe},160:{T:-1},161:{T:1,f:Rf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:B7e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:s9e},336:{T:-1},337:{f:o9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:GC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:V7e},427:{f:W7e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:q7e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:b7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:U7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:GC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:y9e},633:{T:1},634:{T:-1},635:{T:1,f:x9e},636:{T:-1},637:{f:z$e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:eze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Y7e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZC={6:{f:w2},10:{f:Fc},12:{f:gn},13:{f:gn},14:{f:rn},15:{f:rn},16:{f:ka},17:{f:rn},18:{f:rn},19:{f:gn},20:{f:r5},21:{f:r5},23:{f:bK},24:{f:a5},25:{f:rn},26:{},27:{},28:{f:g6e},29:{},34:{f:rn},35:{f:n5},38:{f:ka},39:{f:ka},40:{f:ka},41:{f:ka},42:{f:rn},43:{f:rn},47:{f:bBe},49:{f:Q8e},51:{f:gn},60:{},61:{f:K8e},64:{f:rn},65:{f:X8e},66:{f:gn},77:{},80:{},81:{},82:{},85:{f:gn},89:{},90:{},91:{},92:{f:B8e},93:{f:x6e},94:{},95:{f:rn},96:{},97:{},99:{f:rn},125:{f:wK},128:{f:o6e},129:{f:U8e},130:{f:gn},131:{f:rn},132:{f:rn},133:{f:z8e},134:{},140:{f:S6e},141:{f:gn},144:{},146:{f:k6e},151:{},152:{},153:{},154:{},155:{},156:{f:gn},157:{},158:{},160:{f:P6e},161:{f:E6e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:n6e},190:{f:a6e},193:{f:Fc},197:{},198:{},199:{},200:{},201:{},202:{f:rn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:gn},220:{},221:{f:rn},222:{},224:{f:i6e},225:{f:$8e},226:{f:Fc},227:{},229:{f:v6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:V8e},253:{f:Z8e},255:{f:W8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:rn},353:{f:Fc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:c6e},431:{f:rn},432:{},433:{},434:{},437:{},438:{f:w6e},439:{f:rn},440:{f:_6e},441:{},442:{f:bx},443:{},444:{f:gn},445:{},446:{},448:{f:Fc},449:{f:G8e,r:2},450:{f:Fc},512:{f:e5},513:{f:A6e},515:{f:l6e},516:{f:J8e},517:{f:t5},519:{f:O6e},520:{f:H8e},523:{},545:{f:s5},549:{f:JL},566:{},574:{f:Y8e},638:{f:r6e},659:{},1048:{},1054:{f:e6e},1084:{},1212:{f:h6e},2048:{f:j6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ky},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Fc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:C6e,r:12},2173:{f:n9e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:rn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:f6e,r:12},2197:{},2198:{f:QBe,r:12},2199:{},2200:{},2201:{},2202:{f:m6e,r:12},2203:{f:Fc},2204:{},2205:{},2206:{},2207:{},2211:{f:q8e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:gn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:T6e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:N6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:e5},1:{},2:{f:F6e},3:{f:M6e},4:{f:R6e},5:{f:t5},7:{f:I6e},8:{},9:{f:ky},11:{},22:{f:gn},30:{f:t6e},31:{},32:{},33:{f:s5},36:{},37:{f:JL},50:{f:L6e},62:{},52:{},67:{},68:{f:gn},69:{},86:{},126:{},127:{f:D6e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:$6e},223:{},234:{},354:{},421:{},518:{f:w2},521:{f:ky},536:{f:a5},547:{f:n5},561:{},579:{},1030:{f:w2},1033:{f:ky},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ki(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&tK(r)&&e.push(r)}}function g5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=l$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var w=b,_=0;w.charAt(0)=="<"&&(_=w.indexOf(">"))>-1;)w=w.slice(_+1);for(var j=0;j<p.length;++j){var N=p[j];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,j=-1)}var S=Ct(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var k=S.t||S["data-t"]||"";if(!w.length){d+=h;continue}if(w=zG(w),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!w.length){d+=h;continue}var C={t:"s",v:w};r.raw||!w.trim().length||k=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(xo(w))?isNaN(ep(w).getDate())||(C={t:"d",v:Hn(w)},r.cellDates||(C={t:"n",v:ns(C.v)}),C.z=r.dateNF||Ft[14]):C={t:"n",v:xo(w)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[Pt({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=Jt(m),p.length&&(n["!merges"]=p),n}function Lze(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Pt({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||GP(f.w||(yc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(S$e("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var $ze='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Bze="</body></html>";function Uze(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ju(g5(r[0],t),t);var n=dO();return r.forEach(function(a,s){fO(n,g5(a,t),"Sheet"+(s+1))}),n}function zze(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Vze(e,t){var r=t||{},n=r.header!=null?r.header:$ze,a=r.footer!=null?r.footer:Bze,s=[n],o=Ip(e["!ref"]);r.dense=Array.isArray(e),s.push(zze(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(Lze(e,o,l,r));return s.push("</table>"+a),s.join("")}function GK(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Ja(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Ip(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&g<c;++p){var _=l[p];if(v5(_)){if(n.display)continue;m[g]={hidden:!0}}var j=_.children;for(v=y=0;v<j.length;++v){var N=j[v];if(!(n.display&&v5(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):zG(N.innerHTML),k=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+s&&C.s.r<g+a&&g+a<=C.e.r&&(y=C.e.c+1-s,h=-1)}w=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(b||1)-1,c:y+s+(w||1)-1}});var E={t:"s",v:S},P=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?E.t=P||"z":n.raw||S.trim().length==0||P=="s"||(S==="TRUE"?E={t:"b",v:!0}:S==="FALSE"?E={t:"b",v:!1}:isNaN(xo(S))?isNaN(ep(S).getDate())||(E={t:"d",v:Hn(S)},n.cellDates||(E={t:"n",v:ns(E.v)}),E.z=n.dateNF||Ft[14]):E={t:"n",v:xo(S)})),E.z===void 0&&k!=null&&(E.z=k);var T="",V=N.getElementsByTagName("A");if(V&&V.length)for(var G=0;G<V.length&&!(V[G].hasAttribute("href")&&(T=V[G].getAttribute("href"),T.charAt(0)!="#"));++G);T&&T.charAt(0)!="#"&&(E.l={Target:T}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=E):e[Pt({c:y+s,r:g+a})]=E,u.e.c<y+s&&(u.e.c=y+s),y+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=Jt(u),g>=c&&(e["!fullref"]=Jt((u.e.r=l.length-p+g-1+a,u))),e}function KK(e,t){var r=t||{},n=r.dense?[]:{};return GK(n,e,t)}function Wze(e,t){return Ju(KK(e,t),t)}function v5(e){var t="",r=Hze(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Hze(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function qze(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nr(t.replace(/<[^>]*>/g,""));return[r]}var x5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function YK(e,t){var r=t||{},n=KP(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},b="",w=0,_=[],j=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,C={},E=[],P={},T=0,V=0,G=[],B=1,I=1,z=[],L={Names:[]},F={},Y=["",""],X=[],D={},R="",M=0,W=!1,J=!1,re=0;for(yv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=yv.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?p["!ref"]=Jt(S):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=r.sheetRows-1,p["!ref"]=Jt(S)),E.length&&(p["!merges"]=E),G.length&&(p["!rows"]=G),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,J=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Ct(g[0],!1),j=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,p=r.dense?[]:{},E=[],G=[],J=!0);break;case"table-row-group":g[1]==="/"?--k:++k;break;case"table-row":case"":if(g[1]==="/"){j+=B,B=1;break}if(f=Ct(g[0],!1),f.?j=f.-1:j==-1&&(j=0),B=+f["number-rows-repeated"]||1,B<10)for(re=0;re<B;++re)k>0&&(G[j+re]={level:k});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(p[j]||(p[j]=[]),p[j][N]={t:"z"}):p[Pt({r:j,c:N})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,y=Ct(g[0],!1),I=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=f5(nr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=nr(y["string-value"]||""),r.dense?(p[j]||(p[j]=[]),p[j][N]=v):p[Pt({r:j,c:N})]=v),N+=I-1;else if(g[1]!=="/"){++N,b="",w=0,_=[],I=1;var xe=B?j+B-1:j;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),j<S.s.r&&(S.s.r=j),xe>S.e.r&&(S.e.r=xe),y=Ct(g[0],!1),X=[],D={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=nr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,V=parseInt(y["number-matrix-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+V-1}},v.F=Jt(P),z.push([P,v.F])),y.formula)v.f=f5(y.formula);else for(re=0;re<z.length;++re)j>=z[re][0].s.r&&j<=z[re][0].e.r&&N>=z[re][0].s.c&&N<=z[re][0].e.c&&(v.F=z[re][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,V=parseInt(y["number-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+V-1}},E.push(P)),y["number-columns-repeated"]&&(I=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ir(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Hn(y["date-value"]),r.cellDates||(v.t="n",v.v=ns(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=s$e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=dj(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=nr(y["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(W=!1,v.t==="s"&&(v.v=b||"",_.length&&(v.R=_),W=w==0),F.Target&&(v.l=F),X.length>0&&(v.c=X,X=[]),b&&r.cellText!==!1&&(v.w=b),W&&(v.t="z",delete v.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var se=0;se<B;++se){if(I=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[j+se]||(p[j+se]=[]),p[j+se][N]=se==0?v:ra(v);--I>0;)p[j+se][N+I]=ra(v);else for(p[Pt({r:j+se,c:N})]=v;--I>0;)p[Pt({r:j+se,c:N+I})]=ra(v);S.e.c<=N&&(S.e.c=N)}I=parseInt(y["number-columns-repeated"]||"1",10),N+=I-1,I=0,v={},b="",_=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;D.t=b,_.length&&(D.R=_),D.a=R,X.push(D)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);R="",M=0,b="",w=0,_=[];break;case"creator":g[1]==="/"?R=n.slice(M,g.index):M=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",w=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Ct(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Ct(g[0],!1),c+=x5[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Ct(g[0],!1),c+=x5[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=Ct(g[0],!1),Y=_2(o["cell-range-address"]);var Q={Name:o.name,Ref:Y[0]+"!"+Y[1]};J&&(Q.Sheet=m.length),L.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var fe=qze(n.slice(w,g.index));b=(b.length>0?b+`
`:"")+fe[0]}else Ct(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{Y=_2(Ct(g[0])["target-range-address"]),h[Y[0]]["!autofilter"]={ref:Y[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(F=Ct(g[0],!1),!F.href)break;F.Target=nr(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(Y=_2(F.Target.slice(1)),F.Target="#"+Y[0]+"!"+Y[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var A={Sheets:h,SheetNames:m,Workbook:L};return r.bookSheets&&delete A.Sheets,A}function y5(e,t){t=t||{},xi(e,"META-INF/manifest.xml")&&l8e(pn(e,"META-INF/manifest.xml"),t);var r=Qs(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=YK(Er(r),t);return xi(e,"meta.xml")&&(n.Props=lK(pn(e,"meta.xml"))),n}function b5(e,t){return YK(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function oO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function JC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Er(Of(e))}function eE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function w5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Gze(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function jv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Mn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ca(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=jv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function lO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Kze(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=jv(e,n),s=Ca(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:Mn(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Ca(l.data),u=Mn(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=Mn(s[3][0].data)>>>0>0),r.push(o)}return r}function Yze(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=jv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[eE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=eE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Xze(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Yze(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return eE(t)}function Qze(e,t,r,n){var a=oO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+w5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=w5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Zze(e,t,r){var n=oO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=Gze(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Jze(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Qze(e,t,r,e[0]);case 5:return Zze(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Tu(e){var t=Ca(e);return jv(t[1][0].data)}function _5(e,t){var r=Ca(t.data),n=Mn(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Ca(o.data),c=Mn(l[1][0].data)>>>0;switch(n){case 1:s[c]=JC(l[3][0].data);break;case 8:{var u=e[Tu(l[9][0].data)][0],d=Ca(u.data),f=e[Tu(d[1][0].data)][0],h=Mn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Ca(f.data);s[c]=m[3].map(function(p){return JC(p.data)}).join("")}break}}),s}function eVe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,p,g,v=Ca(e),y=Mn(v[1][0].data)>>>0,b=Mn(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Mn(v[8][0].data)>0||!1,_,j;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,j=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,j=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=w?4:1,S=oO(_),k=[],C=0;C<_.length/2;++C){var E=S.getUint16(C*2,!0);E<65535&&k.push([C,E])}if(k.length!=b)throw"Expected ".concat(b," cells, found ").concat(k.length);var P=[];for(C=0;C<k.length-1;++C)P[k[C][0]]=j.subarray(k[C][1]*N,k[C+1][1]*N);return k.length>=1&&(P[k[k.length-1][0]]=j.subarray(k[k.length-1][1]*N)),{R:y,cells:P}}function tVe(e,t){var r,n=Ca(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Mn(n[7][0].data)>>>0>0?1:0:-1,s=lO(n[5],function(o){return eVe(o,a)});return{nrows:Mn(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function rVe(e,t,r){var n,a=Ca(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Mn(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Mn(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Jt(s);var o=Ca(a[4][0].data),l=_5(e,e[Tu(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?_5(e,e[Tu(o[17][0].data)][0]):[],u=Ca(o[3][0].data),d=0;u[1].forEach(function(f){var h=Ca(f.data),m=e[Tu(h[2][0].data)][0],p=Mn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=tVe(e,m);g.data.forEach(function(v,y){v.forEach(function(b,w){var _=Pt({r:d+y,c:w}),j=Jze(b,l,c);j&&(r[_]=j)})}),d+=g.nrows})}function nVe(e,t){var r=Ca(t.data),n={"!ref":"A1"},a=e[Tu(r[2][0].data)],s=Mn(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return rVe(e,a[0],n),n}function aVe(e,t){var r,n=Ca(t.data),a={name:(r=n[1])!=null&&r[0]?JC(n[1][0].data):"",sheets:[]},s=lO(n[2],Tu);return s.forEach(function(o){e[o].forEach(function(l){var c=Mn(l.meta[1][0].data);c==6e3&&a.sheets.push(nVe(e,l))})}),a}function sVe(e,t){var r=dO(),n=Ca(t.data),a=lO(n[1],Tu);if(a.forEach(function(s){e[s].forEach(function(o){var l=Mn(o.meta[1][0].data);if(l==2){var c=aVe(e,o);c.sheets.forEach(function(u,d){fO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function S2(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Xze(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=Kze(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Mn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=Mn(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return sVe(s,l)}function iVe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function cO(e){iVe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function oVe(e){return Ch.WS.indexOf(e)>-1?"sheet":e==Ch.CS?"chart":e==Ch.DS?"dialog":e==Ch.MS?"macro":e&&e.length?e:"sheet"}function lVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,oVe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function cVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=J0(Qs(e,r,!0),t);var h=pn(e,t),m;switch(l){case"sheet":m=pze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=gze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=k0(m["!drawel"].Target,t),g=KC(p),v=m9e(Qs(e,p,!0),J0(Qs(e,g,!0),p)),y=k0(v,p),b=KC(y);m=Z7e(Qs(e,y,!0),y,c,J0(Qs(e,b,!0),y),u,m);break;case"macro":m=vze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=xze(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var w=[];s&&s[n]&&bl(s[n]).forEach(function(_){var j="";if(s[n][_].Type==Ch.CMNT){j=k0(s[n][_].Target,t);var N=_ze(pn(e,j,!0),j,c);if(!N||!N.length)return;o5(m,N,!1)}s[n][_].Type==Ch.TCMNT&&(j=k0(s[n][_].Target,t),w=w.concat(g9e(pn(e,j,!0),c)))}),w&&w.length&&o5(m,w,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function pi(e){return e.charAt(0)=="/"?e.slice(1):e}function uVe(e,t){if(DG(),t=t||{},cO(t),xi(e,"META-INF/manifest.xml")||xi(e,"objectdata.xml"))return y5(e,t);if(xi(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof S2<"u"){if(e.FileIndex)return S2(e);var r=Qt.utils.cfb_new();return RL(e).forEach(function(G){d$e(r,G,u$e(e,G))}),S2(r)}throw new Error("Unsupported NUMBERS file")}if(!xi(e,"[Content_Types].xml"))throw xi(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):xi(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=RL(e),a=i8e(Qs(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",pn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!pn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(rg=[],a.sst)try{rg=wze(pn(e,pi(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(c=bze(Qs(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=yze(pn(e,pi(a.style)),a.style,c,t))}a.links.map(function(G){try{var B=J0(Qs(e,KC(pi(G))),G);return Sze(pn(e,pi(G)),B,G,t)}catch{}});var d=mze(pn(e,pi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=pn(e,pi(a.coreprops[0]),!0),h&&(f=lK(h)),a.extprops.length!==0&&(h=pn(e,pi(a.extprops[0]),!0),h&&d8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Qs(e,pi(a.custprops[0]),!0),h&&(m=h8e(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(B){return B.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var g={};t.bookDeps&&a.calcchain&&(g=jze(pn(e,pi(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var j=0;j!=_.length;++j)f.SheetNames[j]=_[j].name}var N=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");xi(e,k)||(k="xl/_rels/workbook."+N+".rels");var C=J0(Qs(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Nze(pn(e,pi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=v9e(pn(e,pi(a.people[0])),t)),C&&(C=lVe(C,d.Sheets));var E=pn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(C&&C[v]?(b="xl/"+C[v][1].replace(/[\/]?xl\//,""),xi(e,b)||(b=C[v][1]),xi(e,b)||(b=k.replace(/_rels\/.*$/,"")+C[v][1]),P=C[v][2]):(b="xl/worksheets/sheet"+(v+1-E)+"."+N,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,V=0;V!=t.sheets.length;++V)typeof t.sheets[V]=="number"&&t.sheets[V]==v&&(T=1),typeof t.sheets[V]=="string"&&t.sheets[V].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}cVe(e,b,w,f.SheetNames[v],v,y,o,P,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:rg,Styles:u,Themes:c,SSF:ra(Ft)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(G,B){G=G.replace(/^Root Entry[\/]/,""),p.keys.push(G),p.files[G]=e.FileIndex[B]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=pn(e,pi(a.vba[0]),!0):a.defaults&&a.defaults.bin===w9e&&(p.vbaraw=pn(e,"xl/vbaProject.bin",!0))),p}function dVe(e,t){var r=t||{},n="Workbook",a=Qt.find(e,n);try{if(n="/!DataSpaces/Version",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(nBe(a.content),n="/!DataSpaces/DataSpaceMap",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=sBe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=iBe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);lBe(a.content)}catch{}if(n="/EncryptionInfo",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=cBe(a.content);if(n="/EncryptedPackage",a=Qt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function uO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=oi(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function fVe(e,t){return Qt.find(e,"EncryptedPackage")?dVe(e,t):qK(e,t)}function hVe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Yt&&Buffer.isBuffer(e)?"buffer":"base64"),r=$G(n,a),uVe(r,a)}function XK(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return QC(e.slice(r),t);default:break e}return bv.to_workbook(e,t)}function mVe(e,t){var r="",n=uO(e,t);switch(t.type){case"base64":r=oi(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Er(r)),t.type="binary",XK(r,t)}function pVe(e,t){var r=e;return t.type=="base64"&&(r=oi(r)),r=Yc.utils.decode(1200,r.slice(2),"str"),t.type="binary",XK(r,t)}function gVe(e){return e.match(/[^\x00-\x7F]/)?C0(e):e}function N2(e,t,r,n){return n?(r.type="string",bv.to_workbook(e,r)):bv.to_workbook(t,r)}function tE(e,t){wG();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return tE(new Uint8Array(e),(r=ra(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Gh={},r.dateNF&&(Gh.dateNF=r.dateNF),r.type||(r.type=Yt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Yt?"buffer":"binary",n=n$e(e),typeof Uint8Array<"u"&&!Yt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=gVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=ra(r),r.type="array",tE(zP(n),r)}switch((a=uO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return fVe(Qt.read(n,r),r);break;case 9:if(a[1]<=8)return qK(n,r);break;case 60:return QC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return W6e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return z6e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?hVe(n,r):N2(e,n,r,s);case 239:return a[3]===60?QC(n,r):N2(e,n,r,s);case 255:if(a[1]===254)return pVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return tg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return tg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return i5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return wBe.to_workbook(n,r);break;case 10:case 13:case 32:return mVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return B6e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?i5.to_workbook(n,r):N2(e,n,r,s)}function vVe(e,t,r,n,a,s,o,l){var c=na(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?g:yc(p,g,l);g!=null&&(f=!1)}}return{row:h,isempty:f}}function rE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Zr(d);break;case"number":c=Zr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=na(c.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=c.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var _=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Rn(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=yc(r,null,u),g=w[o]||0,!g)w[o]=1;else{do l=o+"_"+g++;while(w[l]);w[o]=g,w[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(j[y]||{}).hidden){var N=vVe(e,c,y,h,n,s,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=N.row)}return m.length=p,m}var j5=/"/g;function xVe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=na(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:yc(m,null,l));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(j5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(j5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function QK(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zr(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Rn(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=xVe(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function yVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=QK(e,t);return r}function bVe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zr(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Rn(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=na(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function ZK(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Ja(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=Zr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){bl(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=g[y],w="z",_="",j=Pt({c:l+m,r:o+v+a});u=Sv(s,j),b&&typeof b=="object"&&!(b instanceof Date)?s[j]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=ns(b)),_=n.dateNF||Ft[14]):b===null&&n.nullError&&(w="e",b=0),u?(u.t=w,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):s[j]=u={t:w,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=na(o);if(a)for(m=0;m<h.length;++m)s[Rn(m+l)+p]={t:"s",v:h[m]};return s["!ref"]=Jt(d),s}function wVe(e,t){return ZK(null,e,t)}function Sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ja(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sv(e,Pt(t)):Sv(e,Pt({r:t,c:r||0}))}function _Ve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dO(){return{SheetNames:[],Sheets:{}}}function fO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(ize(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function jVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=_Ve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function SVe(e,t){return e.z=t,e}function JK(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function NVe(e,t,r){return JK(e,"#"+t,r)}function kVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function CVe(e,t,r,n){for(var a=typeof t!="string"?t:Zr(t),s=typeof t=="string"?t:Jt(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var EVe={encode_col:Rn,encode_row:na,encode_cell:Pt,encode_range:Jt,decode_col:QP,decode_row:XP,split_cell:$$e,decode_cell:Ja,decode_range:Ip,format_cell:yc,sheet_add_aoa:nK,sheet_add_json:ZK,sheet_add_dom:GK,aoa_to_sheet:Lp,json_to_sheet:wVe,table_to_sheet:KK,table_to_book:Wze,sheet_to_csv:QK,sheet_to_txt:yVe,sheet_to_json:rE,sheet_to_html:Vze,sheet_to_formulae:bVe,sheet_to_row_object_array:rE,sheet_get_cell:Sv,book_new:dO,book_append_sheet:fO,book_set_sheet_visibility:jVe,cell_set_number_format:SVe,cell_set_hyperlink:JK,cell_set_internal_link:NVe,cell_add_comment:kVe,sheet_set_array_formula:CVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const k2=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=F1();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function TVe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var E,P;const{t:a}=Bt(),{user:s}=gr(),{toast:o}=jl(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,p]=x.useState({}),[g,v]=x.useState([]),[y,b]=x.useState(!1),[w,_]=x.useState(0),j=async T=>{var G;const V=(G=T.target.files)==null?void 0:G[0];if(V)try{const B=await V.arrayBuffer(),I=tE(B,{type:"array"}),z=I.Sheets[I.SheetNames[0]],L=EVe.sheet_to_json(z);if(L.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(L),N(L),c("preview")}catch(B){console.error("Error parsing file:",B),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!u)return;const V=t[u.template_id]||[],G=Object.keys(T[0]||{}),B=[],I={};for(const z of V){const L=z.field_label||"",F=G.find(Y=>Y.toLowerCase().trim()===L.toLowerCase().trim());F?I[L]=F:z.is_required&&B.push(a("surveys.requiredFieldNotFound",{field:`"${L}"`}))}p(I),v(B)},S=()=>f.slice(0,5),k=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],V=[];for(const G of T)G.is_required&&!m[G.field_label||""]&&V.push(a("surveys.requiredFieldNotMapped",{field:`"${G.field_label}"`}));if(V.length>0){v(V);return}c("importing"),b(!0);try{const G=f.length,B=[];for(let z=0;z<f.length;z++){const L=f[z],F={};for(const X of T){const D=X.field_label||"",R=m[D];R&&L[R]!==void 0&&L[R]!==null&&L[R]!==""&&(F[D]=L[R])}const Y={template_id:u.template_id,survey_name:L.survey_name||L["Survey Name"]||`Bulk Import ${z+1}`,survey_description:L.survey_description||L["Survey Description"]||null,client_name:L.client_name||L["Client Name"]||`Client ${z+1}`,client_name_ar:L.client_name_ar||L["Client Name AR"]||null,client_contact:L.client_contact||L["Client Contact"]||null,client_email:L.client_email||L["Client Email"]||null,client_address:L.client_address||L["Client Address"]||null,client_company:L.client_company||L["Client Company"]||null,client_company_ar:L.client_company_ar||L["Client Company AR"]||null,survey_responses:F,location_latitude:parseFloat(L.location_latitude||L.Latitude||"0"),location_longitude:parseFloat(L.location_longitude||L.Longitude||"0"),location_accuracy:L.location_accuracy?parseFloat(L.location_accuracy):null,location_address:L.location_address||L["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:L.notes||null,notes_ar:L.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};B.push(Y),_(Math.round((z+1)/G*50))}_(50);const I=await th.createBatch(B);_(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:I.length})}),r(I),C()}catch(G){console.error("Error importing surveys:",G),o({title:a("common.error"),description:G.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},C=()=>{c("template"),d(null),h([]),p({}),v([]),_(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(on,{children:[i.jsx(ln,{children:a("surveys.bulkImport")}),i.jsxs(Pa,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ke,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(T),children:i.jsxs(dt,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&i.jsx(ut,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx($w,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(Ag,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(Ke,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(Ve,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(ue,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[g.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(YN,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((T,V)=>i.jsx("li",{children:T},V))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(ut,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((E=t[u.template_id])==null?void 0:E.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(P=t[u.template_id])==null?void 0:P.map(T=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&i.jsx(ut,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[T.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(Jl,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},T.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(S()[0]||{}).map(T=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:T},T))})}),i.jsx("tbody",{children:S().map((T,V)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([G,B],I)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof B=="boolean"?G.toLowerCase().includes("is_default")?B?i.jsx(Jl,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):B?i.jsx(Jl,{className:"h-4 w-4 text-green-600"}):i.jsx(sae,{className:"h-4 w-4 text-gray-400"}):String(B||"")},I))},V))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Uw,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:w}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${w}%`}})})]})})})]}),i.jsxs(Aa,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ue,{variant:"outline",onClick:C,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(ue,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(ue,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(ue,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(ue,{onClick:k,disabled:g.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function AVe(){var we,ke,Fe,He;const{user:e}=gr(),{currentLanguage:t,isRTL:r}=Da();Jr();const{t:n}=Bt(),{toast:a}=jl(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=F1(),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState({}),[b,w]=x.useState(!0),[_,j]=x.useState(""),[N,S]=x.useState(null),[k,C]=x.useState(null),[E,P]=x.useState([]);x.useState(!1);const[T,V]=x.useState(!1),[G,B]=x.useState(null),[I,z]=x.useState({}),[L,F]=x.useState({}),[Y,X]=x.useState([]),[D,R]=x.useState(!1),[M,W]=x.useState(null),[J,re]=x.useState(null),[xe,se]=x.useState(null),[Q,fe]=x.useState("list"),[A,Be]=x.useState("list"),[Me,Le]=x.useState(1),[ze,Re]=x.useState(1),[gt,ht]=x.useState(10),[le,ge]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{Le(1),Re(1)},[_]);const[U,he]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[je,Se]=x.useState({}),[Ue,Ne]=x.useState(!1),[Ce,ye]=x.useState(!1),[Ae,Pe]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{Ze()},[]),x.useEffect(()=>{Le(1)},[_,Q]);const Ze=async()=>{try{w(!0);const[te,pe,Ee]=await Promise.all([th.getAll().catch(nt=>(console.error("[Surveys] Error fetching surveys:",nt),[])),qi.getAll().catch(nt=>(console.error("[Surveys] Error fetching templates:",nt),[])),wn.getAll().catch(nt=>(console.error("[Surveys] Error fetching users:",nt),[]))]),ve=pe.map(nt=>qi.getFields(nt.template_id).catch(We=>(console.error(`[Surveys] Error fetching fields for template ${nt.template_id}:`,We),[]))),rt=await Promise.all(ve),wt={};pe.forEach((nt,We)=>{wt[nt.template_id]=rt[We]||[]}),y(wt),console.log(`[Surveys] Loaded template fields for ${Object.keys(wt).length} templates`);const Ht=te.map(nt=>{try{let We=nt.survey_responses;return typeof nt.survey_responses=="string"&&(We=JSON.parse(nt.survey_responses)),{...nt,survey_responses:We}}catch(We){return console.error(`[Surveys] Error parsing survey_responses for survey ${nt.survey_id}:`,We),nt}});m(Ht),g(pe),X(Ee),y(wt)}catch(te){console.error("Failed to load surveys data:",te)}finally{w(!1)}},Je=h.filter(te=>_?te.client_name&&te.client_name.toLowerCase().includes(_.toLowerCase())||te.client_company&&te.client_company.toLowerCase().includes(_.toLowerCase())||te.survey_name&&te.survey_name.toLowerCase().includes(_.toLowerCase()):!0),vt=Math.ceil(Je.length/gt),_t=(Me-1)*gt,Ut=_t+gt,cr=Je.slice(_t,Ut),en=p.filter(te=>{if(!_)return!0;const pe=Oe(te,"template_name");return pe&&pe.toLowerCase().includes(_.toLowerCase())||te.category&&te.category.toLowerCase().includes(_.toLowerCase())}),jn=Math.ceil(en.length/gt),$s=(ze-1)*gt,Fa=$s+gt,Bi=en.slice($s,Fa),Mr=te=>{if(!te)return n("surveys.unknownCreator");const pe=Y.find(Ee=>{var ve,rt;return((ve=Ee.userid)==null?void 0:ve.toString())===te||((rt=Ee.user_id)==null?void 0:rt.toString())===te});return pe?Oe(pe,"user_name"):n("surveys.unknownCreator")},In=te=>{switch(te.toLowerCase()){case"completed":return i.jsxs(ut,{variant:"default",className:"bg-green-500",children:[i.jsx(Jl,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(ut,{variant:"secondary",children:[i.jsx(_d,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(ut,{variant:"outline",children:[i.jsx(_d,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(ut,{variant:"outline",children:te})}},ls=te=>{const pe=te.filter(Ee=>Ee.survey_id);pe.length!==te.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...pe,...h])},Bs=async te=>{C(te);const pe=v[te.template_id]||[];P(pe)},ia=()=>{const te={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};he(pe=>[...pe,te])},di=te=>{he(pe=>pe.filter((Ee,ve)=>ve!==te))},Us=(te,pe)=>{he(Ee=>Ee.map((ve,rt)=>rt===te?{...ve,...pe}:ve))},Do=(te,pe)=>{he(Ee=>{const ve=[...Ee],[rt]=ve.splice(te,1);return ve.splice(pe,0,rt),ve})},ed=()=>{ge({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),he([]),W(null)},Ro=async te=>{ge({template_name:te.template_name||"",template_name_ar:te.template_name_ar||"",template_description:te.template_description||"",template_description_ar:te.template_description_ar||"",category:te.category||"",is_active:te.is_active,is_default:te.is_default||!1});const Ee=(v[te.template_id]||[]).map(ve=>({field_type:ve.field_type,field_label:ve.field_label||"",field_label_ar:ve.field_label_ar||"",help_text:ve.help_text||"",help_text_ar:ve.help_text_ar||"",is_required:ve.is_required||!1,field_options:ve.field_options,validation_rules:ve.validation_rules,default_value:ve.default_value,conditional_logic:ve.conditional_logic,image_path:ve.image_path}));he(Ee),W(te.template_id),R(!0)},ur=()=>{const te={};return le.template_name.trim()||(te.template_name=n("surveys.templateNameRequired")),U.length===0?te.fields=n("surveys.atLeastOneFieldRequired"):U.forEach((pe,Ee)=>{pe.field_label.trim()||(te[`field_${Ee}`]=n("surveys.fieldLabelRequired",{number:Ee+1}))}),Se(te),Object.keys(te).length===0},td=async()=>{if(!ur()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}Ne(!0);try{if(M){await qi.update(M,le);const te=v[M]||[];for(const pe of te)pe.field_id&&await qi.deleteField(pe.field_id);for(let pe=0;pe<U.length;pe++){const Ee=U[pe];await qi.createField({template_id:M,field_order:pe+1,field_type:Ee.field_type,field_label:Ee.field_label,field_label_ar:Ee.field_label_ar||"",help_text:Ee.help_text||null,help_text_ar:Ee.help_text_ar||null,is_required:Ee.is_required,field_options:Ee.field_options,validation_rules:Ee.validation_rules,default_value:Ee.default_value||null,conditional_logic:Ee.conditional_logic,image_path:Ee.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const te={...le,created_by:e==null?void 0:e.id},pe=await qi.create(te);for(let Ee=0;Ee<U.length;Ee++){const ve=U[Ee];await qi.createField({template_id:pe.template_id,field_order:Ee+1,field_type:ve.field_type,field_label:ve.field_label,field_label_ar:ve.field_label_ar||"",help_text:ve.help_text||null,help_text_ar:ve.help_text_ar||null,is_required:ve.is_required,field_options:ve.field_options,validation_rules:ve.validation_rules,default_value:ve.default_value||null,conditional_logic:ve.conditional_logic,image_path:ve.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}ed(),R(!1),Ze()}catch(te){console.error("Failed to save template:",te),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(M?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Ne(!1)}},Ec=async te=>{B(te);const pe=v[te.template_id]||[],Ee={};pe.forEach(ve=>{ve.default_value!==null&&ve.default_value!==void 0&&(Ee[ve.field_id.toString()]=ve.default_value)}),z(Ee),B(te)},q=async te=>{try{await qi.delete(te),g(pe=>pe.filter(Ee=>Ee.template_id!==te)),re(null),y(pe=>{const Ee={...pe};return delete Ee[te],Ee})}catch(pe){console.error("Failed to delete template:",pe),alert("Failed to delete template. Please try again.")}},ne=async te=>{try{await th.delete(te),m(pe=>pe.filter(Ee=>Ee.survey_id!==te)),se(null)}catch(pe){console.error("Failed to delete survey:",pe),alert("Failed to delete survey. Please try again.")}},Z=async te=>{try{const pe=p.filter(Ee=>Ee.is_default&&Ee.template_id!==te);for(const Ee of pe)await qi.update(Ee.template_id,{is_default:!1});await qi.update(te,{is_default:!0}),g(Ee=>Ee.map(ve=>({...ve,is_default:ve.template_id===te}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(pe){console.error("Failed to set default template:",pe),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},ee=()=>new Promise((te,pe)=>{if(!navigator.geolocation){pe(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Ee=>{te({latitude:Ee.coords.latitude,longitude:Ee.coords.longitude,accuracy:Ee.coords.accuracy})},Ee=>{pe(Ee)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),ae=async()=>{if(!(!G||!e))try{let te={latitude:0,longitude:0,accuracy:0};try{te=await ee()}catch(cs){console.warn("Could not get location:",cs)}const pe=v[G.template_id]||[],Ee=new Map(pe.map(cs=>[cs.field_id.toString(),cs.field_label])),ve={};for(const[cs,zi]of Object.entries(I)){const Pl=Ee.get(cs)||cs;ve[Pl]=zi}const rt=ve["Customer Name"]||ve["Client Name"]||ve.client_name||ve.customer_name||"Anonymous",wt=ve["Customer Company"]||ve["Client Company"]||ve.Company||ve.company||ve.client_company||null,Ht=ve["Contact Number"]||ve["Contact Email"]||ve.Contact||ve.contact||ve.phone||null,nt=ve["Contact Email"]||ve.Email||ve.email||ve.client_email||null,We=ve.Address||ve.address||ve.client_address||null,tn=ve["Additional Notes"]||ve.Notes||ve.notes||null,Ur={},Ui=Object.keys(L);for(const[cs,zi]of Object.entries(I))Ui.includes(cs)||(Ur[cs]=Array.isArray(zi)?zi.join(", "):zi);const Ln={template_id:G.template_id,survey_name:`${Oe(G,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Oe(G,"template_description")||null,client_name:rt,client_name_ar:null,client_contact:Ht,client_email:nt,client_address:We,client_company:wt,client_company_ar:null,survey_responses:Ur,location_latitude:te.latitude,location_longitude:te.longitude,location_accuracy:te.accuracy,location_address:We,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:tn,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Al=await th.create(Ln);if(Object.keys(L).length>0){const cs={...Ur};for(const[Pl,If]of Object.entries(L)){const Tc=await new Promise((kx,Cx)=>{const rd=new FileReader;rd.onload=()=>{const $p=rd.result,yj=$p.split(",")[1];kx($p)},rd.onerror=Cx,rd.readAsDataURL(If)});cs[Pl]=Tc}const zi=Object.entries(cs).reduce((Pl,[If,Tc])=>(Pl[If]=Array.isArray(Tc)?Tc.join(", "):Tc,Pl),{});await th.update(Al.survey_id,{survey_responses:zi}),Al.survey_responses=zi}m([Al,...h]),B(null),z({}),F({}),V(!1)}catch(te){console.error("[Survey] Failed to create survey:",te),alert(`Failed to create survey: ${te.message}`)}},oe=te=>te.is_required===1||te.is_required===!0,H=te=>{const pe=te.field_id.toString(),Ee=I[pe]||"";switch(te.field_type.toLowerCase()){case"text":return i.jsx(Ve,{id:pe,value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"textarea":return i.jsx(ta,{id:pe,value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required,rows:3});case"number":return i.jsx(Ve,{id:pe,type:"number",value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"email":return i.jsx(Ve,{id:pe,type:"email",value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"date":return i.jsx(Ve,{id:pe,type:"date",value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),required:te.is_required});case"select":let ve=te.field_options;if(typeof ve=="string")try{ve=JSON.parse(ve)}catch(nt){console.error("Failed to parse field_options:",nt),ve=null}if(ve&&typeof ve=="object"&&!Array.isArray(ve)&&"options"in ve&&Array.isArray(ve.options)){const nt=ve.options.filter(We=>typeof We=="string");return i.jsxs(yt,{value:Ee,onValueChange:We=>z(tn=>({...tn,[pe]:We})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:Oe(te,"help_text")||`${n("common.select")} ${Oe(te,"field_label")}`})}),i.jsx(pt,{children:nt.map((We,tn)=>i.jsx(Te,{value:We,children:We},tn))})]})}return i.jsx(Ve,{id:pe,value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"radio":let rt=te.field_options;if(typeof rt=="string")try{rt=JSON.parse(rt)}catch(nt){console.error("Failed to parse field_options:",nt),rt=null}if(rt&&typeof rt=="object"&&!Array.isArray(rt)&&"options"in rt&&Array.isArray(rt.options)){const nt=rt.options.filter(We=>typeof We=="string");return i.jsx("div",{className:"space-y-2",children:nt.map((We,tn)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:pe,value:We,checked:Ee===We,onChange:Ur=>z(Ui=>({...Ui,[pe]:Ur.target.value}))}),i.jsx("span",{className:"text-sm",children:We})]},tn))})}return i.jsx(Ve,{id:pe,value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required});case"multiselect":case"checkbox":let wt=te.field_options;if(typeof wt=="string")try{wt=JSON.parse(wt)}catch(nt){console.error("Failed to parse field_options:",nt),wt=null}if(wt&&typeof wt=="object"&&!Array.isArray(wt)&&"options"in wt&&Array.isArray(wt.options)){const nt=wt.options.filter(We=>typeof We=="string");return i.jsx("div",{className:"space-y-2",children:nt.map((We,tn)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(Ee)?Ee.includes(We):!1,onChange:Ur=>{const Ui=Array.isArray(Ee)?Ee:[];Ur.target.checked?z(Ln=>({...Ln,[pe]:[...Ui,We]})):z(Ln=>({...Ln,[pe]:Ui.filter(Al=>Al!==We)}))}}),i.jsx("span",{className:"text-sm",children:We})]},tn))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.checked}))}),i.jsx("span",{className:"text-sm",children:Oe(te,"field_label")})]});case"image":const Ht=I[pe];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{id:pe,type:"file",accept:"image/*",onChange:nt=>{var tn;const We=(tn=nt.target.files)==null?void 0:tn[0];We&&(F(Ur=>({...Ur,[pe]:We})),z(Ur=>({...Ur,[pe]:{preview:URL.createObjectURL(We),filename:We.name}})))},required:te.is_required}),(Ht==null?void 0:Ht.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:Ht.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(ue,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{F(nt=>{const We={...nt};return delete We[pe],We}),z(nt=>{const We={...nt};return delete We[pe],We})},children:i.jsx(hr,{className:"h-4 w-4"})})]})]});default:return i.jsx(Ve,{id:pe,value:Ee,onChange:nt=>z(We=>({...We,[pe]:nt.target.value})),placeholder:Oe(te,"help_text")||te.field_label,required:te.is_required})}},de=()=>{const te=[{key:"survey",header:n("surveys.surveyName"),render:ve=>i.jsx(xc,{title:ve.survey_name||`${n("surveys.survey")} #${ve.survey_id||"Unknown"}`,subtitle:Oe(ve,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:ve=>i.jsx(Ym,{name:ve.created_by_name||Mr(ve.created_by),fallback:n("surveys.unknownCreator")})}],pe=[{label:n("common.view"),icon:i.jsx(Js,{className:"h-4 w-4"}),onClick:ve=>S(ve)},{label:n("buttons.delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:ve=>se(ve.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],Ee=[{label:n("buttons.delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:async ve=>{if(ve.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:ve.length})))try{const wt=ve.map(Ht=>th.delete(Ht.survey_id));await Promise.all(wt),m(Ht=>Ht.filter(nt=>!ve.find(We=>We.survey_id===nt.survey_id))),Pe(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ve.length})})}catch(wt){console.error("Failed to bulk delete surveys:",wt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ve=>f("surveys_DELETE"));return i.jsx(vc,{data:cr,columns:te,actions:pe,bulkActions:Ee,keyExtractor:ve=>{var rt;return((rt=ve.survey_id)==null?void 0:rt.toString())||`survey-${Math.random()}`},onRowClick:ve=>S(ve),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx(ul,{icon:i.jsx(ps,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(_?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},me=()=>{const te=[{key:"template",header:n("surveys.templateName"),render:ve=>i.jsx(xc,{title:Oe(ve,"template_name"),subtitle:Oe(ve,"template_description")})},{key:"category",header:n("surveys.category"),render:ve=>ve.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:ve=>i.jsxs("div",{className:"flex items-center gap-2",children:[ve.is_active?i.jsx(ut,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ut,{variant:"secondary",children:n("surveys.inactive")}),ve.is_default&&i.jsx(ut,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:ve=>i.jsx(Af,{date:ve.created_at,fallback:n("leads.notSet")})}],pe=[{label:n("common.view"),icon:i.jsx(Js,{className:"h-4 w-4"}),onClick:ve=>Bs(ve)},{label:n("surveys.setAsDefault"),icon:i.jsx(Jl,{className:"h-4 w-4"}),onClick:ve=>Z(ve.template_id),show:ve=>!ve.is_default},{label:n("buttons.edit"),icon:i.jsx(KN,{className:"h-4 w-4"}),onClick:ve=>Ro(ve),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:ve=>re(ve.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],Ee=[{label:n("buttons.delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:async ve=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:ve.length})))try{await Promise.all(ve.map(rt=>qi.delete(rt.template_id))),await Ze(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ve.length})})}catch(rt){console.error("Failed to bulk delete templates:",rt),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ve=>f("survey_templates_DELETE"));return i.jsx(vc,{data:Bi,columns:te,actions:pe,bulkActions:Ee,keyExtractor:ve=>{var rt;return((rt=ve.template_id)==null?void 0:rt.toString())||`template-${Math.random()}`},onRowClick:ve=>Bs(ve),enableBulkSelect:!0,rtl:r,emptyState:i.jsx(ul,{icon:i.jsx(ps,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(_?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(yl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(To,{className:"grid w-full grid-cols-2",children:[i.jsxs(Wr,{value:"surveys",children:[n("surveys.surveys")," (",Je.length,")"]}),i.jsxs(Wr,{value:"templates",children:[n("surveys.templates")," (",en.length,")"]})]}),i.jsxs(yn,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:n("surveys.searchPlaceholder"),value:_,onChange:te=>j(te.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:Q==="list"?"default":"ghost",size:"sm",onClick:()=>fe("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})}),i.jsx(ue,{variant:Q==="card"?"default":"ghost",size:"sm",onClick:()=>fe("card"),className:"h-8 w-8 p-0",children:i.jsx(ps,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(xn,{open:T,onOpenChange:V,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(ue,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(on,{children:i.jsx(ln,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:G?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Oe(G,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{B(null),z({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(we=v[G.template_id])==null?void 0:we.map(te=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(Ke,{className:"text-sm font-medium mb-1.5 block",children:[Oe(te,"field_label"),oe(te)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),H(te),Oe(te,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(te,"help_text")})]},te.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(xm,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(Ke,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:p.filter(te=>te.is_active).map(te=>i.jsx(st,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(G==null?void 0:G.template_id)===te.template_id?"ring-2 ring-primary":""}`,onClick:()=>Ec(te),children:i.jsx(dt,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Oe(te,"template_name")}),te.category&&i.jsx(ut,{variant:"outline",className:"mt-1 text-xs",children:te.category}),Oe(te,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Oe(te,"template_description")})]})})})},te.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(ue,{variant:"outline",onClick:()=>{V(!1),B(null),z({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),G&&i.jsx(ue,{onClick:ae,disabled:!G,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(xn,{open:Ce,onOpenChange:ye,children:[i.jsx(H1,{asChild:!0,children:i.jsxs(ue,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(Ag,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(sn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(TVe,{templates:p,templateFields:v,onImportComplete:ls,onClose:()=>ye(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:cr.length===0?i.jsx(st,{children:i.jsxs(dt,{className:"text-center py-12",children:[i.jsx(ps,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(_?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):Q==="card"?i.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:cr.map(te=>i.jsxs(st,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[i.jsx(zt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate",children:te.survey_name||`${n("surveys.survey")} #${te.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Oe(te,"client_name")})]}),In(te.status)]})}),i.jsxs(dt,{className:"pt-0 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(xm,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:te.location_address||(te.location_latitude&&te.location_longitude?`${te.location_latitude.toFixed(4)}, ${te.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(An,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",Mr(te.created_by)]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(_d,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(te.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ue,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>S(te),children:[i.jsx(Js,{className:"h-4 w-4 me-1"}),i.jsx("span",{className:"text-xs",children:n("common.view")})]}),i.jsx(ue,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:pe=>{pe.stopPropagation(),se(te.survey_id)},children:i.jsx(hr,{className:"h-4 w-4"})})]})]})]})]})]},te.survey_id||`survey-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:de()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:vt>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(du,{onClick:()=>Le(Math.min(vt,Me+1)),className:Me===vt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(uu,{onClick:()=>Le(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Me," ",n("common.of")," ",vt]})}),i.jsx(Sa,{children:r?i.jsx(uu,{onClick:()=>Le(Math.max(1,Me-1)),className:Me===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(du,{onClick:()=>Le(Math.min(vt,Me+1)),className:Me===vt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(yn,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ue,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>Be("list"),className:"h-8 w-8 p-0",children:i.jsx(vm,{className:"h-4 w-4"})}),i.jsx(ue,{variant:A==="card"?"default":"ghost",size:"sm",onClick:()=>Be("card"),className:"h-8 w-8 p-0",children:i.jsx(ps,{className:"h-4 w-4"})})]}),i.jsx(k2,{permission:"survey_templates_INSERT",children:i.jsxs(ue,{onClick:()=>{ed(),R(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:en.length===0?i.jsx(st,{className:"border-dashed",children:i.jsxs(dt,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ps,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(_?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):A==="card"?i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",dir:r?"rtl":"ltr",children:Bi.map(te=>i.jsxs(st,{className:"group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),i.jsx(zt,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:Oe(te,"template_name")}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[te.category&&i.jsx(ut,{variant:"secondary",className:"text-[10px] uppercase tracking-wider font-bold bg-muted/50",children:te.category}),te.is_default&&i.jsx(ut,{variant:"default",className:"text-[10px] uppercase tracking-wider font-bold bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(ut,{variant:te.is_active?"outline":"secondary",className:"text-[10px] uppercase tracking-wider font-bold",children:te.is_active?n("surveys.active"):n("surveys.inactive")})]})]})})}),i.jsxs(dt,{className:"space-y-4",children:[Oe(te,"template_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:Oe(te,"template_description")}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(_d,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(te.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:[i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/5",onClick:()=>Bs(te),title:n("common.view"),children:i.jsx(Js,{className:"h-4 w-4"})}),!te.is_default&&i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-500 hover:bg-green-50",onClick:pe=>{pe.stopPropagation(),Z(te.template_id)},title:n("surveys.setAsDefault"),children:i.jsx(Jl,{className:"h-4 w-4"})}),i.jsx(k2,{permission:"survey_templates_UPDATE",children:i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:bg-blue-50",onClick:pe=>{pe.stopPropagation(),Ro(te)},title:n("buttons.edit"),children:i.jsx(KN,{className:"h-4 w-4"})})}),i.jsx(k2,{permission:"survey_templates_DELETE",children:i.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-50",onClick:pe=>{pe.stopPropagation(),re(te.template_id)},title:n("buttons.delete"),children:i.jsx(hr,{className:"h-4 w-4"})})})]})]})]})]},te.template_id||`template-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:me()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:jn>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{className:r?"flex-row-reverse":"",children:[i.jsx(Sa,{children:r?i.jsx(du,{onClick:()=>Re(Math.min(jn,ze+1)),className:ze===jn?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(uu,{onClick:()=>Re(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",ze," ",n("common.of")," ",jn]})}),i.jsx(Sa,{children:r?i.jsx(uu,{onClick:()=>Re(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(du,{onClick:()=>Re(Math.min(jn,ze+1)),className:ze===jn?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(xn,{open:!!N,onOpenChange:te=>!te&&S(null),children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(on,{children:i.jsx(ln,{children:(N==null?void 0:N.survey_name)||`${n("surveys.survey")} #${N==null?void 0:N.survey_id}`})}),N&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Oe(N,"client_name")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:N.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:N.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:N.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${N.location_latitude},${N.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:N.location_address||`${(ke=N.location_latitude)==null?void 0:ke.toFixed(6)}, ${(Fe=N.location_longitude)==null?void 0:Fe.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:N.survey_responses&&Object.keys(N.survey_responses).length>0?(()=>{const te=v[N.template_id]||[],pe=new Map(te.map(Ee=>[Ee.field_id.toString(),Ee.field_label]));return Object.entries(N.survey_responses).map(([Ee,ve])=>{const rt=pe.get(Ee)||Ee,wt=typeof ve=="string"&&ve.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[rt,":"]}),wt?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:ve,alt:rt,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(ve==null)return"N/A";if(Array.isArray(ve))return ve.join(", ");if(typeof ve=="object"){if("bucket"in ve&&"path"in ve&&"url"in ve)return"Image";try{const Ht=JSON.stringify(ve,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:Ht})}catch{return String(ve)}}return String(ve)})()})]},Ee)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(ii,{open:!!xe,onOpenChange:te=>!te&&se(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("surveys.deleteSurvey")}),i.jsx(Os,{children:n("surveys.deleteSurveyConfirmation",{name:((He=h.find(te=>te.survey_id===xe))==null?void 0:He.survey_name)||`${n("surveys.survey")} #${xe}`})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:()=>{xe&&ne(xe)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(xn,{open:!!k,onOpenChange:te=>!te&&C(null),children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(on,{children:i.jsx(ln,{children:Oe(k||{},"template_name")})}),k&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:k.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[k.is_active?i.jsx(ut,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ut,{variant:"secondary",children:n("surveys.inactive")}),k.is_default&&i.jsx(ut,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Oe(k,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(Ke,{className:"text-sm font-medium",children:[n("surveys.fields")," (",E.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:E.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):E.sort((te,pe)=>te.field_order-pe.field_order).map(te=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ut,{variant:"outline",className:"text-xs",children:te.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Oe(te,"field_label")}),oe(te)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Oe(te,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Oe(te,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",te.field_order]})]})},te.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(k.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(Ke,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(k.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(ii,{open:!!J,onOpenChange:te=>!te&&re(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:n("surveys.deleteTemplate")}),i.jsx(Os,{children:n("surveys.deleteTemplateConfirmation",{name:p.find(te=>te.template_id===J)?Oe(p.find(te=>te.template_id===J),"template_name"):`${n("surveys.template")} #${J}`})})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:n("buttons.cancel")}),i.jsx(Ds,{onClick:()=>{J&&q(J)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(xn,{open:D,onOpenChange:R,children:i.jsxs(sn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(on,{children:[i.jsx(ln,{children:n(M?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(Pa,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(Ve,{id:"template_name",value:le.template_name,onChange:te=>ge(pe=>({...pe,template_name:te.target.value})),placeholder:n("surveys.templateName"),className:je.template_name?"border-red-500":""}),je.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:je.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(yt,{value:le.category,onValueChange:te=>ge(pe=>({...pe,category:te})),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:n("surveys.selectCategory")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(Te,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(Te,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(Te,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(ta,{id:"template_description",value:le.template_description,onChange:te=>ge(pe=>({...pe,template_description:te.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:le.is_active,onChange:te=>ge(pe=>({...pe,is_active:te.target.checked})),className:"rounded"}),i.jsx(Ke,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),je.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:je.fields})}),i.jsx("div",{className:"space-y-3",children:U.map((te,pe)=>{var Ee,ve,rt;return i.jsx(st,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>Do(pe,Math.max(0,pe-1)),disabled:pe===0,children:i.jsx(Jne,{className:"h-4 w-4"})}),i.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>Do(pe,Math.min(U.length-1,pe+1)),disabled:pe===U.length-1,children:i.jsx(Qne,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(Ve,{value:te.field_label,onChange:wt=>Us(pe,{field_label:wt.target.value}),placeholder:n("surveys.fieldLabel"),className:je[`field_${pe}`]?"border-red-500":""}),je[`field_${pe}`]&&i.jsx("p",{className:"text-sm text-red-500",children:je[`field_${pe}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ke,{children:[n("surveys.fieldType")," *"]}),i.jsxs(yt,{value:te.field_type,onValueChange:wt=>Us(pe,{field_type:wt}),children:[i.jsx(mt,{children:i.jsx(bt,{})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"text",children:n("surveys.text")}),i.jsx(Te,{value:"textarea",children:n("surveys.textarea")}),i.jsx(Te,{value:"email",children:n("surveys.email")}),i.jsx(Te,{value:"date",children:n("surveys.date")}),i.jsx(Te,{value:"select",children:n("surveys.select")}),i.jsx(Te,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(Te,{value:"radio",children:n("surveys.radio")}),i.jsx(Te,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(Te,{value:"image",children:n("surveys.image")})]})]})]})]}),(te.field_type==="select"||te.field_type==="multiselect"||te.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{children:n("surveys.options")}),i.jsx(ta,{defaultValue:((ve=(Ee=te.field_options)==null?void 0:Ee.options)==null?void 0:ve.join(`
`))||"",onBlur:wt=>{const Ht=wt.target.value.split(/[\n\s]+/).filter(nt=>nt.trim()).map(nt=>nt.trim());Us(pe,{field_options:{options:Ht,allow_multiple:te.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((rt=te.field_options)==null?void 0:rt.options)&&te.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[te.field_options.options.length," option(s): ",te.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${pe}`,checked:te.is_required,onChange:wt=>Us(pe,{is_required:wt.target.checked}),className:"rounded"}),i.jsx(Ke,{htmlFor:`required-${pe}`,children:n("surveys.isRequired")})]})]}),i.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>di(pe),className:"text-red-500 hover:text-red-700",children:i.jsx(hr,{className:"h-4 w-4"})})]})},pe)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(ue,{onClick:ia,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Zt,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(Aa,{children:[i.jsx(ue,{variant:"outline",onClick:()=>R(!1),disabled:Ue,children:n("buttons.cancel")}),i.jsx(ue,{onClick:td,disabled:!le.template_name.trim()||Ue,children:n(Ue?"buttons.saving":M?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function PVe(){const{t:e}=Bt();gr();const{isRTL:t}=Da(),r=Jr(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState("leads"),[y,b]=x.useState(""),[w,_]=x.useState("");x.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const P=await Za.getAll();a(P)}catch(P){console.error("Failed to load stages:",P)}finally{o(!1)}},N=P=>n.filter(T=>T.stage_type===P).sort((T,V)=>(T.stager_order_index??0)-(V.stager_order_index??0)),S=async()=>{if(y.trim())try{const P=N(g),T=P.length>0?Math.max(...P.map(G=>G.stager_order_index||0)):-1,V={stage_name:y.trim(),stage_name_ar:w.trim()||null,stage_type:g,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await Za.create(V),await j(),b(""),_(""),p(!1)}catch(P){console.error("Failed to create stage:",P)}},k=async(P,T)=>{try{await Za.update(P.stage_id,T),await j(),c(null),d("")}catch(V){console.error("Failed to update stage:",V)}},C=async P=>{try{await Za.delete(P),await j(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},E=P=>{const T=N(P);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${P}`)}),i.jsxs(ue,{size:r?"default":"sm",onClick:()=>{v(P),p(!0)},className:"w-full sm:w-auto",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:T.map((V,G)=>i.jsx(st,{className:"p-3 md:p-4",children:i.jsxs("div",{className:be("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===V.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Ve,{value:l.stage_name,onChange:B=>c({...l,stage_name:B.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(Ve,{value:u,onChange:B=>d(B.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>k(V,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(_o,{className:"h-4 w-4"})}),i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(jo,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Oe(V,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",V.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{c(V),d(V.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Oi,{className:"h-4 w-4"})}),i.jsx(ue,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(V.stage_id),children:i.jsx(hr,{className:"h-4 w-4"})})]})]})]})},V.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(yl,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(To,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(Wr,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(yn,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("leads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("projects")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("tasks")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("tickets")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("mleads")})]}),i.jsxs(st,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(zt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(lr,{className:"text-lg flex items-center gap-2",children:[i.jsx(Vo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:E("mprojects")})]})]})})]}),i.jsx(xn,{open:m,onOpenChange:p,children:i.jsxs(sn,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(on,{children:[i.jsx(ln,{children:e("settings.addStage")}),i.jsx(Pa,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(Ve,{id:"stage-name",value:y,onChange:P=>b(P.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(Ve,{id:"stage-name-ar",value:w,onChange:P=>_(P.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(Aa,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(ue,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(ue,{onClick:S,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(ii,{open:!!f,onOpenChange:P=>!P&&h(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("settings.deleteStage")}),i.jsx(Os,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(As,{dir:t?"rtl":"ltr",children:[i.jsx(Rs,{children:e("buttons.cancel")}),i.jsx(Ds,{onClick:()=>f&&C(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}var S5=1,OVe=.9,DVe=.8,RVe=.17,C2=.1,E2=.999,MVe=.9999,FVe=.99,IVe=/[\\\/_+.#"@\[\(\{&]/,LVe=/[\\\/_+.#"@\[\(\{&]/g,$Ve=/[\s-]/,eY=/[\s-]/g;function nE(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?S5:FVe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,p;u>=0;)f=nE(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=S5:IVe.test(e.charAt(u-1))?(f*=DVe,m=e.slice(a,u-1).match(LVe),m&&a>0&&(f*=Math.pow(E2,m.length))):$Ve.test(e.charAt(u-1))?(f*=OVe,p=e.slice(a,u-1).match(eY),p&&a>0&&(f*=Math.pow(E2,p.length))):(f*=RVe,a>0&&(f*=Math.pow(E2,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=MVe)),(f<C2&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=nE(e,t,r,n,u+1,s+2,o),h*C2>f&&(f=h*C2)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function N5(e){return e.toLowerCase().replace(eY," ")}function BVe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,nE(e,t,N5(e),N5(t),0,0,{})}var d0='[cmdk-group=""]',T2='[cmdk-group-items=""]',UVe='[cmdk-group-heading=""]',tY='[cmdk-item=""]',k5=`${tY}:not([aria-disabled="true"])`,aE="cmdk-item-select",nh="data-value",zVe=(e,t,r)=>BVe(e,t,r),rY=x.createContext(void 0),Sx=()=>x.useContext(rY),nY=x.createContext(void 0),hO=()=>x.useContext(nY),aY=x.createContext(void 0),sY=x.forwardRef((e,t)=>{let r=ah(()=>{var D,R;return{search:"",value:(R=(D=e.value)!=null?D:e.defaultValue)!=null?R:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ah(()=>new Set),a=ah(()=>new Map),s=ah(()=>new Map),o=ah(()=>new Set),l=iY(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,b=ea(),w=ea(),_=ea(),j=x.useRef(null),N=JVe();yf(()=>{if(d!==void 0){let D=d.trim();r.current.value=D,S.emit()}},[d]),yf(()=>{N(6,V)},[]);let S=x.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>r.current,setState:(D,R,M)=>{var W,J,re,xe;if(!Object.is(r.current[D],R)){if(r.current[D]=R,D==="search")T(),E(),N(1,P);else if(D==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(_);se?se.focus():(W=document.getElementById(b))==null||W.focus()}if(N(7,()=>{var se;r.current.selectedItemId=(se=G())==null?void 0:se.id,S.emit()}),M||N(5,V),((J=l.current)==null?void 0:J.value)!==void 0){let se=R??"";(xe=(re=l.current).onValueChange)==null||xe.call(re,se);return}}S.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),k=x.useMemo(()=>({value:(D,R,M)=>{var W;R!==((W=s.current.get(D))==null?void 0:W.value)&&(s.current.set(D,{value:R,keywords:M}),r.current.filtered.items.set(D,C(R,M)),N(2,()=>{E(),S.emit()}))},item:(D,R)=>(n.current.add(D),R&&(a.current.has(R)?a.current.get(R).add(D):a.current.set(R,new Set([D]))),N(3,()=>{T(),E(),r.current.value||P(),S.emit()}),()=>{s.current.delete(D),n.current.delete(D),r.current.filtered.items.delete(D);let M=G();N(4,()=>{T(),(M==null?void 0:M.getAttribute("id"))===D&&P(),S.emit()})}),group:D=>(a.current.has(D)||a.current.set(D,new Set),()=>{s.current.delete(D),a.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:w,listInnerRef:j}),[]);function C(D,R){var M,W;let J=(W=(M=l.current)==null?void 0:M.filter)!=null?W:zVe;return D?J(D,r.current.search,R):0}function E(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,R=[];r.current.filtered.groups.forEach(W=>{let J=a.current.get(W),re=0;J.forEach(xe=>{let se=D.get(xe);re=Math.max(se,re)}),R.push([W,re])});let M=j.current;B().sort((W,J)=>{var re,xe;let se=W.getAttribute("id"),Q=J.getAttribute("id");return((re=D.get(Q))!=null?re:0)-((xe=D.get(se))!=null?xe:0)}).forEach(W=>{let J=W.closest(T2);J?J.appendChild(W.parentElement===J?W:W.closest(`${T2} > *`)):M.appendChild(W.parentElement===M?W:W.closest(`${T2} > *`))}),R.sort((W,J)=>J[1]-W[1]).forEach(W=>{var J;let re=(J=j.current)==null?void 0:J.querySelector(`${d0}[${nh}="${encodeURIComponent(W[0])}"]`);re==null||re.parentElement.appendChild(re)})}function P(){let D=B().find(M=>M.getAttribute("aria-disabled")!=="true"),R=D==null?void 0:D.getAttribute(nh);S.setState("value",R||void 0)}function T(){var D,R,M,W;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let J=0;for(let re of n.current){let xe=(R=(D=s.current.get(re))==null?void 0:D.value)!=null?R:"",se=(W=(M=s.current.get(re))==null?void 0:M.keywords)!=null?W:[],Q=C(xe,se);r.current.filtered.items.set(re,Q),Q>0&&J++}for(let[re,xe]of a.current)for(let se of xe)if(r.current.filtered.items.get(se)>0){r.current.filtered.groups.add(re);break}r.current.filtered.count=J}function V(){var D,R,M;let W=G();W&&(((D=W.parentElement)==null?void 0:D.firstChild)===W&&((M=(R=W.closest(d0))==null?void 0:R.querySelector(UVe))==null||M.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function G(){var D;return(D=j.current)==null?void 0:D.querySelector(`${tY}[aria-selected="true"]`)}function B(){var D;return Array.from(((D=j.current)==null?void 0:D.querySelectorAll(k5))||[])}function I(D){let R=B()[D];R&&S.setState("value",R.getAttribute(nh))}function z(D){var R;let M=G(),W=B(),J=W.findIndex(xe=>xe===M),re=W[J+D];(R=l.current)!=null&&R.loop&&(re=J+D<0?W[W.length-1]:J+D===W.length?W[0]:W[J+D]),re&&S.setState("value",re.getAttribute(nh))}function L(D){let R=G(),M=R==null?void 0:R.closest(d0),W;for(;M&&!W;)M=D>0?QVe(M,d0):ZVe(M,d0),W=M==null?void 0:M.querySelector(k5);W?S.setState("value",W.getAttribute(nh)):z(D)}let F=()=>I(B().length-1),Y=D=>{D.preventDefault(),D.metaKey?F():D.altKey?L(1):z(1)},X=D=>{D.preventDefault(),D.metaKey?I(0):D.altKey?L(-1):z(-1)};return x.createElement(ct.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:D=>{var R;(R=y.onKeyDown)==null||R.call(y,D);let M=D.nativeEvent.isComposing||D.keyCode===229;if(!(D.defaultPrevented||M))switch(D.key){case"n":case"j":{v&&D.ctrlKey&&Y(D);break}case"ArrowDown":{Y(D);break}case"p":case"k":{v&&D.ctrlKey&&X(D);break}case"ArrowUp":{X(D);break}case"Home":{D.preventDefault(),I(0);break}case"End":{D.preventDefault(),F();break}case"Enter":{D.preventDefault();let W=G();if(W){let J=new Event(aE);W.dispatchEvent(J)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:tWe},c),pj(e,D=>x.createElement(nY.Provider,{value:S},x.createElement(rY.Provider,{value:k},D))))}),VVe=x.forwardRef((e,t)=>{var r,n;let a=ea(),s=x.useRef(null),o=x.useContext(aY),l=Sx(),c=iY(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;yf(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=oY(a,s,[e.value,e.children,s],e.keywords),f=hO(),h=$u(N=>N.value&&N.value===d.current),m=$u(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=s.current;if(!(!N||e.disabled))return N.addEventListener(aE,p),()=>N.removeEventListener(aE,p)},[m,e.onSelect,e.disabled]);function p(){var N,S;g(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function g(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:w,keywords:_,...j}=e;return x.createElement(ct.div,{ref:cc(s,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:p},e.children)}),WVe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=ea(),l=x.useRef(null),c=x.useRef(null),u=ea(),d=Sx(),f=$u(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);yf(()=>d.group(o),[]),oY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(ct.div,{ref:cc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),pj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(aY.Provider,{value:h},m))))}),HVe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=$u(o=>!o.search);return!r&&!s?null:x.createElement(ct.div,{ref:cc(a,t),...n,"cmdk-separator":"",role:"separator"})}),qVe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=hO(),o=$u(u=>u.search),l=$u(u=>u.selectedItemId),c=Sx();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(ct.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),GVe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=$u(u=>u.selectedItemId),c=Sx();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(ct.div,{ref:cc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},pj(e,u=>x.createElement("div",{ref:cc(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),KVe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(a_,{open:r,onOpenChange:n},x.createElement(s_,{container:o},x.createElement(xp,{"cmdk-overlay":"",className:a}),x.createElement(yp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(sY,{ref:t,...l}))))}),YVe=x.forwardRef((e,t)=>$u(r=>r.filtered.count===0)?x.createElement(ct.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),XVe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(ct.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},pj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),Ls=Object.assign(sY,{List:GVe,Item:VVe,Input:qVe,Group:WVe,Separator:HVe,Dialog:KVe,Empty:YVe,Loading:XVe});function QVe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ZVe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function iY(e){let t=x.useRef(e);return yf(()=>{t.current=e}),t}var yf=typeof window>"u"?x.useEffect:x.useLayoutEffect;function ah(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function $u(e){let t=hO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function oY(e,t,r,n=[]){let a=x.useRef(),s=Sx();return yf(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(nh,l),a.current=l}),a}var JVe=()=>{let[e,t]=x.useState(),r=ah(()=>new Map);return yf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function eWe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function pj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(eWe(t),{ref:t.ref},r(t.props.children)):r(t)}var tWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ma=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls,{ref:r,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ma.displayName=Ls.displayName;const pa=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(Ls.Input,{ref:r,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));pa.displayName=Ls.Input.displayName;const ga=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.List,{ref:r,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ga.displayName=Ls.List.displayName;const va=x.forwardRef((e,t)=>i.jsx(Ls.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));va.displayName=Ls.Empty.displayName;const xa=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Group,{ref:r,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));xa.displayName=Ls.Group.displayName;const rWe=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Separator,{ref:r,className:be("-mx-1 h-px bg-border",e),...t}));rWe.displayName=Ls.Separator.displayName;const fr=x.forwardRef(({className:e,...t},r)=>i.jsx(Ls.Item,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));fr.displayName=Ls.Item.displayName;const nWe={light:"",dark:".dark"},lY=x.createContext(null);function cY(){const e=x.useContext(lY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Wo=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(lY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:be("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(aWe,{id:l,config:n}),i.jsx(Nu,{children:r})]})})});Wo.displayName="Chart";const aWe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(nWe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},xd=Xn,Qc=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:p}=cY(),g=x.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,w=sE(p,y,b),_=!h&&typeof o=="string"?((j=p[o])==null?void 0:j.label)||o:w==null?void 0:w.label;return l?i.jsx("div",{className:be("font-medium",c),children:l(_,t)}):_?i.jsx("div",{className:be("font-medium",c),children:_}):null},[o,l,t,a,c,p,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:be("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:g,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const w=`${f||y.name||y.dataKey||"value"}`,_=sE(p,y,w),j=d||y.payload.fill||y.color;return i.jsx("div",{className:be("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[_!=null&&_.icon?i.jsx(_.icon,{}):!s&&i.jsx("div",{className:be("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),i.jsxs("div",{className:be("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,i.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});Qc.displayName="ChartTooltip";const sWe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=cY();return r!=null&&r.length?i.jsx("div",{ref:s,className:be("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=sE(o,l,c);return i.jsxs("div",{className:be("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});sWe.displayName="ChartLegend";function sE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function iWe(){var o4,l4,c4,u4,d4,f4;const{t:e}=Bt(),{user:t}=gr(),{currentLanguage:r}=Da(),{toast:n}=jl(),a=Jr(),{setBreadcrumbs:s}=Iv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[E,P]=x.useState([]),[T,V]=x.useState([]),[G,B]=x.useState(!0),[I,z]=x.useState(null),[L,F]=x.useState(""),[Y,X]=x.useState(""),[D,R]=x.useState(!1),[M,W]=x.useState(1),[J]=x.useState(10),[re,xe]=x.useState(0),[se,Q]=x.useState(0),[fe,A]=x.useState(""),[Be,Me]=x.useState(""),[Le,ze]=x.useState(""),[Re,gt]=x.useState(""),[ht,le]=x.useState(""),[ge,U]=x.useState(""),[he,je]=x.useState(null),[Se,Ue]=x.useState(null),[Ne,Ce]=x.useState(!1),[ye,Ae]=x.useState(!1),[Pe,Ze]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[Je,vt]=x.useState(!1),[_t,Ut]=x.useState({system_name_en:"",system_name_ar:""}),[cr,en]=x.useState(!1),[jn,$s]=x.useState({activity_name_en:"",activity_name_ar:""}),[Fa,Bi]=x.useState(!1),[Mr,In]=x.useState({status_name_en:"",status_name_ar:""}),[ls,Bs]=x.useState([]),[ia,di]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Us,Do]=x.useState(!1),[ed,Ro]=x.useState(null),[ur,td]=x.useState(null),[Ec,q]=x.useState(!1),[ne,Z]=x.useState([]),[ee,ae]=x.useState(!1),[oe,H]=x.useState(window.innerWidth>=768),[de,me]=x.useState("list"),[we,ke]=x.useState(!1),[Fe,He]=x.useState(null),[te,pe]=x.useState("leads_summary"),[Ee,ve]=x.useState(!1),[rt,wt]=x.useState({}),[Ht,nt]=x.useState([]),[We,tn]=x.useState(null),[Ur,Ui]=x.useState("default"),[Ln,Al]=x.useState(null),[cs,zi]=x.useState(!1),[Pl,If]=x.useState(!1),[Tc,kx]=x.useState(!1),[Cx,rd]=x.useState(!1),[$p,yj]=x.useState(!1),[_O,jO]=x.useState(!1),[SO,NO]=x.useState(!1),[kO,CO]=x.useState(!1),[EO,TO]=x.useState(!1),[Ex,AO]=x.useState(null),[PO,EY]=x.useState(null),[OO,bj]=x.useState(!1),[DO,wj]=x.useState(!1),[RO,_j]=x.useState(!1),[MO,jj]=x.useState(!1),[FO,Sj]=x.useState(!1),[IO,Nj]=x.useState(!1),[TY,LO]=x.useState(1),[AY,$O]=x.useState(1),[PY,BO]=x.useState(1),[OY,UO]=x.useState(1),[DY,zO]=x.useState(1),[RY,VO]=x.useState(1),[wHe,MY]=x.useState(1),[_He,FY]=x.useState(1),[jHe,IY]=x.useState(1),[kj,WO]=x.useState(!1),[Cj,HO]=x.useState(!1),[Ej,qO]=x.useState(!1),[Tj,GO]=x.useState(!1),[Aj,KO]=x.useState(!1),[Pj,YO]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[er,Ia]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{ZO(),LY()},[]);const LY=async()=>{try{const O=await K.reportConfigs.list(Ur);nt(O||[]),O&&O.length>0&&(pe(O[0].report_name),await XO(O[0].report_name))}catch(O){console.error("Failed to load available reports:",O),nt([{report_name:"leads_summary",description:"Leads Summary Report"},{report_name:"leads_by_city",description:"Leads by City Report"},{report_name:"leads_conversion",description:"Leads Conversion Report"},{report_name:"sales_performance",description:"Sales Performance Report"},{report_name:"leads_trend_simple",description:"Leads Trend Report"}])}},XO=async O=>{try{const ce=await K.reportConfigs.get(O,Ur);tn(ce),ce!=null&&ce.optional_params&&wt(ce.optional_params)}catch(ce){console.error("Failed to load report config:",ce),tn(null)}};x.useEffect(()=>{const O=setTimeout(()=>{X(L)},500);return()=>clearTimeout(O)},[L]);const QO=x.useMemo(()=>!!(fe||Be||Le||Re||ht||ge),[fe,Be,Le,Re,ht,ge]),Ac=x.useMemo(()=>QO||!!Y,[QO,Y]);x.useEffect(()=>{Bp(Y!=="")},[M,Y,fe,Be,Le,Re,ht,ge,r]),x.useEffect(()=>{ee?HY():u([])},[ee,Y,fe,Be,Le,Re,ht,ge,r]);const ZO=async()=>{try{B(!0),z(null),LO(1),$O(1),BO(1),UO(1),zO(1),VO(1),MY(1),FY(1),IY(1);const[O,ce,Ie,Ge,tr,Fr,Vi,Ol,dn]=await Promise.all([K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),K.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),K.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),K.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),K.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),K.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),K.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),K.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),K.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),la=ad=>Array.isArray(ad)?ad:ad!=null&&ad.data&&Array.isArray(ad.data)?ad.data:[];f(la(O)),m(la(ce)),g(la(Ie)),y(la(Ge)),w(la(tr)),j(la(Fr)),C(la(Vi)),P(la(Ol)),V(la(dn))}catch(O){const ce=O instanceof Error?O.message:"Failed to load data";z(ce),n({title:"Error",description:ce,variant:"destructive"})}finally{B(!1)}},$Y=async()=>{if(!kj)try{WO(!0);const O=TY+1,ce=await K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:O,select_fields:"city_id,city_name_en,city_name_ar"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(f(Ge=>[...Ge,...Ie]),LO(O))}catch(O){console.error("Failed to load more cities:",O)}finally{WO(!1)}},BY=async()=>{if(!Cj)try{HO(!0);const O=AY+1,ce=await K.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:O,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(m(Ge=>[...Ge,...Ie]),$O(O))}catch(O){console.error("Failed to load more activities:",O)}finally{HO(!1)}},UY=async()=>{if(!Ej)try{qO(!0);const O=PY+1,ce=await K.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:O,select_fields:"status_id,status_name_en,status_name_ar"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(g(Ge=>[...Ge,...Ie]),BO(O))}catch(O){console.error("Failed to load more statuses:",O)}finally{qO(!1)}},zY=async()=>{if(!Tj)try{GO(!0);const O=OY+1,ce=await K.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:O,select_fields:"system_id,system_name_en,system_name_ar"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(y(Ge=>[...Ge,...Ie]),UO(O))}catch(O){console.error("Failed to load more systems:",O)}finally{GO(!1)}},VY=async()=>{if(!Aj)try{KO(!0);const O=DY+1,ce=await K.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:O,select_fields:"country_id,country_name_en,country_name_ar"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(P(Ge=>[...Ge,...Ie]),zO(O))}catch(O){console.error("Failed to load more countries:",O)}finally{KO(!1)}},WY=async()=>{if(!Pj)try{YO(!0);const O=RY+1,ce=await K.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:O,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Ie=(ce==null?void 0:ce.data)||[];Ie.length>0&&(C(Ge=>[...Ge,...Ie]),VO(O))}catch(O){console.error("Failed to load more users:",O)}finally{YO(!1)}},Lf=(O,ce,Ie)=>{const{scrollTop:Ge,scrollHeight:tr,clientHeight:Fr}=O.currentTarget;Ge+Fr>=tr-50&&!Ie&&ce()},Bp=async(O=!1)=>{try{O?R(!0):B(!0),z(null);const ce={};fe&&(ce.city_id=parseInt(fe)),Le&&(ce.system_id=parseInt(Le)),Re&&(ce.status_id=parseInt(Re)),ht&&(ce.activity_id=parseInt(ht)),ge&&(ce.assigned_to=parseInt(ge)),Be&&(ce.m_city_country_id=parseInt(Be));const Ol=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),dn={page:Ac?0:M-1,pageSize:Ac?100:J,sort_by:"created_at",sort_order:"desc",exact_filters:ce,select_fields:Ol};Y&&(dn.search_fields="company_name",dn.search=Y);const la=await K.mLeads.list(dn);l(la.data||[]),Q(la.total||0)}catch(ce){const Ie=ce instanceof Error?ce.message:"Failed to load data";z(Ie),n({title:"Error",description:Ie,variant:"destructive"})}finally{B(!1),R(!1)}},HY=async()=>{try{const O={};fe&&(O.city_id=parseInt(fe)),Le&&(O.system_id=parseInt(Le)),Re&&(O.status_id=parseInt(Re)),ht&&(O.activity_id=parseInt(ht)),ge&&(O.assigned_to=parseInt(ge)),Be&&(O.m_city_country_id=parseInt(Be));const Vi=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Ol={pageSize:200,exact_filters:O,select_fields:Vi};Y&&(Ol.search=Y);const dn=await K.mLeads.list(Ol);u(dn.data||[])}catch(O){console.error("Failed to load all filtered leads:",O)}},JO=x.useMemo(()=>{if(!Ac)return o;const O=dn=>dn?parseInt(dn,10):void 0,ce=O(Re),Ie=O(ht),Ge=O(Le),tr=O(fe),Fr=O(Be),Vi=O(ge),Ol=Y.trim().toLowerCase();return o.filter(dn=>{if(ce!==void 0&&dn.status_id!==ce||Ie!==void 0&&dn.activity_id!==Ie||Ge!==void 0&&dn.system_id!==Ge||tr!==void 0&&dn.city_id!==tr)return!1;if(Fr!==void 0){const la=dn.m_city_country_id??null;if(la===null||la!==Fr)return!1}return!(Vi!==void 0&&(dn.assigned_to===null||dn.assigned_to===void 0||dn.assigned_to!==Vi)||Ol&&!(dn.company_name||"").toLowerCase().includes(Ol))})},[Ac,o,Re,ht,Le,fe,Be,ge,Y]),oa=x.useMemo(()=>ee?c:JO,[ee,c,JO]),qY=x.useMemo(()=>{if(ee){const O=(M-1)*J,ce=O+J;return oa.slice(O,ce)}if(Ac){const O=(M-1)*J,ce=O+J;return oa.slice(O,ce)}return o},[ee,Ac,oa,o,M,J]),nd=x.useMemo(()=>Math.max(1,Math.ceil(re/J)),[re,J]);x.useEffect(()=>{xe(Ac?oa.length:se)},[oa,Ac,se]),x.useEffect(()=>{M>nd&&W(nd)},[M,nd]);const qt=(O,ce,Ie)=>{if(!O)return"-";let Ge=r==="ar"&&(O==null?void 0:O[Ie])||(O==null?void 0:O[ce]);if(!Ge){const tr=ce.replace(/_en$/,""),Fr=Ie.replace(/_ar$/,"");Ge=r==="ar"&&(O==null?void 0:O[Fr])||(O==null?void 0:O[tr])}return Ge||(O==null?void 0:O.name)||(O==null?void 0:O.label)||(O==null?void 0:O.title)||"-"},Oj=O=>O&&(r==="ar"?O.m_city_city_name_ar||O.m_city_city_name_en:O.m_city_city_name_en||O.m_city_city_name_ar)||"-",Dj=O=>O&&(r==="ar"?O.m_activity_activity_name_ar||O.m_activity_activity_name_en:O.m_activity_activity_name_en||O.m_activity_activity_name_ar)||"-",Rj=O=>O&&(r==="ar"?O.m_status_status_name_ar||O.m_status_status_name_en:O.m_status_status_name_en||O.m_status_status_name_ar)||"-",Mj=O=>O&&(r==="ar"?O.m_system_system_name_ar||O.m_system_system_name_en:O.m_system_system_name_en||O.m_system_system_name_ar)||"-",e4=O=>O&&(r==="ar"?O.stages_stage_name_ar||O.stages_stage_name:O.stages_stage_name||O.stages_stage_name_ar)||"-",t4=O=>{if(!O)return"-";const ce=k.find(Ie=>{var Ge,tr;return((Ge=Ie.userid)==null?void 0:Ge.toString())===O||((tr=Ie.user_id)==null?void 0:tr.toString())===O});return(ce==null?void 0:ce.name)||(ce==null?void 0:ce.user_name)||(ce==null?void 0:ce.display_name)||"-"},GY=O=>{if(O==null||O==="")return"";const ce=Number(O),Ie=d.find(Ge=>Number(Ge.city_id)===ce);return qt(Ie,"city_name_en","city_name_ar")},KY=O=>{if(O==null||O==="")return"";const ce=Number(O),Ie=h.find(Ge=>Number(Ge.activity_id)===ce);return qt(Ie,"activity_name_en","activity_name_ar")},YY=O=>{if(O==null||O==="")return"";const ce=Number(O),Ie=p.find(Ge=>Number(Ge.status_id)===ce);return qt(Ie,"status_name_en","status_name_ar")},XY=O=>{if(O==null||O==="")return"";const ce=Number(O),Ie=v.find(Ge=>Number(Ge.system_id)===ce);return qt(Ie,"system_name_en","system_name_ar")},QY=O=>{if(!O)return"";const ce=b.find(Ie=>Number(Ie.stage_id)===Number(O));return qt(ce,"stage_name","stage_name_ar")},Fj=O=>{const Ie={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[O]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Ie.bg} ${Ie.text} ${Ie.border}`},ZY=async(O,ce)=>await new Promise((Ge,tr)=>{const Fr=new FileReader;Fr.onload=()=>{const Vi=Fr.result;Ge(Vi)},Fr.onerror=tr,Fr.readAsDataURL(O)}),r4=O=>O&&O!=="{}"&&O!==""&&typeof O=="string"&&O.startsWith("data:"),JY=async()=>{try{let O;if(Se)await K.mLeads.update(Se,er),O=Se,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const ce={...er,created_by:t==null?void 0:t.id},Ie=await K.mLeads.create(ce);if(Ie&&Ie.leads_id)O=Ie.leads_id;else if(O=Ie.id||Ie.leads_id,!O)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(ls.length>0&&await fX(O),Ln&&er.status_id===7){zi(!0);try{const ce=await ZY(Ln,O);await K.mLeads.update(O,{lead_quotation:ce})}catch(ce){console.error("File upload failed:",ce),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{zi(!1),Al(null)}}Ce(!1),Ue(null),Ia({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Bs([]),await Bp()}catch(O){const ce=O instanceof Error?O.message:"Failed to save";n({title:"Error",description:ce,variant:"destructive"})}},eX=async O=>{try{await K.mLeads.delete(O),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),je(null),await Bp()}catch(ce){const Ie=ce instanceof Error?ce.message:"Failed to delete";n({title:"Error",description:Ie,variant:"destructive"})}},n4=O=>{td(O),a4(O.leads_id),s4(O.leads_id),q(!0)},a4=async O=>{try{const ce=await Vh.getByRelated("mlead",O);Z(ce)}catch(ce){console.error("Failed to load notes:",ce),Z([])}},s4=async O=>{try{const ce=await K.mContacts.list({exact_filters:{leads_id:O},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});S(ce.data||[])}catch(ce){console.error("Failed to load contacts:",ce),S([])}},i4=async O=>{Ue(O.leads_id),Ia(O),await s4(O.leads_id);const ce=N.filter(Ie=>Ie.leads_id===O.leads_id);Bs(ce.map(Ie=>{var Ge;return{contact_name:Ie.contact_name||"",contact_email:Ie.contact_email||"",contact_mobile:((Ge=Ie.contact_mobile)==null?void 0:Ge.toString())||"",jobtitle_id:Ie.jobtitle_id}})),Ce(!0)},tX=async O=>{try{await Promise.all(O.map(ce=>K.mLeads.delete(ce))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Bp()}catch(ce){const Ie=ce instanceof Error?ce.message:"Failed to delete";n({title:"Error",description:Ie,variant:"destructive"})}},rX=async(O,ce={})=>{try{ve(!0),He(null);const Ie=await K.reports.execute(O,ce,Ur);Ie?He(Ie):n({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(Ie){console.error("Failed to load report:",Ie);try{const Ge=await $l(`/api/v1/search?type=${O}&Filters=${encodeURIComponent(JSON.stringify(ce))}&lang=${r}`);if(Ge)He(Ge);else throw new Error("No data returned from fallback method")}catch{n({title:"Error",description:Ie instanceof Error?Ie.message:"Failed to load report",variant:"destructive"})}}finally{ve(!1)}},Pc=(O,ce)=>{wt(Ie=>({...Ie,[O]:ce}))},nX=async O=>{pe(O),await XO(O),He(null)},aX=()=>{if(We!=null&&We.params&&Array.isArray(We.params)){const O=We.params.filter(ce=>!rt[ce]);if(O.length>0){n({title:"Error",description:`Missing required parameters: ${O.join(", ")}`,variant:"destructive"});return}}rX(te,rt)},sX=()=>{if(!Fe||!Fe.data)return;const O=[Fe.columns.join(","),...Fe.data.map(tr=>Fe.columns.map(Fr=>typeof tr[Fr]=="string"&&tr[Fr].includes(",")?`"${tr[Fr]}"`:tr[Fr]).join(","))].join(`
`),ce=new Blob([O],{type:"text/csv"}),Ie=window.URL.createObjectURL(ce),Ge=document.createElement("a");Ge.href=Ie,Ge.download=`${te}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ge),Ge.click(),document.body.removeChild(Ge),window.URL.revokeObjectURL(Ie),n({title:e("common.success"),description:"Report exported successfully"})},iX=async()=>{try{if(!Pe.city_name_en&&!Pe.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const O=await K.mCity.create(Pe);O&&(f([...d,O]),Ia({...er,city_id:O.city_id}),Ae(!1),Ze({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(O){const ce=O instanceof Error?O.message:"Failed to create city";n({title:"Error",description:ce,variant:"destructive"})}},oX=async()=>{try{if(!_t.system_name_en&&!_t.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const O=await K.mSystem.create(_t);O&&(y([...v,O]),Ia({...er,system_id:O.system_id}),vt(!1),Ut({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(O){const ce=O instanceof Error?O.message:"Failed to create system";n({title:"Error",description:ce,variant:"destructive"})}},lX=async()=>{try{if(!jn.activity_name_en&&!jn.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const O=await K.mActivity.create(jn);O&&(m([...h,O]),Ia({...er,activity_id:O.activity_id}),en(!1),$s({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(O){const ce=O instanceof Error?O.message:"Failed to create activity";n({title:"Error",description:ce,variant:"destructive"})}},cX=async()=>{try{if(!Mr.status_name_en&&!Mr.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const O=await K.mStatus.create(Mr);O&&(g([...p,O]),Ia({...er,status_id:O.status_id}),Bi(!1),In({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(O){const ce=O instanceof Error?O.message:"Failed to create status";n({title:"Error",description:ce,variant:"destructive"})}},uX=()=>{if(!ia.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Bs([...ls,{...ia}]),di({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Do(!1)},dX=O=>{Bs(ls.filter((ce,Ie)=>Ie!==O))},fX=async O=>{try{const ce=ls.map(Ie=>({...Ie,leads_id:O,contact_mobile:Ie.contact_mobile?parseInt(Ie.contact_mobile):null}));if(ce.length>0)for(const Ie of ce)await K.mContacts.create(Ie)}catch(ce){const Ie=ce instanceof Error?ce.message:"Failed to save contacts";n({title:"Error",description:Ie,variant:"destructive"})}},hX=O=>{AO(O)},mX=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move"},pX=async O=>{if(!Ex)return;const ce=o.find(Ie=>Ie.leads_id===Ex);if(ce&&ce.stage_id!==O)try{await K.mLeads.update(Ex,{stage_id:O}),n({title:e("common.success"),description:"Lead stage updated successfully"}),await Bp()}catch(Ie){console.error("Failed to update lead stage:",Ie),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}AO(null)};if(G)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})});if(I)return i.jsx(Dp,{message:I,onRetry:ZO});const gX=[{label:e("common.delete"),icon:i.jsx(hr,{}),onClick:O=>{window.confirm(`Delete ${O.length} leads?`)&&tX(O.map(ce=>ce.leads_id))},variant:"destructive"}],vX=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:O=>i.jsx(xc,{title:O.company_name||"-",subtitle:O.address||"",icon:i.jsx(Tn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:O=>i.jsx("span",{className:"text-sm text-foreground",children:Oj(O)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:O=>i.jsx(ut,{variant:"outline",className:"text-xs truncate",children:Dj(O)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:O=>{const ce=Rj(O);return i.jsx(ut,{variant:"outline",className:`text-xs truncate ${Fj(O.status_id)}`,children:ce})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:O=>i.jsx(ut,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:e4(O)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:O=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:Mj(O)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:O=>i.jsx("div",{className:"truncate",children:i.jsx(Ym,{name:O.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:O=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:O.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:O=>i.jsx(Af,{date:O.created_at})}],xX=[{icon:i.jsx(Oi,{}),label:e("common.edit"),onClick:O=>i4(O)},{icon:i.jsx(hr,{}),label:e("common.delete"),onClick:O=>je(O.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:Xt()?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(ue,{variant:"outline",size:"default",onClick:()=>me(de==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[de==="list"?i.jsx(Js,{className:"h-4 w-4"}):i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(de==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(ue,{variant:ee?"default":"outline",size:"default",onClick:()=>ae(!ee),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${ee?"rotate-180":""}`})]}),i.jsxs(ue,{variant:we?"default":"outline",size:"default",onClick:()=>ke(!we),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ps,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${we?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(Fs,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:e("mleads.searchPlaceholder"),value:L,onChange:O=>{F(O.target.value),W(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(ue,{size:"default",onClick:()=>{Ue(null),Ia({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Bs([]),Ro(null),Ae(!1),vt(!1),en(!1),Bi(!1),Ze({city_name_en:"",city_name_ar:"",country_id:null}),Ut({system_name_en:"",system_name_ar:""}),$s({activity_name_en:"",activity_name_ar:""}),In({status_name_en:"",status_name_ar:""}),Al(null),Ce(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:Xt()?"rtl":"ltr",children:[i.jsx(Zt,{className:`w-4 h-4 ${Xt()?"order-2":"order-1"}`}),i.jsx("span",{className:`${Xt()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(ue,{variant:"ghost",onClick:()=>H(!oe),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(fe||Be||Le||Re||ht||ge)&&i.jsxs(ue,{variant:"outline",size:"sm",onClick:O=>{O.stopPropagation(),A(""),Me(""),ze(""),gt(""),le(""),U(""),W(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(jo,{className:`h-3 w-3 ${Xt()?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${oe?"rotate-180":""}`})]})]})}),oe&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(fa,{open:OO,onOpenChange:bj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":OO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Re?qt(p.find(O=>O.status_id.toString()===Re),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchStatus")}),i.jsxs(ga,{onScroll:O=>Lf(O,UY,Ej),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allStatuses"),onSelect:()=>{gt(""),W(1),bj(!1)},children:e("mleads.allStatuses")},"all-statuses"),p.map(O=>i.jsx(fr,{value:O.status_id.toString(),onSelect:()=>{gt(O.status_id.toString()),W(1),bj(!1)},children:qt(O,"status_name_en","status_name_ar")},O.status_id)),Ej&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(fa,{open:DO,onOpenChange:wj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":DO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ht?qt(h.find(O=>O.activity_id.toString()===ht),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchActivity")}),i.jsxs(ga,{onScroll:O=>Lf(O,BY,Cj),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allActivities"),onSelect:()=>{le(""),W(1),wj(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(O=>i.jsx(fr,{value:O.activity_id.toString(),onSelect:()=>{le(O.activity_id.toString()),W(1),wj(!1)},children:qt(O,"activity_name_en","activity_name_ar")},O.activity_id)),Cj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(fa,{open:RO,onOpenChange:_j,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":RO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Le?qt(v.find(O=>O.system_id.toString()===Le),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchSystem")}),i.jsxs(ga,{onScroll:O=>Lf(O,zY,Tj),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allSystems"),onSelect:()=>{ze(""),W(1),_j(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(O=>i.jsx(fr,{value:O.system_id.toString(),onSelect:()=>{ze(O.system_id.toString()),W(1),_j(!1)},children:qt(O,"system_name_en","system_name_ar")},O.system_id)),Tj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(fa,{open:MO,onOpenChange:jj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":MO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Be?qt(E.find(O=>O.country_id.toString()===Be),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchCountry")}),i.jsxs(ga,{onScroll:O=>Lf(O,VY,Aj),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allCountries"),onSelect:()=>{Me(""),W(1),jj(!1)},children:e("mleads.allCountries")},"all-countries"),E.map(O=>i.jsx(fr,{value:O.country_id.toString(),onSelect:()=>{Me(O.country_id.toString()),W(1),jj(!1)},children:qt(O,"country_name_en","country_name_ar")},O.country_id)),Aj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(fa,{open:FO,onOpenChange:Sj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":FO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:fe?qt(d.find(O=>O.city_id.toString()===fe),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchCity")}),i.jsxs(ga,{onScroll:O=>Lf(O,$Y,kj),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allCities"),onSelect:()=>{A(""),W(1),Sj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(O=>i.jsx(fr,{value:O.city_id.toString(),onSelect:()=>{A(O.city_id.toString()),W(1),Sj(!1)},children:qt(O,"city_name_en","city_name_ar")},O.city_id)),kj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(fa,{open:IO,onOpenChange:Nj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":IO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:ge?t4(ge):e("mleads.allUsers")}),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchUser")}),i.jsxs(ga,{onScroll:O=>Lf(O,WY,Pj),children:[i.jsx(va,{children:e("common.noResults")}),i.jsxs(xa,{children:[i.jsx(fr,{value:e("mleads.allUsers"),onSelect:()=>{U(""),W(1),Nj(!1)},children:e("mleads.allUsers")},"all-users"),k.map(O=>{var Ge;const ce=(Ge=O.userid||O.user_id||O.id)==null?void 0:Ge.toString(),Ie=O.name||O.user_name||O.display_name||"-";return i.jsx(fr,{value:ce,onSelect:()=>{U(ce),W(1),Nj(!1)},children:Ie},ce)}),Pj&&i.jsx(fr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(pl,{open:Ne,onOpenChange:Ce,children:i.jsxs(Co,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(hc,{children:[i.jsx(gl,{children:e(Se?"mleads.editLead":"mleads.createNewLead")}),i.jsx(of,{children:e(Se?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(Ve,{value:er.company_name||"",onChange:O=>Ia({...er,company_name:O.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(ta,{value:er.address||"",onChange:O=>Ia({...er,address:O.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Do(!Us),className:"h-6 px-2 text-xs",children:e(Us?"mleads.cancel":"mleads.addContact")})]}),ls.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:ls.map((O,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:O.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[O.contact_email&&`${O.contact_email}  `,O.contact_mobile&&`${O.contact_mobile}`]})]}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>dX(ce),className:"h-6 w-6 p-0",children:i.jsx(jo,{className:"h-3 w-3"})})]},ce))}),Us&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.contactName"),value:ia.contact_name,onChange:O=>di({...ia,contact_name:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.email"),type:"email",value:ia.contact_email,onChange:O=>di({...ia,contact_email:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.mobile"),value:ia.contact_mobile,onChange:O=>di({...ia,contact_mobile:O.target.value})}),i.jsxs(fa,{open:kO,onOpenChange:CO,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":kO,className:"w-full justify-between",children:[ia.jobtitle_id?(o4=T.find(O=>O.jobtitle_id===ia.jobtitle_id))==null?void 0:o4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:T&&T.length>0?T.map(O=>i.jsx(fr,{value:qt(O,"jobtitle_name_en","jobtitle_name_ar")||O.jobtitle_name_en||"Unknown",onSelect:()=>{di(ce=>({...ce,jobtitle_id:O.jobtitle_id})),CO(!1)},children:qt(O,"jobtitle_name_en","jobtitle_name_ar")||O.jobtitle_name_en||"Unknown"},O.jobtitle_id)):i.jsx(fr,{disabled:!0,children:"No job titles available"},"no-job-titles")})]})]})})]}),i.jsx(ue,{type:"button",onClick:uX,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ae(!ye),className:"h-6 px-2 text-xs",children:e(ye?"mleads.cancel":"mleads.addNew")})]}),ye?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.cityNameEn"),value:Pe.city_name_en,onChange:O=>Ze({...Pe,city_name_en:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.cityNameAr"),value:Pe.city_name_ar,onChange:O=>Ze({...Pe,city_name_ar:O.target.value})}),i.jsxs(fa,{open:EO,onOpenChange:TO,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":EO,className:"w-full justify-between",children:[Pe.country_id?(l4=E.find(O=>O.country_id===Pe.country_id))==null?void 0:l4.country_name_en:e("mleads.selectCountry"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchCountry")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:E.map(O=>i.jsx(fr,{value:qt(O,"country_name_en","country_name_ar"),onSelect:()=>{Ze({...Pe,country_id:O.country_id}),TO(!1)},children:qt(O,"country_name_en","country_name_ar")},O.country_id))})]})]})})]}),i.jsx(ue,{type:"button",onClick:iX,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(fa,{open:Pl,onOpenChange:If,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Pl,className:"w-full justify-between",children:[er.city_id?GY(er.city_id):e("mleads.city"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchCity")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:d.map(O=>i.jsx(fr,{value:qt(O,"city_name_en","city_name_ar"),onSelect:()=>{Ia({...er,city_id:O.city_id}),If(!1)},children:qt(O,"city_name_en","city_name_ar")},O.city_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>en(!cr),className:"h-6 px-2 text-xs",children:e(cr?"mleads.cancel":"mleads.addNew")})]}),cr?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.activityNameEn"),value:jn.activity_name_en,onChange:O=>$s({...jn,activity_name_en:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.activityNameAr"),value:jn.activity_name_ar,onChange:O=>$s({...jn,activity_name_ar:O.target.value})}),i.jsx(ue,{type:"button",onClick:lX,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(fa,{open:Tc,onOpenChange:kx,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Tc,className:"w-full justify-between",children:[er.activity_id?KY(er.activity_id):e("mleads.selectActivity"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchActivity")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:h.map(O=>i.jsx(fr,{value:qt(O,"activity_name_en","activity_name_ar"),onSelect:()=>{Ia({...er,activity_id:O.activity_id}),kx(!1)},children:qt(O,"activity_name_en","activity_name_ar")},O.activity_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>vt(!Je),className:"h-6 px-2 text-xs",children:e(Je?"mleads.cancel":"mleads.addNew")})]}),Je?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.systemNameEn"),value:_t.system_name_en,onChange:O=>Ut({..._t,system_name_en:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.systemNameAr"),value:_t.system_name_ar,onChange:O=>Ut({..._t,system_name_ar:O.target.value})}),i.jsx(ue,{type:"button",onClick:oX,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(fa,{open:Cx,onOpenChange:rd,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Cx,className:"w-full justify-between",children:[er.system_id?XY(er.system_id):e("mleads.selectSystem"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchSystem")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:v.map(O=>i.jsx(fr,{value:qt(O,"system_name_en","system_name_ar"),onSelect:()=>{Ia({...er,system_id:O.system_id}),rd(!1)},children:qt(O,"system_name_en","system_name_ar")},O.system_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Bi(!Fa),className:"h-6 px-2 text-xs",children:e(Fa?"mleads.cancel":"mleads.addNew")})]}),Fa?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mleads.statusNameEn"),value:Mr.status_name_en,onChange:O=>In({...Mr,status_name_en:O.target.value})}),i.jsx(Ve,{placeholder:e("mleads.statusNameAr"),value:Mr.status_name_ar,onChange:O=>In({...Mr,status_name_ar:O.target.value})}),i.jsx(ue,{type:"button",onClick:cX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(fa,{open:$p,onOpenChange:yj,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":$p,className:"w-full justify-between",children:[er.status_id?YY(er.status_id):e("mleads.selectStatus"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchStatus")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:p.map(O=>i.jsx(fr,{value:qt(O,"status_name_en","status_name_ar"),onSelect:()=>{Ia({...er,status_id:O.status_id}),yj(!1)},children:qt(O,"status_name_en","status_name_ar")},O.status_id))})]})]})})]})]}),er.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(Ag,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(Ve,{type:"file",onChange:O=>{var Ie;const ce=(Ie=O.target.files)==null?void 0:Ie[0];ce&&Al(ce)},className:"cursor-pointer"}),r4(er.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const O=window.open();if(O)O.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${er.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const ce=document.createElement("a");ce.href=er.lead_quotation,ce.download="quotation.pdf",ce.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(fa,{open:_O,onOpenChange:jO,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":_O,className:"w-full justify-between",children:[er.stage_id?QY(er.stage_id):e("mleads.selectStage"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchStage")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:b.map(O=>i.jsx(fr,{value:O.stage_name,onSelect:()=>{Ia({...er,stage_id:O.stage_id}),jO(!1)},children:O.stage_name},O.stage_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(fa,{open:SO,onOpenChange:NO,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":SO,className:"w-full justify-between",children:[er.assigned_to?t4(er.assigned_to):e("mleads.selectUser"),i.jsx(La,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mleads.searchUser")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:k.map(O=>i.jsx(fr,{value:O.user_name,onSelect:()=>{Ia({...er,assigned_to:O.userid}),NO(!1)},children:O.user_name},O.user_id))})]})]})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(ue,{variant:"outline",onClick:()=>Ce(!1),children:e("common.cancel")}),i.jsx(ue,{onClick:JY,children:e("common.save")})]})]})}),ee&&i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(yl,{defaultValue:"pie",className:"w-full",children:[i.jsxs(To,{className:`flex w-full ${Xt()?"flex-row-reverse":""}`,children:[i.jsx(Wr,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),i.jsx(Wr,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),i.jsx(yn,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const O=p.map(ce=>({name:qt(ce,"status_name_en","status_name_ar"),value:oa.filter(Ie=>Ie.status_id===ce.status_id).length})).filter(ce=>ce.value>0);return O.length>0?O:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:ce})=>`${O}: ${ce}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,ce)=>i.jsx(Zo,{fill:O},`cell-${ce}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const O=v.map(ce=>({name:qt(ce,"system_name_en","system_name_ar"),value:oa.filter(Ie=>Ie.system_id===ce.system_id).length})).filter(ce=>ce.value>0);return O.length>0?O:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:ce})=>`${O}: ${ce}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,ce)=>i.jsx(Zo,{fill:O},`cell-${ce}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const O=h.map(ce=>({name:qt(ce,"activity_name_en","activity_name_ar"),value:oa.filter(Ie=>Ie.activity_id===ce.activity_id).length})).filter(ce=>ce.value>0);return O.length>0?O:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:ce})=>`${O}: ${ce}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,ce)=>i.jsx(Zo,{fill:O},`cell-${ce}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const O=d.map(ce=>({name:qt(ce,"city_name_en","city_name_ar"),value:oa.filter(Ie=>Ie.city_id===ce.city_id).length})).filter(ce=>ce.value>0);return O.length>0?O:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:ce})=>`${O}: ${ce}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,ce)=>i.jsx(Zo,{fill:O},`cell-${ce}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const O=k.map(ce=>({name:ce.user_name,value:oa.filter(Ie=>Ie.assigned_to===ce.userid).length})).filter(ce=>ce.value>0);return O.length>0?O:[{name:"Unassigned",value:oa.filter(ce=>!ce.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:ce})=>`${O}: ${ce}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,ce)=>i.jsx(Zo,{fill:O},`cell-${ce}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:oa.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(yn,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Nu,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const O=new Map;return oa.forEach(Ie=>{const Ge=new Date(Ie.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});O.set(Ge,(O.get(Ge)||0)+1)}),Array.from(O.entries()).sort((Ie,Ge)=>new Date(Ie[0]).getTime()-new Date(Ge[0]).getTime()).map(([Ie,Ge])=>({date:Ie,count:Ge}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"date",angle:Xt()?45:-45,textAnchor:Xt()?"start":"end",height:80,tick:{fontSize:12},reversed:Xt()}),i.jsx(vo,{label:{value:"Number of Leads",angle:Xt()?90:-90,position:"insideLeft"}}),i.jsx(Xn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:O=>[`${O} leads`,"Total"]}),i.jsx(ai,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),we&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(ue,{variant:"outline",size:"sm",onClick:sX,disabled:!Fe||Ee,className:"flex items-center gap-2",children:[i.jsx(oae,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(yt,{value:te,onValueChange:nX,children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.selectReport")})}),i.jsx(pt,{children:Ht.map(O=>i.jsx(Te,{value:O.report_name,children:O.description||O.report_name},O.report_name))})]})]}),We&&i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportDescription")}),i.jsxs("div",{className:"p-3 bg-muted/50 rounded-md text-sm",children:[i.jsx("p",{children:We.description||"No description available"}),We.params&&We.params.length>0&&i.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[e("mleads.requiredParameters"),": ",We.params.join(", ")]})]})]})]}),We&&i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[We.params&&We.params.includes("status_id")&&i.jsxs(yt,{value:rt.status_id||"all",onValueChange:O=>Pc("status_id",O==="all"?null:O),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.allStatuses")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allStatuses")}),p.map(O=>i.jsx(Te,{value:O.status_id.toString(),children:qt(O,"status_name_en","status_name_ar")},O.status_id))]})]}),We.params&&We.params.includes("city_id")&&i.jsxs(yt,{value:rt.city_id||"all",onValueChange:O=>Pc("city_id",O==="all"?null:O),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.allCities")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allCities")}),d.map(O=>i.jsx(Te,{value:O.city_id.toString(),children:qt(O,"city_name_en","city_name_ar")},O.city_id))]})]}),We.params&&We.params.includes("start_date")&&i.jsx(Ve,{type:"date",placeholder:e("mleads.startDate"),value:rt.start_date||"",onChange:O=>Pc("start_date",O.target.value)}),We.params&&We.params.includes("end_date")&&i.jsx(Ve,{type:"date",placeholder:e("mleads.endDate"),value:rt.end_date||"",onChange:O=>Pc("end_date",O.target.value)}),We.params&&We.params.includes("activity_id")&&i.jsxs(yt,{value:rt.activity_id||"all",onValueChange:O=>Pc("activity_id",O==="all"?null:O),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.allActivities")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allActivities")}),h.map(O=>i.jsx(Te,{value:O.activity_id.toString(),children:qt(O,"activity_name_en","activity_name_ar")},O.activity_id))]})]}),We.params&&We.params.includes("system_id")&&i.jsxs(yt,{value:rt.system_id||"all",onValueChange:O=>Pc("system_id",O==="all"?null:O),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.allSystems")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allSystems")}),v.map(O=>i.jsx(Te,{value:O.system_id.toString(),children:qt(O,"system_name_en","system_name_ar")},O.system_id))]})]}),We.params&&We.params.includes("assigned_to")&&i.jsxs(yt,{value:rt.assigned_to||"all",onValueChange:O=>Pc("assigned_to",O==="all"?null:O),children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mleads.allUsers")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mleads.allUsers")}),k.map(O=>{var Ge;const ce=(Ge=O.userid||O.user_id||O.id)==null?void 0:Ge.toString(),Ie=O.name||O.user_name||O.display_name||"-";return i.jsx(Te,{value:ce,children:Ie},ce)})]})]}),We.optional_params&&Object.entries(We.optional_params).map(([O,ce])=>{var Ie;return!((Ie=We.params)!=null&&Ie.includes(O))&&i.jsx(Ve,{type:"text",placeholder:O.replace(/_/g," ").replace(/\b\w/g,Ge=>Ge.toUpperCase()),value:rt[O]||ce||"",onChange:Ge=>Pc(O,Ge.target.value)},O)})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(ue,{onClick:aX,disabled:Ee,className:"flex items-center gap-2 px-6",children:Ee?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(yB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),Fe&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(ut,{variant:"secondary",children:[((c4=Fe.data)==null?void 0:c4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(u4=Fe.columns)==null?void 0:u4.map((O,ce)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:O.replace(/_/g," ").replace(/\b\w/g,Ie=>Ie.toUpperCase())},ce))})}),i.jsx("tbody",{children:(d4=Fe.data)==null?void 0:d4.map((O,ce)=>{var Ie;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(Ie=Fe.columns)==null?void 0:Ie.map((Ge,tr)=>i.jsx("td",{className:"px-4 py-2 border-b",children:O[Ge]||"-"},tr))},ce)})})]})})}),te==="leads_by_city"&&Fe.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Wo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(Nu,{width:"100%",height:300,children:i.jsxs(KI,{data:Fe.data,children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"city_name"}),i.jsx(vo,{}),i.jsx(Xn,{}),i.jsx(ai,{}),i.jsx(ji,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(ji,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(ji,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),te==="sales_performance"&&Fe.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs(Wo,{config:{},children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(Nu,{width:"100%",height:300,children:i.jsxs(KI,{data:Fe.data,children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"sales_person"}),i.jsx(vo,{}),i.jsx(Xn,{}),i.jsx(ai,{}),i.jsx(ji,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(ji,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(ji,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(dt,{className:"h-full flex flex-col p-0 overflow-hidden",children:de==="kanban"?i.jsx(fx,{stages:b.map(O=>({id:O.stage_id,name:O.stage_name,count:oa.filter(ce=>ce.stage_id===O.stage_id).length})),currentStageId:PO||((f4=b[0])==null?void 0:f4.stage_id),onStageChange:EY,children:i.jsx("div",{className:"space-y-4 h-full flex flex-col",children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:b.filter(O=>{var ce;return!a||O.stage_id===(PO||((ce=b[0])==null?void 0:ce.stage_id))}).map((O,ce)=>{const Ie=oa.filter(Ge=>Ge.stage_id===O.stage_id);return i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-full flex flex-col",a?"w-full":"w-[300px]"),style:{animationDelay:`${ce*.1}s`},onDragOver:mX,onDrop:()=>pX(O.stage_id),children:[!a&&i.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-s-4 border-primary/50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h2",{className:"font-bold text-base",children:O.stage_name}),i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ie.length})]})}),i.jsx("div",{className:"space-y-4 overflow-y-auto pe-2 custom-scrollbar flex-1 min-h-0",children:Ie.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[i.jsx(Tn,{className:"h-8 w-8 mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):Ie.map(Ge=>i.jsxs(st,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",Ex===Ge.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>n4(Ge),draggable:!0,onDragStart:tr=>{tr.dataTransfer.effectAllowed="move",tr.dataTransfer.setData("text/plain",Ge.leads_id.toString()),hX(Ge.leads_id)},children:[i.jsx(zt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:Ge.company_name||"No Company"}),Ge.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:Ge.address})]})})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(xm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:Oj(Ge)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(dR,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:Dj(Ge)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Tn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:Mj(Ge)})]})]}),i.jsx("div",{children:i.jsx(ut,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${Fj(Ge.status_id)}`,children:Rj(Ge)})})]}),(()=>{const tr=_.filter(Fr=>Number(Fr.leads_id)===Number(Ge.leads_id));return tr.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),tr.slice(0,1).map((Fr,Vi)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(An,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:Fr.contact_name})]},Vi)),tr.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",tr.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(An,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",Ge.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",Ge.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(Ge.created_at).toLocaleDateString()})]})]})]},Ge.leads_id))})]},O.stage_id)})})})}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:oa.length===0?i.jsx(ul,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(Tn,{className:"h-12 w-12"})}):i.jsx(vc,{data:qY,columns:["kanban","timeline"].includes(de)?[]:vX,actions:xX,bulkActions:gX,enableBulkSelect:!0,keyExtractor:O=>O.leads_id.toString(),onRowClick:O=>n4(O),rowHeight:"h-26"},`leads-${Re}-${ht}-${Le}-${fe}-${Be}-${ge}-${L}-${M}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:nd>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(Sa,{children:i.jsx(uu,{onClick:()=>W(Math.max(1,M-1)),className:M===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",M," ",e("common.of")," ",nd]})}),i.jsx(Sa,{children:i.jsx(du,{onClick:()=>W(Math.min(nd,M+1)),className:M===nd?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),i.jsx(ii,{open:he!==null,onOpenChange:()=>je(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("mleads.deleteLead")}),i.jsx(Os,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{onClick:()=>he&&eX(he),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(pl,{open:Ec,onOpenChange:q,children:i.jsxs(Co,{side:Xt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(hc,{children:[i.jsxs(gl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Tn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:ur==null?void 0:ur.company_name})]}),i.jsx(of,{children:e("mleads.leadDetailsDescription")})]}),ur&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(ue,{onClick:()=>{i4(ur),q(!1)},variant:"outline",size:"sm",children:[i.jsx(Oi,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(yl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(To,{className:`flex w-full ${Xt()?"flex-row-reverse":""}`,children:[i.jsx(Wr,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(Wr,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(yn,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:ur.company_name||"-"}),ur.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:ur.address})]}),r4(ur.lead_quotation)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(Ag,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:()=>{const O=window.open();if(O)O.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${ur.lead_quotation}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const ce=document.createElement("a");ce.href=ur.lead_quotation,ce.download="quotation.pdf",ce.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mleads.viewQuotation")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(xm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:Oj(ur)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(dR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:Dj(ur)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(ut,{variant:"outline",className:`text-xs ${Fj(ur.status_id)}`,children:Rj(ur)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(ut,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:e4(ur)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Tn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:Mj(ur)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:ur.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:ur.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(An,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:ur.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(ur.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:ur.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const O=N.length>0?N:[];return O.length>0?i.jsx("div",{className:"space-y-2",children:O.map((ce,Ie)=>{var Ge;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:ce.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ce.contact_email&&`${ce.contact_email}  `,ce.contact_mobile&&`${ce.contact_mobile}`]})]}),i.jsx(ut,{variant:"outline",className:"text-xs",children:((Ge=T.find(tr=>tr.jobtitle_id===ce.jobtitle_id))==null?void 0:Ge.jobtitle_name_en)||"-"})]},ce.contact_id||Ie)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(yn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:ur.leads_id,notes:ne,onNotesChange:()=>a4(ur.leads_id)})})]})]})]})})]})}function oWe(){var ee,ae,oe;const{t:e}=Bt(),{user:t}=gr(),{currentLanguage:r,isRTL:n}=Da(),{toast:a}=jl();Jr();const{setBreadcrumbs:s}=Iv();Ms();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,w]=x.useState([]),[_,j]=x.useState(!0),[N,S]=x.useState(null),[k,C]=x.useState(""),[E,P]=x.useState(0),[T]=x.useState(9),[V,G]=x.useState(0),[B,I]=x.useState(""),[z,L]=x.useState(""),[F,Y]=x.useState(null),[X,D]=x.useState(null),[R,M]=x.useState(!1),[W,J]=x.useState(!1),[re,xe]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[se,Q]=x.useState(null),[fe,A]=x.useState(!1),[Be,Me]=x.useState([]),[Le,ze]=x.useState(!1),[Re,gt]=x.useState("list"),[ht,le]=x.useState(null),[ge,U]=x.useState(""),[he,je]=x.useState([]),[Se,Ue]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Ne,Ce]=x.useState(!1),[ye,Ae]=x.useState(!1),Pe=async(H,de)=>await new Promise((we,ke)=>{const Fe=new FileReader;Fe.onload=()=>{const He=Fe.result;we(He)},Fe.onerror=ke,Fe.readAsDataURL(H)}),Ze=H=>H&&H!=="{}"&&H!==""&&typeof H=="string"&&H.startsWith("data:");x.useState(!1),x.useState(!1),x.useState(!1);const[Je,vt]=x.useState(!1),[_t,Ut]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:"",contract_document:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{cr()},[]),x.useEffect(()=>{en()},[E,k,B,z,d]),x.useEffect(()=>{Le&&jn()},[Le,k,B,z,d]);const cr=async()=>{try{j(!0),S(null);const[H,de,me,we,ke]=await Promise.all([K.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),K.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),K.Users.list({sort_by:"user_name",sort_order:"asc"}),K.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),K.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),Fe=He=>Array.isArray(He)?He:He!=null&&He.data&&Array.isArray(He.data)?He.data:[];f(Fe(H)),m(Fe(de)),g(Fe(me)),y(Fe(we)),w(Fe(ke))}catch(H){const de=H instanceof Error?H.message:"Failed to load data";S(de),a({title:"Error",description:de,variant:"destructive"})}finally{j(!1)}},en=async()=>{try{j(!0),S(null);const H={};if(B&&(H.city_id=B),z){const we=d.filter(ke=>{var Fe;return((Fe=ke.country_id)==null?void 0:Fe.toString())===z}).map(ke=>ke.city_id);we.length>0?H.city_id=we:H.city_id=-1}const de={page:E,limit:T,sort_by:"created_at",sort_order:"desc",exact_filters:H};k&&(de.search=k);const me=await K.mProjects.list(de);l(me.data||[]),G(me.total||0)}catch(H){const de=H instanceof Error?H.message:"Failed to load data";S(de),a({title:"Error",description:de,variant:"destructive"})}finally{j(!1)}},jn=async()=>{try{const H={};if(B&&(H.city_id=B),z){const we=d.filter(ke=>{var Fe;return((Fe=ke.country_id)==null?void 0:Fe.toString())===z}).map(ke=>ke.city_id);we.length>0?H.city_id=we:H.city_id=-1}const de={limit:1e3,exact_filters:H};k&&(de.search=k);const me=await K.mProjects.list(de);u(me.data||[])}catch(H){console.error("Failed to load all filtered projects:",H)}},$s=async()=>{try{const H=await K.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(H.data||[])}catch(H){console.error("Failed to load contacts:",H)}},Fa=x.useMemo(()=>Le?c:o,[Le,c,o]),Bi=x.useMemo(()=>{if(Le){const H=E*T,de=H+T;return Fa.slice(H,de)}else return o},[Le,Fa,o,E,T]),Mr=Math.ceil(V/T);x.useEffect(()=>{E>=Mr&&Mr>0&&P(Mr-1)},[E,Mr]);const In=(H,de,me)=>{if(!H)return"-";let we=r==="ar"&&(H==null?void 0:H[me])||(H==null?void 0:H[de]);if(!we){const ke=de.replace(/_en$/,""),Fe=me.replace(/_ar$/,"");we=r==="ar"&&(H==null?void 0:H[Fe])||(H==null?void 0:H[ke])}return we||(H==null?void 0:H.name)||(H==null?void 0:H.label)||(H==null?void 0:H.title)||"-"},ls=H=>{if(H==null||H==="")return"-";const de=Number(H),me=d.find(we=>Number(we.city_id)===de||Number(we.id)===de);return In(me,"city_name_en","city_name_ar")},Bs=async()=>{if(!ye){Ae(!0);try{let H;if(X)await K.mProjects.update(X,_t),H=X,a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const de={..._t,created_by:t==null?void 0:t.id},me=await K.mProjects.create(de);if(H=me.id||me.project_id,!H)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(X){const de=h.filter(me=>me.project_id===X);for(const me of de)await K.mContacts.delete(me.contact_id);he.length>0&&await Ec(H)}else he.length>0&&await Ec(H);if(ht){U("Uploading contract document...");try{const de=await Pe(ht,H);await K.mProjects.update(H,{contract_document:de}),U("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(de){console.error("File upload failed:",de),U("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}M(!1),D(null),Ut({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:"",contract_document:""}),je([]),le(null),U(""),await en(),await $s()}catch(H){const de=H instanceof Error?H.message:"Failed to save";a({title:"Error",description:de,variant:"destructive"})}finally{Ae(!1)}}},ia=async H=>{try{await K.mProjects.delete(H),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),Y(null),await en()}catch(de){const me=de instanceof Error?de.message:"Failed to delete";a({title:"Error",description:me,variant:"destructive"})}},di=H=>{Q(H),Us(H.project_id),$s(),A(!0)},Us=async H=>{try{const de=await Vh.getByRelated("mlead",H);Me(de)}catch(de){console.error("Failed to load notes:",de),Me([])}},Do=H=>{D(H.project_id),Ut(H);const de=h.filter(me=>me.project_id===H.project_id);je(de.map(me=>{var we;return{contact_name:me.contact_name||"",contact_email:me.contact_email||"",contact_mobile:((we=me.contact_mobile)==null?void 0:we.toString())||"",jobtitle_id:me.jobtitle_id}})),M(!0)},ed=async H=>{try{await Promise.all(H.map(de=>K.mProjects.delete(de))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await en()}catch(de){const me=de instanceof Error?de.message:"Failed to delete";a({title:"Error",description:me,variant:"destructive"})}},Ro=async()=>{try{if(!re.city_name_en&&!re.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const H=await K.mCity.create(re);H&&(f([...d,H]),Ut({..._t,city_id:H.city_id}),J(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(H){const de=H instanceof Error?H.message:"Failed to create city";a({title:"Error",description:de,variant:"destructive"})}},ur=()=>{if(!Se.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(he.some(de=>de.contact_name===Se.contact_name&&de.contact_email===Se.contact_email&&de.contact_mobile===Se.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}je([...he,{...Se}]),Ue({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ce(!1)},td=H=>{je(he.filter((de,me)=>me!==H))},Ec=async H=>{try{const de=he.map(me=>({contact_name:me.contact_name,contact_email:me.contact_email,contact_mobile:me.contact_mobile?parseInt(me.contact_mobile):null,jobtitle_id:me.jobtitle_id,project_id:H}));if(de.length>0)for(const me of de)await K.mContacts.create(me)}catch(de){const me=de instanceof Error?de.message:"Failed to save contacts";a({title:"Error",description:me,variant:"destructive"})}};if(_)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})});if(N)return i.jsx(Dp,{message:N,onRetry:cr});const q=[{label:e("common.delete"),icon:i.jsx(hr,{}),onClick:H=>{window.confirm(`Delete ${H.length} projects?`)&&ed(H.map(de=>de.project_id))},variant:"destructive"}],ne=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:H=>i.jsx(xc,{title:H.company_name||"-",subtitle:H.contract_code||"",icon:i.jsx(Tn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:H=>i.jsx("span",{className:"text-sm text-foreground",children:ls(H.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:H=>i.jsx(ut,{variant:"outline",className:"text-xs",children:H.contract_amount?`$${H.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:H=>i.jsx("span",{className:"text-sm text-muted-foreground",children:H.cont_start_date?new Date(H.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:H=>i.jsx("span",{className:"text-sm text-muted-foreground",children:H.cont_end_date?new Date(H.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:H=>i.jsx(Af,{date:H.created_at})}],Z=[{icon:i.jsx(Oi,{}),label:e("common.edit"),onClick:H=>Do(H)},{icon:i.jsx(hr,{}),label:e("common.delete"),onClick:H=>Y(H.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(ue,{variant:"outline",size:"default",onClick:()=>gt(Re==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Re==="list"?i.jsx(Js,{className:"h-4 w-4"}):i.jsx(Tn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(Re==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(ue,{variant:Le?"default":"outline",size:"default",onClick:()=>ze(!Le),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(Js,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx(Fh,{className:`h-4 w-4 transition-transform ${Le?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(Fs,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(Ve,{placeholder:e("mprojects.searchPlaceholder"),value:k,onChange:H=>{C(H.target.value),P(1)},className:`${n?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),i.jsxs(pl,{open:R,onOpenChange:M,children:[i.jsx(N7,{asChild:!0,children:i.jsxs(ue,{size:"default",onClick:()=>{D(null),Ut({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:"",contract_document:""}),je([]),le(null),U(""),J(!1),Ce(!1),xe({city_name_en:"",city_name_ar:"",country_id:null}),Ue({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),M(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Zt,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(Co,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(hc,{className:"p-6 pb-0",children:i.jsx(gl,{children:e(X?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(Ve,{value:_t.company_name||"",onChange:H=>Ut({..._t,company_name:H.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(Ve,{value:_t.contract_code||"",onChange:H=>Ut({..._t,contract_code:H.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(Ve,{type:"number",value:_t.contract_amount||"",onChange:H=>Ut({..._t,contract_amount:parseFloat(H.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(Ve,{type:"date",value:_t.cont_start_date||"",onChange:H=>Ut({..._t,cont_start_date:H.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(Ve,{type:"date",value:_t.cont_end_date||"",onChange:H=>Ut({..._t,cont_end_date:H.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>J(!W),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Zt,{className:"h-3 w-3 mr-1"}),e(W?"mprojects.cancel":"mprojects.addCity")]})]}),W?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(Ve,{placeholder:"City Name (English)",value:re.city_name_en,onChange:H=>xe({...re,city_name_en:H.target.value}),className:"h-9"}),i.jsx(Ve,{placeholder:"City Name (Arabic)",value:re.city_name_ar,onChange:H=>xe({...re,city_name_ar:H.target.value}),className:"h-9"}),i.jsxs(yt,{value:((ee=re.country_id)==null?void 0:ee.toString())||"",onValueChange:H=>xe({...re,country_id:parseInt(H)}),children:[i.jsx(mt,{className:"h-9",children:i.jsx(bt,{placeholder:"Select Country"})}),i.jsx(pt,{children:v.map(H=>i.jsx(Te,{value:H.country_id.toString(),children:In(H,"country_name_en","country_name_ar")},H.country_id))})]}),i.jsxs(ue,{onClick:Ro,size:"sm",className:"w-full h-9",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(yt,{value:((ae=_t.city_id)==null?void 0:ae.toString())||"",onValueChange:H=>Ut({..._t,city_id:parseInt(H)||null}),children:[i.jsx(mt,{className:"h-10",children:i.jsx(bt,{placeholder:e("mprojects.selectCity")})}),i.jsx(pt,{children:d.map(H=>i.jsx(Te,{value:H.city_id.toString(),children:In(H,"city_name_en","city_name_ar")},H.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ce(!Ne),className:"h-6 px-2 text-xs",children:[i.jsx(Zt,{className:"h-4 w-4 mr-2"}),e(Ne?"mprojects.cancel":"mprojects.addContact")]})]}),he.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:he.map((H,de)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:H.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[H.contact_email&&`${H.contact_email}  `,H.contact_mobile&&`${H.contact_mobile}`]})]}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>td(de),className:"h-6 w-6 p-0",children:i.jsx(jo,{className:"h-3 w-3"})})]},de))}),Ne&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(Ve,{placeholder:e("mprojects.contactName"),value:Se.contact_name,onChange:H=>Ue({...Se,contact_name:H.target.value})}),i.jsx(Ve,{placeholder:e("mprojects.email"),type:"email",value:Se.contact_email,onChange:H=>Ue({...Se,contact_email:H.target.value})}),i.jsx(Ve,{placeholder:e("mprojects.mobile"),value:Se.contact_mobile,onChange:H=>Ue({...Se,contact_mobile:H.target.value})}),i.jsxs(fa,{open:Je,onOpenChange:vt,children:[i.jsx(ha,{asChild:!0,children:i.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Je,className:"w-full justify-between",children:[Se.jobtitle_id?(oe=b.find(H=>H.jobtitle_id===Se.jobtitle_id))==null?void 0:oe.jobtitle_name_en:e("mprojects.selectJobTitle"),i.jsx(La,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(Gn,{className:"w-full p-0",children:i.jsxs(ma,{children:[i.jsx(pa,{placeholder:e("mprojects.searchJobTitle")}),i.jsxs(ga,{children:[i.jsx(va,{children:e("common.noResults")}),i.jsx(xa,{children:b&&b.length>0?b.map(H=>i.jsx(fr,{value:In(H,"jobtitle_name_en","jobtitle_name_ar")||H.jobtitle_name_en||"Unknown",onSelect:()=>{Ue(de=>({...de,jobtitle_id:H.jobtitle_id})),vt(!1)},children:In(H,"jobtitle_name_en","jobtitle_name_ar")||H.jobtitle_name_en||"Unknown"},H.jobtitle_id)):i.jsx(fr,{disabled:!0,children:"No job titles available"})})]})]})})]}),i.jsx(ue,{type:"button",onClick:ur,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(Ve,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:H=>{var me;const de=(me=H.target.files)==null?void 0:me[0];le(de||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),ht&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(ps,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:ht.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(ht.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>le(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(jo,{className:"h-4 w-4"})})]}),ge&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(sa,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:ge})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(ue,{onClick:Bs,className:"w-full",disabled:ye||!_t.company_name,children:e(ye?"common.saving":X?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(B||z||k)&&i.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{I(""),L(""),C(""),P(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(yt,{value:z||"all",onValueChange:H=>{L(H==="all"?"":H),P(1)},children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mprojects.country")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mprojects.allCountries")}),v.map(H=>i.jsx(Te,{value:H.country_id.toString(),children:In(H,"country_name_en","country_name_ar")},H.country_id))]})]}),i.jsxs(yt,{value:B||"all",onValueChange:H=>{I(H==="all"?"":H),P(1)},children:[i.jsx(mt,{children:i.jsx(bt,{placeholder:e("mprojects.city")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("mprojects.allCities")}),d.map(H=>i.jsx(Te,{value:H.city_id.toString(),children:In(H,"city_name_en","city_name_ar")},H.city_id))]})]})]})]})]}),Le&&i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:e("mprojects.analytics")})}),i.jsx(dt,{children:i.jsxs(yl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(To,{className:"grid w-full grid-cols-2",children:[i.jsx(Wr,{value:"overview",children:"Overview"}),i.jsx(Wr,{value:"timeline",children:"Timeline"})]}),i.jsx(yn,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(me=>({name:me.name,value:Fa.filter(we=>we.contract_amount&&we.contract_amount>=me.min&&we.contract_amount<me.max).length})).filter(me=>me.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:H,value:de})=>`${H}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((H,de)=>i.jsx(Zo,{fill:H},`cell-${de}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(Wo,{config:{},className:"h-[350px]",children:i.jsxs(pd,{children:[i.jsx(qa,{data:(()=>{const H=d.map(de=>({name:In(de,"city_name_en","city_name_ar"),value:Fa.filter(me=>me.city_id===de.city_id).length})).filter(de=>de.value>0);return H.length>0?H:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:H,value:de})=>`${H}: ${de}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((H,de)=>i.jsx(Zo,{fill:H},`cell-${de}`))}),i.jsx(xd,{content:i.jsx(Qc,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Fa.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(yn,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Nu,{width:"100%",height:"100%",children:i.jsxs(ix,{data:(()=>{const H=new Map;return Fa.forEach(me=>{const we=new Date(me.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});H.set(we,(H.get(we)||0)+1)}),Array.from(H.entries()).sort((me,we)=>new Date(me[0]).getTime()-new Date(we[0]).getTime()).map(([me,we])=>({date:me,count:we}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Cu,{strokeDasharray:"3 3"}),i.jsx(go,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(vo,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(Xn,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:H=>[`${H} projects`,"Total"]}),i.jsx(ai,{}),i.jsx(Nc,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(st,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(dt,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:Re==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:Bi.map(H=>{var de;return i.jsxs(st,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>di(H),children:[i.jsx(zt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:H.company_name||"No Company"}),H.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:H.contract_code})]})})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(xm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:ls(H.city_id)})]})}),i.jsx("div",{children:i.jsxs(ut,{variant:"outline",className:"text-xs",children:["$",((de=H.contract_amount)==null?void 0:de.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(H.created_at).toLocaleDateString()]})})})]})]},H.project_id)})})}):i.jsx(i.Fragment,{children:Fa.length===0?i.jsx(ul,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(Tn,{className:"h-12 w-12"})}):i.jsx(vc,{data:Bi,columns:ne,actions:Z,bulkActions:q,enableBulkSelect:!0,keyExtractor:H=>H.project_id.toString(),onRowClick:H=>di(H),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:Mr>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(Sa,{children:i.jsx(uu,{onClick:()=>P(Math.max(0,E-1)),className:E===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",E+1," ",e("common.of")," ",Mr]})}),i.jsx(Sa,{children:i.jsx(du,{onClick:()=>P(Math.min(Mr-1,E+1)),className:E===Mr-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(ii,{open:F!==null,onOpenChange:()=>Y(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("mprojects.deleteProject")}),i.jsx(Os,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{onClick:()=>F&&ia(F),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(pl,{open:fe,onOpenChange:A,children:i.jsxs(Co,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(hc,{children:i.jsxs(gl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Tn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:se==null?void 0:se.company_name})]})}),se&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(ue,{onClick:()=>{Do(se),A(!1)},variant:"outline",size:"sm",children:[i.jsx(Oi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(yl,{defaultValue:"overview",className:"w-full",children:[i.jsxs(To,{className:"grid w-full grid-cols-2",children:[i.jsx(Wr,{value:"overview",children:e("common.overview")}),i.jsx(Wr,{value:"notes",children:e("notes.title")})]}),i.jsxs(yn,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:se.company_name||"-"}),se.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",se.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:se.contract_amount?`$${se.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:se.cont_start_date?new Date(se.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:se.cont_end_date?new Date(se.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(xm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:ls(se.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const H=h.filter(de=>de.project_id===se.project_id);return H.length>0?i.jsx("div",{className:"space-y-2",children:H.map((de,me)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:de.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[de.contact_email&&`${de.contact_email}  `,de.contact_mobile&&`${de.contact_mobile}`]})]}),i.jsx(ut,{variant:"outline",className:"text-xs",children:b.find(we=>we.jobtitle_id===de.jobtitle_id)?In(b.find(we=>we.jobtitle_id===de.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},de.contact_id||me))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(se.created_at).toLocaleDateString()})]})}),Ze(se.contract_document)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(ps,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("button",{onClick:()=>{const H=window.open();if(H)H.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${se.contract_document}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const de=document.createElement("a");de.href=se.contract_document,de.download="contract.pdf",de.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mprojects.viewContract")})]})]})]}),i.jsx(yn,{value:"notes",className:"mt-4",children:i.jsx(wP,{relatedType:"mlead",relatedId:se.project_id,notes:Be,onNotesChange:()=>Us(se.project_id)})})]})]})]})})]})}const f0={async getRequests(){return(await K.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await K.requests.get(e)},async createRequest(e){return await K.requests.create(e)},async updateRequest(e,t){return await K.requests.update(e,t)},async deleteRequest(e){await K.requests.delete(e)}};var Nx=e=>e.type==="checkbox",Ad=e=>e instanceof Date,Wa=e=>e==null;const uY=e=>typeof e=="object";var un=e=>!Wa(e)&&!Array.isArray(e)&&uY(e)&&!Ad(e),dY=e=>un(e)&&e.target?Nx(e.target)?e.target.checked:e.target.value:e,lWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fY=(e,t)=>e.has(lWe(t)),cWe=e=>{const t=e.constructor&&e.constructor.prototype;return un(t)&&t.hasOwnProperty("isPrototypeOf")},mO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(mO&&(e instanceof Blob||n))&&(r||un(e)))if(t=r?[]:{},!r&&!cWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=kn(e[a]));else return e;return t}var gj=e=>/^\w*$/.test(e),nn=e=>e===void 0,pO=e=>Array.isArray(e)?e.filter(Boolean):[],gO=e=>pO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(e,t,r)=>{if(!t||!un(e))return r;const n=(gj(t)?[t]:gO(t)).reduce((a,s)=>Wa(a)?a:a[s],e);return nn(n)||n===e?nn(e[t])?r:e[t]:n},qs=e=>typeof e=="boolean",vr=(e,t,r)=>{let n=-1;const a=gj(t)?[t]:gO(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=un(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const uw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},lo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vO=ie.createContext(null);vO.displayName="HookFormContext";const vj=()=>ie.useContext(vO),uWe=e=>{const{children:t,...r}=e;return ie.createElement(vO.Provider,{value:r},t)};var hY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==lo.all&&(t._proxyFormState[o]=!n||lo.all),r&&(r[o]=!0),e[o]}});return a};const xO=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function dWe(e){const t=vj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ie.useState(r._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>hY(o,r,c.current,!1),[o,r])}var nl=e=>typeof e=="string",mY=(e,t,r,n,a)=>nl(e)?(n&&t.watch.add(e),et(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),et(r,s))):(n&&(t.watchAll=!0),r),iE=e=>Wa(e)||!uY(e);function Wl(e,t,r=new WeakSet){if(iE(e)||iE(t))return e===t;if(Ad(e)&&Ad(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Ad(o)&&Ad(l)||un(o)&&un(l)||Array.isArray(o)&&Array.isArray(l)?!Wl(o,l,r):o!==l)return!1}}return!0}function fWe(e){const t=vj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ie.useRef(a),u=ie.useRef(l),d=ie.useRef(void 0);u.current=l;const f=ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ie.useState(u.current?u.current(f):f);return xO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>{if(!s){const g=mY(n,r._names,p.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);Wl(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,s,n,o]),ie.useEffect(()=>r._removeUnmounted()),h}function hWe(e){const t=vj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=fY(a._names.array,r),c=ie.useMemo(()=>et(a._formValues,r,et(a._defaultValues,r,o)),[a,r,o]),u=fWe({control:a,name:r,defaultValue:c,exact:!0}),d=dWe({control:a,name:r,exact:!0}),f=ie.useRef(e),h=ie.useRef(a.register(r,{...e.rules,value:u,...qs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!et(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!et(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!et(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!et(d.validatingFields,r)},error:{enumerable:!0,get:()=>et(d.errors,r)}}),[d,r]),p=ie.useCallback(b=>h.current.onChange({target:{value:dY(b),name:r},type:uw.CHANGE}),[r]),g=ie.useCallback(()=>h.current.onBlur({target:{value:et(a._formValues,r),name:r},type:uw.BLUR}),[r,a._formValues]),v=ie.useCallback(b=>{const w=et(a._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ie.useMemo(()=>({name:r,value:u,...qs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:g,ref:v}),[r,n,d.disabled,p,g,v,u]);return ie.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...qs(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(_,j)=>{const N=et(a._fields,_);N&&N._f&&(N._f.mount=j)};if(w(r,!0),b){const _=kn(et(a._options.defaultValues,r));vr(a._defaultValues,r,_),nn(et(a._formValues,r))&&vr(a._formValues,r,_)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):w(r,!1)}},[r,a,l,s]),ie.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ie.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const mWe=e=>e.render(hWe(e));var pY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},sg=e=>Array.isArray(e)?e:[e],C5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},ds=e=>un(e)&&!Object.keys(e).length,yO=e=>e.type==="file",co=e=>typeof e=="function",dw=e=>{if(!mO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gY=e=>e.type==="select-multiple",bO=e=>e.type==="radio",pWe=e=>bO(e)||Nx(e),A2=e=>dw(e)&&e.isConnected;function gWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=nn(e)?n++:e[t[n++]];return e}function vWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!nn(e[t]))return!1;return!0}function hn(e,t){const r=Array.isArray(t)?t:gj(t)?[t]:gO(t),n=r.length===1?e:gWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(un(n)&&ds(n)||Array.isArray(n)&&vWe(n))&&hn(e,r.slice(0,-1)),e}var vY=e=>{for(const t in e)if(co(e[t]))return!0;return!1};function fw(e,t={}){const r=Array.isArray(e);if(un(e)||r)for(const n in e)Array.isArray(e[n])||un(e[n])&&!vY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fw(e[n],t[n])):Wa(e[n])||(t[n]=!0);return t}function xY(e,t,r){const n=Array.isArray(e);if(un(e)||n)for(const a in e)Array.isArray(e[a])||un(e[a])&&!vY(e[a])?nn(t)||iE(r[a])?r[a]=Array.isArray(e[a])?fw(e[a],[]):{...fw(e[a])}:xY(e[a],Wa(t)?{}:t[a],r[a]):r[a]=!Wl(e[a],t[a]);return r}var h0=(e,t)=>xY(e,t,fw(t));const E5={value:!1,isValid:!1},T5={value:!0,isValid:!0};var yY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nn(e[0].attributes.value)?nn(e[0].value)||e[0].value===""?T5:{value:e[0].value,isValid:!0}:T5:E5}return E5},bY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>nn(e)?e:t?e===""?NaN:e&&+e:r&&nl(e)?new Date(e):n?n(e):e;const A5={isValid:!1,value:null};var wY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,A5):A5;function P5(e){const t=e.ref;return yO(t)?t.files:bO(t)?wY(e.refs).value:gY(t)?[...t.selectedOptions].map(({value:r})=>r):Nx(t)?yY(e.refs).value:bY(nn(t.value)?e.ref.value:t.value,e)}var xWe=(e,t,r,n)=>{const a={};for(const s of e){const o=et(t,s);o&&vr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},hw=e=>e instanceof RegExp,m0=e=>nn(e)?e:hw(e)?e.source:un(e)?hw(e.value)?e.value.source:e.value:e,O5=e=>({isOnSubmit:!e||e===lo.onSubmit,isOnBlur:e===lo.onBlur,isOnChange:e===lo.onChange,isOnAll:e===lo.all,isOnTouch:e===lo.onTouched});const D5="AsyncFunction";var yWe=e=>!!e&&!!e.validate&&!!(co(e.validate)&&e.validate.constructor.name===D5||un(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===D5)),bWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),R5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ig=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=et(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(ig(l,t))break}else if(un(l)&&ig(l,t))break}}};function M5(e,t,r){const n=et(e,r);if(n||gj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=et(t,s),l=et(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var wWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return ds(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||lo.all))},_We=(e,t,r)=>!e||!t||e===t||sg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),jWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,SWe=(e,t)=>!pO(et(e,t)).length&&hn(e,t),NWe=(e,t,r)=>{const n=sg(et(e,r));return vr(n,"root",t[r]),vr(e,r,n),e},n1=e=>nl(e);function F5(e,t,r="validate"){if(n1(e)||Array.isArray(e)&&e.every(n1)||qs(e)&&!e)return{type:r,message:n1(e)?e:"",ref:t}}var Zf=e=>un(e)&&!hw(e)?e:{value:e,message:""},I5=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:y}=e._f,b=et(r,g);if(!y||t.has(g))return{};const w=l?l[0]:o,_=T=>{a&&w.reportValidity&&(w.setCustomValidity(qs(T)?"":T||""),w.reportValidity())},j={},N=bO(o),S=Nx(o),k=N||S,C=(v||yO(o))&&nn(o.value)&&nn(b)||dw(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=pY.bind(null,g,n,j),P=(T,V,G,B=Fl.maxLength,I=Fl.minLength)=>{const z=T?V:G;j[g]={type:T?B:I,message:z,ref:o,...E(T?B:I,z)}};if(s?!Array.isArray(b)||!b.length:c&&(!k&&(C||Wa(b))||qs(b)&&!b||S&&!yY(l).isValid||N&&!wY(l).isValid)){const{value:T,message:V}=n1(c)?{value:!!c,message:c}:Zf(c);if(T&&(j[g]={type:Fl.required,message:V,ref:w,...E(Fl.required,V)},!n))return _(V),j}if(!C&&(!Wa(f)||!Wa(h))){let T,V;const G=Zf(h),B=Zf(f);if(!Wa(b)&&!isNaN(b)){const I=o.valueAsNumber||b&&+b;Wa(G.value)||(T=I>G.value),Wa(B.value)||(V=I<B.value)}else{const I=o.valueAsDate||new Date(b),z=Y=>new Date(new Date().toDateString()+" "+Y),L=o.type=="time",F=o.type=="week";nl(G.value)&&b&&(T=L?z(b)>z(G.value):F?b>G.value:I>new Date(G.value)),nl(B.value)&&b&&(V=L?z(b)<z(B.value):F?b<B.value:I<new Date(B.value))}if((T||V)&&(P(!!T,G.message,B.message,Fl.max,Fl.min),!n))return _(j[g].message),j}if((u||d)&&!C&&(nl(b)||s&&Array.isArray(b))){const T=Zf(u),V=Zf(d),G=!Wa(T.value)&&b.length>+T.value,B=!Wa(V.value)&&b.length<+V.value;if((G||B)&&(P(G,T.message,V.message),!n))return _(j[g].message),j}if(m&&!C&&nl(b)){const{value:T,message:V}=Zf(m);if(hw(T)&&!b.match(T)&&(j[g]={type:Fl.pattern,message:V,ref:o,...E(Fl.pattern,V)},!n))return _(V),j}if(p){if(co(p)){const T=await p(b,r),V=F5(T,w);if(V&&(j[g]={...V,...E(Fl.validate,V.message)},!n))return _(V.message),j}else if(un(p)){let T={};for(const V in p){if(!ds(T)&&!n)break;const G=F5(await p[V](b,r),w,V);G&&(T={...G,...E(V,G.message)},_(G.message),n&&(j[g]=T))}if(!ds(T)&&(j[g]={ref:w,...T},!n))return j}}return _(!0),j};const kWe={mode:lo.onSubmit,reValidateMode:lo.onChange,shouldFocusError:!0};function CWe(e={}){let t={...kWe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:co(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=un(t.defaultValues)||un(t.values)?kn(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:kn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:C5(),state:C5()},m=t.criteriaMode===lo.all,p=le=>ge=>{clearTimeout(u),u=setTimeout(le,ge)},g=async le=>{if(!t.disabled&&(d.isValid||f.isValid||le)){const ge=t.resolver?ds((await S()).errors):await C(n,!0);ge!==r.isValid&&h.state.next({isValid:ge})}},v=(le,ge)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((le||Array.from(l.mount)).forEach(U=>{U&&(ge?vr(r.validatingFields,U,ge):hn(r.validatingFields,U))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ds(r.validatingFields)}))},y=(le,ge=[],U,he,je=!0,Se=!0)=>{if(he&&U&&!t.disabled){if(o.action=!0,Se&&Array.isArray(et(n,le))){const Ue=U(et(n,le),he.argA,he.argB);je&&vr(n,le,Ue)}if(Se&&Array.isArray(et(r.errors,le))){const Ue=U(et(r.errors,le),he.argA,he.argB);je&&vr(r.errors,le,Ue),SWe(r.errors,le)}if((d.touchedFields||f.touchedFields)&&Se&&Array.isArray(et(r.touchedFields,le))){const Ue=U(et(r.touchedFields,le),he.argA,he.argB);je&&vr(r.touchedFields,le,Ue)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=h0(a,s)),h.state.next({name:le,isDirty:P(le,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(s,le,ge)},b=(le,ge)=>{vr(r.errors,le,ge),h.state.next({errors:r.errors})},w=le=>{r.errors=le,h.state.next({errors:r.errors,isValid:!1})},_=(le,ge,U,he)=>{const je=et(n,le);if(je){const Se=et(s,le,nn(U)?et(a,le):U);nn(Se)||he&&he.defaultChecked||ge?vr(s,le,ge?Se:P5(je._f)):G(le,Se),o.mount&&g()}},j=(le,ge,U,he,je)=>{let Se=!1,Ue=!1;const Ne={name:le};if(!t.disabled){if(!U||he){(d.isDirty||f.isDirty)&&(Ue=r.isDirty,r.isDirty=Ne.isDirty=P(),Se=Ue!==Ne.isDirty);const Ce=Wl(et(a,le),ge);Ue=!!et(r.dirtyFields,le),Ce?hn(r.dirtyFields,le):vr(r.dirtyFields,le,!0),Ne.dirtyFields=r.dirtyFields,Se=Se||(d.dirtyFields||f.dirtyFields)&&Ue!==!Ce}if(U){const Ce=et(r.touchedFields,le);Ce||(vr(r.touchedFields,le,U),Ne.touchedFields=r.touchedFields,Se=Se||(d.touchedFields||f.touchedFields)&&Ce!==U)}Se&&je&&h.state.next(Ne)}return Se?Ne:{}},N=(le,ge,U,he)=>{const je=et(r.errors,le),Se=(d.isValid||f.isValid)&&qs(ge)&&r.isValid!==ge;if(t.delayError&&U?(c=p(()=>b(le,U)),c(t.delayError)):(clearTimeout(u),c=null,U?vr(r.errors,le,U):hn(r.errors,le)),(U?!Wl(je,U):je)||!ds(he)||Se){const Ue={...he,...Se&&qs(ge)?{isValid:ge}:{},errors:r.errors,name:le};r={...r,...Ue},h.state.next(Ue)}},S=async le=>{v(le,!0);const ge=await t.resolver(s,t.context,xWe(le||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(le),ge},k=async le=>{const{errors:ge}=await S(le);if(le)for(const U of le){const he=et(ge,U);he?vr(r.errors,U,he):hn(r.errors,U)}else r.errors=ge;return ge},C=async(le,ge,U={valid:!0})=>{for(const he in le){const je=le[he];if(je){const{_f:Se,...Ue}=je;if(Se){const Ne=l.array.has(Se.name),Ce=je._f&&yWe(je._f);Ce&&d.validatingFields&&v([he],!0);const ye=await I5(je,l.disabled,s,m,t.shouldUseNativeValidation&&!ge,Ne);if(Ce&&d.validatingFields&&v([he]),ye[Se.name]&&(U.valid=!1,ge))break;!ge&&(et(ye,Se.name)?Ne?NWe(r.errors,ye,Se.name):vr(r.errors,Se.name,ye[Se.name]):hn(r.errors,Se.name))}!ds(Ue)&&await C(Ue,ge,U)}}return U.valid},E=()=>{for(const le of l.unMount){const ge=et(n,le);ge&&(ge._f.refs?ge._f.refs.every(U=>!A2(U)):!A2(ge._f.ref))&&re(le)}l.unMount=new Set},P=(le,ge)=>!t.disabled&&(le&&ge&&vr(s,le,ge),!Wl(Y(),a)),T=(le,ge,U)=>mY(le,l,{...o.mount?s:nn(ge)?a:nl(le)?{[le]:ge}:ge},U,ge),V=le=>pO(et(o.mount?s:a,le,t.shouldUnregister?et(a,le,[]):[])),G=(le,ge,U={})=>{const he=et(n,le);let je=ge;if(he){const Se=he._f;Se&&(!Se.disabled&&vr(s,le,bY(ge,Se)),je=dw(Se.ref)&&Wa(ge)?"":ge,gY(Se.ref)?[...Se.ref.options].forEach(Ue=>Ue.selected=je.includes(Ue.value)):Se.refs?Nx(Se.ref)?Se.refs.forEach(Ue=>{(!Ue.defaultChecked||!Ue.disabled)&&(Array.isArray(je)?Ue.checked=!!je.find(Ne=>Ne===Ue.value):Ue.checked=je===Ue.value||!!je)}):Se.refs.forEach(Ue=>Ue.checked=Ue.value===je):yO(Se.ref)?Se.ref.value="":(Se.ref.value=je,Se.ref.type||h.state.next({name:le,values:kn(s)})))}(U.shouldDirty||U.shouldTouch)&&j(le,je,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&F(le)},B=(le,ge,U)=>{for(const he in ge){if(!ge.hasOwnProperty(he))return;const je=ge[he],Se=le+"."+he,Ue=et(n,Se);(l.array.has(le)||un(je)||Ue&&!Ue._f)&&!Ad(je)?B(Se,je,U):G(Se,je,U)}},I=(le,ge,U={})=>{const he=et(n,le),je=l.array.has(le),Se=kn(ge);vr(s,le,Se),je?(h.array.next({name:le,values:kn(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:le,dirtyFields:h0(a,s),isDirty:P(le,Se)})):he&&!he._f&&!Wa(Se)?B(le,Se,U):G(le,Se,U),R5(le,l)&&h.state.next({...r,name:le}),h.state.next({name:o.mount?le:void 0,values:kn(s)})},z=async le=>{o.mount=!0;const ge=le.target;let U=ge.name,he=!0;const je=et(n,U),Se=Ce=>{he=Number.isNaN(Ce)||Ad(Ce)&&isNaN(Ce.getTime())||Wl(Ce,et(s,U,Ce))},Ue=O5(t.mode),Ne=O5(t.reValidateMode);if(je){let Ce,ye;const Ae=ge.type?P5(je._f):dY(le),Pe=le.type===uw.BLUR||le.type===uw.FOCUS_OUT,Ze=!bWe(je._f)&&!t.resolver&&!et(r.errors,U)&&!je._f.deps||jWe(Pe,et(r.touchedFields,U),r.isSubmitted,Ne,Ue),Je=R5(U,l,Pe);vr(s,U,Ae),Pe?(je._f.onBlur&&je._f.onBlur(le),c&&c(0)):je._f.onChange&&je._f.onChange(le);const vt=j(U,Ae,Pe),_t=!ds(vt)||Je;if(!Pe&&h.state.next({name:U,type:le.type,values:kn(s)}),Ze)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Pe&&g():Pe||g()),_t&&h.state.next({name:U,...Je?{}:vt});if(!Pe&&Je&&h.state.next({...r}),t.resolver){const{errors:Ut}=await S([U]);if(Se(Ae),he){const cr=M5(r.errors,n,U),en=M5(Ut,n,cr.name||U);Ce=en.error,U=en.name,ye=ds(Ut)}}else v([U],!0),Ce=(await I5(je,l.disabled,s,m,t.shouldUseNativeValidation))[U],v([U]),Se(Ae),he&&(Ce?ye=!1:(d.isValid||f.isValid)&&(ye=await C(n,!0)));he&&(je._f.deps&&F(je._f.deps),N(U,ye,Ce,vt))}},L=(le,ge)=>{if(et(r.errors,ge)&&le.focus)return le.focus(),1},F=async(le,ge={})=>{let U,he;const je=sg(le);if(t.resolver){const Se=await k(nn(le)?le:je);U=ds(Se),he=le?!je.some(Ue=>et(Se,Ue)):U}else le?(he=(await Promise.all(je.map(async Se=>{const Ue=et(n,Se);return await C(Ue&&Ue._f?{[Se]:Ue}:Ue)}))).every(Boolean),!(!he&&!r.isValid)&&g()):he=U=await C(n);return h.state.next({...!nl(le)||(d.isValid||f.isValid)&&U!==r.isValid?{}:{name:le},...t.resolver||!le?{isValid:U}:{},errors:r.errors}),ge.shouldFocus&&!he&&ig(n,L,le?je:l.mount),he},Y=le=>{const ge={...o.mount?s:a};return nn(le)?ge:nl(le)?et(ge,le):le.map(U=>et(ge,U))},X=(le,ge)=>({invalid:!!et((ge||r).errors,le),isDirty:!!et((ge||r).dirtyFields,le),error:et((ge||r).errors,le),isValidating:!!et(r.validatingFields,le),isTouched:!!et((ge||r).touchedFields,le)}),D=le=>{le&&sg(le).forEach(ge=>hn(r.errors,ge)),h.state.next({errors:le?r.errors:{}})},R=(le,ge,U)=>{const he=(et(n,le,{_f:{}})._f||{}).ref,je=et(r.errors,le)||{},{ref:Se,message:Ue,type:Ne,...Ce}=je;vr(r.errors,le,{...Ce,...ge,ref:he}),h.state.next({name:le,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&he&&he.focus&&he.focus()},M=(le,ge)=>co(le)?h.state.subscribe({next:U=>"values"in U&&le(T(void 0,ge),U)}):T(le,ge,!0),W=le=>h.state.subscribe({next:ge=>{_We(le.name,ge.name,le.exact)&&wWe(ge,le.formState||d,Re,le.reRenderRoot)&&le.callback({values:{...s},...r,...ge,defaultValues:a})}}).unsubscribe,J=le=>(o.mount=!0,f={...f,...le.formState},W({...le,formState:f})),re=(le,ge={})=>{for(const U of le?sg(le):l.mount)l.mount.delete(U),l.array.delete(U),ge.keepValue||(hn(n,U),hn(s,U)),!ge.keepError&&hn(r.errors,U),!ge.keepDirty&&hn(r.dirtyFields,U),!ge.keepTouched&&hn(r.touchedFields,U),!ge.keepIsValidating&&hn(r.validatingFields,U),!t.shouldUnregister&&!ge.keepDefaultValue&&hn(a,U);h.state.next({values:kn(s)}),h.state.next({...r,...ge.keepDirty?{isDirty:P()}:{}}),!ge.keepIsValid&&g()},xe=({disabled:le,name:ge})=>{(qs(le)&&o.mount||le||l.disabled.has(ge))&&(le?l.disabled.add(ge):l.disabled.delete(ge))},se=(le,ge={})=>{let U=et(n,le);const he=qs(ge.disabled)||qs(t.disabled);return vr(n,le,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:le}},name:le,mount:!0,...ge}}),l.mount.add(le),U?xe({disabled:qs(ge.disabled)?ge.disabled:t.disabled,name:le}):_(le,!0,ge.value),{...he?{disabled:ge.disabled||t.disabled}:{},...t.progressive?{required:!!ge.required,min:m0(ge.min),max:m0(ge.max),minLength:m0(ge.minLength),maxLength:m0(ge.maxLength),pattern:m0(ge.pattern)}:{},name:le,onChange:z,onBlur:z,ref:je=>{if(je){se(le,ge),U=et(n,le);const Se=nn(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Ue=pWe(Se),Ne=U._f.refs||[];if(Ue?Ne.find(Ce=>Ce===Se):Se===U._f.ref)return;vr(n,le,{_f:{...U._f,...Ue?{refs:[...Ne.filter(A2),Se,...Array.isArray(et(a,le))?[{}]:[]],ref:{type:Se.type,name:le}}:{ref:Se}}}),_(le,!1,void 0,Se)}else U=et(n,le,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||ge.shouldUnregister)&&!(fY(l.array,le)&&o.action)&&l.unMount.add(le)}}},Q=()=>t.shouldFocusError&&ig(n,L,l.mount),fe=le=>{qs(le)&&(h.state.next({disabled:le}),ig(n,(ge,U)=>{const he=et(n,U);he&&(ge.disabled=he._f.disabled||le,Array.isArray(he._f.refs)&&he._f.refs.forEach(je=>{je.disabled=he._f.disabled||le}))},0,!1))},A=(le,ge)=>async U=>{let he;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let je=kn(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Se,values:Ue}=await S();r.errors=Se,je=kn(Ue)}else await C(n);if(l.disabled.size)for(const Se of l.disabled)hn(je,Se);if(hn(r.errors,"root"),ds(r.errors)){h.state.next({errors:{}});try{await le(je,U)}catch(Se){he=Se}}else ge&&await ge({...r.errors},U),Q(),setTimeout(Q);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(r.errors)&&!he,submitCount:r.submitCount+1,errors:r.errors}),he)throw he},Be=(le,ge={})=>{et(n,le)&&(nn(ge.defaultValue)?I(le,kn(et(a,le))):(I(le,ge.defaultValue),vr(a,le,kn(ge.defaultValue))),ge.keepTouched||hn(r.touchedFields,le),ge.keepDirty||(hn(r.dirtyFields,le),r.isDirty=ge.defaultValue?P(le,kn(et(a,le))):P()),ge.keepError||(hn(r.errors,le),d.isValid&&g()),h.state.next({...r}))},Me=(le,ge={})=>{const U=le?kn(le):a,he=kn(U),je=ds(le),Se=je?a:he;if(ge.keepDefaultValues||(a=U),!ge.keepValues){if(ge.keepDirtyValues){const Ue=new Set([...l.mount,...Object.keys(h0(a,s))]);for(const Ne of Array.from(Ue))et(r.dirtyFields,Ne)?vr(Se,Ne,et(s,Ne)):I(Ne,et(Se,Ne))}else{if(mO&&nn(le))for(const Ue of l.mount){const Ne=et(n,Ue);if(Ne&&Ne._f){const Ce=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(dw(Ce)){const ye=Ce.closest("form");if(ye){ye.reset();break}}}}if(ge.keepFieldsRef)for(const Ue of l.mount)I(Ue,et(Se,Ue));else n={}}s=t.shouldUnregister?ge.keepDefaultValues?kn(a):{}:kn(Se),h.array.next({values:{...Se}}),h.state.next({values:{...Se}})}l={mount:ge.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:je?!1:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!Wl(le,a)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:ge.keepDirtyValues?ge.keepDefaultValues&&s?h0(a,s):r.dirtyFields:ge.keepDefaultValues&&le?h0(a,le):ge.keepDirty?r.dirtyFields:{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Le=(le,ge)=>Me(co(le)?le(s):le,ge),ze=(le,ge={})=>{const U=et(n,le),he=U&&U._f;if(he){const je=he.refs?he.refs[0]:he.ref;je.focus&&(je.focus(),ge.shouldSelect&&co(je.select)&&je.select())}},Re=le=>{r={...r,...le}},ht={control:{register:se,unregister:re,getFieldState:X,handleSubmit:A,setError:R,_subscribe:W,_runSchema:S,_focusError:Q,_getWatch:T,_getDirty:P,_setValid:g,_setFieldArray:y,_setDisabledField:xe,_setErrors:w,_getFieldArray:V,_reset:Me,_resetDefaultValues:()=>co(t.defaultValues)&&t.defaultValues().then(le=>{Le(le,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:fe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(le){o=le},get _defaultValues(){return a},get _names(){return l},set _names(le){l=le},get _formState(){return r},get _options(){return t},set _options(le){t={...t,...le}}},subscribe:J,trigger:F,register:se,handleSubmit:A,watch:M,setValue:I,getValues:Y,reset:Le,resetField:Be,clearErrors:D,unregister:re,setError:R,setFocus:ze,getFieldState:X};return{...ht,formControl:ht}}function EWe(e={}){const t=ie.useRef(void 0),r=ie.useRef(void 0),[n,a]=ie.useState({isDirty:!1,isValidating:!1,isLoading:co(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:co(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!co(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=CWe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,xO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!Wl(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=hY(n,s),t.current}const L5=(e,t,r)=>{if(e&&"reportValidity"in e){const n=et(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},_Y=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?L5(n.ref,r,e):n.refs&&n.refs.forEach(a=>L5(a,r,e))}},TWe=(e,t)=>{t.shouldUseNativeValidation&&_Y(e,t);const r={};for(const n in e){const a=et(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(AWe(t.names||Object.keys(e),n)){const o=Object.assign({},et(r,n));vr(o,"root",s),vr(r,n,o)}else vr(r,n,s)}return r},AWe=(e,t)=>e.some(r=>r.startsWith(t+"."));var PWe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=pY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},OWe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&_Y({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:TWe(PWe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},sr;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(sr||(sr={}));var $5;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})($5||($5={}));const ft=sr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vc=e=>{switch(typeof e){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(e)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(e)?ft.array:e===null?ft.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ft.promise:typeof Map<"u"&&e instanceof Map?ft.map:typeof Set<"u"&&e instanceof Set?ft.set:typeof Date<"u"&&e instanceof Date?ft.date:ft.object;default:return ft.unknown}},Ye=sr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof bc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bc.create=e=>new bc(e);const oE=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===ft.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${sr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${sr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,sr.assertNever(e)}return{message:r}};let DWe=oE;function RWe(){return DWe}const MWe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function at(e,t){const r=RWe(),n=MWe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===oE?void 0:oE].filter(a=>!!a)});e.common.issues.push(n)}class li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ot;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return li.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Ot;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Ot=Object.freeze({status:"aborted"}),E0=e=>({status:"dirty",value:e}),$i=e=>({status:"valid",value:e}),B5=e=>e.status==="aborted",U5=e=>e.status==="dirty",rp=e=>e.status==="valid",mw=e=>typeof Promise<"u"&&e instanceof Promise;var xt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xt||(xt={}));class Bu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const z5=(e,t)=>{if(rp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bc(e.common.issues);return this._error=r,this._error}}};function Vt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class ar{get description(){return this._def.description}_getType(t){return Vc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Vc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new li,ctx:{common:t.parent.common,data:t.data,parsedType:Vc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(mw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return z5(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return rp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>rp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Vc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(mw(a)?a:Promise.resolve(a));return z5(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:Ye.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sp({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Au.create(this,this._def)}nullable(){return ip.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dl.create(this)}promise(){return xw.create(this,this._def)}or(t){return gw.create([this,t],this._def)}and(t){return vw.create(this,t,this._def)}transform(t){return new sp({...Vt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cE({...Vt(this._def),innerType:this,defaultValue:r,typeName:Dt.ZodDefault})}brand(){return new aHe({typeName:Dt.ZodBranded,type:this,...Vt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new uE({...Vt(this._def),innerType:this,catchValue:r,typeName:Dt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return wO.create(this,t)}readonly(){return dE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const FWe=/^c[^\s-]{8,}$/i,IWe=/^[0-9a-z]+$/,LWe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$We=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BWe=/^[a-z0-9_-]{21}$/i,UWe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zWe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,VWe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,WWe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let P2;const HWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qWe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,GWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KWe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YWe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,XWe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QWe=new RegExp(`^${jY}$`);function SY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function ZWe(e){return new RegExp(`^${SY(e)}$`)}function JWe(e){let t=`${jY}T${SY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function eHe(e,t){return!!((t==="v4"||!t)&&HWe.test(e)||(t==="v6"||!t)&&GWe.test(e))}function tHe(e,t){if(!UWe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function rHe(e,t){return!!((t==="v4"||!t)&&qWe.test(e)||(t==="v6"||!t)&&KWe.test(e))}class mu extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ft.string){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ft.string,received:s.parsedType}),Ot}const n=new li;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?at(a,{code:Ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&at(a,{code:Ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")VWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"email",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")P2||(P2=new RegExp(WWe,"u")),P2.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"emoji",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")$We.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"uuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")BWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"nanoid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")FWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cuid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")IWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cuid2",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")LWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"ulid",code:Ye.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),at(a,{validation:"url",code:Ye.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"regex",code:Ye.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?JWe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?QWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?ZWe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?zWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"duration",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?eHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"ip",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?tHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"jwt",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?rHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"cidr",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?YWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"base64",code:Ye.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?XWe.test(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{validation:"base64url",code:Ye.invalid_string,message:s.message}),n.dirty()):sr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,...xt.errToObj(n)})}_addCheck(t){return new mu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...xt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...xt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...xt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...xt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...xt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...xt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...xt.errToObj(r)})}nonempty(t){return this.min(1,xt.errToObj(t))}trim(){return new mu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}mu.create=e=>new mu({checks:[],typeName:Dt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Vt(e)});function nHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class np extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ft.number){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ft.number,received:s.parsedType}),Ot}let n;const a=new li;for(const s of this._def.checks)s.kind==="int"?sr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?nHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_finite,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,a){return new np({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(a)}]})}_addCheck(t){return new np({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:xt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}np.create=e=>new np({checks:[],typeName:Dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Vt(e)});class Nv extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ft.bigint)return this._getInvalidInput(t);let n;const a=new li;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),at(n,{code:Ye.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):sr.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ye.invalid_type,expected:ft.bigint,received:r.parsedType}),Ot}gte(t,r){return this.setLimit("min",t,!0,xt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xt.toString(r))}setLimit(t,r,n,a){return new Nv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xt.toString(a)}]})}_addCheck(t){return new Nv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nv.create=e=>new Nv({checks:[],typeName:Dt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Vt(e)});class V5 extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ft.boolean){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.boolean,received:n.parsedType}),Ot}return $i(t.data)}}V5.create=e=>new V5({typeName:Dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Vt(e)});class pw extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ft.date){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_type,expected:ft.date,received:s.parsedType}),Ot}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return at(s,{code:Ye.invalid_date}),Ot}const n=new li;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):sr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pw({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:xt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:xt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pw.create=e=>new pw({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Dt.ZodDate,...Vt(e)});class W5 extends ar{_parse(t){if(this._getType(t)!==ft.symbol){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.symbol,received:n.parsedType}),Ot}return $i(t.data)}}W5.create=e=>new W5({typeName:Dt.ZodSymbol,...Vt(e)});class H5 extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.undefined,received:n.parsedType}),Ot}return $i(t.data)}}H5.create=e=>new H5({typeName:Dt.ZodUndefined,...Vt(e)});class q5 extends ar{_parse(t){if(this._getType(t)!==ft.null){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.null,received:n.parsedType}),Ot}return $i(t.data)}}q5.create=e=>new q5({typeName:Dt.ZodNull,...Vt(e)});class G5 extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return $i(t.data)}}G5.create=e=>new G5({typeName:Dt.ZodAny,...Vt(e)});class K5 extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return $i(t.data)}}K5.create=e=>new K5({typeName:Dt.ZodUnknown,...Vt(e)});class Uu extends ar{_parse(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ye.invalid_type,expected:ft.never,received:r.parsedType}),Ot}}Uu.create=e=>new Uu({typeName:Dt.ZodNever,...Vt(e)});class Y5 extends ar{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.void,received:n.parsedType}),Ot}return $i(t.data)}}Y5.create=e=>new Y5({typeName:Dt.ZodVoid,...Vt(e)});class dl extends ar{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ft.array)return at(r,{code:Ye.invalid_type,expected:ft.array,received:r.parsedType}),Ot;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(at(r,{code:o?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(at(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(at(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Bu(r,o,r.path,l)))).then(o=>li.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Bu(r,o,r.path,l)));return li.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new dl({...this._def,minLength:{value:t,message:xt.toString(r)}})}max(t,r){return new dl({...this._def,maxLength:{value:t,message:xt.toString(r)}})}length(t,r){return new dl({...this._def,exactLength:{value:t,message:xt.toString(r)}})}nonempty(t){return this.min(1,t)}}dl.create=(e,t)=>new dl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...Vt(t)});function sh(e){if(e instanceof Kr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Au.create(sh(n))}return new Kr({...e._def,shape:()=>t})}else return e instanceof dl?new dl({...e._def,type:sh(e.element)}):e instanceof Au?Au.create(sh(e.unwrap())):e instanceof ip?ip.create(sh(e.unwrap())):e instanceof bf?bf.create(e.items.map(t=>sh(t))):e}class Kr extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ft.object){const u=this._getOrReturnCtx(t);return at(u,{code:Ye.invalid_type,expected:ft.object,received:u.parsedType}),Ot}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Uu&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Bu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Uu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(at(a,{code:Ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Bu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>li.mergeObjectSync(n,u)):li.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return xt.errToObj,new Kr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:xt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Kr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Kr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Dt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Kr({...this._def,catchall:t})}pick(t){const r={};for(const n of sr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of sr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Kr({...this._def,shape:()=>r})}deepPartial(){return sh(this)}partial(t){const r={};for(const n of sr.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Kr({...this._def,shape:()=>r})}required(t){const r={};for(const n of sr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Au;)s=s._def.innerType;r[n]=s}return new Kr({...this._def,shape:()=>r})}keyof(){return NY(sr.objectKeys(this.shape))}}Kr.create=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strip",catchall:Uu.create(),typeName:Dt.ZodObject,...Vt(t)});Kr.strictCreate=(e,t)=>new Kr({shape:()=>e,unknownKeys:"strict",catchall:Uu.create(),typeName:Dt.ZodObject,...Vt(t)});Kr.lazycreate=(e,t)=>new Kr({shape:e,unknownKeys:"strip",catchall:Uu.create(),typeName:Dt.ZodObject,...Vt(t)});class gw extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new bc(l.ctx.common.issues));return at(r,{code:Ye.invalid_union,unionErrors:o}),Ot}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new bc(c));return at(r,{code:Ye.invalid_union,unionErrors:l}),Ot}}get options(){return this._def.options}}gw.create=(e,t)=>new gw({options:e,typeName:Dt.ZodUnion,...Vt(t)});function lE(e,t){const r=Vc(e),n=Vc(t);if(e===t)return{valid:!0,data:e};if(r===ft.object&&n===ft.object){const a=sr.objectKeys(t),s=sr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=lE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ft.array&&n===ft.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=lE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ft.date&&n===ft.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class vw extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(B5(s)||B5(o))return Ot;const l=lE(s.value,o.value);return l.valid?((U5(s)||U5(o))&&r.dirty(),{status:r.value,value:l.data}):(at(n,{code:Ye.invalid_intersection_types}),Ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vw.create=(e,t,r)=>new vw({left:e,right:t,typeName:Dt.ZodIntersection,...Vt(r)});class bf extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.array)return at(n,{code:Ye.invalid_type,expected:ft.array,received:n.parsedType}),Ot;if(n.data.length<this._def.items.length)return at(n,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&n.data.length>this._def.items.length&&(at(n,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>li.mergeArray(r,o)):li.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new bf({...this._def,rest:t})}}bf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bf({items:e,typeName:Dt.ZodTuple,rest:null,...Vt(t)})};class X5 extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.map)return at(n,{code:Ye.invalid_type,expected:ft.map,received:n.parsedType}),Ot;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Bu(n,l,n.path,[u,"key"])),value:s._parse(new Bu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ot;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}X5.create=(e,t,r)=>new X5({valueType:t,keyType:e,typeName:Dt.ZodMap,...Vt(r)});class kv extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.set)return at(n,{code:Ye.invalid_type,expected:ft.set,received:n.parsedType}),Ot;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(at(n,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(at(n,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ot;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Bu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new kv({...this._def,minSize:{value:t,message:xt.toString(r)}})}max(t,r){return new kv({...this._def,maxSize:{value:t,message:xt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}kv.create=(e,t)=>new kv({valueType:e,minSize:null,maxSize:null,typeName:Dt.ZodSet,...Vt(t)});class Q5 extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Q5.create=(e,t)=>new Q5({getter:e,typeName:Dt.ZodLazy,...Vt(t)});class Z5 extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return at(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:t.data}}get value(){return this._def.value}}Z5.create=(e,t)=>new Z5({value:e,typeName:Dt.ZodLiteral,...Vt(t)});function NY(e,t){return new ap({values:e,typeName:Dt.ZodEnum,...Vt(t)})}class ap extends ar{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{expected:sr.joinValues(n),received:r.parsedType,code:Ye.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return at(r,{received:r.data,code:Ye.invalid_enum_value,options:n}),Ot}return $i(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ap.create(t,{...this._def,...r})}exclude(t,r=this._def){return ap.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ap.create=NY;class J5 extends ar{_parse(t){const r=sr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const a=sr.objectValues(r);return at(n,{expected:sr.joinValues(a),received:n.parsedType,code:Ye.invalid_type}),Ot}if(this._cache||(this._cache=new Set(sr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=sr.objectValues(r);return at(n,{received:n.data,code:Ye.invalid_enum_value,options:a}),Ot}return $i(t.data)}get enum(){return this._def.values}}J5.create=(e,t)=>new J5({values:e,typeName:Dt.ZodNativeEnum,...Vt(t)});class xw extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.promise&&r.common.async===!1)return at(r,{code:Ye.invalid_type,expected:ft.promise,received:r.parsedType}),Ot;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return $i(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xw.create=(e,t)=>new xw({type:e,typeName:Dt.ZodPromise,...Vt(t)});class sp extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{at(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ot;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ot:c.status==="dirty"||r.value==="dirty"?E0(c.value):c});{if(r.value==="aborted")return Ot;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ot:l.status==="dirty"||r.value==="dirty"?E0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rp(o))return Ot;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>rp(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Ot);sr.assertNever(a)}}sp.create=(e,t,r)=>new sp({schema:e,typeName:Dt.ZodEffects,effect:t,...Vt(r)});sp.createWithPreprocess=(e,t,r)=>new sp({schema:t,effect:{type:"preprocess",transform:e},typeName:Dt.ZodEffects,...Vt(r)});class Au extends ar{_parse(t){return this._getType(t)===ft.undefined?$i(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Au.create=(e,t)=>new Au({innerType:e,typeName:Dt.ZodOptional,...Vt(t)});class ip extends ar{_parse(t){return this._getType(t)===ft.null?$i(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ip.create=(e,t)=>new ip({innerType:e,typeName:Dt.ZodNullable,...Vt(t)});class cE extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cE.create=(e,t)=>new cE({innerType:e,typeName:Dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Vt(t)});class uE extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mw(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}uE.create=(e,t)=>new uE({innerType:e,typeName:Dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Vt(t)});class e$ extends ar{_parse(t){if(this._getType(t)!==ft.nan){const n=this._getOrReturnCtx(t);return at(n,{code:Ye.invalid_type,expected:ft.nan,received:n.parsedType}),Ot}return{status:"valid",value:t.data}}}e$.create=e=>new e$({typeName:Dt.ZodNaN,...Vt(e)});class aHe extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wO extends ar{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ot:s.status==="dirty"?(r.dirty(),E0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ot:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new wO({in:t,out:r,typeName:Dt.ZodPipeline})}}class dE extends ar{_parse(t){const r=this._def.innerType._parse(t),n=a=>(rp(a)&&(a.value=Object.freeze(a.value)),a);return mw(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}dE.create=(e,t)=>new dE({innerType:e,typeName:Dt.ZodReadonly,...Vt(t)});Kr.lazycreate;var Dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const Ay=mu.create,sHe=np.create;Uu.create;dl.create;const iHe=Kr.create;Kr.strictCreate;gw.create;vw.create;bf.create;ap.create;xw.create;Au.create;ip.create;const oHe=uWe,kY=x.createContext({}),p0=({...e})=>i.jsx(kY.Provider,{value:{name:e.name},children:i.jsx(mWe,{...e})}),xj=()=>{const e=x.useContext(kY),t=x.useContext(CY),{getFieldState:r,formState:n}=vj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},CY=x.createContext({}),ih=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(CY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:be("space-y-2",e),...t})})});ih.displayName="FormItem";const oh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=xj();return i.jsx(Ke,{ref:r,className:be(n&&"text-destructive",e),htmlFor:a,...t})});oh.displayName="FormLabel";const lh=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=xj();return i.jsx(CB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});lh.displayName="FormControl";const lHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=xj();return i.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",e),...t})});lHe.displayName="FormDescription";const ch=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=xj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:be("text-sm font-medium text-destructive",e),...r,children:o}):null});ch.displayName="FormMessage";const cHe=iHe({request_title:Ay().min(1,"Title is required"),request_description:Ay().optional(),request_type:Ay().optional(),priority:sHe().optional(),status:Ay().optional()});function uHe({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Bt(),{user:s}=gr(),o=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=EWe({resolver:OWe(cHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return i.jsx(pl,{open:e,onOpenChange:t,children:i.jsxs(Co,{side:Xt()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(hc,{children:i.jsx(gl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(oHe,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[i.jsx(p0,{control:l.control,name:"request_title",render:({field:u})=>i.jsxs(ih,{children:[i.jsx(oh,{children:a("requests.title")}),i.jsx(lh,{children:i.jsx(Ve,{placeholder:a("requests.titlePlaceholder"),...u})}),i.jsx(ch,{})]})}),i.jsx(p0,{control:l.control,name:"request_description",render:({field:u})=>i.jsxs(ih,{children:[i.jsx(oh,{children:a("requests.description")}),i.jsx(lh,{children:i.jsx(ta,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),i.jsx(ch,{})]})}),o&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(p0,{control:l.control,name:"request_type",render:({field:u})=>i.jsxs(ih,{children:[i.jsx(oh,{children:a("requests.type")}),i.jsxs(yt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(lh,{children:i.jsx(mt,{children:i.jsx(bt,{placeholder:"Select type"})})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(Te,{value:"support",children:a("requests.types.support")}),i.jsx(Te,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(ch,{})]})}),i.jsx(p0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return i.jsxs(ih,{children:[i.jsx(oh,{children:a("requests.priority")}),i.jsxs(yt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[i.jsx(lh,{children:i.jsx(mt,{children:i.jsx(bt,{placeholder:"Select priority"})})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"0",children:a("requests.priorities.low")}),i.jsx(Te,{value:"1",children:a("requests.priorities.medium")}),i.jsx(Te,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(ch,{})]})}})]}),i.jsx(p0,{control:l.control,name:"status",render:({field:u})=>i.jsxs(ih,{children:[i.jsx(oh,{children:a("requests.status")}),i.jsxs(yt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(lh,{children:i.jsx(mt,{children:i.jsx(bt,{placeholder:"Select status"})})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"pending",children:a("status.pending")}),i.jsx(Te,{value:"in_progress",children:a("status.in_progress")}),i.jsx(Te,{value:"completed",children:a("status.completed")}),i.jsx(Te,{value:"approved",children:a("status.approved")}),i.jsx(Te,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(ch,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(ue,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function dHe(){const{t:e}=Bt(),{toast:t}=jl(),{user:r}=gr();Jr();const[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState([]),[y,b]=x.useState("all"),[w,_]=x.useState("all"),[j,N]=x.useState(1),S=10,k=async()=>{try{o(!0);const X=await f0.getRequests();a(X)}catch(X){console.error("Failed to fetch requests:",X),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};x.useEffect(()=>{k()},[]);const C=()=>{h(null),d(!0)},E=X=>{h(X),d(!0)},P=async()=>{if(m)try{await f0.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(X){console.error("Failed to delete request:",X),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},T=async X=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await f0.updateRequest(f.request_id,X),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await f0.createRequest({...X,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(D){console.error("Failed to save request:",D),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},V=n.filter(X=>{var W;const D=X.request_title.toLowerCase().includes(l.toLowerCase()),R=y==="all"||X.status===y,M=w==="all"||((W=X.priority)==null?void 0:W.toString())===w;return D&&R&&M}),G=Math.ceil(V.length/S),B=(j-1)*S,I=B+S,z=V.slice(B,I),L=X=>{switch(X){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},F=X=>{switch(X){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},Y=X=>{switch(X){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Xt()?"rtl":"ltr",children:[i.jsx(hx,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(ps,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(ue,{onClick:C,children:[i.jsx(Zt,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Ve,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:X=>c(X.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(yt,{value:w,onValueChange:_,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:e("requests.priority")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("common.all")}),i.jsx(Te,{value:"0",children:e("requests.priorities.low")}),i.jsx(Te,{value:"1",children:e("requests.priorities.medium")}),i.jsx(Te,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(yt,{value:y,onValueChange:b,children:[i.jsx(mt,{className:"w-[130px] h-9",children:i.jsx(bt,{placeholder:e("requests.status")})}),i.jsxs(pt,{children:[i.jsx(Te,{value:"all",children:e("common.all")}),i.jsx(Te,{value:"pending",children:e("status.pending")}),i.jsx(Te,{value:"approved",children:e("status.approved")}),i.jsx(Te,{value:"rejected",children:e("status.rejected")}),i.jsx(Te,{value:"in_progress",children:e("status.in_progress")}),i.jsx(Te,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const X=[{key:"title",header:e("requests.requestTitle"),render:M=>{var W;return i.jsx(xc,{title:M.request_title,subtitle:(W=M.request_type)==null?void 0:W.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:M=>i.jsx(ut,{variant:"outline",className:F(M.priority),children:Y(M.priority)})},{key:"status",header:e("requests.status"),render:M=>i.jsx(ut,{variant:"secondary",className:`capitalize ${L(M.status)}`,children:M.status?e(`status.${M.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:M=>i.jsx(Af,{date:M.created_at})}],D=[{icon:i.jsx(KN,{}),label:e("common.edit"),onClick:E},{icon:i.jsx(hr,{}),label:e("common.delete"),onClick:M=>p(M.request_id),variant:"destructive"}],R=[{label:e("buttons.delete"),icon:i.jsx(hr,{className:"h-4 w-4"}),onClick:async M=>{try{await Promise.all(M.map(W=>f0.deleteRequest(W))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),a(W=>W.filter(J=>!M.includes(J.request_id))),v([])}catch(W){console.error("Failed to bulk delete requests:",W),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(vc,{data:z,columns:X,actions:D,bulkActions:R,keyExtractor:M=>M.request_id,onRowClick:E,enableBulkSelect:!0,selectedItems:g,onSelectionChange:v,loading:s,rtl:Xt()})})(),i.jsx(uHe,{open:u,onOpenChange:d,onSubmit:T,initialData:f}),i.jsx(ii,{open:!!m,onOpenChange:X=>!X&&p(null),children:i.jsxs(Es,{children:[i.jsxs(Ts,{children:[i.jsx(Ps,{children:e("common.confirmDelete")}),i.jsx(Os,{children:e("requests.deleteConfirmation")})]}),i.jsxs(As,{children:[i.jsx(Rs,{children:e("common.cancel")}),i.jsx(Ds,{className:"bg-red-500 hover:bg-red-600",onClick:P,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:G>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Zm,{children:i.jsxs(Jm,{children:[i.jsx(Sa,{children:i.jsx(uu,{onClick:()=>N(Math.max(1,j-1)),className:j===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Sa,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",j," ",e("common.of")," ",G]})}),i.jsx(Sa,{children:i.jsx(du,{onClick:()=>N(Math.min(G,j+1)),className:j===G?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}const t$="9",r$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function fHe(){Bt();const{toast:e}=jl();Jr();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState(""),[m,p]=x.useState(null),[g,v]=x.useState(!0),[y,b]=x.useState(!1),[w,_]=x.useState(null),[j,N]=x.useState(!1),S=x.useRef(null),k=x.useCallback(async(R,M={})=>{const W=`https://api.middar.com/api/v1/plugins/${t$}`;console.log(`Calling plugin API: ${W}`,{action:R,data:M});try{const re=await(await fetch(W,{method:"POST",headers:{Authorization:`Bearer ${r$}`,"Content-Type":"application/json"},body:JSON.stringify({action:R,...M})})).json();return console.log("Plugin API response:",re),re}catch(J){return console.error("Plugin API error:",J),{success:!1,message:J.message}}},[t$,r$]);x.useEffect(()=>{const R=localStorage.getItem("whatsapp_sessions");if(R)try{const M=JSON.parse(R);console.log("Loading sessions from localStorage:",M),r(M);const W=M.find(J=>J.is_primary);a(W||null),(W==null?void 0:W.state)==="connected"&&T()}catch(M){console.error("Failed to load sessions from localStorage:",M)}},[]),x.useEffect(()=>{setTimeout(async()=>{await P(),await C()},100)},[]),x.useEffect(()=>{let R;return(n==null?void 0:n.state)==="connected"&&(T(),R=window.setInterval(()=>{T()},1e4)),()=>{R&&window.clearInterval(R)}},[n]);const C=async()=>{try{const R=await k("enable_crm");console.log("Global CRM enable result:",R);for(const M of t){const W=await k("enable_crm",{session_id:M.session_id});console.log(`CRM enable result for session ${M.session_id}:`,W)}R.success&&(console.log("CRM enabled successfully"),e({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(R){console.error("Failed to enable CRM:",R),e({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}},E=(R,M)=>{r(J=>J.map(re=>re.session_id===R?{...re,state:M}:re));const W=localStorage.getItem("whatsapp_sessions");if(W)try{const re=JSON.parse(W).map(xe=>xe.session_id===R?{...xe,state:M}:xe);localStorage.setItem("whatsapp_sessions",JSON.stringify(re))}catch(J){console.error("Failed to update localStorage session state:",J)}};x.useEffect(()=>{t.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(t))},[t]);const P=async()=>{console.log("Loading sessions...");const R=await k("list_sessions");if(console.log("Sessions result:",R),R.success){const M=R.data||[];console.log("Sessions array from API:",M),console.log("Sessions length from API:",M.length);const W=localStorage.getItem("whatsapp_sessions");let J=[];if(W)try{J=JSON.parse(W)}catch(fe){console.error("Failed to parse saved sessions:",fe)}const re=[...M];J.forEach(fe=>{re.find(A=>A.session_id===fe.session_id)||re.push(fe)}),console.log("Merged sessions:",re),r(re);const xe=re.find(fe=>fe.is_primary),se=re[0]||null;a(xe||se);const Q=xe||se;(Q==null?void 0:Q.state)==="connected"&&T()}else e({variant:"destructive",title:"Error",description:R.message||"Failed to load sessions"})};x.useEffect(()=>{let R;return l&&(V(l.id),R=window.setInterval(()=>V(l.id),3e3)),()=>{R&&window.clearInterval(R)}},[l]);const T=async()=>{if(n)try{const R=await k("get_conversations",{limit:50,offset:0});R.success?(o(R.data||[]),g&&v(!1)):e({variant:"destructive",title:"Error",description:R.message||"Failed to load conversations"})}catch(R){console.error(R),g&&v(!1)}},V=async R=>{if(n)try{const M=await k("get_conversation_messages",{conversation_id:R,limit:50,offset:0});M.success&&(d(M.data||[]),setTimeout(()=>X(),100))}catch(M){console.error(M)}},G=async R=>{_(R);const M=await k("connect_session",{session_id:R});return console.log("Connect session result:",M),M.success?M.needs_qr&&M.qr_code?(p(M.qr_code),B(R)):M.message==="already connected"?await P():B(R):e({variant:"destructive",title:"Connection failed",description:M.message||"Failed to connect session"}),_(null),M},B=async(R,M=40)=>{for(let W=0;W<M;W++){const J=await k("get_status",{session_id:R});if(console.log(`Status check ${W+1}:`,J),J.success&&J.data){const re=J.data.state||J.data.status;if(console.log("Session state:",re),re==="connected"){p(null),E(R,"connected"),await P();return}else if(re==="pending_qr"&&J.data.qr_code){p(J.data.qr_code),E(R,"pending_qr");return}else if(re==="pending_qr")console.log("Still waiting for QR code..."),E(R,"pending_qr");else if(re==="active"||re==="working"){p(null),E(R,"connected"),await P();return}else if(re==="inactive"){console.log("Session inactive, attempting to connect..."),E(R,"inactive");return}else if(re==="error"){console.log("Session error, stopping polling"),p(null),E(R,"error"),e({variant:"destructive",title:"Connection Error",description:J.data.error_message||"Session encountered an error"});return}}await new Promise(re=>setTimeout(re,3e3))}e({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},I=async R=>{var M,W,J,re,xe,se,Q;console.log("Creating session:",R);try{const fe=await k("create_session",{display_name:R,is_primary:!1});if(console.log("Create session result:",fe),fe.success){const A={session_id:((M=fe.data)==null?void 0:M.session_id)||Date.now(),display_name:((W=fe.data)==null?void 0:W.display_name)||R,state:((J=fe.data)==null?void 0:J.state)||"inactive",is_primary:((re=fe.data)==null?void 0:re.is_primary)||!1,created_at:((xe=fe.data)==null?void 0:xe.created_at)||new Date().toISOString(),last_activity:((se=fe.data)==null?void 0:se.last_activity)||Date.now(),jid:((Q=fe.data)==null?void 0:Q.jid)||""};console.log("Adding session to state:",A),r(Me=>[...Me,A]);const Be=localStorage.getItem("whatsapp_sessions");if(Be)try{const Le=[...JSON.parse(Be),A];localStorage.setItem("whatsapp_sessions",JSON.stringify(Le)),console.log("Saved to localStorage")}catch(Me){console.error("Failed to save to localStorage:",Me)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([A]));e({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${fe.message}. Create local session anyway?`)){const A={session_id:Date.now(),display_name:R,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:Date.now(),jid:""};r(Me=>[...Me,A]);const Be=localStorage.getItem("whatsapp_sessions");if(Be)try{const Le=[...JSON.parse(Be),A];localStorage.setItem("whatsapp_sessions",JSON.stringify(Le))}catch(Me){console.error("Failed to save to localStorage:",Me)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([A]));e({title:"Local Session Created",description:"Session created locally (API failed)"})}else e({variant:"destructive",title:"Creation failed",description:fe.message||"Failed to create session"})}catch(fe){console.error("Create session error:",fe),e({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},z=async R=>{const M=await k("pause_session",{session_id:R});M.success?await P():e({variant:"destructive",title:"Pause failed",description:M.message||"Failed to pause session"})},L=async R=>{const M=await k("resume_session",{session_id:R});M.success?await P():e({variant:"destructive",title:"Resume failed",description:M.message||"Failed to resume session"})},F=async R=>{const M=await k("disconnect_session",{session_id:R});M.success?(await P(),e({title:"Session Disconnected",description:"Session disconnected successfully"})):e({variant:"destructive",title:"Disconnect failed",description:M.message||"Failed to disconnect session"})},Y=async R=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",R);try{const M=await k("delete_session",{session_id:R});if(console.log("Delete result:",M),M.success){const W=localStorage.getItem("whatsapp_sessions");if(W)try{const re=JSON.parse(W).filter(xe=>xe.session_id!==R);localStorage.setItem("whatsapp_sessions",JSON.stringify(re)),console.log("Removed session from localStorage")}catch(J){console.error("Failed to update localStorage:",J)}r(J=>J.filter(re=>re.session_id!==R)),e({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${M.message}. Remove from local list anyway?`)){const W=localStorage.getItem("whatsapp_sessions");if(W)try{const re=JSON.parse(W).filter(xe=>xe.session_id!==R);localStorage.setItem("whatsapp_sessions",JSON.stringify(re))}catch(J){console.error("Failed to update localStorage:",J)}r(J=>J.filter(re=>re.session_id!==R)),e({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else e({variant:"destructive",title:"Delete failed",description:M.message||"Failed to delete session"})}catch(M){console.error("Delete session error:",M),e({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},X=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},D=async R=>{if(R==null||R.preventDefault(),!(!f.trim()||!l||!n)){b(!0);try{const M=await k("send_text",{phone:l.phone,message:f,session_id:n.session_id});if(M.success)h(""),setTimeout(()=>V(l.id),500);else throw new Error(M.message||"Failed to send message")}catch(M){e({variant:"destructive",title:"Error sending message",description:(M==null?void 0:M.message)||"Unknown error"})}finally{b(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Xt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Gl,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>N(!j),className:"flex items-center gap-2",children:[i.jsx(kT,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(ue,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(mR,{className:"h-4 w-4"})}),n&&i.jsx(i.Fragment,{children:n.state==="connected"?i.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>F(n.session_id),className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(ue,{variant:"default",size:"sm",onClick:()=>G(n.session_id),disabled:w===n.session_id,className:"flex items-center gap-2",children:[i.jsx(Gl,{className:"h-4 w-4"}),w===n.session_id?"Connecting...":"Connect"]})})]})]}),n&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n.state==="connected"?"bg-green-500":n.state==="pending_qr"?"bg-yellow-500":n.state==="connecting"?"bg-blue-500":n.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:n.display_name}),n.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n.state==="connected"?" Connected":n.state==="pending_qr"?" Waiting QR":n.state==="connecting"?" Connecting":n.state==="paused"?" Paused":n.state==="disconnected"?" Disconnected":" Inactive"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Fs,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(Ve,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(Ga,{className:"flex-1",children:j?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(ue,{variant:"outline",size:"sm",onClick:P,className:"flex items-center gap-2",children:[i.jsx(mR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(ue,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",t),console.log("Active session:",n);const R=n||t[0];if(R){console.log("Checking status for session:",R.session_id);const M=await k("get_status",{session_id:R.session_id});if(console.log("Manual status check:",M),M.success&&M.data){const W=M.data.state||M.data.status;console.log("Current session status:",W),E(R.session_id,W),e({title:"Status Updated",description:`Session status: ${W}`})}else e({variant:"destructive",title:"Status Check Failed",description:M.message||"Failed to check status"})}else e({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(ue,{variant:"outline",size:"sm",onClick:C,children:"Enable CRM"}),i.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),r([]),a(null),e({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>I("New Session"),className:"flex items-center gap-2",children:[i.jsx(Zt,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[t.map(R=>i.jsxs("div",{className:`p-3 border rounded-lg ${R.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${R.state==="connected"?"bg-green-500":R.state==="pending_qr"?"bg-yellow-500":R.state==="connecting"?"bg-blue-500":R.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:R.display_name}),R.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:R.state==="connected"?"":R.state==="pending_qr"?"":R.state==="connecting"?"":R.state==="paused"?"":R.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{size:"sm",variant:"outline",onClick:()=>G(R.session_id),disabled:R.state!=="inactive"&&R.state!=="disconnected"||w===R.session_id,children:w===R.session_id?"Connecting...":"Connect"}),R.state==="connected"&&i.jsx(ue,{size:"sm",variant:"outline",onClick:()=>z(R.session_id),children:i.jsx(bae,{className:"h-3 w-3"})}),R.state==="paused"&&i.jsx(ue,{size:"sm",variant:"outline",onClick:()=>L(R.session_id),children:i.jsx(wae,{className:"h-3 w-3"})}),i.jsx(ue,{size:"sm",variant:"outline",onClick:()=>Y(R.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(hr,{className:"h-3 w-3"})})]})]},`session-${R.session_id}-${R.state}`)),t.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(R=>i.jsxs("button",{onClick:()=>c(R),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(l==null?void 0:l.id)===R.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(ks,{children:i.jsx(Cs,{className:"bg-green-100 text-green-700",children:i.jsx(An,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:R.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:R.last_message_at&&ts(new Date(R.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},R.id)),s.length===0&&!g&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:n?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ks,{className:"h-10 w-10",children:i.jsx(Cs,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:l.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:S,dir:"ltr",children:u.map(R=>{const M=R.direction==="outbound"||R.direction==="outgoing";return i.jsx("div",{className:`flex ${M?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${M?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[R.message&&i.jsx("p",{className:"text-sm",children:R.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${M?"text-green-100":"text-muted-foreground"}`,children:R.created_at?ts(new Date(R.created_at),"HH:mm"):""})]})},R.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:D,className:"flex gap-2",children:[i.jsx(Ve,{value:f,onChange:R=>h(R.target.value),placeholder:"Type a message...",className:"flex-1",disabled:y}),i.jsx(ue,{type:"submit",size:"icon",disabled:y||!f.trim(),children:i.jsx(Lv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Gl,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:n?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(_ae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),i.jsx(ue,{variant:"outline",size:"sm",onClick:async()=>{var M;const R=await k("get_status",{session_id:sessionId});R.success&&((M=R.data)!=null&&M.qr_code)&&p(R.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:m.startsWith("data:image/png;base64,")?m:`data:image/png;base64,${m}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function hHe(){const{t:e}=Bt(),{isRTL:t}=Da(),r=Jr(),{setBreadcrumbs:n}=Iv(),{toast:a}=jl(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const E=await K.permissions.list({sort:"ASC"});o(E.data||[]),d(null)}catch(E){d(E.message||"Failed to load permissions")}finally{c(!1)}},_=E=>{h(E),b({...E}),v(!0),p(!0)},j=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),p(!0)},N=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await K.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await K.permissions.create(y),a({title:"Success",description:"Permission created"})),p(!1),w()}catch(E){a({title:"Error",description:E.message,variant:"destructive"})}},S=[{key:"permissions_Name",header:"Role Name",render:E=>i.jsx(xc,{title:E.permissions_Name||"Unnamed Role",icon:i.jsx(M1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:E=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",E.permissions_ID]}),align:"left"}],k=[{icon:i.jsx(Oi,{}),label:"Edit",onClick:E=>_(E)}],C=()=>{const E=Object.keys(y).filter(P=>P!=="permissions_ID"&&P!=="permissions_Name"&&P!=="created_at"&&P!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:E.map(P=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(Kb,{id:P,checked:!!y[P],onCheckedChange:T=>{b(V=>({...V,[P]:T?1:0}))}}),i.jsx(Ke,{htmlFor:P,className:"cursor-pointer flex-1 capitalize",children:P.replace(/_/g," ")})]},P))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(sa,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Dp,{message:u,onRetry:w}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(ue,{onClick:j,children:[i.jsx(Zt,{className:be("h-4 w-4",t?"ml-2":"mr-2")})," Add Role"]})]}),i.jsx(vc,{data:s,columns:S,actions:k,keyExtractor:E=>E.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(pl,{open:m,onOpenChange:p,children:i.jsxs(Co,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(hc,{children:[i.jsx(gl,{children:f?"Edit Role":"New Role"}),i.jsx(of,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ke,{htmlFor:"roleName",children:"Role Name"}),i.jsx(Ve,{id:"roleName",value:y.permissions_Name||"",onChange:E=>b(P=>({...P,permissions_Name:E.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(y).filter(E=>E!=="permissions_ID"&&E!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),i.jsx(ue,{onClick:N,children:"Save Changes"})]})]})})]})}const gi={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Bo={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},Py={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Wc({size:e="md",variant:t="default",className:r,color:n="primary"}){const a=be(gi[e],Bo[n],r);switch(t){case"dots":return i.jsxs("div",{className:be("flex space-x-1",r),children:[i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n]),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n],"animation-delay-100"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n],"animation-delay-200"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return i.jsxs("div",{className:be("relative",gi[e],r),children:[i.jsx("div",{className:be("h-full w-full rounded-full border-2 border-current opacity-20")}),i.jsx("div",{className:be("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return i.jsxs("div",{className:be("flex space-x-1",r),children:[i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n]),children:i.jsx(Sae,{className:"h-full w-full"})}),i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n],"animation-delay-100"),children:i.jsx(bB,{className:"h-full w-full"})}),i.jsx("div",{className:be("animate-bounce",gi[e],Bo[n],"animation-delay-200"),children:i.jsx(Tg,{className:"h-full w-full animate-spin"})})]});case"rotate":return i.jsx("div",{className:be("relative",gi[e],r),children:i.jsx(Tg,{className:be("h-full w-full animate-spin",Bo[n])})});case"rings":return i.jsxs("div",{className:be("relative",gi[e],r),children:[i.jsx("div",{className:be("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),i.jsx("div",{className:be("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),i.jsx("div",{className:be("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return i.jsx("div",{className:be("flex items-end space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:be("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Bo[n],s===0&&"animation-delay-0",s===1&&"animation-delay-100",s===2&&"animation-delay-200",s===3&&"animation-delay-300",s===4&&"animation-delay-400"),style:{animationDelay:`${s*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},s))});case"wave":return i.jsx("div",{className:be("flex space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:be("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Bo[n]),style:{animationDelay:`${s*100}ms`}},s))});case"orbit":return i.jsxs("div",{className:be("relative",gi[e],r),children:[i.jsxs("div",{className:be("absolute inset-0 h-full w-full animate-spin"),children:[i.jsx("div",{className:be("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",Py[n])}),i.jsx("div",{className:be("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",Py[n])}),i.jsx("div",{className:be("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",Py[n])}),i.jsx("div",{className:be("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",Py[n])})]}),i.jsx("div",{className:be("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return i.jsx("div",{className:be("relative",gi[e],r),children:i.jsx("div",{className:be("h-full w-full bg-current rounded-full animate-morph")})});default:return i.jsx(Uw,{className:be("animate-spin",a)})}}function n$({message:e="Loading...",size:t="lg",variant:r="default",showProgress:n=!1,progress:a=0,className:s}){return i.jsxs("div",{className:be("flex flex-col items-center justify-center py-8 space-y-4",s),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wc,{size:t,variant:r}),n&&i.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]}),e&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function mHe({message:e="Loading...",fullScreen:t=!1,variant:r="bounce",className:n}){const a=i.jsxs("div",{className:be("flex flex-col items-center justify-center space-y-6",t?"min-h-screen":"py-16",n),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wc,{size:"xl",variant:r}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return t?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:a}):a}function pHe(){const[e,t]=x.useState(!1),[r,n]=x.useState(0),a=()=>{n(0),t(!0);const c=setInterval(()=>{n(u=>u>=100?(clearInterval(c),setTimeout(()=>t(!1),500),100):u+10)},200)},s=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],l=["primary","secondary","success","warning","destructive"];return i.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),i.jsx(ue,{onClick:a,className:"mt-4",children:"Show Page Loader with Progress"})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:"Spinner Variants"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:s.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Wc,{variant:c,size:"lg"})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:"Spinner Sizes"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Wc,{variant:"bounce",size:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:"Spinner Colors"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:l.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Wc,{variant:"default",size:"lg",color:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:"Loading Spinner with Messages"})}),i.jsx(dt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),i.jsx(n$,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"With Progress"}),i.jsx(n$,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),i.jsxs(st,{children:[i.jsx(zt,{children:i.jsx(lr,{children:"Combined Examples"})}),i.jsx(dt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Wc,{variant:"bounce",size:"xl",color:"success"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Wc,{variant:"rotate",size:"xl",color:"warning"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Wc,{variant:"dots",size:"xl",color:"destructive"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&i.jsx(mHe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const gHe=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),vHe=()=>{const{user:e}=gr();return(e==null?void 0:e.role)==="client"?i.jsx(j5e,{}):i.jsx(GIe,{})},a$=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function xHe(){return i.jsx(pre,{children:i.jsx(mB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Nse,{children:i.jsx(Lne,{children:i.jsx(Fne,{children:i.jsx($ne,{children:i.jsx(yHe,{})})})})})})})}function yHe(){const{isRTL:e}=Da(),t=_l(),{t:r}=Bt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(lre,{children:[i.jsx(_r,{path:"/login",element:i.jsx(a$,{children:i.jsx(jse,{})})}),i.jsx(_r,{path:"/signup",element:i.jsx(a$,{children:i.jsx(Sse,{})})}),i.jsx(_r,{path:"/unauthorized",element:i.jsx(gHe,{})}),i.jsx(_r,{path:"/auth/callback",element:i.jsx(k5e,{})}),i.jsx(_r,{path:"/",element:i.jsx(N5e,{})}),i.jsxs(_r,{element:i.jsx(Zx,{children:i.jsx(dk,{children:i.jsx(ZD,{})})}),children:[i.jsx(_r,{path:"/dashboard",element:i.jsx(lMe,{})}),i.jsx(_r,{path:"/leads",element:i.jsx(nIe,{})}),i.jsx(_r,{path:"/projects",element:i.jsx(wIe,{})}),i.jsx(_r,{path:"/tasks",element:i.jsx(lIe,{})}),i.jsx(_r,{path:"/tickets",element:i.jsx(dIe,{})}),i.jsx(_r,{path:"/users",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(FIe,{})})}),i.jsx(_r,{path:"/teams",element:i.jsx(IIe,{})}),i.jsx(_r,{path:"/chats",element:i.jsx(vHe,{})}),i.jsx(_r,{path:"/all-chats",element:i.jsx(_5e,{})}),i.jsx(_r,{path:"/whatsapp",element:i.jsx(fHe,{})}),i.jsx(_r,{path:"/requests",element:i.jsx(dHe,{})}),i.jsx(_r,{path:"/client-portal",element:i.jsx(S5e,{})}),i.jsx(_r,{path:"/surveys",element:i.jsx(AVe,{})}),i.jsx(_r,{path:"/mleads",element:i.jsx(iWe,{})}),i.jsx(_r,{path:"/mprojects",element:i.jsx(oWe,{})}),i.jsx(_r,{path:"/permissions",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(hHe,{})})}),i.jsx(_r,{path:"/settings",element:i.jsx(Zx,{denyPermissionIds:[3,4,5,6],children:i.jsx(PVe,{})})}),i.jsx(_r,{path:"/spinner-demo",element:i.jsx(pHe,{})})]}),i.jsx(_r,{element:i.jsx(dk,{children:i.jsx(ZD,{})})}),i.jsx(_r,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const bHe=new cJ({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});k6(document.getElementById("root")).render(i.jsx(vee,{i18n:Vr,children:i.jsx(mJ,{client:bHe,children:i.jsx(mB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(xHe,{})})})}));
