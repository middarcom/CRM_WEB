var zX=Object.defineProperty;var T4=e=>{throw TypeError(e)};var VX=(e,t,r)=>t in e?zX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var e0=(e,t,r)=>VX(e,typeof t!="symbol"?t+"":t,r),sS=(e,t,r)=>t.has(e)||T4("Cannot "+r);var he=(e,t,r)=>(sS(e,t,"read from private field"),r?r.call(e):t.get(e)),St=(e,t,r)=>t.has(e)?T4("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ot=(e,t,r,n)=>(sS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Wt=(e,t,r)=>(sS(e,t,"access private method"),r);var Vx=(e,t,r,n)=>({set _(a){ot(e,t,a,r)},get _(){return he(e,t,n)}});function WX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R$={exports:{}},M_={},M$={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=Symbol.for("react.element"),HX=Symbol.for("react.portal"),qX=Symbol.for("react.fragment"),KX=Symbol.for("react.strict_mode"),GX=Symbol.for("react.profiler"),YX=Symbol.for("react.provider"),XX=Symbol.for("react.context"),JX=Symbol.for("react.forward_ref"),QX=Symbol.for("react.suspense"),ZX=Symbol.for("react.memo"),eJ=Symbol.for("react.lazy"),A4=Symbol.iterator;function tJ(e){return e===null||typeof e!="object"?null:(e=A4&&e[A4]||e["@@iterator"],typeof e=="function"?e:null)}var F$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I$=Object.assign,L$={};function xp(e,t,r){this.props=e,this.context=t,this.refs=L$,this.updater=r||F$}xp.prototype.isReactComponent={};xp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $$(){}$$.prototype=xp.prototype;function ME(e,t,r){this.props=e,this.context=t,this.refs=L$,this.updater=r||F$}var FE=ME.prototype=new $$;FE.constructor=ME;I$(FE,xp.prototype);FE.isPureReactComponent=!0;var P4=Array.isArray,B$=Object.prototype.hasOwnProperty,IE={current:null},U$={key:!0,ref:!0,__self:!0,__source:!0};function z$(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)B$.call(t,n)&&!U$.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Wv,type:e,key:s,ref:o,props:a,_owner:IE.current}}function rJ(e,t){return{$$typeof:Wv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function LE(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wv}function nJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var O4=/\/+/g;function iS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nJ(""+e.key):t.toString(36)}function Ky(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wv:case HX:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+iS(o,0):n,P4(a)?(r="",e!=null&&(r=e.replace(O4,"$&/")+"/"),Ky(a,t,r,"",function(u){return u})):a!=null&&(LE(a)&&(a=rJ(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(O4,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",P4(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+iS(s,l);o+=Ky(s,t,r,c,a)}else if(c=tJ(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+iS(s,l++),o+=Ky(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hx(e,t,r){if(e==null)return e;var n=[],a=0;return Ky(e,n,"","",function(s){return t.call(r,s,a++)}),n}function aJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cs={current:null},Gy={transition:null},sJ={ReactCurrentDispatcher:cs,ReactCurrentBatchConfig:Gy,ReactCurrentOwner:IE};function V$(){throw Error("act(...) is not supported in production builds of React.")}qt.Children={map:Hx,forEach:function(e,t,r){Hx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hx(e,function(){t++}),t},toArray:function(e){return Hx(e,function(t){return t})||[]},only:function(e){if(!LE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=xp;qt.Fragment=qX;qt.Profiler=GX;qt.PureComponent=ME;qt.StrictMode=KX;qt.Suspense=QX;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sJ;qt.act=V$;qt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=I$({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=IE.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)B$.call(t,c)&&!U$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Wv,type:e.type,key:a,ref:s,props:n,_owner:o}};qt.createContext=function(e){return e={$$typeof:XX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YX,_context:e},e.Consumer=e};qt.createElement=z$;qt.createFactory=function(e){var t=z$.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:JX,render:e}};qt.isValidElement=LE;qt.lazy=function(e){return{$$typeof:eJ,_payload:{_status:-1,_result:e},_init:aJ}};qt.memo=function(e,t){return{$$typeof:ZX,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=Gy.transition;Gy.transition={};try{e()}finally{Gy.transition=t}};qt.unstable_act=V$;qt.useCallback=function(e,t){return cs.current.useCallback(e,t)};qt.useContext=function(e){return cs.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return cs.current.useDeferredValue(e)};qt.useEffect=function(e,t){return cs.current.useEffect(e,t)};qt.useId=function(){return cs.current.useId()};qt.useImperativeHandle=function(e,t,r){return cs.current.useImperativeHandle(e,t,r)};qt.useInsertionEffect=function(e,t){return cs.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return cs.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return cs.current.useMemo(e,t)};qt.useReducer=function(e,t,r){return cs.current.useReducer(e,t,r)};qt.useRef=function(e){return cs.current.useRef(e)};qt.useState=function(e){return cs.current.useState(e)};qt.useSyncExternalStore=function(e,t,r){return cs.current.useSyncExternalStore(e,t,r)};qt.useTransition=function(){return cs.current.useTransition()};qt.version="18.3.1";M$.exports=qt;var x=M$.exports;const ie=vr(x),$E=WX({__proto__:null,default:ie},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iJ=x,oJ=Symbol.for("react.element"),lJ=Symbol.for("react.fragment"),cJ=Object.prototype.hasOwnProperty,uJ=iJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dJ={key:!0,ref:!0,__self:!0,__source:!0};function W$(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)cJ.call(t,n)&&!dJ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:oJ,type:e,key:s,ref:o,props:a,_owner:uJ.current}}M_.Fragment=lJ;M_.jsx=W$;M_.jsxs=W$;R$.exports=M_;var i=R$.exports,H$={exports:{}},hi={},q$={exports:{}},K$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,F){var X=I.length;I.push(F);e:for(;0<X;){var J=X-1>>>1,O=I[J];if(0<a(O,F))I[J]=F,I[X]=O,X=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var F=I[0],X=I.pop();if(X!==F){I[0]=X;e:for(var J=0,O=I.length,G=O>>>1;J<G;){var V=2*(J+1)-1,K=I[V],re=V+1,ue=I[re];if(0>a(K,X))re<O&&0>a(ue,K)?(I[J]=ue,I[re]=X,J=re):(I[J]=K,I[V]=X,J=V);else if(re<O&&0>a(ue,X))I[J]=ue,I[re]=X,J=re;else break e}}return F}function a(I,F){var X=I.sortIndex-F.sortIndex;return X!==0?X:I.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=I)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function w(I){if(g=!1,_(I),!p)if(r(c)!==null)p=!0,M(j);else{var F=r(u);F!==null&&L(w,F.startTime-I)}}function j(I,F){p=!1,g&&(g=!1,y(k),k=-1),m=!0;var X=h;try{for(_(F),f=r(c);f!==null&&(!(f.expirationTime>F)||I&&!P());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var O=J(f.expirationTime<=F);F=e.unstable_now(),typeof O=="function"?f.callback=O:f===r(c)&&n(c),_(F)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var V=r(u);V!==null&&L(w,V.startTime-F),G=!1}return G}finally{f=null,h=X,m=!1}}var N=!1,S=null,k=-1,C=5,A=-1;function P(){return!(e.unstable_now()-A<C)}function T(){if(S!==null){var I=e.unstable_now();A=I;var F=!0;try{F=S(!0,I)}finally{F?U():(N=!1,S=null)}}else N=!1}var U;if(typeof b=="function")U=function(){b(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=T,U=function(){D.postMessage(null)}}else U=function(){v(T,0)};function M(I){S=I,N||(N=!0,U())}function L(I,F){k=v(function(){I(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,M(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var X=h;h=F;try{return I()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,F){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var X=h;h=I;try{return F()}finally{h=X}},e.unstable_scheduleCallback=function(I,F,X){var J=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?J+X:J):X=J,I){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=X+O,I={id:d++,callback:F,priorityLevel:I,startTime:X,expirationTime:O,sortIndex:-1},X>J?(I.sortIndex=X,t(u,I),r(c)===null&&I===r(u)&&(g?(y(k),k=-1):g=!0,L(w,X-J))):(I.sortIndex=O,t(c,I),p||m||(p=!0,M(j))),I},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(I){var F=h;return function(){var X=h;h=F;try{return I.apply(this,arguments)}finally{h=X}}}})(K$);q$.exports=K$;var fJ=q$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hJ=x,ci=fJ;function Ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G$=new Set,_g={};function Af(e,t){vm(e,t),vm(e+"Capture",t)}function vm(e,t){for(_g[e]=t,e=0;e<t.length;e++)G$.add(t[e])}var cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eN=Object.prototype.hasOwnProperty,mJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D4={},R4={};function pJ(e){return eN.call(R4,e)?!0:eN.call(D4,e)?!1:mJ.test(e)?R4[e]=!0:(D4[e]=!0,!1)}function gJ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vJ(e,t,r,n){if(t===null||typeof t>"u"||gJ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function us(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ca={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ca[e]=new us(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ca[t]=new us(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ca[e]=new us(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ca[e]=new us(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ca[e]=new us(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ca[e]=new us(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ca[e]=new us(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ca[e]=new us(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ca[e]=new us(e,5,!1,e.toLowerCase(),null,!1,!1)});var BE=/[\-:]([a-z])/g;function UE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(BE,UE);ca[t]=new us(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(BE,UE);ca[t]=new us(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(BE,UE);ca[t]=new us(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ca[e]=new us(e,1,!1,e.toLowerCase(),null,!1,!1)});ca.xlinkHref=new us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ca[e]=new us(e,1,!1,e.toLowerCase(),null,!0,!0)});function zE(e,t,r,n){var a=ca.hasOwnProperty(t)?ca[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vJ(t,r,a,n)&&(r=null),n||a===null?pJ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var kc=hJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qx=Symbol.for("react.element"),_h=Symbol.for("react.portal"),wh=Symbol.for("react.fragment"),VE=Symbol.for("react.strict_mode"),tN=Symbol.for("react.profiler"),Y$=Symbol.for("react.provider"),X$=Symbol.for("react.context"),WE=Symbol.for("react.forward_ref"),rN=Symbol.for("react.suspense"),nN=Symbol.for("react.suspense_list"),HE=Symbol.for("react.memo"),Kc=Symbol.for("react.lazy"),J$=Symbol.for("react.offscreen"),M4=Symbol.iterator;function t0(e){return e===null||typeof e!="object"?null:(e=M4&&e[M4]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,oS;function A0(e){if(oS===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oS=t&&t[1]||""}return`
`+oS+e}var lS=!1;function cS(e,t){if(!e||lS)return"";lS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{lS=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A0(e):""}function xJ(e){switch(e.tag){case 5:return A0(e.type);case 16:return A0("Lazy");case 13:return A0("Suspense");case 19:return A0("SuspenseList");case 0:case 2:case 15:return e=cS(e.type,!1),e;case 11:return e=cS(e.type.render,!1),e;case 1:return e=cS(e.type,!0),e;default:return""}}function aN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wh:return"Fragment";case _h:return"Portal";case tN:return"Profiler";case VE:return"StrictMode";case rN:return"Suspense";case nN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X$:return(e.displayName||"Context")+".Consumer";case Y$:return(e._context.displayName||"Context")+".Provider";case WE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case HE:return t=e.displayName||null,t!==null?t:aN(e.type)||"Memo";case Kc:t=e._payload,e=e._init;try{return aN(e(t))}catch{}}return null}function yJ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aN(t);case 8:return t===VE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bJ(e){var t=Q$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kx(e){e._valueTracker||(e._valueTracker=bJ(e))}function Z$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Q$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function b1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sN(e,t){var r=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function F4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Uu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function e8(e,t){t=t.checked,t!=null&&zE(e,"checked",t,!1)}function iN(e,t){e8(e,t);var r=Uu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oN(e,t.type,r):t.hasOwnProperty("defaultValue")&&oN(e,t.type,Uu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function I4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function oN(e,t,r){(t!=="number"||b1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var P0=Array.isArray;function $h(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Uu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ke(92));if(P0(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Uu(r)}}function t8(e,t){var r=Uu(t.value),n=Uu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function r8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?r8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gx,n8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gx=Gx||document.createElement("div"),Gx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var V0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_J=["Webkit","ms","Moz","O"];Object.keys(V0).forEach(function(e){_J.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),V0[t]=V0[e]})});function a8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||V0.hasOwnProperty(e)&&V0[e]?(""+t).trim():t+"px"}function s8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=a8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var wJ=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uN(e,t){if(t){if(wJ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ke(62))}}function dN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fN=null;function qE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hN=null,Bh=null,Uh=null;function B4(e){if(e=Kv(e)){if(typeof hN!="function")throw Error(Ke(280));var t=e.stateNode;t&&(t=B_(t),hN(e.stateNode,e.type,t))}}function i8(e){Bh?Uh?Uh.push(e):Uh=[e]:Bh=e}function o8(){if(Bh){var e=Bh,t=Uh;if(Uh=Bh=null,B4(e),t)for(e=0;e<t.length;e++)B4(t[e])}}function l8(e,t){return e(t)}function c8(){}var uS=!1;function u8(e,t,r){if(uS)return e(t,r);uS=!0;try{return l8(e,t,r)}finally{uS=!1,(Bh!==null||Uh!==null)&&(c8(),o8())}}function jg(e,t){var r=e.stateNode;if(r===null)return null;var n=B_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ke(231,t,typeof r));return r}var mN=!1;if(cc)try{var r0={};Object.defineProperty(r0,"passive",{get:function(){mN=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{mN=!1}function jJ(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var W0=!1,_1=null,w1=!1,pN=null,SJ={onError:function(e){W0=!0,_1=e}};function NJ(e,t,r,n,a,s,o,l,c){W0=!1,_1=null,jJ.apply(SJ,arguments)}function kJ(e,t,r,n,a,s,o,l,c){if(NJ.apply(this,arguments),W0){if(W0){var u=_1;W0=!1,_1=null}else throw Error(Ke(198));w1||(w1=!0,pN=u)}}function Pf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U4(e){if(Pf(e)!==e)throw Error(Ke(188))}function CJ(e){var t=e.alternate;if(!t){if(t=Pf(e),t===null)throw Error(Ke(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return U4(a),e;if(s===n)return U4(a),t;s=s.sibling}throw Error(Ke(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Ke(189))}}if(r.alternate!==n)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?e:t}function f8(e){return e=CJ(e),e!==null?h8(e):null}function h8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h8(e);if(t!==null)return t;e=e.sibling}return null}var m8=ci.unstable_scheduleCallback,z4=ci.unstable_cancelCallback,EJ=ci.unstable_shouldYield,TJ=ci.unstable_requestPaint,on=ci.unstable_now,AJ=ci.unstable_getCurrentPriorityLevel,KE=ci.unstable_ImmediatePriority,p8=ci.unstable_UserBlockingPriority,j1=ci.unstable_NormalPriority,PJ=ci.unstable_LowPriority,g8=ci.unstable_IdlePriority,F_=null,dl=null;function OJ(e){if(dl&&typeof dl.onCommitFiberRoot=="function")try{dl.onCommitFiberRoot(F_,e,void 0,(e.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:MJ,DJ=Math.log,RJ=Math.LN2;function MJ(e){return e>>>=0,e===0?32:31-(DJ(e)/RJ|0)|0}var Yx=64,Xx=4194304;function O0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function S1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=O0(l):(s&=o,s!==0&&(n=O0(s)))}else o=r&~a,o!==0?n=O0(o):s!==0&&(n=O0(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_o(t),a=1<<r,n|=e[r],t&=~a;return n}function FJ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IJ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-_o(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=FJ(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function gN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function v8(){var e=Yx;return Yx<<=1,!(Yx&4194240)&&(Yx=64),e}function dS(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Hv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_o(t),e[t]=r}function LJ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_o(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function GE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_o(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _r=0;function x8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y8,YE,b8,_8,w8,vN=!1,Jx=[],ku=null,Cu=null,Eu=null,Sg=new Map,Ng=new Map,Zc=[],$J="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V4(e,t){switch(e){case"focusin":case"focusout":ku=null;break;case"dragenter":case"dragleave":Cu=null;break;case"mouseover":case"mouseout":Eu=null;break;case"pointerover":case"pointerout":Sg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(t.pointerId)}}function n0(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Kv(t),t!==null&&YE(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function BJ(e,t,r,n,a){switch(t){case"focusin":return ku=n0(ku,e,t,r,n,a),!0;case"dragenter":return Cu=n0(Cu,e,t,r,n,a),!0;case"mouseover":return Eu=n0(Eu,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Sg.set(s,n0(Sg.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ng.set(s,n0(Ng.get(s)||null,e,t,r,n,a)),!0}return!1}function j8(e){var t=Cd(e.target);if(t!==null){var r=Pf(t);if(r!==null){if(t=r.tag,t===13){if(t=d8(r),t!==null){e.blockedOn=t,w8(e.priority,function(){b8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);fN=n,r.target.dispatchEvent(n),fN=null}else return t=Kv(r),t!==null&&YE(t),e.blockedOn=r,!1;t.shift()}return!0}function W4(e,t,r){Yy(e)&&r.delete(t)}function UJ(){vN=!1,ku!==null&&Yy(ku)&&(ku=null),Cu!==null&&Yy(Cu)&&(Cu=null),Eu!==null&&Yy(Eu)&&(Eu=null),Sg.forEach(W4),Ng.forEach(W4)}function a0(e,t){e.blockedOn===t&&(e.blockedOn=null,vN||(vN=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,UJ)))}function kg(e){function t(a){return a0(a,e)}if(0<Jx.length){a0(Jx[0],e);for(var r=1;r<Jx.length;r++){var n=Jx[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ku!==null&&a0(ku,e),Cu!==null&&a0(Cu,e),Eu!==null&&a0(Eu,e),Sg.forEach(t),Ng.forEach(t),r=0;r<Zc.length;r++)n=Zc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zc.length&&(r=Zc[0],r.blockedOn===null);)j8(r),r.blockedOn===null&&Zc.shift()}var zh=kc.ReactCurrentBatchConfig,N1=!0;function zJ(e,t,r,n){var a=_r,s=zh.transition;zh.transition=null;try{_r=1,XE(e,t,r,n)}finally{_r=a,zh.transition=s}}function VJ(e,t,r,n){var a=_r,s=zh.transition;zh.transition=null;try{_r=4,XE(e,t,r,n)}finally{_r=a,zh.transition=s}}function XE(e,t,r,n){if(N1){var a=xN(e,t,r,n);if(a===null)_S(e,t,n,k1,r),V4(e,n);else if(BJ(a,e,t,r,n))n.stopPropagation();else if(V4(e,n),t&4&&-1<$J.indexOf(e)){for(;a!==null;){var s=Kv(a);if(s!==null&&y8(s),s=xN(e,t,r,n),s===null&&_S(e,t,n,k1,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else _S(e,t,n,null,r)}}var k1=null;function xN(e,t,r,n){if(k1=null,e=qE(n),e=Cd(e),e!==null)if(t=Pf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return k1=e,null}function S8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AJ()){case KE:return 1;case p8:return 4;case j1:case PJ:return 16;case g8:return 536870912;default:return 16}default:return 16}}var vu=null,JE=null,Xy=null;function N8(){if(Xy)return Xy;var e,t=JE,r=t.length,n,a="value"in vu?vu.value:vu.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return Xy=a.slice(e,1<n?1-n:void 0)}function Jy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qx(){return!0}function H4(){return!1}function mi(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qx:H4,this.isPropagationStopped=H4,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qx)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qx)},persist:function(){},isPersistent:Qx}),t}var yp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QE=mi(yp),qv=qr({},yp,{view:0,detail:0}),WJ=mi(qv),fS,hS,s0,I_=qr({},qv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==s0&&(s0&&e.type==="mousemove"?(fS=e.screenX-s0.screenX,hS=e.screenY-s0.screenY):hS=fS=0,s0=e),fS)},movementY:function(e){return"movementY"in e?e.movementY:hS}}),q4=mi(I_),HJ=qr({},I_,{dataTransfer:0}),qJ=mi(HJ),KJ=qr({},qv,{relatedTarget:0}),mS=mi(KJ),GJ=qr({},yp,{animationName:0,elapsedTime:0,pseudoElement:0}),YJ=mi(GJ),XJ=qr({},yp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),JJ=mi(XJ),QJ=qr({},yp,{data:0}),K4=mi(QJ),ZJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tQ[e])?!!t[e]:!1}function ZE(){return rQ}var nQ=qr({},qv,{key:function(e){if(e.key){var t=ZJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZE,charCode:function(e){return e.type==="keypress"?Jy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aQ=mi(nQ),sQ=qr({},I_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G4=mi(sQ),iQ=qr({},qv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZE}),oQ=mi(iQ),lQ=qr({},yp,{propertyName:0,elapsedTime:0,pseudoElement:0}),cQ=mi(lQ),uQ=qr({},I_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dQ=mi(uQ),fQ=[9,13,27,32],eT=cc&&"CompositionEvent"in window,H0=null;cc&&"documentMode"in document&&(H0=document.documentMode);var hQ=cc&&"TextEvent"in window&&!H0,k8=cc&&(!eT||H0&&8<H0&&11>=H0),Y4=" ",X4=!1;function C8(e,t){switch(e){case"keyup":return fQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jh=!1;function mQ(e,t){switch(e){case"compositionend":return E8(t);case"keypress":return t.which!==32?null:(X4=!0,Y4);case"textInput":return e=t.data,e===Y4&&X4?null:e;default:return null}}function pQ(e,t){if(jh)return e==="compositionend"||!eT&&C8(e,t)?(e=N8(),Xy=JE=vu=null,jh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return k8&&t.locale!=="ko"?null:t.data;default:return null}}var gQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gQ[e.type]:t==="textarea"}function T8(e,t,r,n){i8(n),t=C1(t,"onChange"),0<t.length&&(r=new QE("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var q0=null,Cg=null;function vQ(e){B8(e,0)}function L_(e){var t=kh(e);if(Z$(t))return e}function xQ(e,t){if(e==="change")return t}var A8=!1;if(cc){var pS;if(cc){var gS="oninput"in document;if(!gS){var Q4=document.createElement("div");Q4.setAttribute("oninput","return;"),gS=typeof Q4.oninput=="function"}pS=gS}else pS=!1;A8=pS&&(!document.documentMode||9<document.documentMode)}function Z4(){q0&&(q0.detachEvent("onpropertychange",P8),Cg=q0=null)}function P8(e){if(e.propertyName==="value"&&L_(Cg)){var t=[];T8(t,Cg,e,qE(e)),u8(vQ,t)}}function yQ(e,t,r){e==="focusin"?(Z4(),q0=t,Cg=r,q0.attachEvent("onpropertychange",P8)):e==="focusout"&&Z4()}function bQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return L_(Cg)}function _Q(e,t){if(e==="click")return L_(t)}function wQ(e,t){if(e==="input"||e==="change")return L_(t)}function jQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eo=typeof Object.is=="function"?Object.is:jQ;function Eg(e,t){if(Eo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!eN.call(t,a)||!Eo(e[a],t[a]))return!1}return!0}function eD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tD(e,t){var r=eD(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eD(r)}}function O8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function D8(){for(var e=window,t=b1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=b1(e.document)}return t}function tT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function SQ(e){var t=D8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&O8(r.ownerDocument.documentElement,r)){if(n!==null&&tT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=tD(r,s);var o=tD(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var NQ=cc&&"documentMode"in document&&11>=document.documentMode,Sh=null,yN=null,K0=null,bN=!1;function rD(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bN||Sh==null||Sh!==b1(n)||(n=Sh,"selectionStart"in n&&tT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),K0&&Eg(K0,n)||(K0=n,n=C1(yN,"onSelect"),0<n.length&&(t=new QE("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sh)))}function Zx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nh={animationend:Zx("Animation","AnimationEnd"),animationiteration:Zx("Animation","AnimationIteration"),animationstart:Zx("Animation","AnimationStart"),transitionend:Zx("Transition","TransitionEnd")},vS={},R8={};cc&&(R8=document.createElement("div").style,"AnimationEvent"in window||(delete Nh.animationend.animation,delete Nh.animationiteration.animation,delete Nh.animationstart.animation),"TransitionEvent"in window||delete Nh.transitionend.transition);function $_(e){if(vS[e])return vS[e];if(!Nh[e])return e;var t=Nh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in R8)return vS[e]=t[r];return e}var M8=$_("animationend"),F8=$_("animationiteration"),I8=$_("animationstart"),L8=$_("transitionend"),$8=new Map,nD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qu(e,t){$8.set(e,t),Af(t,[e])}for(var xS=0;xS<nD.length;xS++){var yS=nD[xS],kQ=yS.toLowerCase(),CQ=yS[0].toUpperCase()+yS.slice(1);Qu(kQ,"on"+CQ)}Qu(M8,"onAnimationEnd");Qu(F8,"onAnimationIteration");Qu(I8,"onAnimationStart");Qu("dblclick","onDoubleClick");Qu("focusin","onFocus");Qu("focusout","onBlur");Qu(L8,"onTransitionEnd");vm("onMouseEnter",["mouseout","mouseover"]);vm("onMouseLeave",["mouseout","mouseover"]);vm("onPointerEnter",["pointerout","pointerover"]);vm("onPointerLeave",["pointerout","pointerover"]);Af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Af("onBeforeInput",["compositionend","keypress","textInput","paste"]);Af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(D0));function aD(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,kJ(n,t,void 0,e),e.currentTarget=null}function B8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;aD(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;aD(a,l,u),s=c}}}if(w1)throw e=pN,w1=!1,pN=null,e}function Rr(e,t){var r=t[NN];r===void 0&&(r=t[NN]=new Set);var n=e+"__bubble";r.has(n)||(U8(t,e,2,!1),r.add(n))}function bS(e,t,r){var n=0;t&&(n|=4),U8(r,e,n,t)}var ey="_reactListening"+Math.random().toString(36).slice(2);function Tg(e){if(!e[ey]){e[ey]=!0,G$.forEach(function(r){r!=="selectionchange"&&(EQ.has(r)||bS(r,!1,e),bS(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ey]||(t[ey]=!0,bS("selectionchange",!1,t))}}function U8(e,t,r,n){switch(S8(t)){case 1:var a=zJ;break;case 4:a=VJ;break;default:a=XE}r=a.bind(null,t,r,e),a=void 0,!mN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function _S(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Cd(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}u8(function(){var u=s,d=qE(r),f=[];e:{var h=$8.get(e);if(h!==void 0){var m=QE,p=e;switch(e){case"keypress":if(Jy(r)===0)break e;case"keydown":case"keyup":m=aQ;break;case"focusin":p="focus",m=mS;break;case"focusout":p="blur",m=mS;break;case"beforeblur":case"afterblur":m=mS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oQ;break;case M8:case F8:case I8:m=YJ;break;case L8:m=cQ;break;case"scroll":m=WJ;break;case"wheel":m=dQ;break;case"copy":case"cut":case"paste":m=JJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G4}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,_;b!==null;){_=b;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=jg(b,y),w!=null&&g.push(Ag(b,w,_)))),v)break;b=b.return}0<g.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==fN&&(p=r.relatedTarget||r.fromElement)&&(Cd(p)||p[uc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Cd(p):null,p!==null&&(v=Pf(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(g=q4,w="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=G4,w="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?h:kh(m),_=p==null?h:kh(p),h=new g(w,b+"leave",m,r,d),h.target=v,h.relatedTarget=_,w=null,Cd(d)===u&&(g=new g(y,b+"enter",p,r,d),g.target=_,g.relatedTarget=v,w=g),v=w,m&&p)t:{for(g=m,y=p,b=0,_=g;_;_=Xf(_))b++;for(_=0,w=y;w;w=Xf(w))_++;for(;0<b-_;)g=Xf(g),b--;for(;0<_-b;)y=Xf(y),_--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Xf(g),y=Xf(y)}g=null}else g=null;m!==null&&sD(f,h,m,g,!1),p!==null&&v!==null&&sD(f,v,p,g,!0)}}e:{if(h=u?kh(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=xQ;else if(J4(h))if(A8)j=wQ;else{j=bQ;var N=yQ}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=_Q);if(j&&(j=j(e,u))){T8(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&oN(h,"number",h.value)}switch(N=u?kh(u):window,e){case"focusin":(J4(N)||N.contentEditable==="true")&&(Sh=N,yN=u,K0=null);break;case"focusout":K0=yN=Sh=null;break;case"mousedown":bN=!0;break;case"contextmenu":case"mouseup":case"dragend":bN=!1,rD(f,r,d);break;case"selectionchange":if(NQ)break;case"keydown":case"keyup":rD(f,r,d)}var S;if(eT)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jh?C8(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(k8&&r.locale!=="ko"&&(jh||k!=="onCompositionStart"?k==="onCompositionEnd"&&jh&&(S=N8()):(vu=d,JE="value"in vu?vu.value:vu.textContent,jh=!0)),N=C1(u,k),0<N.length&&(k=new K4(k,e,null,r,d),f.push({event:k,listeners:N}),S?k.data=S:(S=E8(r),S!==null&&(k.data=S)))),(S=hQ?mQ(e,r):pQ(e,r))&&(u=C1(u,"onBeforeInput"),0<u.length&&(d=new K4("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}B8(f,t)})}function Ag(e,t,r){return{instance:e,listener:t,currentTarget:r}}function C1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=jg(e,r),s!=null&&n.unshift(Ag(e,s,a)),s=jg(e,t),s!=null&&n.push(Ag(e,s,a))),e=e.return}return n}function Xf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sD(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=jg(r,s),c!=null&&o.unshift(Ag(r,c,l))):a||(c=jg(r,s),c!=null&&o.push(Ag(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var TQ=/\r\n?/g,AQ=/\u0000|\uFFFD/g;function iD(e){return(typeof e=="string"?e:""+e).replace(TQ,`
`).replace(AQ,"")}function ty(e,t,r){if(t=iD(t),iD(e)!==t&&r)throw Error(Ke(425))}function E1(){}var _N=null,wN=null;function jN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var SN=typeof setTimeout=="function"?setTimeout:void 0,PQ=typeof clearTimeout=="function"?clearTimeout:void 0,oD=typeof Promise=="function"?Promise:void 0,OQ=typeof queueMicrotask=="function"?queueMicrotask:typeof oD<"u"?function(e){return oD.resolve(null).then(e).catch(DQ)}:SN;function DQ(e){setTimeout(function(){throw e})}function wS(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),kg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);kg(t)}function Tu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bp=Math.random().toString(36).slice(2),tl="__reactFiber$"+bp,Pg="__reactProps$"+bp,uc="__reactContainer$"+bp,NN="__reactEvents$"+bp,RQ="__reactListeners$"+bp,MQ="__reactHandles$"+bp;function Cd(e){var t=e[tl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[uc]||r[tl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lD(e);e!==null;){if(r=e[tl])return r;e=lD(e)}return t}e=r,r=e.parentNode}return null}function Kv(e){return e=e[tl]||e[uc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function B_(e){return e[Pg]||null}var kN=[],Ch=-1;function Zu(e){return{current:e}}function Ir(e){0>Ch||(e.current=kN[Ch],kN[Ch]=null,Ch--)}function Er(e,t){Ch++,kN[Ch]=e.current,e.current=t}var zu={},Da=Zu(zu),Ss=Zu(!1),rf=zu;function xm(e,t){var r=e.type.contextTypes;if(!r)return zu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ns(e){return e=e.childContextTypes,e!=null}function T1(){Ir(Ss),Ir(Da)}function cD(e,t,r){if(Da.current!==zu)throw Error(Ke(168));Er(Da,t),Er(Ss,r)}function z8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ke(108,yJ(e)||"Unknown",a));return qr({},r,n)}function A1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zu,rf=Da.current,Er(Da,e),Er(Ss,Ss.current),!0}function uD(e,t,r){var n=e.stateNode;if(!n)throw Error(Ke(169));r?(e=z8(e,t,rf),n.__reactInternalMemoizedMergedChildContext=e,Ir(Ss),Ir(Da),Er(Da,e)):Ir(Ss),Er(Ss,r)}var zl=null,U_=!1,jS=!1;function V8(e){zl===null?zl=[e]:zl.push(e)}function FQ(e){U_=!0,V8(e)}function ed(){if(!jS&&zl!==null){jS=!0;var e=0,t=_r;try{var r=zl;for(_r=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zl=null,U_=!1}catch(a){throw zl!==null&&(zl=zl.slice(e+1)),m8(KE,ed),a}finally{_r=t,jS=!1}}return null}var Eh=[],Th=0,P1=null,O1=0,ki=[],Ci=0,nf=null,Kl=1,Gl="";function gd(e,t){Eh[Th++]=O1,Eh[Th++]=P1,P1=e,O1=t}function W8(e,t,r){ki[Ci++]=Kl,ki[Ci++]=Gl,ki[Ci++]=nf,nf=e;var n=Kl;e=Gl;var a=32-_o(n)-1;n&=~(1<<a),r+=1;var s=32-_o(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Kl=1<<32-_o(t)+a|r<<a|n,Gl=s+e}else Kl=1<<s|r<<a|n,Gl=e}function rT(e){e.return!==null&&(gd(e,1),W8(e,1,0))}function nT(e){for(;e===P1;)P1=Eh[--Th],Eh[Th]=null,O1=Eh[--Th],Eh[Th]=null;for(;e===nf;)nf=ki[--Ci],ki[Ci]=null,Gl=ki[--Ci],ki[Ci]=null,Kl=ki[--Ci],ki[Ci]=null}var ai=null,ri=null,$r=!1,mo=null;function H8(e,t){var r=Pi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function dD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ai=e,ri=Tu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ai=e,ri=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=nf!==null?{id:Kl,overflow:Gl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ai=e,ri=null,!0):!1;default:return!1}}function CN(e){return(e.mode&1)!==0&&(e.flags&128)===0}function EN(e){if($r){var t=ri;if(t){var r=t;if(!dD(e,t)){if(CN(e))throw Error(Ke(418));t=Tu(r.nextSibling);var n=ai;t&&dD(e,t)?H8(n,r):(e.flags=e.flags&-4097|2,$r=!1,ai=e)}}else{if(CN(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,$r=!1,ai=e}}}function fD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ai=e}function ry(e){if(e!==ai)return!1;if(!$r)return fD(e),$r=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jN(e.type,e.memoizedProps)),t&&(t=ri)){if(CN(e))throw q8(),Error(Ke(418));for(;t;)H8(e,t),t=Tu(t.nextSibling)}if(fD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ri=Tu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ri=null}}else ri=ai?Tu(e.stateNode.nextSibling):null;return!0}function q8(){for(var e=ri;e;)e=Tu(e.nextSibling)}function ym(){ri=ai=null,$r=!1}function aT(e){mo===null?mo=[e]:mo.push(e)}var IQ=kc.ReactCurrentBatchConfig;function i0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var n=r.stateNode}if(!n)throw Error(Ke(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,e))}return e}function ny(e,t){throw e=Object.prototype.toString.call(t),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hD(e){var t=e._init;return t(e._payload)}function K8(e){function t(y,b){if(e){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Du(y,b),y.index=0,y.sibling=null,y}function s(y,b,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,_,w){return b===null||b.tag!==6?(b=AS(_,y.mode,w),b.return=y,b):(b=a(b,_),b.return=y,b)}function c(y,b,_,w){var j=_.type;return j===wh?d(y,b,_.props.children,w,_.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&hD(j)===b.type)?(w=a(b,_.props),w.ref=i0(y,b,_),w.return=y,w):(w=a1(_.type,_.key,_.props,null,y.mode,w),w.ref=i0(y,b,_),w.return=y,w)}function u(y,b,_,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=PS(_,y.mode,w),b.return=y,b):(b=a(b,_.children||[]),b.return=y,b)}function d(y,b,_,w,j){return b===null||b.tag!==7?(b=Yd(_,y.mode,w,j),b.return=y,b):(b=a(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=AS(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case qx:return _=a1(b.type,b.key,b.props,null,y.mode,_),_.ref=i0(y,null,b),_.return=y,_;case _h:return b=PS(b,y.mode,_),b.return=y,b;case Kc:var w=b._init;return f(y,w(b._payload),_)}if(P0(b)||t0(b))return b=Yd(b,y.mode,_,null),b.return=y,b;ny(y,b)}return null}function h(y,b,_,w){var j=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:l(y,b,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case qx:return _.key===j?c(y,b,_,w):null;case _h:return _.key===j?u(y,b,_,w):null;case Kc:return j=_._init,h(y,b,j(_._payload),w)}if(P0(_)||t0(_))return j!==null?null:d(y,b,_,w,null);ny(y,_)}return null}function m(y,b,_,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,l(b,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qx:return y=y.get(w.key===null?_:w.key)||null,c(b,y,w,j);case _h:return y=y.get(w.key===null?_:w.key)||null,u(b,y,w,j);case Kc:var N=w._init;return m(y,b,_,N(w._payload),j)}if(P0(w)||t0(w))return y=y.get(_)||null,d(b,y,w,j,null);ny(b,w)}return null}function p(y,b,_,w){for(var j=null,N=null,S=b,k=b=0,C=null;S!==null&&k<_.length;k++){S.index>k?(C=S,S=null):C=S.sibling;var A=h(y,S,_[k],w);if(A===null){S===null&&(S=C);break}e&&S&&A.alternate===null&&t(y,S),b=s(A,b,k),N===null?j=A:N.sibling=A,N=A,S=C}if(k===_.length)return r(y,S),$r&&gd(y,k),j;if(S===null){for(;k<_.length;k++)S=f(y,_[k],w),S!==null&&(b=s(S,b,k),N===null?j=S:N.sibling=S,N=S);return $r&&gd(y,k),j}for(S=n(y,S);k<_.length;k++)C=m(S,y,k,_[k],w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),b=s(C,b,k),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(P){return t(y,P)}),$r&&gd(y,k),j}function g(y,b,_,w){var j=t0(_);if(typeof j!="function")throw Error(Ke(150));if(_=j.call(_),_==null)throw Error(Ke(151));for(var N=j=null,S=b,k=b=0,C=null,A=_.next();S!==null&&!A.done;k++,A=_.next()){S.index>k?(C=S,S=null):C=S.sibling;var P=h(y,S,A.value,w);if(P===null){S===null&&(S=C);break}e&&S&&P.alternate===null&&t(y,S),b=s(P,b,k),N===null?j=P:N.sibling=P,N=P,S=C}if(A.done)return r(y,S),$r&&gd(y,k),j;if(S===null){for(;!A.done;k++,A=_.next())A=f(y,A.value,w),A!==null&&(b=s(A,b,k),N===null?j=A:N.sibling=A,N=A);return $r&&gd(y,k),j}for(S=n(y,S);!A.done;k++,A=_.next())A=m(S,y,k,A.value,w),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),b=s(A,b,k),N===null?j=A:N.sibling=A,N=A);return e&&S.forEach(function(T){return t(y,T)}),$r&&gd(y,k),j}function v(y,b,_,w){if(typeof _=="object"&&_!==null&&_.type===wh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case qx:e:{for(var j=_.key,N=b;N!==null;){if(N.key===j){if(j=_.type,j===wh){if(N.tag===7){r(y,N.sibling),b=a(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Kc&&hD(j)===N.type){r(y,N.sibling),b=a(N,_.props),b.ref=i0(y,N,_),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}_.type===wh?(b=Yd(_.props.children,y.mode,w,_.key),b.return=y,y=b):(w=a1(_.type,_.key,_.props,null,y.mode,w),w.ref=i0(y,b,_),w.return=y,y=w)}return o(y);case _h:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(y,b.sibling),b=a(b,_.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=PS(_,y.mode,w),b.return=y,y=b}return o(y);case Kc:return N=_._init,v(y,b,N(_._payload),w)}if(P0(_))return p(y,b,_,w);if(t0(_))return g(y,b,_,w);ny(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,_),b.return=y,y=b):(r(y,b),b=AS(_,y.mode,w),b.return=y,y=b),o(y)):r(y,b)}return v}var bm=K8(!0),G8=K8(!1),D1=Zu(null),R1=null,Ah=null,sT=null;function iT(){sT=Ah=R1=null}function oT(e){var t=D1.current;Ir(D1),e._currentValue=t}function TN(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vh(e,t){R1=e,sT=Ah=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_s=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(sT!==e)if(e={context:e,memoizedValue:t,next:null},Ah===null){if(R1===null)throw Error(Ke(308));Ah=e,R1.dependencies={lanes:0,firstContext:e}}else Ah=Ah.next=e;return t}var Ed=null;function lT(e){Ed===null?Ed=[e]:Ed.push(e)}function Y8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,lT(t)):(r.next=a.next,a.next=r),t.interleaved=r,dc(e,n)}function dc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gc=!1;function cT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Au(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,dc(e,r)}return a=n.interleaved,a===null?(t.next=t,lT(n)):(t.next=a.next,a.next=t),n.interleaved=t,dc(e,r)}function Qy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GE(e,r)}}function mD(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function M1(e,t,r,n){var a=e.updateQueue;Gc=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=qr({},f,h);break e;case 2:Gc=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);sf|=o,e.lanes=o,e.memoizedState=f}}function pD(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ke(191,a));a.call(n)}}}var Gv={},fl=Zu(Gv),Og=Zu(Gv),Dg=Zu(Gv);function Td(e){if(e===Gv)throw Error(Ke(174));return e}function uT(e,t){switch(Er(Dg,t),Er(Og,e),Er(fl,Gv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cN(t,e)}Ir(fl),Er(fl,t)}function _m(){Ir(fl),Ir(Og),Ir(Dg)}function J8(e){Td(Dg.current);var t=Td(fl.current),r=cN(t,e.type);t!==r&&(Er(Og,e),Er(fl,r))}function dT(e){Og.current===e&&(Ir(fl),Ir(Og))}var zr=Zu(0);function F1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var SS=[];function fT(){for(var e=0;e<SS.length;e++)SS[e]._workInProgressVersionPrimary=null;SS.length=0}var Zy=kc.ReactCurrentDispatcher,NS=kc.ReactCurrentBatchConfig,af=0,Hr=null,An=null,Hn=null,I1=!1,G0=!1,Rg=0,LQ=0;function ha(){throw Error(Ke(321))}function hT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Eo(e[r],t[r]))return!1;return!0}function mT(e,t,r,n,a,s){if(af=s,Hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zy.current=e===null||e.memoizedState===null?zQ:VQ,e=r(n,a),G0){s=0;do{if(G0=!1,Rg=0,25<=s)throw Error(Ke(301));s+=1,Hn=An=null,t.updateQueue=null,Zy.current=WQ,e=r(n,a)}while(G0)}if(Zy.current=L1,t=An!==null&&An.next!==null,af=0,Hn=An=Hr=null,I1=!1,t)throw Error(Ke(300));return e}function pT(){var e=Rg!==0;return Rg=0,e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Hr.memoizedState=Hn=e:Hn=Hn.next=e,Hn}function Fi(){if(An===null){var e=Hr.alternate;e=e!==null?e.memoizedState:null}else e=An.next;var t=Hn===null?Hr.memoizedState:Hn.next;if(t!==null)Hn=t,An=e;else{if(e===null)throw Error(Ke(310));An=e,e={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Hn===null?Hr.memoizedState=Hn=e:Hn=Hn.next=e}return Hn}function Mg(e,t){return typeof t=="function"?t(e):t}function kS(e){var t=Fi(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var n=An,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((af&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Hr.lanes|=d,sf|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Eo(n,t.memoizedState)||(_s=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Hr.lanes|=s,sf|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function CS(e){var t=Fi(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Eo(s,t.memoizedState)||(_s=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Q8(){}function Z8(e,t){var r=Hr,n=Fi(),a=t(),s=!Eo(n.memoizedState,a);if(s&&(n.memoizedState=a,_s=!0),n=n.queue,gT(r6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,Fg(9,t6.bind(null,r,n,a,t),void 0,null),Gn===null)throw Error(Ke(349));af&30||e6(r,t,a)}return a}function e6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function t6(e,t,r,n){t.value=r,t.getSnapshot=n,n6(t)&&a6(e)}function r6(e,t,r){return r(function(){n6(t)&&a6(e)})}function n6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Eo(e,r)}catch{return!0}}function a6(e){var t=dc(e,1);t!==null&&wo(t,e,1,-1)}function gD(e){var t=Xo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:e},t.queue=e,e=e.dispatch=UQ.bind(null,Hr,e),[t.memoizedState,e]}function Fg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Hr.updateQueue,t===null?(t={lastEffect:null,stores:null},Hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s6(){return Fi().memoizedState}function e1(e,t,r,n){var a=Xo();Hr.flags|=e,a.memoizedState=Fg(1|t,r,void 0,n===void 0?null:n)}function z_(e,t,r,n){var a=Fi();n=n===void 0?null:n;var s=void 0;if(An!==null){var o=An.memoizedState;if(s=o.destroy,n!==null&&hT(n,o.deps)){a.memoizedState=Fg(t,r,s,n);return}}Hr.flags|=e,a.memoizedState=Fg(1|t,r,s,n)}function vD(e,t){return e1(8390656,8,e,t)}function gT(e,t){return z_(2048,8,e,t)}function i6(e,t){return z_(4,2,e,t)}function o6(e,t){return z_(4,4,e,t)}function l6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c6(e,t,r){return r=r!=null?r.concat([e]):null,z_(4,4,l6.bind(null,t,e),r)}function vT(){}function u6(e,t){var r=Fi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function d6(e,t){var r=Fi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function f6(e,t,r){return af&21?(Eo(r,t)||(r=v8(),Hr.lanes|=r,sf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=r)}function $Q(e,t){var r=_r;_r=r!==0&&4>r?r:4,e(!0);var n=NS.transition;NS.transition={};try{e(!1),t()}finally{_r=r,NS.transition=n}}function h6(){return Fi().memoizedState}function BQ(e,t,r){var n=Ou(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},m6(e))p6(t,r);else if(r=Y8(e,t,r,n),r!==null){var a=ss();wo(r,e,n,a),g6(r,t,n)}}function UQ(e,t,r){var n=Ou(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(m6(e))p6(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Eo(l,o)){var c=t.interleaved;c===null?(a.next=a,lT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Y8(e,t,a,n),r!==null&&(a=ss(),wo(r,e,n,a),g6(r,t,n))}}function m6(e){var t=e.alternate;return e===Hr||t!==null&&t===Hr}function p6(e,t){G0=I1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function g6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,GE(e,r)}}var L1={readContext:Mi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},zQ={readContext:Mi,useCallback:function(e,t){return Xo().memoizedState=[e,t===void 0?null:t],e},useContext:Mi,useEffect:vD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,e1(4194308,4,l6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return e1(4194308,4,e,t)},useInsertionEffect:function(e,t){return e1(4,2,e,t)},useMemo:function(e,t){var r=Xo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=BQ.bind(null,Hr,e),[n.memoizedState,e]},useRef:function(e){var t=Xo();return e={current:e},t.memoizedState=e},useState:gD,useDebugValue:vT,useDeferredValue:function(e){return Xo().memoizedState=e},useTransition:function(){var e=gD(!1),t=e[0];return e=$Q.bind(null,e[1]),Xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Hr,a=Xo();if($r){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=t(),Gn===null)throw Error(Ke(349));af&30||e6(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,vD(r6.bind(null,n,s,e),[e]),n.flags|=2048,Fg(9,t6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Xo(),t=Gn.identifierPrefix;if($r){var r=Gl,n=Kl;r=(n&~(1<<32-_o(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=LQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VQ={readContext:Mi,useCallback:u6,useContext:Mi,useEffect:gT,useImperativeHandle:c6,useInsertionEffect:i6,useLayoutEffect:o6,useMemo:d6,useReducer:kS,useRef:s6,useState:function(){return kS(Mg)},useDebugValue:vT,useDeferredValue:function(e){var t=Fi();return f6(t,An.memoizedState,e)},useTransition:function(){var e=kS(Mg)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:Q8,useSyncExternalStore:Z8,useId:h6,unstable_isNewReconciler:!1},WQ={readContext:Mi,useCallback:u6,useContext:Mi,useEffect:gT,useImperativeHandle:c6,useInsertionEffect:i6,useLayoutEffect:o6,useMemo:d6,useReducer:CS,useRef:s6,useState:function(){return CS(Mg)},useDebugValue:vT,useDeferredValue:function(e){var t=Fi();return An===null?t.memoizedState=e:f6(t,An.memoizedState,e)},useTransition:function(){var e=CS(Mg)[0],t=Fi().memoizedState;return[e,t]},useMutableSource:Q8,useSyncExternalStore:Z8,useId:h6,unstable_isNewReconciler:!1};function ao(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function AN(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var V_={isMounted:function(e){return(e=e._reactInternals)?Pf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ss(),a=Ou(e),s=tc(n,a);s.payload=t,r!=null&&(s.callback=r),t=Au(e,s,a),t!==null&&(wo(t,e,a,n),Qy(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ss(),a=Ou(e),s=tc(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Au(e,s,a),t!==null&&(wo(t,e,a,n),Qy(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ss(),n=Ou(e),a=tc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Au(e,a,n),t!==null&&(wo(t,e,n,r),Qy(t,e,n))}};function xD(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Eg(r,n)||!Eg(a,s):!0}function v6(e,t,r){var n=!1,a=zu,s=t.contextType;return typeof s=="object"&&s!==null?s=Mi(s):(a=Ns(t)?rf:Da.current,n=t.contextTypes,s=(n=n!=null)?xm(e,a):zu),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=V_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function yD(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&V_.enqueueReplaceState(t,t.state,null)}function PN(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},cT(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Mi(s):(s=Ns(t)?rf:Da.current,a.context=xm(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(AN(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&V_.enqueueReplaceState(a,a.state,null),M1(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function wm(e,t){try{var r="",n=t;do r+=xJ(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function ES(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ON(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var HQ=typeof WeakMap=="function"?WeakMap:Map;function x6(e,t,r){r=tc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){B1||(B1=!0,zN=n),ON(e,t)},r}function y6(e,t,r){r=tc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ON(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ON(e,t),typeof n!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function bD(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new HQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=sZ.bind(null,e,t,r),t.then(e,e))}function _D(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wD(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=tc(-1,1),t.tag=2,Au(r,t,1))),r.lanes|=1),e)}var qQ=kc.ReactCurrentOwner,_s=!1;function Ha(e,t,r,n){t.child=e===null?G8(t,null,r,n):bm(t,e.child,r,n)}function jD(e,t,r,n,a){r=r.render;var s=t.ref;return Vh(t,a),n=mT(e,t,r,n,s,a),r=pT(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fc(e,t,a)):($r&&r&&rT(t),t.flags|=1,Ha(e,t,n,a),t.child)}function SD(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!NT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,b6(e,t,s,n,a)):(e=a1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Eg,r(o,n)&&e.ref===t.ref)return fc(e,t,a)}return t.flags|=1,e=Du(s,n),e.ref=t.ref,e.return=t,t.child=e}function b6(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Eg(s,n)&&e.ref===t.ref)if(_s=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(_s=!0);else return t.lanes=e.lanes,fc(e,t,a)}return DN(e,t,r,n,a)}function _6(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Oh,Gs),Gs|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Oh,Gs),Gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Er(Oh,Gs),Gs|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Er(Oh,Gs),Gs|=n;return Ha(e,t,a,r),t.child}function w6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DN(e,t,r,n,a){var s=Ns(r)?rf:Da.current;return s=xm(t,s),Vh(t,a),r=mT(e,t,r,n,s,a),n=pT(),e!==null&&!_s?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fc(e,t,a)):($r&&n&&rT(t),t.flags|=1,Ha(e,t,r,a),t.child)}function ND(e,t,r,n,a){if(Ns(r)){var s=!0;A1(t)}else s=!1;if(Vh(t,a),t.stateNode===null)t1(e,t),v6(t,r,n),PN(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mi(u):(u=Ns(r)?rf:Da.current,u=xm(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&yD(t,o,n,u),Gc=!1;var h=t.memoizedState;o.state=h,M1(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ss.current||Gc?(typeof d=="function"&&(AN(t,r,d,n),c=t.memoizedState),(l=Gc||xD(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,X8(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ao(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mi(c):(c=Ns(r)?rf:Da.current,c=xm(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&yD(t,o,n,c),Gc=!1,h=t.memoizedState,o.state=h,M1(t,n,o,a);var p=t.memoizedState;l!==f||h!==p||Ss.current||Gc?(typeof m=="function"&&(AN(t,r,m,n),p=t.memoizedState),(u=Gc||xD(t,r,u,n,h,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return RN(e,t,r,n,s,a)}function RN(e,t,r,n,a,s){w6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&uD(t,r,!1),fc(e,t,s);n=t.stateNode,qQ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=bm(t,e.child,null,s),t.child=bm(t,null,l,s)):Ha(e,t,l,s),t.memoizedState=n.state,a&&uD(t,r,!0),t.child}function j6(e){var t=e.stateNode;t.pendingContext?cD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cD(e,t.context,!1),uT(e,t.containerInfo)}function kD(e,t,r,n,a){return ym(),aT(a),t.flags|=256,Ha(e,t,r,n),t.child}var MN={dehydrated:null,treeContext:null,retryLane:0};function FN(e){return{baseLanes:e,cachePool:null,transitions:null}}function S6(e,t,r){var n=t.pendingProps,a=zr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Er(zr,a&1),e===null)return EN(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=q_(o,n,0,null),e=Yd(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=FN(r),t.memoizedState=MN,e):xT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return KQ(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Du(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Du(l,s):(s=Yd(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?FN(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=MN,n}return s=e.child,e=s.sibling,n=Du(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xT(e,t){return t=q_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ay(e,t,r,n){return n!==null&&aT(n),bm(t,e.child,null,r),e=xT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KQ(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=ES(Error(Ke(422))),ay(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=q_({mode:"visible",children:n.children},a,0,null),s=Yd(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&bm(t,e.child,null,o),t.child.memoizedState=FN(o),t.memoizedState=MN,s);if(!(t.mode&1))return ay(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Ke(419)),n=ES(s,n,void 0),ay(e,t,o,n)}if(l=(o&e.childLanes)!==0,_s||l){if(n=Gn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,dc(e,a),wo(n,e,a,-1))}return ST(),n=ES(Error(Ke(421))),ay(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=iZ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=Tu(a.nextSibling),ai=t,$r=!0,mo=null,e!==null&&(ki[Ci++]=Kl,ki[Ci++]=Gl,ki[Ci++]=nf,Kl=e.id,Gl=e.overflow,nf=t),t=xT(t,n.children),t.flags|=4096,t)}function CD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),TN(e.return,t,r)}function TS(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function N6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ha(e,t,n.children,r),n=zr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&CD(e,r,t);else if(e.tag===19)CD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Er(zr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&F1(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),TS(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&F1(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}TS(t,!0,r,null,s);break;case"together":TS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function t1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ke(153));if(t.child!==null){for(e=t.child,r=Du(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Du(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function GQ(e,t,r){switch(t.tag){case 3:j6(t),ym();break;case 5:J8(t);break;case 1:Ns(t.type)&&A1(t);break;case 4:uT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Er(D1,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Er(zr,zr.current&1),t.flags|=128,null):r&t.child.childLanes?S6(e,t,r):(Er(zr,zr.current&1),e=fc(e,t,r),e!==null?e.sibling:null);Er(zr,zr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return N6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Er(zr,zr.current),n)break;return null;case 22:case 23:return t.lanes=0,_6(e,t,r)}return fc(e,t,r)}var k6,IN,C6,E6;k6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};IN=function(){};C6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Td(fl.current);var s=null;switch(r){case"input":a=sN(e,a),n=sN(e,n),s=[];break;case"select":a=qr({},a,{value:void 0}),n=qr({},n,{value:void 0}),s=[];break;case"textarea":a=lN(e,a),n=lN(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=E1)}uN(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_g.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_g.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};E6=function(e,t,r,n){r!==n&&(t.flags|=4)};function o0(e,t){if(!$r)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ma(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function YQ(e,t,r){var n=t.pendingProps;switch(nT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(t),null;case 1:return Ns(t.type)&&T1(),ma(t),null;case 3:return n=t.stateNode,_m(),Ir(Ss),Ir(Da),fT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ry(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mo!==null&&(HN(mo),mo=null))),IN(e,t),ma(t),null;case 5:dT(t);var a=Td(Dg.current);if(r=t.type,e!==null&&t.stateNode!=null)C6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ke(166));return ma(t),null}if(e=Td(fl.current),ry(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[tl]=t,n[Pg]=s,e=(t.mode&1)!==0,r){case"dialog":Rr("cancel",n),Rr("close",n);break;case"iframe":case"object":case"embed":Rr("load",n);break;case"video":case"audio":for(a=0;a<D0.length;a++)Rr(D0[a],n);break;case"source":Rr("error",n);break;case"img":case"image":case"link":Rr("error",n),Rr("load",n);break;case"details":Rr("toggle",n);break;case"input":F4(n,s),Rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",n);break;case"textarea":L4(n,s),Rr("invalid",n)}uN(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ty(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ty(n.textContent,l,e),a=["children",""+l]):_g.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Rr("scroll",n)}switch(r){case"input":Kx(n),I4(n,s,!0);break;case"textarea":Kx(n),$4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=E1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=r8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[tl]=t,e[Pg]=n,k6(e,t,!1,!1),t.stateNode=e;e:{switch(o=dN(r,n),r){case"dialog":Rr("cancel",e),Rr("close",e),a=n;break;case"iframe":case"object":case"embed":Rr("load",e),a=n;break;case"video":case"audio":for(a=0;a<D0.length;a++)Rr(D0[a],e);a=n;break;case"source":Rr("error",e),a=n;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=n;break;case"details":Rr("toggle",e),a=n;break;case"input":F4(e,n),a=sN(e,n),Rr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qr({},n,{value:void 0}),Rr("invalid",e);break;case"textarea":L4(e,n),a=lN(e,n),Rr("invalid",e);break;default:a=n}uN(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?s8(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&n8(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wg(e,c):typeof c=="number"&&wg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_g.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Rr("scroll",e):c!=null&&zE(e,s,c,o))}switch(r){case"input":Kx(e),I4(e,n,!1);break;case"textarea":Kx(e),$4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Uu(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?$h(e,!!n.multiple,s,!1):n.defaultValue!=null&&$h(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=E1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ma(t),null;case 6:if(e&&t.stateNode!=null)E6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ke(166));if(r=Td(Dg.current),Td(fl.current),ry(t)){if(n=t.stateNode,r=t.memoizedProps,n[tl]=t,(s=n.nodeValue!==r)&&(e=ai,e!==null))switch(e.tag){case 3:ty(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ty(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tl]=t,t.stateNode=n}return ma(t),null;case 13:if(Ir(zr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($r&&ri!==null&&t.mode&1&&!(t.flags&128))q8(),ym(),t.flags|=98560,s=!1;else if(s=ry(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ke(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ke(317));s[tl]=t}else ym(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ma(t),s=!1}else mo!==null&&(HN(mo),mo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zr.current&1?Mn===0&&(Mn=3):ST())),t.updateQueue!==null&&(t.flags|=4),ma(t),null);case 4:return _m(),IN(e,t),e===null&&Tg(t.stateNode.containerInfo),ma(t),null;case 10:return oT(t.type._context),ma(t),null;case 17:return Ns(t.type)&&T1(),ma(t),null;case 19:if(Ir(zr),s=t.memoizedState,s===null)return ma(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)o0(s,!1);else{if(Mn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=F1(e),o!==null){for(t.flags|=128,o0(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Er(zr,zr.current&1|2),t.child}e=e.sibling}s.tail!==null&&on()>jm&&(t.flags|=128,n=!0,o0(s,!1),t.lanes=4194304)}else{if(!n)if(e=F1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),o0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$r)return ma(t),null}else 2*on()-s.renderingStartTime>jm&&r!==1073741824&&(t.flags|=128,n=!0,o0(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=on(),t.sibling=null,r=zr.current,Er(zr,n?r&1|2:r&1),t):(ma(t),null);case 22:case 23:return jT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gs&1073741824&&(ma(t),t.subtreeFlags&6&&(t.flags|=8192)):ma(t),null;case 24:return null;case 25:return null}throw Error(Ke(156,t.tag))}function XQ(e,t){switch(nT(t),t.tag){case 1:return Ns(t.type)&&T1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _m(),Ir(Ss),Ir(Da),fT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dT(t),null;case 13:if(Ir(zr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ke(340));ym()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ir(zr),null;case 4:return _m(),null;case 10:return oT(t.type._context),null;case 22:case 23:return jT(),null;case 24:return null;default:return null}}var sy=!1,ka=!1,JQ=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Ph(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jr(e,t,n)}else r.current=null}function LN(e,t,r){try{r()}catch(n){Jr(e,t,n)}}var ED=!1;function QQ(e,t){if(_N=N1,e=D8(),tT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wN={focusedElem:e,selectionRange:r},N1=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ao(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(w){Jr(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return p=ED,ED=!1,p}function Y0(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&LN(t,r,s)}a=a.next}while(a!==n)}}function W_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $N(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T6(e){var t=e.alternate;t!==null&&(e.alternate=null,T6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tl],delete t[Pg],delete t[NN],delete t[RQ],delete t[MQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function A6(e){return e.tag===5||e.tag===3||e.tag===4}function TD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||A6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function BN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=E1));else if(n!==4&&(e=e.child,e!==null))for(BN(e,t,r),e=e.sibling;e!==null;)BN(e,t,r),e=e.sibling}function UN(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(UN(e,t,r),e=e.sibling;e!==null;)UN(e,t,r),e=e.sibling}var ra=null,lo=!1;function Bc(e,t,r){for(r=r.child;r!==null;)P6(e,t,r),r=r.sibling}function P6(e,t,r){if(dl&&typeof dl.onCommitFiberUnmount=="function")try{dl.onCommitFiberUnmount(F_,r)}catch{}switch(r.tag){case 5:ka||Ph(r,t);case 6:var n=ra,a=lo;ra=null,Bc(e,t,r),ra=n,lo=a,ra!==null&&(lo?(e=ra,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ra.removeChild(r.stateNode));break;case 18:ra!==null&&(lo?(e=ra,r=r.stateNode,e.nodeType===8?wS(e.parentNode,r):e.nodeType===1&&wS(e,r),kg(e)):wS(ra,r.stateNode));break;case 4:n=ra,a=lo,ra=r.stateNode.containerInfo,lo=!0,Bc(e,t,r),ra=n,lo=a;break;case 0:case 11:case 14:case 15:if(!ka&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&LN(r,t,o),a=a.next}while(a!==n)}Bc(e,t,r);break;case 1:if(!ka&&(Ph(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Jr(r,t,l)}Bc(e,t,r);break;case 21:Bc(e,t,r);break;case 22:r.mode&1?(ka=(n=ka)||r.memoizedState!==null,Bc(e,t,r),ka=n):Bc(e,t,r);break;default:Bc(e,t,r)}}function AD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new JQ),t.forEach(function(n){var a=oZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Qi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ra=l.stateNode,lo=!1;break e;case 3:ra=l.stateNode.containerInfo,lo=!0;break e;case 4:ra=l.stateNode.containerInfo,lo=!0;break e}l=l.return}if(ra===null)throw Error(Ke(160));P6(s,o,a),ra=null,lo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Jr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O6(t,e),t=t.sibling}function O6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(t,e),Vo(e),n&4){try{Y0(3,e,e.return),W_(3,e)}catch(g){Jr(e,e.return,g)}try{Y0(5,e,e.return)}catch(g){Jr(e,e.return,g)}}break;case 1:Qi(t,e),Vo(e),n&512&&r!==null&&Ph(r,r.return);break;case 5:if(Qi(t,e),Vo(e),n&512&&r!==null&&Ph(r,r.return),e.flags&32){var a=e.stateNode;try{wg(a,"")}catch(g){Jr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&e8(a,s),dN(l,o);var u=dN(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?s8(a,f):d==="dangerouslySetInnerHTML"?n8(a,f):d==="children"?wg(a,f):zE(a,d,f,u)}switch(l){case"input":iN(a,s);break;case"textarea":t8(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?$h(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?$h(a,!!s.multiple,s.defaultValue,!0):$h(a,!!s.multiple,s.multiple?[]:"",!1))}a[Pg]=s}catch(g){Jr(e,e.return,g)}}break;case 6:if(Qi(t,e),Vo(e),n&4){if(e.stateNode===null)throw Error(Ke(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){Jr(e,e.return,g)}}break;case 3:if(Qi(t,e),Vo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kg(t.containerInfo)}catch(g){Jr(e,e.return,g)}break;case 4:Qi(t,e),Vo(e);break;case 13:Qi(t,e),Vo(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(_T=on())),n&4&&AD(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ka=(u=ka)||d,Qi(t,e),ka=u):Qi(t,e),Vo(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ut=e,d=e.child;d!==null;){for(f=ut=d;ut!==null;){switch(h=ut,m=h.child,h.tag){case 0:case 11:case 14:case 15:Y0(4,h,h.return);break;case 1:Ph(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Jr(n,r,g)}}break;case 5:Ph(h,h.return);break;case 22:if(h.memoizedState!==null){OD(f);continue}}m!==null?(m.return=h,ut=m):OD(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=a8("display",o))}catch(g){Jr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Jr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qi(t,e),Vo(e),n&4&&AD(e);break;case 21:break;default:Qi(t,e),Vo(e)}}function Vo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(A6(r)){var n=r;break e}r=r.return}throw Error(Ke(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wg(a,""),n.flags&=-33);var s=TD(e);UN(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=TD(e);BN(e,l,o);break;default:throw Error(Ke(161))}}catch(c){Jr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZQ(e,t,r){ut=e,D6(e)}function D6(e,t,r){for(var n=(e.mode&1)!==0;ut!==null;){var a=ut,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||sy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ka;l=sy;var u=ka;if(sy=o,(ka=c)&&!u)for(ut=a;ut!==null;)o=ut,c=o.child,o.tag===22&&o.memoizedState!==null?DD(a):c!==null?(c.return=o,ut=c):DD(a);for(;s!==null;)ut=s,D6(s),s=s.sibling;ut=a,sy=l,ka=u}PD(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ut=s):PD(e)}}function PD(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ka||W_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ka)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ao(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&pD(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pD(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&kg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}ka||t.flags&512&&$N(t)}catch(h){Jr(t,t.return,h)}}if(t===e){ut=null;break}if(r=t.sibling,r!==null){r.return=t.return,ut=r;break}ut=t.return}}function OD(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ut=r;break}ut=t.return}}function DD(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{W_(4,t)}catch(c){Jr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Jr(t,a,c)}}var s=t.return;try{$N(t)}catch(c){Jr(t,s,c)}break;case 5:var o=t.return;try{$N(t)}catch(c){Jr(t,o,c)}}}catch(c){Jr(t,t.return,c)}if(t===e){ut=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ut=l;break}ut=t.return}}var eZ=Math.ceil,$1=kc.ReactCurrentDispatcher,yT=kc.ReactCurrentOwner,Di=kc.ReactCurrentBatchConfig,nr=0,Gn=null,yn=null,sa=0,Gs=0,Oh=Zu(0),Mn=0,Ig=null,sf=0,H_=0,bT=0,X0=null,ys=null,_T=0,jm=1/0,Bl=null,B1=!1,zN=null,Pu=null,iy=!1,xu=null,U1=0,J0=0,VN=null,r1=-1,n1=0;function ss(){return nr&6?on():r1!==-1?r1:r1=on()}function Ou(e){return e.mode&1?nr&2&&sa!==0?sa&-sa:IQ.transition!==null?(n1===0&&(n1=v8()),n1):(e=_r,e!==0||(e=window.event,e=e===void 0?16:S8(e.type)),e):1}function wo(e,t,r,n){if(50<J0)throw J0=0,VN=null,Error(Ke(185));Hv(e,r,n),(!(nr&2)||e!==Gn)&&(e===Gn&&(!(nr&2)&&(H_|=r),Mn===4&&eu(e,sa)),ks(e,n),r===1&&nr===0&&!(t.mode&1)&&(jm=on()+500,U_&&ed()))}function ks(e,t){var r=e.callbackNode;IJ(e,t);var n=S1(e,e===Gn?sa:0);if(n===0)r!==null&&z4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&z4(r),t===1)e.tag===0?FQ(RD.bind(null,e)):V8(RD.bind(null,e)),OQ(function(){!(nr&6)&&ed()}),r=null;else{switch(x8(n)){case 1:r=KE;break;case 4:r=p8;break;case 16:r=j1;break;case 536870912:r=g8;break;default:r=j1}r=U6(r,R6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function R6(e,t){if(r1=-1,n1=0,nr&6)throw Error(Ke(327));var r=e.callbackNode;if(Wh()&&e.callbackNode!==r)return null;var n=S1(e,e===Gn?sa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=z1(e,n);else{t=n;var a=nr;nr|=2;var s=F6();(Gn!==e||sa!==t)&&(Bl=null,jm=on()+500,Gd(e,t));do try{nZ();break}catch(l){M6(e,l)}while(!0);iT(),$1.current=s,nr=a,yn!==null?t=0:(Gn=null,sa=0,t=Mn)}if(t!==0){if(t===2&&(a=gN(e),a!==0&&(n=a,t=WN(e,a))),t===1)throw r=Ig,Gd(e,0),eu(e,n),ks(e,on()),r;if(t===6)eu(e,n);else{if(a=e.current.alternate,!(n&30)&&!tZ(a)&&(t=z1(e,n),t===2&&(s=gN(e),s!==0&&(n=s,t=WN(e,s))),t===1))throw r=Ig,Gd(e,0),eu(e,n),ks(e,on()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ke(345));case 2:vd(e,ys,Bl);break;case 3:if(eu(e,n),(n&130023424)===n&&(t=_T+500-on(),10<t)){if(S1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ss(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=SN(vd.bind(null,e,ys,Bl),t);break}vd(e,ys,Bl);break;case 4:if(eu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-_o(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=on()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eZ(n/1960))-n,10<n){e.timeoutHandle=SN(vd.bind(null,e,ys,Bl),n);break}vd(e,ys,Bl);break;case 5:vd(e,ys,Bl);break;default:throw Error(Ke(329))}}}return ks(e,on()),e.callbackNode===r?R6.bind(null,e):null}function WN(e,t){var r=X0;return e.current.memoizedState.isDehydrated&&(Gd(e,t).flags|=256),e=z1(e,t),e!==2&&(t=ys,ys=r,t!==null&&HN(t)),e}function HN(e){ys===null?ys=e:ys.push.apply(ys,e)}function tZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Eo(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t){for(t&=~bT,t&=~H_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_o(t),n=1<<r;e[r]=-1,t&=~n}}function RD(e){if(nr&6)throw Error(Ke(327));Wh();var t=S1(e,0);if(!(t&1))return ks(e,on()),null;var r=z1(e,t);if(e.tag!==0&&r===2){var n=gN(e);n!==0&&(t=n,r=WN(e,n))}if(r===1)throw r=Ig,Gd(e,0),eu(e,t),ks(e,on()),r;if(r===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vd(e,ys,Bl),ks(e,on()),null}function wT(e,t){var r=nr;nr|=1;try{return e(t)}finally{nr=r,nr===0&&(jm=on()+500,U_&&ed())}}function of(e){xu!==null&&xu.tag===0&&!(nr&6)&&Wh();var t=nr;nr|=1;var r=Di.transition,n=_r;try{if(Di.transition=null,_r=1,e)return e()}finally{_r=n,Di.transition=r,nr=t,!(nr&6)&&ed()}}function jT(){Gs=Oh.current,Ir(Oh)}function Gd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PQ(r)),yn!==null)for(r=yn.return;r!==null;){var n=r;switch(nT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&T1();break;case 3:_m(),Ir(Ss),Ir(Da),fT();break;case 5:dT(n);break;case 4:_m();break;case 13:Ir(zr);break;case 19:Ir(zr);break;case 10:oT(n.type._context);break;case 22:case 23:jT()}r=r.return}if(Gn=e,yn=e=Du(e.current,null),sa=Gs=t,Mn=0,Ig=null,bT=H_=sf=0,ys=X0=null,Ed!==null){for(t=0;t<Ed.length;t++)if(r=Ed[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}Ed=null}return e}function M6(e,t){do{var r=yn;try{if(iT(),Zy.current=L1,I1){for(var n=Hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}I1=!1}if(af=0,Hn=An=Hr=null,G0=!1,Rg=0,yT.current=null,r===null||r.return===null){Mn=1,Ig=t,yn=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=sa,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_D(o);if(m!==null){m.flags&=-257,wD(m,o,l,s,t),m.mode&1&&bD(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}else{if(!(t&1)){bD(s,u,t),ST();break e}c=Error(Ke(426))}}else if($r&&l.mode&1){var v=_D(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wD(v,o,l,s,t),aT(wm(c,l));break e}}s=c=wm(c,l),Mn!==4&&(Mn=2),X0===null?X0=[s]:X0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=x6(s,c,t);mD(s,y);break e;case 1:l=c;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pu===null||!Pu.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=y6(s,l,t);mD(s,w);break e}}s=s.return}while(s!==null)}L6(r)}catch(j){t=j,yn===r&&r!==null&&(yn=r=r.return);continue}break}while(!0)}function F6(){var e=$1.current;return $1.current=L1,e===null?L1:e}function ST(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Gn===null||!(sf&268435455)&&!(H_&268435455)||eu(Gn,sa)}function z1(e,t){var r=nr;nr|=2;var n=F6();(Gn!==e||sa!==t)&&(Bl=null,Gd(e,t));do try{rZ();break}catch(a){M6(e,a)}while(!0);if(iT(),nr=r,$1.current=n,yn!==null)throw Error(Ke(261));return Gn=null,sa=0,Mn}function rZ(){for(;yn!==null;)I6(yn)}function nZ(){for(;yn!==null&&!EJ();)I6(yn)}function I6(e){var t=B6(e.alternate,e,Gs);e.memoizedProps=e.pendingProps,t===null?L6(e):yn=t,yT.current=null}function L6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=XQ(r,t),r!==null){r.flags&=32767,yn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mn=6,yn=null;return}}else if(r=YQ(r,t,Gs),r!==null){yn=r;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);Mn===0&&(Mn=5)}function vd(e,t,r){var n=_r,a=Di.transition;try{Di.transition=null,_r=1,aZ(e,t,r,n)}finally{Di.transition=a,_r=n}return null}function aZ(e,t,r,n){do Wh();while(xu!==null);if(nr&6)throw Error(Ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(LJ(e,s),e===Gn&&(yn=Gn=null,sa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||iy||(iy=!0,U6(j1,function(){return Wh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Di.transition,Di.transition=null;var o=_r;_r=1;var l=nr;nr|=4,yT.current=null,QQ(e,r),O6(r,e),SQ(wN),N1=!!_N,wN=_N=null,e.current=r,ZQ(r),TJ(),nr=l,_r=o,Di.transition=s}else e.current=r;if(iy&&(iy=!1,xu=e,U1=a),s=e.pendingLanes,s===0&&(Pu=null),OJ(r.stateNode),ks(e,on()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(B1)throw B1=!1,e=zN,zN=null,e;return U1&1&&e.tag!==0&&Wh(),s=e.pendingLanes,s&1?e===VN?J0++:(J0=0,VN=e):J0=0,ed(),null}function Wh(){if(xu!==null){var e=x8(U1),t=Di.transition,r=_r;try{if(Di.transition=null,_r=16>e?16:e,xu===null)var n=!1;else{if(e=xu,xu=null,U1=0,nr&6)throw Error(Ke(331));var a=nr;for(nr|=4,ut=e.current;ut!==null;){var s=ut,o=s.child;if(ut.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ut=u;ut!==null;){var d=ut;switch(d.tag){case 0:case 11:case 15:Y0(8,d,s)}var f=d.child;if(f!==null)f.return=d,ut=f;else for(;ut!==null;){d=ut;var h=d.sibling,m=d.return;if(T6(d),d===u){ut=null;break}if(h!==null){h.return=m,ut=h;break}ut=m}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ut=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ut=o;else e:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Y0(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ut=y;break e}ut=s.return}}var b=e.current;for(ut=b;ut!==null;){o=ut;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ut=_;else e:for(o=b;ut!==null;){if(l=ut,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:W_(9,l)}}catch(j){Jr(l,l.return,j)}if(l===o){ut=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ut=w;break e}ut=l.return}}if(nr=a,ed(),dl&&typeof dl.onPostCommitFiberRoot=="function")try{dl.onPostCommitFiberRoot(F_,e)}catch{}n=!0}return n}finally{_r=r,Di.transition=t}}return!1}function MD(e,t,r){t=wm(r,t),t=x6(e,t,1),e=Au(e,t,1),t=ss(),e!==null&&(Hv(e,1,t),ks(e,t))}function Jr(e,t,r){if(e.tag===3)MD(e,e,r);else for(;t!==null;){if(t.tag===3){MD(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pu===null||!Pu.has(n))){e=wm(r,e),e=y6(t,e,1),t=Au(t,e,1),e=ss(),t!==null&&(Hv(t,1,e),ks(t,e));break}}t=t.return}}function sZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ss(),e.pingedLanes|=e.suspendedLanes&r,Gn===e&&(sa&r)===r&&(Mn===4||Mn===3&&(sa&130023424)===sa&&500>on()-_T?Gd(e,0):bT|=r),ks(e,t)}function $6(e,t){t===0&&(e.mode&1?(t=Xx,Xx<<=1,!(Xx&130023424)&&(Xx=4194304)):t=1);var r=ss();e=dc(e,t),e!==null&&(Hv(e,t,r),ks(e,r))}function iZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$6(e,r)}function oZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ke(314))}n!==null&&n.delete(t),$6(e,r)}var B6;B6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)_s=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return _s=!1,GQ(e,t,r);_s=!!(e.flags&131072)}else _s=!1,$r&&t.flags&1048576&&W8(t,O1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;t1(e,t),e=t.pendingProps;var a=xm(t,Da.current);Vh(t,r),a=mT(null,t,n,e,a,r);var s=pT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(n)?(s=!0,A1(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cT(t),a.updater=V_,t.stateNode=a,a._reactInternals=t,PN(t,n,e,r),t=RN(null,t,n,!0,s,r)):(t.tag=0,$r&&s&&rT(t),Ha(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(t1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=cZ(n),e=ao(n,e),a){case 0:t=DN(null,t,n,e,r);break e;case 1:t=ND(null,t,n,e,r);break e;case 11:t=jD(null,t,n,e,r);break e;case 14:t=SD(null,t,n,ao(n.type,e),r);break e}throw Error(Ke(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ao(n,a),DN(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ao(n,a),ND(e,t,n,a,r);case 3:e:{if(j6(t),e===null)throw Error(Ke(387));n=t.pendingProps,s=t.memoizedState,a=s.element,X8(e,t),M1(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=wm(Error(Ke(423)),t),t=kD(e,t,n,r,a);break e}else if(n!==a){a=wm(Error(Ke(424)),t),t=kD(e,t,n,r,a);break e}else for(ri=Tu(t.stateNode.containerInfo.firstChild),ai=t,$r=!0,mo=null,r=G8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ym(),n===a){t=fc(e,t,r);break e}Ha(e,t,n,r)}t=t.child}return t;case 5:return J8(t),e===null&&EN(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,jN(n,a)?o=null:s!==null&&jN(n,s)&&(t.flags|=32),w6(e,t),Ha(e,t,o,r),t.child;case 6:return e===null&&EN(t),null;case 13:return S6(e,t,r);case 4:return uT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bm(t,null,n,r):Ha(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ao(n,a),jD(e,t,n,a,r);case 7:return Ha(e,t,t.pendingProps,r),t.child;case 8:return Ha(e,t,t.pendingProps.children,r),t.child;case 12:return Ha(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Er(D1,n._currentValue),n._currentValue=o,s!==null)if(Eo(s.value,o)){if(s.children===a.children&&!Ss.current){t=fc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=tc(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),TN(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),TN(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ha(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vh(t,r),a=Mi(a),n=n(a),t.flags|=1,Ha(e,t,n,r),t.child;case 14:return n=t.type,a=ao(n,t.pendingProps),a=ao(n.type,a),SD(e,t,n,a,r);case 15:return b6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ao(n,a),t1(e,t),t.tag=1,Ns(n)?(e=!0,A1(t)):e=!1,Vh(t,r),v6(t,n,a),PN(t,n,a,r),RN(null,t,n,!0,e,r);case 19:return N6(e,t,r);case 22:return _6(e,t,r)}throw Error(Ke(156,t.tag))};function U6(e,t){return m8(e,t)}function lZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(e,t,r,n){return new lZ(e,t,r,n)}function NT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cZ(e){if(typeof e=="function")return NT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===WE)return 11;if(e===HE)return 14}return 2}function Du(e,t){var r=e.alternate;return r===null?(r=Pi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function a1(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")NT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wh:return Yd(r.children,a,s,t);case VE:o=8,a|=8;break;case tN:return e=Pi(12,r,t,a|2),e.elementType=tN,e.lanes=s,e;case rN:return e=Pi(13,r,t,a),e.elementType=rN,e.lanes=s,e;case nN:return e=Pi(19,r,t,a),e.elementType=nN,e.lanes=s,e;case J$:return q_(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y$:o=10;break e;case X$:o=9;break e;case WE:o=11;break e;case HE:o=14;break e;case Kc:o=16,n=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return t=Pi(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Yd(e,t,r,n){return e=Pi(7,e,n,t),e.lanes=r,e}function q_(e,t,r,n){return e=Pi(22,e,n,t),e.elementType=J$,e.lanes=r,e.stateNode={isHidden:!1},e}function AS(e,t,r){return e=Pi(6,e,null,t),e.lanes=r,e}function PS(e,t,r){return t=Pi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uZ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dS(0),this.expirationTimes=dS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dS(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function kT(e,t,r,n,a,s,o,l,c){return e=new uZ(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},cT(s),e}function dZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_h,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function z6(e){if(!e)return zu;e=e._reactInternals;e:{if(Pf(e)!==e||e.tag!==1)throw Error(Ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ke(171))}if(e.tag===1){var r=e.type;if(Ns(r))return z8(e,r,t)}return t}function V6(e,t,r,n,a,s,o,l,c){return e=kT(r,n,!0,e,a,s,o,l,c),e.context=z6(null),r=e.current,n=ss(),a=Ou(r),s=tc(n,a),s.callback=t??null,Au(r,s,a),e.current.lanes=a,Hv(e,a,n),ks(e,n),e}function K_(e,t,r,n){var a=t.current,s=ss(),o=Ou(a);return r=z6(r),t.context===null?t.context=r:t.pendingContext=r,t=tc(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Au(a,t,o),e!==null&&(wo(e,a,o,s),Qy(e,a,o)),o}function V1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function CT(e,t){FD(e,t),(e=e.alternate)&&FD(e,t)}function fZ(){return null}var W6=typeof reportError=="function"?reportError:function(e){console.error(e)};function ET(e){this._internalRoot=e}G_.prototype.render=ET.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ke(409));K_(e,t,null,null)};G_.prototype.unmount=ET.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;of(function(){K_(null,e,null,null)}),t[uc]=null}};function G_(e){this._internalRoot=e}G_.prototype.unstable_scheduleHydration=function(e){if(e){var t=_8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zc.length&&t!==0&&t<Zc[r].priority;r++);Zc.splice(r,0,e),r===0&&j8(e)}};function TT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Y_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ID(){}function hZ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=V1(o);s.call(u)}}var o=V6(t,n,e,0,null,!1,!1,"",ID);return e._reactRootContainer=o,e[uc]=o.current,Tg(e.nodeType===8?e.parentNode:e),of(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=V1(c);l.call(u)}}var c=kT(e,0,!1,null,null,!1,!1,"",ID);return e._reactRootContainer=c,e[uc]=c.current,Tg(e.nodeType===8?e.parentNode:e),of(function(){K_(t,c,r,n)}),c}function X_(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=V1(o);l.call(c)}}K_(t,o,e,a)}else o=hZ(r,t,e,a,n);return V1(o)}y8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=O0(t.pendingLanes);r!==0&&(GE(t,r|1),ks(t,on()),!(nr&6)&&(jm=on()+500,ed()))}break;case 13:of(function(){var n=dc(e,1);if(n!==null){var a=ss();wo(n,e,1,a)}}),CT(e,1)}};YE=function(e){if(e.tag===13){var t=dc(e,134217728);if(t!==null){var r=ss();wo(t,e,134217728,r)}CT(e,134217728)}};b8=function(e){if(e.tag===13){var t=Ou(e),r=dc(e,t);if(r!==null){var n=ss();wo(r,e,t,n)}CT(e,t)}};_8=function(){return _r};w8=function(e,t){var r=_r;try{return _r=e,t()}finally{_r=r}};hN=function(e,t,r){switch(t){case"input":if(iN(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=B_(n);if(!a)throw Error(Ke(90));Z$(n),iN(n,a)}}}break;case"textarea":t8(e,r);break;case"select":t=r.value,t!=null&&$h(e,!!r.multiple,t,!1)}};l8=wT;c8=of;var mZ={usingClientEntryPoint:!1,Events:[Kv,kh,B_,i8,o8,wT]},l0={findFiberByHostInstance:Cd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pZ={bundleType:l0.bundleType,version:l0.version,rendererPackageName:l0.rendererPackageName,rendererConfig:l0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=f8(e),e===null?null:e.stateNode},findFiberByHostInstance:l0.findFiberByHostInstance||fZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oy.isDisabled&&oy.supportsFiber)try{F_=oy.inject(pZ),dl=oy}catch{}}hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mZ;hi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TT(t))throw Error(Ke(200));return dZ(e,t,null,r)};hi.createRoot=function(e,t){if(!TT(e))throw Error(Ke(299));var r=!1,n="",a=W6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=kT(e,1,!1,null,null,r,!1,n,a),e[uc]=t.current,Tg(e.nodeType===8?e.parentNode:e),new ET(t)};hi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=f8(t),e=e===null?null:e.stateNode,e};hi.flushSync=function(e){return of(e)};hi.hydrate=function(e,t,r){if(!Y_(t))throw Error(Ke(200));return X_(null,e,t,!0,r)};hi.hydrateRoot=function(e,t,r){if(!TT(e))throw Error(Ke(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=W6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=V6(t,null,e,1,r??null,a,!1,s,o),e[uc]=t.current,Tg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new G_(t)};hi.render=function(e,t,r){if(!Y_(t))throw Error(Ke(200));return X_(null,e,t,!1,r)};hi.unmountComponentAtNode=function(e){if(!Y_(e))throw Error(Ke(40));return e._reactRootContainer?(of(function(){X_(null,null,e,!1,function(){e._reactRootContainer=null,e[uc]=null})}),!0):!1};hi.unstable_batchedUpdates=wT;hi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Y_(r))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return X_(e,t,r,!1,n)};hi.version="18.3.1-next-f1338f8080-20240426";function H6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H6)}catch(e){console.error(e)}}H6(),H$.exports=hi;var _p=H$.exports;const gZ=vr(_p);var q6,LD=_p;q6=LD.createRoot,LD.hydrateRoot;var wp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lf=typeof window>"u"||"Deno"in globalThis;function qa(){}function vZ(e,t){return typeof e=="function"?e(t):e}function qN(e){return typeof e=="number"&&e>=0&&e!==1/0}function K6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ru(e,t){return typeof e=="function"?e(t):e}function Ni(e,t){return typeof e=="function"?e(t):e}function $D(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==AT(o,t.options))return!1}else if(!Lg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function BD(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(cf(t.options.mutationKey)!==cf(s))return!1}else if(!Lg(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function AT(e,t){return((t==null?void 0:t.queryKeyHashFn)||cf)(e)}function cf(e){return JSON.stringify(e,(t,r)=>KN(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Lg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lg(e[r],t[r])):!1}function G6(e,t){if(e===t)return e;const r=UD(e)&&UD(t);if(r||KN(e)&&KN(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=G6(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function W1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function UD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function KN(e){if(!zD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zD(e){return Object.prototype.toString.call(e)==="[object Object]"}function xZ(e){return new Promise(t=>{setTimeout(t,e)})}function GN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?G6(e,t):t}function yZ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function bZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var PT=Symbol();function Y6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===PT?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function X6(e,t){return typeof e=="function"?e(...t):!!e}var $d,ou,sm,S$,_Z=(S$=class extends wp{constructor(){super();St(this,$d);St(this,ou);St(this,sm);ot(this,sm,t=>{if(!lf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){he(this,ou)||this.setEventListener(he(this,sm))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,ou))==null||t.call(this),ot(this,ou,void 0))}setEventListener(t){var r;ot(this,sm,t),(r=he(this,ou))==null||r.call(this),ot(this,ou,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){he(this,$d)!==t&&(ot(this,$d,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof he(this,$d)=="boolean"?he(this,$d):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},$d=new WeakMap,ou=new WeakMap,sm=new WeakMap,S$),OT=new _Z,im,lu,om,N$,wZ=(N$=class extends wp{constructor(){super();St(this,im,!0);St(this,lu);St(this,om);ot(this,om,t=>{if(!lf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){he(this,lu)||this.setEventListener(he(this,om))}onUnsubscribe(){var t;this.hasListeners()||((t=he(this,lu))==null||t.call(this),ot(this,lu,void 0))}setEventListener(t){var r;ot(this,om,t),(r=he(this,lu))==null||r.call(this),ot(this,lu,t(this.setOnline.bind(this)))}setOnline(t){he(this,im)!==t&&(ot(this,im,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return he(this,im)}},im=new WeakMap,lu=new WeakMap,om=new WeakMap,N$),H1=new wZ;function YN(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function jZ(e){return Math.min(1e3*2**e,3e4)}function J6(e){return(e??"online")==="online"?H1.isOnline():!0}var Q6=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function OS(e){return e instanceof Q6}function Z6(e){let t=!1,r=0,n=!1,a;const s=YN(),o=g=>{var v;n||(h(new Q6(g)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>OT.isFocused()&&(e.networkMode==="always"||H1.isOnline())&&e.canRun(),d=()=>J6(e.networkMode)&&e.canRun(),f=g=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,g),a==null||a(),s.resolve(g))},h=g=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,g),a==null||a(),s.reject(g))},m=()=>new Promise(g=>{var v;a=y=>{(n||u())&&g(y)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(n)return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var N;if(n)return;const b=e.retry??(lf?0:3),_=e.retryDelay??jZ,w=typeof _=="function"?_(r,y):_,j=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!j){h(y);return}r++,(N=e.onFail)==null||N.call(e,r,y),xZ(w).then(()=>u()?void 0:m()).then(()=>{t?h(y):p()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var SZ=e=>setTimeout(e,0);function NZ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=SZ;const s=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var On=NZ(),Bd,k$,eB=(k$=class{constructor(){St(this,Bd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qN(this.gcTime)&&ot(this,Bd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(lf?1/0:5*60*1e3))}clearGcTimeout(){he(this,Bd)&&(clearTimeout(he(this,Bd)),ot(this,Bd,void 0))}},Bd=new WeakMap,k$),lm,Ud,Si,zd,ja,Bv,Vd,io,$l,C$,kZ=(C$=class extends eB{constructor(t){super();St(this,io);St(this,lm);St(this,Ud);St(this,Si);St(this,zd);St(this,ja);St(this,Bv);St(this,Vd);ot(this,Vd,!1),ot(this,Bv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ot(this,zd,t.client),ot(this,Si,he(this,zd).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ot(this,lm,CZ(this.options)),this.state=t.state??he(this,lm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=he(this,ja))==null?void 0:t.promise}setOptions(t){this.options={...he(this,Bv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,Si).remove(this)}setData(t,r){const n=GN(this.state.data,t,this.options);return Wt(this,io,$l).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Wt(this,io,$l).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=he(this,ja))==null?void 0:n.promise;return(a=he(this,ja))==null||a.cancel(t),r?r.then(qa).catch(qa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,lm))}isActive(){return this.observers.some(t=>Ni(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===PT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ru(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!K6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ja))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=he(this,ja))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),he(this,Si).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(he(this,ja)&&(he(this,Vd)?he(this,ja).cancel({revert:!0}):he(this,ja).cancelRetry()),this.scheduleGc()),he(this,Si).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,io,$l).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(he(this,ja))return he(this,ja).continueRetry(),he(this,ja).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ot(this,Vd,!0),n.signal)})},s=()=>{const h=Y6(this.options,r),p=(()=>{const g={client:he(this,zd),queryKey:this.queryKey,meta:this.meta};return a(g),g})();return ot(this,Vd,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:he(this,zd),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),ot(this,Ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Wt(this,io,$l).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,g,v;OS(h)&&h.silent||Wt(this,io,$l).call(this,{type:"error",error:h}),OS(h)||((p=(m=he(this,Si).config).onError)==null||p.call(m,h,this),(v=(g=he(this,Si).config).onSettled)==null||v.call(g,this.state.data,h,this)),this.scheduleGc()};return ot(this,ja,Z6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,p,g,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){c(y);return}(p=(m=he(this,Si).config).onSuccess)==null||p.call(m,h,this),(v=(g=he(this,Si).config).onSettled)==null||v.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Wt(this,io,$l).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Wt(this,io,$l).call(this,{type:"pause"})},onContinue:()=>{Wt(this,io,$l).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),he(this,ja).start()}},lm=new WeakMap,Ud=new WeakMap,Si=new WeakMap,zd=new WeakMap,ja=new WeakMap,Bv=new WeakMap,Vd=new WeakMap,io=new WeakSet,$l=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tB(n.data,this.options),fetchMeta:t.meta??null};case"success":return ot(this,Ud,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return OS(a)&&a.revert&&he(this,Ud)?{...he(this,Ud),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),On.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),he(this,Si).notify({query:this,type:"updated",action:t})})},C$);function tB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function CZ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qo,E$,EZ=(E$=class extends wp{constructor(t={}){super();St(this,Qo);this.config=t,ot(this,Qo,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??AT(a,r);let o=this.get(s);return o||(o=new kZ({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){he(this,Qo).has(t.queryHash)||(he(this,Qo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=he(this,Qo).get(t.queryHash);r&&(t.destroy(),r===t&&he(this,Qo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){On.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return he(this,Qo).get(t)}getAll(){return[...he(this,Qo).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$D(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$D(t,n)):r}notify(t){On.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){On.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){On.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qo=new WeakMap,E$),Zo,Va,Wd,el,Hc,T$,TZ=(T$=class extends eB{constructor(t){super();St(this,el);St(this,Zo);St(this,Va);St(this,Wd);this.mutationId=t.mutationId,ot(this,Va,t.mutationCache),ot(this,Zo,[]),this.state=t.state||rB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){he(this,Zo).includes(t)||(he(this,Zo).push(t),this.clearGcTimeout(),he(this,Va).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ot(this,Zo,he(this,Zo).filter(r=>r!==t)),this.scheduleGc(),he(this,Va).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){he(this,Zo).length||(this.state.status==="pending"?this.scheduleGc():he(this,Va).remove(this))}continue(){var t;return((t=he(this,Wd))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,l,c,u,d,f,h,m,p,g,v,y,b,_,w,j,N,S,k;const r=()=>{Wt(this,el,Hc).call(this,{type:"continue"})};ot(this,Wd,Z6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Wt(this,el,Hc).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Wt(this,el,Hc).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,Va).canRun(this)}));const n=this.state.status==="pending",a=!he(this,Wd).canStart();try{if(n)r();else{Wt(this,el,Hc).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=he(this,Va).config).onMutate)==null?void 0:o.call(s,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&Wt(this,el,Hc).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const C=await he(this,Wd).start();return await((d=(u=he(this,Va).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,C,t,this.state.context)),await((p=(m=he(this,Va).config).onSettled)==null?void 0:p.call(m,C,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,C,null,t,this.state.context)),Wt(this,el,Hc).call(this,{type:"success",data:C}),C}catch(C){try{throw await((b=(y=he(this,Va).config).onError)==null?void 0:b.call(y,C,t,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,C,t,this.state.context)),await((N=(j=he(this,Va).config).onSettled)==null?void 0:N.call(j,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{Wt(this,el,Hc).call(this,{type:"error",error:C})}}finally{he(this,Va).runNext(this)}}},Zo=new WeakMap,Va=new WeakMap,Wd=new WeakMap,el=new WeakSet,Hc=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),On.batch(()=>{he(this,Zo).forEach(n=>{n.onMutationUpdate(t)}),he(this,Va).notify({mutation:this,type:"updated",action:t})})},T$);function rB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vl,oo,Uv,A$,AZ=(A$=class extends wp{constructor(t={}){super();St(this,Vl);St(this,oo);St(this,Uv);this.config=t,ot(this,Vl,new Set),ot(this,oo,new Map),ot(this,Uv,0)}build(t,r,n){const a=new TZ({mutationCache:this,mutationId:++Vx(this,Uv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){he(this,Vl).add(t);const r=ly(t);if(typeof r=="string"){const n=he(this,oo).get(r);n?n.push(t):he(this,oo).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(he(this,Vl).delete(t)){const r=ly(t);if(typeof r=="string"){const n=he(this,oo).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&he(this,oo).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ly(t);if(typeof r=="string"){const n=he(this,oo).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=ly(t);if(typeof r=="string"){const a=(n=he(this,oo).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){On.batch(()=>{he(this,Vl).forEach(t=>{this.notify({type:"removed",mutation:t})}),he(this,Vl).clear(),he(this,oo).clear()})}getAll(){return Array.from(he(this,Vl))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>BD(r,n))}findAll(t={}){return this.getAll().filter(r=>BD(t,r))}notify(t){On.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return On.batch(()=>Promise.all(t.map(r=>r.continue().catch(qa))))}},Vl=new WeakMap,oo=new WeakMap,Uv=new WeakMap,A$);function ly(e){var t;return(t=e.options.scope)==null?void 0:t.id}function VD(e){return{onFetch:(t,r)=>{var d,f,h,m,p;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=Y6(t.options,t.fetchOptions),b=async(_,w,j)=>{if(g)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const S=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return v(P),P})(),k=await y(S),{maxPages:C}=t.options,A=j?bZ:yZ;return{pages:A(_.pages,k,C),pageParams:A(_.pageParams,w,C)}};if(a&&s.length){const _=a==="backward",w=_?PZ:WD,j={pages:s,pageParams:o},N=w(n,j);l=await b(j,N,_)}else{const _=e??s.length;do{const w=c===0?o[0]??n.initialPageParam:WD(n,l);if(c>0&&w==null)break;l=await b(l,w),c++}while(c<_)}return l};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function WD(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function PZ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Gr,cu,uu,cm,um,du,dm,fm,P$,OZ=(P$=class{constructor(e={}){St(this,Gr);St(this,cu);St(this,uu);St(this,cm);St(this,um);St(this,du);St(this,dm);St(this,fm);ot(this,Gr,e.queryCache||new EZ),ot(this,cu,e.mutationCache||new AZ),ot(this,uu,e.defaultOptions||{}),ot(this,cm,new Map),ot(this,um,new Map),ot(this,du,0)}mount(){Vx(this,du)._++,he(this,du)===1&&(ot(this,dm,OT.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Gr).onFocus())})),ot(this,fm,H1.subscribe(async e=>{e&&(await this.resumePausedMutations(),he(this,Gr).onOnline())})))}unmount(){var e,t;Vx(this,du)._--,he(this,du)===0&&((e=he(this,dm))==null||e.call(this),ot(this,dm,void 0),(t=he(this,fm))==null||t.call(this),ot(this,fm,void 0))}isFetching(e){return he(this,Gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return he(this,cu).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=he(this,Gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ru(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return he(this,Gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=he(this,Gr).get(n.queryHash),s=a==null?void 0:a.state.data,o=vZ(t,s);if(o!==void 0)return he(this,Gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return On.batch(()=>he(this,Gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=he(this,Gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=he(this,Gr);On.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=he(this,Gr);return On.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=On.batch(()=>he(this,Gr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(qa).catch(qa)}invalidateQueries(e,t={}){return On.batch(()=>(he(this,Gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=On.batch(()=>he(this,Gr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(qa)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(qa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=he(this,Gr).build(this,t);return r.isStaleByTime(Ru(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qa).catch(qa)}fetchInfiniteQuery(e){return e.behavior=VD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qa).catch(qa)}ensureInfiniteQueryData(e){return e.behavior=VD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return H1.isOnline()?he(this,cu).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,Gr)}getMutationCache(){return he(this,cu)}getDefaultOptions(){return he(this,uu)}setDefaultOptions(e){ot(this,uu,e)}setQueryDefaults(e,t){he(this,cm).set(cf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...he(this,cm).values()],r={};return t.forEach(n=>{Lg(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){he(this,um).set(cf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...he(this,um).values()],r={};return t.forEach(n=>{Lg(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...he(this,uu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===PT&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...he(this,uu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){he(this,Gr).clear(),he(this,cu).clear()}},Gr=new WeakMap,cu=new WeakMap,uu=new WeakMap,cm=new WeakMap,um=new WeakMap,du=new WeakMap,dm=new WeakMap,fm=new WeakMap,P$),ps,Yt,zv,Wa,Hd,hm,fu,hu,Vv,mm,pm,qd,Kd,mu,gm,gr,R0,XN,JN,QN,ZN,ek,tk,rk,nB,O$,DZ=(O$=class extends wp{constructor(t,r){super();St(this,gr);St(this,ps);St(this,Yt);St(this,zv);St(this,Wa);St(this,Hd);St(this,hm);St(this,fu);St(this,hu);St(this,Vv);St(this,mm);St(this,pm);St(this,qd);St(this,Kd);St(this,mu);St(this,gm,new Set);this.options=r,ot(this,ps,t),ot(this,hu,null),ot(this,fu,YN()),this.options.experimental_prefetchInRender||he(this,fu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(he(this,Yt).addObserver(this),HD(he(this,Yt),this.options)?Wt(this,gr,R0).call(this):this.updateResult(),Wt(this,gr,ZN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nk(he(this,Yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nk(he(this,Yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wt(this,gr,ek).call(this),Wt(this,gr,tk).call(this),he(this,Yt).removeObserver(this)}setOptions(t){const r=this.options,n=he(this,Yt);if(this.options=he(this,ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ni(this.options.enabled,he(this,Yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Wt(this,gr,rk).call(this),he(this,Yt).setOptions(this.options),r._defaulted&&!W1(this.options,r)&&he(this,ps).getQueryCache().notify({type:"observerOptionsUpdated",query:he(this,Yt),observer:this});const a=this.hasListeners();a&&qD(he(this,Yt),n,this.options,r)&&Wt(this,gr,R0).call(this),this.updateResult(),a&&(he(this,Yt)!==n||Ni(this.options.enabled,he(this,Yt))!==Ni(r.enabled,he(this,Yt))||Ru(this.options.staleTime,he(this,Yt))!==Ru(r.staleTime,he(this,Yt)))&&Wt(this,gr,XN).call(this);const s=Wt(this,gr,JN).call(this);a&&(he(this,Yt)!==n||Ni(this.options.enabled,he(this,Yt))!==Ni(r.enabled,he(this,Yt))||s!==he(this,mu))&&Wt(this,gr,QN).call(this,s)}getOptimisticResult(t){const r=he(this,ps).getQueryCache().build(he(this,ps),t),n=this.createResult(r,t);return MZ(this,n)&&(ot(this,Wa,n),ot(this,hm,this.options),ot(this,Hd,he(this,Yt).state)),n}getCurrentResult(){return he(this,Wa)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){he(this,gm).add(t)}getCurrentQuery(){return he(this,Yt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=he(this,ps).defaultQueryOptions(t),n=he(this,ps).getQueryCache().build(he(this,ps),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Wt(this,gr,R0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),he(this,Wa)))}createResult(t,r){var C;const n=he(this,Yt),a=this.options,s=he(this,Wa),o=he(this,Hd),l=he(this,hm),u=t!==n?t.state:he(this,zv),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),P=!A&&HD(t,r),T=A&&qD(t,n,r,a);(P||T)&&(f={...f,...tB(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:v}=f;m=f.data;let y=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=he(this,pm))==null?void 0:C.state.data,he(this,pm)):r.placeholderData,A!==void 0&&(v="success",m=GN(s==null?void 0:s.data,A,r),h=!0)}if(r.select&&m!==void 0&&!y)if(s&&m===(o==null?void 0:o.data)&&r.select===he(this,Vv))m=he(this,mm);else try{ot(this,Vv,r.select),m=r.select(m),m=GN(s==null?void 0:s.data,m,r),ot(this,mm,m),ot(this,hu,null)}catch(A){ot(this,hu,A)}he(this,hu)&&(p=he(this,hu),m=he(this,mm),g=Date.now(),v="error");const b=f.fetchStatus==="fetching",_=v==="pending",w=v==="error",j=_&&b,N=m!==void 0,k={status:v,fetchStatus:f.fetchStatus,isPending:_,isSuccess:v==="success",isError:w,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&N,isStale:DT(t,r),refetch:this.refetch,promise:he(this,fu),isEnabled:Ni(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=U=>{k.status==="error"?U.reject(k.error):k.data!==void 0&&U.resolve(k.data)},P=()=>{const U=ot(this,fu,k.promise=YN());A(U)},T=he(this,fu);switch(T.status){case"pending":t.queryHash===n.queryHash&&A(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&P();break}}return k}updateResult(){const t=he(this,Wa),r=this.createResult(he(this,Yt),this.options);if(ot(this,Hd,he(this,Yt).state),ot(this,hm,this.options),he(this,Hd).data!==void 0&&ot(this,pm,he(this,Yt)),W1(r,t))return;ot(this,Wa,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!he(this,gm).size)return!0;const o=new Set(s??he(this,gm));return this.options.throwOnError&&o.add("error"),Object.keys(he(this,Wa)).some(l=>{const c=l;return he(this,Wa)[c]!==t[c]&&o.has(c)})};Wt(this,gr,nB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wt(this,gr,ZN).call(this)}},ps=new WeakMap,Yt=new WeakMap,zv=new WeakMap,Wa=new WeakMap,Hd=new WeakMap,hm=new WeakMap,fu=new WeakMap,hu=new WeakMap,Vv=new WeakMap,mm=new WeakMap,pm=new WeakMap,qd=new WeakMap,Kd=new WeakMap,mu=new WeakMap,gm=new WeakMap,gr=new WeakSet,R0=function(t){Wt(this,gr,rk).call(this);let r=he(this,Yt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qa)),r},XN=function(){Wt(this,gr,ek).call(this);const t=Ru(this.options.staleTime,he(this,Yt));if(lf||he(this,Wa).isStale||!qN(t))return;const n=K6(he(this,Wa).dataUpdatedAt,t)+1;ot(this,qd,setTimeout(()=>{he(this,Wa).isStale||this.updateResult()},n))},JN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(he(this,Yt)):this.options.refetchInterval)??!1},QN=function(t){Wt(this,gr,tk).call(this),ot(this,mu,t),!(lf||Ni(this.options.enabled,he(this,Yt))===!1||!qN(he(this,mu))||he(this,mu)===0)&&ot(this,Kd,setInterval(()=>{(this.options.refetchIntervalInBackground||OT.isFocused())&&Wt(this,gr,R0).call(this)},he(this,mu)))},ZN=function(){Wt(this,gr,XN).call(this),Wt(this,gr,QN).call(this,Wt(this,gr,JN).call(this))},ek=function(){he(this,qd)&&(clearTimeout(he(this,qd)),ot(this,qd,void 0))},tk=function(){he(this,Kd)&&(clearInterval(he(this,Kd)),ot(this,Kd,void 0))},rk=function(){const t=he(this,ps).getQueryCache().build(he(this,ps),this.options);if(t===he(this,Yt))return;const r=he(this,Yt);ot(this,Yt,t),ot(this,zv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},nB=function(t){On.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(he(this,Wa))}),he(this,ps).getQueryCache().notify({query:he(this,Yt),type:"observerResultsUpdated"})})},O$);function RZ(e,t){return Ni(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function HD(e,t){return RZ(e,t)||e.state.data!==void 0&&nk(e,t,t.refetchOnMount)}function nk(e,t,r){if(Ni(t.enabled,e)!==!1&&Ru(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&DT(e,t)}return!1}function qD(e,t,r,n){return(e!==t||Ni(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&DT(e,r)}function DT(e,t){return Ni(t.enabled,e)!==!1&&e.isStaleByTime(Ru(t.staleTime,e))}function MZ(e,t){return!W1(e.getCurrentResult(),t)}var pu,gu,gs,Wl,lc,s1,ak,D$,FZ=(D$=class extends wp{constructor(r,n){super();St(this,lc);St(this,pu);St(this,gu);St(this,gs);St(this,Wl);ot(this,pu,r),this.setOptions(n),this.bindMethods(),Wt(this,lc,s1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=he(this,pu).defaultMutationOptions(r),W1(this.options,n)||he(this,pu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:he(this,gs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&cf(n.mutationKey)!==cf(this.options.mutationKey)?this.reset():((a=he(this,gs))==null?void 0:a.state.status)==="pending"&&he(this,gs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=he(this,gs))==null||r.removeObserver(this)}onMutationUpdate(r){Wt(this,lc,s1).call(this),Wt(this,lc,ak).call(this,r)}getCurrentResult(){return he(this,gu)}reset(){var r;(r=he(this,gs))==null||r.removeObserver(this),ot(this,gs,void 0),Wt(this,lc,s1).call(this),Wt(this,lc,ak).call(this)}mutate(r,n){var a;return ot(this,Wl,n),(a=he(this,gs))==null||a.removeObserver(this),ot(this,gs,he(this,pu).getMutationCache().build(he(this,pu),this.options)),he(this,gs).addObserver(this),he(this,gs).execute(r)}},pu=new WeakMap,gu=new WeakMap,gs=new WeakMap,Wl=new WeakMap,lc=new WeakSet,s1=function(){var n;const r=((n=he(this,gs))==null?void 0:n.state)??rB();ot(this,gu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ak=function(r){On.batch(()=>{var n,a,s,o,l,c,u,d;if(he(this,Wl)&&this.hasListeners()){const f=he(this,gu).variables,h=he(this,gu).context;(r==null?void 0:r.type)==="success"?((a=(n=he(this,Wl)).onSuccess)==null||a.call(n,r.data,f,h),(o=(s=he(this,Wl)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=he(this,Wl)).onError)==null||c.call(l,r.error,f,h),(d=(u=he(this,Wl)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(he(this,gu))})})},D$),aB=x.createContext(void 0),Yv=e=>{const t=x.useContext(aB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(aB.Provider,{value:e,children:t})),sB=x.createContext(!1),LZ=()=>x.useContext(sB);sB.Provider;function $Z(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BZ=x.createContext($Z()),UZ=()=>x.useContext(BZ),zZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},VZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},WZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||X6(r,[e.error,n])),HZ=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},qZ=(e,t)=>e.isLoading&&e.isFetching&&!t,KZ=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,KD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function GZ(e,t,r){var f,h,m,p,g;const n=LZ(),a=UZ(),s=Yv(),o=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=n?"isRestoring":"optimistic",HZ(o),zZ(o,a),VZ(a);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),d=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(v=>{const y=d?c.subscribe(On.batchCalls(v)):qa;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),KZ(o,u))throw KD(o,c,a);if(WZ({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!lf&&qZ(u,n)){const v=l?KD(o,c,a):(g=s.getQueryCache().get(o.queryHash))==null?void 0:g.promise;v==null||v.catch(qa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function RT(e,t){return GZ(e,DZ)}function MT(e,t){const r=Yv(),[n]=x.useState(()=>new FZ(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(On.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((o,l)=>{n.mutate(o,l).catch(qa)},[n]);if(a.error&&X6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}const At=e=>typeof e=="string",c0=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},GD=e=>e==null?"":""+e,YZ=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},XZ=/###/g,YD=e=>e&&e.indexOf("###")>-1?e.replace(XZ,"."):e,XD=e=>!e||At(e),Q0=(e,t,r)=>{const n=At(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(XD(e))return{};const s=YD(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return XD(e)?{}:{obj:e,k:YD(n[a])}},JD=(e,t,r)=>{const{obj:n,k:a}=Q0(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=Q0(e,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=Q0(e,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},JZ=(e,t,r,n)=>{const{obj:a,k:s}=Q0(e,t,Object);a[s]=a[s]||[],a[s].push(r)},q1=(e,t)=>{const{obj:r,k:n}=Q0(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},QZ=(e,t,r)=>{const n=q1(e,r);return n!==void 0?n:q1(t,r)},iB=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?At(e[n])||e[n]instanceof String||At(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):iB(e[n],t[n],r):e[n]=t[n]);return e},Jf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ZZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eee=e=>At(e)?e.replace(/[&<>"'\/]/g,t=>ZZ[t]):e;class tee{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const ree=[" ",",","?","!",";"],nee=new tee(20),aee=(e,t,r)=>{t=t||"",r=r||"";const n=ree.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=nee.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(e);if(!s){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(s=!0)}return s},sk=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},$g=e=>e==null?void 0:e.replace("_","-"),see={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class K1{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||see,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(At(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new K1(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new K1(this.logger,t)}}var il=new K1;let J_=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let o=0;o<s;o++)a.apply(a,[t,...r])})}};class QD extends J_{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):At(n)&&s?l.push(...n.split(s)):l.push(n)));const c=q1(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!At(n)?c:sk((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),JD(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(At(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,o={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=q1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?iB(c,n,s):c={...c,...n},JD(this.data,l,c),o.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var oB={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var o;t=((o=this.processors[s])==null?void 0:o.process(t,r,n,a))??t}),t}};const lB=Symbol("i18next/PATH_KEY");function iee(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===lB?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function ik(e,t){const{[lB]:r}=e(iee());return r.join((t==null?void 0:t.keySeparator)??".")}const ZD={},DS=e=>!At(e)&&typeof e!="boolean"&&typeof e!="number";class G1 extends J_{constructor(t,r={}){super(),YZ(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=DS(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!aee(t,n,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:At(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:At(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=ik(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let p=m==null?void 0:m.res;const g=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,w=a.count!==void 0&&!At(a.count),j=G1.hasDefaultValue(a),N=w?this.pluralResolver.getSuffix(f,a.count,a):"",S=a.ordinal&&w?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",k=w&&!a.ordinal&&a.count===0,C=k&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${N}`]||a[`defaultValue${S}`]||a.defaultValue;let A=p;_&&!p&&j&&(A=C);const P=DS(A),T=Object.prototype.toString.apply(A);if(_&&A&&P&&y.indexOf(T)<0&&!(At(b)&&Array.isArray(A))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,A,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(o){const U=Array.isArray(A),z=U?[]:{},D=U?v:g;for(const M in A)if(Object.prototype.hasOwnProperty.call(A,M)){const L=`${D}${o}${M}`;j&&!p?z[M]=this.translate(L,{...a,defaultValue:DS(C)?C[M]:void 0,joinArrays:!1,ns:c}):z[M]=this.translate(L,{...a,joinArrays:!1,ns:c}),z[M]===L&&(z[M]=A[M])}p=z}}else if(_&&At(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,t,a,n));else{let U=!1,z=!1;!this.isValidLookup(p)&&j&&(U=!0,p=C),this.isValidLookup(p)||(z=!0,p=l);const M=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:p,L=j&&C!==p&&this.options.updateMissing;if(z||U||L){if(this.logger.log(L?"updateKey":"missingKey",f,u,l,L?C:p),o){const J=this.resolve(l,{...a,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let J=0;J<F.length;J++)I.push(F[J]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(a.lng||this.language):I.push(a.lng||this.language);const X=(J,O,G)=>{var K;const V=j&&G!==p?G:M;this.options.missingKeyHandler?this.options.missingKeyHandler(J,u,O,V,L,a):(K=this.backendConnector)!=null&&K.saveMissing&&this.backendConnector.saveMissing(J,u,O,V,L,a),this.emit("missingKey",J,u,O,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?I.forEach(J=>{const O=this.pluralResolver.getSuffixes(J,a);k&&a[`defaultValue${this.options.pluralSeparator}zero`]&&O.indexOf(`${this.options.pluralSeparator}zero`)<0&&O.push(`${this.options.pluralSeparator}zero`),O.forEach(G=>{X([J],l+G,a[`defaultValue${G}`]||C)})}):X(I,l,C))}p=this.extendTranslation(p,t,a,m,n),z&&p===l&&this.options.appendNamespaceToMissingKey&&(p=`${u}${d}${l}`),(z||U)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?p:void 0,a))}return s?(m.res=p,m.usedParams=this.getUsedParamsDetails(a),m):p}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=At(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!At(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),p=m&&m.length;f<p&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=At(o)?[o]:o;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=oB.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,o,l;return At(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!At(r.count),m=h&&!r.ordinal&&r.count===0,p=r.context!==void 0&&(At(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var y,b;this.isValidLookup(n)||(l=v,!ZD[`${g[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(ZD[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(_=>{var N;if(this.isValidLookup(n))return;o=_;const w=[d];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,_,v,r);else{let S;h&&(S=this.pluralResolver.getSuffix(_,r.count,r));const k=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&S.indexOf(C)===0&&w.push(d+S.replace(C,this.options.pluralSeparator)),w.push(d+S),m&&w.push(d+k)),p){const A=`${d}${this.options.contextSeparator||"_"}${r.context}`;w.push(A),h&&(r.ordinal&&S.indexOf(C)===0&&w.push(A+S.replace(C,this.options.pluralSeparator)),w.push(A+S),m&&w.push(A+k))}}let j;for(;j=w.pop();)this.isValidLookup(n)||(s=j,n=this.getResource(_,v,j,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!At(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class eR{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(t){if(t=$g(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=$g(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(At(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),At(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return At(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):At(t)&&s(this.formatLanguageCode(t)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const tR={zero:0,one:1,two:2,few:3,many:4,other:5},rR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class oee{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=il.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=$g(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),rR;if(!t.match(/-|_/))return rR;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>tR[a]-tR[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const nR=(e,t,r,n=".",a=!0)=>{let s=QZ(e,t,r);return!s&&a&&At(r)&&(s=sk(e,r,n),s===void 0&&(s=sk(t,r,n))),s},RS=e=>e.replace(/\$/g,"$$$$");class lee{constructor(t={}){var r;this.logger=il.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:eee,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Jf(s):o||"{{",this.suffix=l?Jf(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Jf(h):m||Jf("$t("),this.nestingSuffix=p?Jf(p):g||Jf(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const b=nR(r,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:p}):b}const g=p.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(nR(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>RS(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?RS(this.escape(p)):RS(p)}].forEach(p=>{for(l=0;s=p.regex.exec(t);){const g=s[1].trim();if(o=u(g),o===void 0)if(typeof d=="function"){const y=d(t,s,a);o=At(y)?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!At(o)&&!this.useRawValueToEscape&&(o=GD(o));const v=p.safeValue(o);if(t=t.replace(s[0],v),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);const m=h.match(/'/g),p=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...n},o=o.replace&&!At(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),o),o),s&&a[0]===t&&!At(s))return s;At(s)||(s=GD(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const cee=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},aR=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=t[o];return l||(l=e($g(n),a),t[o]=l),l(r)}},uee=e=>(t,r,n)=>e($g(r),n)(t);class dee{constructor(t={}){this.logger=il.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?aR:uee;this.formats={number:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s});return l=>o.format(l)}),currency:n((a,s)=>{const o=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((a,s)=>{const o=new Intl.DateTimeFormat(a,{...s});return l=>o.format(l)}),relativetime:n((a,s)=>{const o=new Intl.RelativeTimeFormat(a,{...s});return l=>o.format(l,s.range||"day")}),list:n((a,s)=>{const o=new Intl.ListFormat(a,{...s});return l=>o.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=aR(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=cee(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},p=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,p,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const fee=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class hee extends J_{constructor(t,r,n,a={}){var s,o;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},o={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,d=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{JZ(c.loaded,[s],o),fee(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();At(t)&&(t=this.languageUtils.toResolveHierarchy(t)),At(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,r,n,a,s,o={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...o,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let g;p.length===5?g=p(t,r,n,a,m):g=p(t,r,n,a),g&&typeof g.then=="function"?g.then(v=>l(null,v)).catch(l):l(null,g)}catch(g){l(g)}else p(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const sR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),At(e[1])&&(t.defaultValue=e[1]),At(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iR=e=>{var t,r;return At(e.ns)&&(e.ns=[e.ns]),At(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),At(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},cy=()=>{},mee=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Z0 extends J_{constructor(t={},r){if(super(),this.options=iR(t),this.services={},this.logger=il,this.modules={external:[]},mee(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(At(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=sR();this.options={...n,...this.options,...iR(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?il.init(a(this.modules.logger),this.options):il.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=dee;const d=new eR(this.options);this.store=new QD(this.options.resources,this.options);const f=this.services;f.logger=il,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new oee(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new lee(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new hee(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new G1(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=cy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=c0(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=cy){var s,o;let n=r;const a=At(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=c0();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=cy),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&oB.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=c0();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=At(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(At(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),n}getFixedT(t,r,n){const a=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=ik(f,{...this.options,...o})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=ik(s,{...this.options,...o})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return At(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,t)&&(!a||o(s,t)))}loadNamespaces(t,r){const n=c0();return this.options.ns?(At(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=c0();At(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const o=new Intl.Locale(t);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new eR(sR());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new Z0(t,r);return n.createInstance=Z0.createInstance,n}cloneInstance(t={},r=cy){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new Z0(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new QD(l,a),s.services.resourceStore=s.store}return s.translator=new G1(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Vr=Z0.createInstance();Vr.createInstance;Vr.dir;Vr.init;Vr.loadResources;Vr.reloadResources;Vr.use;Vr.changeLanguage;Vr.getFixedT;Vr.t;Vr.exists;Vr.setDefaultNamespace;Vr.hasLoadedNamespace;Vr.loadNamespaces;Vr.loadLanguages;const pee=(e,t,r,n)=>{var s,o,l,c;const a=[r,{code:t,...n||{}}];if((o=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&o.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);uf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},oR={},cB=(e,t,r,n)=>{uf(r)&&oR[r]||(uf(r)&&(oR[r]=new Date),pee(e,t,r,n))},uB=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},ok=(e,t,r)=>{e.loadNamespaces(t,uB(e,r))},lR=(e,t,r,n)=>{if(uf(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return ok(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,uB(e,n))},gee=(e,t,r={})=>!t.languages||!t.languages.length?(cB(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),uf=e=>typeof e=="string",vee=e=>typeof e=="object"&&e!==null,xee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bee=e=>yee[e],_ee=e=>e.replace(xee,bee);let lk={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_ee};const wee=(e={})=>{lk={...lk,...e}},jee=()=>lk;let dB;const See=e=>{dB=e},Nee=()=>dB,kee={type:"3rdParty",init(e){wee(e.options.react),See(e)}},fB=x.createContext();class Cee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var hB={exports:{}},mB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm=x;function Eee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tee=typeof Object.is=="function"?Object.is:Eee,Aee=Sm.useState,Pee=Sm.useEffect,Oee=Sm.useLayoutEffect,Dee=Sm.useDebugValue;function Ree(e,t){var r=t(),n=Aee({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return Oee(function(){a.value=r,a.getSnapshot=t,MS(a)&&s({inst:a})},[e,r,t]),Pee(function(){return MS(a)&&s({inst:a}),e(function(){MS(a)&&s({inst:a})})},[e]),Dee(r),r}function MS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tee(e,r)}catch{return!0}}function Mee(e,t){return t()}var Fee=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Mee:Ree;mB.useSyncExternalStore=Sm.useSyncExternalStore!==void 0?Sm.useSyncExternalStore:Fee;hB.exports=mB;var pB=hB.exports;const Iee=(e,t)=>uf(t)?t:vee(t)&&uf(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Lee={t:Iee,ready:!1},$ee=()=>()=>{},Vt=(e,t={})=>{var S,k;const{i18n:r}=t,{i18n:n,defaultNS:a}=x.useContext(fB)||{},s=r||n||Nee();s&&!s.reportNamespaces&&(s.reportNamespaces=new Cee),s||cB(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=x.useMemo(()=>{var C;return{...jee(),...(C=s==null?void 0:s.options)==null?void 0:C.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=o,u=x.useMemo(()=>{var A;const C=a||((A=s==null?void 0:s.options)==null?void 0:A.defaultNS);return uf(C)?[C]:C||["translation"]},[e,a,s]);(k=(S=s==null?void 0:s.reportNamespaces)==null?void 0:S.addUsedNamespaces)==null||k.call(S,u);const d=x.useRef(0),f=x.useCallback(C=>{if(!s)return $ee;const{bindI18n:A,bindI18nStore:P}=o,T=()=>{d.current+=1,C()};return A&&s.on(A,T),P&&s.store.on(P,T),()=>{A&&A.split(" ").forEach(U=>s.off(U,T)),P&&P.split(" ").forEach(U=>s.store.off(U,T))}},[s,o]),h=x.useRef(),m=x.useCallback(()=>{if(!s)return Lee;const C=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(D=>gee(D,s,o)),A=t.lng||s.language,P=d.current,T=h.current;if(T&&T.ready===C&&T.lng===A&&T.keyPrefix===c&&T.revision===P)return T;const z={t:s.getFixedT(A,o.nsMode==="fallback"?u:u[0],c),ready:C,lng:A,keyPrefix:c,revision:P};return h.current=z,z},[s,u,c,o,t.lng]),[p,g]=x.useState(0),{t:v,ready:y}=pB.useSyncExternalStore(f,m,m);x.useEffect(()=>{if(s&&!y&&!l){const C=()=>g(A=>A+1);t.lng?lR(s,t.lng,u,C):ok(s,u,C)}},[s,t.lng,u,y,l,p]);const b=s||{},_=x.useRef(null),w=x.useRef(),j=C=>{const A=Object.getOwnPropertyDescriptors(C);A.__original&&delete A.__original;const P=Object.create(Object.getPrototypeOf(C),A);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:C,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},N=x.useMemo(()=>{const C=b,A=C==null?void 0:C.language;let P=C;C&&(_.current&&_.current.__original===C?w.current!==A?(P=j(C),_.current=P,w.current=A):P=_.current:(P=j(C),_.current=P,w.current=A));const T=[v,P,y];return T.t=v,T.i18n=P,T.ready=y,T},[v,b,y,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!y)throw new Promise(C=>{const A=()=>C();t.lng?lR(s,t.lng,u,A):ok(s,u,A)});return N};function Bee({i18n:e,defaultNS:t,children:r}){const n=x.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return x.createElement(fB.Provider,{value:n},r)}const Uee={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",whatsapp:"WhatsApp",clientPortal:"Client Portal",reports:"Reports",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},zee={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Vee={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Wee={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to access your account",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Logging in...",signInButton:"Login",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",noAccount:"Don't have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",welcomeBack:"Welcome Back",emailOrUsername:"Email / Username",enterEmail:"Enter your email",enterPassword:"Enter your password",companyCode:"Company Code",forgotPassword:"Forgot your password?",forgotPasswordDesc:"Please contact your administrator to reset your password.",loginSuccess:"Logged in successfully",loginFailed:"Failed to login. Please check your credentials.",loginFailedTitle:"Login Failed"},Hee={welcome:"Welcome",loading:"Loading...",export:"Export",error:"Error",success:"Success",search:"Search",filter:"Filter",filters:"Filters",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},qee={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Kee={title:"Reports",description:"Manage and execute reports",lastModified:"Last Modified",createdBy:"Created By",createNew:"Create New Report",reportName:"Report Name",reportNamePlaceholder:"Enter report name",titleEn:"Title (English)",titleEnPlaceholder:"Enter title in English",titleAr:"Title (Arabic)",titleArPlaceholder:"Enter title in Arabic",reportType:"Report Type",selectType:"Select report type",types:{summary:"Summary",analytics:"Analytics",trend:"Trend",conversion:"Conversion",performance:"Performance"},execute:"Execute",export:"Export",delete:"Delete",searchPlaceholder:"Search reports...",noReports:"No reports found",noReportsDesc:"Try adjusting your search terms.",loadingReports:"Loading reports...",errorLoading:"Failed to load reports",parameters:"Parameters",runReport:"Run Report",runningReport:"Executing report...",reportResults:"Report Results",noData:"No data available",executingReport:"Executing report...",reportExecuted:"Report executed successfully",exportFormat:"Export Format",downloadCSV:"Download CSV",downloadExcel:"Download Excel",downloadPDF:"Download PDF",fileContains:"File contains",rows:"rows",columns:"columns",downloadSuccess:"Report exported successfully",exportError:"Failed to export report"},Gee={title:"Dashboard",subtitle:"Welcome to your CRM dashboard",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"active projects",clients:"Clients",totalClients:"total clients",teamMembers:"Team Members",activeUsers:"active users",leads:"Leads",totalLeads:"total leads",surveys:"Surveys",totalSurveys:"total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",noClient:"No client",mleadsTrend:"MLeads Trend (Last 30 Days)",recentMLeads:"Recent MLeads",companyName:"Company",contactPerson:"Contact Person",email:"Email",phone:"Phone",status:"Status",createdAt:"Created At",noMLeads:"No MLeads found",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Yee={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},Xee={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Jee={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Qee={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},Zee={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",loadingMembers:"Loading members...",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},ete={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},tte={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},rte={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},nte={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},ate={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},ste={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},ite={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},ote={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},lte={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",surveyName:"Survey Name",bulkImport:"Bulk Import",selectTemplateForImport:"Select a template to import surveys into",uploadFile:"Upload your Excel file",reviewData:"Review and map your data",importingData:"Importing your data...",importInstructions:"Import Instructions:",importInstruction1:"File must be in Excel (.xlsx, .xls) or CSV format",importInstruction2:"First row should contain column headers",importInstruction3:"Column headers should match template field names",dragDropFile:"Drag and drop your file here, or",selectFile:"Select File",fileEmpty:"The uploaded file is empty",fileParseError:"Failed to parse the file. Please check the format and try again.",validationErrors:"Validation Errors Found",requiredFieldNotFound:"Required field {{field}} not found in file",requiredFieldNotMapped:"Required field {{field}} is not mapped",columnMapping:"Column Mapping",required:"Required",notMapped:"Not Mapped",optional:"Optional",noTemplateSelected:"No template selected",previewFirstRows:"Preview First {{count}} Rows",showingRows:"Showing {{shown}} of {{total}} rows",startImport:"Start Import",processingRows:"Processing",importSuccess:"Successfully imported {{count}} surveys",importFailed:"Failed to import surveys",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",setAsDefault:"Set as Default",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",noResponsesRecorded:"No responses recorded",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},cte={company:"Company",city:"City",country:"Country",activity:"Activity",distributionCharts:"Distribution Charts",timeline:"Timeline",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",viewQuotation:"View Quotation",editLeadDescription:"Edit lead information and details",createLeadDescription:"Add a new lead to the system",leadDetailsDescription:"View and manage lead details and information",reports:"Reports",selectReport:"Select Report",leadsSummaryReport:"Leads Summary Report",leadsByCityReport:"Leads by City Report",leadsConversionReport:"Leads Conversion Report",salesPerformanceReport:"Sales Performance Report",leadsTrendReport:"Leads Trend Report",reportParameters:"Report Parameters",runReport:"Run Report",reportResults:"Report Results",records:"records",startDate:"Start Date",endDate:"End Date",totalLeads:"Total Leads",wonLeads:"Won Leads",lostLeads:"Lost Leads",leadsByCity:"Leads by City",salesPerformance:"Sales Performance",wonDeals:"Won Deals",lostDeals:"Lost Deals",pendingLeads:"Pending Leads",uploadQuotation:"Upload Quotation",description:"Description",decisionMaker:"Decision Maker",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},ute={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",viewContract:"View Contract",editProjectDescription:"Edit project information and details",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},dte={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},fte={navigation:Uee,buttons:zee,forms:Vee,auth:Wee,common:Hee,status:qee,reports:Kee,dashboard:Gee,leads:Yee,notes:Xee,projects:Jee,settings:Qee,chat:Zee,tickets:ete,teams:tte,tasks:rte,landing:nte,users:ate,clients:ste,employeeDashboard:ite,chats:ote,surveys:lte,mleads:cte,mprojects:ute,requests:dte},hte={home:"",dashboard:" ",reports:"",projects:"",whatsapp:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},mte={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},pte={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},gte={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",companyCode:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},vte={title:"",description:"  ",lastModified:" ",createdBy:"  ",createNew:"  ",reportName:" ",reportNamePlaceholder:"  ",titleEn:" ()",titleEnPlaceholder:"  ",titleAr:" ()",titleArPlaceholder:"  ",reportType:" ",selectType:"  ",types:{summary:"",analytics:"",trend:"",conversion:"",performance:""},execute:"",export:"",delete:"",searchPlaceholder:"  ...",noReports:"    ",noReportsDesc:"   .",loadingReports:"  ...",errorLoading:"   ",parameters:"",runReport:" ",runningReport:"  ...",reportResults:" ",noData:"   ",executingReport:"  ...",reportExecuted:"   ",exportFormat:" ",downloadCSV:" CSV",downloadExcel:" Excel",downloadPDF:" PDF",fileContains:" ",rows:"",columns:"",downloadSuccess:"   ",exportError:"   "},xte={welcome:"",retry:" ",comingSoon:"",loading:" ...",filters:"",export:"",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noRecordsFound:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" ",page:"",of:""},yte={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},bte={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},_te={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},wte={title:" ",noClient:"  ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},jte={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},Ste={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},Nte={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},kte={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",loadingMembers:"  ...",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},Cte={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},Ete={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},Tte={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Ate={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},Pte={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},Ote={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Dte={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Rte={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Mte={title:"",subtitle:"    ",fileEmpty:" ",fileParseError:"   ",requiredFieldNotFound:"   : {{field}}",requiredFieldNotMapped:"   : {{field}}",importSuccess:"  {{count}}  ",importFailed:" ",selectTemplateForImport:"  ",uploadFile:"  Excel  CSV  ",reviewData:"   ",importingData:"  ...",importInstructions:" ",importInstruction1:"        ",importInstruction2:"       ",importInstruction3:" : Excel (.xlsx, .xls)  CSV",dragDropFile:"   ",selectFile:" ",validationErrors:" ",columnMapping:" ",required:"",notMapped:" ",optional:"",noTemplateSelected:"   ",previewFirstRows:" ( {{count}} )",showingRows:"  {{shown}}  {{total}} ",processingRows:" ",startImport:" ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",setAsDefault:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",noResponsesRecorded:"    ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},Fte={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Ite={company:"",city:"",country:"",activity:"",distributionCharts:"  ",timeline:" ",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",viewQuotation:" ",editLeadDescription:"   ",createLeadDescription:"    ",leadDetailsDescription:"    ",reports:"",selectReport:" ",leadsSummaryReport:"   ",leadsByCityReport:"    ",leadsConversionReport:"   ",salesPerformanceReport:"  ",leadsTrendReport:"   ",reportParameters:" ",runReport:" ",reportResults:" ",records:"",allActivities:" ",allSystems:" ",startDate:" ",endDate:" ",totalLeads:"  ",wonLeads:" ",lostLeads:" ",leadsByCity:"   ",salesPerformance:" ",wonDeals:" ",lostDeals:" ",pendingLeads:"  ",uploadQuotation:" ",noContactsFound:"     ",allCountries:" ",allCities:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",decisionMaker:"  ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},Lte={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",viewContract:" ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},$te={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Bte={navigation:hte,buttons:mte,forms:pte,auth:gte,reports:vte,common:xte,validation:yte,partnerEmployeeDashboard:bte,status:_te,dashboard:wte,leads:jte,notes:Ste,projects:Nte,chat:kte,tickets:Cte,teams:Ete,tasks:Tte,landing:Ate,users:Pte,clients:Ote,employeeDashboard:Dte,chats:Rte,surveys:Mte,settings:Fte,mleads:Ite,mprojects:Lte,requests:$te},Ute={en:{translation:fte},ar:{translation:Bte}};Vr.use(kee).init({resources:Ute,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Fe=(e,t)=>{if(Vr.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},xl=(e,t)=>{const r=Vr.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Qt=()=>Vr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}var yu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yu||(yu={}));const cR="popstate";function zte(e){e===void 0&&(e={});function t(a,s){let{pathname:o="/",search:l="",hash:c=""}=Of(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ck("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:Y1(s))}function n(a,s){FT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Wte(t,r,n,e)}function dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function FT(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vte(){return Math.random().toString(36).substr(2,8)}function uR(e,t){return{usr:e.state,key:e.key,idx:t}}function ck(e,t,r,n){return r===void 0&&(r=null),Bg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Of(t):t,{state:r,key:t&&t.key||n||Vte()})}function Y1(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Of(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Wte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l=yu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Bg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=yu.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:y})}function h(v,y){l=yu.Push;let b=ck(g.location,v,y);r&&r(b,v),u=d()+1;let _=uR(b,u),w=g.createHref(b);try{o.pushState(_,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(w)}s&&c&&c({action:l,location:g.location,delta:1})}function m(v,y){l=yu.Replace;let b=ck(g.location,v,y);r&&r(b,v),u=d();let _=uR(b,u),w=g.createHref(b);o.replaceState(_,"",w),s&&c&&c({action:l,location:g.location,delta:0})}function p(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:Y1(v);return b=b.replace(/ $/,"%20"),dn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(cR,f),c=v,()=>{a.removeEventListener(cR,f),c=null}},createHref(v){return t(a,v)},createURL:p,encodeLocation(v){let y=p(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(v){return o.go(v)}};return g}var dR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dR||(dR={}));function Hte(e,t,r){return r===void 0&&(r="/"),qte(e,t,r,!1)}function qte(e,t,r,n){let a=typeof t=="string"?Of(t):t,s=IT(a.pathname||"/",r);if(s==null)return null;let o=gB(e);Kte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=are(s);l=rre(o[c],u,n)}return l}function gB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(dn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Mu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(dn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gB(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:ere(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of vB(s.path))a(s,o,c)}),t}function vB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=vB(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Kte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:tre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gte=/^:[\w-]+$/,Yte=3,Xte=2,Jte=1,Qte=10,Zte=-2,fR=e=>e==="*";function ere(e,t){let r=e.split("/"),n=r.length;return r.some(fR)&&(n+=Zte),t&&(n+=Xte),r.filter(a=>!fR(a)).reduce((a,s)=>a+(Gte.test(s)?Yte:s===""?Jte:Qte),n)}function tre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function rre(e,t,r){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=hR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=hR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Mu([s,f.pathname]),pathnameBase:lre(Mu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Mu([s,f.pathnameBase]))}return o}function hR(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=nre(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function nre(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),FT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function are(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return FT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function IT(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function sre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Of(e):e;return{pathname:r?r.startsWith("/")?r:ire(r,t):t,search:cre(n),hash:ure(a)}}function ire(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function FS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ore(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function LT(e,t){let r=ore(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $T(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Of(e):(a=Bg({},e),dn(!a.pathname||!a.pathname.includes("?"),FS("?","pathname","search",a)),dn(!a.pathname||!a.pathname.includes("#"),FS("#","pathname","hash",a)),dn(!a.search||!a.search.includes("#"),FS("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=sre(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Mu=e=>e.join("/").replace(/\/\/+/g,"/"),lre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ure=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xB=["post","put","patch","delete"];new Set(xB);const fre=["get",...xB];new Set(fre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}const BT=x.createContext(null),hre=x.createContext(null),td=x.createContext(null),Q_=x.createContext(null),kl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),yB=x.createContext(null);function mre(e,t){let{relative:r}=t===void 0?{}:t;jp()||dn(!1);let{basename:n,navigator:a}=x.useContext(td),{hash:s,pathname:o,search:l}=_B(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Mu([n,o])),a.createHref({pathname:c,search:l,hash:s})}function jp(){return x.useContext(Q_)!=null}function Cl(){return jp()||dn(!1),x.useContext(Q_).location}function bB(e){x.useContext(td).static||x.useLayoutEffect(e)}function Bs(){let{isDataRoute:e}=x.useContext(kl);return e?Are():pre()}function pre(){jp()||dn(!1);let e=x.useContext(BT),{basename:t,future:r,navigator:n}=x.useContext(td),{matches:a}=x.useContext(kl),{pathname:s}=Cl(),o=JSON.stringify(LT(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return bB(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=$T(u,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Mu([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,s,e])}const gre=x.createContext(null);function vre(e){let t=x.useContext(kl).outlet;return t&&x.createElement(gre.Provider,{value:e},t)}function xre(){let{matches:e}=x.useContext(kl),t=e[e.length-1];return t?t.params:{}}function _B(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(td),{matches:a}=x.useContext(kl),{pathname:s}=Cl(),o=JSON.stringify(LT(a,n.v7_relativeSplatPath));return x.useMemo(()=>$T(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function yre(e,t){return bre(e,t)}function bre(e,t,r,n){jp()||dn(!1);let{navigator:a}=x.useContext(td),{matches:s}=x.useContext(kl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Cl(),d;if(t){var f;let v=typeof t=="string"?Of(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||dn(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=Hte(e,{pathname:m}),g=Nre(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Mu([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Mu([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&g?x.createElement(Q_.Provider,{value:{location:Ug({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yu.Pop}},g):g}function _re(){let e=Tre(),t=dre(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const wre=x.createElement(_re,null);class jre extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(kl.Provider,{value:this.props.routeContext},x.createElement(yB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sre(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(BT);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(kl.Provider,{value:t},n)}function Nre(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||dn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,p=!1,g=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||wre,c&&(u<0&&h===0?(p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let _;return m?_=g:p?_=v:f.route.Component?_=x.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,x.createElement(Sre,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(jre,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var wB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wB||{}),X1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(X1||{});function kre(e){let t=x.useContext(BT);return t||dn(!1),t}function Cre(e){let t=x.useContext(hre);return t||dn(!1),t}function Ere(e){let t=x.useContext(kl);return t||dn(!1),t}function jB(e){let t=Ere(),r=t.matches[t.matches.length-1];return r.route.id||dn(!1),r.route.id}function Tre(){var e;let t=x.useContext(yB),r=Cre(X1.UseRouteError),n=jB(X1.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Are(){let{router:e}=kre(wB.UseNavigateStable),t=jB(X1.UseNavigateStable),r=x.useRef(!1);return bB(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ug({fromRouteId:t},s)))},[e,t])}function Pre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function i1(e){let{to:t,replace:r,state:n,relative:a}=e;jp()||dn(!1);let{future:s,static:o}=x.useContext(td),{matches:l}=x.useContext(kl),{pathname:c}=Cl(),u=Bs(),d=$T(t,LT(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function mR(e){return vre(e.context)}function jr(e){dn(!1)}function Ore(e){let{basename:t="/",children:r=null,location:n,navigationType:a=yu.Pop,navigator:s,static:o=!1,future:l}=e;jp()&&dn(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:Ug({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Of(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=n,g=x.useMemo(()=>{let v=IT(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return g==null?null:x.createElement(td.Provider,{value:u},x.createElement(Q_.Provider,{children:r,value:g}))}function Dre(e){let{children:t,location:r}=e;return yre(uk(t),r)}new Promise(()=>{});function uk(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,uk(n.props.children,s));return}n.type!==jr&&dn(!1),!n.props.index||!n.props.children||dn(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=uk(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}function Rre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fre(e,t){return e.button===0&&(!t||t==="_self")&&!Mre(e)}const Ire=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lre="6";try{window.__reactRouterVersion=Lre}catch{}const $re="startTransition",pR=$E[$re];function Bre(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=zte({window:a,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&pR?pR(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Pre(n),[n]),x.createElement(Ore,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Ure=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fk=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Rre(t,Ire),{basename:m}=x.useContext(td),p,g=!1;if(typeof u=="string"&&zre.test(u)&&(p=u,Ure))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),j=IT(w.pathname,m);w.origin===_.origin&&j!=null?u=j+w.search+w.hash:g=!0}catch{}let v=mre(u,{relative:a}),y=Vre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(_){n&&n(_),_.defaultPrevented||y(_)}return x.createElement("a",dk({},h,{href:p||v,onClick:g||s?n:b,ref:r,target:c}))});var gR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gR||(gR={}));var vR;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vR||(vR={}));function Vre(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Bs(),u=Cl(),d=_B(e,{relative:o});return x.useCallback(f=>{if(Fre(f,r)){f.preventDefault();let h=n!==void 0?n:Y1(u)===Y1(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,s,o,l])}function Pt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function As(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ka(e,t){const r=Pt(e);return isNaN(t)?As(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function To(e,t){const r=Pt(e);if(isNaN(t))return As(e,NaN);if(!t)return r;const n=r.getDate(),a=As(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const UT=6048e5,Wre=864e5,uy=43200,xR=1440;let Hre={};function Sp(){return Hre}function yl(e,t){var l,c,u,d;const r=Sp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pt(e),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function df(e){return yl(e,{weekStartsOn:1})}function SB(e){const t=Pt(e),r=t.getFullYear(),n=As(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=df(n),s=As(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=df(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Nm(e){const t=Pt(e);return t.setHours(0,0,0,0),t}function km(e){const t=Pt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ol(e,t){const r=Nm(e),n=Nm(t),a=+r-km(r),s=+n-km(n);return Math.round((a-s)/Wre)}function qre(e){const t=SB(e),r=As(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),df(r)}function hk(e,t){const r=t*7;return Ka(e,r)}function Kre(e,t){return To(e,t*12)}function Gre(e){let t;return e.forEach(function(r){const n=Pt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Yre(e){let t;return e.forEach(r=>{const n=Pt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function o1(e,t){const r=Pt(e),n=Pt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Xre(e){return As(e,Date.now())}function ws(e,t){const r=Nm(e),n=Nm(t);return+r==+n}function zT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jre(e){if(!zT(e)&&typeof e!="number")return!1;const t=Pt(e);return!isNaN(Number(t))}function Cm(e,t){const r=Pt(e),n=Pt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Qre(e,t,r){const n=yl(e,r),a=yl(t,r),s=+n-km(n),o=+a-km(a);return Math.round((s-o)/UT)}function Zre(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function ene(e,t){return+Pt(e)-+Pt(t)}function tne(e){const t=Pt(e);return t.setHours(23,59,59,999),t}function Z_(e){const t=Pt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rne(e){const t=Pt(e);return+tne(t)==+Z_(t)}function nne(e,t){const r=Pt(e),n=Pt(t),a=o1(r,n),s=Math.abs(Cm(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=o1(r,n)===-a;rne(Pt(e))&&s===1&&o1(e,n)===1&&(l=!1),o=a*(s-Number(l))}return o===0?0:o}function ane(e,t,r){const n=ene(e,t)/1e3;return Zre(r==null?void 0:r.roundingMethod)(n)}function Cs(e){const t=Pt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function NB(e){const t=Pt(e),r=As(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function VT(e,t){var l,c,u,d;const r=Sp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Pt(e),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function kB(e){return VT(e,{weekStartsOn:1})}const sne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ine=(e,t,r)=>{let n;const a=sne[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hh(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const one={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},une={date:Hh({formats:one,defaultWidth:"full"}),time:Hh({formats:lne,defaultWidth:"full"}),dateTime:Hh({formats:cne,defaultWidth:"full"})},dne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fne=(e,t,r,n)=>dne[e];function rl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const hne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yne=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bne={ordinalNumber:yne,era:rl({values:hne,defaultWidth:"wide"}),quarter:rl({values:mne,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:pne,defaultWidth:"wide"}),day:rl({values:gne,defaultWidth:"wide"}),dayPeriod:rl({values:vne,defaultWidth:"wide",formattingValues:xne,defaultFormattingWidth:"wide"})};function nl(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?wne(l,f=>f.test(o)):_ne(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function _ne(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wne(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function CB(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const jne=/^(\d+)(th|st|nd|rd)?/i,Sne=/\d+/i,Nne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kne={any:[/^b/i,/^(a|c)/i]},Cne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ene={any:[/1/i,/2/i,/3/i,/4/i]},Tne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ane={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},One={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mne={ordinalNumber:CB({matchPattern:jne,parsePattern:Sne,valueCallback:e=>parseInt(e,10)}),era:nl({matchPatterns:Nne,defaultMatchWidth:"wide",parsePatterns:kne,defaultParseWidth:"any"}),quarter:nl({matchPatterns:Cne,defaultMatchWidth:"wide",parsePatterns:Ene,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nl({matchPatterns:Tne,defaultMatchWidth:"wide",parsePatterns:Ane,defaultParseWidth:"any"}),day:nl({matchPatterns:Pne,defaultMatchWidth:"wide",parsePatterns:One,defaultParseWidth:"any"}),dayPeriod:nl({matchPatterns:Dne,defaultMatchWidth:"any",parsePatterns:Rne,defaultParseWidth:"any"})},WT={code:"en-US",formatDistance:ine,formatLong:une,formatRelative:fne,localize:bne,match:Mne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fne(e){const t=Pt(e);return ol(t,NB(t))+1}function EB(e){const t=Pt(e),r=+df(t)-+qre(t);return Math.round(r/UT)+1}function TB(e,t){var d,f,h,m;const r=Pt(e),n=r.getFullYear(),a=Sp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=As(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=yl(o,t),c=As(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=yl(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ine(e,t){var l,c,u,d;const r=Sp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=TB(e,t),s=As(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),yl(s,t)}function AB(e,t){const r=Pt(e),n=+yl(r,t)-+Ine(r,t);return Math.round(n/UT)+1}function br(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Uc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return br(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):br(r+1,2)},d(e,t){return br(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return br(e.getHours()%12||12,t.length)},H(e,t){return br(e.getHours(),t.length)},m(e,t){return br(e.getMinutes(),t.length)},s(e,t){return br(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return br(a,t.length)}},Qf={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Uc.y(e,t)},Y:function(e,t,r,n){const a=TB(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return br(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):br(s,t.length)},R:function(e,t){const r=SB(e);return br(r,t.length)},u:function(e,t){const r=e.getFullYear();return br(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return br(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return br(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Uc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return br(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=AB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):br(a,t.length)},I:function(e,t,r){const n=EB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):br(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Uc.d(e,t)},D:function(e,t,r){const n=Fne(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):br(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return br(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return br(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return br(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Qf.noon:n===0?a=Qf.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Qf.evening:n>=12?a=Qf.afternoon:n>=4?a=Qf.morning:a=Qf.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Uc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Uc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):br(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Uc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Uc.s(e,t)},S:function(e,t){return Uc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return _R(n);case"XXXX":case"XX":return xd(n);case"XXXXX":case"XXX":default:return xd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return _R(n);case"xxxx":case"xx":return xd(n);case"xxxxx":case"xxx":default:return xd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bR(n,":");case"OOOO":default:return"GMT"+xd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bR(n,":");case"zzzz":default:return"GMT"+xd(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return br(n,t.length)},T:function(e,t,r){const n=e.getTime();return br(n,t.length)}};function bR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+br(s,2)}function _R(e,t){return e%60===0?(e>0?"-":"+")+br(Math.abs(e)/60,2):xd(e,t)}function xd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=br(Math.trunc(n/60),2),s=br(n%60,2);return r+a+t+s}const wR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Lne=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return wR(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",wR(n,t)).replace("{{time}}",PB(a,t))},$ne={p:PB,P:Lne},Bne=/^D+$/,Une=/^Y+$/,zne=["D","DD","YY","YYYY"];function Vne(e){return Bne.test(e)}function Wne(e){return Une.test(e)}function Hne(e,t,r){const n=qne(e,t,r);if(console.warn(n),zne.includes(e))throw new RangeError(n)}function qne(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yne=/^'([^]*?)'?$/,Xne=/''/g,Jne=/[a-zA-Z]/;function is(e,t,r){var d,f,h,m,p,g,v,y;const n=Sp(),a=(r==null?void 0:r.locale)??n.locale??WT,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Pt(e);if(!Jre(l))throw new RangeError("Invalid time value");let c=t.match(Gne).map(b=>{const _=b[0];if(_==="p"||_==="P"){const w=$ne[_];return w(b,a.formatLong)}return b}).join("").match(Kne).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const _=b[0];if(_==="'")return{isToken:!1,value:Qne(b)};if(yR[_])return{isToken:!0,value:b};if(_.match(Jne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const _=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Wne(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Vne(_))&&Hne(_,t,String(e));const w=yR[_[0]];return w(l,_,a.localize,u)}).join("")}function Qne(e){const t=e.match(Yne);return t?t[1].replace(Xne,"'"):e}function Zne(e,t,r){const n=Sp(),a=(r==null?void 0:r.locale)??n.locale??WT,s=2520,o=o1(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Pt(t),u=Pt(e)):(c=Pt(e),u=Pt(t));const d=ane(u,c),f=(km(u)-km(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<xR){const p=Math.round(h/60);return a.formatDistance("aboutXHours",p,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<uy){const p=Math.round(h/xR);return a.formatDistance("xDays",p,l)}else if(h<uy*2)return m=Math.round(h/uy),a.formatDistance("aboutXMonths",m,l)}if(m=nne(u,c),m<12){const p=Math.round(h/uy);return a.formatDistance("xMonths",p,l)}else{const p=m%12,g=Math.trunc(m/12);return p<3?a.formatDistance("aboutXYears",g,l):p<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function eae(e,t){return Zne(e,Xre(e),t)}function tae(e){const t=Pt(e),r=t.getFullYear(),n=t.getMonth(),a=As(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function rae(e){return Math.trunc(+Pt(e)/1e3)}function nae(e){const t=Pt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function aae(e,t){return Qre(nae(e),Cs(e),t)+1}function mk(e,t){const r=Pt(e),n=Pt(t);return r.getTime()>n.getTime()}function OB(e,t){const r=Pt(e),n=Pt(t);return+r<+n}function HT(e,t){const r=Pt(e),n=Pt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function sae(e,t){const r=Pt(e),n=Pt(t);return r.getFullYear()===n.getFullYear()}function IS(e,t){return Ka(e,-t)}function LS(e,t){const r=Pt(e),n=r.getFullYear(),a=r.getDate(),s=As(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const o=tae(s);return r.setMonth(t,Math.min(a,o)),r}function jR(e,t){const r=Pt(e);return isNaN(+r)?As(e,NaN):(r.setFullYear(t),r)}function SR(e){if(!e)return e;if(typeof e=="string")try{const t=new Date(e);return isNaN(t.getTime())?e:is(t,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?is(e,"yyyy-MM-dd HH:mm:ss"):e}function pk(e){if(e==null)return e;if(e instanceof Date)return SR(e);if(Array.isArray(e))return e.map(t=>pk(t));if(typeof e=="object"){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r.toLowerCase().includes("date")||r.toLowerCase().includes("time")?t[r]=SR(e[r]):t[r]=pk(e[r]));return t}return e}const iae="https://api.middar.com";async function Yr(e,t={}){const r={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("authToken");n&&(r.Authorization=`Bearer ${n}`);try{let a=t.body;if(a&&typeof a=="string")try{const l=JSON.parse(a),c=pk(l);a=JSON.stringify(c)}catch(l){console.warn("Failed to parse request body for date formatting",l)}console.log(`API Request: ${t.method||"GET"} ${e}`,a?JSON.parse(a):null);const s=await fetch(`${iae}${e}`,{...t,headers:r,body:a});let o;try{const l=await s.text();o=l?JSON.parse(l):{}}catch(l){console.error("Failed to parse API response:",l),o={}}if(!s.ok){const l={status:s.status,statusText:s.statusText,url:e,headers:Object.fromEntries(s.headers.entries()),response:o,requestBody:t.body?JSON.parse(t.body):null};console.error("API Error Details:",JSON.stringify(l,null,2));let c="Something went wrong";o&&typeof o=="object"?c=o.message||o.error||JSON.stringify(o):o&&(c=String(o));const u=new Error(c);throw u.status=s.status,u.response=o,u.details=l,u}return o}catch(a){throw console.error("API Request Failed:",{endpoint:e,error:a.message,stack:a.stack}),a}}const Y={get:(e,t,r)=>{const n=new URLSearchParams(r).toString();return Yr(`/api/v1/get/${e}/${t}${n?`?${n}`:""}`)},list:async(e,t={})=>{const r={...t},n=["m_leads","m_projects","tasks","tickets"];r.sort_by||(r.sort_by="created_at",r.sort_order=n.includes(e)?"DESC":"ASC");let a="";if(r.exact_filters&&(a=typeof r.exact_filters=="string"?r.exact_filters:JSON.stringify(r.exact_filters),delete r.exact_filters),r.advanced_filters&&typeof r.advanced_filters=="string")try{JSON.parse(r.advanced_filters)}catch{delete r.advanced_filters}else r.advanced_filters&&(r.advanced_filters=JSON.stringify(r.advanced_filters));const s=new URLSearchParams;Object.entries(r).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const o=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",o);const l=await Yr(o);return{data:l.data||[],total:l.totalRows||0,page:(l.page||1)-1,pageSize:l.totalRows||0}},count:async(e,t={})=>{try{return(await Y.list(e,{...t,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,t)=>e==="messages"?Yr(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}):Yr(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(t)}),update:(e,t,r)=>Yr(`/api/v1/update/${e}/${t}`,{method:"PUT",body:JSON.stringify(r)}),delete:(e,t)=>Yr(`/api/v1/delete/${e}/${t}`,{method:"DELETE"}),getAggregates:async(e,t={})=>{try{console.log("[API] Getting aggregates for tables:",e);const r=e.map(async s=>{try{const l={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[s]||s,u=(await Y.list(l,{pageSize:1})).total||0;return console.log(`[API] Got count for ${s} (${l}):`,u),{[s]:{Count:u}}}catch(o){return console.warn(`[API] Count failed for ${s}, using fallback:`,o),{[s]:{Count:0}}}}),a=(await Promise.all(r)).reduce((s,o)=>({...s,...o}),{});return console.log("[API] Combined aggregates result:",a),a}catch(r){return console.error("[API] Failed to get aggregates:",r),{}}},auth:{login:async e=>Yr("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>Y.list("permissions",e),get:e=>Y.get("permissions",e),create:e=>Y.create("permissions",e),update:(e,t)=>Y.update("permissions",e,t),delete:e=>Y.delete("permissions",e)},comments:{list:(e={})=>Y.list("comments",e),get:e=>Y.get("comments",e),create:e=>Y.create("comments",e),update:(e,t)=>Y.update("comments",e,t),delete:e=>Y.delete("comments",e)},leads:{list:(e={})=>Y.list("leads",e),get:e=>Y.get("leads",e),create:e=>Y.create("leads",e),update:(e,t)=>Y.update("leads",e,t),delete:e=>Y.delete("leads",e)},mAction:{list:(e={})=>Y.list("m_action",e),get:e=>Y.get("m_action",e),create:e=>Y.create("m_action",e),update:(e,t)=>Y.update("m_action",e,t),delete:e=>Y.delete("m_action",e)},mActivity:{list:(e={})=>Y.list("m_activity",e),get:e=>Y.get("m_activity",e),create:e=>Y.create("m_activity",e),update:(e,t)=>Y.update("m_activity",e,t),delete:e=>Y.delete("m_activity",e)},messages:{list:(e={})=>Y.list("messages",e),get:e=>Y.get("messages",e),create:e=>Y.create("messages",e),update:(e,t)=>Y.update("messages",e,t),delete:e=>Y.delete("messages",e)},mContacts:{list:(e={})=>Y.list("m_contacts",e),get:e=>Y.get("m_contacts",e),create:e=>Y.create("m_contacts",e),update:(e,t)=>Y.update("m_contacts",e,t),delete:e=>Y.delete("m_contacts",e)},mCountry:{list:(e={})=>Y.list("m_country",e),get:e=>Y.get("m_country",e),create:e=>Y.create("m_country",e),update:(e,t)=>Y.update("m_country",e,t),delete:e=>Y.delete("m_country",e)},mCity:{list:(e={})=>Y.list("m_city",e),get:e=>Y.get("m_city",e),create:e=>Y.create("m_city",e),update:(e,t)=>Y.update("m_city",e,t),delete:e=>Y.delete("m_city",e),getByCountry:(e,t={})=>Y.list("m_city",{...t,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>Y.list("m_jobtitle",e),get:e=>Y.get("m_jobtitle",e),create:e=>Y.create("m_jobtitle",e),update:(e,t)=>Y.update("m_jobtitle",e,t),delete:e=>Y.delete("m_jobtitle",e)},mLeads:{list:(e={})=>Y.list("m_leads",e),get:e=>Y.get("m_leads",e),create:e=>Y.create("m_leads",e),update:(e,t)=>Y.update("m_leads",e,t),delete:e=>Y.delete("m_leads",e),getByStage:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{assigned_to:e}}),getByStatus:(e,t={})=>Y.list("m_leads",{...t,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>Y.list("m_system",e),get:e=>Y.get("m_system",e),create:e=>Y.create("m_system",e),update:(e,t)=>Y.update("m_system",e,t),delete:e=>Y.delete("m_system",e)},mLeadsTrans:{list:(e={})=>Y.list("m_leads_trans",e),get:e=>Y.get("m_leads_trans",e),create:e=>Y.create("m_leads_trans",e),update:(e,t)=>Y.update("m_leads_trans",e,t),delete:e=>Y.delete("m_leads_trans",e),getByLead:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{leads_id:e}}),getByUser:(e,t={})=>Y.list("m_leads_trans",{...t,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>Y.list("m_projects",e),get:e=>Y.get("m_projects",e),create:e=>Y.create("m_projects",e),update:(e,t)=>Y.update("m_projects",e,t),delete:e=>Y.delete("m_projects",e)},mStatus:{list:(e={})=>Y.list("m_status",e),get:e=>Y.get("m_status",e),create:e=>Y.create("m_status",e),update:(e,t)=>Y.update("m_status",e,t),delete:e=>Y.delete("m_status",e)},notes:{list:(e={})=>Y.list("notes",e),get:e=>Y.get("notes",e),create:e=>Y.create("notes",e),update:(e,t)=>Y.update("notes",e,t),delete:e=>Y.delete("notes",e),getByRelated:(e,t,r={})=>Y.list("notes",{...r,exact_filters:{related_to_type:e,related_to_id:t}})},partnerApply:{list:(e={})=>Y.list("partner_apply",e),get:e=>Y.get("partner_apply",e),create:e=>Y.create("partner_apply",e),update:(e,t)=>Y.update("partner_apply",e,t),delete:e=>Y.delete("partner_apply",e),getPending:(e={})=>Y.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,t={})=>Y.list("partner_apply",{...t,exact_filters:{status:e}})},projectUsers:{list:(e={})=>Y.list("project_users",e),get:e=>Y.get("project_users",e),create:e=>Y.create("project_users",e),update:(e,t)=>Y.update("project_users",e,t),delete:e=>Y.delete("project_users",e),getByProject:(e,t={})=>Y.list("project_users",{...t,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>Y.list("project_images",e),get:e=>Y.get("project_images",e),create:e=>Y.create("project_images",e),update:(e,t)=>Y.update("project_images",e,t),delete:e=>Y.delete("project_images",e),getByProject:(e,t={})=>Y.list("project_images",{...t,exact_filters:{project_id:e}})},projects:{list:(e={})=>Y.list("projects",e),get:e=>Y.get("projects",e),create:e=>Y.create("projects",e),update:(e,t)=>Y.update("projects",e,t),delete:e=>Y.delete("projects",e),getByStage:(e,t={})=>Y.list("projects",{...t,exact_filters:{stage:e}}),getByLead:(e,t={})=>Y.list("projects",{...t,exact_filters:{lead_id:e}})},requests:{list:(e={})=>Y.list("requests_crm",e),get:e=>Y.get("requests_crm",e),create:e=>Y.create("requests_crm",e),update:(e,t)=>Y.update("requests_crm",e,t),delete:e=>Y.delete("requests_crm",e)},rooms:{list:(e={})=>Y.list("rooms",e),get:e=>Y.get("rooms",e),create:e=>Y.create("rooms",e),update:(e,t)=>Y.update("rooms",e,t),delete:e=>Y.delete("rooms",e),getByProject:(e,t={})=>Y.list("rooms",{...t,exact_filters:{project_id:e}}),getByTeam:(e,t={})=>Y.list("rooms",{...t,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>Y.list("room_members",e),get:e=>Y.get("room_members",e),create:e=>Y.create("room_members",e),update:(e,t)=>Y.update("room_members",e,t),delete:e=>Y.delete("room_members",e),getByRoom:(e,t={})=>Y.list("room_members",{...t,exact_filters:{room_id:e}})},stages:{list:(e={})=>Y.list("stages",e),get:e=>Y.get("stages",e),create:e=>Y.create("stages",e),update:(e,t)=>Y.update("stages",e,t),delete:e=>Y.delete("stages",e)},tasks:{list:(e={})=>Y.list("tasks",e),get:e=>Y.get("tasks",e),create:e=>Y.create("tasks",e),update:(e,t)=>Y.update("tasks",e,t),delete:e=>Y.delete("tasks",e),getByStage:(e,t={})=>Y.list("tasks",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tasks",{...t,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>Y.list("survey_templates",e),get:e=>Y.get("survey_templates",e),create:e=>Y.create("survey_templates",e),update:(e,t)=>Y.update("survey_templates",e,t),delete:e=>Y.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>Y.list("survey_template_fields",e),get:e=>Y.get("survey_template_fields",e),create:e=>Y.create("survey_template_fields",e),update:(e,t)=>Y.update("survey_template_fields",e,t),delete:e=>Y.delete("survey_template_fields",e),getByTemplate:(e,t={})=>Y.list("survey_template_fields",{...t,exact_filters:{template_id:e}})},surveys:{list:(e={})=>Y.list("surveys",e),get:e=>Y.get("surveys",e),create:e=>Y.create("surveys",e),update:(e,t)=>Y.update("surveys",e,t),delete:e=>Y.delete("surveys",e)},teams:{list:(e={})=>Y.list("teams",e),get:e=>Y.get("teams",e),create:e=>Y.create("teams",e),update:(e,t)=>Y.update("teams",e,t),delete:e=>Y.delete("teams",e)},teamMembers:{list:(e={})=>Y.list("team_members",e),get:e=>Y.get("team_members",e),create:e=>{const{team_id:t,user_id:r,userid:n,...a}=e??{},s={...a};t!==void 0&&(s.team_id=t);const o=r??(n!==void 0?Number(n):void 0);return o!==void 0&&!Number.isNaN(o)&&(s.user_id=o),Y.create("team_members",s)},update:(e,t)=>Y.update("team_members",e,t),delete:e=>Y.delete("team_members",e),getByTeam:(e,t={})=>Y.list("team_members",{...t,exact_filters:{team_id:e}})},tickets:{list:(e={})=>Y.list("tickets",e),get:e=>Y.get("tickets",e),create:e=>Y.create("tickets",e),update:(e,t)=>Y.update("tickets",e,t),delete:e=>Y.delete("tickets",e),getByStatus:(e,t={})=>Y.list("tickets",{...t,exact_filters:{status:e}}),getByStage:(e,t={})=>Y.list("tickets",{...t,exact_filters:{stage_id:e}}),getByAssignee:(e,t={})=>Y.list("tickets",{...t,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>Y.list("Users",e),get:e=>Y.get("Users",e),create:e=>Y.create("Users",e),update:(e,t)=>Y.update("Users",e,t),delete:e=>Y.delete("Users",e)},whatsappConversations:{list:(e={})=>Y.list("whatsapp_conversations",e),get:e=>Y.get("whatsapp_conversations",e),create:e=>Y.create("whatsapp_conversations",e),update:(e,t)=>Y.update("whatsapp_conversations",e,t),delete:e=>Y.delete("whatsapp_conversations",e),getByLead:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{lead_id:e}}),getByUser:(e,t={})=>Y.list("whatsapp_conversations",{...t,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>Y.list("whatsapp_messages",e),get:e=>Y.get("whatsapp_messages",e),create:e=>Y.create("whatsapp_messages",e),update:(e,t)=>Y.update("whatsapp_messages",e,t),delete:e=>Y.delete("whatsapp_messages",e),getByConversation:(e,t={})=>Y.list("whatsapp_messages",{...t,exact_filters:{conversation_id:e}})}};let $S=null,Zf=null;async function qT(){return $S||Zf||(Zf=Y.permissions.list().then(e=>{const t=e.data||[];return $S=t,Zf=null,t}).catch(e=>(Zf=null,console.error("Failed to fetch permissions:",e),[])),Zf)}const DB=x.createContext(void 0),oae=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,o]=x.useState(!0);x.useEffect(()=>{(()=>{try{const h=localStorage.getItem("authToken"),m=localStorage.getItem("authUser");if(h&&m){const p=JSON.parse(m);if(p&&p.role&&(p.role=p.role.toLowerCase()),!p.permissions_permissions_Name)if(p.profile&&p.profile.permissions_permissions_Name)p.permissions_permissions_Name=p.profile.permissions_permissions_Name;else if(p.profile&&p.profile.permissions){const g=p.profile.permissions,v={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};v[g]&&(p.permissions_permissions_Name=v[g],p.role=v[g])}else p.isAdmin===1&&(p.permissions_permissions_Name="admin",p.role="admin");a(h),r(p)}}catch(h){console.error("Failed to parse stored auth data:",h),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const l=x.useCallback(async(f,h)=>{a(f),localStorage.setItem("authToken",f);try{await new Promise(v=>setTimeout(v,100)),await qT()}catch(v){console.warn("Failed to preload permissions:",v)}let m=h;try{let v=null;try{v=await Y.list("Users",{exact_filters:{userid:h.id},pageSize:1})}catch{const b=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:h.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});b.ok&&(v=await b.json())}v&&v.data&&v.data.length>0&&(m=v.data[0])}catch(v){console.warn("Failed to fetch full user profile, using basic login data:",v)}let p="employee";if(m.permissions_permissions_Name){const v=m.permissions_permissions_Name.toLowerCase();v==="admin"?p="admin":v==="manager"?p="manager":v==="employee"?p="employee":v==="team_leader"?p="team_leader":v==="partner_employee"?p="partner_employee":v==="partner_leader"?p="partner_leader":p="employee"}else m.isAdmin===1&&(p="admin");const g={id:m.userid||m.id||"unknown",email:m.Email||m.email||h.email||"",role:p,profile:m,userid:m.userid||0,permissions:m.permissions||0,permissions_permissions_Name:m.permissions_permissions_Name||"",Employee:m.Employee||0,AccountNumber:m.AccountNumber||null,mobile:m.mobile||null,Owner:m.Owner||0,Email_v:m.Email_v||0,IsActive:m.IsActive||0,user_pasword:m.user_pasword||"",name:m.name||h.name||"",Email:m.Email||m.email||h.email||"",pin:m.pin||null,isAllBranches:m.isAllBranches||0,Safe:m.Safe||0,reset_code:m.reset_code||null,reset_expires:m.reset_expires||"",reset_used:m.reset_used||0,isAdmin:m.isAdmin||0};r(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(v=>setTimeout(v,50))},[]),c=x.useCallback(()=>{a(null),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),u=x.useCallback(f=>!t||!t.role?!1:f.includes(t.role),[t]),d=x.useMemo(()=>({user:t,token:n,isAuthenticated:!!t&&!!n,loading:s,login:l,logout:c,hasRole:u}),[t,n,s,l,c,u]);return i.jsx(DB.Provider,{value:d,children:e})},xr=()=>{const e=x.useContext(DB);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},RB=x.createContext(void 0),lae=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],cae=({children:e})=>{const[t,r]=x.useState(Vr.language||"ar"),[n,a]=x.useState(Qt());x.useEffect(()=>{const l=c=>{r(c),a(Qt())};return Vr.on("languageChanged",l),()=>{Vr.off("languageChanged",l)}},[]);const o={currentLanguage:t,changeLanguage:async l=>{try{await Vr.changeLanguage(l),r(l),a(Qt())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:lae};return i.jsx(RB.Provider,{value:o,children:e})},Ia=()=>{const e=x.useContext(RB);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},MB=x.createContext(void 0);function uae({children:e}){const[t,r]=x.useState([]);return i.jsx(MB.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function Xv(){const e=x.useContext(MB);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var J1=["light","dark"],KT="(prefers-color-scheme: dark)",dae=typeof window>"u",GT=x.createContext(void 0),fae={setTheme:e=>{},themes:[]},hae=()=>{var e;return(e=x.useContext(GT))!=null?e:fae},FB=e=>x.useContext(GT)?e.children:x.createElement(pae,{...e}),mae=["light","dark"],pae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=mae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>NR(a,o)),[m,p]=x.useState(()=>NR(a)),g=c?Object.values(c):s,v=x.useCallback(w=>{let j=w;if(!j)return;w==="system"&&r&&(j=kR());let N=c?c[j]:j,S=t?vae():null,k=document.documentElement;if(l==="class"?(k.classList.remove(...g),N&&k.classList.add(N)):N?k.setAttribute(l,N):k.removeAttribute(l),n){let C=J1.includes(o)?o:null,A=J1.includes(j)?j:C;k.style.colorScheme=A}S==null||S()},[]),y=x.useCallback(w=>{let j=typeof w=="function"?w(w):w;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=x.useCallback(w=>{let j=kR(w);p(j),f==="system"&&r&&!e&&v("system")},[f,e]);x.useEffect(()=>{let w=window.matchMedia(KT);return w.addListener(b),b(w),()=>w.removeListener(b)},[b]),x.useEffect(()=>{let w=j=>{if(j.key!==a)return;let N=j.newValue||o;y(N)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[y]),x.useEffect(()=>{v(e??f)},[e,f]);let _=x.useMemo(()=>({theme:f,setTheme:y,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,y,e,m,r,s]);return x.createElement(GT.Provider,{value:_},x.createElement(gae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:o,attribute:l,value:c,children:u,attrs:g,nonce:d}),u)},gae=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?J1.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,g=!1,v=!0)=>{let y=o?o[p]:p,b=g?p+"|| ''":`'${y}'`,_="";return a&&v&&!g&&J1.includes(p)&&(_+=`d.style.colorScheme = '${p}';`),r==="class"?g||y?_+=`c.add(${b})`:_+="null":y&&(_+=`d[s](n,${b})`),_},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${KT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),NR=(e,t)=>{if(dae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},vae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},kR=e=>(e||(e=window.matchMedia(KT)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...yae,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:IB("lucide",a),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(bae,{ref:s,iconNode:t,className:IB(`lucide-${xae(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=Ye("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=Ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=Ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=Ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=Ye("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Ye("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=Ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Ye("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=Ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Ye("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=Ye("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=Ye("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=Ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=Ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=Ye("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=Ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Ye("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=Ye("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Ye("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=Ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=Ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=Ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Ye("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=Ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=Ye("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Ye("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ye("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=Ye("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Ye("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=Ye("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=Ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Ye("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=Ye("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Ye("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Ye("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Ye("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=Ye("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=Ye("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=Ye("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=Ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Ye("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Ye("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Ye("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function HB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=HB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function It(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=HB(e))&&(n&&(n+=" "),n+=t);return n}const XT="-",Zae=e=>{const t=tse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(XT);return l[0]===""&&l.length!==1&&l.shift(),qB(l,t)||ese(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},qB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?qB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(XT);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},MR=/^\[(.+)\]$/,ese=e=>{if(MR.test(e)){const t=MR.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},tse=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return nse(Object.entries(e.classGroups),r).forEach(([s,o])=>{yk(o,n,s,t)}),n},yk=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:FR(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(rse(a)){yk(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,o])=>{yk(o,FR(t,s),r,n)})})},FR=(e,t)=>{let r=e;return t.split(XT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rse=e=>e.isThemeGetter,nse=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,a]}):e,ase=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return a(s,o),o},set(s,o){r.has(s)?r.set(s,o):a(s,o)}}},KB="!",sse=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let y=l[v];if(u===0){if(y===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(y==="/"){f=v;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(KB),p=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},ise=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ose=e=>({cache:ase(e.cacheSize),parseClassName:sse(e),...Zae(e)}),lse=/\s+/,cse=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(lse);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let p=!!m,g=n(p?h.substring(0,m):h);if(!g){if(!p){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=ise(d).join(":"),y=f?v+KB:v,b=y+g;if(s.includes(b))continue;s.push(b);const _=a(g,p);for(let w=0;w<_.length;++w){const j=_[w];s.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function use(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=GB(t))&&(n&&(n+=" "),n+=r);return n}const GB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=GB(e[n]))&&(r&&(r+=" "),r+=t);return r};function dse(e,...t){let r,n,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=ose(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=cse(c,r);return a(c,d),d}return function(){return s(use.apply(null,arguments))}}const Dr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YB=/^\[(?:([a-z-]+):)?(.+)\]$/i,fse=/^\d+\/\d+$/,hse=new Set(["px","full","screen"]),mse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ml=e=>Gh(e)||hse.has(e)||fse.test(e),zc=e=>Np(e,"length",kse),Gh=e=>!!e&&!Number.isNaN(Number(e)),BS=e=>Np(e,"number",Gh),u0=e=>!!e&&Number.isInteger(Number(e)),yse=e=>e.endsWith("%")&&Gh(e.slice(0,-1)),Ut=e=>YB.test(e),Vc=e=>mse.test(e),bse=new Set(["length","size","percentage"]),_se=e=>Np(e,bse,XB),wse=e=>Np(e,"position",XB),jse=new Set(["image","url"]),Sse=e=>Np(e,jse,Ese),Nse=e=>Np(e,"",Cse),d0=()=>!0,Np=(e,t,r)=>{const n=YB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},kse=e=>pse.test(e)&&!gse.test(e),XB=()=>!1,Cse=e=>vse.test(e),Ese=e=>xse.test(e),Tse=()=>{const e=Dr("colors"),t=Dr("spacing"),r=Dr("blur"),n=Dr("brightness"),a=Dr("borderColor"),s=Dr("borderRadius"),o=Dr("borderSpacing"),l=Dr("borderWidth"),c=Dr("contrast"),u=Dr("grayscale"),d=Dr("hueRotate"),f=Dr("invert"),h=Dr("gap"),m=Dr("gradientColorStops"),p=Dr("gradientColorStopPositions"),g=Dr("inset"),v=Dr("margin"),y=Dr("opacity"),b=Dr("padding"),_=Dr("saturate"),w=Dr("scale"),j=Dr("sepia"),N=Dr("skew"),S=Dr("space"),k=Dr("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Ut,t],T=()=>[Ut,t],U=()=>["",Ml,zc],z=()=>["auto",Gh,Ut],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ut],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Gh,Ut];return{cacheSize:500,separator:":",theme:{colors:[d0],spacing:[Ml,zc],blur:["none","",Vc,Ut],brightness:J(),borderColor:[e],borderRadius:["none","","full",Vc,Ut],borderSpacing:T(),borderWidth:U(),contrast:J(),grayscale:F(),hueRotate:J(),invert:F(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[yse,zc],inset:P(),margin:P(),opacity:J(),padding:T(),saturate:J(),scale:J(),sepia:F(),skew:J(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[Vc]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Ut]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",u0,Ut]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",u0,Ut]}],"grid-cols":[{"grid-cols":[d0]}],"col-start-end":[{col:["auto",{span:["full",u0,Ut]},Ut]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[d0]}],"row-start-end":[{row:["auto",{span:[u0,Ut]},Ut]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,t]}],"min-w":[{"min-w":[Ut,t,"min","max","fit"]}],"max-w":[{"max-w":[Ut,t,"none","full","min","max","fit","prose",{screen:[Vc]},Vc]}],h:[{h:[Ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vc,zc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",BS]}],"font-family":[{font:[d0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",Gh,BS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ml,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ml,zc]}],"underline-offset":[{"underline-offset":["auto",Ml,Ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),wse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_se]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[Ml,Ut]}],"outline-w":[{outline:[Ml,zc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ml,zc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vc,Nse]}],"shadow-color":[{shadow:[d0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Vc,Ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[u0,Ut]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ml,zc,BS]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ase=dse(Tse);function be(...e){return Ase(It(e))}const Pse={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function ua({message:e="Loading...",className:t="",size:r="xl",fullScreen:n=!1,showProgress:a=!1,progress:s=0}){const o=i.jsxs("div",{className:be("flex flex-col items-center justify-center space-y-4",n?"min-h-screen":"",t),children:[i.jsx(nw,{className:be("animate-spin text-primary",Pse[r])}),a&&i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})}),e&&!a&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&a&&i.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return n?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const fy=({children:e,allowedRoles:t,requireAuth:r=!0,denyPermissionIds:n=[]})=>{var f,h;const a=Cl(),{user:s,loading:o,hasRole:l}=xr(),c=x.useMemo(()=>t?l(t):!0,[t,l]);if(x.useMemo(()=>({loading:o,user:s?{id:s.id,email:s.email,role:s.role}:null,hasRequiredRole:c}),[o,s,c]),console.log("[ProtectedRoute]",{path:a.pathname,loading:o,hasUser:!!s,requireAuth:r,hasRequiredRole:c,userRole:s==null?void 0:s.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),i.jsx(ua,{size:"xl",fullScreen:!0});if(r&&!s)return console.log("[ProtectedRoute] No user, redirecting to login"),i.jsx(i1,{to:"/login",state:{from:a},replace:!0});const u=(s==null?void 0:s.permissions)||((f=s==null?void 0:s.profile)==null?void 0:f.permissions)||((h=s==null?void 0:s.profile)==null?void 0:h.permissions_ID),d=u!=null?Number(u):NaN;return n.length>0&&!Number.isNaN(d)&&n.includes(d)?(console.log("[ProtectedRoute] User permission denied:",d),i.jsx(i1,{to:"/unauthorized",replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),i.jsx(i1,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),i.jsx(i.Fragment,{children:e}))};function IR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function mc(...e){return t=>{let r=!1;const n=e.map(a=>{const s=IR(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():IR(e[a],null)}}}}function zt(...e){return x.useCallback(mc(...e),e)}function Wu(e){const t=Ose(e),r=x.forwardRef((n,a)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Rse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var JB=Wu("Slot");function Ose(e){const t=x.forwardRef((r,n)=>{const{children:a,...s}=r;if(x.isValidElement(a)){const o=Fse(a),l=Mse(s,a.props);return a.type!==x.Fragment&&(l.ref=n?mc(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QB=Symbol("radix.slottable");function Dse(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=QB,t}function Rse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QB}function Mse(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Fse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const LR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$R=It,Qv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return $R(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=LR(d)||LR(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...s,...l}[g]):{...s,...l}[g]===v})?[...u,f,h]:u},[]);return $R(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Am=Qv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ce=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const o=n?JB:"button";return i.jsx(o,{className:be(Am({variant:t,size:r,className:e})),ref:s,...a})});ce.displayName="Button";const We=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));We.displayName="Input";var Ise=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=Ise.reduce((e,t)=>{const r=Wu(`Primitive.${t}`),n=x.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ZB(e,t){e&&_p.flushSync(()=>e.dispatchEvent(t))}var Lse="Label",e9=x.forwardRef((e,t)=>i.jsx(mt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));e9.displayName=Lse;var t9=e9;const $se=Qv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=x.forwardRef(({className:e,...t},r)=>i.jsx(t9,{ref:r,className:be($se(),e),...t}));He.displayName=t9.displayName;const it=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));it.displayName="Card";const Bt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));Bt.displayName="CardHeader";const er=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));er.displayName="CardTitle";const Bse=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Bse.displayName="CardDescription";const dt=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));dt.displayName="CardContent";const r9=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));r9.displayName="CardFooter";const Use=1,zse=1e6;let US=0;function Vse(){return US=(US+1)%Number.MAX_SAFE_INTEGER,US.toString()}const zS=new Map,BR=e=>{if(zS.has(e))return;const t=setTimeout(()=>{zS.delete(e),rg({type:"REMOVE_TOAST",toastId:e})},zse);zS.set(e,t)},Wse=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Use)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?BR(r):e.toasts.forEach(n=>{BR(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},l1=[];let c1={toasts:[]};function rg(e){c1=Wse(c1,e),l1.forEach(t=>{t(c1)})}function Hse({...e}){const t=Vse(),r=a=>rg({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>rg({type:"DISMISS_TOAST",toastId:t});return rg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Lo(){const[e,t]=x.useState(c1);return x.useEffect(()=>(l1.push(t),()=>{const r=l1.indexOf(t);r>-1&&l1.splice(r,1)}),[e]),{...e,toast:Hse,dismiss:r=>rg({type:"DISMISS_TOAST",toastId:r})}}const qse=()=>{var b,_;const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,s]=x.useState("crmdb"),[o,l]=x.useState(!1),[c,u]=x.useState(!1),{login:d}=xr(),f=Bs(),h=Cl(),{t:m}=Vt(),{isRTL:p}=Ia(),{toast:g}=Lo(),v=((_=(b=h.state)==null?void 0:b.from)==null?void 0:_.pathname)||"/dashboard",y=async w=>{if(w.preventDefault(),!e||!r){g({title:m("common.error","Error"),description:m("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}l(!0);try{const j=await Y.auth.login({email:e,password:r,company_code:a});if(j.serviceToken&&j.user)await d(j.serviceToken,j.user),g({title:m("common.success","Success"),description:m("auth.loginSuccess","Logged in successfully")}),f(v,{replace:!0});else throw new Error("Invalid response from server")}catch(j){console.error("Login error:",j);let N=m("auth.loginFailed","Failed to login. Please check your credentials.");j.message&&!j.message.includes("Unexpected token")&&(N=j.message),g({title:m("auth.loginFailedTitle","Login Failed"),description:N,variant:"destructive"})}finally{l(!1)}};return i.jsxs("div",{className:"w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:i.jsx(Pn,{className:"h-8 w-8 text-white"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:m("auth.welcomeBack","Welcome Back")}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:m("auth.enterCredentials","Enter your credentials to access your account")})]}),i.jsx(it,{className:"border-0 shadow-xl bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm",children:i.jsxs("form",{onSubmit:y,children:[i.jsxs(dt,{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.emailOrUsername","Email / Username")}),i.jsx("div",{className:"relative",children:i.jsx(We,{id:"email",type:"text",placeholder:m("auth.enterEmail","Enter your email"),value:e,onChange:w=>t(w.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-10 pl-3":"text-left"}`,autoComplete:"email"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("forms.password","Password")}),i.jsxs("div",{className:"relative",children:[i.jsx(We,{id:"password",type:c?"text":"password",placeholder:m("auth.enterPassword","Enter your password"),value:r,onChange:w=>n(w.target.value),disabled:o,className:`pl-10 pr-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-16 pl-3":"text-left"}`,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>u(!c),className:`absolute ${p?"left-3":"right-3"} top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors`,disabled:o,children:c?i.jsx(Dae,{className:"h-4 w-4"}):i.jsx(ni,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"companyCode",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m("auth.companyCode","Company Code")}),i.jsx("div",{className:"relative",children:i.jsx(We,{id:"companyCode",type:"text",value:a,onChange:w=>s(w.target.value),disabled:o,className:`pl-10 h-12 border-gray-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 focus:border-primary focus:ring-primary ${p?"text-right pr-3 pl-10":"text-left"}`,placeholder:"crmdb"})})]})]}),i.jsx(r9,{className:"px-8 pb-8",children:i.jsx(ce,{type:"submit",className:"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200 bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(nw,{className:"mr-2 h-4 w-4 animate-spin"}),m("auth.signingIn","Logging in...")]}):i.jsx(i.Fragment,{children:m("auth.signInButton","Login")})})})]})}),i.jsxs("div",{className:"mt-6 text-center space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m("auth.noAccount","Don't have an account?")," ",i.jsx("button",{onClick:()=>f("/signup"),className:"text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.signUp","Sign up")})]}),i.jsx("button",{onClick:()=>{g({title:m("auth.forgotPassword","Forgot Password"),description:m("auth.forgotPasswordDesc","Please contact your administrator to reset your password.")})},className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:m("auth.forgotPassword","Forgot your password?")})]})]})},Kse=()=>{const[e,t]=x.useState(!1);xr();const r=Bs(),{t:n}=Vt();return i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),i.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&i.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),i.jsxs("div",{className:"text-center text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),i.jsx(ce,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})},Vg=()=>{const{user:e}=xr(),t=e==null?void 0:e.permissions,r=m=>{var g;return t===1?!0:((g={1:[],2:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_templates_INSERT","survey_templates_UPDATE","survey_templates_DELETE","survey_template_fields_SELECT","survey_template_fields_INSERT","survey_template_fields_UPDATE","survey_template_fields_DELETE","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE","teams_SELECT","teams_INSERT","teams_UPDATE","teams_DELETE","fr_can_view_app_settings","system_update","update_permissions"],3:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],4:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],5:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"],6:["surveys_SELECT","surveys_INSERT","surveys_UPDATE","surveys_DELETE","survey_templates_SELECT","survey_template_fields_SELECT","projects_SELECT","projects_INSERT","projects_UPDATE","projects_DELETE","tickets_SELECT","tickets_INSERT","tickets_UPDATE","tickets_DELETE"]}[t||0])==null?void 0:g.includes(m))||!1};return{user:e,userPermissionId:t,hasPermission:r,canView:m=>r(`${m}_SELECT`),canEdit:m=>r(`${m}_UPDATE`),canDelete:m=>r(`${m}_DELETE`),canCreate:m=>r(`${m}_INSERT`),canViewAllData:()=>t===1||t===2,canViewOwnData:()=>t===3||t===4||t===5||t===6,canViewTeamData:()=>t===4,canUpdateSystem:()=>r("system_update"),canManageUsers:()=>r("update_permissions"),canAccessSystem:()=>{const m=r("fr_can_view_app_settings");return console.log("canAccessSystem check:",{userPermissionId:t,result:m}),m}}},n9=x.createContext(void 0),Gse=({children:e})=>{const[t,r]=x.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[n,a]=x.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[s,o]=x.useState(()=>localStorage.getItem("crm_logo_url")||""),l=h=>{r(h),localStorage.setItem("crm_company_name",h)},c=h=>{a(h),localStorage.setItem("crm_primary_color",h),d(h)},u=h=>{o(h),localStorage.setItem("crm_logo_url",h)},d=h=>{const m=f(h);m&&(document.documentElement.style.setProperty("--primary",`${m.h} ${m.s}% ${m.l}%`),document.documentElement.style.setProperty("--ring",`${m.h} ${m.s}% ${m.l}%`))};function f(h){let m=0,p=0,g=0;h.length===4?(m=parseInt(h[1]+h[1],16),p=parseInt(h[2]+h[2],16),g=parseInt(h[3]+h[3],16)):h.length===7&&(m=parseInt(h.substring(1,3),16),p=parseInt(h.substring(3,5),16),g=parseInt(h.substring(5,7),16)),m/=255,p/=255,g/=255;const v=Math.max(m,p,g),y=Math.min(m,p,g);let b=0,_,w=(v+y)/2;if(v===y)b=_=0;else{const j=v-y;switch(_=w>.5?j/(2-v-y):j/(v+y),v){case m:b=(p-g)/j+(p<g?6:0);break;case p:b=(g-m)/j+2;break;case g:b=(m-p)/j+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(_*100),l:Math.round(w*100)}}return x.useEffect(()=>{d(n)},[]),i.jsx(n9.Provider,{value:{companyName:t,setCompanyName:l,primaryColor:n,setPrimaryColor:c,logoUrl:s,setLogoUrl:u},children:e})},a9=()=>{const e=x.useContext(n9);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function Yse(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function fs(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var y;const{scope:h,children:m,...p}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,v=x.useMemo(()=>p,Object.values(p));return i.jsx(g.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,p=x.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Xse(a,...t)]}function Xse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Kn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var jn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function Jse(){return pB.useSyncExternalStore(Qse,()=>!0,()=>!1)}function Qse(){return()=>{}}var JT="Avatar",[Zse,nqe]=fs(JT),[eie,s9]=Zse(JT),i9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=x.useState("idle");return i.jsx(eie,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:i.jsx(mt.span,{...n,ref:t})})});i9.displayName=JT;var o9="AvatarImage",l9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,o=s9(o9,r),l=tie(n,s),c=Kn(u=>{a(u),o.onImageLoadingStatusChange(u)});return jn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(mt.img,{...s,ref:t,src:n}):null});l9.displayName=o9;var c9="AvatarFallback",u9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=s9(c9,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?i.jsx(mt.span,{...a,ref:t}):null});u9.displayName=c9;function UR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tie(e,{referrerPolicy:t,crossOrigin:r}){const n=Jse(),a=x.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>UR(s,e));return jn(()=>{l(UR(s,e))},[s,e]),jn(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),o}var d9=i9,f9=l9,h9=u9;const Ps=x.forwardRef(({className:e,...t},r)=>i.jsx(d9,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ps.displayName=d9.displayName;const Oo=x.forwardRef(({className:e,...t},r)=>i.jsx(f9,{ref:r,className:be("aspect-square h-full w-full",e),...t}));Oo.displayName=f9.displayName;const Os=x.forwardRef(({className:e,...t},r)=>i.jsx(h9,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Os.displayName=h9.displayName;const rie=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Iae},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bs},{labelKey:"navigation.reports",path:"/reports",roles:["admin","manager","team_leader"],icon:$B}]},{label:"sales",items:[{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pn},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pn}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:tg},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:dh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:bs}]},{label:"communication",items:[{labelKey:"navigation.whatsapp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Vu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Vu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Q1}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Yae},{labelKey:"navigation.settings",path:"/settings",roles:["admin","manager"],icon:aw},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:Q1}]}];function VS({onNavigate:e}={}){var l,c,u;const t=Cl(),{user:r}=xr(),{userPermissionId:n}=Vg(),{canAccessSystem:a}=Vg(),{t:s}=Vt(),{companyName:o}=a9();return i.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[i.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"text-2xl font-bold text-primary-foreground",children:o})})}),i.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:i.jsx("nav",{className:"space-y-6",children:rie.map(d=>{if(d.label==="system"&&!a)return null;const f=d.items.filter(h=>r&&h.roles&&h.roles.some(m=>n==={admin:1,manager:2,employee:3,team_leader:4,partner_employee:5,partner_leader:6}[m]));return f.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:s(`navigation.${d.label} Group`,d.label)}),i.jsx("div",{className:"space-y-1",children:f.map(h=>{const m=t.pathname===h.path,p=h.icon;return i.jsxs(fk,{to:h.path,onClick:g=>{m&&g.preventDefault(),e==null||e()},className:be("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",m?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[m&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),i.jsx(p,{className:be("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",m?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),i.jsx("span",{className:"flex-1 relative z-10",children:s(h.labelKey)})]},h.path)})})]},d.label)})})}),i.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[i.jsx(Ps,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:i.jsx(Os,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(l=r==null?void 0:r.email)==null?void 0:l.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((c=r==null?void 0:r.profile)==null?void 0:c.name)||(r==null?void 0:r.email)}),i.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(u=r==null?void 0:r.role)==null?void 0:u.replace("_"," ")]})]}),i.jsx(ew,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function nie(){const e=Cl(),{t}=Vt(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(fk,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,o)=>{const l=`/${r.slice(0,o+1).join("/")}`,c=o===r.length-1,u=a(s);return i.jsxs("div",{className:"flex items-center",children:[i.jsx(ew,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?i.jsx("span",{className:"text-foreground font-medium",children:u}):i.jsx(fk,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function bk(e,[t,r]){return Math.min(r,Math.max(t,e))}function at(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function QT(e){const t=e+"CollectionProvider",[r,n]=fs(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:y}=g,b=ie.useRef(null),_=ie.useRef(new Map).current;return i.jsx(a,{scope:v,itemMap:_,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=Wu(l),u=ie.forwardRef((g,v)=>{const{scope:y,children:b}=g,_=s(l,y),w=zt(v,_.collectionRef);return i.jsx(c,{ref:w,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Wu(d),m=ie.forwardRef((g,v)=>{const{scope:y,children:b,..._}=g,w=ie.useRef(null),j=zt(v,w),N=s(d,y);return ie.useEffect(()=>(N.itemMap.set(w,{ref:w,..._}),()=>void N.itemMap.delete(w))),i.jsx(h,{[f]:"",ref:j,children:b})});m.displayName=d;function p(g){const v=s(e+"CollectionConsumer",g);return ie.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,S)=>_.indexOf(N.ref.current)-_.indexOf(S.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}var aie=x.createContext(void 0);function Zv(e){const t=x.useContext(aie);return e||t||"ltr"}function sie(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var iie="DismissableLayer",_k="dismissableLayer.update",oie="dismissableLayer.pointerDownOutside",lie="dismissableLayer.focusOutside",zR,m9=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ex=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(m9),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),p=zt(t,S=>f(S)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,j=die(S=>{const k=S.target,C=[...u.branches].some(A=>A.contains(k));!w||C||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},h),N=fie(S=>{const k=S.target;[...u.branches].some(A=>A.contains(k))||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},h);return sie(S=>{b===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),VR(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zR)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),VR())},[d,u]),x.useEffect(()=>{const S=()=>m({});return document.addEventListener(_k,S),()=>document.removeEventListener(_k,S)},[]),i.jsx(mt.div,{...c,ref:p,style:{pointerEvents:_?w?"auto":"none":void 0,...e.style},onFocusCapture:at(e.onFocusCapture,N.onFocusCapture),onBlurCapture:at(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:at(e.onPointerDownCapture,j.onPointerDownCapture)})});ex.displayName=iie;var cie="DismissableLayerBranch",uie=x.forwardRef((e,t)=>{const r=x.useContext(m9),n=x.useRef(null),a=zt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),i.jsx(mt.div,{...e,ref:a})});uie.displayName=cie;function die(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){p9(oie,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fie(e,t=globalThis==null?void 0:globalThis.document){const r=Kn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&p9(lie,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function VR(){const e=new CustomEvent(_k);document.dispatchEvent(e)}function p9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ZB(a,s):a.dispatchEvent(s)}var WS=0;function sw(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WR()),document.body.insertAdjacentElement("beforeend",e[1]??WR()),WS++,()=>{WS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),WS--}},[])}function WR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var HS="focusScope.autoFocusOnMount",qS="focusScope.autoFocusOnUnmount",HR={bubbles:!1,cancelable:!0},hie="FocusScope",tx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=Kn(a),d=Kn(s),f=x.useRef(null),h=zt(t,g=>c(g)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(_){if(m.paused||!l)return;const w=_.target;l.contains(w)?f.current=w:qc(f.current,{select:!0})},v=function(_){if(m.paused||!l)return;const w=_.relatedTarget;w!==null&&(l.contains(w)||qc(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&qc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){KR.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(HS,HR);l.addEventListener(HS,u),l.dispatchEvent(y),y.defaultPrevented||(mie(yie(g9(l)),{select:!0}),document.activeElement===g&&qc(l))}return()=>{l.removeEventListener(HS,u),setTimeout(()=>{const y=new CustomEvent(qS,HR);l.addEventListener(qS,d),l.dispatchEvent(y),y.defaultPrevented||qc(g??document.body,{select:!0}),l.removeEventListener(qS,d),KR.remove(m)},0)}}},[l,u,d,m]);const p=x.useCallback(g=>{if(!r&&!n||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const b=g.currentTarget,[_,w]=pie(b);_&&w?!g.shiftKey&&y===w?(g.preventDefault(),r&&qc(_,{select:!0})):g.shiftKey&&y===_&&(g.preventDefault(),r&&qc(w,{select:!0})):y===b&&g.preventDefault()}},[r,n,m.paused]);return i.jsx(mt.div,{tabIndex:-1,...o,ref:h,onKeyDown:p})});tx.displayName=hie;function mie(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qc(n,{select:t}),document.activeElement!==r)return}function pie(e){const t=g9(e),r=qR(t,e),n=qR(t.reverse(),e);return[r,n]}function g9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qR(e,t){for(const r of e)if(!gie(r,{upTo:t}))return r}function gie(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vie(e){return e instanceof HTMLInputElement&&"select"in e}function qc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vie(e)&&t&&e.select()}}var KR=xie();function xie(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=GR(e,t),e.unshift(t)},remove(t){var r;e=GR(e,t),(r=e[0])==null||r.resume()}}}function GR(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function yie(e){return e.filter(t=>t.tagName!=="A")}var bie=$E[" useId ".trim().toString()]||(()=>{}),_ie=0;function ia(e){const[t,r]=x.useState(bie());return jn(()=>{r(n=>n??String(_ie++))},[e]),t?`radix-${t}`:""}const wie=["top","right","bottom","left"],Hu=Math.min,Js=Math.max,Z1=Math.round,hy=Math.floor,hl=e=>({x:e,y:e}),jie={left:"right",right:"left",bottom:"top",top:"bottom"},Sie={start:"end",end:"start"};function wk(e,t,r){return Js(e,Hu(t,r))}function pc(e,t){return typeof e=="function"?e(t):e}function gc(e){return e.split("-")[0]}function kp(e){return e.split("-")[1]}function ZT(e){return e==="x"?"y":"x"}function eA(e){return e==="y"?"height":"width"}const Nie=new Set(["top","bottom"]);function ll(e){return Nie.has(gc(e))?"y":"x"}function tA(e){return ZT(ll(e))}function kie(e,t,r){r===void 0&&(r=!1);const n=kp(e),a=tA(e),s=eA(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=eb(o)),[o,eb(o)]}function Cie(e){const t=eb(e);return[jk(e),t,jk(t)]}function jk(e){return e.replace(/start|end/g,t=>Sie[t])}const YR=["left","right"],XR=["right","left"],Eie=["top","bottom"],Tie=["bottom","top"];function Aie(e,t,r){switch(e){case"top":case"bottom":return r?t?XR:YR:t?YR:XR;case"left":case"right":return t?Eie:Tie;default:return[]}}function Pie(e,t,r,n){const a=kp(e);let s=Aie(gc(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(jk)))),s}function eb(e){return e.replace(/left|right|bottom|top/g,t=>jie[t])}function Oie(e){return{top:0,right:0,bottom:0,left:0,...e}}function v9(e){return typeof e!="number"?Oie(e):{top:e,right:e,bottom:e,left:e}}function tb(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function JR(e,t,r){let{reference:n,floating:a}=e;const s=ll(t),o=tA(t),l=eA(o),c=gc(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(kp(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const Die=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=JR(u,n,c),h=n,m={},p=0;for(let g=0;g<l.length;g++){const{name:v,fn:y}=l[g],{x:b,y:_,data:w,reset:j}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=_??f,m={...m,[v]:{...m[v],...w}},j&&p<=50&&(p++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=JR(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Wg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=pc(t,e),p=v9(m),v=l[h?f==="floating"?"reference":"floating":f],y=tb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},j=tb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:_,strategy:c}):b);return{top:(y.top-j.top+p.top)/w.y,bottom:(j.bottom-y.bottom+p.bottom)/w.y,left:(y.left-j.left+p.left)/w.x,right:(j.right-y.right+p.right)/w.x}}const Rie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=pc(e,t)||{};if(u==null)return{};const f=v9(d),h={x:r,y:n},m=tA(a),p=eA(m),g=await o.getDimensions(u),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",_=v?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[m]-h[m]-s.floating[p],j=h[m]-s.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=N?N[_]:0;(!S||!await(o.isElement==null?void 0:o.isElement(N)))&&(S=l.floating[_]||s.floating[p]);const k=w/2-j/2,C=S/2-g[p]/2-1,A=Hu(f[y],C),P=Hu(f[b],C),T=A,U=S-g[p]-P,z=S/2-g[p]/2+k,D=wk(T,z,U),M=!c.arrow&&kp(a)!=null&&z!==D&&s.reference[p]/2-(z<T?A:P)-g[p]/2<0,L=M?z<T?z-T:z-U:0;return{[m]:h[m]+L,data:{[m]:D,centerOffset:z-D-L,...M&&{alignmentOffset:L}},reset:M}}}),Mie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=pc(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=gc(a),b=ll(l),_=gc(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(_||!g?[eb(l)]:Cie(l)),N=p!=="none";!h&&N&&j.push(...Pie(l,g,p,w));const S=[l,...j],k=await Wg(t,v),C=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[y]),f){const z=kie(a,o,w);C.push(k[z[0]],k[z[1]])}if(A=[...A,{placement:a,overflows:C}],!C.every(z=>z<=0)){var P,T;const z=(((P=s.flip)==null?void 0:P.index)||0)+1,D=S[z];if(D&&(!(f==="alignment"?b!==ll(D):!1)||A.every(I=>I.overflows[0]>0&&ll(I.placement)===b)))return{data:{index:z,overflows:A},reset:{placement:D}};let M=(T=A.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(m){case"bestFit":{var U;const L=(U=A.filter(I=>{if(N){const F=ll(I.placement);return F===b||F==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(F=>F>0).reduce((F,X)=>F+X,0)]).sort((I,F)=>I[1]-F[1])[0])==null?void 0:U[0];L&&(M=L);break}case"initialPlacement":M=l;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function QR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ZR(e){return wie.some(t=>e[t]>=0)}const Fie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=pc(e,t);switch(n){case"referenceHidden":{const s=await Wg(t,{...a,elementContext:"reference"}),o=QR(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ZR(o)}}}case"escaped":{const s=await Wg(t,{...a,altBoundary:!0}),o=QR(s,r.floating);return{data:{escapedOffsets:o,escaped:ZR(o)}}}default:return{}}}}},x9=new Set(["left","top"]);async function Iie(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=gc(r),l=kp(r),c=ll(r)==="y",u=x9.has(o)?-1:1,d=s&&c?-1:1,f=pc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Lie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await Iie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},$ie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=pc(e,t),u={x:r,y:n},d=await Wg(t,c),f=ll(gc(a)),h=ZT(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=m+d[v],_=m-d[y];m=wk(b,m,_)}if(o){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=p+d[v],_=p-d[y];p=wk(b,p,_)}const g=l.fn({...t,[h]:m,[f]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:s,[f]:o}}}}}},Bie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pc(e,t),d={x:r,y:n},f=ll(a),h=ZT(f);let m=d[h],p=d[f];const g=pc(l,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",w=s.reference[h]-s.floating[_]+v.mainAxis,j=s.reference[h]+s.reference[_]-v.mainAxis;m<w?m=w:m>j&&(m=j)}if(u){var y,b;const _=h==="y"?"width":"height",w=x9.has(gc(a)),j=s.reference[f]-s.floating[_]+(w&&((y=o.offset)==null?void 0:y[f])||0)+(w?0:v.crossAxis),N=s.reference[f]+s.reference[_]+(w?0:((b=o.offset)==null?void 0:b[f])||0)-(w?v.crossAxis:0);p<j?p=j:p>N&&(p=N)}return{[h]:m,[f]:p}}}},Uie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=pc(e,t),d=await Wg(t,u),f=gc(a),h=kp(a),m=ll(a)==="y",{width:p,height:g}=s.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,v=h==="end"?"top":"bottom");const b=g-d.top-d.bottom,_=p-d.left-d.right,w=Hu(g-d[v],b),j=Hu(p-d[y],_),N=!t.middlewareData.shift;let S=w,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=_),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=b),N&&!h){const A=Js(d.left,0),P=Js(d.right,0),T=Js(d.top,0),U=Js(d.bottom,0);m?k=p-2*(A!==0||P!==0?A+P:Js(d.left,d.right)):S=g-2*(T!==0||U!==0?T+U:Js(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const C=await o.getDimensions(l.floating);return p!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}};function iw(){return typeof window<"u"}function Cp(e){return y9(e)?(e.nodeName||"").toLowerCase():"#document"}function si(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function El(e){var t;return(t=(y9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y9(e){return iw()?e instanceof Node||e instanceof si(e).Node:!1}function Do(e){return iw()?e instanceof Element||e instanceof si(e).Element:!1}function bl(e){return iw()?e instanceof HTMLElement||e instanceof si(e).HTMLElement:!1}function eM(e){return!iw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof si(e).ShadowRoot}const zie=new Set(["inline","contents"]);function rx(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ro(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zie.has(a)}const Vie=new Set(["table","td","th"]);function Wie(e){return Vie.has(Cp(e))}const Hie=[":popover-open",":modal"];function ow(e){return Hie.some(t=>{try{return e.matches(t)}catch{return!1}})}const qie=["transform","translate","scale","rotate","perspective"],Kie=["transform","translate","scale","rotate","perspective","filter"],Gie=["paint","layout","strict","content"];function rA(e){const t=nA(),r=Do(e)?Ro(e):e;return qie.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Kie.some(n=>(r.willChange||"").includes(n))||Gie.some(n=>(r.contain||"").includes(n))}function Yie(e){let t=qu(e);for(;bl(t)&&!Pm(t);){if(rA(t))return t;if(ow(t))return null;t=qu(t)}return null}function nA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xie=new Set(["html","body","#document"]);function Pm(e){return Xie.has(Cp(e))}function Ro(e){return si(e).getComputedStyle(e)}function lw(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qu(e){if(Cp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eM(e)&&e.host||El(e);return eM(t)?t.host:t}function b9(e){const t=qu(e);return Pm(t)?e.ownerDocument?e.ownerDocument.body:e.body:bl(t)&&rx(t)?t:b9(t)}function Hg(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=b9(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=si(a);if(s){const l=Sk(o);return t.concat(o,o.visualViewport||[],rx(a)?a:[],l&&r?Hg(l):[])}return t.concat(a,Hg(a,[],r))}function Sk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function _9(e){const t=Ro(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=bl(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Z1(r)!==s||Z1(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function aA(e){return Do(e)?e:e.contextElement}function Yh(e){const t=aA(e);if(!bl(t))return hl(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=_9(t);let o=(s?Z1(r.width):r.width)/n,l=(s?Z1(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Jie=hl(0);function w9(e){const t=si(e);return!nA()||!t.visualViewport?Jie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==si(e)?!1:t}function ff(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=aA(e);let o=hl(1);t&&(n?Do(n)&&(o=Yh(n)):o=Yh(e));const l=Qie(s,r,n)?w9(s):hl(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=si(s),m=n&&Do(n)?si(n):n;let p=h,g=Sk(p);for(;g&&n&&m!==p;){const v=Yh(g),y=g.getBoundingClientRect(),b=Ro(g),_=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=w,p=si(g),g=Sk(p)}}return tb({width:d,height:f,x:c,y:u})}function sA(e,t){const r=lw(e).scrollLeft;return t?t.left+r:ff(El(e)).left+r}function j9(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:sA(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Zie(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=El(n),l=t?ow(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=hl(1);const d=hl(0),f=bl(n);if((f||!f&&!s)&&((Cp(n)!=="body"||rx(o))&&(c=lw(n)),bl(n))){const m=ff(n);u=Yh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?j9(o,c,!0):hl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function eoe(e){return Array.from(e.getClientRects())}function toe(e){const t=El(e),r=lw(e),n=e.ownerDocument.body,a=Js(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Js(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sA(e);const l=-r.scrollTop;return Ro(n).direction==="rtl"&&(o+=Js(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function roe(e,t){const r=si(e),n=El(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=nA();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const noe=new Set(["absolute","fixed"]);function aoe(e,t){const r=ff(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=bl(e)?Yh(e):hl(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function tM(e,t,r){let n;if(t==="viewport")n=roe(e,r);else if(t==="document")n=toe(El(e));else if(Do(t))n=aoe(t,r);else{const a=w9(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tb(n)}function S9(e,t){const r=qu(e);return r===t||!Do(r)||Pm(r)?!1:Ro(r).position==="fixed"||S9(r,t)}function soe(e,t){const r=t.get(e);if(r)return r;let n=Hg(e,[],!1).filter(l=>Do(l)&&Cp(l)!=="body"),a=null;const s=Ro(e).position==="fixed";let o=s?qu(e):e;for(;Do(o)&&!Pm(o);){const l=Ro(o),c=rA(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&noe.has(a.position)||rx(o)&&!c&&S9(e,o))?n=n.filter(d=>d!==o):a=l,o=qu(o)}return t.set(e,n),n}function ioe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?ow(t)?[]:soe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=tM(t,d,a);return u.top=Js(f.top,u.top),u.right=Hu(f.right,u.right),u.bottom=Hu(f.bottom,u.bottom),u.left=Js(f.left,u.left),u},tM(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ooe(e){const{width:t,height:r}=_9(e);return{width:t,height:r}}function loe(e,t,r){const n=bl(t),a=El(t),s=r==="fixed",o=ff(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=hl(0);function u(){c.x=sA(a)}if(n||!n&&!s)if((Cp(t)!=="body"||rx(a))&&(l=lw(t)),n){const m=ff(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?j9(a,l):hl(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function KS(e){return Ro(e).position==="static"}function rM(e,t){if(!bl(e)||Ro(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return El(e)===r&&(r=r.ownerDocument.body),r}function N9(e,t){const r=si(e);if(ow(e))return r;if(!bl(e)){let a=qu(e);for(;a&&!Pm(a);){if(Do(a)&&!KS(a))return a;a=qu(a)}return r}let n=rM(e,t);for(;n&&Wie(n)&&KS(n);)n=rM(n,t);return n&&Pm(n)&&KS(n)&&!rA(n)?r:n||Yie(e)||r}const coe=async function(e){const t=this.getOffsetParent||N9,r=this.getDimensions,n=await r(e.floating);return{reference:loe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function uoe(e){return Ro(e).direction==="rtl"}const doe={convertOffsetParentRelativeRectToViewportRelativeRect:Zie,getDocumentElement:El,getClippingRect:ioe,getOffsetParent:N9,getElementRects:coe,getClientRects:eoe,getDimensions:ooe,getScale:Yh,isElement:Do,isRTL:uoe};function k9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function foe(e,t){let r=null,n;const a=El(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const p=hy(f),g=hy(a.clientWidth-(d+h)),v=hy(a.clientHeight-(f+m)),y=hy(d),_={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Js(0,Hu(1,c))||1};let w=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!k9(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(j,{..._,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,_)}r.observe(e)}return o(!0),s}function hoe(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=aA(e),d=a||s?[...u?Hg(u):[],...Hg(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=u&&l?foe(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,g=c?ff(e):null;c&&v();function v(){const y=ff(e);g&&!k9(g,y)&&r(),g=y,p=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const moe=Lie,poe=$ie,goe=Mie,voe=Uie,xoe=Fie,nM=Rie,yoe=Bie,boe=(e,t,r)=>{const n=new Map,a={platform:doe,...r},s={...a.platform,_c:n};return Die(e,t,{...a,platform:s})};var _oe=typeof document<"u",woe=function(){},u1=_oe?x.useLayoutEffect:woe;function rb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!rb(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!rb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function C9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function aM(e,t){const r=C9(e);return Math.round(t*r)/r}function GS(e){const t=x.useRef(e);return u1(()=>{t.current=e}),t}function joe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);rb(h,n)||m(n);const[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useCallback(I=>{I!==N.current&&(N.current=I,g(I))},[]),_=x.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),w=s||p,j=o||v,N=x.useRef(null),S=x.useRef(null),k=x.useRef(d),C=c!=null,A=GS(c),P=GS(a),T=GS(u),U=x.useCallback(()=>{if(!N.current||!S.current)return;const I={placement:t,strategy:r,middleware:h};P.current&&(I.platform=P.current),boe(N.current,S.current,I).then(F=>{const X={...F,isPositioned:T.current!==!1};z.current&&!rb(k.current,X)&&(k.current=X,_p.flushSync(()=>{f(X)}))})},[h,t,r,P,T]);u1(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const z=x.useRef(!1);u1(()=>(z.current=!0,()=>{z.current=!1}),[]),u1(()=>{if(w&&(N.current=w),j&&(S.current=j),w&&j){if(A.current)return A.current(w,j,U);U()}},[w,j,U,A,C]);const D=x.useMemo(()=>({reference:N,floating:S,setReference:b,setFloating:_}),[b,_]),M=x.useMemo(()=>({reference:w,floating:j}),[w,j]),L=x.useMemo(()=>{const I={position:r,left:0,top:0};if(!M.floating)return I;const F=aM(M.floating,d.x),X=aM(M.floating,d.y);return l?{...I,transform:"translate("+F+"px, "+X+"px)",...C9(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:X}},[r,l,M.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:D,elements:M,floatingStyles:L}),[d,U,D,M,L])}const Soe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?nM({element:n.current,padding:a}).fn(r):{}:n?nM({element:n,padding:a}).fn(r):{}}}},Noe=(e,t)=>({...moe(e),options:[e,t]}),koe=(e,t)=>({...poe(e),options:[e,t]}),Coe=(e,t)=>({...yoe(e),options:[e,t]}),Eoe=(e,t)=>({...goe(e),options:[e,t]}),Toe=(e,t)=>({...voe(e),options:[e,t]}),Aoe=(e,t)=>({...xoe(e),options:[e,t]}),Poe=(e,t)=>({...Soe(e),options:[e,t]});var Ooe="Arrow",E9=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return i.jsx(mt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});E9.displayName=Ooe;var Doe=E9;function iA(e){const[t,r]=x.useState(void 0);return jn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var oA="Popper",[T9,Ep]=fs(oA),[Roe,A9]=T9(oA),P9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return i.jsx(Roe,{scope:t,anchor:n,onAnchorChange:a,children:r})};P9.displayName=oA;var O9="PopperAnchor",D9=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=A9(O9,r),o=x.useRef(null),l=zt(t,o);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(mt.div,{...a,ref:l})});D9.displayName=O9;var lA="PopperContent",[Moe,Foe]=T9(lA),R9=x.forwardRef((e,t)=>{var ue,_e,W,Z,pe,E;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...g}=e,v=A9(lA,r),[y,b]=x.useState(null),_=zt(t,xe=>b(xe)),[w,j]=x.useState(null),N=iA(w),S=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,C=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],T=P.length>0,U={padding:A,boundary:P.filter(Loe),altBoundary:T},{refs:z,floatingStyles:D,placement:M,isPositioned:L,middlewareData:I}=joe({strategy:"fixed",placement:C,whileElementsMounted:(...xe)=>hoe(...xe,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Noe({mainAxis:a+k,alignmentAxis:o}),c&&koe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Coe():void 0,...U}),c&&Eoe({...U}),Toe({...U,apply:({elements:xe,rects:Te,availableWidth:Ue,availableHeight:ze})=>{const{width:Se,height:et}=Te.reference,Ze=xe.floating.style;Ze.setProperty("--radix-popper-available-width",`${Ue}px`),Ze.setProperty("--radix-popper-available-height",`${ze}px`),Ze.setProperty("--radix-popper-anchor-width",`${Se}px`),Ze.setProperty("--radix-popper-anchor-height",`${et}px`)}}),w&&Poe({element:w,padding:l}),$oe({arrowWidth:S,arrowHeight:k}),h&&Aoe({strategy:"referenceHidden",...U})]}),[F,X]=I9(M),J=Kn(p);jn(()=>{L&&(J==null||J())},[L,J]);const O=(ue=I.arrow)==null?void 0:ue.x,G=(_e=I.arrow)==null?void 0:_e.y,V=((W=I.arrow)==null?void 0:W.centerOffset)!==0,[K,re]=x.useState();return jn(()=>{y&&re(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(Z=I.transformOrigin)==null?void 0:Z.x,(pe=I.transformOrigin)==null?void 0:pe.y].join(" "),...((E=I.hide)==null?void 0:E.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Moe,{scope:r,placedSide:F,onArrowChange:j,arrowX:O,arrowY:G,shouldHideArrow:V,children:i.jsx(mt.div,{"data-side":F,"data-align":X,...g,ref:_,style:{...g.style,animation:L?void 0:"none"}})})})});R9.displayName=lA;var M9="PopperArrow",Ioe={top:"bottom",right:"left",bottom:"top",left:"right"},F9=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Foe(M9,n),o=Ioe[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Doe,{...a,ref:r,style:{...a.style,display:"block"}})})});F9.displayName=M9;function Loe(e){return e!==null}var $oe=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=I9(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let p="",g="";return u==="bottom"?(p=o?f:`${h}px`,g=`${-c}px`):u==="top"?(p=o?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,g=o?f:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,g=o?f:`${m}px`),{data:{x:p,y:g}}}});function I9(e){const[t,r="center"]=e.split("-");return[t,r]}var cA=P9,cw=D9,uA=R9,dA=F9,Boe="Portal",nx=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);jn(()=>s(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gZ.createPortal(i.jsx(mt.div,{...n,ref:t}),o):null});nx.displayName=Boe;var Uoe=$E[" useInsertionEffect ".trim().toString()]||jn;function vc({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,o]=zoe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=Voe(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else s(d)},[l,e,s,o]);return[c,u]}function zoe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),s=x.useRef(t);return Uoe(()=>{s.current=t},[t]),x.useEffect(()=>{var o;a.current!==r&&((o=s.current)==null||o.call(s,r),a.current=r)},[r,a]),[r,n,s]}function Voe(e){return typeof e=="function"}function fA(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var L9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Woe="VisuallyHidden",Hoe=x.forwardRef((e,t)=>i.jsx(mt.span,{...e,ref:t,style:{...L9,...e.style}}));Hoe.displayName=Woe;var qoe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eh=new WeakMap,my=new WeakMap,py={},YS=0,$9=function(e){return e&&(e.host||$9(e.parentNode))},Koe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$9(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Goe=function(e,t,r,n){var a=Koe(t,Array.isArray(e)?e:[e]);py[r]||(py[r]=new WeakMap);var s=py[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),p=m!==null&&m!=="false",g=(eh.get(h)||0)+1,v=(s.get(h)||0)+1;eh.set(h,g),s.set(h,v),o.push(h),g===1&&p&&my.set(h,!0),v===1&&h.setAttribute(r,"true"),p||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),YS++,function(){o.forEach(function(f){var h=eh.get(f)-1,m=s.get(f)-1;eh.set(f,h),s.set(f,m),h||(my.has(f)||f.removeAttribute(n),my.delete(f)),m||f.removeAttribute(r)}),YS--,YS||(eh=new WeakMap,eh=new WeakMap,my=new WeakMap,py={})}},uw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=qoe(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Goe(n,a,r,"aria-hidden")):function(){return null}},al=function(){return al=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},al.apply(this,arguments)};function B9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Yoe(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var d1="right-scroll-bar-position",f1="width-before-scroll-bar",Xoe="with-scroll-bars-hidden",Joe="--removed-body-scroll-bar-size";function XS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Qoe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Zoe=typeof window<"u"?x.useLayoutEffect:x.useEffect,sM=new WeakMap;function ele(e,t){var r=Qoe(null,function(n){return e.forEach(function(a){return XS(a,n)})});return Zoe(function(){var n=sM.get(r);if(n){var a=new Set(n),s=new Set(e),o=r.current;a.forEach(function(l){s.has(l)||XS(l,null)}),s.forEach(function(l){a.has(l)||XS(l,o)})}sM.set(r,e)},[e]),r}function tle(e){return e}function rle(e,t){t===void 0&&(t=tle);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function nle(e){e===void 0&&(e={});var t=rle(null);return t.options=al({async:!0,ssr:!1},e),t}var U9=function(e){var t=e.sideCar,r=B9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,al({},r))};U9.isSideCarExport=!0;function ale(e,t){return e.useMedium(t),U9}var z9=nle(),JS=function(){},dw=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:JS,onWheelCapture:JS,onTouchMoveCapture:JS}),a=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,_=e.gapMode,w=B9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=ele([r,t]),S=al(al({},w),a);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:z9,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:_}),o?x.cloneElement(x.Children.only(l),al(al({},S),{ref:N})):x.createElement(b,al({},S,{className:c,ref:N}),l))});dw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dw.classNames={fullWidth:f1,zeroRight:d1};var sle=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ile(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sle();return t&&e.setAttribute("nonce",t),e}function ole(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lle(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cle=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ile())&&(ole(t,r),lle(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ule=function(){var e=cle();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},V9=function(){var e=ule(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},dle={left:0,top:0,right:0,gap:0},QS=function(e){return parseInt(e||"",10)||0},fle=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[QS(r),QS(n),QS(a)]},hle=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return dle;var t=fle(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},mle=V9(),Xh="data-scroll-locked",ple=function(e,t,r,n){var a=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xoe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(d1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(f1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(d1," .").concat(d1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(f1," .").concat(f1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xh,`] {
    `).concat(Joe,": ").concat(l,`px;
  }
`)},iM=function(){var e=parseInt(document.body.getAttribute(Xh)||"0",10);return isFinite(e)?e:0},gle=function(){x.useEffect(function(){return document.body.setAttribute(Xh,(iM()+1).toString()),function(){var e=iM()-1;e<=0?document.body.removeAttribute(Xh):document.body.setAttribute(Xh,e.toString())}},[])},vle=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;gle();var s=x.useMemo(function(){return hle(a)},[a]);return x.createElement(mle,{styles:ple(s,!t,a,r?"":"!important")})},Nk=!1;if(typeof window<"u")try{var gy=Object.defineProperty({},"passive",{get:function(){return Nk=!0,!0}});window.addEventListener("test",gy,gy),window.removeEventListener("test",gy,gy)}catch{Nk=!1}var th=Nk?{passive:!1}:!1,xle=function(e){return e.tagName==="TEXTAREA"},W9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xle(e)&&r[t]==="visible")},yle=function(e){return W9(e,"overflowY")},ble=function(e){return W9(e,"overflowX")},oM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=H9(e,n);if(a){var s=q9(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_le=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},wle=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},H9=function(e,t){return e==="v"?yle(t):ble(t)},q9=function(e,t){return e==="v"?_le(t):wle(t)},jle=function(e,t){return e==="h"&&t==="rtl"?-1:1},Sle=function(e,t,r,n,a){var s=jle(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=q9(e,l),p=m[0],g=m[1],v=m[2],y=g-v-s*p;(p||y)&&H9(e,l)&&(f+=y,h+=p);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},vy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lM=function(e){return[e.deltaX,e.deltaY]},cM=function(e){return e&&"current"in e?e.current:e},Nle=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cle=0,rh=[];function Ele(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Cle++)[0],s=x.useState(V9)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=Yoe([e.lockRef.current],(e.shards||[]).map(cM),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=vy(g),b=r.current,_="deltaX"in g?g.deltaX:b[0]-y[0],w="deltaY"in g?g.deltaY:b[1]-y[1],j,N=g.target,S=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in g&&S==="h"&&N.type==="range")return!1;var k=oM(S,N);if(!k)return!0;if(k?j=S:(j=S==="v"?"h":"v",k=oM(S,N)),!k)return!1;if(!n.current&&"changedTouches"in g&&(_||w)&&(n.current=j),!j)return!0;var C=n.current||j;return Sle(C,v,g,C==="h"?_:w,!0)},[]),c=x.useCallback(function(g){var v=g;if(!(!rh.length||rh[rh.length-1]!==s)){var y="deltaY"in v?lM(v):vy(v),b=t.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Nle(j.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(cM).filter(Boolean).filter(function(j){return j.contains(v.target)}),w=_.length>0?l(v,_[0]):!o.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,y,b){var _={name:g,delta:v,target:y,should:b,shadowParent:Tle(y)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(w){return w!==_})},1)},[]),d=x.useCallback(function(g){r.current=vy(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,lM(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,vy(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return rh.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,th),document.addEventListener("touchmove",c,th),document.addEventListener("touchstart",d,th),function(){rh=rh.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,th),document.removeEventListener("touchmove",c,th),document.removeEventListener("touchstart",d,th)}},[]);var m=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(s,{styles:kle(a)}):null,m?x.createElement(vle,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tle(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ale=ale(z9,Ele);var ax=x.forwardRef(function(e,t){return x.createElement(dw,al({},e,{ref:t,sideCar:Ale}))});ax.classNames=dw.classNames;var Ple=[" ","Enter","ArrowUp","ArrowDown"],Ole=[" ","Enter"],hf="Select",[fw,hw,Dle]=QT(hf),[Tp,aqe]=fs(hf,[Dle,Ep]),mw=Ep(),[Rle,rd]=Tp(hf),[Mle,Fle]=Tp(hf),K9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=e,g=mw(t),[v,y]=x.useState(null),[b,_]=x.useState(null),[w,j]=x.useState(!1),N=Zv(u),[S,k]=vc({prop:n,defaultProp:a??!1,onChange:s,caller:hf}),[C,A]=vc({prop:o,defaultProp:l,onChange:c,caller:hf}),P=x.useRef(null),T=v?p||!!v.closest("form"):!0,[U,z]=x.useState(new Set),D=Array.from(U).map(M=>M.props.value).join(";");return i.jsx(cA,{...g,children:i.jsxs(Rle,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:j,contentId:ia(),value:C,onValueChange:A,open:S,onOpenChange:k,dir:N,triggerPointerDownPosRef:P,disabled:h,children:[i.jsx(fw.Provider,{scope:t,children:i.jsx(Mle,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(M=>{z(L=>new Set(L).add(M))},[]),onNativeOptionRemove:x.useCallback(M=>{z(L=>{const I=new Set(L);return I.delete(M),I})},[]),children:r})}),T?i.jsxs(vU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:M=>A(M.target.value),disabled:h,form:p,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},D):null]})})};K9.displayName=hf;var G9="SelectTrigger",Y9=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=mw(r),o=rd(G9,r),l=o.disabled||n,c=zt(t,o.onTriggerChange),u=hw(r),d=x.useRef("touch"),[f,h,m]=yU(g=>{const v=u().filter(_=>!_.disabled),y=v.find(_=>_.value===o.value),b=bU(v,g,y);b!==void 0&&o.onValueChange(b.value)}),p=g=>{l||(o.onOpenChange(!0),m()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(cw,{asChild:!0,...s,children:i.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xU(o.value)?"":void 0,...a,ref:c,onClick:at(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&p(g)}),onPointerDown:at(a.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:at(a.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&Ple.includes(g.key)&&(p(),g.preventDefault())})})})});Y9.displayName=G9;var X9="SelectValue",J9=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:o="",...l}=e,c=rd(X9,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=zt(t,c.onValueNodeChange);return jn(()=>{u(d)},[u,d]),i.jsx(mt.span,{...l,ref:f,style:{pointerEvents:"none"},children:xU(c.value)?i.jsx(i.Fragment,{children:o}):s})});J9.displayName=X9;var Ile="SelectIcon",Q9=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return i.jsx(mt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});Q9.displayName=Ile;var Lle="SelectPortal",Z9=e=>i.jsx(nx,{asChild:!0,...e});Z9.displayName=Lle;var mf="SelectContent",eU=x.forwardRef((e,t)=>{const r=rd(mf,e.__scopeSelect),[n,a]=x.useState();if(jn(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?_p.createPortal(i.jsx(tU,{scope:e.__scopeSelect,children:i.jsx(fw.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(rU,{...e,ref:t})});eU.displayName=mf;var no=10,[tU,nd]=Tp(mf),$le="SelectContentImpl",Ble=Wu("SelectContent.RemoveScroll"),rU=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=rd(mf,r),[_,w]=x.useState(null),[j,N]=x.useState(null),S=zt(t,ue=>w(ue)),[k,C]=x.useState(null),[A,P]=x.useState(null),T=hw(r),[U,z]=x.useState(!1),D=x.useRef(!1);x.useEffect(()=>{if(_)return uw(_)},[_]),sw();const M=x.useCallback(ue=>{const[_e,...W]=T().map(E=>E.ref.current),[Z]=W.slice(-1),pe=document.activeElement;for(const E of ue)if(E===pe||(E==null||E.scrollIntoView({block:"nearest"}),E===_e&&j&&(j.scrollTop=0),E===Z&&j&&(j.scrollTop=j.scrollHeight),E==null||E.focus(),document.activeElement!==pe))return},[T,j]),L=x.useCallback(()=>M([k,_]),[M,k,_]);x.useEffect(()=>{U&&L()},[U,L]);const{onOpenChange:I,triggerPointerDownPosRef:F}=b;x.useEffect(()=>{if(_){let ue={x:0,y:0};const _e=Z=>{var pe,E;ue={x:Math.abs(Math.round(Z.pageX)-(((pe=F.current)==null?void 0:pe.x)??0)),y:Math.abs(Math.round(Z.pageY)-(((E=F.current)==null?void 0:E.y)??0))}},W=Z=>{ue.x<=10&&ue.y<=10?Z.preventDefault():_.contains(Z.target)||I(!1),document.removeEventListener("pointermove",_e),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",W,{capture:!0})}}},[_,I,F]),x.useEffect(()=>{const ue=()=>I(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[I]);const[X,J]=yU(ue=>{const _e=T().filter(pe=>!pe.disabled),W=_e.find(pe=>pe.ref.current===document.activeElement),Z=bU(_e,ue,W);Z&&setTimeout(()=>Z.ref.current.focus())}),O=x.useCallback((ue,_e,W)=>{const Z=!D.current&&!W;(b.value!==void 0&&b.value===_e||Z)&&(C(ue),Z&&(D.current=!0))},[b.value]),G=x.useCallback(()=>_==null?void 0:_.focus(),[_]),V=x.useCallback((ue,_e,W)=>{const Z=!D.current&&!W;(b.value!==void 0&&b.value===_e||Z)&&P(ue)},[b.value]),K=n==="popper"?kk:nU,re=K===kk?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:g,avoidCollisions:v}:{};return i.jsx(tU,{scope:r,content:_,viewport:j,onViewportChange:N,itemRefCallback:O,selectedItem:k,onItemLeave:G,itemTextRefCallback:V,focusSelectedItem:L,selectedItemText:A,position:n,isPositioned:U,searchRef:X,children:i.jsx(ax,{as:Ble,allowPinchZoom:!0,children:i.jsx(tx,{asChild:!0,trapped:b.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:at(a,ue=>{var _e;(_e=b.trigger)==null||_e.focus({preventScroll:!0}),ue.preventDefault()}),children:i.jsx(ex,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(K,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ue=>ue.preventDefault(),...y,...re,onPlaced:()=>z(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:at(y.onKeyDown,ue=>{const _e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!_e&&ue.key.length===1&&J(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Z=T().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const pe=ue.target,E=Z.indexOf(pe);Z=Z.slice(E+1)}setTimeout(()=>M(Z)),ue.preventDefault()}})})})})})})});rU.displayName=$le;var Ule="SelectItemAlignedPosition",nU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=rd(mf,r),o=nd(mf,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=zt(t,S=>d(S)),h=hw(r),m=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,_=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&g&&v&&y){const S=s.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(s.dir!=="rtl"){const pe=A.left-k.left,E=C.left-pe,xe=S.left-E,Te=S.width+xe,Ue=Math.max(Te,k.width),ze=window.innerWidth-no,Se=bk(E,[no,Math.max(no,ze-Ue)]);l.style.minWidth=Te+"px",l.style.left=Se+"px"}else{const pe=k.right-A.right,E=window.innerWidth-C.right-pe,xe=window.innerWidth-S.right-E,Te=S.width+xe,Ue=Math.max(Te,k.width),ze=window.innerWidth-no,Se=bk(E,[no,Math.max(no,ze-Ue)]);l.style.minWidth=Te+"px",l.style.right=Se+"px"}const P=h(),T=window.innerHeight-no*2,U=g.scrollHeight,z=window.getComputedStyle(u),D=parseInt(z.borderTopWidth,10),M=parseInt(z.paddingTop,10),L=parseInt(z.borderBottomWidth,10),I=parseInt(z.paddingBottom,10),F=D+M+U+I+L,X=Math.min(v.offsetHeight*5,F),J=window.getComputedStyle(g),O=parseInt(J.paddingTop,10),G=parseInt(J.paddingBottom,10),V=S.top+S.height/2-no,K=T-V,re=v.offsetHeight/2,ue=v.offsetTop+re,_e=D+M+ue,W=F-_e;if(_e<=V){const pe=P.length>0&&v===P[P.length-1].ref.current;l.style.bottom="0px";const E=u.clientHeight-g.offsetTop-g.offsetHeight,xe=Math.max(K,re+(pe?G:0)+E+L),Te=_e+xe;l.style.height=Te+"px"}else{const pe=P.length>0&&v===P[0].ref.current;l.style.top="0px";const xe=Math.max(V,D+g.offsetTop+(pe?O:0)+re)+W;l.style.height=xe+"px",g.scrollTop=_e-V+g.offsetTop}l.style.margin=`${no}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,g,v,y,s.dir,n]);jn(()=>_(),[_]);const[w,j]=x.useState();jn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(S=>{S&&p.current===!0&&(_(),b==null||b(),p.current=!1)},[_,b]);return i.jsx(Vle,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(mt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nU.displayName=Ule;var zle="SelectPopperPosition",kk=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=no,...s}=e,o=mw(r);return i.jsx(uA,{...o,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kk.displayName=zle;var[Vle,hA]=Tp(mf,{}),Ck="SelectViewport",aU=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=nd(Ck,r),o=hA(Ck,r),l=zt(t,s.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(fw.Slot,{scope:r,children:i.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:at(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-no*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),y=Math.max(g,v);if(y<p){const b=y+m,_=Math.min(p,b),w=b-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});aU.displayName=Ck;var sU="SelectGroup",[Wle,Hle]=Tp(sU),qle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ia();return i.jsx(Wle,{scope:r,id:a,children:i.jsx(mt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});qle.displayName=sU;var iU="SelectLabel",oU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hle(iU,r);return i.jsx(mt.div,{id:a.id,...n,ref:t})});oU.displayName=iU;var nb="SelectItem",[Kle,lU]=Tp(nb),cU=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...o}=e,l=rd(nb,r),c=nd(nb,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),p=zt(t,b=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,b,n,a)}),g=ia(),v=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Kle,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:x.useCallback(b=>{f(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(fw.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:i.jsx(mt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:p,onFocus:at(o.onFocus,()=>m(!0)),onBlur:at(o.onBlur,()=>m(!1)),onClick:at(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:at(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:at(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:at(o.onPointerMove,b=>{var _;v.current=b.pointerType,a?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:at(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:at(o.onKeyDown,b=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&b.key===" "||(Ole.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});cU.displayName=nb;var M0="SelectItemText",uU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,o=rd(M0,r),l=nd(M0,r),c=lU(M0,r),u=Fle(M0,r),[d,f]=x.useState(null),h=zt(t,y=>f(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return jn(()=>(g(p),()=>v(p)),[g,v,p]),i.jsxs(i.Fragment,{children:[i.jsx(mt.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_p.createPortal(s.children,o.valueNode):null]})});uU.displayName=M0;var dU="SelectItemIndicator",fU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lU(dU,r).isSelected?i.jsx(mt.span,{"aria-hidden":!0,...n,ref:t}):null});fU.displayName=dU;var Ek="SelectScrollUpButton",hU=x.forwardRef((e,t)=>{const r=nd(Ek,e.__scopeSelect),n=hA(Ek,e.__scopeSelect),[a,s]=x.useState(!1),o=zt(t,n.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(pU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});hU.displayName=Ek;var Tk="SelectScrollDownButton",mU=x.forwardRef((e,t)=>{const r=nd(Tk,e.__scopeSelect),n=hA(Tk,e.__scopeSelect),[a,s]=x.useState(!1),o=zt(t,n.onScrollButtonChange);return jn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?i.jsx(pU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mU.displayName=Tk;var pU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=nd("SelectScrollButton",r),o=x.useRef(null),l=hw(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),jn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(mt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:at(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:at(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:at(a.onPointerLeave,()=>{c()})})}),Gle="SelectSeparator",gU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(mt.div,{"aria-hidden":!0,...n,ref:t})});gU.displayName=Gle;var Ak="SelectArrow",Yle=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=mw(r),s=rd(Ak,r),o=nd(Ak,r);return s.open&&o.position==="popper"?i.jsx(dA,{...a,...n,ref:t}):null});Yle.displayName=Ak;var Xle="SelectBubbleInput",vU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),s=zt(n,a),o=fA(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(mt.select,{...r,style:{...L9,...r.style},ref:s,defaultValue:t})});vU.displayName=Xle;function xU(e){return e===""||e===void 0}function yU(e){const t=Kn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function bU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Jle(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Jle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Qle=K9,_U=Y9,Zle=J9,ece=Q9,tce=Z9,wU=eU,rce=aU,jU=oU,SU=cU,nce=uU,ace=fU,NU=hU,kU=mU,CU=gU;const xt=Qle,yt=Zle,pt=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(_U,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(ece,{asChild:!0,children:i.jsx(Kh,{className:"h-4 w-4 opacity-50"})})]}));pt.displayName=_U.displayName;const EU=x.forwardRef(({className:e,...t},r)=>i.jsx(NU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Eae,{className:"h-4 w-4"})}));EU.displayName=NU.displayName;const TU=x.forwardRef(({className:e,...t},r)=>i.jsx(kU,{ref:r,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Kh,{className:"h-4 w-4"})}));TU.displayName=kU.displayName;const gt=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>i.jsx(tce,{children:i.jsxs(wU,{ref:a,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(EU,{}),i.jsx(rce,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(TU,{})]})}));gt.displayName=wU.displayName;const sce=x.forwardRef(({className:e,...t},r)=>i.jsx(jU,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sce.displayName=jU.displayName;const Ee=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(SU,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(ace,{children:i.jsx(YT,{className:"h-4 w-4"})})}),i.jsx(nce,{children:t})]}));Ee.displayName=SU.displayName;const ice=x.forwardRef(({className:e,...t},r)=>i.jsx(CU,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));ice.displayName=CU.displayName;const AU=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=Ia(),n=r.find(a=>a.code===e);return i.jsxs(xt,{value:e,onValueChange:t,children:[i.jsx(pt,{className:"w-[140px]",children:i.jsx(yt,{children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:n==null?void 0:n.name})})})}),i.jsx(gt,{children:r.map(a=>i.jsx(Ee,{value:a.code,children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{children:a.name})})},a.code))})]})};function oce(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var La=e=>{const{present:t,children:r}=e,n=lce(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=zt(n.ref,cce(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};La.displayName="Presence";function lce(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=oce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=xy(n.current);s.current=l==="mounted"?u:"none"},[l]),jn(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=xy(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=xy(n.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=xy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function xy(e){return(e==null?void 0:e.animationName)||"none"}function cce(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ZS="rovingFocusGroup.onEntryFocus",uce={bubbles:!1,cancelable:!0},sx="RovingFocusGroup",[Pk,PU,dce]=QT(sx),[fce,pw]=fs(sx,[dce]),[hce,mce]=fce(sx),OU=x.forwardRef((e,t)=>i.jsx(Pk.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Pk.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(pce,{...e,ref:t})})}));OU.displayName=sx;var pce=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=zt(t,h),p=Zv(s),[g,v]=vc({prop:o,defaultProp:l??null,onChange:c,caller:sx}),[y,b]=x.useState(!1),_=Kn(u),w=PU(r),j=x.useRef(!1),[N,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(ZS,_),()=>k.removeEventListener(ZS,_)},[_]),i.jsx(hce,{scope:r,orientation:n,dir:p,loop:a,currentTabStopId:g,onItemFocus:x.useCallback(k=>v(k),[v]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:i.jsx(mt.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:at(e.onMouseDown,()=>{j.current=!0}),onFocus:at(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!y){const A=new CustomEvent(ZS,uce);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=w().filter(M=>M.focusable),T=P.find(M=>M.active),U=P.find(M=>M.id===g),D=[T,U,...P].filter(Boolean).map(M=>M.ref.current);MU(D,d)}}j.current=!1}),onBlur:at(e.onBlur,()=>b(!1))})})}),DU="RovingFocusGroupItem",RU=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:o,...l}=e,c=ia(),u=s||c,d=mce(DU,r),f=d.currentTabStopId===u,h=PU(r),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),i.jsx(Pk.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:i.jsx(mt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:at(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:at(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:at(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=xce(v,d.orientation,d.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const w=_.indexOf(v.currentTarget);_=d.loop?yce(_,w+1):_.slice(w+1)}setTimeout(()=>MU(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});RU.displayName=DU;var gce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vce(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xce(e,t,r){const n=vce(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gce[n]}function MU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function yce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var FU=OU,IU=RU,Ok=["Enter"," "],bce=["ArrowDown","PageUp","Home"],LU=["ArrowUp","PageDown","End"],_ce=[...bce,...LU],wce={ltr:[...Ok,"ArrowRight"],rtl:[...Ok,"ArrowLeft"]},jce={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ix="Menu",[qg,Sce,Nce]=QT(ix),[Df,$U]=fs(ix,[Nce,Ep,pw]),gw=Ep(),BU=pw(),[kce,Rf]=Df(ix),[Cce,ox]=Df(ix),UU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:o=!0}=e,l=gw(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Kn(s),h=Zv(a);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),i.jsx(cA,{...l,children:i.jsx(kce,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(Cce,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};UU.displayName=ix;var Ece="MenuAnchor",mA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gw(r);return i.jsx(cw,{...a,...n,ref:t})});mA.displayName=Ece;var pA="MenuPortal",[Tce,zU]=Df(pA,{forceMount:void 0}),VU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Rf(pA,t);return i.jsx(Tce,{scope:t,forceMount:r,children:i.jsx(La,{present:r||s.open,children:i.jsx(nx,{asChild:!0,container:a,children:n})})})};VU.displayName=pA;var Ri="MenuContent",[Ace,gA]=Df(Ri),WU=x.forwardRef((e,t)=>{const r=zU(Ri,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Rf(Ri,e.__scopeMenu),o=ox(Ri,e.__scopeMenu);return i.jsx(qg.Provider,{scope:e.__scopeMenu,children:i.jsx(La,{present:n||s.open,children:i.jsx(qg.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Pce,{...a,ref:t}):i.jsx(Oce,{...a,ref:t})})})})}),Pce=x.forwardRef((e,t)=>{const r=Rf(Ri,e.__scopeMenu),n=x.useRef(null),a=zt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return uw(s)},[]),i.jsx(vA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:at(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Oce=x.forwardRef((e,t)=>{const r=Rf(Ri,e.__scopeMenu);return i.jsx(vA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Dce=Wu("MenuContent.ScrollLock"),vA=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...g}=e,v=Rf(Ri,r),y=ox(Ri,r),b=gw(r),_=BU(r),w=Sce(r),[j,N]=x.useState(null),S=x.useRef(null),k=zt(t,S,v.onContentChange),C=x.useRef(0),A=x.useRef(""),P=x.useRef(0),T=x.useRef(null),U=x.useRef("right"),z=x.useRef(0),D=p?ax:x.Fragment,M=p?{as:Dce,allowPinchZoom:!0}:void 0,L=F=>{var ue,_e;const X=A.current+F,J=w().filter(W=>!W.disabled),O=document.activeElement,G=(ue=J.find(W=>W.ref.current===O))==null?void 0:ue.textValue,V=J.map(W=>W.textValue),K=Hce(V,X,G),re=(_e=J.find(W=>W.textValue===K))==null?void 0:_e.ref.current;(function W(Z){A.current=Z,window.clearTimeout(C.current),Z!==""&&(C.current=window.setTimeout(()=>W(""),1e3))})(X),re&&setTimeout(()=>re.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),sw();const I=x.useCallback(F=>{var J,O;return U.current===((J=T.current)==null?void 0:J.side)&&Kce(F,(O=T.current)==null?void 0:O.area)},[]);return i.jsx(Ace,{scope:r,searchRef:A,onItemEnter:x.useCallback(F=>{I(F)&&F.preventDefault()},[I]),onItemLeave:x.useCallback(F=>{var X;I(F)||((X=S.current)==null||X.focus(),N(null))},[I]),onTriggerLeave:x.useCallback(F=>{I(F)&&F.preventDefault()},[I]),pointerGraceTimerRef:P,onPointerGraceIntentChange:x.useCallback(F=>{T.current=F},[]),children:i.jsx(D,{...M,children:i.jsx(tx,{asChild:!0,trapped:a,onMountAutoFocus:at(s,F=>{var X;F.preventDefault(),(X=S.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(ex,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(FU,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:at(c,F=>{y.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(uA,{role:"menu","aria-orientation":"vertical","data-state":i7(v.open),"data-radix-menu-content":"",dir:y.dir,...b,...g,ref:k,style:{outline:"none",...g.style},onKeyDown:at(g.onKeyDown,F=>{const J=F.target.closest("[data-radix-menu-content]")===F.currentTarget,O=F.ctrlKey||F.altKey||F.metaKey,G=F.key.length===1;J&&(F.key==="Tab"&&F.preventDefault(),!O&&G&&L(F.key));const V=S.current;if(F.target!==V||!_ce.includes(F.key))return;F.preventDefault();const re=w().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);LU.includes(F.key)&&re.reverse(),Vce(re)}),onBlur:at(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:at(e.onPointerMove,Kg(F=>{const X=F.target,J=z.current!==F.clientX;if(F.currentTarget.contains(X)&&J){const O=F.clientX>z.current?"right":"left";U.current=O,z.current=F.clientX}}))})})})})})})});WU.displayName=Ri;var Rce="MenuGroup",xA=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{role:"group",...n,ref:t})});xA.displayName=Rce;var Mce="MenuLabel",HU=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{...n,ref:t})});HU.displayName=Mce;var ab="MenuItem",uM="menu.itemSelect",vw=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),o=ox(ab,e.__scopeMenu),l=gA(ab,e.__scopeMenu),c=zt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(uM,{bubbles:!0,cancelable:!0});f.addEventListener(uM,m=>n==null?void 0:n(m),{once:!0}),ZB(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(qU,{...a,ref:c,disabled:r,onClick:at(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:at(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:at(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Ok.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});vw.displayName=ab;var qU=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,o=gA(ab,r),l=BU(r),c=x.useRef(null),u=zt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[s.children]),i.jsx(qg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:i.jsx(IU,{asChild:!0,...l,focusable:!n,children:i.jsx(mt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:at(e.onPointerMove,Kg(p=>{n?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:at(e.onPointerLeave,Kg(p=>o.onItemLeave(p))),onFocus:at(e.onFocus,()=>f(!0)),onBlur:at(e.onBlur,()=>f(!1))})})})}),Fce="MenuCheckboxItem",KU=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return i.jsx(QU,{scope:e.__scopeMenu,checked:r,children:i.jsx(vw,{role:"menuitemcheckbox","aria-checked":sb(r)?"mixed":r,...a,ref:t,"data-state":bA(r),onSelect:at(a.onSelect,()=>n==null?void 0:n(sb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});KU.displayName=Fce;var GU="MenuRadioGroup",[Ice,Lce]=Df(GU,{value:void 0,onValueChange:()=>{}}),YU=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=Kn(n);return i.jsx(Ice,{scope:e.__scopeMenu,value:r,onValueChange:s,children:i.jsx(xA,{...a,ref:t})})});YU.displayName=GU;var XU="MenuRadioItem",JU=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Lce(XU,e.__scopeMenu),s=r===a.value;return i.jsx(QU,{scope:e.__scopeMenu,checked:s,children:i.jsx(vw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":bA(s),onSelect:at(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});JU.displayName=XU;var yA="MenuItemIndicator",[QU,$ce]=Df(yA,{checked:!1}),ZU=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=$ce(yA,r);return i.jsx(La,{present:n||sb(s.checked)||s.checked===!0,children:i.jsx(mt.span,{...a,ref:t,"data-state":bA(s.checked)})})});ZU.displayName=yA;var Bce="MenuSeparator",e7=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});e7.displayName=Bce;var Uce="MenuArrow",t7=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gw(r);return i.jsx(dA,{...a,...n,ref:t})});t7.displayName=Uce;var zce="MenuSub",[sqe,r7]=Df(zce),F0="MenuSubTrigger",n7=x.forwardRef((e,t)=>{const r=Rf(F0,e.__scopeMenu),n=ox(F0,e.__scopeMenu),a=r7(F0,e.__scopeMenu),s=gA(F0,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(mA,{asChild:!0,...u,children:i.jsx(qU,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":i7(r.open),...e,ref:mc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:at(e.onPointerMove,Kg(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:at(e.onPointerLeave,Kg(f=>{var m,p;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(p=r.content)==null?void 0:p.dataset.side,v=g==="right",y=v?-5:5,b=h[v?"left":"right"],_=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:b,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:b,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:at(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||wce[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});n7.displayName=F0;var a7="MenuSubContent",s7=x.forwardRef((e,t)=>{const r=zU(Ri,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Rf(Ri,e.__scopeMenu),o=ox(Ri,e.__scopeMenu),l=r7(a7,e.__scopeMenu),c=x.useRef(null),u=zt(t,c);return i.jsx(qg.Provider,{scope:e.__scopeMenu,children:i.jsx(La,{present:n||s.open,children:i.jsx(qg.Slot,{scope:e.__scopeMenu,children:i.jsx(vA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:at(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:at(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:at(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=jce[o.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});s7.displayName=a7;function i7(e){return e?"open":"closed"}function sb(e){return e==="indeterminate"}function bA(e){return sb(e)?"indeterminate":e?"checked":"unchecked"}function Vce(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Wce(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Hce(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Wce(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function qce(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Kce(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return qce(r,t)}function Kg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gce=UU,Yce=mA,Xce=VU,Jce=WU,Qce=xA,Zce=HU,eue=vw,tue=KU,rue=YU,nue=JU,aue=ZU,sue=e7,iue=t7,oue=n7,lue=s7,xw="DropdownMenu",[cue,iqe]=fs(xw,[$U]),hs=$U(),[uue,o7]=cue(xw),l7=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=hs(t),u=x.useRef(null),[d,f]=vc({prop:a,defaultProp:s??!1,onChange:o,caller:xw});return i.jsx(uue,{scope:t,triggerId:ia(),triggerRef:u,contentId:ia(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(Gce,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};l7.displayName=xw;var c7="DropdownMenuTrigger",u7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=o7(c7,r),o=hs(r);return i.jsx(Yce,{asChild:!0,...o,children:i.jsx(mt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:mc(t,s.triggerRef),onPointerDown:at(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:at(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});u7.displayName=c7;var due="DropdownMenuPortal",d7=e=>{const{__scopeDropdownMenu:t,...r}=e,n=hs(t);return i.jsx(Xce,{...n,...r})};d7.displayName=due;var f7="DropdownMenuContent",h7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=o7(f7,r),s=hs(r),o=x.useRef(!1);return i.jsx(Jce,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:at(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:at(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h7.displayName=f7;var fue="DropdownMenuGroup",hue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(Qce,{...a,...n,ref:t})});hue.displayName=fue;var mue="DropdownMenuLabel",m7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(Zce,{...a,...n,ref:t})});m7.displayName=mue;var pue="DropdownMenuItem",p7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(eue,{...a,...n,ref:t})});p7.displayName=pue;var gue="DropdownMenuCheckboxItem",g7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(tue,{...a,...n,ref:t})});g7.displayName=gue;var vue="DropdownMenuRadioGroup",xue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(rue,{...a,...n,ref:t})});xue.displayName=vue;var yue="DropdownMenuRadioItem",v7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(nue,{...a,...n,ref:t})});v7.displayName=yue;var bue="DropdownMenuItemIndicator",x7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(aue,{...a,...n,ref:t})});x7.displayName=bue;var _ue="DropdownMenuSeparator",y7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(sue,{...a,...n,ref:t})});y7.displayName=_ue;var wue="DropdownMenuArrow",jue=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(iue,{...a,...n,ref:t})});jue.displayName=wue;var Sue="DropdownMenuSubTrigger",b7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(oue,{...a,...n,ref:t})});b7.displayName=Sue;var Nue="DropdownMenuSubContent",_7=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hs(r);return i.jsx(lue,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_7.displayName=Nue;var kue=l7,Cue=u7,Eue=d7,w7=h7,j7=m7,S7=p7,N7=g7,k7=v7,C7=x7,E7=y7,T7=b7,A7=_7;const _A=kue,wA=Cue,Tue=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>i.jsxs(T7,{ref:a,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(ew,{className:"ml-auto h-4 w-4"})]}));Tue.displayName=T7.displayName;const Aue=x.forwardRef(({className:e,...t},r)=>i.jsx(A7,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Aue.displayName=A7.displayName;const yw=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Eue,{children:i.jsx(w7,{ref:n,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yw.displayName=w7.displayName;const Hl=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(S7,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Hl.displayName=S7.displayName;const Pue=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>i.jsxs(N7,{ref:a,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(C7,{children:i.jsx(YT,{className:"h-4 w-4"})})}),t]}));Pue.displayName=N7.displayName;const Oue=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(k7,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(C7,{children:i.jsx(Aae,{className:"h-2 w-2 fill-current"})})}),t]}));Oue.displayName=k7.displayName;const Due=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(j7,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Due.displayName=j7.displayName;const Dk=x.forwardRef(({className:e,...t},r)=>i.jsx(E7,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));Dk.displayName=E7.displayName;var bw="Dialog",[P7,O7]=fs(bw),[Rue,$o]=P7(bw),D7=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=vc({prop:n,defaultProp:a??!1,onChange:s,caller:bw});return i.jsx(Rue,{scope:t,triggerRef:l,contentRef:c,contentId:ia(),titleId:ia(),descriptionId:ia(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};D7.displayName=bw;var R7="DialogTrigger",M7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$o(R7,r),s=zt(t,a.triggerRef);return i.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NA(a.open),...n,ref:s,onClick:at(e.onClick,a.onOpenToggle)})});M7.displayName=R7;var jA="DialogPortal",[Mue,F7]=P7(jA,{forceMount:void 0}),I7=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=$o(jA,t);return i.jsx(Mue,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(La,{present:r||s.open,children:i.jsx(nx,{asChild:!0,container:a,children:o})}))})};I7.displayName=jA;var ib="DialogOverlay",L7=x.forwardRef((e,t)=>{const r=F7(ib,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=$o(ib,e.__scopeDialog);return s.modal?i.jsx(La,{present:n||s.open,children:i.jsx(Iue,{...a,ref:t})}):null});L7.displayName=ib;var Fue=Wu("DialogOverlay.RemoveScroll"),Iue=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$o(ib,r);return i.jsx(ax,{as:Fue,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(mt.div,{"data-state":NA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),pf="DialogContent",$7=x.forwardRef((e,t)=>{const r=F7(pf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=$o(pf,e.__scopeDialog);return i.jsx(La,{present:n||s.open,children:s.modal?i.jsx(Lue,{...a,ref:t}):i.jsx($ue,{...a,ref:t})})});$7.displayName=pf;var Lue=x.forwardRef((e,t)=>{const r=$o(pf,e.__scopeDialog),n=x.useRef(null),a=zt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return uw(s)},[]),i.jsx(B7,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:at(e.onFocusOutside,s=>s.preventDefault())})}),$ue=x.forwardRef((e,t)=>{const r=$o(pf,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(B7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),B7=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=$o(pf,r),c=x.useRef(null),u=zt(t,c);return sw(),i.jsxs(i.Fragment,{children:[i.jsx(tx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(ex,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Uue,{titleId:l.titleId}),i.jsx(Vue,{contentRef:c,descriptionId:l.descriptionId})]})]})}),SA="DialogTitle",U7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$o(SA,r);return i.jsx(mt.h2,{id:a.titleId,...n,ref:t})});U7.displayName=SA;var z7="DialogDescription",V7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$o(z7,r);return i.jsx(mt.p,{id:a.descriptionId,...n,ref:t})});V7.displayName=z7;var W7="DialogClose",H7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=$o(W7,r);return i.jsx(mt.button,{type:"button",...n,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});H7.displayName=W7;function NA(e){return e?"open":"closed"}var q7="DialogTitleWarning",[Bue,K7]=Yse(q7,{contentName:pf,titleName:SA,docsSlug:"dialog"}),Uue=({titleId:e})=>{const t=K7(q7),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},zue="DialogDescriptionWarning",Vue=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K7(zue).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},_w=D7,kA=M7,ww=I7,Ap=L7,Pp=$7,lx=U7,cx=V7,jw=H7;const bn=_w,ob=kA,Wue=ww,G7=x.forwardRef(({className:e,...t},r)=>i.jsx(Ap,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));G7.displayName=Ap.displayName;const ln=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Wue,{children:[i.jsx(G7,{}),i.jsxs(Pp,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,i.jsxs(jw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Po,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ln.displayName=Pp.displayName;const cn=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cn.displayName="DialogHeader";const Ra=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Qt()&&"sm:space-x-reverse",e),...t});Ra.displayName="DialogFooter";const un=x.forwardRef(({className:e,...t},r)=>i.jsx(lx,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));un.displayName=lx.displayName;const Ma=x.forwardRef(({className:e,...t},r)=>i.jsx(cx,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Ma.displayName=cx.displayName;const Hue=Qv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Om=x.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:be(Hue({variant:t}),e),...r}));Om.displayName="Alert";const que=x.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:be("mb-1 font-medium leading-none tracking-tight",e),...t}));que.displayName="AlertTitle";const Dm=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("text-sm [&_p]:leading-relaxed",e),...t}));Dm.displayName="AlertDescription";function Kue({onToggleSidebar:e}){var w,j,N;const{breadcrumbs:t}=Xv(),{user:r,logout:n}=xr(),{t:a}=Vt(),s=Bs(),{setTheme:o}=hae(),[l,c]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState(""),[m,p]=x.useState(""),[g,v]=x.useState(!1),y=()=>{try{n(),s("/login")}catch(S){console.error("Logout failed:",S),s("/login")}},b=()=>{c(!0)},_=async S=>{if(S.preventDefault(),!g){if(!u.trim()){p(a("settings.newPasswordRequired"));return}if(u.length<6){p(a("settings.passwordTooShort"));return}if(u!==f){p(a("settings.passwordsDoNotMatch"));return}p(""),v(!0);try{throw new Error("Password change not available - Supabase removed")}catch(k){console.error("Password change failed:",k),p(k.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return i.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[i.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:i.jsx(Bae,{className:"h-5 w-5"})}),t&&t.length>0&&i.jsx("div",{className:"hidden md:block",children:i.jsx(nie,{items:t})})]}),i.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:i.jsxs("div",{className:"relative w-full",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(We,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),i.jsx("div",{className:"flex-1"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Fe((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),i.jsx(AU,{}),i.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[i.jsx(Nae,{className:"h-5 w-5"}),i.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),i.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),i.jsxs(_A,{children:[i.jsx(wA,{asChild:!0,children:i.jsxs(ce,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[i.jsxs(Ps,{className:"h-8 w-8",children:[i.jsx(Oo,{src:(w=r==null?void 0:r.profile)==null?void 0:w.avatar}),i.jsx(Os,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=r==null?void 0:r.email)==null?void 0:j.charAt(0).toUpperCase()})]}),i.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),i.jsxs(yw,{align:"end",className:"w-56",children:[i.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:i.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[i.jsx("p",{className:"font-medium text-sm",children:Fe((r==null?void 0:r.profile)||{},"user_name")||((N=r==null?void 0:r.email)==null?void 0:N.split("@")[0])}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),i.jsx(Dk,{}),i.jsxs(Hl,{onClick:()=>o("light"),children:[i.jsx(Gae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.light","Light")})]}),i.jsxs(Hl,{onClick:()=>o("dark"),children:[i.jsx(zae,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.dark","Dark")})]}),i.jsxs(Hl,{onClick:()=>o("system"),children:[i.jsx(aw,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:a("theme.system","System")})]}),i.jsx(Dk,{}),i.jsxs(Hl,{onClick:b,children:[i.jsx(Lae,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),i.jsxs(Hl,{onClick:y,className:"text-destructive focus:text-destructive",children:[i.jsx(Jae,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),i.jsx(bn,{open:l,onOpenChange:c,children:i.jsxs(ln,{className:"sm:max-w-[425px]",children:[i.jsxs(cn,{children:[i.jsx(un,{children:a("settings.changePassword")}),i.jsx(Ma,{children:a("settings.changePasswordDescription")})]}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m&&i.jsx(Om,{variant:"destructive",children:i.jsx(Dm,{children:m})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"newPassword",children:a("settings.newPassword")}),i.jsx(We,{id:"newPassword",type:"password",value:u,onChange:S=>d(S.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),i.jsx(We,{id:"confirmPassword",type:"password",value:f,onChange:S=>h(S.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),i.jsxs(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ce,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),i.jsx(ce,{type:"submit",disabled:g||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const _l=_w,Y7=kA,Gue=ww,X7=x.forwardRef(({className:e,...t},r)=>i.jsx(Ap,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));X7.displayName=Ap.displayName;const Yue=Qv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Mo=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>i.jsxs(Gue,{children:[i.jsx(X7,{}),i.jsxs(Pp,{ref:a,className:be(Yue({side:e}),t),...n,children:[r,i.jsxs(jw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Po,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Mo.displayName=Pp.displayName;const xc=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});xc.displayName="SheetHeader";const wl=x.forwardRef(({className:e,...t},r)=>i.jsx(lx,{ref:r,className:be("text-lg font-semibold text-foreground",e),...t}));wl.displayName=lx.displayName;const gf=x.forwardRef(({className:e,...t},r)=>i.jsx(cx,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));gf.displayName=cx.displayName;function Rk({children:e}){const[t,r]=x.useState(!0),[n,a]=x.useState(!1),[s,o]=x.useState(!1);x.useEffect(()=>{const u=()=>{const d=window.innerWidth;a(d<768),o(d>=768&&d<1024),d<768?r(!1):r(!0)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const l=()=>{r(!t)},c=()=>{n&&r(!1)};return i.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[i.jsx(Kue,{onToggleSidebar:l}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&!s&&i.jsx("aside",{className:be("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(VS,{onNavigate:c})}),s&&i.jsx("aside",{className:be("bg-sidebar transition-all duration-300 ease-in-out h-full",t?"w-60":"w-0 overflow-hidden"),children:i.jsx(VS,{onNavigate:c})}),n&&i.jsx(_l,{open:t,onOpenChange:r,children:i.jsxs(Mo,{side:Qt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[i.jsx(wl,{className:"sr-only",children:"Navigation Menu"}),i.jsx(gf,{className:"sr-only",children:"Application navigation sidebar"}),i.jsx(VS,{onNavigate:c})]})}),i.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:i.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const e2=1024;function tn(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e2-1}px)`),n=()=>{t(window.innerWidth<e2)};return r.addEventListener("change",n),t(window.innerWidth<e2),()=>r.removeEventListener("change",n)},[]),!!e}const Xue=Qv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return i.jsx("div",{className:be(Xue({variant:t}),e),...r})}function J7(){Vt();const[e,t]=x.useState(new Date);x.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return i.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[i.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),i.jsx("div",{className:"text-sm",children:r(e)})]})}var Jue=Array.isArray,Us=Jue,Que=typeof Wx=="object"&&Wx&&Wx.Object===Object&&Wx,Q7=Que,Zue=Q7,ede=typeof self=="object"&&self&&self.Object===Object&&self,tde=Zue||ede||Function("return this")(),Tl=tde,rde=Tl,nde=rde.Symbol,ux=nde,dM=ux,Z7=Object.prototype,ade=Z7.hasOwnProperty,sde=Z7.toString,f0=dM?dM.toStringTag:void 0;function ide(e){var t=ade.call(e,f0),r=e[f0];try{e[f0]=void 0;var n=!0}catch{}var a=sde.call(e);return n&&(t?e[f0]=r:delete e[f0]),a}var ode=ide,lde=Object.prototype,cde=lde.toString;function ude(e){return cde.call(e)}var dde=ude,fM=ux,fde=ode,hde=dde,mde="[object Null]",pde="[object Undefined]",hM=fM?fM.toStringTag:void 0;function gde(e){return e==null?e===void 0?pde:mde:hM&&hM in Object(e)?fde(e):hde(e)}var Cc=gde;function vde(e){return e!=null&&typeof e=="object"}var Ec=vde,xde=Cc,yde=Ec,bde="[object Symbol]";function _de(e){return typeof e=="symbol"||yde(e)&&xde(e)==bde}var Op=_de,wde=Us,jde=Op,Sde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nde=/^\w*$/;function kde(e,t){if(wde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||jde(e)?!0:Nde.test(e)||!Sde.test(e)||t!=null&&e in Object(t)}var CA=kde;function Cde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ad=Cde;const Dp=vr(ad);var Ede=Cc,Tde=ad,Ade="[object AsyncFunction]",Pde="[object Function]",Ode="[object GeneratorFunction]",Dde="[object Proxy]";function Rde(e){if(!Tde(e))return!1;var t=Ede(e);return t==Pde||t==Ode||t==Ade||t==Dde}var EA=Rde;const Tt=vr(EA);var Mde=Tl,Fde=Mde["__core-js_shared__"],Ide=Fde,t2=Ide,mM=function(){var e=/[^.]+$/.exec(t2&&t2.keys&&t2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lde(e){return!!mM&&mM in e}var $de=Lde,Bde=Function.prototype,Ude=Bde.toString;function zde(e){if(e!=null){try{return Ude.call(e)}catch{}try{return e+""}catch{}}return""}var ez=zde,Vde=EA,Wde=$de,Hde=ad,qde=ez,Kde=/[\\^$.*+?()[\]{}|]/g,Gde=/^\[object .+?Constructor\]$/,Yde=Function.prototype,Xde=Object.prototype,Jde=Yde.toString,Qde=Xde.hasOwnProperty,Zde=RegExp("^"+Jde.call(Qde).replace(Kde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function efe(e){if(!Hde(e)||Wde(e))return!1;var t=Vde(e)?Zde:Gde;return t.test(qde(e))}var tfe=efe;function rfe(e,t){return e==null?void 0:e[t]}var nfe=rfe,afe=tfe,sfe=nfe;function ife(e,t){var r=sfe(e,t);return afe(r)?r:void 0}var Mf=ife,ofe=Mf,lfe=ofe(Object,"create"),Sw=lfe,pM=Sw;function cfe(){this.__data__=pM?pM(null):{},this.size=0}var ufe=cfe;function dfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ffe=dfe,hfe=Sw,mfe="__lodash_hash_undefined__",pfe=Object.prototype,gfe=pfe.hasOwnProperty;function vfe(e){var t=this.__data__;if(hfe){var r=t[e];return r===mfe?void 0:r}return gfe.call(t,e)?t[e]:void 0}var xfe=vfe,yfe=Sw,bfe=Object.prototype,_fe=bfe.hasOwnProperty;function wfe(e){var t=this.__data__;return yfe?t[e]!==void 0:_fe.call(t,e)}var jfe=wfe,Sfe=Sw,Nfe="__lodash_hash_undefined__";function kfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Sfe&&t===void 0?Nfe:t,this}var Cfe=kfe,Efe=ufe,Tfe=ffe,Afe=xfe,Pfe=jfe,Ofe=Cfe;function Rp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Rp.prototype.clear=Efe;Rp.prototype.delete=Tfe;Rp.prototype.get=Afe;Rp.prototype.has=Pfe;Rp.prototype.set=Ofe;var Dfe=Rp;function Rfe(){this.__data__=[],this.size=0}var Mfe=Rfe;function Ffe(e,t){return e===t||e!==e&&t!==t}var TA=Ffe,Ife=TA;function Lfe(e,t){for(var r=e.length;r--;)if(Ife(e[r][0],t))return r;return-1}var Nw=Lfe,$fe=Nw,Bfe=Array.prototype,Ufe=Bfe.splice;function zfe(e){var t=this.__data__,r=$fe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ufe.call(t,r,1),--this.size,!0}var Vfe=zfe,Wfe=Nw;function Hfe(e){var t=this.__data__,r=Wfe(t,e);return r<0?void 0:t[r][1]}var qfe=Hfe,Kfe=Nw;function Gfe(e){return Kfe(this.__data__,e)>-1}var Yfe=Gfe,Xfe=Nw;function Jfe(e,t){var r=this.__data__,n=Xfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Qfe=Jfe,Zfe=Mfe,ehe=Vfe,the=qfe,rhe=Yfe,nhe=Qfe;function Mp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mp.prototype.clear=Zfe;Mp.prototype.delete=ehe;Mp.prototype.get=the;Mp.prototype.has=rhe;Mp.prototype.set=nhe;var kw=Mp,ahe=Mf,she=Tl,ihe=ahe(she,"Map"),AA=ihe,gM=Dfe,ohe=kw,lhe=AA;function che(){this.size=0,this.__data__={hash:new gM,map:new(lhe||ohe),string:new gM}}var uhe=che;function dhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fhe=dhe,hhe=fhe;function mhe(e,t){var r=e.__data__;return hhe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Cw=mhe,phe=Cw;function ghe(e){var t=phe(this,e).delete(e);return this.size-=t?1:0,t}var vhe=ghe,xhe=Cw;function yhe(e){return xhe(this,e).get(e)}var bhe=yhe,_he=Cw;function whe(e){return _he(this,e).has(e)}var jhe=whe,She=Cw;function Nhe(e,t){var r=She(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var khe=Nhe,Che=uhe,Ehe=vhe,The=bhe,Ahe=jhe,Phe=khe;function Fp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fp.prototype.clear=Che;Fp.prototype.delete=Ehe;Fp.prototype.get=The;Fp.prototype.has=Ahe;Fp.prototype.set=Phe;var PA=Fp,tz=PA,Ohe="Expected a function";function OA(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ohe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(OA.Cache||tz),r}OA.Cache=tz;var rz=OA;const Dhe=vr(rz);var Rhe=rz,Mhe=500;function Fhe(e){var t=Rhe(e,function(n){return r.size===Mhe&&r.clear(),n}),r=t.cache;return t}var Ihe=Fhe,Lhe=Ihe,$he=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bhe=/\\(\\)?/g,Uhe=Lhe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($he,function(r,n,a,s){t.push(a?s.replace(Bhe,"$1"):n||r)}),t}),zhe=Uhe;function Vhe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var DA=Vhe,vM=ux,Whe=DA,Hhe=Us,qhe=Op,Khe=1/0,xM=vM?vM.prototype:void 0,yM=xM?xM.toString:void 0;function nz(e){if(typeof e=="string")return e;if(Hhe(e))return Whe(e,nz)+"";if(qhe(e))return yM?yM.call(e):"";var t=e+"";return t=="0"&&1/e==-Khe?"-0":t}var Ghe=nz,Yhe=Ghe;function Xhe(e){return e==null?"":Yhe(e)}var az=Xhe,Jhe=Us,Qhe=CA,Zhe=zhe,eme=az;function tme(e,t){return Jhe(e)?e:Qhe(e,t)?[e]:Zhe(eme(e))}var sz=tme,rme=Op,nme=1/0;function ame(e){if(typeof e=="string"||rme(e))return e;var t=e+"";return t=="0"&&1/e==-nme?"-0":t}var Ew=ame,sme=sz,ime=Ew;function ome(e,t){t=sme(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ime(t[r++])];return r&&r==n?e:void 0}var RA=ome,lme=RA;function cme(e,t,r){var n=e==null?void 0:lme(e,t);return n===void 0?r:n}var iz=cme;const ii=vr(iz);function ume(e){return e==null}var dme=ume;const Mt=vr(dme);var fme=Cc,hme=Us,mme=Ec,pme="[object String]";function gme(e){return typeof e=="string"||!hme(e)&&mme(e)&&fme(e)==pme}var vme=gme;const vf=vr(vme);var oz={exports:{}},wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=Symbol.for("react.element"),FA=Symbol.for("react.portal"),Tw=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Pw=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Dw=Symbol.for("react.context"),xme=Symbol.for("react.server_context"),Rw=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),Iw=Symbol.for("react.memo"),Lw=Symbol.for("react.lazy"),yme=Symbol.for("react.offscreen"),lz;lz=Symbol.for("react.module.reference");function zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case MA:switch(e=e.type,e){case Tw:case Pw:case Aw:case Mw:case Fw:return e;default:switch(e=e&&e.$$typeof,e){case xme:case Dw:case Rw:case Lw:case Iw:case Ow:return e;default:return t}}case FA:return t}}}wr.ContextConsumer=Dw;wr.ContextProvider=Ow;wr.Element=MA;wr.ForwardRef=Rw;wr.Fragment=Tw;wr.Lazy=Lw;wr.Memo=Iw;wr.Portal=FA;wr.Profiler=Pw;wr.StrictMode=Aw;wr.Suspense=Mw;wr.SuspenseList=Fw;wr.isAsyncMode=function(){return!1};wr.isConcurrentMode=function(){return!1};wr.isContextConsumer=function(e){return zi(e)===Dw};wr.isContextProvider=function(e){return zi(e)===Ow};wr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===MA};wr.isForwardRef=function(e){return zi(e)===Rw};wr.isFragment=function(e){return zi(e)===Tw};wr.isLazy=function(e){return zi(e)===Lw};wr.isMemo=function(e){return zi(e)===Iw};wr.isPortal=function(e){return zi(e)===FA};wr.isProfiler=function(e){return zi(e)===Pw};wr.isStrictMode=function(e){return zi(e)===Aw};wr.isSuspense=function(e){return zi(e)===Mw};wr.isSuspenseList=function(e){return zi(e)===Fw};wr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tw||e===Pw||e===Aw||e===Mw||e===Fw||e===yme||typeof e=="object"&&e!==null&&(e.$$typeof===Lw||e.$$typeof===Iw||e.$$typeof===Ow||e.$$typeof===Dw||e.$$typeof===Rw||e.$$typeof===lz||e.getModuleId!==void 0)};wr.typeOf=zi;oz.exports=wr;var bme=oz.exports,_me=Cc,wme=Ec,jme="[object Number]";function Sme(e){return typeof e=="number"||wme(e)&&_me(e)==jme}var cz=Sme;const Nme=vr(cz);var kme=cz;function Cme(e){return kme(e)&&e!=+e}var Eme=Cme;const dx=vr(Eme);var es=function(t){return t===0?0:t>0?1:-1},Pd=function(t){return vf(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Nme(t)&&!dx(t)},Tme=function(t){return Mt(t)},Fn=function(t){return Xe(t)||vf(t)},Ame=0,Ip=function(t){var r=++Ame;return"".concat(t||"").concat(r)},ts=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!vf(t))return n;var s;if(Pd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return dx(s)&&(s=n),a&&s>r&&(s=r),s},tu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Pme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Qs=function(t,r){return Xe(t)&&Xe(r)?function(n){return t+n*(r-t)}:function(){return r}};function lb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ii(n,t))===r})}var Ome=function(t,r){return Xe(t)&&Xe(r)?t-r:vf(t)&&vf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Jh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Mk(e){"@babel/helpers - typeof";return Mk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mk(e)}var Dme=["viewBox","children"],Rme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bM=["points","pathLength"],r2={svg:Dme,polygon:bM,polyline:bM},IA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],cb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Dp(n))return null;var a={};return Object.keys(n).forEach(function(s){IA.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Mme=function(t,r,n){return function(a){return t(r,n,a),null}},xf=function(t,r,n){if(!Dp(t)||Mk(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];IA.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Mme(o,r,n))}),a},Fme=["children"],Ime=["children"];function _M(e,t){if(e==null)return{};var r=Lme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fk(e){"@babel/helpers - typeof";return Fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fk(e)}var wM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jM=null,n2=null,LA=function e(t){if(t===jM&&Array.isArray(n2))return n2;var r=[];return x.Children.forEach(t,function(n){Mt(n)||(bme.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),n2=r,jM=t,r};function oi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return nc(a)}):n=[nc(t)],LA(e).forEach(function(a){var s=ii(a,"type.displayName")||ii(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ys(e,t){var r=oi(e,t);return r&&r[0]}var SM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Xe(n)||n<=0||!Xe(a)||a<=0)},$me=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bme=function(t){return t&&t.type&&vf(t.type)&&$me.indexOf(t.type)>=0},Ume=function(t){return t&&Fk(t)==="object"&&"clipDot"in t},zme=function(t,r,n,a){var s,o=(s=r2==null?void 0:r2[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Tt(t)&&(a&&o.includes(r)||Rme.includes(r))||n&&IA.includes(r)},Nt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Dp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;zme((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},Ik=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return NM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!NM(s,o))return!1}return!0},NM=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var n=t.props||{},a=n.children,s=_M(n,Fme),o=r.props||{},l=o.children,c=_M(o,Ime);return a&&l?Jh(s,c)&&Ik(a,l):!a&&!l?Jh(s,c):!1}return!1},kM=function(t,r){var n=[],a={};return LA(t).forEach(function(s,o){if(Bme(s))n.push(s);else if(s){var l=nc(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);n.push(f),a[l]=!0}}}),n},Vme=function(t){var r=t&&t.type;return r&&wM[r]?wM[r]:null},Wme=function(t,r){return LA(r).indexOf(t)},Hme=["children","width","height","viewBox","className","style","title","desc"];function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function qme(e,t){if(e==null)return{};var r=Kme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $k(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=qme(e,Hme),d=a||{width:r,height:n,x:0,y:0},f=It("recharts-surface",s);return ie.createElement("svg",Lk({},Nt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var Gme=["children","className"];function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bk.apply(this,arguments)}function Yme(e,t){if(e==null)return{};var r=Xme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lr=ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=Yme(e,Gme),s=It("recharts-layer",n);return ie.createElement("g",Bk({className:s},Nt(a,!0),{ref:t}),r)}),jo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Jme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var Qme=Jme,Zme=Qme;function epe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Zme(e,t,r)}var tpe=epe,rpe="\\ud800-\\udfff",npe="\\u0300-\\u036f",ape="\\ufe20-\\ufe2f",spe="\\u20d0-\\u20ff",ipe=npe+ape+spe,ope="\\ufe0e\\ufe0f",lpe="\\u200d",cpe=RegExp("["+lpe+rpe+ipe+ope+"]");function upe(e){return cpe.test(e)}var uz=upe;function dpe(e){return e.split("")}var fpe=dpe,dz="\\ud800-\\udfff",hpe="\\u0300-\\u036f",mpe="\\ufe20-\\ufe2f",ppe="\\u20d0-\\u20ff",gpe=hpe+mpe+ppe,vpe="\\ufe0e\\ufe0f",xpe="["+dz+"]",Uk="["+gpe+"]",zk="\\ud83c[\\udffb-\\udfff]",ype="(?:"+Uk+"|"+zk+")",fz="[^"+dz+"]",hz="(?:\\ud83c[\\udde6-\\uddff]){2}",mz="[\\ud800-\\udbff][\\udc00-\\udfff]",bpe="\\u200d",pz=ype+"?",gz="["+vpe+"]?",_pe="(?:"+bpe+"(?:"+[fz,hz,mz].join("|")+")"+gz+pz+")*",wpe=gz+pz+_pe,jpe="(?:"+[fz+Uk+"?",Uk,hz,mz,xpe].join("|")+")",Spe=RegExp(zk+"(?="+zk+")|"+jpe+wpe,"g");function Npe(e){return e.match(Spe)||[]}var kpe=Npe,Cpe=fpe,Epe=uz,Tpe=kpe;function Ape(e){return Epe(e)?Tpe(e):Cpe(e)}var Ppe=Ape,Ope=tpe,Dpe=uz,Rpe=Ppe,Mpe=az;function Fpe(e){return function(t){t=Mpe(t);var r=Dpe(t)?Rpe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Ope(r,1).join(""):t.slice(1);return n[e]()+a}}var Ipe=Fpe,Lpe=Ipe,$pe=Lpe("toUpperCase"),Bpe=$pe;const $w=vr(Bpe);function Cr(e){return function(){return e}}const vz=Math.cos,ub=Math.sin,Bo=Math.sqrt,db=Math.PI,Bw=2*db,Vk=Math.PI,Wk=2*Vk,yd=1e-6,Upe=Wk-yd;function xz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zpe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xz;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Vpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xz:zpe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>yd)if(!(Math.abs(f*c-u*d)>yd)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,p=a-l,g=c*c+u*u,v=m*m+p*p,y=Math.sqrt(g),b=Math.sqrt(h),_=s*Math.tan((Vk-Math.acos((g+h-v)/(2*y*b)))/2),w=_/b,j=_/y;Math.abs(w-1)>yd&&this._append`L${t+w*d},${r+w*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yd||Math.abs(this._y1-d)>yd)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Wk+Wk),h>Upe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>yd&&this._append`A${n},${n},0,${+(h>=Vk)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function $A(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Vpe(t)}function BA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yz(e){this._context=e}yz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Uw(e){return new yz(e)}function bz(e){return e[0]}function _z(e){return e[1]}function wz(e,t){var r=Cr(!0),n=null,a=Uw,s=null,o=$A(l);e=typeof e=="function"?e:e===void 0?bz:Cr(e),t=typeof t=="function"?t:t===void 0?_z:Cr(t);function l(c){var u,d=(c=BA(c)).length,f,h=!1,m;for(n==null&&(s=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Cr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Cr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Cr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function yy(e,t,r){var n=null,a=Cr(!0),s=null,o=Uw,l=null,c=$A(u);e=typeof e=="function"?e:e===void 0?bz:Cr(+e),t=typeof t=="function"?t:Cr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_z:Cr(+r);function u(f){var h,m,p,g=(f=BA(f)).length,v,y=!1,b,_=new Array(g),w=new Array(g);for(s==null&&(l=o(b=c())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(_[p],w[p]);l.lineEnd(),l.areaEnd()}y&&(_[h]=+e(v,h,f),w[h]=+t(v,h,f),l.point(n?+n(v,h,f):_[h],r?+r(v,h,f):w[h]))}if(b)return l=null,b+""||null}function d(){return wz().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Cr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Cr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Cr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Cr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Cr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Cr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Cr(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class jz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Wpe(e){return new jz(e,!0)}function Hpe(e){return new jz(e,!1)}const UA={draw(e,t){const r=Bo(t/db);e.moveTo(r,0),e.arc(0,0,r,0,Bw)}},qpe={draw(e,t){const r=Bo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Sz=Bo(1/3),Kpe=Sz*2,Gpe={draw(e,t){const r=Bo(t/Kpe),n=r*Sz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ype={draw(e,t){const r=Bo(t),n=-r/2;e.rect(n,n,r,r)}},Xpe=.8908130915292852,Nz=ub(db/10)/ub(7*db/10),Jpe=ub(Bw/10)*Nz,Qpe=-vz(Bw/10)*Nz,Zpe={draw(e,t){const r=Bo(t*Xpe),n=Jpe*r,a=Qpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=Bw*s/5,l=vz(o),c=ub(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},a2=Bo(3),e0e={draw(e,t){const r=-Bo(t/(a2*3));e.moveTo(0,r*2),e.lineTo(-a2*r,-r),e.lineTo(a2*r,-r),e.closePath()}},vi=-.5,xi=Bo(3)/2,Hk=1/Bo(12),t0e=(Hk/2+1)*3,r0e={draw(e,t){const r=Bo(t/t0e),n=r/2,a=r*Hk,s=n,o=r*Hk+r,l=-s,c=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(vi*n-xi*a,xi*n+vi*a),e.lineTo(vi*s-xi*o,xi*s+vi*o),e.lineTo(vi*l-xi*c,xi*l+vi*c),e.lineTo(vi*n+xi*a,vi*a-xi*n),e.lineTo(vi*s+xi*o,vi*o-xi*s),e.lineTo(vi*l+xi*c,vi*c-xi*l),e.closePath()}};function n0e(e,t){let r=null,n=$A(a);e=typeof e=="function"?e:Cr(e||UA),t=typeof t=="function"?t:Cr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Cr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Cr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function fb(){}function hb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kz(e){this._context=e}kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a0e(e){return new kz(e)}function Cz(e){this._context=e}Cz.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s0e(e){return new Cz(e)}function Ez(e){this._context=e}Ez.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i0e(e){return new Ez(e)}function Tz(e){this._context=e}Tz.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function o0e(e){return new Tz(e)}function CM(e){return e<0?-1:1}function EM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(CM(s)+CM(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function TM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function s2(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function mb(e){this._context=e}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s2(this,this._t0,TM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,s2(this,TM(this,r=EM(this,e,t)),r);break;default:s2(this,this._t0,r=EM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Az(e){this._context=new Pz(e)}(Az.prototype=Object.create(mb.prototype)).point=function(e,t){mb.prototype.point.call(this,t,e)};function Pz(e){this._context=e}Pz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function l0e(e){return new mb(e)}function c0e(e){return new Az(e)}function Oz(e){this._context=e}Oz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AM(e),a=AM(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AM(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function u0e(e){return new Oz(e)}function zw(e,t){this._context=e,this._t=t}zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function d0e(e){return new zw(e,.5)}function f0e(e){return new zw(e,0)}function h0e(e){return new zw(e,1)}function Rm(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function qk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function m0e(e,t){return e[t]}function p0e(e){const t=[];return t.key=e,t}function g0e(){var e=Cr([]),t=qk,r=Rm,n=m0e;function a(s){var o=Array.from(e.apply(this,arguments),p0e),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=BA(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Cr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Cr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?qk:typeof s=="function"?s:Cr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Rm,a):r},a}function v0e(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Rm(e,t)}}function x0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Rm(e,t)}}function y0e(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Rm(e,t)}}function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}var b0e=["type","size","sizeType"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){_0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _0e(e,t,r){return t=w0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w0e(e){var t=j0e(e,"string");return Gg(t)=="symbol"?t:t+""}function j0e(e,t){if(Gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0e(e,t){if(e==null)return{};var r=N0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Dz={symbolCircle:UA,symbolCross:qpe,symbolDiamond:Gpe,symbolSquare:Ype,symbolStar:Zpe,symbolTriangle:e0e,symbolWye:r0e},k0e=Math.PI/180,C0e=function(t){var r="symbol".concat($w(t));return Dz[r]||UA},E0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*k0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T0e=function(t,r){Dz["symbol".concat($w(t))]=r},zA=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=S0e(t,b0e),u=OM(OM({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=C0e(n),y=n0e().type(v).size(E0e(s,l,n));return y()},f=u.className,h=u.cx,m=u.cy,p=Nt(u,!0);return h===+h&&m===+m&&s===+s?ie.createElement("path",Kk({},p,{className:It("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};zA.registerSymbol=T0e;function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){Yg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mz(n.key),n)}}function D0e(e,t,r){return t&&O0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R0e(e,t,r){return t=pb(t),M0e(e,Rz()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function M0e(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F0e(e)}function F0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rz=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function I0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yk(e,t)}function Yg(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=L0e(e,"string");return Mm(t)=="symbol"?t:t+""}function L0e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yi=32,VA=function(e){function t(){return P0e(this,t),R0e(this,t,arguments)}return I0e(t,e),D0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=yi/2,o=yi/6,l=yi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:yi,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(yi,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(n.legendIcon)){var u=A0e({},n);return delete u.legendIcon,ie.cloneElement(n.legendIcon,u)}return ie.createElement(zA,{fill:c,cx:s,cy:s,size:yi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:yi,height:yi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,p){var g=m.formatter||c,v=It(Yg(Yg({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=Tt(m.value)?null:m.value;jo(!Tt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return ie.createElement("li",Gk({className:v,style:f,key:"legend-item-".concat(p)},xf(n.props,m,p)),ie.createElement($k,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(y,m,p):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Yg(VA,"displayName","Legend");Yg(VA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $0e=kw;function B0e(){this.__data__=new $0e,this.size=0}var U0e=B0e;function z0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var V0e=z0e;function W0e(e){return this.__data__.get(e)}var H0e=W0e;function q0e(e){return this.__data__.has(e)}var K0e=q0e,G0e=kw,Y0e=AA,X0e=PA,J0e=200;function Q0e(e,t){var r=this.__data__;if(r instanceof G0e){var n=r.__data__;if(!Y0e||n.length<J0e-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new X0e(n)}return r.set(e,t),this.size=r.size,this}var Z0e=Q0e,ege=kw,tge=U0e,rge=V0e,nge=H0e,age=K0e,sge=Z0e;function Lp(e){var t=this.__data__=new ege(e);this.size=t.size}Lp.prototype.clear=tge;Lp.prototype.delete=rge;Lp.prototype.get=nge;Lp.prototype.has=age;Lp.prototype.set=sge;var Fz=Lp,ige="__lodash_hash_undefined__";function oge(e){return this.__data__.set(e,ige),this}var lge=oge;function cge(e){return this.__data__.has(e)}var uge=cge,dge=PA,fge=lge,hge=uge;function gb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new dge;++t<r;)this.add(e[t])}gb.prototype.add=gb.prototype.push=fge;gb.prototype.has=hge;var Iz=gb;function mge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Lz=mge;function pge(e,t){return e.has(t)}var $z=pge,gge=Iz,vge=Lz,xge=$z,yge=1,bge=2;function _ge(e,t,r,n,a,s){var o=r&yge,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&bge?new gge:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var p=e[f],g=t[f];if(n)var v=o?n(g,p,f,t,e,s):n(p,g,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!vge(t,function(y,b){if(!xge(m,b)&&(p===y||a(p,y,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var Bz=_ge,wge=Tl,jge=wge.Uint8Array,Sge=jge;function Nge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var kge=Nge;function Cge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var WA=Cge,RM=ux,MM=Sge,Ege=TA,Tge=Bz,Age=kge,Pge=WA,Oge=1,Dge=2,Rge="[object Boolean]",Mge="[object Date]",Fge="[object Error]",Ige="[object Map]",Lge="[object Number]",$ge="[object RegExp]",Bge="[object Set]",Uge="[object String]",zge="[object Symbol]",Vge="[object ArrayBuffer]",Wge="[object DataView]",FM=RM?RM.prototype:void 0,i2=FM?FM.valueOf:void 0;function Hge(e,t,r,n,a,s,o){switch(r){case Wge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vge:return!(e.byteLength!=t.byteLength||!s(new MM(e),new MM(t)));case Rge:case Mge:case Lge:return Ege(+e,+t);case Fge:return e.name==t.name&&e.message==t.message;case $ge:case Uge:return e==t+"";case Ige:var l=Age;case Bge:var c=n&Oge;if(l||(l=Pge),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Dge,o.set(e,t);var d=Tge(l(e),l(t),n,a,s,o);return o.delete(e),d;case zge:if(i2)return i2.call(e)==i2.call(t)}return!1}var qge=Hge;function Kge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Uz=Kge,Gge=Uz,Yge=Us;function Xge(e,t,r){var n=t(e);return Yge(e)?n:Gge(n,r(e))}var Jge=Xge;function Qge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var Zge=Qge;function eve(){return[]}var tve=eve,rve=Zge,nve=tve,ave=Object.prototype,sve=ave.propertyIsEnumerable,IM=Object.getOwnPropertySymbols,ive=IM?function(e){return e==null?[]:(e=Object(e),rve(IM(e),function(t){return sve.call(e,t)}))}:nve,ove=ive;function lve(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var cve=lve,uve=Cc,dve=Ec,fve="[object Arguments]";function hve(e){return dve(e)&&uve(e)==fve}var mve=hve,LM=mve,pve=Ec,zz=Object.prototype,gve=zz.hasOwnProperty,vve=zz.propertyIsEnumerable,xve=LM(function(){return arguments}())?LM:function(e){return pve(e)&&gve.call(e,"callee")&&!vve.call(e,"callee")},HA=xve,vb={exports:{}};function yve(){return!1}var bve=yve;vb.exports;(function(e,t){var r=Tl,n=bve,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(vb,vb.exports);var Vz=vb.exports,_ve=9007199254740991,wve=/^(?:0|[1-9]\d*)$/;function jve(e,t){var r=typeof e;return t=t??_ve,!!t&&(r=="number"||r!="symbol"&&wve.test(e))&&e>-1&&e%1==0&&e<t}var qA=jve,Sve=9007199254740991;function Nve(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Sve}var KA=Nve,kve=Cc,Cve=KA,Eve=Ec,Tve="[object Arguments]",Ave="[object Array]",Pve="[object Boolean]",Ove="[object Date]",Dve="[object Error]",Rve="[object Function]",Mve="[object Map]",Fve="[object Number]",Ive="[object Object]",Lve="[object RegExp]",$ve="[object Set]",Bve="[object String]",Uve="[object WeakMap]",zve="[object ArrayBuffer]",Vve="[object DataView]",Wve="[object Float32Array]",Hve="[object Float64Array]",qve="[object Int8Array]",Kve="[object Int16Array]",Gve="[object Int32Array]",Yve="[object Uint8Array]",Xve="[object Uint8ClampedArray]",Jve="[object Uint16Array]",Qve="[object Uint32Array]",Mr={};Mr[Wve]=Mr[Hve]=Mr[qve]=Mr[Kve]=Mr[Gve]=Mr[Yve]=Mr[Xve]=Mr[Jve]=Mr[Qve]=!0;Mr[Tve]=Mr[Ave]=Mr[zve]=Mr[Pve]=Mr[Vve]=Mr[Ove]=Mr[Dve]=Mr[Rve]=Mr[Mve]=Mr[Fve]=Mr[Ive]=Mr[Lve]=Mr[$ve]=Mr[Bve]=Mr[Uve]=!1;function Zve(e){return Eve(e)&&Cve(e.length)&&!!Mr[kve(e)]}var exe=Zve;function txe(e){return function(t){return e(t)}}var Wz=txe,xb={exports:{}};xb.exports;(function(e,t){var r=Q7,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(xb,xb.exports);var rxe=xb.exports,nxe=exe,axe=Wz,$M=rxe,BM=$M&&$M.isTypedArray,sxe=BM?axe(BM):nxe,Hz=sxe,ixe=cve,oxe=HA,lxe=Us,cxe=Vz,uxe=qA,dxe=Hz,fxe=Object.prototype,hxe=fxe.hasOwnProperty;function mxe(e,t){var r=lxe(e),n=!r&&oxe(e),a=!r&&!n&&cxe(e),s=!r&&!n&&!a&&dxe(e),o=r||n||a||s,l=o?ixe(e.length,String):[],c=l.length;for(var u in e)(t||hxe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uxe(u,c)))&&l.push(u);return l}var pxe=mxe,gxe=Object.prototype;function vxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gxe;return e===r}var xxe=vxe;function yxe(e,t){return function(r){return e(t(r))}}var qz=yxe,bxe=qz,_xe=bxe(Object.keys,Object),wxe=_xe,jxe=xxe,Sxe=wxe,Nxe=Object.prototype,kxe=Nxe.hasOwnProperty;function Cxe(e){if(!jxe(e))return Sxe(e);var t=[];for(var r in Object(e))kxe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Exe=Cxe,Txe=EA,Axe=KA;function Pxe(e){return e!=null&&Axe(e.length)&&!Txe(e)}var fx=Pxe,Oxe=pxe,Dxe=Exe,Rxe=fx;function Mxe(e){return Rxe(e)?Oxe(e):Dxe(e)}var Vw=Mxe,Fxe=Jge,Ixe=ove,Lxe=Vw;function $xe(e){return Fxe(e,Lxe,Ixe)}var Bxe=$xe,UM=Bxe,Uxe=1,zxe=Object.prototype,Vxe=zxe.hasOwnProperty;function Wxe(e,t,r,n,a,s){var o=r&Uxe,l=UM(e),c=l.length,u=UM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Vxe.call(t,h)))return!1}var m=s.get(e),p=s.get(t);if(m&&p)return m==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=o;++f<c;){h=l[f];var y=e[h],b=t[h];if(n)var _=o?n(b,y,h,t,e,s):n(y,b,h,e,t,s);if(!(_===void 0?y===b||a(y,b,r,n,s):_)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(g=!1)}return s.delete(e),s.delete(t),g}var Hxe=Wxe,qxe=Mf,Kxe=Tl,Gxe=qxe(Kxe,"DataView"),Yxe=Gxe,Xxe=Mf,Jxe=Tl,Qxe=Xxe(Jxe,"Promise"),Zxe=Qxe,eye=Mf,tye=Tl,rye=eye(tye,"Set"),Kz=rye,nye=Mf,aye=Tl,sye=nye(aye,"WeakMap"),iye=sye,Xk=Yxe,Jk=AA,Qk=Zxe,Zk=Kz,eC=iye,Gz=Cc,$p=ez,zM="[object Map]",oye="[object Object]",VM="[object Promise]",WM="[object Set]",HM="[object WeakMap]",qM="[object DataView]",lye=$p(Xk),cye=$p(Jk),uye=$p(Qk),dye=$p(Zk),fye=$p(eC),bd=Gz;(Xk&&bd(new Xk(new ArrayBuffer(1)))!=qM||Jk&&bd(new Jk)!=zM||Qk&&bd(Qk.resolve())!=VM||Zk&&bd(new Zk)!=WM||eC&&bd(new eC)!=HM)&&(bd=function(e){var t=Gz(e),r=t==oye?e.constructor:void 0,n=r?$p(r):"";if(n)switch(n){case lye:return qM;case cye:return zM;case uye:return VM;case dye:return WM;case fye:return HM}return t});var hye=bd,o2=Fz,mye=Bz,pye=qge,gye=Hxe,KM=hye,GM=Us,YM=Vz,vye=Hz,xye=1,XM="[object Arguments]",JM="[object Array]",by="[object Object]",yye=Object.prototype,QM=yye.hasOwnProperty;function bye(e,t,r,n,a,s){var o=GM(e),l=GM(t),c=o?JM:KM(e),u=l?JM:KM(t);c=c==XM?by:c,u=u==XM?by:u;var d=c==by,f=u==by,h=c==u;if(h&&YM(e)){if(!YM(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new o2),o||vye(e)?mye(e,t,r,n,a,s):pye(e,t,c,r,n,a,s);if(!(r&xye)){var m=d&&QM.call(e,"__wrapped__"),p=f&&QM.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return s||(s=new o2),a(g,v,r,n,s)}}return h?(s||(s=new o2),gye(e,t,r,n,a,s)):!1}var _ye=bye,wye=_ye,ZM=Ec;function Yz(e,t,r,n,a){return e===t?!0:e==null||t==null||!ZM(e)&&!ZM(t)?e!==e&&t!==t:wye(e,t,r,n,Yz,a)}var GA=Yz,jye=Fz,Sye=GA,Nye=1,kye=2;function Cye(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new jye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Sye(d,u,Nye|kye,n,f):h))return!1}}return!0}var Eye=Cye,Tye=ad;function Aye(e){return e===e&&!Tye(e)}var Xz=Aye,Pye=Xz,Oye=Vw;function Dye(e){for(var t=Oye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Pye(a)]}return t}var Rye=Dye;function Mye(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Jz=Mye,Fye=Eye,Iye=Rye,Lye=Jz;function $ye(e){var t=Iye(e);return t.length==1&&t[0][2]?Lye(t[0][0],t[0][1]):function(r){return r===e||Fye(r,e,t)}}var Bye=$ye;function Uye(e,t){return e!=null&&t in Object(e)}var zye=Uye,Vye=sz,Wye=HA,Hye=Us,qye=qA,Kye=KA,Gye=Ew;function Yye(e,t,r){t=Vye(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Gye(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Kye(a)&&qye(o,a)&&(Hye(e)||Wye(e)))}var Xye=Yye,Jye=zye,Qye=Xye;function Zye(e,t){return e!=null&&Qye(e,t,Jye)}var e1e=Zye,t1e=GA,r1e=iz,n1e=e1e,a1e=CA,s1e=Xz,i1e=Jz,o1e=Ew,l1e=1,c1e=2;function u1e(e,t){return a1e(e)&&s1e(t)?i1e(o1e(e),t):function(r){var n=r1e(r,e);return n===void 0&&n===t?n1e(r,e):t1e(t,n,l1e|c1e)}}var d1e=u1e;function f1e(e){return e}var Bp=f1e;function h1e(e){return function(t){return t==null?void 0:t[e]}}var m1e=h1e,p1e=RA;function g1e(e){return function(t){return p1e(t,e)}}var v1e=g1e,x1e=m1e,y1e=v1e,b1e=CA,_1e=Ew;function w1e(e){return b1e(e)?x1e(_1e(e)):y1e(e)}var j1e=w1e,S1e=Bye,N1e=d1e,k1e=Bp,C1e=Us,E1e=j1e;function T1e(e){return typeof e=="function"?e:e==null?k1e:typeof e=="object"?C1e(e)?N1e(e[0],e[1]):S1e(e):E1e(e)}var Al=T1e;function A1e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var Qz=A1e;function P1e(e){return e!==e}var O1e=P1e;function D1e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var R1e=D1e,M1e=Qz,F1e=O1e,I1e=R1e;function L1e(e,t,r){return t===t?I1e(e,t,r):M1e(e,F1e,r)}var $1e=L1e,B1e=$1e;function U1e(e,t){var r=e==null?0:e.length;return!!r&&B1e(e,t,0)>-1}var z1e=U1e;function V1e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var W1e=V1e;function H1e(){}var q1e=H1e,l2=Kz,K1e=q1e,G1e=WA,Y1e=1/0,X1e=l2&&1/G1e(new l2([,-0]))[1]==Y1e?function(e){return new l2(e)}:K1e,J1e=X1e,Q1e=Iz,Z1e=z1e,ebe=W1e,tbe=$z,rbe=J1e,nbe=WA,abe=200;function sbe(e,t,r){var n=-1,a=Z1e,s=e.length,o=!0,l=[],c=l;if(r)o=!1,a=ebe;else if(s>=abe){var u=t?null:rbe(e);if(u)return nbe(u);o=!1,a=tbe,c=new Q1e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var ibe=sbe,obe=Al,lbe=ibe;function cbe(e,t){return e&&e.length?lbe(e,obe(t)):[]}var ube=cbe;const eF=vr(ube);function Zz(e,t,r){return t===!0?eF(e,r):Tt(t)?eF(e,t):e}function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}var dbe=["ref"];function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){Ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tV(n.key),n)}}function hbe(e,t,r){return t&&rF(e.prototype,t),r&&rF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mbe(e,t,r){return t=yb(t),pbe(e,eV()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function pbe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gbe(e)}function gbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tC(e,t)}function tC(e,t){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tC(e,t)}function Ww(e,t,r){return t=tV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tV(e){var t=xbe(e,"string");return Fm(t)=="symbol"?t:t+""}function xbe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ybe(e,t){if(e==null)return{};var r=bbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _be(e){return e.value}function wbe(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var r=ybe(t,dbe);return ie.createElement(VA,r)}var nF=1,li=function(e){function t(){var r;fbe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mbe(this,t,[].concat(a)),Ww(r,"lastBoundingBox",{width:-1,height:-1}),r}return vbe(t,e),hbe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nF||Math.abs(a.height-this.lastBoundingBox.height)>nF)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var p=this.getBBoxSnapshot();h={top:((d||0)-p.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fl(Fl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Fl(Fl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},wbe(s,Fl(Fl({},this.props),{},{payload:Zz(d,u,_be)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Fl(Fl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Xe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);Ww(li,"displayName","Legend");Ww(li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aF=ux,jbe=HA,Sbe=Us,sF=aF?aF.isConcatSpreadable:void 0;function Nbe(e){return Sbe(e)||jbe(e)||!!(sF&&e&&e[sF])}var kbe=Nbe,Cbe=Uz,Ebe=kbe;function rV(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=Ebe),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?rV(l,t-1,r,n,a):Cbe(a,l):n||(a[a.length]=l)}return a}var nV=rV;function Tbe(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var Abe=Tbe,Pbe=Abe,Obe=Pbe(),Dbe=Obe,Rbe=Dbe,Mbe=Vw;function Fbe(e,t){return e&&Rbe(e,t,Mbe)}var aV=Fbe,Ibe=fx;function Lbe(e,t){return function(r,n){if(r==null)return r;if(!Ibe(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var $be=Lbe,Bbe=aV,Ube=$be,zbe=Ube(Bbe),YA=zbe,Vbe=YA,Wbe=fx;function Hbe(e,t){var r=-1,n=Wbe(e)?Array(e.length):[];return Vbe(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var sV=Hbe;function qbe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Kbe=qbe,iF=Op;function Gbe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=iF(e),o=t!==void 0,l=t===null,c=t===t,u=iF(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var Ybe=Gbe,Xbe=Ybe;function Jbe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=Xbe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Qbe=Jbe,c2=DA,Zbe=RA,e_e=Al,t_e=sV,r_e=Kbe,n_e=Wz,a_e=Qbe,s_e=Bp,i_e=Us;function o_e(e,t,r){t.length?t=c2(t,function(s){return i_e(s)?function(o){return Zbe(o,s.length===1?s[0]:s)}:s}):t=[s_e];var n=-1;t=c2(t,n_e(e_e));var a=t_e(e,function(s,o,l){var c=c2(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return r_e(a,function(s,o){return a_e(s,o,r)})}var l_e=o_e;function c_e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var u_e=c_e,d_e=u_e,oF=Math.max;function f_e(e,t,r){return t=oF(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=oF(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),d_e(e,this,l)}}var h_e=f_e;function m_e(e){return function(){return e}}var p_e=m_e,g_e=Mf,v_e=function(){try{var e=g_e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iV=v_e,x_e=p_e,lF=iV,y_e=Bp,b_e=lF?function(e,t){return lF(e,"toString",{configurable:!0,enumerable:!1,value:x_e(t),writable:!0})}:y_e,__e=b_e,w_e=800,j_e=16,S_e=Date.now;function N_e(e){var t=0,r=0;return function(){var n=S_e(),a=j_e-(n-r);if(r=n,a>0){if(++t>=w_e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var k_e=N_e,C_e=__e,E_e=k_e,T_e=E_e(C_e),A_e=T_e,P_e=Bp,O_e=h_e,D_e=A_e;function R_e(e,t){return D_e(O_e(e,t,P_e),e+"")}var M_e=R_e,F_e=TA,I_e=fx,L_e=qA,$_e=ad;function B_e(e,t,r){if(!$_e(r))return!1;var n=typeof t;return(n=="number"?I_e(r)&&L_e(t,r.length):n=="string"&&t in r)?F_e(r[t],e):!1}var Hw=B_e,U_e=nV,z_e=l_e,V_e=M_e,cF=Hw,W_e=V_e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&cF(e,t[0],t[1])?t=[]:r>2&&cF(t[0],t[1],t[2])&&(t=[t[0]]),z_e(e,U_e(t,1),[])}),H_e=W_e;const XA=vr(H_e);function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function rC(){return rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rC.apply(this,arguments)}function q_e(e,t){return X_e(e)||Y_e(e,t)||G_e(e,t)||K_e()}function K_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G_e(e,t){if(e){if(typeof e=="string")return uF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uF(e,t)}}function uF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function X_e(e){if(Array.isArray(e))return e}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(n){J_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J_e(e,t,r){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_e(e){var t=Z_e(e,"string");return Xg(t)=="symbol"?t:t+""}function Z_e(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ewe(e){return Array.isArray(e)&&Fn(e[0])&&Fn(e[1])?e.join(" ~ "):e}var twe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,p=t.labelClassName,g=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,_=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?XA(d,h):d).map(function(z,D){if(z.type==="none")return null;var M=u2({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),L=z.formatter||f||ewe,I=z.value,F=z.name,X=I,J=F;if(L&&X!=null&&J!=null){var O=L(I,F,z,D,d);if(Array.isArray(O)){var G=q_e(O,2);X=G[0],J=G[1]}else X=O}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:M},Fn(J)?ie.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Fn(J)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},X),ie.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},w=u2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=u2({margin:0},u),N=!Mt(g),S=N?g:"",k=It("recharts-default-tooltip",m),C=It("recharts-tooltip-label",p);N&&v&&d!==void 0&&d!==null&&(S=v(g,d));var A=b?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",rC({className:k,style:w},A),ie.createElement("p",{className:C,style:j},ie.isValidElement(S)?S:"".concat(S)),_())};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function _y(e,t,r){return t=rwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rwe(e){var t=nwe(e,"string");return Jg(t)=="symbol"?t:t+""}function nwe(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h0="recharts-tooltip-wrapper",awe={visibility:"hidden"};function swe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return It(h0,_y(_y(_y(_y({},"".concat(h0,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(h0,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(h0,"-bottom"),Xe(n)&&t&&Xe(t.y)&&n>=t.y),"".concat(h0,"-top"),Xe(n)&&t&&Xe(t.y)&&n<t.y))}function fF(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Xe(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var p=f+l,g=c[n]+u;return p>g?Math.max(d,c[n]):Math.max(f,c[n])}function iwe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function owe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=fF({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=fF({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=iwe({translateX:d,translateY:f,useTranslate3d:l})):u=awe,{cssProperties:u,cssClasses:swe({translateX:d,translateY:f,coordinate:r})}}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function hF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(r),!0).forEach(function(n){aC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lV(n.key),n)}}function uwe(e,t,r){return t&&cwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dwe(e,t,r){return t=bb(t),fwe(e,oV()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function fwe(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hwe(e)}function hwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nC(e,t)}function aC(e,t,r){return t=lV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=pwe(e,"string");return Im(t)=="symbol"?t:t+""}function pwe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF=1,gwe=function(e){function t(){var r;lwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=dwe(this,t,[].concat(a)),aC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),aC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mwe(t,e),uwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>pF||Math.abs(n.height-this.state.lastBoundingBox.height)>pF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,p=a.position,g=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,_=owe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),w=_.cssClasses,j=_.cssProperties,N=mF(mF({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return ie.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),vwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ml={isSsr:vwe(),get:function(t){return ml[t]},set:function(t,r){if(typeof t=="string")ml[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ml[a]=t[a]})}}};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(n){JA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ywe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uV(n.key),n)}}function bwe(e,t,r){return t&&ywe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _we(e,t,r){return t=_b(t),wwe(e,cV()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function wwe(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(e)}function jwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function Swe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sC(e,t)}function sC(e,t){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sC(e,t)}function JA(e,t,r){return t=uV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uV(e){var t=Nwe(e,"string");return Lm(t)=="symbol"?t:t+""}function Nwe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kwe(e){return e.dataKey}function Cwe(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(twe,t)}var na=function(e){function t(){return xwe(this,t),_we(this,t,arguments)}return Swe(t,e),bwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,p=a.payload,g=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,w=a.wrapperStyle,j=p??[];f&&j.length&&(j=Zz(p.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),g,kwe));var N=j.length>0;return ie.createElement(gwe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:w},Cwe(u,vF(vF({},this.props),{},{payload:j})))}}])}(x.PureComponent);JA(na,"displayName","Tooltip");JA(na,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ewe=Tl,Twe=function(){return Ewe.Date.now()},Awe=Twe,Pwe=/\s/;function Owe(e){for(var t=e.length;t--&&Pwe.test(e.charAt(t)););return t}var Dwe=Owe,Rwe=Dwe,Mwe=/^\s+/;function Fwe(e){return e&&e.slice(0,Rwe(e)+1).replace(Mwe,"")}var Iwe=Fwe,Lwe=Iwe,xF=ad,$we=Op,yF=NaN,Bwe=/^[-+]0x[0-9a-f]+$/i,Uwe=/^0b[01]+$/i,zwe=/^0o[0-7]+$/i,Vwe=parseInt;function Wwe(e){if(typeof e=="number")return e;if($we(e))return yF;if(xF(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xF(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lwe(e);var r=Uwe.test(e);return r||zwe.test(e)?Vwe(e.slice(2),r?2:8):Bwe.test(e)?yF:+e}var dV=Wwe,Hwe=ad,d2=Awe,bF=dV,qwe="Expected a function",Kwe=Math.max,Gwe=Math.min;function Ywe(e,t,r){var n,a,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(qwe);t=bF(t)||0,Hwe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Kwe(bF(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(N){var S=n,k=a;return n=a=void 0,u=N,o=e.apply(k,S),o}function p(N){return u=N,l=setTimeout(y,t),d?m(N):o}function g(N){var S=N-c,k=N-u,C=t-S;return f?Gwe(C,s-k):C}function v(N){var S=N-c,k=N-u;return c===void 0||S>=t||S<0||f&&k>=s}function y(){var N=d2();if(v(N))return b(N);l=setTimeout(y,g(N))}function b(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function _(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?o:b(d2())}function j(){var N=d2(),S=v(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return p(c);if(f)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return j.cancel=_,j.flush=w,j}var Xwe=Ywe,Jwe=Xwe,Qwe=ad,Zwe="Expected a function";function eje(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Zwe);return Qwe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Jwe(e,t,{leading:n,maxWait:t,trailing:a})}var tje=eje;const fV=vr(tje);function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t,r){return t=nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nje(e){var t=aje(e,"string");return Qg(t)=="symbol"?t:t+""}function aje(e,t){if(Qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sje(e,t){return cje(e)||lje(e,t)||oje(e,t)||ije()}function ije(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oje(e,t){if(e){if(typeof e=="string")return wF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wF(e,t)}}function wF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cje(e){if(Array.isArray(e))return e}var Xl=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,p=e.debounce,g=p===void 0?0:p,v=e.id,y=e.className,b=e.onResize,_=e.style,w=_===void 0?{}:_,j=x.useRef(null),N=x.useRef();N.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=x.useState({containerWidth:a.width,containerHeight:a.height}),k=sje(S,2),C=k[0],A=k[1],P=x.useCallback(function(U,z){A(function(D){var M=Math.round(U),L=Math.round(z);return D.containerWidth===M&&D.containerHeight===L?D:{containerWidth:M,containerHeight:L}})},[]);x.useEffect(function(){var U=function(F){var X,J=F[0].contentRect,O=J.width,G=J.height;P(O,G),(X=N.current)===null||X===void 0||X.call(N,O,G)};g>0&&(U=fV(U,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(U),D=j.current.getBoundingClientRect(),M=D.width,L=D.height;return P(M,L),z.observe(j.current),function(){z.disconnect()}},[P,g]);var T=x.useMemo(function(){var U=C.containerWidth,z=C.containerHeight;if(U<0||z<0)return null;jo(Pd(o)||Pd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),jo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Pd(o)?U:o,M=Pd(c)?z:c;r&&r>0&&(D?M=D/r:M&&(D=M*r),h&&M>h&&(M=h)),jo(D>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,o,c,d,f,r);var L=!Array.isArray(m)&&nc(m.type).endsWith("Chart");return ie.Children.map(m,function(I){return ie.isValidElement(I)?x.cloneElement(I,wy({width:D,height:M},L?{style:wy({height:"100%",width:"100%",maxHeight:M,maxWidth:D},I.props.style)}:{})):I})},[r,m,c,h,f,d,C,o]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:It("recharts-responsive-container",y),style:wy(wy({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},T)}),sl=function(t){return null};sl.displayName="Cell";function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(n){uje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uje(e,t,r){return t=dje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dje(e){var t=fje(e,"string");return Zg(t)=="symbol"?t:t+""}function fje(e,t){if(Zg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nh={widthCache:{},cacheCount:0},hje=2e3,mje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},SF="recharts_measurement_span";function pje(e){var t=iC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ng=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ml.isSsr)return{width:0,height:0};var n=pje(r),a=JSON.stringify({text:t,copyStyle:n});if(nh.widthCache[a])return nh.widthCache[a];try{var s=document.getElementById(SF);s||(s=document.createElement("span"),s.setAttribute("id",SF),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=iC(iC({},mje),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return nh.widthCache[a]=c,++nh.cacheCount>hje&&(nh.cacheCount=0,nh.widthCache={}),c}catch{return{width:0,height:0}}},gje=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function wb(e,t){return bje(e)||yje(e,t)||xje(e,t)||vje()}function vje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xje(e,t){if(e){if(typeof e=="string")return NF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NF(e,t)}}function NF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bje(e){if(Array.isArray(e))return e}function _je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jje(n.key),n)}}function wje(e,t,r){return t&&kF(e.prototype,t),r&&kF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e){var t=Sje(e,"string");return ev(t)=="symbol"?t:t+""}function Sje(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cje=Object.keys(hV),Dh="NaN";function Eje(e,t){return e*hV[t]}var jy=function(){function e(t,r){_je(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Nje.test(r)&&(this.num=NaN,this.unit=""),Cje.includes(r)&&(this.num=Eje(t,r),this.unit="px")}return wje(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=kje.exec(r))!==null&&n!==void 0?n:[],s=wb(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function mV(e){if(e.includes(Dh))return Dh;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=CF.exec(t))!==null&&r!==void 0?r:[],a=wb(n,4),s=a[1],o=a[2],l=a[3],c=jy.parse(s??""),u=jy.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Dh;t=t.replace(CF,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=EF.exec(t))!==null&&f!==void 0?f:[],m=wb(h,4),p=m[1],g=m[2],v=m[3],y=jy.parse(p??""),b=jy.parse(v??""),_=g==="+"?y.add(b):y.subtract(b);if(_.isNaN())return Dh;t=t.replace(EF,_.toString())}return t}var TF=/\(([^()]*)\)/;function Tje(e){for(var t=e;t.includes("(");){var r=TF.exec(t),n=wb(r,2),a=n[1];t=t.replace(TF,mV(a))}return t}function Aje(e){var t=e.replace(/\s+/g,"");return t=Tje(t),t=mV(t),t}function Pje(e){try{return Aje(e)}catch{return Dh}}function f2(e){var t=Pje(e.slice(5,-1));return t===Dh?"":t}var Oje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Dje=["dx","dy","angle","className","breakAll"];function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oC.apply(this,arguments)}function AF(e,t){if(e==null)return{};var r=Rje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PF(e,t){return Lje(e)||Ije(e,t)||Fje(e,t)||Mje()}function Mje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fje(e,t){if(e){if(typeof e=="string")return OF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OF(e,t)}}function OF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ije(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lje(e){if(Array.isArray(e))return e}var pV=/[ \f\n\r\t\v\u2028\u2029]+/,gV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Mt(r)||(n?s=r.toString().split(""):s=r.toString().split(pV));var o=s.map(function(c){return{word:c,width:ng(c,a).width}}),l=n?0:ng("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$je=function(t,r,n,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Xe(o),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(M,L){var I=L.word,F=L.width,X=M[M.length-1];if(X&&(a==null||s||X.width+F+n<Number(a)))X.words.push(I),X.width+=F+n;else{var J={words:[I],width:F};M.push(J)}return M},[])},m=h(r),p=function(D){return D.reduce(function(M,L){return M.width>L.width?M:L})};if(!d)return m;for(var g="",v=function(D){var M=f.slice(0,D),L=gV({breakAll:u,style:c,children:M+g}).wordsWithComputedWidth,I=h(L),F=I.length>o||p(I).width>Number(a);return[F,I]},y=0,b=f.length-1,_=0,w;y<=b&&_<=f.length-1;){var j=Math.floor((y+b)/2),N=j-1,S=v(N),k=PF(S,2),C=k[0],A=k[1],P=v(j),T=PF(P,1),U=T[0];if(!C&&!U&&(y=j+1),C&&U&&(b=j-1),!C&&U){w=A;break}_++}return w||m},DF=function(t){var r=Mt(t)?[]:t.toString().split(pV);return[{words:r}]},Bje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!ml.isSsr){var c,u,d=gV({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return DF(a);return $je({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return DF(a)},RF="#808080",yf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,p=t.verticalAnchor,g=p===void 0?"end":p,v=t.fill,y=v===void 0?RF:v,b=AF(t,Oje),_=x.useMemo(function(){return Bje({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),w=b.dx,j=b.dy,N=b.angle,S=b.className,k=b.breakAll,C=AF(b,Dje);if(!Fn(n)||!Fn(s))return null;var A=n+(Xe(w)?w:0),P=s+(Xe(j)?j:0),T;switch(g){case"start":T=f2("calc(".concat(u,")"));break;case"middle":T=f2("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=f2("calc(".concat(_.length-1," * -").concat(l,")"));break}var U=[];if(f){var z=_[0].width,D=b.width;U.push("scale(".concat((Xe(D)?D/z:1)/z,")"))}return N&&U.push("rotate(".concat(N,", ").concat(A,", ").concat(P,")")),U.length&&(C.transform=U.join(" ")),ie.createElement("text",oC({},Nt(C,!0),{x:A,y:P,className:It("recharts-text",S),textAnchor:m,fill:y.includes("url")?RF:y}),_.map(function(M,L){var I=M.words.join(k?"":" ");return ie.createElement("tspan",{x:A,dy:L===0?T:l,key:"".concat(I,"-").concat(L)},I)}))};function Fu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Uje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QA(e){let t,r,n;e.length!==2?(t=Fu,r=(l,c)=>Fu(e(l),c),n=(l,c)=>e(l)-c):(t=e===Fu||e===Uje?e:zje,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function zje(){return 0}function vV(e){return e===null?NaN:+e}function*Vje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Wje=QA(Fu),hx=Wje.right;QA(vV).center;class MF extends Map{constructor(t,r=Kje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(FF(this,t))}has(t){return super.has(FF(this,t))}set(t,r){return super.set(Hje(this,t),r)}delete(t){return super.delete(qje(this,t))}}function FF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Hje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Kje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Gje(e=Fu){if(e===Fu)return xV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Yje=Math.sqrt(50),Xje=Math.sqrt(10),Jje=Math.sqrt(2);function jb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Yje?10:s>=Xje?5:s>=Jje?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?jb(e,t,r*2):[l,c,u]}function lC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?jb(t,e,r):jb(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function cC(e,t,r){return t=+t,e=+e,r=+r,jb(e,t,r)[2]}function uC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?cC(t,e,r):cC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function IF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function yV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xV:Gje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));yV(e,t,m,p,a)}const s=e[t];let o=r,l=n;for(m0(e,r,t),a(e[n],s)>0&&m0(e,r,n);o<l;){for(m0(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?m0(e,r,l):(++l,m0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function m0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Qje(e,t,r){if(e=Float64Array.from(Vje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LF(e);if(t>=1)return IF(e);var n,a=(n-1)*t,s=Math.floor(a),o=IF(yV(e,s).subarray(0,s+1)),l=LF(e.subarray(s+1));return o+(l-o)*(a-s)}}function Zje(e,t,r=vV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function eSe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Vi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Tc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dC=Symbol("implicit");function ZA(){var e=new MF,t=[],r=[],n=dC;function a(s){let o=e.get(s);if(o===void 0){if(n!==dC)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new MF;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return ZA(t,r).unknown(n)},Vi.apply(a,arguments),a}function tv(){var e=ZA().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;s=(g-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(g-p-s*(h-c))*d,o=s*(1-c),l&&(p=Math.round(p),o=Math.round(o));var v=eSe(h).map(function(y){return p+s*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Vi.apply(f(),arguments)}function bV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bV(t())},e}function ag(){return bV(tv.apply(null,arguments).paddingInner(1))}function eP(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _V(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mx(){}var rv=.7,Sb=1/rv,Qh="\\s*([+-]?\\d+)\\s*",nv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tSe=/^#([0-9a-f]{3,8})$/,rSe=new RegExp(`^rgb\\(${Qh},${Qh},${Qh}\\)$`),nSe=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),aSe=new RegExp(`^rgba\\(${Qh},${Qh},${Qh},${nv}\\)$`),sSe=new RegExp(`^rgba\\(${pl},${pl},${pl},${nv}\\)$`),iSe=new RegExp(`^hsl\\(${nv},${pl},${pl}\\)$`),oSe=new RegExp(`^hsla\\(${nv},${pl},${pl},${nv}\\)$`),$F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eP(mx,av,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BF,formatHex:BF,formatHex8:lSe,formatHsl:cSe,formatRgb:UF,toString:UF});function BF(){return this.rgb().formatHex()}function lSe(){return this.rgb().formatHex8()}function cSe(){return wV(this).formatHsl()}function UF(){return this.rgb().formatRgb()}function av(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=tSe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zF(t):r===3?new js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rSe.exec(e))?new js(t[1],t[2],t[3],1):(t=nSe.exec(e))?new js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aSe.exec(e))?Sy(t[1],t[2],t[3],t[4]):(t=sSe.exec(e))?Sy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iSe.exec(e))?HF(t[1],t[2]/100,t[3]/100,1):(t=oSe.exec(e))?HF(t[1],t[2]/100,t[3]/100,t[4]):$F.hasOwnProperty(e)?zF($F[e]):e==="transparent"?new js(NaN,NaN,NaN,0):null}function zF(e){return new js(e>>16&255,e>>8&255,e&255,1)}function Sy(e,t,r,n){return n<=0&&(e=t=r=NaN),new js(e,t,r,n)}function uSe(e){return e instanceof mx||(e=av(e)),e?(e=e.rgb(),new js(e.r,e.g,e.b,e.opacity)):new js}function fC(e,t,r,n){return arguments.length===1?uSe(e):new js(e,t,r,n??1)}function js(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}eP(js,fC,_V(mx,{brighter(e){return e=e==null?Sb:Math.pow(Sb,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rv:Math.pow(rv,e),new js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new js(Jd(this.r),Jd(this.g),Jd(this.b),Nb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VF,formatHex:VF,formatHex8:dSe,formatRgb:WF,toString:WF}));function VF(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}`}function dSe(){return`#${Od(this.r)}${Od(this.g)}${Od(this.b)}${Od((isNaN(this.opacity)?1:this.opacity)*255)}`}function WF(){const e=Nb(this.opacity);return`${e===1?"rgb(":"rgba("}${Jd(this.r)}, ${Jd(this.g)}, ${Jd(this.b)}${e===1?")":`, ${e})`}`}function Nb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Od(e){return e=Jd(e),(e<16?"0":"")+e.toString(16)}function HF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,r,n)}function wV(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof mx||(e=av(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new po(o,l,c,e.opacity)}function fSe(e,t,r,n){return arguments.length===1?wV(e):new po(e,t,r,n??1)}function po(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}eP(po,fSe,_V(mx,{brighter(e){return e=e==null?Sb:Math.pow(Sb,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rv:Math.pow(rv,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new js(h2(e>=240?e-240:e+120,a,n),h2(e,a,n),h2(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new po(qF(this.h),Ny(this.s),Ny(this.l),Nb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nb(this.opacity);return`${e===1?"hsl(":"hsla("}${qF(this.h)}, ${Ny(this.s)*100}%, ${Ny(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qF(e){return e=(e||0)%360,e<0?e+360:e}function Ny(e){return Math.max(0,Math.min(1,e||0))}function h2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tP=e=>()=>e;function hSe(e,t){return function(r){return e+r*t}}function mSe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pSe(e){return(e=+e)==1?jV:function(t,r){return r-t?mSe(t,r,e):tP(isNaN(t)?r:t)}}function jV(e,t){var r=t-e;return r?hSe(e,r):tP(isNaN(e)?t:e)}const KF=function e(t){var r=pSe(t);function n(a,s){var o=r((a=fC(a)).r,(s=fC(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=jV(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function gSe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function vSe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xSe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Up(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function ySe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function kb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function bSe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Up(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m2=new RegExp(hC.source,"g");function _Se(e){return function(){return e}}function wSe(e){return function(t){return e(t)+""}}function jSe(e,t){var r=hC.lastIndex=m2.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=hC.exec(e))&&(a=m2.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:kb(n,a)})),r=m2.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?wSe(c[0].x):_Se(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Up(e,t){var r=typeof t,n;return t==null||r==="boolean"?tP(t):(r==="number"?kb:r==="string"?(n=av(t))?(t=n,KF):jSe:t instanceof av?KF:t instanceof Date?ySe:vSe(t)?gSe:Array.isArray(t)?xSe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bSe:kb)(e,t)}function rP(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function SSe(e,t){t===void 0&&(t=e,e=Up);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function NSe(e){return function(){return e}}function Cb(e){return+e}var GF=[0,1];function rs(e){return e}function mC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NSe(isNaN(t)?NaN:.5)}function kSe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function CSe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=mC(a,n),s=r(o,s)):(n=mC(n,a),s=r(s,o)),function(l){return s(n(l))}}function ESe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=mC(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=hx(e,l,1,n)-1;return s[c](a[c](l))}}function px(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qw(){var e=GF,t=GF,r=Up,n,a,s,o=rs,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==rs&&(o=kSe(e[0],e[h-1])),l=h>2?ESe:CSe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),kb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Cb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=rP,d()},f.clamp=function(h){return arguments.length?(o=h?!0:rs,d()):o!==rs},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function nP(){return qw()(rs,rs)}function TSe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Eb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $m(e){return e=Eb(Math.abs(e)),e?e[1]:NaN}function ASe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function PSe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var OSe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sv(e){if(!(t=OSe.exec(e)))throw new Error("invalid format: "+e);var t;return new aP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sv.prototype=aP.prototype;function aP(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DSe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var SV;function RSe(e,t){var r=Eb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(SV=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Eb(e,Math.max(0,t+s-1))[0]}function YF(e,t){var r=Eb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TSe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YF(e*100,t),r:YF,s:RSe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JF(e){return e}var QF=Array.prototype.map,ZF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MSe(e){var t=e.grouping===void 0||e.thousands===void 0?JF:ASe(QF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?JF:PSe(QF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sv(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,_=f.precision,w=f.trim,j=f.type;j==="n"?(b=!0,j="g"):XF[j]||(_===void 0&&(_=12),w=!0,j="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var N=g==="$"?r:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=g==="$"?n:/[%p]/.test(j)?o:"",k=XF[j],C=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function A(P){var T=N,U=S,z,D,M;if(j==="c")U=k(P)+U,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?c:k(Math.abs(P),_),w&&(P=DSe(P)),L&&+P==0&&p!=="+"&&(L=!1),T=(L?p==="("?p:l:p==="-"||p==="("?"":p)+T,U=(j==="s"?ZF[8+SV/3]:"")+U+(L&&p==="("?")":""),C){for(z=-1,D=P.length;++z<D;)if(M=P.charCodeAt(z),48>M||M>57){U=(M===46?a+P.slice(z+1):P.slice(z))+U,P=P.slice(0,z);break}}}b&&!v&&(P=t(P,1/0));var I=T.length+P.length+U.length,F=I<y?new Array(y-I+1).join(h):"";switch(b&&v&&(P=t(F+P,F.length?y-U.length:1/0),F=""),m){case"<":P=T+P+U+F;break;case"=":P=T+F+P+U;break;case"^":P=F.slice(0,I=F.length>>1)+T+P+U+F.slice(I);break;default:P=F+T+P+U;break}return s(P)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=sv(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor($m(h)/3)))*3,g=Math.pow(10,-p),v=ZF[8+p/3];return function(y){return m(g*y)+v}}return{format:u,formatPrefix:d}}var ky,sP,NV;FSe({thousands:",",grouping:[3],currency:["$",""]});function FSe(e){return ky=MSe(e),sP=ky.format,NV=ky.formatPrefix,ky}function ISe(e){return Math.max(0,-$m(Math.abs(e)))}function LSe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($m(t)/3)))*3-$m(Math.abs(e)))}function $Se(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$m(t)-$m(e))+1}function kV(e,t,r,n){var a=uC(e,t,r),s;switch(n=sv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=LSe(a,o))&&(n.precision=s),NV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=$Se(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ISe(a))&&(n.precision=s-(n.type==="%")*2);break}}return sP(n)}function sd(e){var t=e.domain;return e.ticks=function(r){var n=t();return lC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return kV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=cC(o,l,r),u===c)return n[a]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Tb(){var e=nP();return e.copy=function(){return px(e,Tb())},Vi.apply(e,arguments),sd(e)}function CV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Cb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CV(e).unknown(t)},e=arguments.length?Array.from(e,Cb):[0,1],sd(r)}function EV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function e3(e){return Math.log(e)}function t3(e){return Math.exp(e)}function BSe(e){return-Math.log(-e)}function USe(e){return-Math.exp(-e)}function zSe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VSe(e){return e===10?zSe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function WSe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function r3(e){return(t,r)=>-e(-t,r)}function iP(e){const t=e(e3,t3),r=t.domain;let n=10,a,s;function o(){return a=WSe(n),s=VSe(n),r()[0]<0?(a=r3(a),s=r3(s),e(BSe,USe)):e(e3,t3),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),p,g;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/s(-h):p*s(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<v&&(y=lC(u,d,v))}else y=lC(h,m,Math.min(m-h,v)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sv(c)).precision==null&&(c.trim=!0),c=sP(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(EV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function TV(){const e=iP(qw()).domain([1,10]);return e.copy=()=>px(e,TV()).base(e.base()),Vi.apply(e,arguments),e}function n3(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function a3(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oP(e){var t=1,r=e(n3(t),a3(t));return r.constant=function(n){return arguments.length?e(n3(t=+n),a3(t)):t},sd(r)}function AV(){var e=oP(qw());return e.copy=function(){return px(e,AV()).constant(e.constant())},Vi.apply(e,arguments)}function s3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HSe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qSe(e){return e<0?-e*e:e*e}function lP(e){var t=e(rs,rs),r=1;function n(){return r===1?e(rs,rs):r===.5?e(HSe,qSe):e(s3(r),s3(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},sd(t)}function cP(){var e=lP(qw());return e.copy=function(){return px(e,cP()).exponent(e.exponent())},Vi.apply(e,arguments),e}function KSe(){return cP.apply(null,arguments).exponent(.5)}function i3(e){return Math.sign(e)*e*e}function GSe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function PV(){var e=nP(),t=[0,1],r=!1,n;function a(s){var o=GSe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(i3(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Cb)).map(i3)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return PV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vi.apply(a,arguments),sd(a)}function OV(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Zje(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[hx(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Fu),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return OV().domain(e).range(t).unknown(n)},Vi.apply(s,arguments)}function DV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[hx(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return DV().domain([e,t]).range(a).unknown(s)},Vi.apply(sd(o),arguments)}function RV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[hx(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return RV().domain(e).range(t).unknown(r)},Vi.apply(a,arguments)}const p2=new Date,g2=new Date;function Bn(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>Bn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(p2.setTime(+s),g2.setTime(+o),e(p2),e(g2),Math.floor(r(p2,g2))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const Ab=Bn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ab.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Bn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ab);Ab.range;const Jl=1e3,Oi=Jl*60,Ql=Oi*60,yc=Ql*24,uP=yc*7,o3=yc*30,v2=yc*365,Dd=Bn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Jl)},(e,t)=>(t-e)/Jl,e=>e.getUTCSeconds());Dd.range;const dP=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jl)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getMinutes());dP.range;const fP=Bn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCMinutes());fP.range;const hP=Bn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Jl-e.getMinutes()*Oi)},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getHours());hP.range;const mP=Bn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ql)},(e,t)=>(t-e)/Ql,e=>e.getUTCHours());mP.range;const gx=Bn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/yc,e=>e.getDate()-1);gx.range;const Kw=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>e.getUTCDate()-1);Kw.range;const MV=Bn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yc,e=>Math.floor(e/yc));MV.range;function Ff(e){return Bn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/uP)}const Gw=Ff(0),Pb=Ff(1),YSe=Ff(2),XSe=Ff(3),Bm=Ff(4),JSe=Ff(5),QSe=Ff(6);Gw.range;Pb.range;YSe.range;XSe.range;Bm.range;JSe.range;QSe.range;function If(e){return Bn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/uP)}const Yw=If(0),Ob=If(1),ZSe=If(2),e2e=If(3),Um=If(4),t2e=If(5),r2e=If(6);Yw.range;Ob.range;ZSe.range;e2e.range;Um.range;t2e.range;r2e.range;const pP=Bn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pP.range;const gP=Bn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gP.range;const bc=Bn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bc.range;const _c=Bn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Bn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_c.range;function FV(e,t,r,n,a,s){const o=[[Dd,1,Jl],[Dd,5,5*Jl],[Dd,15,15*Jl],[Dd,30,30*Jl],[s,1,Oi],[s,5,5*Oi],[s,15,15*Oi],[s,30,30*Oi],[a,1,Ql],[a,3,3*Ql],[a,6,6*Ql],[a,12,12*Ql],[n,1,yc],[n,2,2*yc],[r,1,uP],[t,1,o3],[t,3,3*o3],[e,1,v2]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=QA(([,,v])=>v).right(o,h);if(m===o.length)return e.every(uC(u/v2,d/v2,f));if(m===0)return Ab.every(Math.max(uC(u,d,f),1));const[p,g]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return p.every(g)}return[l,c]}const[n2e,a2e]=FV(_c,gP,Yw,MV,mP,fP),[s2e,i2e]=FV(bc,pP,Gw,gx,hP,dP);function x2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function p0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function o2e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=g0(a),d=v0(a),f=g0(s),h=v0(s),m=g0(o),p=v0(o),g=g0(l),v=v0(l),y=g0(c),b=v0(c),_={a:L,A:I,b:F,B:X,c:null,d:h3,e:h3,f:A2e,g:B2e,G:z2e,H:C2e,I:E2e,j:T2e,L:IV,m:P2e,M:O2e,p:J,q:O,Q:g3,s:v3,S:D2e,u:R2e,U:M2e,V:F2e,w:I2e,W:L2e,x:null,X:null,y:$2e,Y:U2e,Z:V2e,"%":p3},w={a:G,A:V,b:K,B:re,c:null,d:m3,e:m3,f:K2e,g:nNe,G:sNe,H:W2e,I:H2e,j:q2e,L:$V,m:G2e,M:Y2e,p:ue,q:_e,Q:g3,s:v3,S:X2e,u:J2e,U:Q2e,V:Z2e,w:eNe,W:tNe,x:null,X:null,y:rNe,Y:aNe,Z:iNe,"%":p3},j={a:A,A:P,b:T,B:U,c:z,d:d3,e:d3,f:j2e,g:u3,G:c3,H:f3,I:f3,j:y2e,L:w2e,m:x2e,M:b2e,p:C,q:v2e,Q:N2e,s:k2e,S:_2e,u:f2e,U:h2e,V:m2e,w:d2e,W:p2e,x:D,X:M,y:u3,Y:c3,Z:g2e,"%":S2e};_.x=N(r,_),_.X=N(n,_),_.c=N(t,_),w.x=N(r,w),w.X=N(n,w),w.c=N(t,w);function N(W,Z){return function(pe){var E=[],xe=-1,Te=0,Ue=W.length,ze,Se,et;for(pe instanceof Date||(pe=new Date(+pe));++xe<Ue;)W.charCodeAt(xe)===37&&(E.push(W.slice(Te,xe)),(Se=l3[ze=W.charAt(++xe)])!=null?ze=W.charAt(++xe):Se=ze==="e"?" ":"0",(et=Z[ze])&&(ze=et(pe,Se)),E.push(ze),Te=xe+1);return E.push(W.slice(Te,xe)),E.join("")}}function S(W,Z){return function(pe){var E=p0(1900,void 0,1),xe=k(E,W,pe+="",0),Te,Ue;if(xe!=pe.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(Z&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(Te=y2(p0(E.y,0,1)),Ue=Te.getUTCDay(),Te=Ue>4||Ue===0?Ob.ceil(Te):Ob(Te),Te=Kw.offset(Te,(E.V-1)*7),E.y=Te.getUTCFullYear(),E.m=Te.getUTCMonth(),E.d=Te.getUTCDate()+(E.w+6)%7):(Te=x2(p0(E.y,0,1)),Ue=Te.getDay(),Te=Ue>4||Ue===0?Pb.ceil(Te):Pb(Te),Te=gx.offset(Te,(E.V-1)*7),E.y=Te.getFullYear(),E.m=Te.getMonth(),E.d=Te.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),Ue="Z"in E?y2(p0(E.y,0,1)).getUTCDay():x2(p0(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(Ue+5)%7:E.w+E.U*7-(Ue+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,y2(E)):x2(E)}}function k(W,Z,pe,E){for(var xe=0,Te=Z.length,Ue=pe.length,ze,Se;xe<Te;){if(E>=Ue)return-1;if(ze=Z.charCodeAt(xe++),ze===37){if(ze=Z.charAt(xe++),Se=j[ze in l3?Z.charAt(xe++):ze],!Se||(E=Se(W,pe,E))<0)return-1}else if(ze!=pe.charCodeAt(E++))return-1}return E}function C(W,Z,pe){var E=u.exec(Z.slice(pe));return E?(W.p=d.get(E[0].toLowerCase()),pe+E[0].length):-1}function A(W,Z,pe){var E=m.exec(Z.slice(pe));return E?(W.w=p.get(E[0].toLowerCase()),pe+E[0].length):-1}function P(W,Z,pe){var E=f.exec(Z.slice(pe));return E?(W.w=h.get(E[0].toLowerCase()),pe+E[0].length):-1}function T(W,Z,pe){var E=y.exec(Z.slice(pe));return E?(W.m=b.get(E[0].toLowerCase()),pe+E[0].length):-1}function U(W,Z,pe){var E=g.exec(Z.slice(pe));return E?(W.m=v.get(E[0].toLowerCase()),pe+E[0].length):-1}function z(W,Z,pe){return k(W,t,Z,pe)}function D(W,Z,pe){return k(W,r,Z,pe)}function M(W,Z,pe){return k(W,n,Z,pe)}function L(W){return o[W.getDay()]}function I(W){return s[W.getDay()]}function F(W){return c[W.getMonth()]}function X(W){return l[W.getMonth()]}function J(W){return a[+(W.getHours()>=12)]}function O(W){return 1+~~(W.getMonth()/3)}function G(W){return o[W.getUTCDay()]}function V(W){return s[W.getUTCDay()]}function K(W){return c[W.getUTCMonth()]}function re(W){return l[W.getUTCMonth()]}function ue(W){return a[+(W.getUTCHours()>=12)]}function _e(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Z=N(W+="",_);return Z.toString=function(){return W},Z},parse:function(W){var Z=S(W+="",!1);return Z.toString=function(){return W},Z},utcFormat:function(W){var Z=N(W+="",w);return Z.toString=function(){return W},Z},utcParse:function(W){var Z=S(W+="",!0);return Z.toString=function(){return W},Z}}}var l3={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,l2e=/^%/,c2e=/[\\^$*+?|[\]().{}]/g;function cr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function u2e(e){return e.replace(c2e,"\\$&")}function g0(e){return new RegExp("^(?:"+e.map(u2e).join("|")+")","i")}function v0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function d2e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function f2e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function h2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function m2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function p2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function c3(e,t,r){var n=Xn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function u3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function g2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function v2e(e,t,r){var n=Xn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function d3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function y2e(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function f3(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function b2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function _2e(e,t,r){var n=Xn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function w2e(e,t,r){var n=Xn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function j2e(e,t,r){var n=Xn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function S2e(e,t,r){var n=l2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function N2e(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function k2e(e,t,r){var n=Xn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function h3(e,t){return cr(e.getDate(),t,2)}function C2e(e,t){return cr(e.getHours(),t,2)}function E2e(e,t){return cr(e.getHours()%12||12,t,2)}function T2e(e,t){return cr(1+gx.count(bc(e),e),t,3)}function IV(e,t){return cr(e.getMilliseconds(),t,3)}function A2e(e,t){return IV(e,t)+"000"}function P2e(e,t){return cr(e.getMonth()+1,t,2)}function O2e(e,t){return cr(e.getMinutes(),t,2)}function D2e(e,t){return cr(e.getSeconds(),t,2)}function R2e(e){var t=e.getDay();return t===0?7:t}function M2e(e,t){return cr(Gw.count(bc(e)-1,e),t,2)}function LV(e){var t=e.getDay();return t>=4||t===0?Bm(e):Bm.ceil(e)}function F2e(e,t){return e=LV(e),cr(Bm.count(bc(e),e)+(bc(e).getDay()===4),t,2)}function I2e(e){return e.getDay()}function L2e(e,t){return cr(Pb.count(bc(e)-1,e),t,2)}function $2e(e,t){return cr(e.getFullYear()%100,t,2)}function B2e(e,t){return e=LV(e),cr(e.getFullYear()%100,t,2)}function U2e(e,t){return cr(e.getFullYear()%1e4,t,4)}function z2e(e,t){var r=e.getDay();return e=r>=4||r===0?Bm(e):Bm.ceil(e),cr(e.getFullYear()%1e4,t,4)}function V2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+cr(t/60|0,"0",2)+cr(t%60,"0",2)}function m3(e,t){return cr(e.getUTCDate(),t,2)}function W2e(e,t){return cr(e.getUTCHours(),t,2)}function H2e(e,t){return cr(e.getUTCHours()%12||12,t,2)}function q2e(e,t){return cr(1+Kw.count(_c(e),e),t,3)}function $V(e,t){return cr(e.getUTCMilliseconds(),t,3)}function K2e(e,t){return $V(e,t)+"000"}function G2e(e,t){return cr(e.getUTCMonth()+1,t,2)}function Y2e(e,t){return cr(e.getUTCMinutes(),t,2)}function X2e(e,t){return cr(e.getUTCSeconds(),t,2)}function J2e(e){var t=e.getUTCDay();return t===0?7:t}function Q2e(e,t){return cr(Yw.count(_c(e)-1,e),t,2)}function BV(e){var t=e.getUTCDay();return t>=4||t===0?Um(e):Um.ceil(e)}function Z2e(e,t){return e=BV(e),cr(Um.count(_c(e),e)+(_c(e).getUTCDay()===4),t,2)}function eNe(e){return e.getUTCDay()}function tNe(e,t){return cr(Ob.count(_c(e)-1,e),t,2)}function rNe(e,t){return cr(e.getUTCFullYear()%100,t,2)}function nNe(e,t){return e=BV(e),cr(e.getUTCFullYear()%100,t,2)}function aNe(e,t){return cr(e.getUTCFullYear()%1e4,t,4)}function sNe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Um(e):Um.ceil(e),cr(e.getUTCFullYear()%1e4,t,4)}function iNe(){return"+0000"}function p3(){return"%"}function g3(e){return+e}function v3(e){return Math.floor(+e/1e3)}var ah,UV,zV;oNe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function oNe(e){return ah=o2e(e),UV=ah.format,ah.parse,zV=ah.utcFormat,ah.utcParse,ah}function lNe(e){return new Date(e)}function cNe(e){return e instanceof Date?+e:+new Date(+e)}function vP(e,t,r,n,a,s,o,l,c,u){var d=nP(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),w=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?p:o(N)<N?g:s(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?_:w)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,cNe)):h().map(lNe)},d.ticks=function(N){var S=h();return e(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=h();return(!N||typeof N.range!="function")&&(N=t(S[0],S[S.length-1],N??10)),N?h(EV(S,N)):d},d.copy=function(){return px(d,vP(e,t,r,n,a,s,o,l,c,u))},d}function uNe(){return Vi.apply(vP(s2e,i2e,bc,pP,Gw,gx,hP,dP,Dd,UV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dNe(){return Vi.apply(vP(n2e,a2e,_c,gP,Yw,Kw,mP,fP,Dd,zV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xw(){var e=0,t=1,r,n,a,s,o=rs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,o=f(m,p),u):[o(0),o(1)]}}return u.range=d(Up),u.rangeRound=d(rP),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function id(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VV(){var e=sd(Xw()(rs));return e.copy=function(){return id(e,VV())},Tc.apply(e,arguments)}function WV(){var e=iP(Xw()).domain([1,10]);return e.copy=function(){return id(e,WV()).base(e.base())},Tc.apply(e,arguments)}function HV(){var e=oP(Xw());return e.copy=function(){return id(e,HV()).constant(e.constant())},Tc.apply(e,arguments)}function xP(){var e=lP(Xw());return e.copy=function(){return id(e,xP()).exponent(e.exponent())},Tc.apply(e,arguments)}function fNe(){return xP.apply(null,arguments).exponent(.5)}function qV(){var e=[],t=rs;function r(n){if(n!=null&&!isNaN(n=+n))return t((hx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Fu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Qje(e,s/n))},r.copy=function(){return qV(t).domain(e)},Tc.apply(r,arguments)}function Jw(){var e=0,t=.5,r=1,n=1,a,s,o,l,c,u=rs,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-s)*(n*g<n*s?l:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=d(e=+e),s=d(t=+t),o=d(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function p(g){return function(v){var y,b,_;return arguments.length?([y,b,_]=v,u=SSe(g,[y,b,_]),m):[u(0),u(.5),u(1)]}}return m.range=p(Up),m.rangeRound=p(rP),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,a=g(e),s=g(t),o=g(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,m}}function KV(){var e=sd(Jw()(rs));return e.copy=function(){return id(e,KV())},Tc.apply(e,arguments)}function GV(){var e=iP(Jw()).domain([.1,1,10]);return e.copy=function(){return id(e,GV()).base(e.base())},Tc.apply(e,arguments)}function YV(){var e=oP(Jw());return e.copy=function(){return id(e,YV()).constant(e.constant())},Tc.apply(e,arguments)}function yP(){var e=lP(Jw());return e.copy=function(){return id(e,yP()).exponent(e.exponent())},Tc.apply(e,arguments)}function hNe(){return yP.apply(null,arguments).exponent(.5)}const x3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tv,scaleDiverging:KV,scaleDivergingLog:GV,scaleDivergingPow:yP,scaleDivergingSqrt:hNe,scaleDivergingSymlog:YV,scaleIdentity:CV,scaleImplicit:dC,scaleLinear:Tb,scaleLog:TV,scaleOrdinal:ZA,scalePoint:ag,scalePow:cP,scaleQuantile:OV,scaleQuantize:DV,scaleRadial:PV,scaleSequential:VV,scaleSequentialLog:WV,scaleSequentialPow:xP,scaleSequentialQuantile:qV,scaleSequentialSqrt:fNe,scaleSequentialSymlog:HV,scaleSqrt:KSe,scaleSymlog:AV,scaleThreshold:RV,scaleTime:uNe,scaleUtc:dNe,tickFormat:kV},Symbol.toStringTag,{value:"Module"}));var mNe=Op;function pNe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(o!=null&&(l===void 0?o===o&&!mNe(o):r(o,l)))var l=o,c=s}return c}var Qw=pNe;function gNe(e,t){return e>t}var XV=gNe,vNe=Qw,xNe=XV,yNe=Bp;function bNe(e){return e&&e.length?vNe(e,yNe,xNe):void 0}var _Ne=bNe;const Zw=vr(_Ne);function wNe(e,t){return e<t}var JV=wNe,jNe=Qw,SNe=JV,NNe=Bp;function kNe(e){return e&&e.length?jNe(e,NNe,SNe):void 0}var CNe=kNe;const ej=vr(CNe);var ENe=DA,TNe=Al,ANe=sV,PNe=Us;function ONe(e,t){var r=PNe(e)?ENe:ANe;return r(e,TNe(t))}var DNe=ONe,RNe=nV,MNe=DNe;function FNe(e,t){return RNe(MNe(e,t),1)}var INe=FNe;const LNe=vr(INe);var $Ne=GA;function BNe(e,t){return $Ne(e,t)}var UNe=BNe;const vx=vr(UNe);var zp=1e9,zNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_P,Ur=!0,$i="[DecimalError] ",Qd=$i+"Invalid argument: ",bP=$i+"Exponent out of range: ",Vp=Math.floor,_d=Math.pow,VNe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ei,Vn=1e7,Fr=7,QV=9007199254740991,Db=Vp(QV/Fr),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ft.dividedBy=ft.div=function(e){return ac(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,r=t.constructor;return Nr(ac(t,new r(e),0,1),r.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return _n(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ei))throw Error($i+"NaN");if(r.s<1)throw Error($i+(r.s?"NaN":"-Infinity"));return r.eq(ei)?new n(0):(Ur=!1,t=ac(iv(r,s),iv(e,s),s),Ur=!0,Nr(t,a))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tW(t,e):ZV(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error($i+"NaN");return r.s?(Ur=!1,t=ac(r,e,0,1).times(e),Ur=!0,r.minus(t)):Nr(new n(r),a)};ft.naturalExponential=ft.exp=function(){return eW(this)};ft.naturalLogarithm=ft.ln=function(){return iv(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZV(t,e):tW(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Qd+e);if(t=_n(a)+1,n=a.d.length-1,r=n*Fr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ft.squareRoot=ft.sqrt=function(){var e,t,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($i+"NaN")}for(e=_n(l),Ur=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=cl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(ac(l,s,o+2)).times(.5),cl(s.d).slice(0,o)===(t=cl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Nr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ur=!0,Nr(n,r)};ft.times=ft.mul=function(e){var t,r,n,a,s,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%Vn|0,t=l/Vn|0;s[a]=(s[a]+t)%Vn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ur?Nr(e,f.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(jl(e,0,zp),t===void 0?t=n.rounding:jl(t,0,8),Nr(r,e+_n(r)+1,t))};ft.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bf(n,!0):(jl(e,0,zp),t===void 0?t=a.rounding:jl(t,0,8),n=Nr(new a(n),e+1,t),r=bf(n,!0,e+1)),r};ft.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?bf(a):(jl(e,0,zp),t===void 0?t=s.rounding:jl(t,0,8),n=Nr(new s(a),e+_n(a)+1,t),r=bf(n.abs(),!1,e+_n(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return Nr(new t(e),_n(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,r,n,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ei);if(l=new c(l),!l.s){if(e.s<1)throw Error($i+"Infinity");return l}if(l.eq(ei))return l;if(n=c.precision,e.eq(ei))return Nr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=d<0?-d:d)<=QV){for(a=new c(ei),t=Math.ceil(n/Fr+4),Ur=!1;r%2&&(a=a.times(l),b3(a.d,t)),r=Vp(r/2),r!==0;)l=l.times(l),b3(l.d,t);return Ur=!0,e.s<0?new c(ei).div(a):Nr(a,n)}}else if(s<0)throw Error($i+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ur=!1,a=e.times(iv(l,n+u)),Ur=!0,a=eW(a),a.s=s,a};ft.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=_n(a),n=bf(a,r<=s.toExpNeg||r>=s.toExpPos)):(jl(e,1,zp),t===void 0?t=s.rounding:jl(t,0,8),a=Nr(new s(a),e,t),r=_n(a),n=bf(a,e<=r||r<=s.toExpNeg,e)),n};ft.toSignificantDigits=ft.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(jl(e,1,zp),t===void 0?t=n.rounding:jl(t,0,8)),Nr(new n(r),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_n(e),r=e.constructor;return bf(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZV(e,t){var r,n,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ur?Nr(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Fr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Vn|0,c[s]%=Vn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ur?Nr(t,f):t}function jl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Qd+e)}function cl(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Fr-n.length,r&&(s+=Yc(r)),s+=n;o=e[t],n=o+"",r=Fr-n.length,r&&(s+=Yc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ac=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Vn|0,o=s/Vn|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Vn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,d,f,h,m,p,g,v,y,b,_,w,j,N,S,k,C=n.constructor,A=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new C(n);if(!a.s)throw Error($i+"Division by zero");for(c=n.e-a.e,S=T.length,j=P.length,m=new C(A),p=m.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,s==null?b=s=C.precision:o?b=s+(_n(n)-_n(a))+1:b=s,b<0)return new C(0);if(b=b/Fr+2|0,u=0,S==1)for(d=0,T=T[0],b++;(u<j||d)&&b--;u++)_=d*Vn+(P[u]||0),p[u]=_/T|0,d=_%T|0;else{for(d=Vn/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),S=T.length,j=P.length),w=S,g=P.slice(0,S),v=g.length;v<S;)g[v++]=0;k=T.slice(),k.unshift(0),N=T[0],T[1]>=Vn/2&&++N;do d=0,l=t(T,g,S,v),l<0?(y=g[0],S!=v&&(y=y*Vn+(g[1]||0)),d=y/N|0,d>1?(d>=Vn&&(d=Vn-1),f=e(T,d),h=f.length,v=g.length,l=t(f,g,h,v),l==1&&(d--,r(f,S<h?k:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),l==-1&&(v=g.length,l=t(T,g,S,v),l<1&&(d++,r(g,S<v?k:T,v))),v=g.length):l===0&&(d++,g=[0]),p[u++]=d,l&&g[0]?g[v++]=P[w]||0:(g=[P[w]],v=1);while((w++<j||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=c,Nr(m,o?s+_n(m)+1:s)}}();function eW(e,t){var r,n,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(_n(e)>16)throw Error(bP+_n(e));if(!e.s)return new d(ei);for(t==null?(Ur=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(_d(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(ei),d.precision=l;;){if(a=Nr(a.times(e),l),r=r.times(++c),o=s.plus(ac(a,r,l)),cl(o.d).slice(0,l)===cl(s.d).slice(0,l)){for(;u--;)s=Nr(s.times(s),l);return d.precision=f,t==null?(Ur=!0,Nr(s,f)):s}s=o}}function _n(e){for(var t=e.e*Fr,r=e.d[0];r>=10;r/=10)t++;return t}function b2(e,t,r){if(t>e.LN10.sd())throw Ur=!0,r&&(e.precision=r),Error($i+"LN10 precision limit exceeded");return Nr(new e(e.LN10),t)}function Yc(e){for(var t="";e--;)t+="0";return t}function iv(e,t){var r,n,a,s,o,l,c,u,d,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error($i+(m.s?"NaN":"-Infinity"));if(m.eq(ei))return new g(0);if(t==null?(Ur=!1,u=v):u=t,m.eq(10))return t==null&&(Ur=!0),b2(g,u);if(u+=h,g.precision=u,r=cl(p),n=r.charAt(0),s=_n(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=cl(m.d),n=r.charAt(0),f++;s=_n(m),n>1?(m=new g("0."+r),s++):m=new g(n+"."+r.slice(1))}else return c=b2(g,u+2,v).times(s+""),m=iv(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Ur=!0,Nr(m,v)):m;for(l=o=m=ac(m.minus(ei),m.plus(ei),u),d=Nr(m.times(m),u),a=3;;){if(o=Nr(o.times(d),u),c=l.plus(ac(o,new g(a),u)),cl(c.d).slice(0,u)===cl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(b2(g,u+2,v).times(s+""))),l=ac(l,new g(f),u),g.precision=v,t==null?(Ur=!0,Nr(l,v)):l;l=c,a+=2}}function y3(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vp(r/Fr),e.d=[],n=(r+1)%Fr,r<0&&(n+=Fr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fr;n<a;)e.d.push(+t.slice(n,n+=Fr));t=t.slice(n),n=Fr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ur&&(e.e>Db||e.e<-Db))throw Error(bP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nr(e,t,r){var n,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Fr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fr),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=Fr,a=n-Fr+o}if(r!==void 0&&(s=_d(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/_d(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=_n(e),f.length=1,t=t-s-1,f[0]=_d(10,(Fr-t%Fr)%Fr),e.e=Vp(-t/Fr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=_d(10,Fr-n),f[d]=a>0?(u/_d(10,o-a)%_d(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Vn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Vn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ur&&(e.e>Db||e.e<-Db))throw Error(bP+_n(e));return e}function tW(e,t){var r,n,a,s,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ur?Nr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Fr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=Vn-1;--c[s],c[a]+=Vn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ur?Nr(t,m):t):new h(0)}function bf(e,t,r){var n,a=_n(e),s=cl(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Yc(-a-1)+s,r&&(n=r-o)>0&&(s+=Yc(n))):a>=o?(s+=Yc(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Yc(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Yc(n))),e.s<0?"-"+s:s}function b3(e,t){if(e.length>t)return e.length=t,!0}function rW(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return y3(o,s.toString())}else if(typeof s!="string")throw Error(Qd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,VNe.test(s))y3(o,s);else throw Error(Qd+s)}if(a.prototype=ft,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rW,a.config=a.set=WNe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function WNe(e){if(!e||typeof e!="object")throw Error($i+"Object expected");var t,r,n,a=["precision",1,zp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Qd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Qd+r+": "+n);return this}var _P=rW(zNe);ei=new _P(1);const Sr=_P;function HNe(e){return YNe(e)||GNe(e)||KNe(e)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(e,t){if(e){if(typeof e=="string")return pC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(e,t)}}function GNe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function YNe(e){if(Array.isArray(e))return pC(e)}function pC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XNe=function(t){return t},nW={"@@functional/placeholder":!0},aW=function(t){return t===nW},_3=function(t){return function r(){return arguments.length===0||arguments.length===1&&aW(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},JNe=function e(t,r){return t===1?r:_3(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==nW}).length;return o>=t?r.apply(void 0,a):e(t-o,_3(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return aW(f)?c.shift():f});return r.apply(void 0,HNe(d).concat(c))}))})},tj=function(t){return JNe(t.length,t)},gC=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},QNe=tj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ZNe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XNe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},vC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},sW=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function eke(e){var t;return e===0?t=1:t=Math.floor(new Sr(e).abs().log(10).toNumber())+1,t}function tke(e,t,r){for(var n=new Sr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var rke=tj(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),nke=tj(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),ake=tj(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const rj={rangeStep:tke,getDigitCount:eke,interpolateNumber:rke,uninterpolateNumber:nke,uninterpolateTruncation:ake};function xC(e){return oke(e)||ike(e)||iW(e)||ske()}function ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ike(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function oke(e){if(Array.isArray(e))return yC(e)}function ov(e,t){return uke(e)||cke(e,t)||iW(e,t)||lke()}function lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iW(e,t){if(e){if(typeof e=="string")return yC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(e,t)}}function yC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function uke(e){if(Array.isArray(e))return e}function oW(e){var t=ov(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function lW(e,t,r){if(e.lte(0))return new Sr(0);var n=rj.getDigitCount(e.toNumber()),a=new Sr(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new Sr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Sr(Math.ceil(c))}function dke(e,t,r){var n=1,a=new Sr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new Sr(10).pow(rj.getDigitCount(e)-1),a=new Sr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Sr(Math.floor(e)))}else e===0?a=new Sr(Math.floor((t-1)/2)):r||(a=new Sr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZNe(QNe(function(c){return a.add(new Sr(c-o).mul(n)).toNumber()}),gC);return l(0,t)}function cW(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Sr(0),tickMin:new Sr(0),tickMax:new Sr(0)};var s=lW(new Sr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Sr(0):(o=new Sr(e).add(t).div(2),o=o.sub(new Sr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Sr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?cW(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Sr(l).mul(s)),tickMax:o.add(new Sr(c).mul(s))})}function fke(e){var t=ov(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=oW([r,n]),c=ov(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xC(gC(0,a-1).map(function(){return 1/0}))):[].concat(xC(gC(0,a-1).map(function(){return-1/0})),[d]);return r>n?vC(f):f}if(u===d)return dke(u,a,s);var h=cW(u,d,o,s),m=h.step,p=h.tickMin,g=h.tickMax,v=rj.rangeStep(p,g.add(new Sr(.1).mul(m)),m);return r>n?vC(v):v}function hke(e,t){var r=ov(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=oW([n,a]),l=ov(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=lW(new Sr(u).sub(c).div(d-1),s,0),h=[].concat(xC(rj.rangeStep(new Sr(c),new Sr(u).sub(new Sr(.99).mul(f)),f)),[u]);return n>a?vC(h):h}var mke=sW(fke),pke=sW(hke),gke="Invariant failed";function _f(e,t){throw new Error(gke)}var vke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(this,arguments)}function xke(e,t){return wke(e)||_ke(e,t)||bke(e,t)||yke()}function yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bke(e,t){if(e){if(typeof e=="string")return w3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w3(e,t)}}function w3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _ke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function wke(e){if(Array.isArray(e))return e}function jke(e,t){if(e==null)return{};var r=Ske(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ske(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fW(n.key),n)}}function Cke(e,t,r){return t&&kke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eke(e,t,r){return t=Mb(t),Tke(e,uW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function Tke(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ake(e)}function Ake(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function Pke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bC(e,t)}function dW(e,t,r){return t=fW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(e){var t=Oke(e,"string");return zm(t)=="symbol"?t:t+""}function Oke(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xx=function(e){function t(){return Nke(this,t),Eke(this,t,arguments)}return Pke(t,e),Cke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=jke(n,vke),m=Nt(h,!1);this.props.direction==="x"&&d.type!=="number"&&_f();var p=c.map(function(g){var v=u(g,l),y=v.x,b=v.y,_=v.value,w=v.errorVal;if(!w)return null;var j=[],N,S;if(Array.isArray(w)){var k=xke(w,2);N=k[0],S=k[1]}else N=S=w;if(s==="vertical"){var C=d.scale,A=b+a,P=A+o,T=A-o,U=C(_-N),z=C(_+S);j.push({x1:z,y1:P,x2:z,y2:T}),j.push({x1:U,y1:A,x2:z,y2:A}),j.push({x1:U,y1:P,x2:U,y2:T})}else if(s==="horizontal"){var D=f.scale,M=y+a,L=M-o,I=M+o,F=D(_-N),X=D(_+S);j.push({x1:L,y1:X,x2:I,y2:X}),j.push({x1:M,y1:F,x2:M,y2:X}),j.push({x1:L,y1:F,x2:I,y2:F})}return ie.createElement(lr,Rb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),j.map(function(J){return ie.createElement("line",Rb({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return ie.createElement(lr,{className:"recharts-errorBars"},p)}}])}(ie.Component);dW(xx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});dW(xx,"displayName","ErrorBar");function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function j3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j3(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=Rke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rke(e){var t=Mke(e,"string");return lv(t)=="symbol"?t:t+""}function Mke(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Ys(r,li);if(!o)return null;var l=li.defaultProps,c=l!==void 0?hd(hd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,p=m.sectors||m.data||[];return d.concat(p.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?hd(hd({},h),f.props):{},p=m.dataKey,g=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:p,type:c.iconType||v||"square",color:wP(f),value:g||p,payload:m}}),hd(hd(hd({},c),li.getWithHeight(o,a)),{},{payload:u,item:o})};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}function S3(e){return $ke(e)||Lke(e)||Ike(e)||Fke()}function Fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ike(e,t){if(e){if(typeof e=="string")return _C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(e,t)}}function Lke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $ke(e){if(Array.isArray(e))return _C(e)}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e,t,r){return t=Bke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bke(e){var t=Uke(e,"string");return cv(t)=="symbol"?t:t+""}function Uke(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,r){return Mt(e)||Mt(t)?r:Fn(t)?ii(e,t,r):Tt(t)?t(e):r}function sg(e,t,r,n){var a=LNe(e,function(l){return Rn(l,t)});if(r==="number"){var s=a.filter(function(l){return Xe(l)||parseFloat(l)});return s.length?[ej(s),Zw(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Mt(l)}):a;return o.map(function(l){return Fn(l)||l instanceof Date?l:""})}var zke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(es(f-d)!==es(h-f)){var p=[];if(es(h-f)===es(c[1]-c[0])){m=h;var g=f+c[1]-c[0];p[0]=Math.min(g,(g+d)/2),p[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+c[1]-c[0];p[0]=Math.min(f,(v+f)/2),p[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>y[0]&&t<=y[1]||t>=p[0]&&t<=p[1]){o=a[u].index;break}}else{var b=Math.min(d,h),_=Math.max(d,h);if(t>(b+f)/2&&t<=(_+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},wP=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Vke=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var p=d[f[h]],g=p.items,v=p.cateAxisId,y=g.filter(function(S){return nc(S.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,_=b!==void 0?Qr(Qr({},b),y[0].props):y[0].props,w=_.barSize,j=_[v];o[j]||(o[j]=[]);var N=Mt(w)?r:w;o[j].push({item:y[0],stackList:y.slice(1),barSize:Mt(N)?void 0:ts(N,n,0)})}}return o},Wke=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=ts(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,p=o.reduce(function(w,j){return w+j.barSize||0},0);p+=(c-1)*u,p>=a&&(p-=(c-1)*u,u=0),p>=a&&m>0&&(h=!0,m*=.9,p=c*m);var g=(a-p)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(w,j){var N={item:j.item,position:{offset:v.offset+v.size+u,size:h?m:j.barSize}},S=[].concat(S3(w),[N]);return v=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:v})}),S},f)}else{var y=ts(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var _=l===+l?Math.min(b,l):b;d=o.reduce(function(w,j,N){var S=[].concat(S3(w),[{item:j.item,position:{offset:y+(b+u)*N+(b-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){S.push({item:k,position:S[S.length-1].position})}),S},f)}return d},Hke=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=hW({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,p=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&m!=="center"&&Xe(t[m]))return Qr(Qr({},t),{},Zh({},m,t[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&p!=="middle"&&Xe(t[p]))return Qr(Qr({},t),{},Zh({},p,t[p]+(h||0)))}return t},qke=function(t,r,n){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},mW=function(t,r,n,a,s){var o=r.props.children,l=oi(o,xx).filter(function(u){return qke(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Rn(d,n);if(Mt(f))return u;var h=Array.isArray(f)?[ej(f),Zw(f)]:[f,f],m=c.reduce(function(p,g){var v=Rn(d,g,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Kke=function(t,r,n,a,s){var o=r.map(function(l){return mW(t,l,n,s,a)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},pW=function(t,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&mW(t,c,u,a)||sg(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},gW=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},vW=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},Zl=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?es(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!dx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},_2=new WeakMap,Cy=function(t,r){if(typeof r!="function")return t;_2.has(t)||_2.set(t,new WeakMap);var n=_2.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},xW=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:tv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tb(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ag(),realScaleType:"point"}:s==="category"?{scale:tv(),realScaleType:"band"}:{scale:Tb(),realScaleType:"linear"};if(vf(a)){var c="scale".concat($w(a));return{scale:(x3[c]||ag)(),realScaleType:x3[c]?c:"point"}}return Tt(a)?{scale:a}:{scale:ag(),realScaleType:"point"}},k3=1e-4,yW=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-k3,o=Math.max(a[0],a[1])+k3,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},Gke=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Yke=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<n)&&(s[0]=n),(!Xe(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},Xke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=dx(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Jke=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=dx(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Qke={sign:Xke,expand:v0e,none:Rm,silhouette:x0e,wiggle:y0e,positive:Jke},Zke=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Qke[n],o=g0e().keys(a).value(function(l,c){return+Rn(l,c,0)}).order(qk).offset(s);return o(t)},eCe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,p=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Qr(Qr({},h.type.defaultProps),h.props):h.props,g=p.stackId,v=p.hide;if(v)return f;var y=p[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Fn(g)){var _=b.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[g]=_}else b.stackGroups[Ip("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Qr(Qr({},f),{},Zh({},y,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var p={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var y=m.stackGroups[v];return Qr(Qr({},g),{},Zh({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:Zke(t,y.items,s)}))},p)}return Qr(Qr({},f),{},Zh({},h,m))},d)},bW=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=mke(u,s,l);return t.domain([ej(d),Zw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=pke(f,s,l);return{niceTicks:h}}return null};function C3(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(a[t.dataKey])){var l=lb(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Rn(a,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var E3=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Rn(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-s/2+a},tCe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},rCe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Fn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},nCe=function(t){return t.reduce(function(r,n){return[ej(n.concat([r[0]]).filter(Xe)),Zw(n.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},_W=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=nCe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},T3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wC=function(t,r,n){if(Tt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(T3.test(t[0])){var s=+T3.exec(t[0])[1];a[0]=r[0]-s}else Tt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(A3.test(t[1])){var o=+A3.exec(t[1])[1];a[1]=r[1]+o}else Tt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Fb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=XA(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},P3=function(t,r,n){return!t||!t.length||vx(t,ii(n,"type.defaultProps.domain"))?r:t},wW=function(t,r){var n=t.type.defaultProps?Qr(Qr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Qr(Qr({},Nt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:wP(t),value:Rn(r,a),type:c,payload:r,chartType:u,hide:d})};function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return t=aCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aCe(e){var t=sCe(e,"string");return uv(t)=="symbol"?t:t+""}function sCe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iCe(e,t){return uCe(e)||cCe(e,t)||lCe(e,t)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(e,t){if(e){if(typeof e=="string")return D3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D3(e,t)}}function D3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uCe(e){if(Array.isArray(e))return e}var Ib=Math.PI/180,dCe=function(t){return t*180/Math.PI},Tr=function(t,r,n,a){return{x:t+Math.cos(-Ib*a)*n,y:r+Math.sin(-Ib*a)*n}},SW=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fCe=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=ts(t.cx,o,o/2),f=ts(t.cy,l,l/2),h=SW(o,l,n),m=ts(t.innerRadius,h,0),p=ts(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,y){var b=r[y],_=b.domain,w=b.reversed,j;if(Mt(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,p]),w&&(j=[j[1],j[0]]);else{j=b.range;var N=j,S=iCe(N,2);c=S[0],u=S[1]}var k=xW(b,s),C=k.realScaleType,A=k.scale;A.domain(_).range(j),yW(A);var P=bW(A,Ul(Ul({},b),{},{realScaleType:C})),T=Ul(Ul(Ul({},b),P),{},{range:j,radius:p,realScaleType:C,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:p,startAngle:c,endAngle:u});return Ul(Ul({},v),{},jW({},y,T))},{})},hCe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},mCe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=hCe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:dCe(u),angleInRadian:u}},pCe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},gCe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},R3=function(t,r){var n=t.x,a=t.y,s=mCe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=pCe(r),f=d.startAngle,h=d.endAngle,m=l,p;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=f}return p?Ul(Ul({},r),{},{radius:o,angle:gCe(m,r)}):null},NW=function(t){return!x.isValidElement(t)&&!Tt(t)&&typeof t!="boolean"?t.className:""};function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}var vCe=["offset"];function xCe(e){return wCe(e)||_Ce(e)||bCe(e)||yCe()}function yCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bCe(e,t){if(e){if(typeof e=="string")return jC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jC(e,t)}}function _Ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wCe(e){if(Array.isArray(e))return jC(e)}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jCe(e,t){if(e==null)return{};var r=SCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=kCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kCe(e){var t=CCe(e,"string");return dv(t)=="symbol"?t:t+""}function CCe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(this,arguments)}var ECe=function(t){var r=t.value,n=t.formatter,a=Mt(t.children)?r:t.children;return Tt(n)?n(a):a},TCe=function(t,r){var n=es(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ACe=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,p=c.endAngle,g=c.clockWise,v=(f+h)/2,y=TCe(m,p),b=y>=0?1:-1,_,w;a==="insideStart"?(_=m+b*o,w=g):a==="insideEnd"?(_=p-b*o,w=!g):a==="end"&&(_=p+b*o,w=g),w=y<=0?w:!w;var j=Tr(u,d,v,_),N=Tr(u,d,v,_+(w?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Mt(t.id)?Ip("recharts-radial-line-"):t.id;return ie.createElement("text",fv({},n,{dominantBaseline:"central",className:It("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:k,d:S})),ie.createElement("textPath",{xlinkHref:"#".concat(k)},r))},PCe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=Tr(o,l,u+n,h),p=m.x,g=m.y;return{x:p,y:g,textAnchor:p>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,y=Tr(o,l,v,h),b=y.x,_=y.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},OCe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",p=f>0?"start":"end",g=u>=0?1:-1,v=g*a,y=g>0?"end":"start",b=g>0?"start":"end";if(s==="top"){var _={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Cn(Cn({},_),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:p};return Cn(Cn({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Cn(Cn({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Cn(Cn({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?Cn({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?Cn({x:l+u-v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},S):s==="insideTop"?Cn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:p},S):s==="insideBottom"?Cn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},S):s==="insideTopLeft"?Cn({x:l+v,y:c+h,textAnchor:b,verticalAnchor:p},S):s==="insideTopRight"?Cn({x:l+u-v,y:c+h,textAnchor:y,verticalAnchor:p},S):s==="insideBottomLeft"?Cn({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},S):s==="insideBottomRight"?Cn({x:l+u-v,y:c+d-h,textAnchor:y,verticalAnchor:m},S):Dp(s)&&(Xe(s.x)||Pd(s.x))&&(Xe(s.y)||Pd(s.y))?Cn({x:l+ts(s.x,u),y:c+ts(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Cn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},DCe=function(t){return"cx"in t&&Xe(t.cx)};function qn(e){var t=e.offset,r=t===void 0?5:t,n=jCe(e,vCe),a=Cn({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Mt(l)&&Mt(c)&&!x.isValidElement(u)&&!Tt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(Tt(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=ECe(a);var p=DCe(s),g=Nt(a,!0);if(p&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ACe(a,m,g);var v=p?PCe(a):OCe(a);return ie.createElement(yf,fv({className:It("recharts-label",f)},g,v,{breakAll:h}),m)}qn.displayName="Label";var kW=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,p=t.left,g=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(Xe(g)&&Xe(v)){if(Xe(f)&&Xe(h))return{x:f,y:h,width:g,height:v};if(Xe(m)&&Xe(p))return{x:m,y:p,width:g,height:v}}return Xe(f)&&Xe(h)?{x:f,y:h,width:0,height:0}:Xe(r)&&Xe(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},RCe=function(t,r){return t?t===!0?ie.createElement(qn,{key:"label-implicit",viewBox:r}):Fn(t)?ie.createElement(qn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===qn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):ie.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):Tt(t)?ie.createElement(qn,{key:"label-implicit",content:t,viewBox:r}):Dp(t)?ie.createElement(qn,fv({viewBox:r},t,{key:"label-implicit"})):null:null},MCe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=kW(t),o=oi(a,qn).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=RCe(t.label,r||s);return[l].concat(xCe(o))};qn.parseViewBox=kW;qn.renderCallByParent=MCe;function FCe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ICe=FCe;const LCe=vr(ICe);function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}var $Ce=["valueAccessor"],BCe=["data","dataKey","clockWise","id","textBreakAll"];function UCe(e){return HCe(e)||WCe(e)||VCe(e)||zCe()}function zCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(e,t){if(e){if(typeof e=="string")return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(e,t)}}function WCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HCe(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(this,arguments)}function F3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F3(Object(r),!0).forEach(function(n){qCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qCe(e,t,r){return t=KCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KCe(e){var t=GCe(e,"string");return hv(t)=="symbol"?t:t+""}function GCe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L3(e,t){if(e==null)return{};var r=YCe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var XCe=function(t){return Array.isArray(t.value)?LCe(t.value):t.value};function sc(e){var t=e.valueAccessor,r=t===void 0?XCe:t,n=L3(e,$Ce),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=L3(n,BCe);return!a||!a.length?null:ie.createElement(lr,{className:"recharts-label-list"},a.map(function(d,f){var h=Mt(s)?r(d,f):Rn(d&&d.payload,s),m=Mt(l)?{}:{id:"".concat(l,"-").concat(f)};return ie.createElement(qn,Lb({},Nt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:qn.parseViewBox(Mt(o)?d:I3(I3({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}sc.displayName="LabelList";function JCe(e,t){return e?e===!0?ie.createElement(sc,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||Tt(e)?ie.createElement(sc,{key:"labelList-implicit",data:t,content:e}):Dp(e)?ie.createElement(sc,Lb({data:t},e,{key:"labelList-implicit"})):null:null}function QCe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=oi(n,sc).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=JCe(e.label,t);return[s].concat(UCe(a))}sc.renderCallByParent=QCe;function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function NC(){return NC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NC.apply(this,arguments)}function $3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(r),!0).forEach(function(n){ZCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t,r){return t=eEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eEe(e){var t=tEe(e,"string");return mv(t)=="symbol"?t:t+""}function tEe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rEe=function(t,r){var n=es(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ey=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Ib,h=u?s:s+o*f,m=Tr(r,n,d,h),p=Tr(r,n,a,h),g=u?s-o*f:s,v=Tr(r,n,d*Math.cos(f*Ib),g);return{center:m,circleTangency:p,lineTangency:v,theta:f}},CW=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=rEe(o,l),u=o+c,d=Tr(r,n,s,o),f=Tr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Tr(r,n,a,o),p=Tr(r,n,a,u);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},nEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=es(d-u),h=Ey({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,p=h.lineTangency,g=h.theta,v=Ey({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,_=v.theta,w=c?Math.abs(u-d):Math.abs(u-d)-g-_;if(w<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):CW({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=Ey({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=N.circleTangency,k=N.lineTangency,C=N.theta,A=Ey({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=A.circleTangency,T=A.lineTangency,U=A.theta,z=c?Math.abs(u-d):Math.abs(u-d)-C-U;if(z<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},aEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EW=function(t){var r=B3(B3({},aEe),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<s||d===f)return null;var m=It("recharts-sector",h),p=o-s,g=ts(l,p,0,!0),v;return g>0&&Math.abs(d-f)<360?v=nEe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=CW({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),ie.createElement("path",NC({},Nt(r,!0),{className:m,d:v,role:"img"}))};function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(this,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){sEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sEe(e,t,r){return t=iEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iEe(e){var t=oEe(e,"string");return pv(t)=="symbol"?t:t+""}function oEe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V3={curveBasisClosed:s0e,curveBasisOpen:i0e,curveBasis:a0e,curveBumpX:Wpe,curveBumpY:Hpe,curveLinearClosed:o0e,curveLinear:Uw,curveMonotoneX:l0e,curveMonotoneY:c0e,curveNatural:u0e,curveStep:d0e,curveStepAfter:h0e,curveStepBefore:f0e},Ty=function(t){return t.x===+t.x&&t.y===+t.y},x0=function(t){return t.x},y0=function(t){return t.y},lEe=function(t,r){if(Tt(t))return t;var n="curve".concat($w(t));return(n==="curveMonotone"||n==="curveBump")&&r?V3["".concat(n).concat(r==="vertical"?"Y":"X")]:V3[n]||Uw},cEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=lEe(n,l),f=u?s.filter(function(g){return Ty(g)}):s,h;if(Array.isArray(o)){var m=u?o.filter(function(g){return Ty(g)}):o,p=f.map(function(g,v){return z3(z3({},g),{},{base:m[v]})});return l==="vertical"?h=yy().y(y0).x1(x0).x0(function(g){return g.base.x}):h=yy().x(x0).y1(y0).y0(function(g){return g.base.y}),h.defined(Ty).curve(d),h(p)}return l==="vertical"&&Xe(o)?h=yy().y(y0).x1(x0).x0(o):Xe(o)?h=yy().x(x0).y1(y0).y0(o):h=wz().x(x0).y(y0),h.defined(Ty).curve(d),h(f)},$b=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?cEe(t):a;return x.createElement("path",kC({},Nt(t,!1),cb(t),{className:It("recharts-curve",r),d:o,ref:s}))},TW={exports:{}},uEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dEe=uEe,fEe=dEe;function AW(){}function PW(){}PW.resetWarningCache=AW;var hEe=function(){function e(n,a,s,o,l,c){if(c!==fEe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:PW,resetWarningCache:AW};return r.PropTypes=r,r};TW.exports=hEe();var mEe=TW.exports;const mr=vr(mEe);var pEe=Object.getOwnPropertyNames,gEe=Object.getOwnPropertySymbols,vEe=Object.prototype.hasOwnProperty;function W3(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Ay(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function H3(e){return pEe(e).concat(gEe(e))}var xEe=Object.hasOwn||function(e,t){return vEe.call(e,t)};function Lf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var yEe="__v",bEe="__o",_Ee="_owner",q3=Object.getOwnPropertyDescriptor,K3=Object.keys;function wEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function jEe(e,t){return Lf(e.getTime(),t.getTime())}function SEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NEe(e,t){return e===t}function G3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var kEe=Lf;function CEe(e,t,r){var n=K3(e),a=n.length;if(K3(t).length!==a)return!1;for(;a-- >0;)if(!OW(e,t,r,n[a]))return!1;return!0}function b0(e,t,r){var n=H3(e),a=n.length;if(H3(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!OW(e,t,r,s)||(o=q3(e,s),l=q3(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function EEe(e,t){return Lf(e.valueOf(),t.valueOf())}function TEe(e,t){return e.source===t.source&&e.flags===t.flags}function Y3(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function AEe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function PEe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OW(e,t,r,n){return(n===_Ee||n===bEe||n===yEe)&&(e.$$typeof||t.$$typeof)?!0:xEe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var OEe="[object Arguments]",DEe="[object Boolean]",REe="[object Date]",MEe="[object Error]",FEe="[object Map]",IEe="[object Number]",LEe="[object Object]",$Ee="[object RegExp]",BEe="[object Set]",UEe="[object String]",zEe="[object URL]",VEe=Array.isArray,X3=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,J3=Object.assign,WEe=Object.prototype.toString.call.bind(Object.prototype.toString);function HEe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(p,g,v){if(p===g)return!0;if(p==null||g==null)return!1;var y=typeof p;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?o(p,g,v):y==="function"?a(p,g,v):!1;var b=p.constructor;if(b!==g.constructor)return!1;if(b===Object)return l(p,g,v);if(VEe(p))return t(p,g,v);if(X3!=null&&X3(p))return f(p,g,v);if(b===Date)return r(p,g,v);if(b===RegExp)return u(p,g,v);if(b===Map)return s(p,g,v);if(b===Set)return d(p,g,v);var _=WEe(p);return _===REe?r(p,g,v):_===$Ee?u(p,g,v):_===FEe?s(p,g,v):_===BEe?d(p,g,v):_===LEe?typeof p.then!="function"&&typeof g.then!="function"&&l(p,g,v):_===zEe?h(p,g,v):_===MEe?n(p,g,v):_===OEe?l(p,g,v):_===DEe||_===IEe||_===UEe?c(p,g,v):!1}}function qEe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?b0:wEe,areDatesEqual:jEe,areErrorsEqual:SEe,areFunctionsEqual:NEe,areMapsEqual:n?W3(G3,b0):G3,areNumbersEqual:kEe,areObjectsEqual:n?b0:CEe,arePrimitiveWrappersEqual:EEe,areRegExpsEqual:TEe,areSetsEqual:n?W3(Y3,b0):Y3,areTypedArraysEqual:n?b0:AEe,areUrlsEqual:PEe};if(r&&(a=J3({},a,r(a))),t){var s=Ay(a.areArraysEqual),o=Ay(a.areMapsEqual),l=Ay(a.areObjectsEqual),c=Ay(a.areSetsEqual);a=J3({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function KEe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function GEe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var YEe=od();od({strict:!0});od({circular:!0});od({circular:!0,strict:!0});od({createInternalComparator:function(){return Lf}});od({strict:!0,createInternalComparator:function(){return Lf}});od({circular:!0,createInternalComparator:function(){return Lf}});od({circular:!0,createInternalComparator:function(){return Lf},strict:!0});function od(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=qEe(e),c=HEe(l),u=n?n(c):KEe(c);return GEe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function XEe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Q3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):XEe(a)};requestAnimationFrame(n)}function CC(e){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CC(e)}function JEe(e){return tTe(e)||eTe(e)||ZEe(e)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZEe(e,t){if(e){if(typeof e=="string")return Z3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z3(e,t)}}function Z3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tTe(e){if(Array.isArray(e))return e}function rTe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=JEe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Q3(a.bind(null,u),c);return}a(c),Q3(a.bind(null,u));return}CC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){DW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DW(e,t,r){return t=nTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nTe(e){var t=aTe(e,"string");return gv(t)==="symbol"?t:String(t)}function aTe(e,t){if(gv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},iTe=function(t){return t},oTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ig=function(t,r){return Object.keys(r).reduce(function(n,a){return tI(tI({},n),{},DW({},a,t(a,r[a])))},{})},rI=function(t,r,n){return t.map(function(a){return"".concat(oTe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lTe(e,t){return dTe(e)||uTe(e,t)||RW(e,t)||cTe()}function cTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dTe(e){if(Array.isArray(e))return e}function fTe(e){return pTe(e)||mTe(e)||RW(e)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(e,t){if(e){if(typeof e=="string")return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EC(e,t)}}function mTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pTe(e){if(Array.isArray(e))return EC(e)}function EC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bb=1e-4,MW=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},FW=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},nI=function(t,r){return function(n){var a=MW(t,r);return FW(a,n)}},gTe=function(t,r){return function(n){var a=MW(t,r),s=[].concat(fTe(a.map(function(o,l){return o*l}).slice(1)),[0]);return FW(s,n)}},aI=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=lTe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=nI(a,o),h=nI(s,l),m=gTe(a,o),p=function(y){return y>1?1:y<0?0:y},g=function(y){for(var b=y>1?1:y,_=b,w=0;w<8;++w){var j=f(_)-b,N=m(_);if(Math.abs(j-b)<Bb||N<Bb)return h(_);_=p(_-j/N)}return h(_)};return g.isStepper=!1,g},vTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,p=h*s,g=h+(m-p)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Bb&&Math.abs(g)<Bb?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},xTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aI(a);case"spring":return vTe();default:if(a.split("(")[0]==="cubic-bezier")return aI(a)}return typeof a=="function"?a:null};function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function sI(e){return _Te(e)||bTe(e)||IW(e)||yTe()}function yTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Te(e){if(Array.isArray(e))return AC(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){TC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TC(e,t,r){return t=wTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wTe(e){var t=jTe(e,"string");return vv(t)==="symbol"?t:String(t)}function jTe(e,t){if(vv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function STe(e,t){return CTe(e)||kTe(e,t)||IW(e,t)||NTe()}function NTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IW(e,t){if(e){if(typeof e=="string")return AC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(e,t)}}function AC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CTe(e){if(Array.isArray(e))return e}var Ub=function(t,r,n){return t+(r-t)*n},PC=function(t){var r=t.from,n=t.to;return r!==n},ETe=function e(t,r,n){var a=ig(function(s,o){if(PC(o)){var l=t(o.from,o.to,o.velocity),c=STe(l,2),u=c[0],d=c[1];return ta(ta({},o),{},{from:u,velocity:d})}return o},r);return n<1?ig(function(s,o){return PC(o)?ta(ta({},o),{},{velocity:Ub(o.velocity,a[s].velocity,n),from:Ub(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const TTe=function(e,t,r,n,a){var s=sTe(e,t),o=s.reduce(function(v,y){return ta(ta({},v),{},TC({},y,[e[y],t[y]]))},{}),l=s.reduce(function(v,y){return ta(ta({},v),{},TC({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ig(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(PC).length},p=function(y){u||(u=y);var b=y-u,_=b/r.dt;l=ETe(r,l,_),a(ta(ta(ta({},e),t),h())),u=y,m()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var b=(y-d)/n,_=ig(function(j,N){return Ub.apply(void 0,sI(N).concat([r(b)]))},o);if(a(ta(ta(ta({},e),t),_)),b<1)c=requestAnimationFrame(f);else{var w=ig(function(j,N){return Ub.apply(void 0,sI(N).concat([r(1)]))},o);a(ta(ta(ta({},e),t),w))}};return f=r.isStepper?p:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var ATe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function PTe(e,t){if(e==null)return{};var r=OTe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OTe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function w2(e){return FTe(e)||MTe(e)||RTe(e)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RTe(e,t){if(e){if(typeof e=="string")return OC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(e,t)}}function MTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FTe(e){if(Array.isArray(e))return OC(e)}function OC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(r),!0).forEach(function(n){I0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I0(e,t,r){return t=LW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ITe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LW(n.key),n)}}function $Te(e,t,r){return t&&LTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LW(e){var t=BTe(e,"string");return Vm(t)==="symbol"?t:String(t)}function BTe(e,t){if(Vm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DC(e,t)}function DC(e,t){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(e,t)}function zTe(e){var t=VTe();return function(){var n=zb(e),a;if(t){var s=zb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return RC(this,a)}}function RC(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MC(e)}function MC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}var Sl=function(e){UTe(r,e);var t=zTe(r);function r(n,a){var s;ITe(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(MC(s)),s.changeStyle=s.changeStyle.bind(MC(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),RC(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},RC(s);s.state={style:c?I0({},c,u):u}}else s.state={style:{}};return s}return $Te(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var m={style:c?I0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(YEe(a.to,d)&&a.canBegin&&a.isActive)){var p=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||u?f:a.to;if(this.state&&h){var v={style:c?I0({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Zi(Zi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=TTe(o,l,xTe(u),c,this.changeStyle),p=function(){s.stopJSAnimation=m()};this.manager.start([h,d,p,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(g,v,y){if(y===0)return g;var b=v.duration,_=v.easing,w=_===void 0?"ease":_,j=v.style,N=v.properties,S=v.onAnimationEnd,k=y>0?o[y-1]:v,C=N||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(w2(g),[s.runJSAnimation.bind(s,{from:k.style,to:j,duration:b,easing:w}),b]);var A=rI(C,b,w),P=Zi(Zi(Zi({},k.style),j),{},{transition:A});return[].concat(w2(g),[P,b,S]).filter(iTe)};return this.manager.start([c].concat(w2(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rTe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var g=l?I0({},l,c):c,v=rI(Object.keys(g),o,u);p.start([d,s,Zi(Zi({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=PTe(a,ATe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(m){var p=m.props,g=p.style,v=g===void 0?{}:g,y=p.className,b=x.cloneElement(m,Zi(Zi({},c),{},{style:Zi(Zi({},v),d),className:y}));return b};return u===1?f(x.Children.only(s)):ie.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);Sl.displayName="Animate";Sl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Sl.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(this,arguments)}function WTe(e,t){return GTe(e)||KTe(e,t)||qTe(e,t)||HTe()}function HTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qTe(e,t){if(e){if(typeof e=="string")return lI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lI(e,t)}}function lI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GTe(e){if(Array.isArray(e))return e}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){YTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YTe(e,t,r){return t=XTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XTe(e){var t=JTe(e,"string");return xv(t)=="symbol"?t:t+""}function JTe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dI=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>o?o:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var p=Math.min(o,s);d="M ".concat(t,",").concat(r+l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+c*p,",").concat(r,`
            L `).concat(t+n-c*p,",").concat(r,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*p,`
            L `).concat(t+n,",").concat(r+a-l*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t+n-c*p,",").concat(r+a,`
            L `).concat(t+c*p,",").concat(r+a,`
            A `).concat(p,",").concat(p,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*p," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},QTe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},ZTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jP=function(t){var r=uI(uI({},ZTe),t),n=x.useRef(),a=x.useState(-1),s=WTe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=It("recharts-rectangle",m);return b?ie.createElement(Sl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:p,isActive:b},function(w){var j=w.width,N=w.height,S=w.x,k=w.y;return ie.createElement(Sl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:p},ie.createElement("path",Vb({},Nt(r,!0),{className:_,d:dI(S,k,j,N,h),ref:n})))}):ie.createElement("path",Vb({},Nt(r,!0),{className:_,d:dI(c,u,d,f,h)}))},eAe=["points","className","baseLinePoints","connectNulls"];function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function tAe(e,t){if(e==null)return{};var r=rAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fI(e){return iAe(e)||sAe(e)||aAe(e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aAe(e,t){if(e){if(typeof e=="string")return FC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(e,t)}}function sAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iAe(e){if(Array.isArray(e))return FC(e)}function FC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hI=function(t){return t&&t.x===+t.x&&t.y===+t.y},oAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){hI(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),hI(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},og=function(t,r){var n=oAe(t);r&&(n=[n.reduce(function(s,o){return[].concat(fI(s),fI(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lAe=function(t,r,n){var a=og(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(og(r.reverse(),n).slice(1))},cAe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=tAe(t,eAe);if(!r||!r.length)return null;var l=It("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=lAe(r,a,s);return ie.createElement("g",{className:l},ie.createElement("path",Rh({},Nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",Rh({},Nt(o,!0),{fill:"none",d:og(r,s)})):null,c?ie.createElement("path",Rh({},Nt(o,!0),{fill:"none",d:og(a,s)})):null)}var d=og(r,s);return ie.createElement("path",Rh({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function IC(){return IC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IC.apply(this,arguments)}var nj=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=It("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",IC({},Nt(t,!1),cb(t),{className:o,cx:r,cy:n,r:a})):null};function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}var uAe=["x","y","top","left","width","height","className"];function LC(){return LC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LC.apply(this,arguments)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){fAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fAe(e,t,r){return t=hAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hAe(e){var t=mAe(e,"string");return yv(t)=="symbol"?t:t+""}function mAe(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pAe(e,t){if(e==null)return{};var r=gAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vAe=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},xAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,p=t.className,g=pAe(t,uAe),v=dAe({x:n,y:s,top:l,left:u,width:f,height:m},g);return!Xe(n)||!Xe(s)||!Xe(f)||!Xe(m)||!Xe(l)||!Xe(u)?null:ie.createElement("path",LC({},Nt(v,!0),{className:It("recharts-cross",p),d:vAe(n,s,f,m,l,u)}))},yAe=Qw,bAe=XV,_Ae=Al;function wAe(e,t){return e&&e.length?yAe(e,_Ae(t),bAe):void 0}var jAe=wAe;const SAe=vr(jAe);var NAe=Qw,kAe=Al,CAe=JV;function EAe(e,t){return e&&e.length?NAe(e,kAe(t),CAe):void 0}var TAe=EAe;const AAe=vr(TAe);var PAe=["cx","cy","angle","ticks","axisLine"],OAe=["ticks","tick","angle","tickFormatter","stroke"];function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){aj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gI(e,t){if(e==null)return{};var r=DAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BW(n.key),n)}}function MAe(e,t,r){return t&&vI(e.prototype,t),r&&vI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FAe(e,t,r){return t=Wb(t),IAe(e,$W()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function IAe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LAe(e)}function LAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function $Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$C(e,t)}function $C(e,t){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$C(e,t)}function aj(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=BAe(e,"string");return Wm(t)=="symbol"?t:t+""}function BAe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sj=function(e){function t(){return RAe(this,t),FAe(this,t,arguments)}return $Ae(t,e),MAe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return Tr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=SAe(l,function(d){return d.coordinate||0}),u=AAe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=gI(n,PAe),d=l.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),f=Tr(a,s,d[0],o),h=Tr(a,s,d[1],o),m=md(md(md({},Nt(u,!1)),{},{fill:"none"},Nt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ie.createElement("line",lg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=gI(a,OAe),f=this.getTickTextAnchor(),h=Nt(d,!1),m=Nt(o,!1),p=s.map(function(g,v){var y=n.getTickValueCoord(g),b=md(md(md(md({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},y),{},{payload:g});return ie.createElement(lr,lg({className:It("recharts-polar-radius-axis-tick",NW(o)),key:"tick-".concat(g.coordinate)},xf(n.props,g,v)),t.renderTickItem(o,b,c?c(g.value,v):g.value))});return ie.createElement(lr,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:ie.createElement(lr,{className:It("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),qn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Tt(n)?o=n(a):o=ie.createElement(yf,lg({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(x.PureComponent);aj(sj,"displayName","PolarRadiusAxis");aj(sj,"axisType","radiusAxis");aj(sj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zW(n.key),n)}}function zAe(e,t,r){return t&&yI(e.prototype,t),r&&yI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VAe(e,t,r){return t=Hb(t),WAe(e,UW()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function WAe(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HAe(e)}function HAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function qAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BC(e,t)}function BC(e,t){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(e,t)}function ij(e,t,r){return t=zW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zW(e){var t=KAe(e,"string");return Hm(t)=="symbol"?t:t+""}function KAe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GAe=Math.PI/180,bI=1e-5,oj=function(e){function t(){return UAe(this,t),VAe(this,t,arguments)}return qAe(t,e),zAe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Tr(s,o,l,n.coordinate),h=Tr(s,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*GAe),o;return s>bI?o=a==="outer"?"start":"end":s<-bI?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=pd(pd({},Nt(this.props,!1)),{},{fill:"none"},Nt(l,!1));if(c==="circle")return ie.createElement(nj,wd({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return Tr(a,s,o,h.coordinate)});return ie.createElement(cAe,wd({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Nt(this.props,!1),f=Nt(o,!1),h=pd(pd({},d),{},{fill:"none"},Nt(l,!1)),m=s.map(function(p,g){var v=n.getTickLineCoord(p),y=n.getTickTextAnchor(p),b=pd(pd(pd({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:p,x:v.x2,y:v.y2});return ie.createElement(lr,wd({className:It("recharts-polar-angle-axis-tick",NW(o)),key:"tick-".concat(p.coordinate)},xf(n.props,p,g)),l&&ie.createElement("line",wd({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,b,c?c(p.value,g):p.value))});return ie.createElement(lr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:ie.createElement(lr,{className:It("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return ie.isValidElement(n)?o=ie.cloneElement(n,a):Tt(n)?o=n(a):o=ie.createElement(yf,wd({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(x.PureComponent);ij(oj,"displayName","PolarAngleAxis");ij(oj,"axisType","angleAxis");ij(oj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YAe=qz,XAe=YAe(Object.getPrototypeOf,Object),JAe=XAe,QAe=Cc,ZAe=JAe,ePe=Ec,tPe="[object Object]",rPe=Function.prototype,nPe=Object.prototype,VW=rPe.toString,aPe=nPe.hasOwnProperty,sPe=VW.call(Object);function iPe(e){if(!ePe(e)||QAe(e)!=tPe)return!1;var t=ZAe(e);if(t===null)return!0;var r=aPe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&VW.call(r)==sPe}var oPe=iPe;const lPe=vr(oPe);var cPe=Cc,uPe=Ec,dPe="[object Boolean]";function fPe(e){return e===!0||e===!1||uPe(e)&&cPe(e)==dPe}var hPe=fPe;const mPe=vr(hPe);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(this,arguments)}function pPe(e,t){return yPe(e)||xPe(e,t)||vPe(e,t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vPe(e,t){if(e){if(typeof e=="string")return _I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _I(e,t)}}function _I(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function yPe(e){if(Array.isArray(e))return e}function wI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(r),!0).forEach(function(n){bPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bPe(e,t,r){return t=_Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Pe(e){var t=wPe(e,"string");return bv(t)=="symbol"?t:t+""}function wPe(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SI=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},jPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SPe=function(t){var r=jI(jI({},jPe),t),n=x.useRef(),a=x.useState(-1),s=pPe(a,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,p=r.animationEasing,g=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=It("recharts-trapezoid",m);return y?ie.createElement(Sl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:p,isActive:y},function(_){var w=_.upperWidth,j=_.lowerWidth,N=_.height,S=_.x,k=_.y;return ie.createElement(Sl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:p},ie.createElement("path",qb({},Nt(r,!0),{className:b,d:SI(S,k,w,j,N),ref:n})))}):ie.createElement("g",null,ie.createElement("path",qb({},Nt(r,!0),{className:b,d:SI(c,u,d,f,h)})))},NPe=["option","shapeType","propTransformer","activeClassName","isActive"];function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}function kPe(e,t){if(e==null)return{};var r=CPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){EPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EPe(e,t,r){return t=TPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TPe(e){var t=APe(e,"string");return _v(t)=="symbol"?t:t+""}function APe(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PPe(e,t){return Kb(Kb({},t),e)}function OPe(e,t){return e==="symbols"}function kI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ie.createElement(jP,r);case"trapezoid":return ie.createElement(SPe,r);case"sector":return ie.createElement(EW,r);case"symbols":if(OPe(t))return ie.createElement(zA,r);break;default:return null}}function DPe(e){return x.isValidElement(e)?e.props:e}function WW(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?PPe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=kPe(e,NPe),u;if(x.isValidElement(t))u=x.cloneElement(t,Kb(Kb({},c),DPe(t)));else if(Tt(t))u=t(c);else if(lPe(t)&&!mPe(t)){var d=a(t,c);u=ie.createElement(kI,{shapeType:r,elementProps:d})}else{var f=c;u=ie.createElement(kI,{shapeType:r,elementProps:f})}return l?ie.createElement(lr,{className:o},u):u}function lj(e,t){return t!=null&&"trapezoids"in e.props}function cj(e,t){return t!=null&&"sectors"in e.props}function wv(e,t){return t!=null&&"points"in e.props}function RPe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function MPe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function FPe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function IPe(e,t){var r;return lj(e,t)?r=RPe:cj(e,t)?r=MPe:wv(e,t)&&(r=FPe),r}function LPe(e,t){var r;return lj(e,t)?r="trapezoids":cj(e,t)?r="sectors":wv(e,t)&&(r="points"),r}function $Pe(e,t){if(lj(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cj(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return wv(e,t)?t.payload:{}}function BPe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=LPe(r,t),s=$Pe(r,t),o=n.filter(function(c,u){var d=vx(s,c),f=r.props[a].filter(function(p){var g=IPe(r,t);return g(p,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var h1;function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function CI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CI(Object(r),!0).forEach(function(n){Ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qW(n.key),n)}}function zPe(e,t,r){return t&&EI(e.prototype,t),r&&EI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VPe(e,t,r){return t=Gb(t),WPe(e,HW()?Reflect.construct(t,r||[],Gb(e).constructor):t.apply(e,r))}function WPe(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HPe(e)}function HPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UC(e,t)}function UC(e,t){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UC(e,t)}function Ai(e,t,r){return t=qW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=KPe(e,"string");return qm(t)=="symbol"?t:t+""}function KPe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ja=function(e){function t(r){var n;return UPe(this,t),n=VPe(this,t,[r]),Ai(n,"pieRef",null),Ai(n,"sectorRefs",[]),Ai(n,"id",Ip("recharts-pie-")),Ai(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Tt(a)&&a()}),Ai(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Tt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return qPe(t,e),zPe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Nt(this.props,!1),f=Nt(o,!1),h=Nt(l,!1),m=o&&o.offsetRadius||20,p=n.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,b=Tr(g.cx,g.cy,g.outerRadius+m,y),_=kr(kr(kr(kr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,g.cx)},b),w=kr(kr(kr(kr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Tr(g.cx,g.cy,g.outerRadius,y),b]}),j=c;return Mt(c)&&Mt(u)?j="value":Mt(c)&&(j=u),ie.createElement(lr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,_,Rn(g,j)))});return ie.createElement(lr,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,p=kr(kr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(lr,Mh({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},xf(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ie.createElement(WW,Mh({option:m,isActive:f,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return ie.createElement(Sl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,v=[],y=s&&s[0],b=y.startAngle;return s.forEach(function(_,w){var j=h&&h[w],N=w>0?ii(_,"paddingAngle",0):0;if(j){var S=Qs(j.endAngle-j.startAngle,_.endAngle-_.startAngle),k=kr(kr({},_),{},{startAngle:b+N,endAngle:b+S(g)+N});v.push(k),b=k.endAngle}else{var C=_.endAngle,A=_.startAngle,P=Qs(0,C-A),T=P(g),U=kr(kr({},_),{},{startAngle:b+N,endAngle:b+T+N});v.push(U),b=U.endAngle}}),ie.createElement(lr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!vx(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!Xe(u)||!Xe(d)||!Xe(f)||!Xe(h))return null;var g=It("recharts-pie",l);return ie.createElement(lr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),qn.renderCallByParent(this.props,null,!1),(!m||p)&&sc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);if(Tt(n))return n(a);var o=It("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ie.createElement($b,Mh({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(ie.isValidElement(n))return ie.cloneElement(n,a);var o=s;if(Tt(n)&&(o=n(a),ie.isValidElement(o)))return o;var l=It("recharts-pie-label-text",typeof n!="boolean"&&!Tt(n)?n.className:"");return ie.createElement(yf,Mh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);h1=Ja;Ai(Ja,"displayName","Pie");Ai(Ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ml.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ai(Ja,"parseDeltaAngle",function(e,t){var r=es(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ai(Ja,"getRealPieData",function(e){var t=e.data,r=e.children,n=Nt(e,!1),a=oi(r,sl);return t&&t.length?t.map(function(s,o){return kr(kr(kr({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return kr(kr({},n),s.props)}):[]});Ai(Ja,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=SW(a,s),l=n+ts(e.cx,a,a/2),c=r+ts(e.cy,s,s/2),u=ts(e.innerRadius,o,0),d=ts(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ai(Ja,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?kr(kr({},t.type.defaultProps),t.props):t.props,a=h1.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),p=h1.parseCoordinateOfPie(n,r),g=h1.parseDeltaAngle(o,l),v=Math.abs(g),y=u;Mt(u)&&Mt(f)?(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Mt(u)&&(jo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=a.filter(function(k){return Rn(k,y,0)!==0}).length,_=(v>=360?b:b-1)*c,w=v-b*m-_,j=a.reduce(function(k,C){var A=Rn(C,y,0);return k+(Xe(A)?A:0)},0),N;if(j>0){var S;N=a.map(function(k,C){var A=Rn(k,y,0),P=Rn(k,d,C),T=(Xe(A)?A:0)/j,U;C?U=S.endAngle+es(g)*c*(A!==0?1:0):U=o;var z=U+es(g)*((A!==0?m:0)+T*w),D=(U+z)/2,M=(p.innerRadius+p.outerRadius)/2,L=[{name:P,value:A,payload:k,dataKey:y,type:h}],I=Tr(p.cx,p.cy,M,D);return S=kr(kr(kr({percent:T,cornerRadius:s,name:P,tooltipPayload:L,midAngle:D,middleRadius:M,tooltipPosition:I},k),p),{},{value:Rn(k,y),startAngle:U,endAngle:z,payload:k,paddingAngle:es(g)*c}),S})}return kr(kr({},p),{},{sectors:N,data:a})});var GPe=Math.ceil,YPe=Math.max;function XPe(e,t,r,n){for(var a=-1,s=YPe(GPe((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var JPe=XPe,QPe=dV,TI=1/0,ZPe=17976931348623157e292;function eOe(e){if(!e)return e===0?e:0;if(e=QPe(e),e===TI||e===-TI){var t=e<0?-1:1;return t*ZPe}return e===e?e:0}var KW=eOe,tOe=JPe,rOe=Hw,j2=KW;function nOe(e){return function(t,r,n){return n&&typeof n!="number"&&rOe(t,r,n)&&(r=n=void 0),t=j2(t),r===void 0?(r=t,t=0):r=j2(r),n=n===void 0?t<r?1:-1:j2(n),tOe(t,r,n,e)}}var aOe=nOe,sOe=aOe,iOe=sOe(),oOe=iOe;const Yb=vr(oOe);function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return t=lOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lOe(e){var t=cOe(e,"string");return jv(t)=="symbol"?t:t+""}function cOe(e,t){if(jv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uOe=["Webkit","Moz","O","ms"],dOe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=uOe.reduce(function(s,o){return PI(PI({},s),{},GW({},o+n,r))},{});return a[t]=r,a};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(this,arguments)}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){Ks(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function hOe(e,t,r){return t&&DI(e.prototype,t),r&&DI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mOe(e,t,r){return t=Jb(t),pOe(e,YW()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function pOe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gOe(e)}function gOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function vOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zC(e,t)}function Ks(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=xOe(e,"string");return Km(t)=="symbol"?t:t+""}function xOe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yOe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=ag().domain(Yb(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},RI=function(t){return t.changedTouches&&!!t.changedTouches.length},Gm=function(e){function t(r){var n;return fOe(this,t),n=mOe(this,t,[r]),Ks(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ks(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ks(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Ks(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ks(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ks(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ks(n,"handleSlideDragStart",function(a){var s=RI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return vOe(t,e),hOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(o,f),p=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:p===d?d:p-p%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Rn(s[n],l,n);return Tt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,p=c.onChange,g=n.pageX-s;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==m)&&p&&p(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=RI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,p=d.onChange,g=d.gap,v=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),y[o]=u+b;var _=this.getIndex(y),w=_.startIndex,j=_.endIndex,N=function(){var k=v.length-1;return o==="startX"&&(l>c?w%g===0:j%g===0)||l<c&&j===k||o==="endX"&&(l>c?j%g===0:w%g===0)||l>c&&j===k};this.setState(Ks(Ks({},o,u+b),"brushMoveStartX",n.pageX),function(){p&&N()&&p(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Ks({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ie.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,p=c.data,g=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=S2(S2({},Nt(this.props,!1)),{},{x:y,y:u,width:d,height:f}),_=m||"Min value: ".concat((s=p[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=p[v])===null||o===void 0?void 0:o.name);return ie.createElement(lr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,p={pointerEvents:"none",fill:u};return ie.createElement(lr,{className:"recharts-brush-texts"},ie.createElement(yf,Xb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},p),this.getTextOfTick(a)),ie.createElement(yf,Xb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},p),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,p=h.endX,g=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(u)||!Xe(d)||u<=0||d<=0)return null;var _=It("recharts-brush",s),w=ie.Children.count(o)===1,j=dOe("userSelect","none");return ie.createElement(lr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,p),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(p,"endX"),(g||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return ie.isValidElement(n)?s=ie.cloneElement(n,a):Tt(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return S2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?yOe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);Ks(Gm,"displayName","Brush");Ks(Gm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bOe=YA;function _Oe(e,t){var r;return bOe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var wOe=_Oe,jOe=Lz,SOe=Al,NOe=wOe,kOe=Us,COe=Hw;function EOe(e,t,r){var n=kOe(e)?jOe:NOe;return r&&COe(e,t,r)&&(t=void 0),n(e,SOe(t))}var TOe=EOe;const AOe=vr(TOe);var gl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},MI=iV;function POe(e,t,r){t=="__proto__"&&MI?MI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var OOe=POe,DOe=OOe,ROe=aV,MOe=Al;function FOe(e,t){var r={};return t=MOe(t),ROe(e,function(n,a,s){DOe(r,a,t(n,a,s))}),r}var IOe=FOe;const LOe=vr(IOe);function $Oe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var BOe=$Oe,UOe=YA;function zOe(e,t){var r=!0;return UOe(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var VOe=zOe,WOe=BOe,HOe=VOe,qOe=Al,KOe=Us,GOe=Hw;function YOe(e,t,r){var n=KOe(e)?WOe:HOe;return r&&GOe(e,t,r)&&(t=void 0),n(e,qOe(t))}var XOe=YOe;const JW=vr(XOe);var JOe=["x","y"];function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function VC(){return VC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VC.apply(this,arguments)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){QOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QOe(e,t,r){return t=ZOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZOe(e){var t=e4e(e,"string");return Sv(t)=="symbol"?t:t+""}function e4e(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t4e(e,t){if(e==null)return{};var r=r4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function n4e(e,t){var r=e.x,n=e.y,a=t4e(e,JOe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return _0(_0(_0(_0(_0({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function II(e){return ie.createElement(WW,VC({shapeType:"rectangle",propTransformer:n4e,activeClassName:"recharts-active-bar"},e))}var a4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=Xe(n)||Tme(n);return s?t(n,a):(s||_f(),r)}},s4e=["value","background"],QW;function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function i4e(e,t){if(e==null)return{};var r=o4e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eH(n.key),n)}}function c4e(e,t,r){return t&&$I(e.prototype,t),r&&$I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u4e(e,t,r){return t=Zb(t),d4e(e,ZW()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function d4e(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f4e(e)}function f4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZW=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function h4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WC(e,t)}function WC(e,t){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WC(e,t)}function bu(e,t,r){return t=eH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eH(e){var t=m4e(e,"string");return Ym(t)=="symbol"?t:t+""}function m4e(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei=function(e){function t(){var r;l4e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=u4e(this,t,[].concat(a)),bu(r,"state",{isAnimationFinished:!1}),bu(r,"id",Ip("recharts-bar-")),bu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),bu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return h4e(t,e),c4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Nt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,p=m?u:o,g=gn(gn(gn({},d),f),{},{isActive:m,option:p,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ie.createElement(lr,Qb({className:"recharts-bar-rectangle"},xf(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),ie.createElement(II,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return ie.createElement(Sl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var p=m.t,g=s.map(function(v,y){var b=h&&h[y];if(b){var _=Qs(b.x,v.x),w=Qs(b.y,v.y),j=Qs(b.width,v.width),N=Qs(b.height,v.height);return gn(gn({},v),{},{x:_(p),y:w(p),width:j(p),height:N(p)})}if(o==="horizontal"){var S=Qs(0,v.height),k=S(p);return gn(gn({},v),{},{y:v.y+v.height-k,height:k})}var C=Qs(0,v.width),A=C(p);return gn(gn({},v),{},{width:A})});return ie.createElement(lr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!vx(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Nt(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=i4e(u,s4e);if(!f)return null;var m=gn(gn(gn(gn(gn({},h),{},{fill:"#eee"},f),c),xf(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ie.createElement(II,Qb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=oi(d,xx);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Rn(v,y)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(lr,p,f.map(function(g){return ie.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,p=n.background,g=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=It("recharts-bar",o),b=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,w=b||_,j=Mt(g)?this.id:g;return ie.createElement(lr,{className:y},b||_?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(j)},ie.createElement("rect",{x:b?u:u-f/2,y:_?d:d-h/2,width:b?f:f*2,height:_?h:h*2}))):null,ie.createElement(lr,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!m||v)&&sc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);QW=Ei;bu(Ei,"displayName","Bar");bu(Ei,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bu(Ei,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Gke(n,r);if(!m)return null;var p=t.layout,g=r.type.defaultProps,v=g!==void 0?gn(gn({},g),r.props):r.props,y=v.dataKey,b=v.children,_=v.minPointSize,w=p==="horizontal"?o:s,j=u?w.scale.domain():null,N=tCe({numericAxis:w}),S=oi(b,sl),k=f.map(function(C,A){var P,T,U,z,D,M;u?P=Yke(u[d+A],j):(P=Rn(C,y),Array.isArray(P)||(P=[N,P]));var L=a4e(_,QW.defaultProps.minPointSize)(P[1],A);if(p==="horizontal"){var I,F=[o.scale(P[0]),o.scale(P[1])],X=F[0],J=F[1];T=E3({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:C,index:A}),U=(I=J??X)!==null&&I!==void 0?I:void 0,z=m.size;var O=X-J;if(D=Number.isNaN(O)?0:O,M={x:T,y:o.y,width:z,height:o.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var G=es(D||L)*(Math.abs(L)-Math.abs(D));U-=G,D+=G}}else{var V=[s.scale(P[0]),s.scale(P[1])],K=V[0],re=V[1];if(T=K,U=E3({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:C,index:A}),z=re-K,D=m.size,M={x:s.x,y:U,width:s.width,height:D},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var ue=es(z||L)*(Math.abs(L)-Math.abs(z));z+=ue}}return gn(gn(gn({},C),{},{x:T,y:U,width:z,height:D,value:u?P:P[1],payload:C,background:M},S&&S[A]&&S[A].props),{},{tooltipPayload:[wW(r,C)],tooltipPosition:{x:T+z/2,y:U+D/2}})});return gn({data:k,layout:p},h)});function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function p4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function g4e(e,t,r){return t&&BI(e.prototype,t),r&&BI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){uj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uj(e,t,r){return t=tH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=v4e(e,"string");return Nv(t)=="symbol"?t:t+""}function v4e(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rH=function(t,r,n,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ys(u,Ei);return d.reduce(function(m,p){var g=r[p],v=g.orientation,y=g.domain,b=g.padding,_=b===void 0?{}:b,w=g.mirror,j=g.reversed,N="".concat(v).concat(w?"Mirror":""),S,k,C,A,P;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=y[1]-y[0],U=1/0,z=g.categoricalDomain.sort(Ome);if(z.forEach(function(V,K){K>0&&(U=Math.min((V||0)-(z[K-1]||0),U))}),Number.isFinite(U)){var D=U/T,M=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(S=D*M/2),g.padding==="no-gap"){var L=ts(t.barCategoryGap,D*M),I=D*M/2;S=I-L-(I-L)/M*L}}}a==="xAxis"?k=[n.left+(_.left||0)+(S||0),n.left+n.width-(_.right||0)-(S||0)]:a==="yAxis"?k=c==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(S||0),n.top+n.height-(_.bottom||0)-(S||0)]:k=g.range,j&&(k=[k[1],k[0]]);var F=xW(g,s,h),X=F.scale,J=F.realScaleType;X.domain(y).range(k),yW(X);var O=bW(X,co(co({},g),{},{realScaleType:J}));a==="xAxis"?(P=v==="top"&&!w||v==="bottom"&&w,C=n.left,A=f[N]-P*g.height):a==="yAxis"&&(P=v==="left"&&!w||v==="right"&&w,C=f[N]-P*g.width,A=n.top);var G=co(co(co({},g),O),{},{realScaleType:J,x:C,y:A,scale:X,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return G.bandSize=Fb(G,O),!g.hide&&a==="xAxis"?f[N]+=(P?-1:1)*G.height:g.hide||(f[N]+=(P?-1:1)*G.width),co(co({},m),{},uj({},p,G))},{})},nH=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},x4e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return nH({x:r,y:n},{x:a,y:s})},aH=function(){function e(t){p4e(this,e),this.scale=t}return g4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();uj(aH,"EPS",1e-4);var SP=function(t){var r=Object.keys(t).reduce(function(n,a){return co(co({},n),{},uj({},a,aH.create(t[a])))},{});return co(co({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return LOe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return JW(a,function(s,o){return r[o].isInRange(s)})}})};function y4e(e){return(e%180+180)%180}var b4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=y4e(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_4e=Al,w4e=fx,j4e=Vw;function S4e(e){return function(t,r,n){var a=Object(t);if(!w4e(t)){var s=_4e(r);t=j4e(t),r=function(l){return s(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:void 0}}var N4e=S4e,k4e=KW;function C4e(e){var t=k4e(e),r=t%1;return t===t?r?t-r:t:0}var E4e=C4e,T4e=Qz,A4e=Al,P4e=E4e,O4e=Math.max;function D4e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:P4e(r);return a<0&&(a=O4e(n+a,0)),T4e(e,A4e(t),a)}var R4e=D4e,M4e=N4e,F4e=R4e,I4e=M4e(F4e),L4e=I4e;const $4e=vr(L4e);var B4e=Dhe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NP=x.createContext(void 0),kP=x.createContext(void 0),sH=x.createContext(void 0),iH=x.createContext({}),oH=x.createContext(void 0),lH=x.createContext(0),cH=x.createContext(0),zI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=B4e(s);return ie.createElement(NP.Provider,{value:n},ie.createElement(kP.Provider,{value:a},ie.createElement(iH.Provider,{value:s},ie.createElement(sH.Provider,{value:d},ie.createElement(oH.Provider,{value:o},ie.createElement(lH.Provider,{value:u},ie.createElement(cH.Provider,{value:c},l)))))))},U4e=function(){return x.useContext(oH)},uH=function(t){var r=x.useContext(NP);r==null&&_f();var n=r[t];return n==null&&_f(),n},z4e=function(){var t=x.useContext(NP);return tu(t)},V4e=function(){var t=x.useContext(kP),r=$4e(t,function(n){return JW(n.domain,Number.isFinite)});return r||tu(t)},dH=function(t){var r=x.useContext(kP);r==null&&_f();var n=r[t];return n==null&&_f(),n},W4e=function(){var t=x.useContext(sH);return t},H4e=function(){return x.useContext(iH)},CP=function(){return x.useContext(cH)},EP=function(){return x.useContext(lH)};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function q4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function G4e(e,t,r){return t&&K4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4e(e,t,r){return t=e_(t),X4e(e,fH()?Reflect.construct(t,r||[],e_(e).constructor):t.apply(e,r))}function X4e(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(e)}function J4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(e)}function Q4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HC(e,t)}function HC(e,t){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HC(e,t)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){TP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TP(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=Z4e(e,"string");return Xm(t)=="symbol"?t:t+""}function Z4e(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eDe(e,t){return aDe(e)||nDe(e,t)||rDe(e,t)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rDe(e,t){if(e){if(typeof e=="string")return HI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HI(e,t)}}function HI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aDe(e){if(Array.isArray(e))return e}function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qC.apply(this,arguments)}var sDe=function(t,r){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,r):Tt(t)?n=t(r):n=ie.createElement("line",qC({},r,{className:"recharts-reference-line-line"})),n},iDe=function(t,r,n,a,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var p=u.y,g=t.y.apply(p,{position:o});if(gl(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var y=u.x,b=t.x.apply(y,{position:o});if(gl(u,"discard")&&!t.x.isInRange(b))return null;var _=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?_.reverse():_}if(a){var w=u.segment,j=w.map(function(N){return t.apply(N,{position:o})});return gl(u,"discard")&&AOe(j,function(N){return!t.isInRange(N)})?null:j}return null};function oDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=U4e(),d=uH(a),f=dH(s),h=W4e();if(!u||!h)return null;jo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=SP({x:d.scale,y:f.scale}),p=Fn(t),g=Fn(r),v=n&&n.length===2,y=iDe(m,p,g,v,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=eDe(y,2),_=b[0],w=_.x,j=_.y,N=b[1],S=N.x,k=N.y,C=gl(e,"hidden")?"url(#".concat(u,")"):void 0,A=WI(WI({clipPath:C},Nt(e,!0)),{},{x1:w,y1:j,x2:S,y2:k});return ie.createElement(lr,{className:It("recharts-reference-line",l)},sDe(o,A),qn.renderCallByParent(e,x4e({x1:w,y1:j,x2:S,y2:k})))}var AP=function(e){function t(){return q4e(this,t),Y4e(this,t,arguments)}return Q4e(t,e),G4e(t,[{key:"render",value:function(){return ie.createElement(oDe,this.props)}}])}(ie.Component);TP(AP,"displayName","ReferenceLine");TP(AP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function KC(){return KC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KC.apply(this,arguments)}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){dj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function uDe(e,t,r){return t&&cDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dDe(e,t,r){return t=t_(t),fDe(e,mH()?Reflect.construct(t,r||[],t_(e).constructor):t.apply(e,r))}function fDe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hDe(e)}function hDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t_(e)}function mDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GC(e,t)}function GC(e,t){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GC(e,t)}function dj(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=pDe(e,"string");return Jm(t)=="symbol"?t:t+""}function pDe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gDe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=SP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return gl(t,"discard")&&!o.isInRange(l)?null:l},fj=function(e){function t(){return lDe(this,t),dDe(this,t,arguments)}return mDe(t,e),uDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Fn(a),d=Fn(s);if(jo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gDe(this.props);if(!f)return null;var h=f.x,m=f.y,p=this.props,g=p.shape,v=p.className,y=gl(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=KI(KI({clipPath:y},Nt(this.props,!0)),{},{cx:h,cy:m});return ie.createElement(lr,{className:It("recharts-reference-dot",v)},t.renderDot(g,b),qn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ie.Component);dj(fj,"displayName","ReferenceDot");dj(fj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dj(fj,"renderDot",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Tt(e)?r=e(t):r=ie.createElement(nj,KC({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YC.apply(this,arguments)}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){hj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function yDe(e,t,r){return t&&xDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bDe(e,t,r){return t=r_(t),_De(e,gH()?Reflect.construct(t,r||[],r_(e).constructor):t.apply(e,r))}function _De(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wDe(e)}function wDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r_(e)}function jDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XC(e,t)}function XC(e,t){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XC(e,t)}function hj(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=SDe(e,"string");return Qm(t)=="symbol"?t:t+""}function SDe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NDe=function(t,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=SP({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},p={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return gl(s,"discard")&&(!h.isInRange(m)||!h.isInRange(p))?null:nH(m,p)},mj=function(e){function t(){return vDe(this,t),bDe(this,t,arguments)}return jDe(t,e),yDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;jo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Fn(a),h=Fn(s),m=Fn(o),p=Fn(l),g=this.props.shape;if(!f&&!h&&!m&&!p&&!g)return null;var v=NDe(f,h,m,p,this.props);if(!v&&!g)return null;var y=gl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ie.createElement(lr,{className:It("recharts-reference-area",c)},t.renderRect(g,YI(YI({clipPath:y},Nt(this.props,!0)),v)),qn.renderCallByParent(this.props,v))}}])}(ie.Component);hj(mj,"displayName","ReferenceArea");hj(mj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hj(mj,"renderRect",function(e,t){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,t):Tt(e)?r=e(t):r=ie.createElement(jP,YC({},t,{className:"recharts-reference-area-rect"})),r});function xH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function kDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return b4e(n,r)}function CDe(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function n_(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function EDe(e,t){return xH(e,t+1)}function TDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:xH(n,u)};var g=c,v,y=function(){return v===void 0&&(v=r(p,g)),v},b=p.coordinate,_=c===0||n_(e,b,y,d,l);_||(c=0,d=o,u+=1),_&&(d=b+e*(y()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){ADe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ADe(e,t,r){return t=PDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PDe(e){var t=ODe(e,"string");return kv(t)=="symbol"?t:t+""}function ODe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DDe(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],p,g=function(){return p===void 0&&(p=r(m,h)),p};if(h===o-1){var v=e*(m.coordinate+e*g()/2-c);s[h]=m=Sa(Sa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Sa(Sa({},m),{},{tickCoord:m.coordinate});var y=n_(e,m.tickCoord,g,l,c);y&&(c=m.tickCoord-e*(g()/2+a),s[h]=Sa(Sa({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function RDe(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=Sa(Sa({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=n_(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Sa(Sa({},d),{},{isShow:!0}))}for(var p=s?l-1:l,g=function(b){var _=o[b],w,j=function(){return w===void 0&&(w=r(_,b)),w};if(b===0){var N=e*(_.coordinate-e*j()/2-c);o[b]=_=Sa(Sa({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[b]=_=Sa(Sa({},_),{},{tickCoord:_.coordinate});var S=n_(e,_.tickCoord,j,c,u);S&&(c=_.tickCoord+e*(j()/2+a),o[b]=Sa(Sa({},_),{},{isShow:!0}))},v=0;v<p;v++)g(v);return o}function PP(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Xe(c)||ml.isSsr)return EDe(a,typeof c=="number"&&Xe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",p=d&&m==="width"?ng(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(_,w){var j=Tt(u)?u(_.value,w):_.value;return m==="width"?kDe(ng(j,{fontSize:t,letterSpacing:r}),p,f):ng(j,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?es(a[1].coordinate-a[0].coordinate):1,y=CDe(s,v,m);return c==="equidistantPreserveStart"?TDe(v,y,g,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=RDe(v,y,g,a,o,c==="preserveStartEnd"):h=DDe(v,y,g,a,o),h.filter(function(b){return b.isShow}))}var MDe=["viewBox"],FDe=["viewBox"],IDe=["ticks"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){OP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2(e,t){if(e==null)return{};var r=LDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bH(n.key),n)}}function BDe(e,t,r){return t&&QI(e.prototype,t),r&&QI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UDe(e,t,r){return t=a_(t),zDe(e,yH()?Reflect.construct(t,r||[],a_(e).constructor):t.apply(e,r))}function zDe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(e)}function VDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!e})()}function a_(e){return a_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a_(e)}function WDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JC(e,t)}function OP(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=HDe(e,"string");return Zm(t)=="symbol"?t:t+""}function HDe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wp=function(e){function t(r){var n;return $De(this,t),n=UDe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return WDe(t,e),BDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=N2(n,MDe),l=this.props,c=l.viewBox,u=N2(l,FDe);return!Jh(s,c)||!Jh(o,u)||!Jh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,p,g,v,y,b,_=f?-1:1,w=n.tickSize||d,j=Xe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=p=n.coordinate,v=o+ +!f*c,g=v-_*w,b=g-_*h,y=j;break;case"left":g=v=n.coordinate,p=s+ +!f*l,m=p-_*w,y=m-_*h,b=j;break;case"right":g=v=n.coordinate,p=s+ +f*l,m=p+_*w,y=m+_*h,b=j;break;default:m=p=n.coordinate,v=o+ +f*c,g=v+_*w,b=g+_*h,y=j;break}return{line:{x1:m,y1:g,x2:p,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=kn(kn(kn({},Nt(this.props,!1)),Nt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=kn(kn({},f),{},{x1:a,y1:s+h*l,x2:a+o,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=kn(kn({},f),{},{x1:a+m*o,y1:s,x2:a+m*o,y2:s+l})}return ie.createElement("line",Fh({},f,{className:It("recharts-cartesian-axis-line",ii(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=PP(kn(kn({},this.props),{},{ticks:n}),a,s),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Nt(this.props,!1),y=Nt(d,!1),b=kn(kn({},v),{},{fill:"none"},Nt(c,!1)),_=m.map(function(w,j){var N=o.getTickLineCoord(w),S=N.line,k=N.tick,C=kn(kn(kn(kn({textAnchor:p,verticalAnchor:g},v),{},{stroke:"none",fill:u},y),k),{},{index:j,payload:w,visibleTicksCount:m.length,tickFormatter:f});return ie.createElement(lr,Fh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},xf(o.props,w,j)),c&&ie.createElement("line",Fh({},b,S,{className:It("recharts-cartesian-axis-tick-line",ii(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Tt(f)?f(w.value,j):w.value).concat(h||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=N2(f,IDe),p=h;return Tt(c)&&(p=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!p||!p.length?null:ie.createElement(lr,{className:It("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=It(a.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(n)?o=ie.cloneElement(n,kn(kn({},a),{},{className:l})):Tt(n)?o=n(kn(kn({},a),{},{className:l})):o=ie.createElement(yf,Fh({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);OP(Wp,"displayName","CartesianAxis");OP(Wp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qDe=["x1","y1","x2","y2","key"],KDe=["offset"];function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function ZI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(r),!0).forEach(function(n){GDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GDe(e,t,r){return t=YDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YDe(e){var t=XDe(e,"string");return wf(t)=="symbol"?t:t+""}function XDe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function eL(e,t){if(e==null)return{};var r=JDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _H(e,t){var r;if(ie.isValidElement(e))r=ie.cloneElement(e,t);else if(Tt(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=eL(t,qDe),u=Nt(c,!1);u.offset;var d=eL(u,KDe);r=ie.createElement("line",Rd({},d,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function ZDe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ca(Ca({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return _H(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function eRe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ca(Ca({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return _H(a,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function tRe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?a+o-h:d[m+1]-h;if(g<=0)return null;var v=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:g,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rRe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var p=!d[m+1],g=p?s+l-h:d[m+1]-h;if(g<=0)return null;var v=m%n.length;return ie.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nRe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return vW(PP(Ca(Ca(Ca({},Wp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},aRe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return vW(PP(Ca(Ca(Ca({},Wp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},sh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Iu(e){var t,r,n,a,s,o,l=CP(),c=EP(),u=H4e(),d=Ca(Ca({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:sh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:sh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:sh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:sh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:sh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:sh.verticalFill,x:Xe(e.x)?e.x:u.left,y:Xe(e.y)?e.y:u.top,width:Xe(e.width)?e.width:u.width,height:Xe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,p=d.height,g=d.syncWithTicks,v=d.horizontalValues,y=d.verticalValues,b=z4e(),_=V4e();if(!Xe(m)||m<=0||!Xe(p)||p<=0||!Xe(f)||f!==+f||!Xe(h)||h!==+h)return null;var w=d.verticalCoordinatesGenerator||nRe,j=d.horizontalCoordinatesGenerator||aRe,N=d.horizontalPoints,S=d.verticalPoints;if((!N||!N.length)&&Tt(j)){var k=v&&v.length,C=j({yAxis:_?Ca(Ca({},_),{},{ticks:k?v:_.ticks}):void 0,width:l,height:c,offset:u},k?!0:g);jo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wf(C),"]")),Array.isArray(C)&&(N=C)}if((!S||!S.length)&&Tt(w)){var A=y&&y.length,P=w({xAxis:b?Ca(Ca({},b),{},{ticks:A?y:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:g);jo(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wf(P),"]")),Array.isArray(P)&&(S=P)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(QDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ie.createElement(ZDe,Rd({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:_})),ie.createElement(eRe,Rd({},d,{offset:u,verticalPoints:S,xAxis:b,yAxis:_})),ie.createElement(tRe,Rd({},d,{horizontalPoints:N})),ie.createElement(rRe,Rd({},d,{verticalPoints:S})))}Iu.displayName="CartesianGrid";var sRe=["type","layout","connectNulls","ref"],iRe=["key"];function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function tL(e,t){if(e==null)return{};var r=oRe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ih(e){return dRe(e)||uRe(e)||cRe(e)||lRe()}function lRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cRe(e,t){if(e){if(typeof e=="string")return QC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(e,t)}}function uRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dRe(e){if(Array.isArray(e))return QC(e)}function QC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jH(n.key),n)}}function hRe(e,t,r){return t&&nL(e.prototype,t),r&&nL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mRe(e,t,r){return t=s_(t),pRe(e,wH()?Reflect.construct(t,r||[],s_(e).constructor):t.apply(e,r))}function pRe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(e)}function gRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!e})()}function s_(e){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(e)}function vRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZC(e,t)}function ZC(e,t){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZC(e,t)}function uo(e,t,r){return t=jH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=xRe(e,"string");return ep(t)=="symbol"?t:t+""}function xRe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ac=function(e){function t(){var r;fRe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=mRe(this,t,[].concat(a)),uo(r,"state",{isAnimationFinished:!0,totalLength:0}),uo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),uo(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],p=0,g=0;p<c.length;g+=c[p],++p)if(g+c[p]>f){m=[].concat(ih(c.slice(0,p)),[f-g]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(ih(t.repeat(c,d)),ih(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),uo(r,"id",Ip("recharts-line-")),uo(r,"pathRef",function(o){r.mainCurve=o}),uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vRe(t,e),hRe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=oi(d,xx);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:Rn(g.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ie.createElement(lr,m,f.map(function(p){return ie.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Nt(this.props,!1),h=Nt(c,!0),m=u.map(function(g,v){var y=qs(qs(qs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return ie.createElement(lr,cg({className:"recharts-line-dots",key:"dots"},p),m)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=tL(l,sRe),h=qs(qs(qs({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ie.createElement($b,cg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,p=o.animateNewValues,g=o.width,v=o.height,y=this.state,b=y.prevPoints,_=y.totalLength;return ie.createElement(Sl,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(b){var N=b.length/l.length,S=l.map(function(T,U){var z=Math.floor(U*N);if(b[z]){var D=b[z],M=Qs(D.x,T.x),L=Qs(D.y,T.y);return qs(qs({},T),{},{x:M(j),y:L(j)})}if(p){var I=Qs(g*2,T.x),F=Qs(v/2,T.y);return qs(qs({},T),{},{x:I(j),y:F(j)})}return qs(qs({},T),{},{x:T.x,y:T.y})});return s.renderCurveStatically(S,n,a)}var k=Qs(0,_),C=k(j),A;if(c){var P="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=s.getStrokeDasharray(C,_,P)}else A=s.generateSimpleStrokeDasharray(_,C);return s.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!vx(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,p=a.height,g=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,_=It("recharts-line",c),w=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,N=w||j,S=Mt(v)?this.id:v,k=(n=Nt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,P=k.strokeWidth,T=P===void 0?2:P,U=Ume(o)?o:{},z=U.clipDot,D=z===void 0?!0:z,M=A*2+T;return ie.createElement(lr,{className:_},w||j?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(S)},ie.createElement("rect",{x:w?h:h-m/2,y:j?f:f-p/2,width:w?m:m*2,height:j?p:p*2})),!D&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(S)},ie.createElement("rect",{x:h-M/2,y:f-M/2,width:m+M,height:p+M}))):null,!b&&this.renderCurve(N,S),this.renderErrorBar(N,S),(b||o)&&this.renderDots(N,D,S),(!g||y)&&sc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(ih(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(ih(o),ih(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(ie.isValidElement(n))s=ie.cloneElement(n,a);else if(Tt(n))s=n(a);else{var o=a.key,l=tL(a,iRe),c=It("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ie.createElement(nj,cg({key:o},l,{className:c}))}return s}}])}(x.PureComponent);uo(Ac,"displayName","Line");uo(Ac,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uo(Ac,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var p=Rn(h,o);return d==="horizontal"?{x:C3({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Mt(p)?null:n.scale(p),value:p,payload:h}:{x:Mt(p)?null:r.scale(p),y:C3({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:p,payload:h}});return qs({points:f,layout:d},u)});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kH(n.key),n)}}function _Re(e,t,r){return t&&bRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wRe(e,t,r){return t=i_(t),jRe(e,SH()?Reflect.construct(t,r||[],i_(e).constructor):t.apply(e,r))}function jRe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SRe(e)}function SRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!e})()}function i_(e){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i_(e)}function NRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eE(e,t)}function NH(e,t,r){return t=kH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kH(e){var t=kRe(e,"string");return tp(t)=="symbol"?t:t+""}function kRe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}function CRe(e){var t=e.xAxisId,r=CP(),n=EP(),a=uH(t);return a==null?null:x.createElement(Wp,tE({},a,{className:It("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zl(o,!0)}}))}var So=function(e){function t(){return yRe(this,t),wRe(this,t,arguments)}return NRe(t,e),_Re(t,[{key:"render",value:function(){return x.createElement(CRe,this.props)}}])}(x.Component);NH(So,"displayName","XAxis");NH(So,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function ERe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TH(n.key),n)}}function ARe(e,t,r){return t&&TRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PRe(e,t,r){return t=o_(t),ORe(e,CH()?Reflect.construct(t,r||[],o_(e).constructor):t.apply(e,r))}function ORe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(e)}function DRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CH=function(){return!!e})()}function o_(e){return o_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(e)}function RRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rE(e,t)}function rE(e,t){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rE(e,t)}function EH(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=MRe(e,"string");return rp(t)=="symbol"?t:t+""}function MRe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}var FRe=function(t){var r=t.yAxisId,n=CP(),a=EP(),s=dH(r);return s==null?null:x.createElement(Wp,nE({},s,{className:It("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Zl(l,!0)}}))},No=function(e){function t(){return ERe(this,t),PRe(this,t,arguments)}return RRe(t,e),ARe(t,[{key:"render",value:function(){return x.createElement(FRe,this.props)}}])}(x.Component);EH(No,"displayName","YAxis");EH(No,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aL(e){return BRe(e)||$Re(e)||LRe(e)||IRe()}function IRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LRe(e,t){if(e){if(typeof e=="string")return aE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(e,t)}}function $Re(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BRe(e){if(Array.isArray(e))return aE(e)}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sE=function(t,r,n,a,s){var o=oi(t,AP),l=oi(t,fj),c=[].concat(aL(o),aL(l)),u=oi(t,mj),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&Xe(v.props[f])){var y=v.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var m="".concat(f,"1"),p="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&gl(v.props,"extendDomain")&&Xe(v.props[m])&&Xe(v.props[p])){var y=v.props[m],b=v.props[p];return[Math.min(g[0],y,b),Math.max(g[1],y,b)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,v){return Xe(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},AH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var w=v.length,j;for(_=0;_<w;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[_].fn.apply(v[_].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&o(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(AH);var URe=AH.exports;const zRe=vr(URe);var k2=new zRe,C2="recharts.syncMouseEvents";function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function VRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WRe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PH(n.key),n)}}function HRe(e,t,r){return t&&WRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E2(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=qRe(e,"string");return Cv(t)=="symbol"?t:t+""}function qRe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KRe=function(){function e(){VRe(this,e),E2(this,"activeIndex",0),E2(this,"coordinateList",[]),E2(this,"layout","horizontal")}return HRe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function GRe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Xe(n)&&Xe(a))return!0}return!1}function YRe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function OH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Tr(t,r,n,a),l=Tr(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function XRe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Tr(l,c,u,f),m=Tr(l,c,d,f);n=h.x,a=h.y,s=m.x,o=m.y}else return OH(t);return[{x:n,y:a},{x:s,y:o}]}function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){JRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t,r){return t=QRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QRe(e){var t=ZRe(e,"string");return Ev(t)=="symbol"?t:t+""}function ZRe(e,t){if(Ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eMe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!o||h!=="ScatterChart"&&a!=="axis")return null;var p,g=$b;if(h==="ScatterChart")p=o,g=xAe;else if(h==="BarChart")p=YRe(f,o,c,d),g=jP;else if(f==="radial"){var v=OH(o),y=v.cx,b=v.cy,_=v.radius,w=v.startAngle,j=v.endAngle;p={cx:y,cy:b,startAngle:w,endAngle:j,innerRadius:_,outerRadius:_},g=EW}else p={points:XRe(f,o,c)},g=$b;var N=Py(Py(Py(Py({stroke:"#ccc",pointerEvents:"none"},c),p),Nt(m,!1)),{},{payload:l,payloadIndex:u,className:It("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,N):x.createElement(g,N)}var tMe=["item"],rMe=["children","className","width","height","style","compact","title","desc"];function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(this,arguments)}function iL(e,t){return sMe(e)||aMe(e,t)||RH(e,t)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sMe(e){if(Array.isArray(e))return e}function oL(e,t){if(e==null)return{};var r=iMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MH(n.key),n)}}function cMe(e,t,r){return t&&lMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uMe(e,t,r){return t=l_(t),dMe(e,DH()?Reflect.construct(t,r||[],l_(e).constructor):t.apply(e,r))}function dMe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fMe(e)}function fMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!e})()}function l_(e){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l_(e)}function hMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function ap(e){return gMe(e)||pMe(e)||RH(e)||mMe()}function mMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return oE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oE(e,t)}}function pMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gMe(e){if(Array.isArray(e))return oE(e)}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kt(e,t,r){return t=MH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=vMe(e,"string");return np(t)=="symbol"?t:t+""}function vMe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xMe={xAxis:["bottom","top"],yAxis:["left","right"]},yMe={width:"100%",height:"100%"},FH={x:0,y:0};function Oy(e){return e}var bMe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},_Me=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Be(Be(Be({},a),Tr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Be(Be(Be({},a),Tr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return FH},pj=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ap(l),ap(u)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(s)?t.slice(a,s+1):[]};function IH(e){return e==="number"?[0,"auto"]:void 0}var lE=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=pj(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=lb(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(ap(c),[wW(u,h)]):c},[])},cL=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=bMe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=zke(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=lE(t,r,d,f),m=_Me(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},wMe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=gW(d,s);return n.reduce(function(p,g){var v,y=g.type.defaultProps!==void 0?Be(Be({},g.type.defaultProps),g.props):g.props,b=y.type,_=y.dataKey,w=y.allowDataOverflow,j=y.allowDuplicatedCategory,N=y.scale,S=y.ticks,k=y.includeHidden,C=y[o];if(p[C])return p;var A=pj(t.data,{graphicalItems:a.filter(function(O){var G,V=o in O.props?O.props[o]:(G=O.type.defaultProps)===null||G===void 0?void 0:G[o];return V===C}),dataStartIndex:c,dataEndIndex:u}),P=A.length,T,U,z;GRe(y.domain,w,b)&&(T=wC(y.domain,null,w),m&&(b==="number"||N!=="auto")&&(z=sg(A,_,"category")));var D=IH(b);if(!T||T.length===0){var M,L=(M=y.domain)!==null&&M!==void 0?M:D;if(_){if(T=sg(A,_,b),b==="category"&&m){var I=Pme(T);j&&I?(U=T,T=Yb(0,P)):j||(T=P3(L,T,g).reduce(function(O,G){return O.indexOf(G)>=0?O:[].concat(ap(O),[G])},[]))}else if(b==="category")j?T=T.filter(function(O){return O!==""&&!Mt(O)}):T=P3(L,T,g).reduce(function(O,G){return O.indexOf(G)>=0||G===""||Mt(G)?O:[].concat(ap(O),[G])},[]);else if(b==="number"){var F=Kke(A,a.filter(function(O){var G,V,K=o in O.props?O.props[o]:(G=O.type.defaultProps)===null||G===void 0?void 0:G[o],re="hide"in O.props?O.props.hide:(V=O.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===C&&(k||!re)}),_,s,d);F&&(T=F)}m&&(b==="number"||N!=="auto")&&(z=sg(A,_,"category"))}else m?T=Yb(0,P):l&&l[C]&&l[C].hasStack&&b==="number"?T=h==="expand"?[0,1]:_W(l[C].stackGroups,c,u):T=pW(A,a.filter(function(O){var G=o in O.props?O.props[o]:O.type.defaultProps[o],V="hide"in O.props?O.props.hide:O.type.defaultProps.hide;return G===C&&(k||!V)}),b,d,!0);if(b==="number")T=sE(f,T,C,s,S),L&&(T=wC(L,T,w));else if(b==="category"&&L){var X=L,J=T.every(function(O){return X.indexOf(O)>=0});J&&(T=X)}}return Be(Be({},p),{},kt({},C,Be(Be({},y),{},{axisType:s,domain:T,categoricalDomain:z,duplicateDomain:U,originalDomain:(v=y.domain)!==null&&v!==void 0?v:D,isCategorical:m,layout:d})))},{})},jMe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=pj(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,p=gW(d,s),g=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Be(Be({},y.type.defaultProps),y.props):y.props,_=b[o],w=IH("number");if(!v[_]){g++;var j;return p?j=Yb(0,m):l&&l[_]&&l[_].hasStack?(j=_W(l[_].stackGroups,c,u),j=sE(f,j,_,s)):(j=wC(w,pW(h,n.filter(function(N){var S,k,C=o in N.props?N.props[o]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[o],A="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===_&&!A}),"number",d),a.defaultProps.allowDataOverflow),j=sE(f,j,_,s)),Be(Be({},v),{},kt({},_,Be(Be({axisType:s},a.defaultProps),{},{hide:!0,orientation:ii(xMe,"".concat(s,".").concat(g%2),null),domain:j,originalDomain:w,isCategorical:p,layout:d})))}return v},{})},SMe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=oi(d,s),m={};return h&&h.length?m=wMe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=jMe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},NMe=function(t){var r=tu(t),n=Zl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:XA(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fb(r,n)}},uL=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ys(r,Gm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},kMe=function(t){return!t||!t.length?!1:t.some(function(r){var n=nc(r&&r.type);return n&&n.indexOf("Bar")>=0})},dL=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CMe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ys(f,Gm),p=Ys(f,li),g=Object.keys(c).reduce(function(j,N){var S=c[N],k=S.orientation;return!S.mirror&&!S.hide?Be(Be({},j),{},kt({},k,j[k]+S.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,N){var S=o[N],k=S.orientation;return!S.mirror&&!S.hide?Be(Be({},j),{},kt({},k,ii(j,"".concat(k))+S.height)):j},{top:h.top||0,bottom:h.bottom||0}),y=Be(Be({},v),g),b=y.bottom;m&&(y.bottom+=m.props.height||Gm.defaultProps.height),p&&r&&(y=Hke(y,a,n,r));var _=u-y.left-y.right,w=d-y.top-y.bottom;return Be(Be({brushBottom:b},y),{},{width:Math.max(_,0),height:Math.max(w,0)})},EMe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},DP=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var _=b.graphicalItems,w=b.stackGroups,j=b.offset,N=b.updateId,S=b.dataStartIndex,k=b.dataEndIndex,C=y.barSize,A=y.layout,P=y.barGap,T=y.barCategoryGap,U=y.maxBarSize,z=dL(A),D=z.numericAxisName,M=z.cateAxisName,L=kMe(_),I=[];return _.forEach(function(F,X){var J=pj(y.data,{graphicalItems:[F],dataStartIndex:S,dataEndIndex:k}),O=F.type.defaultProps!==void 0?Be(Be({},F.type.defaultProps),F.props):F.props,G=O.dataKey,V=O.maxBarSize,K=O["".concat(D,"Id")],re=O["".concat(M,"Id")],ue={},_e=c.reduce(function(me,B){var de=b["".concat(B.axisType,"Map")],je=O["".concat(B.axisType,"Id")];de&&de[je]||B.axisType==="zAxis"||_f();var Ne=de[je];return Be(Be({},me),{},kt(kt({},B.axisType,Ne),"".concat(B.axisType,"Ticks"),Zl(Ne)))},ue),W=_e[M],Z=_e["".concat(M,"Ticks")],pe=w&&w[K]&&w[K].hasStack&&rCe(F,w[K].stackGroups),E=nc(F.type).indexOf("Bar")>=0,xe=Fb(W,Z),Te=[],Ue=L&&Vke({barSize:C,stackGroups:w,totalSize:EMe(_e,M)});if(E){var ze,Se,et=Mt(V)?U:V,Ze=(ze=(Se=Fb(W,Z,!0))!==null&&Se!==void 0?Se:et)!==null&&ze!==void 0?ze:0;Te=Wke({barGap:P,barCategoryGap:T,bandSize:Ze!==xe?Ze:xe,sizeList:Ue[re],maxBarSize:et}),Ze!==xe&&(Te=Te.map(function(me){return Be(Be({},me),{},{position:Be(Be({},me.position),{},{offset:me.position.offset-Ze/2})})}))}var oe=F&&F.type&&F.type.getComposedData;oe&&I.push({props:Be(Be({},oe(Be(Be({},_e),{},{displayedData:J,props:y,dataKey:G,item:F,bandSize:xe,barPosition:Te,offset:j,stackedData:pe,layout:A,dataStartIndex:S,dataEndIndex:k}))),{},kt(kt(kt({key:F.key||"item-".concat(X)},D,_e[D]),M,_e[M]),"animationId",N)),childIndex:Wme(F,y.children),item:F})}),I},m=function(y,b){var _=y.props,w=y.dataStartIndex,j=y.dataEndIndex,N=y.updateId;if(!SM({props:_}))return null;var S=_.children,k=_.layout,C=_.stackOffset,A=_.data,P=_.reverseStackOrder,T=dL(k),U=T.numericAxisName,z=T.cateAxisName,D=oi(S,n),M=eCe(A,D,"".concat(U,"Id"),"".concat(z,"Id"),C,P),L=c.reduce(function(O,G){var V="".concat(G.axisType,"Map");return Be(Be({},O),{},kt({},V,SMe(_,Be(Be({},G),{},{graphicalItems:D,stackGroups:G.axisType===U&&M,dataStartIndex:w,dataEndIndex:j}))))},{}),I=CMe(Be(Be({},L),{},{props:_,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(L).forEach(function(O){L[O]=d(_,L[O],I,O.replace("Map",""),r)});var F=L["".concat(z,"Map")],X=NMe(F),J=h(_,Be(Be({},L),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:D,stackGroups:M,offset:I}));return Be(Be({formattedGraphicalItems:J,graphicalItems:D,offset:I,stackGroups:M},X),L)},p=function(v){function y(b){var _,w,j;return oMe(this,y),j=uMe(this,y,[b]),kt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),kt(j,"accessibilityManager",new KRe),kt(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,k=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;j.setState(Be({legendBBox:N},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:A},Be(Be({},j.state),{},{legendBBox:N}))))}}),kt(j,"handleReceiveSyncEvent",function(N,S,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),kt(j,"handleBrushChange",function(N){var S=N.startIndex,k=N.endIndex;if(S!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Be({dataStartIndex:S,dataEndIndex:k},m({props:j.props,dataStartIndex:S,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:k})}}),kt(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var k=Be(Be({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;Tt(C)&&C(k,N)}}),kt(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),k=S?Be(Be({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;Tt(C)&&C(k,N)}),kt(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),kt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),kt(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),kt(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var k=j.props.onMouseLeave;Tt(k)&&k(S,N)}),kt(j,"handleOuterEvent",function(N){var S=Vme(N),k=ii(j.props,"".concat(S));if(S&&Tt(k)){var C,A;/.*touch.*/i.test(S)?A=j.getMouseInfo(N.changedTouches[0]):A=j.getMouseInfo(N),k((C=A)!==null&&C!==void 0?C:{},N)}}),kt(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var k=Be(Be({},S),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;Tt(C)&&C(k,N)}}),kt(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Tt(S)){var k=j.getMouseInfo(N);S(k,N)}}),kt(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Tt(S)){var k=j.getMouseInfo(N);S(k,N)}}),kt(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),kt(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),kt(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),kt(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(Tt(S)){var k=j.getMouseInfo(N);S(k,N)}}),kt(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(Tt(S)){var k=j.getMouseInfo(N);S(k,N)}}),kt(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&k2.emit(C2,j.props.syncId,N,j.eventEmitterSymbol)}),kt(j,"applySyncEvent",function(N){var S=j.props,k=S.layout,C=S.syncMethod,A=j.state.updateId,P=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Be({dataStartIndex:P,dataEndIndex:T},m({props:j.props,dataStartIndex:P,dataEndIndex:T,updateId:A},j.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,z=N.chartY,D=N.activeTooltipIndex,M=j.state,L=M.offset,I=M.tooltipTicks;if(!L)return;if(typeof C=="function")D=C(I,N);else if(C==="value"){D=-1;for(var F=0;F<I.length;F++)if(I[F].value===N.activeLabel){D=F;break}}var X=Be(Be({},L),{},{x:L.left,y:L.top}),J=Math.min(U,X.x+X.width),O=Math.min(z,X.y+X.height),G=I[D]&&I[D].value,V=lE(j.state,j.props.data,D),K=I[D]?{x:k==="horizontal"?I[D].coordinate:J,y:k==="horizontal"?O:I[D].coordinate}:FH;j.setState(Be(Be({},N),{},{activeLabel:G,activeCoordinate:K,activePayload:V,activeTooltipIndex:D}))}else j.setState(N)}),kt(j,"renderCursor",function(N){var S,k=j.state,C=k.isTooltipActive,A=k.activeCoordinate,P=k.activePayload,T=k.offset,U=k.activeTooltipIndex,z=k.tooltipAxisBandSize,D=j.getTooltipEventType(),M=(S=N.props.active)!==null&&S!==void 0?S:C,L=j.props.layout,I=N.key||"_recharts-cursor";return ie.createElement(eMe,{key:I,activeCoordinate:A,activePayload:P,activeTooltipIndex:U,chartName:r,element:N,isActive:M,layout:L,offset:T,tooltipAxisBandSize:z,tooltipEventType:D})}),kt(j,"renderPolarAxis",function(N,S,k){var C=ii(N,"type.axisType"),A=ii(j.state,"".concat(C,"Map")),P=N.type.defaultProps,T=P!==void 0?Be(Be({},P),N.props):N.props,U=A&&A[T["".concat(C,"Id")]];return x.cloneElement(N,Be(Be({},U),{},{className:It(C,U.className),key:N.key||"".concat(S,"-").concat(k),ticks:Zl(U,!0)}))}),kt(j,"renderPolarGrid",function(N){var S=N.props,k=S.radialLines,C=S.polarAngles,A=S.polarRadius,P=j.state,T=P.radiusAxisMap,U=P.angleAxisMap,z=tu(T),D=tu(U),M=D.cx,L=D.cy,I=D.innerRadius,F=D.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Zl(D,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(A)?A:Zl(z,!0).map(function(X){return X.coordinate}),cx:M,cy:L,innerRadius:I,outerRadius:F,key:N.key||"polar-grid",radialLines:k})}),kt(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,k=S.children,C=S.width,A=S.height,P=j.props.margin||{},T=C-(P.left||0)-(P.right||0),U=hW({children:k,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!U)return null;var z=U.item,D=oL(U,tMe);return x.cloneElement(z,Be(Be({},D),{},{chartWidth:C,chartHeight:A,margin:P,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),kt(j,"renderTooltip",function(){var N,S=j.props,k=S.children,C=S.accessibilityLayer,A=Ys(k,na);if(!A)return null;var P=j.state,T=P.isTooltipActive,U=P.activeCoordinate,z=P.activePayload,D=P.activeLabel,M=P.offset,L=(N=A.props.active)!==null&&N!==void 0?N:T;return x.cloneElement(A,{viewBox:Be(Be({},M),{},{x:M.left,y:M.top}),active:L,label:D,payload:L?z:[],coordinate:U,accessibilityLayer:C})}),kt(j,"renderBrush",function(N){var S=j.props,k=S.margin,C=S.data,A=j.state,P=A.offset,T=A.dataStartIndex,U=A.dataEndIndex,z=A.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Cy(j.handleBrushChange,N.props.onChange),data:C,x:Xe(N.props.x)?N.props.x:P.left,y:Xe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(k.bottom||0),width:Xe(N.props.width)?N.props.width:P.width,startIndex:T,endIndex:U,updateId:"brush-".concat(z)})}),kt(j,"renderReferenceElement",function(N,S,k){if(!N)return null;var C=j,A=C.clipPathId,P=j.state,T=P.xAxisMap,U=P.yAxisMap,z=P.offset,D=N.type.defaultProps||{},M=N.props,L=M.xAxisId,I=L===void 0?D.xAxisId:L,F=M.yAxisId,X=F===void 0?D.yAxisId:F;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(k),xAxis:T[I],yAxis:U[X],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),kt(j,"renderActivePoints",function(N){var S=N.item,k=N.activePoint,C=N.basePoint,A=N.childIndex,P=N.isRange,T=[],U=S.props.key,z=S.item.type.defaultProps!==void 0?Be(Be({},S.item.type.defaultProps),S.item.props):S.item.props,D=z.activeDot,M=z.dataKey,L=Be(Be({index:A,dataKey:M,cx:k.x,cy:k.y,r:4,fill:wP(S.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Nt(D,!1)),cb(D));return T.push(y.renderActiveDot(D,L,"".concat(U,"-activePoint-").concat(A))),C?T.push(y.renderActiveDot(D,Be(Be({},L),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(A))):P&&T.push(null),T}),kt(j,"renderGraphicChild",function(N,S,k){var C=j.filterFormatItem(N,S,k);if(!C)return null;var A=j.getTooltipEventType(),P=j.state,T=P.isTooltipActive,U=P.tooltipAxis,z=P.activeTooltipIndex,D=P.activeLabel,M=j.props.children,L=Ys(M,na),I=C.props,F=I.points,X=I.isRange,J=I.baseLine,O=C.item.type.defaultProps!==void 0?Be(Be({},C.item.type.defaultProps),C.item.props):C.item.props,G=O.activeDot,V=O.hide,K=O.activeBar,re=O.activeShape,ue=!!(!V&&T&&L&&(G||K||re)),_e={};A!=="axis"&&L&&L.props.trigger==="click"?_e={onClick:Cy(j.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(_e={onMouseLeave:Cy(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Cy(j.handleItemMouseEnter,N.props.onMouseEnter)});var W=x.cloneElement(N,Be(Be({},C.props),_e));function Z(B){return typeof U.dataKey=="function"?U.dataKey(B.payload):null}if(ue)if(z>=0){var pe,E;if(U.dataKey&&!U.allowDuplicatedCategory){var xe=typeof U.dataKey=="function"?Z:"payload.".concat(U.dataKey.toString());pe=lb(F,xe,D),E=X&&J&&lb(J,xe,D)}else pe=F==null?void 0:F[z],E=X&&J&&J[z];if(re||K){var Te=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[x.cloneElement(N,Be(Be(Be({},C.props),_e),{},{activeIndex:Te})),null,null]}if(!Mt(pe))return[W].concat(ap(j.renderActivePoints({item:C,activePoint:pe,basePoint:E,childIndex:z,isRange:X})))}else{var Ue,ze=(Ue=j.getItemByXY(j.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:W},Se=ze.graphicalItem,et=Se.item,Ze=et===void 0?N:et,oe=Se.childIndex,me=Be(Be(Be({},C.props),_e),{},{activeIndex:oe});return[x.cloneElement(Ze,me),null,null]}return X?[W,null,null]:[W,null]}),kt(j,"renderCustomized",function(N,S,k){return x.cloneElement(N,Be(Be({key:"recharts-customized-".concat(k)},j.props),j.state))}),kt(j,"renderMap",{CartesianGrid:{handler:Oy,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Oy},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Oy},YAxis:{handler:Oy},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Ip("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=fV(j.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return hMe(y,v),cMe(y,[{key:"componentDidMount",value:function(){var _,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,w=_.children,j=_.data,N=_.height,S=_.layout,k=Ys(w,na);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=lE(this.state,j,C,A),T=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+N)/2,z=S==="horizontal",D=z?{x:T,y:U}:{y:T,x:U},M=this.state.formattedGraphicalItems.find(function(I){var F=I.item;return F.type.name==="Scatter"});M&&(D=Be(Be({},D),M.props.points[C].tooltipPosition),P=M.props.points[C].tooltipPayload);var L={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:D};this.setState(L),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ik([Ys(_.children,na)],[Ys(this.props.children,na)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ys(this.props.children,na);if(_&&typeof _.props.shared=="boolean"){var w=_.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=gje(j),S={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},k=j.width/w.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,k);if(!C)return null;var A=this.state,P=A.xAxisMap,T=A.yAxisMap,U=this.getTooltipEventType(),z=cL(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&P&&T){var D=tu(P).scale,M=tu(T).scale,L=D&&D.invert?D.invert(S.chartX):null,I=M&&M.invert?M.invert(S.chartY):null;return Be(Be({},S),{},{xValue:L,yValue:I},z)}return z?Be(Be({},S),z):null}},{key:"inRange",value:function(_,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=_/j,k=w/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=S>=C.left&&S<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:S,y:k}:null}var P=this.state,T=P.angleAxisMap,U=P.radiusAxisMap;if(T&&U){var z=tu(T);return R3({x:S,y:k},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,w=this.getTooltipEventType(),j=Ys(_,na),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=cb(this.props,this.handleOuterEvent);return Be(Be({},S),N)}},{key:"addListener",value:function(){k2.on(C2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k2.removeListener(C2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,w,j){for(var N=this.state.formattedGraphicalItems,S=0,k=N.length;S<k;S++){var C=N[S];if(C.item===_||C.props.key===_.key||w===nc(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,S=w.height,k=w.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:_},ie.createElement("rect",{x:j,y:N,height:S,width:k})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(w,j){var N=iL(j,2),S=N[0],k=N[1];return Be(Be({},w),{},kt({},S,k.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(w,j){var N=iL(j,2),S=N[0],k=N[1];return Be(Be({},w),{},kt({},S,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[_])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(_){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[_])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(_){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var S=0,k=j.length;S<k;S++){var C=j[S],A=C.props,P=C.item,T=P.type.defaultProps!==void 0?Be(Be({},P.type.defaultProps),P.props):P.props,U=nc(P.type);if(U==="Bar"){var z=(A.data||[]).find(function(I){return QTe(_,I)});if(z)return{graphicalItem:C,payload:z}}else if(U==="RadialBar"){var D=(A.data||[]).find(function(I){return R3(_,I)});if(D)return{graphicalItem:C,payload:D}}else if(lj(C,N)||cj(C,N)||wv(C,N)){var M=BPe({graphicalItem:C,activeTooltipItem:N,itemData:T.data}),L=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:Be(Be({},C),{},{childIndex:L}),payload:wv(C,N)?T.data[M]:C.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!SM(this))return null;var w=this.props,j=w.children,N=w.className,S=w.width,k=w.height,C=w.style,A=w.compact,P=w.title,T=w.desc,U=oL(w,rMe),z=Nt(U,!1);if(A)return ie.createElement(zI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement($k,Ih({},z,{width:S,height:k,title:P,desc:T}),this.renderClipPath(),kM(j,this.renderMap)));if(this.props.accessibilityLayer){var D,M;z.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,z.role=(M=this.props.role)!==null&&M!==void 0?M:"application",z.onKeyDown=function(I){_.accessibilityManager.keyboardEvent(I)},z.onFocus=function(){_.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return ie.createElement(zI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",Ih({className:It("recharts-wrapper",N),style:Be({position:"relative",cursor:"default",width:S,height:k},C)},L,{ref:function(F){_.container=F}}),ie.createElement($k,Ih({},z,{width:S,height:k,title:P,desc:T,style:yMe}),this.renderClipPath(),kM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);kt(p,"displayName",r),kt(p,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),kt(p,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,_=v.data,w=v.children,j=v.width,N=v.height,S=v.layout,k=v.stackOffset,C=v.margin,A=y.dataStartIndex,P=y.dataEndIndex;if(y.updateId===void 0){var T=uL(v);return Be(Be(Be({},T),{},{updateId:0},m(Be(Be({props:v},T),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:_,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:w})}if(b!==y.prevDataKey||_!==y.prevData||j!==y.prevWidth||N!==y.prevHeight||S!==y.prevLayout||k!==y.prevStackOffset||!Jh(C,y.prevMargin)){var U=uL(v),z={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},D=Be(Be({},cL(y,_,S)),{},{updateId:y.updateId+1}),M=Be(Be(Be({},U),z),D);return Be(Be(Be({},M),m(Be({props:v},M),y)),{},{prevDataKey:b,prevData:_,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:k,prevMargin:C,prevChildren:w})}if(!Ik(w,y.prevChildren)){var L,I,F,X,J=Ys(w,Gm),O=J&&(L=(I=J.props)===null||I===void 0?void 0:I.startIndex)!==null&&L!==void 0?L:A,G=J&&(F=(X=J.props)===null||X===void 0?void 0:X.endIndex)!==null&&F!==void 0?F:P,V=O!==A||G!==P,K=!Mt(_),re=K&&!V?y.updateId:y.updateId+1;return Be(Be({updateId:re},m(Be(Be({props:v},y),{},{updateId:re,dataStartIndex:O,dataEndIndex:G}),y)),{},{prevChildren:w,dataStartIndex:O,dataEndIndex:G})}return null}),kt(p,"renderActiveDot",function(v,y,b){var _;return x.isValidElement(v)?_=x.cloneElement(v,y):Tt(v)?_=v(y):_=ie.createElement(nj,y),ie.createElement(lr,{className:"recharts-active-dot",key:b},_)});var g=x.forwardRef(function(y,b){return ie.createElement(p,Ih({},y,{ref:b}))});return g.displayName=p.displayName,g},yx=DP({chartName:"LineChart",GraphicalChild:Ac,axisComponents:[{axisType:"xAxis",AxisComp:So},{axisType:"yAxis",AxisComp:No}],formatAxisMap:rH}),fL=DP({chartName:"BarChart",GraphicalChild:Ei,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:So},{axisType:"yAxis",AxisComp:No}],formatAxisMap:rH}),jd=DP({chartName:"PieChart",GraphicalChild:Ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:oj},{axisType:"radiusAxis",AxisComp:sj}],formatAxisMap:fCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const hL=({projects:e,clients:t,users:r,leads:n,surveys:a,loadData:s,isRTL:o,t:l,counts:c,mleadsChartData:u,handleRefresh:d,refreshing:f})=>{var j;const{user:h}=xr(),m=c.projects,p=0,g=c.projects,v=0;c.clients;const y=c.users,b=c.leads,_=c.surveys,w=[...e].sort((N,S)=>new Date(S.created_at||"").getTime()-new Date(N.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:l("dashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:l("dashboard.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(ce,{onClick:d,disabled:f,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(hc,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?l("common.refreshing","Refreshing..."):l("common.refresh","Refresh")]}),i.jsx(J7,{})]})]}),i.jsxs(it,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Bt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(er,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Dn,{className:"h-6 w-6 text-primary"}),l("employeeDashboard.employeeInfo")]})}),i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.name")}),i.jsx("p",{className:"font-medium",children:Fe(h.profile||{},"user_name")||h.name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.email")}),i.jsx("p",{className:"font-medium truncate",title:h.email,children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:h.permissions_permissions_Name||h.role||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:l("employeeDashboard.memberSince")}),i.jsx("p",{className:"font-medium",children:(j=h.profile)!=null&&j.created_at?new Date(h.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-5",children:[i.jsx(Ti,{title:l("dashboard.totalProjects"),value:m,subtext:`${p} ${l("dashboard.completed")}`,icon:VB,isRTL:o}),i.jsx(Ti,{title:l("dashboard.inProgress"),value:g,subtext:l("dashboard.activeProjects"),icon:Za,isRTL:o}),i.jsx(Ti,{title:l("dashboard.teamMembers"),value:y,subtext:l("dashboard.activeUsers"),icon:Za,isRTL:o}),i.jsx(Ti,{title:l("dashboard.leads"),value:b,subtext:l("dashboard.totalLeads"),icon:Xd,isRTL:o}),i.jsx(Ti,{title:l("dashboard.surveys"),value:_,subtext:l("dashboard.totalSurveys"),icon:bs,isRTL:o})]}),i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{children:i.jsxs(er,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Xd,{className:"h-6 w-6 text-primary"}),l("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(yx,{data:u,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"date",angle:o?45:-45,textAnchor:o?"start":"end",height:80,tick:{fontSize:12},reversed:o}),i.jsx(No,{orientation:o?"right":"left",label:{value:"Number of Leads",angle:o?90:-90,position:o?"insideRight":"insideLeft"}}),i.jsx(na,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:N=>[`${N} leads`,"Total"]}),i.jsx(li,{}),i.jsx(Ac,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(er,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.recentProjects")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:w.length>0?w.map(N=>i.jsx(AMe,{project:N,clientName:N.company_name||l("dashboard.noClient"),isRTL:o,t:l},N.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:l("dashboard.noProjectsYet")})})]}),i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(er,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:l("dashboard.projectStatus")})}),i.jsxs(dt,{className:"space-y-2 pt-4",children:[i.jsx(T2,{color:"bg-emerald-500",label:l("dashboard.completedStatus"),value:p,isRTL:o}),i.jsx(T2,{color:"bg-blue-500",label:l("dashboard.inProgressStatus"),value:g,isRTL:o}),i.jsx(T2,{color:"bg-slate-400",label:l("dashboard.notStartedStatus"),value:v,isRTL:o})]})]})]})]})},TMe=({user:e,myTasks:t,myProjects:r,leads:n,surveys:a,isRTL:s,t:o,counts:l,mleadsChartData:c,handleRefresh:u,refreshing:d})=>{var g;const f=t.filter(v=>v.task_status==="completed").length,h=t.filter(v=>v.task_status==="in_progress").length,m=l.projects,p=[...t].sort((v,y)=>new Date(y.created_at||"").getTime()-new Date(v.created_at||"").getTime()).slice(0,5);return i.jsxs("div",{className:"space-y-8",dir:s?"rtl":"ltr",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),i.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Fe(e.profile||{},"user.name")||e.email})})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[i.jsxs(ce,{onClick:u,disabled:d,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[i.jsx(hc,{className:`h-4 w-4 ${d?"animate-spin":""}`}),d?o("common.refreshing","Refreshing..."):o("common.refresh","Refresh")]}),i.jsx(J7,{})]})]}),i.jsxs(it,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[i.jsx(Bt,{className:"border-b border-slate-200 dark:border-slate-700",children:i.jsxs(er,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Dn,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsx(A2,{label:o("employeeDashboard.name"),value:Fe(e.profile||{},"user_name")||"N/A",isRTL:s}),i.jsx(A2,{label:o("employeeDashboard.email"),value:e.email,isRTL:s}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),i.jsx(ht,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),i.jsx(A2,{label:o("employeeDashboard.memberSince"),value:(g=e.profile)!=null&&g.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:s})]})})]}),i.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[i.jsx(Ti,{title:o("employeeDashboard.myProjects"),value:l.projects,subtext:`${m} ${o("employeeDashboard.active")}`,icon:qh,isRTL:s}),i.jsx(Ti,{title:o("employeeDashboard.myTasks"),value:l.myTasks,subtext:`${f} ${o("employeeDashboard.completed")}`,icon:Xd,isRTL:s}),i.jsx(Ti,{title:o("employeeDashboard.inProgress"),value:h,subtext:o("employeeDashboard.activeTasks"),icon:Ad,isRTL:s}),i.jsx(Ti,{title:o("employeeDashboard.completedTasks"),value:f,subtext:o("employeeDashboard.finishedTasks"),icon:rc,isRTL:s}),i.jsx(Ti,{title:o("employeeDashboard.leads"),value:l.leads,subtext:o("employeeDashboard.totalLeads"),icon:Xd,isRTL:s}),i.jsx(Ti,{title:o("employeeDashboard.surveys"),value:l.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:bs,isRTL:s})]}),i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{children:i.jsxs(er,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Xd,{className:"h-6 w-6 text-primary"}),o("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(yx,{data:c,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"date",angle:s?45:-45,textAnchor:s?"start":"end",height:80,tick:{fontSize:12},reversed:s}),i.jsx(No,{orientation:s?"right":"left",label:{value:"Number of Leads",angle:s?90:-90,position:s?"insideRight":"insideLeft"}}),i.jsx(na,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:v=>[`${v} leads`,"Total"]}),i.jsx(li,{}),i.jsx(Ac,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(er,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:r.length>0?r.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.company_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.contract_code||o("employeeDashboard.noDescription")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:v.contract_code})]},v.project_id)):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:i.jsx(er,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),i.jsx(dt,{className:"space-y-2 pt-4",children:p.length>0?p.map(v=>{var y;return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:v.task_name}),i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:v.description||o("employeeDashboard.noDescription")})]}),i.jsx(ht,{variant:v.task_status==="completed"?"default":v.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(y=v.task_status)==null?void 0:y.replace("_"," ")})]},v.task_id)}):i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Ti=({title:e,value:t,subtext:r,icon:n,isRTL:a})=>i.jsxs(it,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:a?"rtl":"ltr",children:[i.jsxs(Bt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[i.jsx(er,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),i.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i.jsx(n,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),i.jsxs(dt,{children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:r})]})]}),AMe=({project:e,clientName:t,isRTL:r,t:n})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:t||n("dashboard.noClient")})]}),i.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),T2=({color:e,label:t,value:r,isRTL:n})=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),i.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:t})]}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:r})]}),A2=({label:e,value:t,isRTL:r})=>i.jsxs("div",{dir:r?"rtl":"ltr",children:[i.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),i.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:t})]});function PMe(){const{t:e}=Vt(),{currentLanguage:t,isRTL:r}=Ia();tn();const{user:n,loading:a}=xr(),[s,o]=x.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(new Map),[g,v]=x.useState(!1),y=async()=>{v(!0);try{localStorage.removeItem("dashboard_counts"),localStorage.removeItem("dashboard_mleads_chart"),localStorage.removeItem("dashboard_permissions"),c([]),p(new Map),await Promise.all([j(!0),w(),_()])}catch(N){console.error("[Dashboard] Refresh failed:",N)}finally{v(!1)}},b=s.projects.filter(N=>{var C;const S=(C=n==null?void 0:n.profile)==null?void 0:C.userid,k=S?Number(S):null;return k!==null&&!isNaN(k)&&Number(N.created_by)===k}),_=async()=>{try{const N="dashboard_mleads_chart",S=localStorage.getItem(N);if(S){const{data:D,timestamp:M}=JSON.parse(S),L=Date.now()-M,I=5*60*1e3;if(L<I&&D.length>0){console.log("[Dashboard] Using cached MLeads chart data"),c(D);return}}if(l.length>0){console.log("[Dashboard] MLeads chart data already loaded, skipping...");return}const k=new Date;k.setDate(k.getDate()-30);const C={pageSize:50,select_fields:"leads_id,created_at",exact_filters:{created_at_gte:k.toISOString().split("T")[0]}},P=(await Y.mLeads.list(C)).data||[],T=new Map;P.forEach(D=>{const M=new Date(D.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});T.set(M,(T.get(M)||0)+1)});const z=Array.from(T.entries()).sort((D,M)=>new Date(D[0]).getTime()-new Date(M[0]).getTime()).map(([D,M])=>({date:D,count:M}));localStorage.setItem(N,JSON.stringify({data:z,timestamp:Date.now()})),c(z)}catch(N){console.error("[Dashboard] Failed to load MLeads chart data:",N);const k=localStorage.getItem("dashboard_mleads_chart");if(k){const{data:C}=JSON.parse(k);c(C)}}};x.useEffect(()=>{n&&!a&&(j(),w(),_())},[n==null?void 0:n.id,a]);const w=async()=>{try{const N="dashboard_permissions",S=localStorage.getItem(N);if(S){const{data:A,timestamp:P}=JSON.parse(S),T=Date.now()-P,U=30*60*1e3;if(T<U){console.log("[Dashboard] Using cached permission names"),p(new Map(A));return}}const k=await qT(),C=new Map;k.forEach(A=>{C.set(A.permissions_ID,A.permissions_Name)}),localStorage.setItem(N,JSON.stringify({data:Array.from(C.entries()),timestamp:Date.now()})),p(C)}catch(N){console.error("Failed to load permission names:",N);const k=localStorage.getItem("dashboard_permissions");if(k){const{data:C}=JSON.parse(k);p(new Map(C))}}},j=async(N=!1)=>{var S,k,C,A,P,T;try{d(!0),h(null);const U="dashboard_counts";if(!N){const V=localStorage.getItem(U);if(V){const{data:K,timestamp:re}=JSON.parse(V),ue=Date.now()-re,_e=2*60*1e3;if(ue<_e){console.log("[Dashboard] Using cached dashboard counts"),o(W=>({...W,counts:K.counts})),d(!1);return}}}const[z]=await Promise.all([Y.getAggregates(["m_projects","users","m_leads","surveys","tasks","clients"])]),D=((S=z.m_projects)==null?void 0:S.Count)||0,M=((k=z.users)==null?void 0:k.Count)||0,L=((C=z.m_leads)==null?void 0:C.Count)||0,I=((A=z.surveys)==null?void 0:A.Count)||0,F=((P=z.clients)==null?void 0:P.Count)||0,X=((T=z.tasks)==null?void 0:T.Count)||0,J={projects:D,users:M,leads:L,surveys:I,clients:F,myTasks:0};localStorage.setItem(U,JSON.stringify({data:{counts:J},timestamp:Date.now()})),o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:J})}catch(U){console.error("[Dashboard] Failed to load data:",U);const D=localStorage.getItem("dashboard_counts");if(D){const{data:M}=JSON.parse(D);o(L=>({...L,counts:M.counts})),d(!1);return}o({projects:[],users:[],leads:[],surveys:[],clients:[],myTasks:[],counts:{projects:0,users:0,leads:0,surveys:0,clients:0,myTasks:0}}),h(U.message||"Failed to load data")}finally{d(!1)}};return u||a||!n?i.jsx("div",{className:"flex items-center justify-center h-full py-12",dir:r?"rtl":"ltr",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})}):f?i.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),i.jsx(ce,{onClick:()=>j(),className:"mt-4",children:e("common.retry","Retry")})]})}):n.role==="client"?i.jsx(i1,{to:"/client-portal",replace:!0}):n.role==="admin"?i.jsx(hL,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:j,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:g}):["employee","manager","team_leader"].includes(n.role)?i.jsx(TMe,{user:n,myTasks:s.myTasks,myProjects:b,leads:s.leads,surveys:s.surveys,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:g}):["partner_employee","partner_leader"].includes(n.role)?i.jsxs("div",{className:"space-y-8",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),i.jsxs(it,{className:"border-0 shadow-md",children:[i.jsx(Bt,{children:i.jsxs(er,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[i.jsx(Xd,{className:"h-6 w-6 text-primary"}),e("dashboard.mleadsTrend","MLeads Trend (Last 30 Days)")]})}),i.jsx(dt,{children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(yx,{data:l,margin:{top:5,right:30,left:30,bottom:5},children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"date",angle:r?45:-45,textAnchor:r?"start":"end",height:80,tick:{fontSize:12},reversed:r}),i.jsx(No,{orientation:r?"right":"left",label:{value:"Number of Leads",angle:r?90:-90,position:r?"insideRight":"insideLeft"}}),i.jsx(na,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:N=>[`${N} leads`,"Total"]}),i.jsx(li,{}),i.jsx(Ac,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]}),i.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:i.jsx(Ti,{title:"",value:0,subtext:"",icon:qh,isRTL:r})}),i.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):i.jsx(hL,{projects:s.projects,users:s.users,leads:s.leads,clients:s.clients,surveys:s.surveys,loadData:j,isRTL:r,t:e,counts:s.counts,mleadsChartData:l,handleRefresh:y,refreshing:g})}var gj="Popover",[LH,oqe]=fs(gj,[Ep]),bx=Ep(),[OMe,ld]=LH(gj),$H=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:o=!1}=e,l=bx(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=vc({prop:n,defaultProp:a??!1,onChange:s,caller:gj});return i.jsx(cA,{...l,children:i.jsx(OMe,{scope:t,contentId:ia(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:o,children:r})})};$H.displayName=gj;var BH="PopoverAnchor",DMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(BH,r),s=bx(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(cw,{...s,...n,ref:t})});DMe.displayName=BH;var UH="PopoverTrigger",zH=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(UH,r),s=bx(r),o=zt(t,a.triggerRef),l=i.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KH(a.open),...n,ref:o,onClick:at(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:i.jsx(cw,{asChild:!0,...s,children:l})});zH.displayName=UH;var RP="PopoverPortal",[RMe,MMe]=LH(RP,{forceMount:void 0}),VH=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=ld(RP,t);return i.jsx(RMe,{scope:t,forceMount:r,children:i.jsx(La,{present:r||s.open,children:i.jsx(nx,{asChild:!0,container:a,children:n})})})};VH.displayName=RP;var sp="PopoverContent",WH=x.forwardRef((e,t)=>{const r=MMe(sp,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=ld(sp,e.__scopePopover);return i.jsx(La,{present:n||s.open,children:s.modal?i.jsx(IMe,{...a,ref:t}):i.jsx(LMe,{...a,ref:t})})});WH.displayName=sp;var FMe=Wu("PopoverContent.RemoveScroll"),IMe=x.forwardRef((e,t)=>{const r=ld(sp,e.__scopePopover),n=x.useRef(null),a=zt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return uw(o)},[]),i.jsx(ax,{as:FMe,allowPinchZoom:!0,children:i.jsx(HH,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:at(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:at(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:at(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),LMe=x.forwardRef((e,t)=>{const r=ld(sp,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return i.jsx(HH,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),HH=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ld(sp,r),m=bx(r);return sw(),i.jsx(tx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(ex,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(uA,{"data-state":KH(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qH="PopoverClose",$Me=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ld(qH,r);return i.jsx(mt.button,{type:"button",...n,ref:t,onClick:at(e.onClick,()=>a.onOpenChange(!1))})});$Me.displayName=qH;var BMe="PopoverArrow",UMe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=bx(r);return i.jsx(dA,{...a,...n,ref:t})});UMe.displayName=BMe;function KH(e){return e?"open":"closed"}var zMe=$H,VMe=zH,WMe=VH,GH=WH;const ga=zMe,va=VMe,ea=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>i.jsx(WMe,{children:i.jsx(GH,{ref:a,align:t,sideOffset:r,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));ea.displayName=GH.displayName;const HMe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},qMe=(e,t,r)=>{const n=HMe[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},KMe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},GMe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},YMe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XMe={date:Hh({formats:KMe,defaultWidth:"full"}),time:Hh({formats:GMe,defaultWidth:"full"}),dateTime:Hh({formats:YMe,defaultWidth:"full"})},JMe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},QMe=e=>JMe[e],ZMe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},eFe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},tFe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},rFe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},nFe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},aFe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},sFe=e=>String(e),iFe={ordinalNumber:sFe,era:rl({values:ZMe,defaultWidth:"wide"}),quarter:rl({values:eFe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:tFe,defaultWidth:"wide"}),day:rl({values:rFe,defaultWidth:"wide"}),dayPeriod:rl({values:nFe,defaultWidth:"wide",formattingValues:aFe,defaultFormattingWidth:"wide"})},oFe=/^(\d+)(th|st|nd|rd)?/i,lFe=/\d+/i,cFe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},uFe={any:[//,//]},dFe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},fFe={any:[/1/i,/2/i,/3/i,/4/i]},hFe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},mFe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},pFe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},gFe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},vFe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},xFe={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},yFe={ordinalNumber:CB({matchPattern:oFe,parsePattern:lFe,valueCallback:e=>parseInt(e,10)}),era:nl({matchPatterns:cFe,defaultMatchWidth:"wide",parsePatterns:uFe,defaultParseWidth:"any"}),quarter:nl({matchPatterns:dFe,defaultMatchWidth:"wide",parsePatterns:fFe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nl({matchPatterns:hFe,defaultMatchWidth:"wide",parsePatterns:mFe,defaultParseWidth:"any"}),day:nl({matchPatterns:pFe,defaultMatchWidth:"wide",parsePatterns:gFe,defaultParseWidth:"any"}),dayPeriod:nl({matchPatterns:vFe,defaultMatchWidth:"any",parsePatterns:xFe,defaultParseWidth:"any"})},bFe={code:"ar",formatDistance:qMe,formatLong:XMe,formatRelative:QMe,localize:iFe,match:yFe,options:{weekStartsOn:6,firstWeekContainsDate:1}};var Ct=function(){return Ct=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ct.apply(this,arguments)};function _Fe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function YH(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function _x(e){return e.mode==="multiple"}function wx(e){return e.mode==="range"}function vj(e){return e.mode==="single"}var wFe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jFe(e,t){return is(e,"LLLL y",t)}function SFe(e,t){return is(e,"d",t)}function NFe(e,t){return is(e,"LLLL",t)}function kFe(e){return"".concat(e)}function CFe(e,t){return is(e,"cccccc",t)}function EFe(e,t){return is(e,"yyyy",t)}var TFe=Object.freeze({__proto__:null,formatCaption:jFe,formatDay:SFe,formatMonthCaption:NFe,formatWeekNumber:kFe,formatWeekdayName:CFe,formatYearCaption:EFe}),AFe=function(e,t,r){return is(e,"do MMMM (EEEE)",r)},PFe=function(){return"Month: "},OFe=function(){return"Go to next month"},DFe=function(){return"Go to previous month"},RFe=function(e,t){return is(e,"cccc",t)},MFe=function(e){return"Week n. ".concat(e)},FFe=function(){return"Year: "},IFe=Object.freeze({__proto__:null,labelDay:AFe,labelMonthDropdown:PFe,labelNext:OFe,labelPrevious:DFe,labelWeekNumber:MFe,labelWeekday:RFe,labelYearDropdown:FFe});function LFe(){var e="buttons",t=wFe,r=WT,n={},a={},s=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:TFe,labels:IFe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:o,today:l,mode:"default"}}function $Fe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,o=e.toDate;return n?s=Cs(n):t&&(s=new Date(t,0,1)),a?o=Z_(a):r&&(o=new Date(r,11,31)),{fromDate:s?Nm(s):void 0,toDate:o?Nm(o):void 0}}var XH=x.createContext(void 0);function BFe(e){var t,r=e.initialProps,n=LFe(),a=$Fe(r),s=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!o)&&(l="buttons");var c;(vj(r)||_x(r)||wx(r))&&(c=r.onSelect);var u=Ct(Ct(Ct({},n),r),{captionLayout:l,classNames:Ct(Ct({},n.classNames),r.classNames),components:Ct({},r.components),formatters:Ct(Ct({},n.formatters),r.formatters),fromDate:s,labels:Ct(Ct({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ct(Ct({},n.modifiers),r.modifiers),modifiersClassNames:Ct(Ct({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ct(Ct({},n.styles),r.styles),toDate:o});return i.jsx(XH.Provider,{value:u,children:e.children})}function Or(){var e=x.useContext(XH);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function JH(e){var t=Or(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return i.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function UFe(e){return i.jsx("svg",Ct({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function QH(e){var t,r,n=e.onChange,a=e.value,s=e.children,o=e.caption,l=e.className,c=e.style,u=Or(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:UFe;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function zFe(e){var t,r=Or(),n=r.fromDate,a=r.toDate,s=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var f=[];if(sae(n,a))for(var h=Cs(n),m=n.getMonth();m<=a.getMonth();m++)f.push(LS(h,m));else for(var h=Cs(new Date),m=0;m<=11;m++)f.push(LS(h,m));var p=function(v){var y=Number(v.target.value),b=LS(Cs(e.displayMonth),y);e.onChange(b)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:QH;return i.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return i.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function VFe(e){var t,r=e.displayMonth,n=Or(),a=n.fromDate,s=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return i.jsx(i.Fragment,{});if(!s)return i.jsx(i.Fragment,{});for(var m=a.getFullYear(),p=s.getFullYear(),g=m;g<=p;g++)h.push(jR(NB(new Date),g));var v=function(b){var _=jR(Cs(r),Number(b.target.value));e.onChange(_)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:QH;return i.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function WFe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function HFe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&Cm(s,a)<0){var u=-1*(c-1);a=To(s,u)}return o&&Cm(a,o)<0&&(a=o),Cs(a)}function qFe(){var e=Or(),t=HFe(e),r=WFe(t,e.month),n=r[0],a=r[1],s=function(o){var l;if(!e.disableNavigation){var c=Cs(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function KFe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Cs(e),s=Cs(To(a,n)),o=Cm(s,a),l=[],c=0;c<o;c++){var u=To(a,c);l.push(u)}return r&&(l=l.reverse()),l}function GFe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Cs(e);if(!r)return To(l,o);var c=Cm(r,e);if(!(c<s))return To(l,o)}}function YFe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,o=n?s:1,l=Cs(e);if(!r)return To(l,-o);var c=Cm(l,r);if(!(c<=0))return To(l,-o)}}var ZH=x.createContext(void 0);function XFe(e){var t=Or(),r=qFe(),n=r[0],a=r[1],s=KFe(n,t),o=GFe(n,t),l=YFe(n,t),c=function(f){return s.some(function(h){return HT(f,h)})},u=function(f,h){c(f)||(h&&OB(f,h)?a(To(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(ZH.Provider,{value:d,children:e.children})}function jx(){var e=x.useContext(ZH);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function mL(e){var t,r=Or(),n=r.classNames,a=r.styles,s=r.components,o=jx().goToMonth,l=function(d){o(To(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:JH,u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:n.vhidden,children:u}),i.jsx(zFe,{onChange:l,displayMonth:e.displayMonth}),i.jsx(VFe,{onChange:l,displayMonth:e.displayMonth})]})}function JFe(e){return i.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function QFe(e){return i.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var c_=x.forwardRef(function(e,t){var r=Or(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var o=s.join(" "),l=Ct(Ct({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),i.jsx("button",Ct({},e,{ref:t,type:"button",className:o,style:l}))});function ZFe(e){var t,r,n=Or(),a=n.dir,s=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:s}),g=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:QFe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:JFe;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&i.jsx(c_,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(v,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&i.jsx(c_,{name:"next-month","aria-label":p,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function pL(e){var t=Or().numberOfMonths,r=jx(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(p){return HT(e.displayMonth,p)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return i.jsx(ZFe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function e3e(e){var t,r=Or(),n=r.classNames,a=r.disableNavigation,s=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:JH,u;return a?u=i.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=i.jsx(mL,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(mL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(pL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(pL,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:n.caption,style:s.caption,children:u})}function t3e(e){var t=Or(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:n.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function r3e(e,t,r){for(var n=r?df(new Date):yl(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var o=Ka(n,s);a.push(o)}return a}function n3e(){var e=Or(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=r3e(a,s,o);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function a3e(){var e,t=Or(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:n3e;return i.jsx("thead",{style:n.head,className:r.head,children:i.jsx(s,{})})}function s3e(e){var t=Or(),r=t.locale,n=t.formatters.formatDay;return i.jsx(i.Fragment,{children:n(e.date,{locale:r})})}var MP=x.createContext(void 0);function i3e(e){if(!_x(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(MP.Provider,{value:t,children:e.children})}return i.jsx(o3e,{initialProps:e.initialProps,children:e.children})}function o3e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var p=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!p){var g=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!g){var v=n?YH([],n):[];if(d.selected){var y=v.findIndex(function(b){return ws(u,b)});v.splice(y,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return ws(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return i.jsx(MP.Provider,{value:c,children:r})}function FP(){var e=x.useContext(MP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function l3e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?ws(a,e)&&ws(n,e)?void 0:ws(a,e)?{from:a,to:void 0}:ws(n,e)?void 0:mk(n,e)?{from:e,to:a}:{from:n,to:e}:a?mk(e,a)?{from:a,to:e}:{from:e,to:a}:n?OB(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var IP=x.createContext(void 0);function c3e(e){if(!wx(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(IP.Provider,{value:t,children:e.children})}return i.jsx(u3e,{initialProps:e.initialProps,children:e.children})}function u3e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,o=a.to,l=t.min,c=t.max,u=function(m,p,g){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,m,p,g);var b=l3e(m,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,m,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],ws(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),l&&(s&&!o&&d.disabled.push({after:IS(s,l-1),before:Ka(s,l-1)}),s&&o&&d.disabled.push({after:s,before:Ka(s,l-1)}),!s&&o&&d.disabled.push({after:IS(o,l-1),before:Ka(o,l-1)})),c){if(s&&!o&&(d.disabled.push({before:Ka(s,-c+1)}),d.disabled.push({after:Ka(s,c-1)})),s&&o){var f=ol(o,s)+1,h=c-f;d.disabled.push({before:IS(s,h)}),d.disabled.push({after:Ka(o,h)})}!s&&o&&(d.disabled.push({before:Ka(o,-c+1)}),d.disabled.push({after:Ka(o,c-1)}))}return i.jsx(IP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function LP(){var e=x.useContext(IP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function m1(e){return Array.isArray(e)?YH([],e):e!==void 0?[e]:[]}function d3e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=m1(a)}),t}var Fo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Fo||(Fo={}));var f3e=Fo.Selected,Il=Fo.Disabled,h3e=Fo.Hidden,m3e=Fo.Today,P2=Fo.RangeEnd,O2=Fo.RangeMiddle,D2=Fo.RangeStart,p3e=Fo.Outside;function g3e(e,t,r){var n,a=(n={},n[f3e]=m1(e.selected),n[Il]=m1(e.disabled),n[h3e]=m1(e.hidden),n[m3e]=[e.today],n[P2]=[],n[O2]=[],n[D2]=[],n[p3e]=[],n);return e.fromDate&&a[Il].push({before:e.fromDate}),e.toDate&&a[Il].push({after:e.toDate}),_x(e)?a[Il]=a[Il].concat(t.modifiers[Il]):wx(e)&&(a[Il]=a[Il].concat(r.modifiers[Il]),a[D2]=r.modifiers[D2],a[O2]=r.modifiers[O2],a[P2]=r.modifiers[P2]),a}var eq=x.createContext(void 0);function v3e(e){var t=Or(),r=FP(),n=LP(),a=g3e(t,r,n),s=d3e(t.modifiers),o=Ct(Ct({},a),s);return i.jsx(eq.Provider,{value:o,children:e.children})}function tq(){var e=x.useContext(eq);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function x3e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function y3e(e){return!!(e&&typeof e=="object"&&"from"in e)}function b3e(e){return!!(e&&typeof e=="object"&&"after"in e)}function _3e(e){return!!(e&&typeof e=="object"&&"before"in e)}function w3e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function j3e(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=ol(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var o=ol(e,n)>=0&&ol(a,e)>=0;return o}return a?ws(a,e):n?ws(n,e):!1}function S3e(e){return zT(e)}function N3e(e){return Array.isArray(e)&&e.every(zT)}function k3e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(S3e(r))return ws(e,r);if(N3e(r))return r.includes(e);if(y3e(r))return j3e(e,r);if(w3e(r))return r.dayOfWeek.includes(e.getDay());if(x3e(r)){var n=ol(r.before,e),a=ol(r.after,e),s=n>0,o=a<0,l=mk(r.before,r.after);return l?o&&s:s||o}return b3e(r)?ol(e,r.after)>0:_3e(r)?ol(r.before,e)>0:typeof r=="function"?r(e):!1})}function $P(e,t,r){var n=Object.keys(t).reduce(function(s,o){var l=t[o];return k3e(e,l)&&s.push(o),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!HT(e,r)&&(a.outside=!0),a}function C3e(e,t){for(var r=Cs(e[0]),n=Z_(e[e.length-1]),a,s,o=r;o<=n;){var l=$P(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ka(o,1);continue}if(l.selected)return o;l.today&&!s&&(s=o),a||(a=o),o=Ka(o,1)}return s||a}var E3e=365;function rq(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Ka,week:hk,month:To,year:Kre,startOfWeek:function(v){return a.ISOWeek?df(v):yl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?kB(v):VT(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Gre([u,m]):n==="after"&&d&&(m=Yre([d,m]));var p=!0;if(s){var g=$P(m,s);p=!g.disabled&&!g.hidden}return p?m:l.count>E3e?l.lastFocused:rq(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Ct(Ct({},l),{count:l.count+1})})}var nq=x.createContext(void 0);function T3e(e){var t=jx(),r=tq(),n=x.useState(),a=n[0],s=n[1],o=x.useState(),l=o[0],c=o[1],u=C3e(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=Or(),p=function(v,y){if(a){var b=rq(a,{moveBy:v,direction:y,context:m,modifiers:r});ws(a,b)||(t.goToDate(b,a),h(b))}},g={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return i.jsx(nq.Provider,{value:g,children:e.children})}function BP(){var e=x.useContext(nq);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function A3e(e,t){var r=tq(),n=$P(e,r,t);return n}var UP=x.createContext(void 0);function P3e(e){if(!vj(e.initialProps)){var t={selected:void 0};return i.jsx(UP.Provider,{value:t,children:e.children})}return i.jsx(O3e,{initialProps:e.initialProps,children:e.children})}function O3e(e){var t=e.initialProps,r=e.children,n=function(s,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,o,l)},a={selected:t.selected,onDayClick:n};return i.jsx(UP.Provider,{value:a,children:r})}function aq(){var e=x.useContext(UP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function D3e(e,t){var r=Or(),n=aq(),a=FP(),s=LP(),o=BP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,_=function(L){var I,F,X,J;vj(r)?(I=n.onDayClick)===null||I===void 0||I.call(n,e,t,L):_x(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,L):wx(r)?(X=s.onDayClick)===null||X===void 0||X.call(s,e,t,L):(J=r.onDayClick)===null||J===void 0||J.call(r,e,t,L)},w=function(L){var I;h(e),(I=r.onDayFocus)===null||I===void 0||I.call(r,e,t,L)},j=function(L){var I;f(),(I=r.onDayBlur)===null||I===void 0||I.call(r,e,t,L)},N=function(L){var I;(I=r.onDayMouseEnter)===null||I===void 0||I.call(r,e,t,L)},S=function(L){var I;(I=r.onDayMouseLeave)===null||I===void 0||I.call(r,e,t,L)},k=function(L){var I;(I=r.onDayPointerEnter)===null||I===void 0||I.call(r,e,t,L)},C=function(L){var I;(I=r.onDayPointerLeave)===null||I===void 0||I.call(r,e,t,L)},A=function(L){var I;(I=r.onDayTouchCancel)===null||I===void 0||I.call(r,e,t,L)},P=function(L){var I;(I=r.onDayTouchEnd)===null||I===void 0||I.call(r,e,t,L)},T=function(L){var I;(I=r.onDayTouchMove)===null||I===void 0||I.call(r,e,t,L)},U=function(L){var I;(I=r.onDayTouchStart)===null||I===void 0||I.call(r,e,t,L)},z=function(L){var I;(I=r.onDayKeyUp)===null||I===void 0||I.call(r,e,t,L)},D=function(L){var I;switch(L.key){case"ArrowLeft":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":L.preventDefault(),L.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":L.preventDefault(),L.stopPropagation(),u();break;case"ArrowUp":L.preventDefault(),L.stopPropagation(),d();break;case"PageUp":L.preventDefault(),L.stopPropagation(),L.shiftKey?g():m();break;case"PageDown":L.preventDefault(),L.stopPropagation(),L.shiftKey?v():p();break;case"Home":L.preventDefault(),L.stopPropagation(),y();break;case"End":L.preventDefault(),L.stopPropagation(),b();break}(I=r.onDayKeyDown)===null||I===void 0||I.call(r,e,t,L)},M={onClick:_,onFocus:w,onBlur:j,onKeyDown:D,onKeyUp:z,onMouseEnter:N,onMouseLeave:S,onPointerEnter:k,onPointerLeave:C,onTouchCancel:A,onTouchEnd:P,onTouchMove:T,onTouchStart:U};return M}function R3e(){var e=Or(),t=aq(),r=FP(),n=LP(),a=vj(e)?t.selected:_x(e)?r.selected:wx(e)?n.selected:void 0;return a}function M3e(e){return Object.values(Fo).includes(e)}function F3e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(M3e(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function I3e(e,t){var r=Ct({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ct(Ct({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function L3e(e,t,r){var n,a,s,o=Or(),l=BP(),c=A3e(e,t),u=D3e(e,c),d=R3e(),f=!!(o.onDayClick||o.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&ws(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=F3e(o,c).join(" "),m=I3e(o,c),p=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(s=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:s3e,v=i.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),y={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&ws(l.focusTarget,e)&&!c.outside,_=l.focusedDay&&ws(l.focusedDay,e),w=Ct(Ct(Ct({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=_||b?0:-1,n)),u),j={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:w,divProps:y};return j}function $3e(e){var t=x.useRef(null),r=L3e(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(c_,Ct({name:"day",ref:t},r.buttonProps)):i.jsx("div",Ct({},r.divProps))}function B3e(e){var t=e.number,r=e.dates,n=Or(),a=n.onWeekNumberClick,s=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return i.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return i.jsx(c_,{name:"week-number","aria-label":f,className:o.weeknumber,style:s.weeknumber,onClick:h,children:d})}function U3e(e){var t,r,n=Or(),a=n.styles,s=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:$3e,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:B3e,d;return o&&(d=i.jsx("td",{className:s.cell,style:a.cell,children:i.jsx(u,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return i.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:i.jsx(c,{displayMonth:e.displayMonth,date:f})},rae(f))})]})}function gL(e,t,r){for(var n=r!=null&&r.ISOWeek?kB(t):VT(t,r),a=r!=null&&r.ISOWeek?df(e):yl(e,r),s=ol(n,a),o=[],l=0;l<=s;l++)o.push(Ka(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?EB(d):AB(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function z3e(e,t){var r=gL(Cs(e),Z_(e),t);if(t!=null&&t.useFixedWeeks){var n=aae(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],o=hk(s,6-n),l=gL(hk(s,1),o,t);r.push.apply(r,l)}}return r}function V3e(e){var t,r,n,a=Or(),s=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,p=z3e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:a3e,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:U3e,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:t3e;return i.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&i.jsx(g,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:p.map(function(b){return i.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:e.displayMonth})]})}function W3e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var H3e=W3e()?x.useLayoutEffect:x.useEffect,R2=!1,q3e=0;function vL(){return"react-day-picker-".concat(++q3e)}function K3e(e){var t,r=e??(R2?vL():null),n=x.useState(r),a=n[0],s=n[1];return H3e(function(){a===null&&s(vL())},[]),x.useEffect(function(){R2===!1&&(R2=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function G3e(e){var t,r,n=Or(),a=n.dir,s=n.classNames,o=n.styles,l=n.components,c=jx().displayMonths,u=K3e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=o.month,m=e.displayIndex===0,p=e.displayIndex===c.length-1,g=!m&&!p;a==="rtl"&&(t=[m,p],p=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Ct(Ct({},h),o.caption_start)),p&&(f.push(s.caption_end),h=Ct(Ct({},h),o.caption_end)),g&&(f.push(s.caption_between),h=Ct(Ct({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:e3e;return i.jsxs("div",{className:f.join(" "),style:h,children:[i.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(V3e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Y3e(e){var t=Or(),r=t.classNames,n=t.styles;return i.jsx("div",{className:r.months,style:n.months,children:e.children})}function X3e(e){var t,r,n=e.initialProps,a=Or(),s=BP(),o=jx(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ct(Ct({},a.styles.root),a.style),h=Object.keys(n).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var v;return Ct(Ct({},p),(v={},v[g]=n[g],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Y3e;return i.jsx("div",Ct({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:i.jsx(m,{children:o.displayMonths.map(function(p,g){return i.jsx(G3e,{displayIndex:g,displayMonth:p},g)})})}))}function J3e(e){var t=e.children,r=_Fe(e,["children"]);return i.jsx(BFe,{initialProps:r,children:i.jsx(XFe,{children:i.jsx(P3e,{initialProps:r,children:i.jsx(i3e,{initialProps:r,children:i.jsx(c3e,{initialProps:r,children:i.jsx(v3e,{children:i.jsx(T3e,{children:t})})})})})})})}function Q3e(e){return i.jsx(J3e,Ct({},e,{children:i.jsx(X3e,{initialProps:e})}))}function zP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return i.jsx(Q3e,{showOutsideDays:r,className:be("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:be(Am({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:be(Am({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>i.jsx(Cae,{className:"h-4 w-4"}),IconRight:({...a})=>i.jsx(ew,{className:"h-4 w-4"})},...n})}zP.displayName="Calendar";function VP({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:o,className:l}){const{t:c}=Vt(),{currentLanguage:u}=Ia(),[d,f]=x.useState(""),[h,m]=x.useState({from:void 0,to:void 0}),p=u==="ar"?bFe:void 0;x.useEffect(()=>{const y=setTimeout(()=>{e(d)},300);return()=>clearTimeout(y)},[d,e]);const g=y=>{m(y),n&&n(y)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return i.jsxs("div",{className:be("flex flex-col sm:flex-row gap-3 mb-6",l),children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ds,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),i.jsx(We,{placeholder:o||c("common.search","Search..."),value:d,onChange:y=>f(y.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),i.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&i.jsxs(xt,{onValueChange:t,children:[i.jsxs(pt,{className:"w-[140px]",children:[i.jsx(Rae,{className:"mr-2 h-4 w-4"}),i.jsx(yt,{placeholder:c("common.status","Status")})]}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:c("common.all","All")}),s.map(y=>i.jsx(Ee,{value:y.value,children:y.label},y.value))]})]}),r&&a.length>0&&i.jsxs(xt,{onValueChange:r,children:[i.jsxs(pt,{className:"w-[140px]",children:[i.jsx(Z3e,{className:"mr-2 h-4 w-4"}),i.jsx(yt,{placeholder:c("common.assignee","Assignee")})]}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:c("common.all","All")}),a.filter(y=>["employee","admin","manager","team_leader"].includes(y.user_role)).map(y=>i.jsx(Ee,{value:y.user_id.toString(),children:Fe(y,"user_name")},y.user_id))]})]}),n&&i.jsxs(ga,{children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",className:be("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[i.jsx(Ii,{className:"mr-2 h-4 w-4"}),h.from?h.to?i.jsxs(i.Fragment,{children:[is(h.from,"LLL dd, y",{locale:p})," -"," ",is(h.to,"LLL dd, y",{locale:p})]}):is(h.from,"LLL dd, y",{locale:p}):i.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),i.jsx(ea,{className:"w-auto p-0",align:"start",children:i.jsx(zP,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:g,numberOfMonths:2})})]}),i.jsx(ce,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:i.jsx(Po,{className:"h-4 w-4"})})]})]})}function Z3e(e){return i.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const ns={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await Y.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const t=await Y.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${t.data.length} ${e} stages`),t.data}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const t=await this.getAll(),r=t.length>0?Math.max(...t.map(o=>o.stager_order_index||0)):-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var};return await Y.stages.create(a)}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=xl(t,{stage_name:"stage_name"});await Y.stages.update(e,r)}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{await Y.stages.delete(e)}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},wn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await Y.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});return t.data&&t.data.length>0?t.data[0]:null}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{return(await Y.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.name!==void 0&&(r.name=t.name),t.Email!==void 0&&(r.Email=t.Email),t.permissions!==void 0&&(r.permissions=t.permissions),t.mobile!==void 0&&(r.mobile=t.mobile),t.IsActive!==void 0&&(r.IsActive=t.IsActive),t.Employee!==void 0&&(r.Employee=t.Employee),await Y.Users.update(e,r),console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},sq={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await Y.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return Y.count("Users")},async getById(e){try{const t=await Y.Users.list({exact_filters:{userid:e},pageSize:1});if(t.data&&t.data.length>0){const r=t.data[0];if(r.user_role==="client")return r}return null}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await Y.Users.create(t)}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},Xc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await Y.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return Y.count("projects")},async getById(e){try{return await Y.projects.get(e)}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{return await Y.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date),await Y.projects.update(e,r)}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{await Y.projects.delete(e)}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const r=(await Y.projectUsers.list({exact_filters:{userid:e}})).data.map(a=>a.project_id);if(r.length===0)return[];const n=await Promise.all(r.map(a=>Y.projects.get(a)));return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n.filter(a=>a!==null)}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},Hp={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await Y.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return Y.count("tasks",e)},async getByStage(e){try{return(await Y.tasks.getByStage(e)).data}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=xl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await Y.tasks.create(t)}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=xl(t,{task_name:"task_name",description:"description"});await Y.tasks.update(e,r)}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{await Y.tasks.delete(e)}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},cE={async getByTask(e){try{return(await Y.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{return await Y.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},so={async getUserRooms(e){try{const r=(await Y.roomMembers.list({exact_filters:{userid:e}})).data;if(!r||r.length===0)return[];const n=r.map(o=>o.room_id);return(await Y.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:n}]})).data}catch(t){throw console.error("[roomService] Failed to get user rooms:",t),t}},async createRoom(e){let t=e.created_by;if(!t||t===0){const n=await wn.getByAuthId(e.userid);n&&(t=n.userid)}return await Y.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,userid:e.userid})},async addMember(e,t){await Y.roomMembers.create({room_id:e,userid:t})},async getRoomMembers(e){const t=await Y.roomMembers.getByRoom(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(n=>n.userid).filter(Boolean);if(r.length===0)return[];try{return(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:r}]})).data||[]}catch(n){return console.warn("[roomService] Batch user fetch failed, falling back to individual calls:",n),(await Promise.all(t.data.map(async s=>await wn.getByAuthId(s.userid)))).filter(Boolean)}},async markAsRead(e,t){try{const r=await Y.roomMembers.list({exact_filters:{room_id:e,userid:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.roomMembers.update(n,{last_read_at:new Date().toISOString()})}}catch(r){console.error("[roomService] Failed to mark room as read:",r)}}},eIe={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const t=await Y.projectUsers.getByProject(e);if(!t.data||t.data.length===0)return[];const r=t.data.map(a=>a.user_id);return(await Promise.all(r.map(a=>wn.getById(a)))).filter(Boolean)}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e),await Y.projectUsers.create({project_id:e,user_id:t}),console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const r=await Y.projectUsers.list({exact_filters:{project_id:e,user_id:t}});if(r.data.length>0){const n=r.data[0].id;n&&await Y.projectUsers.delete(n)}console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},oh={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const n=((await Y.teamMembers.list()).data||[]).reduce((s,o)=>(s[o.team_id]||(s[o.team_id]=[]),s[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),s),{});return e.map(s=>({...s,team_members:n[s.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const t=(await Y.teamMembers.list()).data,r={};return(t||[]).forEach(n=>{const a={userid:n.user_id,name:n.Users_name||n.user_name||"Unknown User",Email:n.Users_Email||n.user_email,mobile:n.Users_mobile||n.user_mobile,IsActive:n.Users_IsActive,isAdmin:n.Users_isAdmin};r[n.team_id]||(r[n.team_id]=[]),r[n.team_id].push(a)}),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await Y.teams.get(e)}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{return await Y.teams.create(e)}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=xl(t,{team_name:"team_name"});await Y.teams.update(e,r)}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{await Y.teams.delete(e)}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const r=(await Y.teamMembers.getByTeam(e)).data;if(!r||r.length===0)return[];const n=r.map(s=>s.userid);return(await Promise.all(n.map(s=>wn.getByAuthId(s)))).filter(Boolean)}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Adding member",r,"to team",e),await Y.teamMembers.create({team_id:e,user_id:r}),console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{const r=Number(t);if(Number.isNaN(r))throw new Error(`Invalid user ID: ${t}`);console.log("[teamService] Removing member",r,"from team",e);const n=await Y.teamMembers.list({exact_filters:{team_id:e,user_id:r}});if(console.log("[teamService] Found records for deletion:",n.data.length,n.data),n.data.length>0){const a=n.data[0],s=(a==null?void 0:a.team_mem_id)??(a==null?void 0:a.id)??(a==null?void 0:a.team_members_id)??(a==null?void 0:a.team_membersId)??(a==null?void 0:a.team_id);if(!s)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",s),await Y.teamMembers.delete(s)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",r);console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},w0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await Y.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await Y.tickets.get(e)}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{return await Y.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.status!==void 0&&(r.status=t.status),await Y.tickets.update(e,r)}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`),await Y.tickets.update(e,{stage_id:t}),console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{await Y.tickets.delete(e)}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},ru={async getByRoom(e,t){try{const r={exact_filters:{room_id:e}};t!=null&&t.limit&&(r.limit=t.limit);const n=await Y.messages.list(r);if(!n.data)return[];const a=n.data,s=[...new Set(a.map(u=>u.userid))];let o=[];try{if(s.length===0)return[];o=(await Y.Users.list({advanced_filters:[{column:"userid",filter_type:"in",value:s}]})).data||[]}catch(u){console.warn("[messageService] Batch user fetch failed, falling back to individual calls:",u),o=await Promise.all(s.map(d=>wn.getByAuthId(d)))}const l=new Map(o.filter(u=>u).map(u=>[u.userid,u]));return a.map(u=>({...u,sender:l.get(u.userid)||null})).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{return await Y.messages.create(e)}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{await Y.messages.update(e,{content:t,is_edited:!0})}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{await Y.messages.delete(e)}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{throw new Error("File upload not available - Supabase storage removed")}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},Sd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await Y.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return Y.count("teams")},async getById(e){try{return await Y.leads.get(e)}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{return await Y.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async createMLead(e){try{return await Y.mLeads.create(e)}catch(t){throw console.error("[leadService] Failed to create MLead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency),await Y.leads.update(e,r)}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{await Y.leads.delete(e)}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},em={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const n=(await Y.notes.list({exact_filters:{related_to_type:e,related_to_id:t}})).data;if(!n||n.length===0)return[];const a=[...new Set(n.map(l=>l.created_by))],s=await Promise.all(a.map(l=>wn.getById(l))),o=new Map(s.filter(l=>l).map(l=>[l.userid,l]));return n.map(l=>({...l,user:o.get(l.created_by)?{userid:o.get(l.created_by).userid,user_id:o.get(l.created_by).userid,user_name:o.get(l.created_by).name,name:o.get(l.created_by).name,Email:o.get(l.created_by).Email}:void 0}))}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const t=await Y.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{await Y.notes.update(e,{content:t,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{await Y.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},eo={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await Y.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await Y.surveyTemplates.get(e)}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const t=await Y.surveyTemplates.create(e);return{...e,template_id:t.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),updated_by:null}}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default),await Y.surveyTemplates.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{await Y.surveyTemplates.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const r=(await Y.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(r==null?void 0:r.length)||0} fields`),(r||[]).sort((n,a)=>(n.field_order||0)-(a.field_order||0))}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const t={...e,field_options:e.field_options?JSON.stringify(e.field_options):null},r=await Y.surveyTemplateFields.create(t);return{...e,field_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options?JSON.stringify(t.field_options):null),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic?JSON.stringify(t.conditional_logic):null),await Y.surveyTemplateFields.update(e,r)}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{await Y.surveyTemplateFields.delete(e)}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},fh={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await Y.surveys.list({select_fields:["survey_id","created_at","survey_name","client_name","client_name_ar","client_company","client_contact","client_email","client_address","location_address","location_latitude","location_longitude","location_accuracy","survey_responses","status","created_by","created_by_name","notes","notes_ar","template_id","lead_id","device_info","decision_maker","updated_at","updated_by","reviewed_at","reviewed_by","converted_to_lead_at","completion_time_seconds"],pageSize:1e3});return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const t=(await Yr("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${t}`),t}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await Y.surveys.get(e)}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const t={...e,survey_responses:e.survey_responses?JSON.stringify(e.survey_responses):null},r=await Y.surveys.create(t);return{...e,survey_id:r.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const t=e.map(n=>({...n,survey_responses:n.survey_responses?JSON.stringify(n.survey_responses):null})),r=await Promise.all(t.map(n=>Y.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses?JSON.stringify(t.survey_responses):null),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar),await Y.surveys.update(e,r)}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{await Y.surveys.delete(e)}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}};var iq="AlertDialog",[tIe,lqe]=fs(iq,[O7]),Pc=O7(),oq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pc(t);return i.jsx(_w,{...n,...r,modal:!0})};oq.displayName=iq;var rIe="AlertDialogTrigger",lq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Pc(r);return i.jsx(kA,{...a,...n,ref:t})});lq.displayName=rIe;var nIe="AlertDialogPortal",cq=e=>{const{__scopeAlertDialog:t,...r}=e,n=Pc(t);return i.jsx(ww,{...n,...r})};cq.displayName=nIe;var aIe="AlertDialogOverlay",uq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Pc(r);return i.jsx(Ap,{...a,...n,ref:t})});uq.displayName=aIe;var tm="AlertDialogContent",[sIe,iIe]=tIe(tm),oIe=Dse("AlertDialogContent"),dq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=Pc(r),o=x.useRef(null),l=zt(t,o),c=x.useRef(null);return i.jsx(Bue,{contentName:tm,titleName:fq,docsSlug:"alert-dialog",children:i.jsx(sIe,{scope:r,cancelRef:c,children:i.jsxs(Pp,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:at(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(oIe,{children:n}),i.jsx(cIe,{contentRef:o})]})})})});dq.displayName=tm;var fq="AlertDialogTitle",hq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Pc(r);return i.jsx(lx,{...a,...n,ref:t})});hq.displayName=fq;var mq="AlertDialogDescription",pq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Pc(r);return i.jsx(cx,{...a,...n,ref:t})});pq.displayName=mq;var lIe="AlertDialogAction",gq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Pc(r);return i.jsx(jw,{...a,...n,ref:t})});gq.displayName=lIe;var vq="AlertDialogCancel",xq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=iIe(vq,r),s=Pc(r),o=zt(t,a);return i.jsx(jw,{...s,...n,ref:o})});xq.displayName=vq;var cIe=({contentRef:e})=>{const t=`\`${tm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tm}\` by passing a \`${mq}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},uIe=oq,dIe=lq,fIe=cq,yq=uq,bq=dq,_q=gq,wq=xq,jq=hq,Sq=pq;const ui=uIe,Sx=dIe,hIe=fIe,Nq=x.forwardRef(({className:e,...t},r)=>i.jsx(yq,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Nq.displayName=yq.displayName;const Ds=x.forwardRef(({className:e,...t},r)=>i.jsxs(hIe,{children:[i.jsx(Nq,{}),i.jsx(bq,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ds.displayName=bq.displayName;const Rs=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});Rs.displayName="AlertDialogHeader";const Ms=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",Qt()&&"sm:space-x-reverse",e),...t});Ms.displayName="AlertDialogFooter";const Fs=x.forwardRef(({className:e,...t},r)=>i.jsx(jq,{ref:r,className:be("text-lg font-semibold",e),...t}));Fs.displayName=jq.displayName;const Is=x.forwardRef(({className:e,...t},r)=>i.jsx(Sq,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));Is.displayName=Sq.displayName;const Ls=x.forwardRef(({className:e,...t},r)=>i.jsx(_q,{ref:r,className:be(Am(),e),...t}));Ls.displayName=_q.displayName;const $s=x.forwardRef(({className:e,...t},r)=>i.jsx(wq,{ref:r,className:be(Am({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));$s.displayName=wq.displayName;const Ln=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ln.displayName="Textarea";function Nx({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=tn(),s=x.useRef(null),o=e.find(l=>l.id===t)??e[0];return x.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,a]),a?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:i.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Qt()?"ltr":"rtl",children:i.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Qt(),l.id-c.id)).map(l=>{const c=l.id===o.id;return i.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:be("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[i.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),i.jsx(ht,{variant:"secondary",className:be("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),i.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:i.jsx("div",{className:"p-2",children:n})})]}):i.jsx(i.Fragment,{children:n})}var xj="Tabs",[mIe,cqe]=fs(xj,[pw]),kq=pw(),[pIe,WP]=mIe(xj),Cq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Zv(l),[f,h]=vc({prop:n,onChange:a,defaultProp:s??"",caller:xj});return i.jsx(pIe,{scope:r,baseId:ia(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(mt.div,{dir:d,"data-orientation":o,...u,ref:t})})});Cq.displayName=xj;var Eq="TabsList",Tq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=WP(Eq,r),o=kq(r);return i.jsx(FU,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:i.jsx(mt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});Tq.displayName=Eq;var Aq="TabsTrigger",Pq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,o=WP(Aq,r),l=kq(r),c=Rq(o.baseId,n),u=Mq(o.baseId,n),d=n===o.value;return i.jsx(IU,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(mt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:at(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:at(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:at(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});Pq.displayName=Aq;var Oq="TabsContent",Dq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...o}=e,l=WP(Oq,r),c=Rq(l.baseId,n),u=Mq(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(La,{present:a||d,children:({present:h})=>i.jsx(mt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Dq.displayName=Oq;function Rq(e,t){return`${e}-trigger-${t}`}function Mq(e,t){return`${e}-content-${t}`}var gIe=Cq,Fq=Tq,Iq=Pq,Lq=Dq;const Io=gIe,Bi=x.forwardRef(({className:e,...t},r)=>i.jsx(Fq,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bi.displayName=Fq.displayName;const Ar=x.forwardRef(({className:e,...t},r)=>i.jsx(Iq,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ar.displayName=Iq.displayName;const Wr=x.forwardRef(({className:e,...t},r)=>i.jsx(Lq,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Wr.displayName=Lq.displayName;function HP({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Vt(),{user:s}=xr(),[o,l]=x.useState(""),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(null),[p,g]=x.useState(!1),v=async()=>{if(!(!o.trim()||!(s!=null&&s.id))){g(!0);try{await em.create({content:o.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(w){console.error("Failed to create note:",w)}finally{g(!1)}}},y=async w=>{if(d.trim()){g(!0);try{await em.update(w,d.trim()),u(null),f(""),n()}catch(j){console.error("Failed to update note:",j)}finally{g(!1)}}},b=async()=>{if(h){g(!0);try{await em.delete(h),m(null),n()}catch(w){console.error("Failed to delete note:",w)}finally{g(!1)}}},_=w=>{if(!w)return"";try{return eae(new Date(w),{addSuffix:!0})}catch{return w}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ln,{value:o,onChange:w=>l(w.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),i.jsxs(ce,{onClick:v,disabled:!o.trim()||p,className:"w-full",children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),i.jsx("div",{className:"space-y-3",children:r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(w=>{var S;const j=c===w.note_id,N=w.created_by===(s==null?void 0:s.id);return i.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(S=w.user)!=null&&S.avatar?i.jsx("img",{src:w.user.avatar,alt:Fe(w.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-xs font-semibold text-primary",children:w.user?Fe(w.user,"user_name")[0]:"?"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:w.user?Fe(w.user,"user_name"):a("notes.unknown")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:_(w.created_at)})]})]}),N&&!j&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(w.note_id),f(w.content)},children:i.jsx(Li,{className:"h-3.5 w-3.5"})}),i.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(w.note_id),children:i.jsx(ir,{className:"h-3.5 w-3.5"})})]})]}),j?i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ln,{value:d,onChange:k=>f(k.target.value),rows:3,className:"resize-none"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ce,{size:"sm",onClick:()=>y(w.note_id),disabled:!d.trim()||p,children:[i.jsx(Ao,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),i.jsxs(ce,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[i.jsx(Po,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:w.content})]},w.note_id)})}),i.jsx(ui,{open:!!h,onOpenChange:()=>m(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:a("notes.delete")}),i.jsx(Is,{children:a("notes.deleteConfirmation")})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:a("buttons.cancel")}),i.jsx(Ls,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function $q({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return i.jsxs("div",{className:be("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(o=>i.jsx(zB,{className:be(s[t],o<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),r&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function vIe({leadId:e}){const{t}=Vt(),{isRTL:r}=Ia(),{user:n}=xr(),[a,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(""),[p,g]=x.useState([]),[v,y]=x.useState(!0),[b,_]=x.useState(!1),[w,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[A,P]=x.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{U(),T()},[e]);const T=async()=>{try{const X=await wn.getAll().then(J=>J.filter(O=>O.user_role==="client"));C(X)}catch(X){console.error("Failed to load clients:",X)}},U=async()=>{var X,J,O;try{y(!0);const[G,V,K]=await Promise.all([Sd.getById(e),ns.getByType("leads"),wn.getAll()]);if(s(G),j(V),S(K),!G)return;if(P({lead_name:G.lead_name||"",lead_description:G.lead_description||"",client_user_id:G.client_user_id||"",stage:((X=G.stage)==null?void 0:X.toString())||"",assigned_to:G.assigned_to||"",value:((J=G.value)==null?void 0:J.toString())||"",currency:G.currency||"SAR",priority:((O=G.priority)==null?void 0:O.toString())||"3",expected_close_date:G.expected_close_date||""}),G.client_user_id){const re=await wn.getByAuthId(G.client_user_id);l(re)}if(G.created_by){const re=K.find(ue=>ue.auth_user_id===G.created_by)||null;u(re)}if(G.assigned_to){const re=K.find(ue=>ue.auth_user_id===G.assigned_to)||null;f(re)}if(G.stage){const re=V.find(ue=>ue.stage_id===G.stage);re&&m(Fe(re,"stage_name"))}z()}catch(G){console.error("Failed to load lead data:",G)}finally{y(!1)}},z=async()=>{try{const X=await em.getByRelated("lead",e);g(X)}catch(X){console.error("Failed to load notes:",X)}},D=async()=>{if(a)try{const X=A.assigned_to&&A.assigned_to!=="unassigned"?A.assigned_to:null,J=xl({lead_name:A.lead_name,lead_description:A.lead_description||null,client_user_id:A.client_user_id||null,stage:parseInt(A.stage),assigned_to:X,value:A.value?parseFloat(A.value):null,currency:A.currency,priority:parseInt(A.priority),expected_close_date:A.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await Sd.update(a.lead_id,J);const O={...a,...J};if(s(O),A.client_user_id){const V=k.find(K=>K.auth_user_id===A.client_user_id)||null;l(V)}if(X){const V=N.find(K=>K.auth_user_id===X)||null;f(V)}const G=w.find(V=>V.stage_id===parseInt(A.stage));G&&m(Fe(G,"stage_name")),_(!1)}catch(X){console.error("Failed to update lead:",X)}},M=()=>{var X,J,O;a&&P({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((X=a.stage)==null?void 0:X.toString())||"",assigned_to:a.assigned_to||"",value:((J=a.value)==null?void 0:J.toString())||"",currency:a.currency||"SAR",priority:((O=a.priority)==null?void 0:O.toString())||"3",expected_close_date:a.expected_close_date||""}),_(!1)},L=(X,J)=>{if(X===null)return"-";const O=J||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:O==="SAR"?"SAR":O}).format(X)},I=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(v)return i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const F=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return i.jsxs("div",{className:"w-full",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),F&&!b&&i.jsxs(ce,{onClick:()=>_(!0),variant:"outline",size:"sm",children:[i.jsx(Li,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),b&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ce,{onClick:M,variant:"outline",size:"sm",children:[i.jsx(Po,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),i.jsxs(ce,{onClick:D,size:"sm",children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),i.jsxs(Io,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bi,{className:"grid w-full grid-cols-2",children:[i.jsx(Ar,{value:"overview",children:t("common.overview")}),i.jsx(Ar,{value:"notes",children:t("notes.title")})]}),i.jsx(Wr,{value:"overview",className:"space-y-4 mt-4",children:b?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),i.jsx(We,{id:"lead_name",value:A.lead_name,onChange:X=>P(J=>({...J,lead_name:X.target.value})),placeholder:t("leads.leadName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"lead_description",children:t("leads.description")}),i.jsx(Ln,{id:"lead_description",value:A.lead_description,onChange:X=>P(J=>({...J,lead_description:X.target.value})),placeholder:t("leads.description"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.client")}),i.jsxs(xt,{value:A.client_user_id,onValueChange:X=>P(J=>({...J,client_user_id:X})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:t("leads.selectClient")})}),i.jsx(gt,{children:k.filter(X=>X.auth_user_id).map(X=>i.jsx(Ee,{value:X.auth_user_id,children:Fe(X,"user_name")},X.user_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("common.stage")}),i.jsxs(xt,{value:A.stage,onValueChange:X=>P(J=>({...J,stage:X})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:t("leads.selectStage")})}),i.jsx(gt,{children:w.map(X=>i.jsx(Ee,{value:X.stage_id.toString(),children:Fe(X,"stage_name")},X.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.value")}),i.jsx(We,{type:"number",min:"0",step:"0.01",value:A.value,onChange:X=>P(J=>({...J,value:X.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.currency")}),i.jsxs(xt,{value:A.currency,onValueChange:X=>P(J=>({...J,currency:X})),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"SAR",children:"SAR (.)"}),i.jsx(Ee,{value:"USD",children:"USD ($)"}),i.jsx(Ee,{value:"EUR",children:"EUR ()"}),i.jsx(Ee,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("common.priority")}),i.jsxs(xt,{value:A.priority,onValueChange:X=>P(J=>({...J,priority:X})),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsxs(Ee,{value:"1",children:[" ",t("common.veryLow")]}),i.jsxs(Ee,{value:"2",children:[" ",t("common.low")]}),i.jsxs(Ee,{value:"3",children:[" ",t("common.medium")]}),i.jsxs(Ee,{value:"4",children:[" ",t("common.high")]}),i.jsxs(Ee,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.expectedCloseDate")}),i.jsx(We,{type:"date",value:A.expected_close_date,onChange:X=>P(J=>({...J,expected_close_date:X.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:t("leads.assignToEmployee")}),i.jsxs(xt,{value:A.assigned_to,onValueChange:X=>P(J=>({...J,assigned_to:X})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:t("leads.selectAssignee")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"unassigned",children:t("common.unassigned")}),N.filter(X=>["employee","admin","manager","team_leader"].includes(X.user_role)&&X.auth_user_id).map(X=>i.jsx(Ee,{value:X.auth_user_id,children:Fe(X,"user_name")},X.user_id))]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:Fe(a,"lead_name")}),Fe(a,"lead_description")&&i.jsx("p",{className:"text-muted-foreground mt-1",children:Fe(a,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(PR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),i.jsx($q,{priority:a.priority,size:"sm"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[i.jsx(eg,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),i.jsx("p",{className:"text-lg font-semibold",children:L(a.value,a.currency)})]})]}),o&&i.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),i.jsx("p",{className:"font-medium truncate",children:Fe(o,"user_name")}),o.user_email&&i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:o.user_email})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(PR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),i.jsx(ht,{variant:"secondary",children:h||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Dn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),i.jsx("p",{className:"font-medium",children:d?Fe(d,"user_name"):t("common.unassigned")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Ii,{className:"h-3.5 w-3.5"}),t("common.created")]}),i.jsx("p",{className:"text-sm font-medium mt-1",children:I(a.created_date)})]}),c&&i.jsxs("div",{className:"p-3 rounded-lg border",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),i.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Fe(c,"user_name")})]})]})]})}),i.jsx(Wr,{value:"notes",className:"mt-4",children:i.jsx(HP,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:z})})]})]})}function kx({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Vt();const o=tn();return i.jsxs("div",{className:be("mb-6",s),children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[r&&i.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?ie.createElement(r):r}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&i.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!o&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>i.jsx(it,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&i.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?ie.createElement(l.icon):l.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),i.jsxs("div",{className:"flex items-baseline gap-2",children:[i.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&i.jsxs("span",{className:be("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function ko({icon:e,title:t,description:r,action:n,className:a=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&i.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ie.createElement(e):e}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const qP=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",e),...t})}));qP.displayName="Table";const KP=x.forwardRef(({className:e,...t},r)=>i.jsx("thead",{ref:r,className:be("[&_tr]:border-b",e),...t}));KP.displayName="TableHeader";const GP=x.forwardRef(({className:e,...t},r)=>i.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",e),...t}));GP.displayName="TableBody";const xIe=x.forwardRef(({className:e,...t},r)=>i.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));xIe.displayName="TableFooter";const Tv=x.forwardRef(({className:e,...t},r)=>i.jsx("tr",{ref:r,className:be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Tv.displayName="TableRow";const fo=x.forwardRef(({className:e,...t},r)=>i.jsx("th",{ref:r,className:be("h-12 py-4 align-middle font-medium text-muted-foreground",Qt()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...t}));fo.displayName="TableHead";const ho=x.forwardRef(({className:e,...t},r)=>i.jsx("td",{ref:r,className:be("py-4 align-middle",Qt()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...t}));ho.displayName="TableCell";const yIe=x.forwardRef(({className:e,...t},r)=>i.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",e),...t}));yIe.displayName="TableCaption";var yj="Checkbox",[bIe,uqe]=fs(yj),[_Ie,YP]=bIe(yj);function wIe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=vc({prop:r,defaultProp:a??!1,onChange:c,caller:yj}),[p,g]=x.useState(null),[v,y]=x.useState(null),b=x.useRef(!1),_=p?!!o||!!p.closest("form"):!0,w={checked:h,disabled:s,setChecked:m,control:p,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Lu(a)?!1:a,isFormControl:_,bubbleInput:v,setBubbleInput:y};return i.jsx(_Ie,{scope:t,...w,children:jIe(f)?f(w):n})}var Bq="CheckboxTrigger",Uq=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=YP(Bq,e),g=zt(a,d),v=x.useRef(c);return x.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const b=()=>f(v.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[s,f]),i.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Lu(c)?"mixed":c,"aria-required":u,"data-state":qq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:at(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:at(r,y=>{f(b=>Lu(b)?!0:!b),p&&m&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});Uq.displayName=Bq;var XP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(wIe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>i.jsxs(i.Fragment,{children:[i.jsx(Uq,{...f,ref:t,__scopeCheckbox:r}),h&&i.jsx(Hq,{__scopeCheckbox:r})]})})});XP.displayName=yj;var zq="CheckboxIndicator",Vq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=YP(zq,r);return i.jsx(La,{present:n||Lu(s.checked)||s.checked===!0,children:i.jsx(mt.span,{"data-state":qq(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Vq.displayName=zq;var Wq="CheckboxBubbleInput",Hq=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=YP(Wq,e),p=zt(r,m),g=fA(s),v=iA(n);x.useEffect(()=>{const b=h;if(!b)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,N=!a.current;if(g!==s&&j){const S=new Event("click",{bubbles:N});b.indeterminate=Lu(s),j.call(b,Lu(s)?!1:s),b.dispatchEvent(S)}},[h,g,s,a]);const y=x.useRef(Lu(s)?!1:s);return i.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:p,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Hq.displayName=Wq;function jIe(e){return typeof e=="function"}function Lu(e){return e==="indeterminate"}function qq(e){return Lu(e)?"indeterminate":e?"checked":"unchecked"}const u_=x.forwardRef(({className:e,indeterminate:t,...r},n)=>i.jsx(XP,{ref:n,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:i.jsx(Vq,{className:be("flex items-center justify-center text-current"),children:t?i.jsx(Uae,{className:"h-4 w-4"}):i.jsx(YT,{className:"h-4 w-4"})})}));u_.displayName=XP.displayName;function wc({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:o,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=tn(),{t:h}=Vt(),[m,p]=x.useState(new Set);x.useEffect(()=>{const S=new Set(e.map(a));p(k=>{const C=new Set(k);for(const A of k)S.has(A)||C.delete(A);return C})},[e,a]);const g=S=>{const k=new Set(m);k.has(S)?k.delete(S):k.add(S),p(k)},v=()=>{m.size===e.length?p(new Set):p(new Set(e.map(a)))},y=()=>{p(new Set)},b=()=>e.filter(S=>m.has(a(S))),_=S=>{const k=r.filter(C=>!C.show||C.show(S));return k.length===0?null:i.jsxs(_A,{children:[i.jsx(wA,{asChild:!0,onClick:C=>C.stopPropagation(),children:i.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:i.jsx(Pae,{className:"h-4 w-4"})})}),i.jsx(yw,{align:"end",children:k.map((C,A)=>i.jsxs(Hl,{onClick:P=>{P.stopPropagation(),C.onClick(S)},className:be(C.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[C.icon&&i.jsx("span",{className:"mr-2",children:C.icon}),C.label]},A))})]})};if(e.length===0)return o||i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return i.jsx("div",{className:be("space-y-3 w-full overflow-hidden",c),children:e.map((S,k)=>l?i.jsx("div",{onClick:()=>s==null?void 0:s(S),className:"w-full",children:l(S,_(S))},a(S)):i.jsx(it,{className:be("w-full overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(S),children:i.jsx(dt,{className:"p-4 w-full",children:i.jsxs("div",{className:"space-y-3 w-full",children:[t.filter(C=>!C.hideOnMobile).map((C,A)=>i.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[i.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:C.header}),i.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:C.render(S,k)})]},C.key)),r.length>0&&i.jsx("div",{className:"pt-2 border-t flex justify-end",children:_(S)})]})})},a(S)))});const w=m.size,j=w===e.length&&e.length>0,N=w>0&&w<e.length;return i.jsxs("div",{className:"space-y-4",children:[u&&w>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm font-medium",children:[w," ",w===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[n.map((S,k)=>i.jsxs(ce,{variant:S.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>S.onClick(b()),className:be(S.variant==="destructive"&&"hover:bg-destructive/90"),children:[S.icon&&i.jsx("span",{className:"mr-2",children:S.icon}),S.label]},k)),i.jsx(ce,{variant:"ghost",size:"sm",onClick:y,className:"text-muted-foreground hover:text-foreground",children:i.jsx(Po,{className:"h-4 w-4"})})]})]}),i.jsx(it,{className:be("overflow-hidden",c),children:i.jsx(dt,{className:"p-0",children:i.jsxs(qP,{children:[i.jsx(KP,{children:i.jsxs(Tv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[u&&i.jsx(fo,{className:"w-12",children:i.jsx(u_,{checked:j,indeterminate:N,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(S=>i.jsx(fo,{className:be("font-semibold",S.className),children:S.header},S.key)),r.length>0&&i.jsx(fo,{className:"w-[100px] text-right",children:h("common.actions")})]})}),i.jsx(GP,{children:e.map((S,k)=>{const C=a(S),A=m.has(C);return i.jsxs(Tv,{className:be("group transition-colors",A&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(S),children:[u&&i.jsx(ho,{onClick:P=>P.stopPropagation(),children:i.jsx(u_,{checked:A,onCheckedChange:()=>g(C),"aria-label":h("common.selectItem","Select item")})}),t.map(P=>i.jsx(ho,{className:be(P.className,"overflow-hidden"),children:P.render(S,k)},P.key)),r.length>0&&i.jsx(ho,{className:"text-right",children:i.jsx("div",{children:_(S)})})]},C)})})]})})})]})}function Kq({children:e,variant:t="secondary"}){return i.jsx(ht,{variant:t,className:"text-xs font-medium",children:e})}function ip({name:e,fallback:t="Unassigned"}){return i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:be(!e&&"text-muted-foreground"),children:e||t})]})}function $f({date:e,fallback:t="Not set"}){return e?i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Ii,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{children:new Date(e).toLocaleDateString()})]}):i.jsx("span",{className:"text-muted-foreground",children:t})}function jc({title:e,subtitle:t,icon:r}){return i.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[r&&(typeof r=="function"?ie.createElement(r):r),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),t&&i.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:t})]})]})}function SIe({value:e,currency:t="SAR"}){return e==null?i.jsx("span",{className:"text-muted-foreground",children:"-"}):i.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function NIe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:o,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Vt(),m=tn(),p=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),g=(v,y)=>{if(v===null)return"-";const b=y||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return i.jsxs(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[i.jsxs(Bt,{className:"pb-3 px-4 pt-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Fe(e,"lead_name")}),Fe(e,"lead_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Fe(e,"lead_description")})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&i.jsx(ce,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:i.jsx(Li,{className:"h-4 w-4"})}),o&&i.jsxs(ui,{children:[i.jsx(Sx,{asChild:!0,onClick:v=>v.stopPropagation(),children:i.jsx(ce,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ir,{className:"h-4 w-4"})})}),i.jsxs(Ds,{onClick:v=>v.stopPropagation(),children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:h("leads.deleteLead")}),i.jsx(Is,{children:h("leads.deleteConfirmation",{name:Fe(e,"lead_name")})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:h("buttons.cancel")}),i.jsx(Ls,{onClick:v=>{v.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[i.jsx($q,{priority:e.priority,size:"sm"}),e.expected_close_date&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Ii,{className:"h-3 w-3"}),i.jsx("span",{children:p(e.expected_close_date)})]})]})]}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(eg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),i.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),t&&i.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(Pn,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),i.jsx("p",{className:"text-sm font-semibold truncate",children:Fe(t,"user_name")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),i.jsx("p",{className:"text-xs font-medium truncate",children:Fe(r,"user_name")})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),i.jsx("p",{className:"text-xs font-medium truncate",children:n?Fe(n,"user_name"):h("common.all","Unassigned")})]})]})]}),i.jsx("div",{className:"pt-1",children:i.jsxs(xt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(yt,{placeholder:h("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"unassigned",children:h("common.all","Unassigned")}),s.map(v=>i.jsx(Ee,{value:(v.userid||v.userid||"").toString(),children:Fe(v,"user_name")},v.userid))]})]})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Ii,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:p(e.created_date)})]}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function kIe(){var Ze,oe,me;Bs();const{hasRole:e,user:t}=xr(),r=tn(),{t:n}=Vt(),{setBreadcrumbs:a}=Xv();x.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState(!0);x.useState(!1),x.useState("");const[g,v]=x.useState(null),[y,b]=x.useState(""),[_,w]=x.useState(null),[j,N]=x.useState(null),[S,k]=x.useState(!1),[C,A]=x.useState(null),[P,T]=x.useState("kanban"),[U,z]=x.useState(null),[D,M]=x.useState(""),[L,I]=x.useState("all"),[F,X]=x.useState("all"),[J,O]=x.useState({from:void 0,to:void 0}),G=x.useMemo(()=>s.filter(B=>{const de=(B.lead_name||"").toLowerCase().includes(D.toLowerCase())||(B.lead_description||"").toLowerCase().includes(D.toLowerCase())||(B.client_name||"").toLowerCase().includes(D.toLowerCase()),je=F==="all"||B.assigned_to&&B.assigned_to===F;let Ne=!0;if(J.from&&B.created_date){const Ve=new Date(B.created_date),ke=new Date(J.from);ke.setHours(0,0,0,0);const Ce=new Date(Ve);if(Ce.setHours(0,0,0,0),Ne=Ce>=ke,Ne&&J.to){const ve=new Date(J.to);ve.setHours(23,59,59,999),Ne=Ce<=ve}}else J.from&&!B.created_date&&(Ne=!1);return de&&je&&Ne}),[s,D,L,F,J]),[V,K]=x.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});x.useEffect(()=>{re()},[]),x.useEffect(()=>{if(f.length>0&&C===null){const B=f.find(de=>de.stage_id===1);B&&A(B.stage_id)}},[f,C]);const re=async()=>{try{p(!0);const[B,de,je,Ne]=await Promise.all([Sd.getAll(),wn.getAll(),sq.getAll(),ns.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:B.length,clients:je.length,users:de.length,stages:Ne.length}),console.log("[Leads] Leads data:",B),console.log("[Leads] Stages data:",Ne),o(B),c(je),d(de),h(Ne)}catch(B){console.error("Failed to load data:",B)}finally{p(!1)}},ue=async B=>{if(y.trim())try{await ns.update(B,{stage_name:y.trim()}),h(f.map(de=>de.stage_id===B?{...de,stage_name:y.trim()}:de)),v(null),b("")}catch(de){console.error("Failed to update stage:",de)}},_e=async B=>{if(s.filter(je=>je.stage===B).length>0){w(B);return}try{await ns.delete(B),h(f.filter(je=>je.stage_id!==B))}catch(je){console.error("Failed to delete stage:",je)}},W=async()=>{if(_)try{await ns.delete(_),h(f.filter(B=>B.stage_id!==_)),w(null),re()}catch(B){console.error("Failed to delete stage:",B)}},Z=B=>{N(B)},pe=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},E=async B=>{if(!j)return;const de=s.find(je=>je.lead_id===j);if(de&&de.stage!==B)try{await Sd.update(j,{stage:B}),o(s.map(je=>je.lead_id===j?{...je,stage:B}:je))}catch(je){console.error("Failed to update lead stage:",je)}N(null)},xe=async B=>{try{await Sd.delete(B),o(s.filter(de=>de.lead_id!==B))}catch(de){console.error("Failed to delete lead:",de)}},Te=async(B,de)=>{const je=de||null,Ne=je?new Date().toISOString():null,Ve=s.find(ke=>ke.lead_id===B);if(Ve){o(s.map(ke=>ke.lead_id===B?{...ke,assigned_to:je,assigned_at:Ne}:ke));try{await Sd.update(B,{assigned_to:je,assigned_at:Ne})}catch(ke){console.error("Failed to assign lead:",ke),o(s.map(Ce=>Ce.lead_id===B?{...Ce,assigned_to:Ve.assigned_to,assigned_at:Ve.assigned_at}:Ce))}}},Ue=B=>{K(de=>({...de,stage:B.toString()})),k(!0)},ze=async()=>{if(V.lead_name.trim())try{const B=V.assigned_to&&V.assigned_to!=="unassigned"?V.assigned_to:null,de=B?new Date().toISOString():null,je=xl({lead_name:V.lead_name.trim(),lead_description:V.lead_description.trim()||null,client_name:V.client_name.trim()||null,client_user_id:V.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(V.stage),assigned_to:B,assigned_at:de,value:V.value?parseFloat(V.value):null,currency:V.currency||"SAR",priority:V.priority?parseInt(V.priority):3,expected_close_date:V.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),Ne=await Sd.create(je);o([...s,Ne]),K({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),k(!1)}catch(B){console.error("Failed to create lead:",B)}},Se=f.filter(B=>B.stage_type==="leads").sort((B,de)=>{const je=B.stager_order_index??0,Ne=de.stager_order_index??0;return je-Ne}),et=Se.map(B=>({id:B.stage_id,name:Fe(B,"stage_name"),color:B.color,count:G.filter(de=>de.stage===B.stage_id).length}));return m?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Qt()?"rtl":"ltr",children:[i.jsx(kx,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:i.jsx(Za,{className:"h-6 w-6 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:P==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:i.jsx(rw,{className:"h-4 w-4"})}),i.jsx(ce,{variant:P==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})})]}),i.jsxs(ce,{onClick:()=>k(!0),children:[i.jsx(Kt,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:i.jsx(Za,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(B=>{const de=new Date(B.created_date),je=new Date;return de.getMonth()===je.getMonth()&&de.getFullYear()===je.getFullYear()}).length,icon:i.jsx(Ii,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((B,de)=>B+(de.value||0),0).toLocaleString()}`,icon:i.jsx(eg,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((B,de)=>B+(de.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:i.jsx(eg,{className:"h-5 w-5 text-blue-500"})}]}),i.jsx(VP,{onSearch:M,onFilterAssignee:X,onFilterDateRange:O,users:u}),P==="kanban"?i.jsxs(Nx,{stages:et,currentStageId:C||((Ze=et[0])==null?void 0:Ze.id),onStageChange:A,children:[i.jsx(bn,{open:S,onOpenChange:k,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("leads.createLead")}),i.jsx(Ma,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(We,{value:V.lead_name,onChange:B=>K(de=>({...de,lead_name:B.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(Ln,{value:V.lead_description,onChange:B=>K(de=>({...de,lead_description:B.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(We,{value:V.client_name,onChange:B=>K(de=>({...de,client_name:B.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(xt,{value:V.client_user_id,onValueChange:B=>K(de=>({...de,client_user_id:B})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("leads.selectClient")})}),i.jsx(gt,{children:l.filter(B=>B.userid||B.userid).map(B=>i.jsx(Ee,{value:(B.userid||B.userid||"").toString(),children:Fe(B,"user_name")},B.userid))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),i.jsx(We,{type:"number",min:"0",step:"0.01",value:V.value,onChange:B=>K(de=>({...de,value:B.target.value})),placeholder:"0.00"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),i.jsxs(xt,{value:V.currency,onValueChange:B=>K(de=>({...de,currency:B})),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"SAR",children:"SAR (.)"}),i.jsx(Ee,{value:"USD",children:"USD ($)"}),i.jsx(Ee,{value:"EUR",children:"EUR ()"}),i.jsx(Ee,{value:"GBP",children:"GBP ()"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),i.jsxs(xt,{value:V.priority,onValueChange:B=>K(de=>({...de,priority:B})),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsxs(Ee,{value:"1",children:[" ",n("common.veryLow")]}),i.jsxs(Ee,{value:"2",children:[" ",n("common.low")]}),i.jsxs(Ee,{value:"3",children:[" ",n("common.medium")]}),i.jsxs(Ee,{value:"4",children:[" ",n("common.high")]}),i.jsxs(Ee,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),i.jsx(We,{type:"date",value:V.expected_close_date,onChange:B=>K(de=>({...de,expected_close_date:B.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(xt,{value:V.assigned_to,onValueChange:B=>K(de=>({...de,assigned_to:B})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(B=>i.jsx(Ee,{value:String(B.userid),children:Fe(B,"user_name")},B.userid))]})]})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(ce,{onClick:ze,disabled:!((oe=V.lead_name)!=null&&oe.trim()),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Se.filter(B=>{var de;return r?B.stage_id===(C||((de=et[0])==null?void 0:de.id)):!0}).map((B,de)=>{var ve,De;const je=G.filter(Me=>Me.stage===B.stage_id),Ne=je.reduce((Me,Je)=>Me+(Je.value||0),0),Ve=new Set(je.filter(Me=>Me.value!==null&&Me.currency).map(Me=>Me.currency)),ke=Ve.size===1?Array.from(Ve)[0]:"SAR",Ce=Me=>new Intl.NumberFormat(void 0,{style:"currency",currency:ke}).format(Me);return je.length>0&&console.log(`[Leads] Stage ${B.stage_name} (${B.stage_id}): ${je.length} leads`),de===0&&G.length>0&&(console.log("[Leads] First lead structure:",G[0]),console.log("[Leads] Stage IDs:",f.map(Me=>Me.stage_id))),i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${de*.1}s`},onDragOver:pe,onDrop:()=>E(B.stage_id),children:[i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",B.color||"border-l-4 border-primary/50","hidden md:block"),children:i.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===B.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(We,{value:y,onChange:Me=>b(Me.target.value),onKeyDown:Me=>{Me.key==="Enter"&&ue(B.stage_id),Me.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>ue(B.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("h2",{className:"font-bold text-base",children:Fe(B,"stage_name")})}),i.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:je.length}),i.jsxs(i.Fragment,{children:[i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>Ue(B.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:i.jsx(Kt,{className:"h-4 w-4"})}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{v(B.stage_id),b(Fe(B,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:i.jsx(Li,{className:"h-3 w-3"})}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>_e(B.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:i.jsx(ir,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((ve=f.sort((Me,Je)=>(Me.stager_order_index||0)-(Je.stager_order_index||0))[0])==null?void 0:ve.stage_id)===B.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Ue(B.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Kt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),je.map(Me=>{const Je=l.find(Ft=>{var ur,fr;return((ur=Ft.userid||Ft.userid)==null?void 0:ur.toString())===((fr=Me.client_user_id)==null?void 0:fr.toString())}),tt=u.find(Ft=>{var ur,fr;return((ur=Ft.userid||Ft.userid)==null?void 0:ur.toString())===((fr=Me.created_by)==null?void 0:fr.toString())}),bt=u.find(Ft=>{var ur,fr;return((ur=Ft.userid||Ft.userid)==null?void 0:ur.toString())===((fr=Me.assigned_to)==null?void 0:fr.toString())});return i.jsx("div",{children:i.jsx(NIe,{lead:Me,client:Je||null,creator:tt||null,assignedUser:bt||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>xe(Me.lead_id),onEdit:()=>z(Me.lead_id),onAssign:Te,onClick:()=>z(Me.lead_id),onDragStart:Z,isDragging:j===Me.lead_id})},Me.lead_id)}),((De=f.sort((Me,Je)=>(Me.stager_order_index||0)-(Je.stager_order_index||0))[0])==null?void 0:De.stage_id)!==B.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Ue(B.stage_id),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(eg,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),i.jsx("span",{className:"text-lg font-bold text-primary",children:Ce(Ne)})]})})]},B.stage_id)})}),i.jsx(ui,{open:!!_,onOpenChange:()=>w(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:n("leads.deleteStage")}),i.jsx(Is,{children:n("leads.deleteStageConfirmation",{count:s.filter(B=>B.stage===_).length})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:n("buttons.cancel")}),i.jsx(Ls,{onClick:W,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),i.jsx(bn,{open:S,onOpenChange:k,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("leads.createLead")}),i.jsx(Ma,{children:n("leads.createLeadDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),i.jsx(We,{value:V.lead_name,onChange:B=>K(de=>({...de,lead_name:B.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),i.jsx(Ln,{value:V.lead_description,onChange:B=>K(de=>({...de,lead_description:B.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),i.jsx(We,{value:V.client_name,onChange:B=>K(de=>({...de,client_name:B.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),i.jsxs(xt,{value:V.client_user_id,onValueChange:B=>K(de=>({...de,client_user_id:B})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("leads.selectClient")})}),i.jsx(gt,{children:l.filter(B=>B.userid).map(B=>i.jsx(Ee,{value:String(B.userid),children:Fe(B,"user_name")},B.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),i.jsxs(xt,{value:V.assigned_to,onValueChange:B=>K(de=>({...de,assigned_to:B})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("leads.selectAssignee","Select assignee")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"unassigned",children:n("common.all","Unassigned")}),u.map(B=>i.jsx(Ee,{value:String(B.userid),children:Fe(B,"user_name")},B.userid))]})]})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>k(!1),children:n("buttons.cancel")}),i.jsxs(ce,{onClick:ze,disabled:!((me=V.lead_name)!=null&&me.trim()),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const B=[{key:"lead",header:n("leads.leadName"),render:Ne=>i.jsx(jc,{title:Fe(Ne,"lead_name"),subtitle:Fe(Ne,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:Ne=>i.jsx(SIe,{value:Ne.value,currency:Ne.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:Ne=>{const Ve=l.find(ke=>String(ke.userid)===Ne.client_user_id);return Ve?Fe(Ve,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:Ne=>{const Ve=u.find(ke=>String(ke.userid)===Ne.created_by);return i.jsx(ip,{name:Ve?Fe(Ve,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:Ne=>{const Ve=u.find(ke=>String(ke.userid)===Ne.assigned_to);return i.jsx(ip,{name:Ve?Fe(Ve,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:Ne=>{const Ve=f.find(ke=>ke.stage_id===Ne.stage);return Ve?Fe(Ve,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:Ne=>i.jsx($f,{date:Ne.created_date,fallback:n("leads.notSet")})}],de=[{label:n("common.view"),icon:i.jsx(ni,{className:"h-4 w-4"}),onClick:Ne=>z(Ne.lead_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:Ne=>xe(Ne.lead_id),variant:"destructive",show:()=>!0}],je=[{label:n("buttons.delete","Delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:Ne=>{Ne.forEach(Ve=>xe(Ve.lead_id))},variant:"destructive"}];return i.jsx(wc,{data:G,columns:B,actions:de,bulkActions:je,keyExtractor:Ne=>Ne.lead_id,onRowClick:Ne=>z(Ne.lead_id),enableBulkSelect:!0,emptyState:i.jsx(ko,{icon:i.jsx(Za,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:i.jsxs(ce,{onClick:()=>k(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),i.jsx(_l,{open:!!U,onOpenChange:()=>z(null),children:i.jsxs(Mo,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Qt()?"left":"right",children:[i.jsxs(xc,{children:[i.jsx(wl,{children:n("leads.leadDetails")}),i.jsx(gf,{children:n("leads.leadDetailsDesc")})]}),i.jsx("div",{className:"mt-6",children:U&&i.jsx(vIe,{leadId:U})})]})})]})}const qp={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},CIe=()=>RT({queryKey:qp.users,queryFn:wn.getAll}),EIe=()=>RT({queryKey:qp.tasks,queryFn:Hp.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),TIe=e=>RT({queryKey:[...qp.stages,"type",e],queryFn:()=>ns.getByType(e)}),AIe=()=>{const e=Yv();return MT({mutationFn:Hp.create,onSuccess:()=>{e.invalidateQueries({queryKey:qp.tasks})}})},PIe=()=>{const e=Yv();return MT({mutationFn:({id:t,updates:r})=>Hp.update(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:qp.tasks})}})},OIe=()=>{const e=Yv();return MT({mutationFn:Hp.delete,onSuccess:()=>{e.invalidateQueries({queryKey:qp.tasks})}})};function Kp({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return i.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:i.jsx(tw,{className:"h-10 w-10 text-destructive"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&i.jsxs(ce,{onClick:r,variant:"outline",className:"gap-2",children:[i.jsx(hc,{className:"h-4 w-4"}),"Try Again"]})]})}function DIe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:o,isDragging:l=!1}){var g,v;const{t:c}=Vt(),u=tn(),d=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=y=>{switch(y){case"done":return i.jsx(rc,{className:"h-3 w-3 text-green-500"});case"in_progress":return i.jsx(Ad,{className:"h-3 w-3 text-blue-500"});case"todo":default:return i.jsx(tw,{className:"h-3 w-3 text-gray-500"})}},h=y=>{switch(y){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=y=>{if(!y)return null;const b=new Date,w=(new Date(y).getTime()-b.getTime())/(1e3*60*60);return w<0?"overdue":w<24?"urgent":w<72?"soon":null},p=y=>{switch(m(y)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(it,{className:be("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),p(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:y=>{s&&(y.dataTransfer.effectAllowed="move",y.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[i.jsx(Bt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&i.jsxs(ui,{children:[i.jsx(Sx,{asChild:!0,onClick:y=>y.stopPropagation(),children:i.jsx(ce,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ir,{className:"h-4 w-4"})})}),i.jsxs(Ds,{onClick:y=>y.stopPropagation(),children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:"Delete Task"}),i.jsxs(Is,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:"Cancel"}),i.jsx(Ls,{onClick:y=>{y.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Dn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t?Fe(t,"name"):c("common.all","Unassigned")})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),i.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),u&&o&&i.jsx("div",{className:"pt-1",children:i.jsxs(xt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:y=>o(e.task_id,parseInt(y)),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(yt,{placeholder:c("tasks.selectStage","Select stage")})}),i.jsx(gt,{children:r.filter(y=>y.stage_id!=null).map(y=>i.jsx(Ee,{value:y.stage_id.toString(),children:Fe(y,"stage_name")},y.stage_id))})]})}),e.due_date&&i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[i.jsx(Ii,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function RIe(){var pe;Bs();const{hasRole:e,user:t,loading:r}=xr(),{t:n}=Vt(),a=tn(),[s,o]=x.useState(null),[l,c]=x.useState("kanban");x.useState(!1);const u=E=>{switch(E==null?void 0:E.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};x.useState(""),x.useState(null),x.useState(""),x.useState(null);const[d,f]=x.useState(null),[h,m]=x.useState(!1),[p,g]=x.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,y]=x.useState(""),[b,_]=x.useState("all"),[w,j]=x.useState("all"),[N,S]=x.useState({from:void 0,to:void 0}),{data:k=[],isLoading:C,error:A}=EIe(),{data:P=[],isLoading:T,error:U}=CIe(),{data:z=[],isLoading:D,error:M}=TIe("tasks"),L=AIe(),I=PIe(),F=OIe(),X=x.useMemo(()=>k.filter(E=>{const xe=E.task_name.toLowerCase().includes(v.toLowerCase())||E.description&&E.description.toLowerCase().includes(v.toLowerCase()),Te=b==="all"||E.task_status===b,Ue=w==="all"||E.assigned_to&&E.assigned_to.toString()===w;let ze=!0;if(N.from&&E.due_date){const Se=new Date(E.due_date),et=new Date(N.from);et.setHours(0,0,0,0);const Ze=new Date(Se);if(Ze.setHours(0,0,0,0),ze=Ze>=et,ze&&N.to){const oe=new Date(N.to);oe.setHours(23,59,59,999),ze=Ze<=oe}}else N.from&&!E.due_date&&(ze=!1);return xe&&Te&&Ue&&ze}),[k,v,b,w,N]),J=z.sort((E,xe)=>{const Te=E.stager_order_index??0,Ue=xe.stager_order_index??0;return Te-Ue}).map(E=>({id:E.stage_id,name:Fe(E,"stage_name"),color:E.color,count:X.filter(xe=>xe.stage_id===E.stage_id).length})),O=C||T||D||r,G=(A==null?void 0:A.message)||(U==null?void 0:U.message)||(M==null?void 0:M.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:O,data:{tasks:k.length,users:P.length,stages:z.length}});const V=async E=>{try{await F.mutateAsync(E)}catch(xe){console.error("Failed to delete task:",xe)}},K=E=>{f(E)},re=E=>{E.preventDefault(),E.dataTransfer.dropEffect="move"},ue=async E=>{if(!d)return;const xe=k.find(Te=>Te.task_id===d);if(xe&&xe.stage_id!==E)try{await I.mutateAsync({id:d,updates:{stage_id:E}})}catch(Te){console.error("Failed to update task stage:",Te)}f(null)},_e=async(E,xe)=>{const Te=k.find(Ue=>Ue.task_id===E);if(Te&&Te.stage_id!==xe)try{await I.mutateAsync({id:E,updates:{stage_id:xe}})}catch(Ue){console.error("Failed to update task stage:",Ue)}},W=async()=>{if(p.task_name.trim())try{const E=xl({task_name:p.task_name.trim(),stage_id:p.stage_id?parseInt(p.stage_id):null,assigned_to:p.assigned_to?parseInt(p.assigned_to):null,task_status:p.task_status,due_date:p.due_date?new Date(p.due_date).toISOString():null,description:p.description.trim()||null,userid:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await L.mutateAsync(E),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(E){console.error("Failed to create task:",E)}},Z=!0;return x.useEffect(()=>{if(z.length>0&&s===null){const E=z.sort((xe,Te)=>(xe.stager_order_index??0)-(Te.stager_order_index??0));E.length>0&&o(E[0].stage_id)}},[z,s]),O||r||!t?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:n("common.loading"),size:"2xl"})}):G?i.jsx(Kp,{message:G}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Qt()?"rtl":"ltr",children:[i.jsx(kx,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:i.jsx(tg,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:i.jsx(rw,{className:"h-4 w-4"})}),i.jsx(ce,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})})]}),i.jsxs(ce,{onClick:()=>m(!0),children:[i.jsx(Kt,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.totalTasks"),value:k.length,icon:i.jsx(tg,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:k.filter(E=>E.task_status==="todo").length,icon:i.jsx(tw,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:k.filter(E=>E.task_status==="in_progress").length,icon:i.jsx(Ad,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:k.filter(E=>E.task_status==="done").length,icon:i.jsx(rc,{className:"h-4 w-4 text-green-500"})}]}),i.jsx(VP,{onSearch:y,onFilterStatus:_,onFilterAssignee:j,onFilterDateRange:S,users:P,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?i.jsxs(Nx,{stages:J,currentStageId:s||((pe=J[0])==null?void 0:pe.id),onStageChange:o,children:[i.jsx(bn,{open:h,onOpenChange:m,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("tasks.createTask")}),i.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(We,{value:p.task_name,onChange:E=>g(xe=>({...xe,task_name:E.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(Ln,{value:p.description,onChange:E=>g(xe=>({...xe,description:E.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(xt,{value:p.assigned_to,onValueChange:E=>g(xe=>({...xe,assigned_to:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectUser")})}),i.jsx(gt,{children:P.filter(E=>E.userid!=null).map(E=>i.jsx(Ee,{value:E.userid.toString(),children:Fe(E,"name")},E.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(xt,{value:p.stage_id,onValueChange:E=>g(xe=>({...xe,stage_id:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectStage")})}),i.jsx(gt,{children:z.filter(E=>E.stage_id!=null).map(E=>i.jsx(Ee,{value:E.stage_id.toString(),children:Fe(E,"stage_name")},E.stage_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(xt,{value:p.task_status,onValueChange:E=>g(xe=>({...xe,task_status:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"todo",children:n("tasks.todo")}),i.jsx(Ee,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Ee,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(We,{type:"date",value:p.due_date,onChange:E=>g(xe=>({...xe,due_date:E.target.value}))})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(ce,{onClick:W,disabled:!p.task_name.trim(),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:z.sort((E,xe)=>{const Te=E.stager_order_index??0,Ue=xe.stager_order_index??0;return Te-Ue}).filter(E=>{var xe;return a?E.stage_id===(s||((xe=J[0])==null?void 0:xe.id)):!0}).map((E,xe)=>{var Ue,ze;const Te=X.filter(Se=>Se.stage_id===E.stage_id);return i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${xe*.1}s`},onDragOver:re,onDrop:()=>ue(E.stage_id),children:[i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",E.color||"border-l-4 border-primary/50"),children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Fe(E,"stage_name")})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Te.length})})]})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Ue=z.sort((Se,et)=>(Se.stager_order_index||0)-(et.stager_order_index||0))[0])==null?void 0:Ue.stage_id)===E.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Kt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),Te.map(Se=>{const et=P.find(Ze=>Ze.userid===Se.assigned_to);return i.jsx("div",{draggable:Z,onDragStart:()=>K(Se.task_id),className:"cursor-move",children:i.jsx(DIe,{task:Se,assignedUser:et||null,stages:z,onDelete:()=>V(Se.task_id),onClick:()=>{console.log("Task clicked:",Se.task_id)},onDragStart:K,onStageChange:_e,isDragging:d===Se.task_id})},Se.task_id)}),((ze=z.sort((Se,et)=>(Se.stager_order_index||0)-(et.stager_order_index||0))[0])==null?void 0:ze.stage_id)!==E.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},E.stage_id)})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",k.length,")"]}),i.jsx(bn,{open:h,onOpenChange:m,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("tasks.createTask")}),i.jsx(Ma,{children:n("tasks.createTaskDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),i.jsx(We,{value:p.task_name,onChange:E=>g(xe=>({...xe,task_name:E.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),i.jsx(Ln,{value:p.description,onChange:E=>g(xe=>({...xe,description:E.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),i.jsxs(xt,{value:p.assigned_to,onValueChange:E=>g(xe=>({...xe,assigned_to:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectUser")})}),i.jsx(gt,{children:P.filter(E=>E.userid!=null).map(E=>i.jsx(Ee,{value:E.userid.toString(),children:Fe(E,"name")},E.userid))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),i.jsxs(xt,{value:p.stage_id,onValueChange:E=>g(xe=>({...xe,stage_id:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectStage")})}),i.jsx(gt,{children:z.filter(E=>E.stage_id!=null).map(E=>i.jsx(Ee,{value:E.stage_id.toString(),children:Fe(E,"stage_name")},E.stage_id))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),i.jsxs(xt,{value:p.task_status,onValueChange:E=>g(xe=>({...xe,task_status:E})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("tasks.selectStatus")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"todo",children:n("tasks.todo")}),i.jsx(Ee,{value:"in_progress",children:n("tasks.inProgress")}),i.jsx(Ee,{value:"done",children:n("tasks.done")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),i.jsx(We,{type:"date",value:p.due_date,onChange:E=>g(xe=>({...xe,due_date:E.target.value}))})]})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),i.jsxs(ce,{onClick:W,disabled:!p.task_name.trim(),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const E=[{key:"task",header:n("tasks.taskName"),render:Te=>i.jsx(jc,{title:Te.task_name,subtitle:Te.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:Te=>{const Ue=P.find(ze=>ze.userid===Te.assigned_to);return i.jsx(ip,{name:Ue?Fe(Ue,"name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:Te=>i.jsx(Kq,{variant:u(Te.task_status),children:Te.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:Te=>i.jsx($f,{date:Te.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:Te=>{const Ue=z.find(ze=>ze.stage_id===Te.stage_id);return Ue?Fe(Ue,"stage_name"):n("leads.unknown")}}],xe=[{label:n("common.view"),icon:i.jsx(ni,{className:"h-4 w-4"}),onClick:Te=>console.log("View task:",Te.task_id)},{label:n("buttons.delete","Delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:Te=>V(Te.task_id),variant:"destructive"}];return i.jsx(wc,{data:X,columns:E,actions:xe,keyExtractor:Te=>Te.task_id,emptyState:i.jsx(ko,{icon:i.jsx(tg,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:i.jsxs(ce,{onClick:()=>m(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function xL(e){const[t,r]=x.useState(e),n=x.useCallback((s,o)=>{r(l=>({...l,[s]:o}))},[]),a=x.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const uE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},MIe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,FIe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return i.jsx(xk,{className:"h-3 w-3 text-red-500"});case"high":return i.jsx(xk,{className:"h-3 w-3 text-orange-500"});default:return null}};function yL({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:o,isDragging:l=!1,stageName:c}){const{t:u}=Vt(),d=tn();return i.jsxs(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[i.jsx(Bt,{className:"pb-3 px-4 pt-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),FIe(e.priority)]}),i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&i.jsxs(ui,{children:[i.jsx(Sx,{asChild:!0,onClick:f=>f.stopPropagation(),children:i.jsx(ce,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ir,{className:"h-4 w-4"})})}),i.jsxs(Ds,{onClick:f=>f.stopPropagation(),children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:u("tickets.deleteTicket","Delete Ticket")}),i.jsx(Is,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:u("buttons.cancel")}),i.jsx(Ls,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&i.jsx(ht,{variant:"outline",className:"text-xs",children:c}),i.jsx(ht,{variant:uE(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&i.jsx(ht,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Fe(t,"user_name")})]}),i.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Ii,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:MIe(e.created_date,u("leads.unknown"))})]})})]})]})}function IIe(){const[e,t]=x.useState([]),[r,n]=x.useState([]),[a,s]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState("all"),[p,g]=x.useState("all"),[v,y]=x.useState("all"),[b,_]=x.useState(!1),[w,j]=x.useState(null),[N,S]=x.useState(!1),[k,C]=x.useState(!1),A=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),P=x.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:U,reset:z,setValues:D}=xL(A),{values:M,setField:L,reset:I,setValues:F}=xL(P),[X,J]=x.useState(null),[O,G]=x.useState(null),[V,K]=x.useState("kanban"),[re,ue]=x.useState(""),[_e,W]=x.useState(!1),{user:Z,loading:pe}=xr(),{t:E}=Vt(),xe=tn();x.useEffect(()=>{Z&&!pe&&Te()},[Z,pe]),x.useEffect(()=>{if(a.length>0&&O===null){const ve=a.filter(De=>De.stage_type==="tickets");ve.length>0&&G(ve[0].stage_id)}},[a,O]);const Te=async()=>{try{l(!0),u(null);const[ve,De,Me]=await Promise.all([w0.getAll().catch(Je=>(console.error("[Tickets] Error fetching tickets:",Je),[])),wn.getAll().catch(Je=>(console.error("[Tickets] Error fetching users:",Je),[])),ns.getByType("tickets").catch(Je=>(console.error("[Tickets] Error fetching stages:",Je),[]))]);if(t(ve),n(De),s(Me),Me.length>0){const Je=[...Me].sort((tt,bt)=>(tt.stager_order_index||0)-(bt.stager_order_index||0));D(tt=>{var bt;return{...tt,stage_id:tt.stage_id||((bt=Je[0].stage_id)==null?void 0:bt.toString())||""}})}}catch(ve){console.error("[Tickets] Failed to load data:",ve),u(ve.message||E("common.error"))}finally{l(!1)}},Ue=ve=>ve&&r.find(De=>De.user_id===ve)||null,ze=async ve=>{var De,Me;if(ve.preventDefault(),!(_e||!Z)){ue(""),W(!0);try{const Je=T.assigned_to?parseInt(T.assigned_to):null,tt=r.find(fr=>fr.user_id===Je),bt={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((De=Z.profile)==null?void 0:De.user_id)||null,assigned_to:Je,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Ft=await w0.create(bt);t([Ft,...e]);const ur=a.length>0&&((Me=[...a].sort((fr,Sn)=>(fr.stager_order_index||0)-(Sn.stager_order_index||0))[0].stage_id)==null?void 0:Me.toString())||"";z({...A,stage_id:ur}),_(!1)}catch(Je){ue(Je.message||E("tickets.createError"))}finally{W(!1)}}},Se=ve=>{var De,Me;j(ve),C(!1),F({...P,subject:ve.subject||"",description:ve.description||"",priority:ve.priority||"medium",ticket_type:ve.ticket_type||"request",assigned_to:((De=ve.assigned_to)==null?void 0:De.toString())||"unassigned",stage_id:((Me=ve.stage_id)==null?void 0:Me.toString())||""}),S(!0)},et=async()=>{if(!(!w||_e)){ue(""),W(!0);try{const ve=M.assigned_to&&M.assigned_to!=="unassigned"?parseInt(M.assigned_to):null,De=r.find(Me=>Me.user_id===ve);await w0.update(w.ticket_id,{subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ve,stage_id:M.stage_id?parseInt(M.stage_id):null}),t(e.map(Me=>Me.ticket_id===w.ticket_id?{...Me,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ve,stage_id:M.stage_id?parseInt(M.stage_id):null}:Me)),j(Me=>Me?{...Me,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:ve,stage_id:M.stage_id?parseInt(M.stage_id):null}:null),C(!1)}catch(ve){ue(ve.message||E("tickets.updateError","Failed to update ticket"))}finally{W(!1)}}},Ze=async ve=>{try{await w0.delete(ve),t(e.filter(De=>De.ticket_id!==ve))}catch(De){console.error("[Tickets] Failed to delete ticket:",De)}},oe=ve=>{J(ve)},me=()=>{J(null)},B=ve=>{ve.preventDefault(),ve.dataTransfer.dropEffect="move"},de=async ve=>{if(!X)return;const De=e.find(Me=>Me.ticket_id===X);if(De&&De.stage_id!==ve){t(Me=>Me.map(Je=>Je.ticket_id===X?{...Je,stage_id:ve}:Je));try{await w0.moveToStage(X,ve)}catch(Me){console.error("Failed to update ticket stage:",Me),t(Je=>Je.map(tt=>tt.ticket_id===X?{...tt,stage_id:De.stage_id}:tt))}}J(null)},je=x.useMemo(()=>e.filter(ve=>{var bt,Ft,ur;const De=((bt=ve.subject)==null?void 0:bt.toLowerCase().includes(d.toLowerCase()))||((Ft=ve.description)==null?void 0:Ft.toLowerCase().includes(d.toLowerCase())),Me=h==="all"||ve.priority===h,Je=p==="all"||ve.ticket_type===p,tt=v==="all"||((ur=ve.stage_id)==null?void 0:ur.toString())===v;return De&&Me&&Je&&tt}),[e,d,h,p,v]),Ne=x.useMemo(()=>a.filter(ve=>ve.stage_type==="tickets").sort((ve,De)=>{const Me=ve.stager_order_index??0,Je=De.stager_order_index??0;return Me-Je}),[a]),Ve=x.useMemo(()=>Ne.map(ve=>({id:ve.stage_id,name:Fe(ve,"stage_name"),color:ve.color,count:je.filter(De=>De.stage_id===ve.stage_id).length})),[Ne,je]),ke=()=>{var ve;return Ne.length===0?i.jsx(ko,{icon:i.jsx(dh,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noStages","No ticket stages found"),description:E("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):i.jsxs(Nx,{stages:Ve,currentStageId:O||((ve=Ve[0])==null?void 0:ve.id),onStageChange:G,children:[i.jsx("div",{className:be("flex gap-4 pb-4 overflow-x-auto",xe?"hidden":"flex"),children:Ne.map(De=>{const Me=je.filter(bt=>bt.stage_id===De.stage_id),Je=De.color||"border-l-4 border-gray-400",tt=Fe(De,"stage_name");return i.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-full bg-background/50 border border-muted/50 rounded-lg",onDragOver:B,onDrop:()=>de(De.stage_id),children:[i.jsx("div",{className:be("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Je),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Fe(De,"stage_name")}),i.jsx(ht,{variant:"secondary",className:"text-xs",children:Me.length})]}),i.jsx(ce,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{D(bt=>{var Ft;return{...bt,stage_id:((Ft=De.stage_id)==null?void 0:Ft.toString())||""}}),_(!0)},children:i.jsx(Kt,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:i.jsxs("div",{className:"space-y-3",children:[Me.map(bt=>i.jsx(yL,{ticket:bt,assignedUser:Ue(bt.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:Ze,onClick:()=>Se(bt),onDragStart:oe,onDragEnd:me,isDragging:X===bt.ticket_id,stageName:tt},bt.ticket_id)),Me.length===0&&i.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:E("tickets.noTicketsInStage","No tickets in this stage")})]})})]},De.stage_id)})}),xe&&O&&i.jsxs("div",{className:"space-y-3 p-2",children:[je.filter(De=>De.stage_id===O).map(De=>{var Me;return i.jsx(yL,{ticket:De,assignedUser:Ue(De.assigned_to),userRole:Z==null?void 0:Z.role,onDelete:Ze,onClick:()=>Se(De),onDragStart:oe,onDragEnd:me,isDragging:X===De.ticket_id,stageName:((Me=Ve.find(Je=>Je.id===O))==null?void 0:Me.name)||null},De.ticket_id)}),je.filter(De=>De.stage_id===O).length===0&&i.jsx(ko,{icon:i.jsx(dh,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noTicketsInStage","No tickets in this stage"),description:E("tickets.createFirst","Create a ticket to get started"),action:i.jsxs(ce,{onClick:()=>{D(De=>({...De,stage_id:(O==null?void 0:O.toString())||""})),_(!0)},children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket")]})})]})]})},Ce=()=>{const ve=[{key:"ticket",header:E("tickets.subject","Subject"),render:Me=>i.jsx(jc,{title:Me.subject||E("tickets.noSubject","No Subject"),subtitle:Me.description})},{key:"priority",header:E("tickets.priority","Priority"),render:Me=>i.jsx(Kq,{variant:uE(Me.priority),children:Me.priority||E("leads.unknown")})},{key:"type",header:E("tickets.ticketType","Type"),hideOnMobile:!0,render:Me=>i.jsx(ht,{variant:"outline",className:"text-xs",children:Me.ticket_type||E("leads.unknown")})},{key:"assignee",header:E("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:Me=>{const Je=Ue(Me.assigned_to);return i.jsx(ip,{name:Je?Fe(Je,"user_name"):null,fallback:E("tickets.unassigned","Unassigned")})}},{key:"stage",header:E("tickets.stage","Stage"),hideOnMobile:!0,render:Me=>{const Je=Ne.find(tt=>tt.stage_id===Me.stage_id);return Je?Fe(Je,"stage_name"):E("tickets.noStage","No stage")}},{key:"created",header:E("tickets.createdDate","Created"),hideOnMobile:!0,render:Me=>i.jsx($f,{date:Me.created_date,fallback:E("leads.notSet","Not set")})}],De=[{label:E("common.view","View"),icon:i.jsx(ni,{className:"h-4 w-4"}),onClick:Se},{label:E("buttons.delete","Delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:Me=>Ze(Me.ticket_id),variant:"destructive",show:()=>!0}];return i.jsx(wc,{data:je,columns:ve,actions:De,keyExtractor:Me=>Me.ticket_id,onRowClick:Se,emptyState:i.jsx(ko,{icon:i.jsx(dh,{className:"h-12 w-12 text-muted-foreground/50"}),title:E("tickets.noTicketsInPage"),description:E("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:i.jsxs(ce,{onClick:()=>_(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket","New Ticket")]})})})};return o||pe?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:E("common.loading"),size:"2xl"})}):Z?c?i.jsx(Kp,{title:E("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Te}):i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Qt()?"rtl":"ltr",children:[i.jsx(kx,{title:E("tickets.title"),description:E("tickets.description","Manage and track support tickets"),icon:i.jsx(dh,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:V==="kanban"?"default":"ghost",size:"sm",onClick:()=>K("kanban"),className:"h-8 w-8 p-0",children:i.jsx(rw,{className:"h-4 w-4"})}),i.jsx(ce,{variant:V==="list"?"default":"ghost",size:"sm",onClick:()=>K("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})})]}),i.jsxs(ce,{onClick:()=>_(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),E("tickets.newTicket")]})]}),stats:[{label:E("tickets.total","Total Tickets"),value:e.length,icon:i.jsx(dh,{className:"h-4 w-4 text-primary"})},...Ne.map(ve=>({label:Fe(ve,"stage_name"),value:e.filter(De=>De.stage_id===ve.stage_id).length,icon:i.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"})}))]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(We,{placeholder:E("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:ve=>f(ve.target.value),className:"pl-10 h-9"})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(xt,{value:v,onValueChange:y,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(yt,{placeholder:E("tickets.allStages","All Stages")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:E("tickets.allStages","All Stages")}),Ne.map(ve=>{var De;return i.jsx(Ee,{value:((De=ve.stage_id)==null?void 0:De.toString())||"",children:Fe(ve,"stage_name")},ve.stage_id)})]})]}),i.jsxs(xt,{value:p,onValueChange:g,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(yt,{placeholder:E("tickets.allTypes")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:E("tickets.allTypes","All Types")}),i.jsx(Ee,{value:"issue",children:E("tickets.typeIssue","Issue")}),i.jsx(Ee,{value:"request",children:E("tickets.typeRequest","Request")}),i.jsx(Ee,{value:"follow_up",children:E("tickets.typeFollowUp","Follow Up")}),i.jsx(Ee,{value:"internal_task",children:E("tickets.typeInternalTask","Internal Task")})]})]}),i.jsxs(xt,{value:h,onValueChange:m,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(yt,{placeholder:E("tickets.allPriorities")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:E("tickets.allPriorities","All Priorities")}),i.jsx(Ee,{value:"low",children:E("tickets.priorityLow","Low")}),i.jsx(Ee,{value:"medium",children:E("tickets.priorityMedium","Medium")}),i.jsx(Ee,{value:"high",children:E("tickets.priorityHigh","High")}),i.jsx(Ee,{value:"urgent",children:E("tickets.priorityUrgent","Urgent")})]})]})]})]}),i.jsx("div",{className:"flex-1 overflow-auto",children:V==="kanban"?ke():Ce()}),i.jsx(bn,{open:b,onOpenChange:_,children:i.jsxs(ln,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:E("tickets.createNewTicket")}),i.jsx(Ma,{children:E("tickets.createTicketDesc")})]}),i.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[re&&i.jsx(Om,{variant:"destructive",children:i.jsx(Dm,{children:re})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"subject",children:[E("tickets.subject")," *"]}),i.jsx(We,{id:"subject",value:T.subject,onChange:ve=>U("subject",ve.target.value),placeholder:E("tickets.subjectPlaceholder"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"description",children:E("tickets.description")}),i.jsx(Ln,{id:"description",value:T.description,onChange:ve=>U("description",ve.target.value),placeholder:E("tickets.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage",children:E("tickets.stage","Stage")}),i.jsxs(xt,{value:T.stage_id,onValueChange:ve=>U("stage_id",ve),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:E("tickets.selectStage","Select stage")})}),i.jsx(gt,{children:Ne.map(ve=>{var De;return i.jsx(Ee,{value:((De=ve.stage_id)==null?void 0:De.toString())||"",children:Fe(ve,"stage_name")},ve.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"priority",children:[E("tickets.priority")," *"]}),i.jsxs(xt,{value:T.priority,onValueChange:ve=>U("priority",ve),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"low",children:E("tickets.priorityLow")}),i.jsx(Ee,{value:"medium",children:E("tickets.priorityMedium")}),i.jsx(Ee,{value:"high",children:E("tickets.priorityHigh")}),i.jsx(Ee,{value:"urgent",children:E("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"ticket_type",children:[E("tickets.ticketType")," *"]}),i.jsxs(xt,{value:T.ticket_type,onValueChange:ve=>U("ticket_type",ve),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"request",children:E("tickets.typeRequest")}),i.jsx(Ee,{value:"follow_up",children:E("tickets.typeFollowUp")}),i.jsx(Ee,{value:"issue",children:E("tickets.typeIssue")}),i.jsx(Ee,{value:"internal_task",children:E("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"assigned_to",children:E("tickets.assignTo")}),i.jsxs(xt,{value:T.assigned_to,onValueChange:ve=>U("assigned_to",ve),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:E("tickets.selectAssignee")})}),i.jsx(gt,{children:r.map(ve=>{var De;return i.jsx(Ee,{value:((De=ve.user_id)==null?void 0:De.toString())||"",children:Fe(ve,"user_name")},ve.user_id)})})]})]})]}),i.jsxs(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ce,{type:"button",variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:E("buttons.cancel")}),i.jsx(ce,{type:"submit",disabled:_e||!T.subject.trim(),className:"w-full sm:w-auto",children:E(_e?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),i.jsx(bn,{open:N,onOpenChange:S,children:i.jsxs(ln,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[i.jsxs(cn,{children:[i.jsx(un,{className:"text-lg sm:text-xl leading-tight",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[i.jsx("span",{className:"break-words",children:w==null?void 0:w.subject}),i.jsx(ht,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(w==null?void 0:w.status)||E("leads.unknown")})]})}),i.jsxs(Ma,{className:"text-sm",children:[E("tickets.ticketId"),": #",w==null?void 0:w.ticket_id]})]}),w&&i.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[re&&i.jsx(Om,{variant:"destructive",children:i.jsx(Dm,{children:re})}),k?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"edit-subject",children:[E("tickets.subject")," *"]}),i.jsx(We,{id:"edit-subject",value:M.subject,onChange:ve=>L("subject",ve.target.value),placeholder:E("tickets.subjectPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"edit-description",children:E("tickets.description")}),i.jsx(Ln,{id:"edit-description",value:M.description,onChange:ve=>L("description",ve.target.value),rows:3})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:E("tickets.stage","Stage")}),i.jsxs(xt,{value:M.stage_id,onValueChange:ve=>L("stage_id",ve),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:E("tickets.selectStage","Select stage")})}),i.jsx(gt,{children:Ne.map(ve=>{var De;return i.jsx(Ee,{value:((De=ve.stage_id)==null?void 0:De.toString())||"",children:Fe(ve,"stage_name")},ve.stage_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:E("tickets.priority")}),i.jsxs(xt,{value:M.priority,onValueChange:ve=>L("priority",ve),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"low",children:E("tickets.priorityLow")}),i.jsx(Ee,{value:"medium",children:E("tickets.priorityMedium")}),i.jsx(Ee,{value:"high",children:E("tickets.priorityHigh")}),i.jsx(Ee,{value:"urgent",children:E("tickets.priorityUrgent")})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:E("tickets.ticketType")}),i.jsxs(xt,{value:M.ticket_type,onValueChange:ve=>L("ticket_type",ve),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"request",children:E("tickets.typeRequest")}),i.jsx(Ee,{value:"follow_up",children:E("tickets.typeFollowUp")}),i.jsx(Ee,{value:"issue",children:E("tickets.typeIssue")}),i.jsx(Ee,{value:"internal_task",children:E("tickets.typeInternalTask")})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:E("tickets.assignTo")}),i.jsxs(xt,{value:M.assigned_to,onValueChange:ve=>L("assigned_to",ve),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:E("tickets.selectAssignee")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"unassigned",children:E("tickets.unassigned","Unassigned")}),r.map(ve=>{var De;return i.jsx(Ee,{value:((De=ve.user_id)==null?void 0:De.toString())||"",children:Fe(ve,"user_name")},ve.user_id)})]})]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.priority")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:uE(w.priority),className:"text-xs",children:w.priority||E("leads.unknown")})})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.ticketType")}),i.jsx("div",{className:"mt-1",children:i.jsx(ht,{variant:"outline",className:"text-xs",children:w.ticket_type||E("leads.unknown")})})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.stage","Stage")}),i.jsx("div",{className:"mt-1 text-sm",children:Ne.find(ve=>ve.stage_id===w.stage_id)?Fe(Ne.find(ve=>ve.stage_id===w.stage_id),"stage_name"):E("tickets.noStage","No stage")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.assignedTo")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(w.assigned_to)?Fe(Ue(w.assigned_to),"user_name"):E("tickets.unassigned","Unassigned")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.createdDate")}),i.jsx("div",{className:"mt-1 text-sm",children:w.created_date?new Date(w.created_date).toLocaleString():"N/A"})]})]}),w.description&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.description")}),i.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:w.description})]})]}),i.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.createdBy")}),i.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(w.created_by)?Fe(Ue(w.created_by),"user_name"):E("leads.unknown")})]}),w.resolved_date&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.resolvedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(w.resolved_date).toLocaleString()})]}),w.closed_at&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:E("tickets.closedDate")}),i.jsx("div",{className:"mt-1 text-sm",children:new Date(w.closed_at).toLocaleString()})]})]})]}),i.jsx(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:k?i.jsxs(i.Fragment,{children:[i.jsx(ce,{variant:"outline",onClick:()=>C(!1),className:"w-full sm:w-auto",children:E("buttons.cancel")}),i.jsxs(ce,{onClick:et,disabled:_e||!M.subject.trim(),className:"w-full sm:w-auto",children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),_e?E("buttons.saving","Saving..."):E("buttons.save","Save")]})]}):i.jsxs(i.Fragment,{children:[i.jsx(ce,{variant:"outline",onClick:()=>S(!1),className:"w-full sm:w-auto",children:E("buttons.close","Close")}),i.jsxs(ce,{onClick:()=>C(!0),className:"w-full sm:w-auto",children:[i.jsx(Li,{className:"h-4 w-4 mr-2"}),E("buttons.edit","Edit")]})]})})]})})]}):null}var JP="Progress",QP=100,[LIe,dqe]=fs(JP),[$Ie,BIe]=LIe(JP),Gq=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=UIe,...o}=e;(a||a===0)&&!bL(a)&&console.error(zIe(`${a}`,"Progress"));const l=bL(a)?a:QP;n!==null&&!_L(n,l)&&console.error(VIe(`${n}`,"Progress"));const c=_L(n,l)?n:null,u=d_(c)?s(c,l):void 0;return i.jsx($Ie,{scope:r,value:c,max:l,children:i.jsx(mt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":d_(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Jq(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Gq.displayName=JP;var Yq="ProgressIndicator",Xq=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=BIe(Yq,r);return i.jsx(mt.div,{"data-state":Jq(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Xq.displayName=Yq;function UIe(e,t){return`${Math.round(e/t*100)}%`}function Jq(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function d_(e){return typeof e=="number"}function bL(e){return d_(e)&&!isNaN(e)&&e>0}function _L(e,t){return d_(e)&&!isNaN(e)&&e<=t&&e>=0}function zIe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${QP}\`.`}function VIe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${QP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Qq=Gq,WIe=Xq;const jf=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(Qq,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(WIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));jf.displayName=Qq.displayName;function HIe({projectId:e,onClose:t}){const{id:r}=xre(),n=Bs(),{user:a}=xr(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(null),[_,w]=x.useState([]),[j,N]=x.useState([]),S=e||(r?parseInt(r):null),k=!!e;x.useEffect(()=>{(async()=>{!S||!a||h(!0)})()},[S,a]),x.useEffect(()=>{S&&f&&C()},[S,f]);const C=async()=>{if(S)try{d(!0);const D=await Xc.getById(S);if(p(D),D){if(D.created_by)try{const M=await wn.getByAuthId(D.created_by.toString());v(M)}catch(M){console.error("Failed to fetch client:",M)}if(D.created_by)try{const M=await wn.getByAuthId(D.created_by.toString());b(M)}catch(M){console.error("Failed to fetch manager:",M)}try{const L=(await eIe.getProjectUsers(S)).map(F=>F.userid),I=await Promise.all(L.map(F=>F?wn.getByAuthId(F.toString()).catch(()=>null):null));w(I.filter(F=>F!==null))}catch(M){console.error("Failed to fetch project users:",M)}try{const I=(await ns.getAll()).filter(J=>J.project_id===S).map(J=>J.stage_id),X=(await Promise.all(I.map(J=>Hp.getByStage(J)))).flat();N(X)}catch(M){console.error("Failed to fetch tasks:",M)}}}catch(D){console.error("Failed to load project data:",D)}finally{d(!1)}};x.useEffect(()=>{S&&m&&j.length>0&&A()},[S,m,j]);const A=async()=>{if(!(!S||!m||j.length===0))try{const D=[];for(const M of j){const L=await cE.getByTask(M.task_id);D.push(...L)}o(D)}catch(D){console.error("Failed to load comments:",D)}},P=async D=>{if(!(!l.trim()||!a))try{const M=await cE.create({task_id:D,userid:a.id.toString(),message:l.trim()});o(L=>[...L,M]),c("")}catch(M){console.error("Failed to add comment:",M)}},T=()=>{t?t():n("/projects")},U=({children:D})=>k?i.jsx("div",{className:"h-full overflow-y-auto p-1",children:D}):i.jsx(Rk,{children:D});if(f===!1)return i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),i.jsx(ce,{onClick:T,children:"Back to Projects"})]})})});if(f===null||!m||!g||!y)return u?i.jsx(U,{children:i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):i.jsx(U,{children:i.jsx("div",{children:"Project not found"})});const z={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return i.jsx(U,{children:i.jsxs("div",{className:"space-y-6 pb-10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ce,{variant:"ghost",size:"icon",onClick:T,children:i.jsx(LB,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Fe(m,"project_name")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Fe(g,"company_name")})]})]}),i.jsx(ce,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),i.jsx(it,{children:i.jsxs(dt,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),i.jsx(jf,{value:m.progress||0,className:"h-3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:i.jsxs(Io,{defaultValue:"tasks",children:[i.jsxs(Bi,{className:"w-full sm:w-auto",children:[i.jsx(Ar,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),i.jsx(Ar,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),i.jsx(Ar,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),i.jsxs(Wr,{value:"tasks",className:"space-y-3",children:[j.map(D=>{var L;const M=_.find(I=>I.user_id===D.assigned_to);return i.jsx(it,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold",children:Fe(D,"task_name")}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Fe(D,"description")}),i.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[i.jsx(ht,{className:be("text-xs",z[D.task_status]),children:((L=D.task_status)==null?void 0:L.replace("_"," "))||"todo"}),D.due_date&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(Ii,{className:"h-3 w-3"}),"Due: ",new Date(D.due_date).toLocaleDateString()]})]})]}),M&&i.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[i.jsx("div",{className:"text-2xl mb-1",children:""}),Fe(M,"user_name")]})]})})},D.task_id)}),i.jsx(ce,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),i.jsx(Wr,{value:"images",children:i.jsx(it,{children:i.jsxs(dt,{className:"pt-6",children:[i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(D=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},D))}),i.jsxs(ce,{variant:"outline",className:"w-full mt-4",children:[i.jsx(zg,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),i.jsxs(Wr,{value:"comments",className:"space-y-3",children:[s.map(D=>{const M=[..._,g,y].find(L=>{var I,F,X,J;return L&&(((I=L.userid)==null?void 0:I.toString())===((F=D.userid)==null?void 0:F.toString())||((X=L.user_id)==null?void 0:X.toString())===((J=D.userid)==null?void 0:J.toString()))});return i.jsx(it,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"text-2xl",children:(M==null?void 0:M.avatar)||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:M?Fe(M,"user_name"):"Unknown"}),i.jsx("p",{className:"text-sm mt-1",children:D.message}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(D.created_date||"").toLocaleString()})]})]})})},D.comment_id)}),j.length>0&&i.jsx(it,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(We,{placeholder:"Add a comment...",value:l,onChange:D=>c(D.target.value),onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),P(j[0].task_id))}}),i.jsx(ce,{size:"icon",onClick:()=>P(j[0].task_id),children:i.jsx(Jv,{className:"h-4 w-4"})})]})})})]})]})}),i.jsxs("div",{className:"space-y-4 lg:order-last",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{className:"text-base sm:text-lg",children:"Project Summary"})}),i.jsxs(dt,{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:g.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:Fe(g,"user_name")}),i.jsx("div",{className:"text-xs text-muted-foreground",children:Fe(g,"company_name")})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:y.avatar}),i.jsx("div",{className:"text-sm",children:Fe(y,"user_name")})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),i.jsx("div",{className:"space-y-2",children:_.map(D=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:D.avatar||""}),i.jsx("div",{className:"text-sm",children:Fe(D,"user_name")})]},D.user_id))})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&i.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{className:"text-base sm:text-lg",children:"Recent Activity"})}),i.jsx(dt,{children:i.jsxs("div",{className:"space-y-3 text-xs",children:[i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"Task completed"}),i.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),i.jsxs("div",{className:"pb-2 border-b",children:[i.jsx("div",{className:"font-medium",children:"New comment added"}),i.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Images uploaded"}),i.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function qIe({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:o,onStageChange:l,isDragging:c=!1}){const{t:u}=Vt(),d=tn(),f=e.progress||0,h=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=g=>{if(!g)return null;const v=new Date,b=(new Date(g).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},p=g=>{switch(m(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return i.jsxs(it,{className:be("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),p(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:g=>{o&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[i.jsx(Bt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Fe(e,"project_name")}),Fe(e,"project_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Fe(e,"project_description")})]}),a&&i.jsxs(ui,{children:[i.jsx(Sx,{asChild:!0,onClick:g=>g.stopPropagation(),children:i.jsx(ce,{variant:"ghost",size:"sm",className:be("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:i.jsx(ir,{className:"h-4 w-4"})})}),i.jsxs(Ds,{onClick:g=>g.stopPropagation(),children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:u("projects.deleteProject")}),i.jsx(Is,{children:u("projects.deleteConfirmation",{name:Fe(e,"project_name")})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:u("buttons.cancel")}),i.jsx(Ls,{onClick:g=>{g.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),i.jsxs(dt,{className:"px-4 pb-4 space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:u("projects.progress")}),i.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),i.jsx(jf,{value:f,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),i.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),i.jsxs("div",{className:"flex items-start gap-1.5",children:[i.jsx(Dn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),i.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&i.jsx("div",{className:"pt-1",children:i.jsxs(xt,{value:e.stage.toString(),onValueChange:g=>l(e.project_id,parseInt(g)),children:[i.jsx(pt,{className:"h-7 text-xs",children:i.jsx(yt,{placeholder:u("projects.selectStage","Select stage")})}),i.jsx(gt,{children:n.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>i.jsx(Ee,{value:g.stage_id.toString(),children:Fe(g,"stage_name")},g.stage_id))})]})}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[i.jsx(Ii,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:h(e.created_date)})]}),f===100?i.jsx(ht,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?i.jsx(ht,{variant:"default",className:"text-xs",children:"In Progress"}):i.jsx(ht,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function KIe(){var Ne,Ve;Bs();const{hasRole:e,user:t}=xr();Ia();const{t:r}=Vt(),n=tn(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(null);x.useState(!1),x.useState("");const[v,y]=x.useState(null),[b,_]=x.useState(""),[w,j]=x.useState(null),[N,S]=x.useState(null),[k,C]=x.useState(!1),[A,P]=x.useState(null),[T,U]=x.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[z,D]=x.useState(!1),[M,L]=x.useState({project_name:"",project_description:"",client_id:""}),[I,F]=x.useState("kanban"),[X,J]=x.useState(null),[O,G]=x.useState(""),[V,K]=x.useState("all"),[re,ue]=x.useState("all"),[_e,W]=x.useState({from:void 0,to:void 0}),Z=x.useMemo(()=>a.filter(ke=>{const Ce=(ke.project_name||"").toLowerCase().includes(O.toLowerCase())||(ke.project_description||"").toLowerCase().includes(O.toLowerCase());let ve=!0;V==="todo"?ve=(ke.progress||0)===0:V==="in_progress"?ve=(ke.progress||0)>0&&(ke.progress||0)<100:V==="done"&&(ve=(ke.progress||0)===100);const De=re==="all"||ke.created_by&&ke.created_by.toString()===re;let Me=!0;if(_e.from&&ke.end_date){const Je=new Date(ke.end_date),tt=new Date(_e.from);tt.setHours(0,0,0,0);const bt=new Date(Je);if(bt.setHours(0,0,0,0),Me=bt>=tt,Me&&_e.to){const Ft=new Date(_e.to);Ft.setHours(23,59,59,999),Me=bt<=Ft}}else _e.from&&!ke.end_date&&(Me=!1);return Ce&&ve&&De&&Me}),[a,O,V,re,_e]);x.useEffect(()=>{pe()},[]),x.useEffect(()=>{if(d.length>0&&A===null){const ke=d.find(Ce=>Ce.stage_id===5);ke&&P(ke.stage_id)}},[d,A]);const pe=async()=>{try{m(!0),g(null);const[ke,Ce,ve,De]=await Promise.all([Xc.getAll(),sq.getAll(),wn.getAll(),ns.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:ke.length,clients:Ce.length,users:ve.length,stages:De.length}),console.log("[Projects] Projects data:",ke),console.log("[Projects] Stages data:",De),s(ke),l(Ce),u(ve),f(De)}catch(ke){console.error("Failed to load data:",ke),g(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},E=async ke=>{if(b.trim())try{await ns.update(ke,{stage_name:b.trim()}),f(d.map(Ce=>Ce.stage_id===ke?{...Ce,stage_name:b.trim()}:Ce)),y(null),_("")}catch(Ce){console.error("Failed to update stage:",Ce)}},xe=async ke=>{if(a.filter(ve=>ve.stage===ke).length>0){j(ke);return}try{await ns.delete(ke),f(d.filter(ve=>ve.stage_id!==ke))}catch(ve){console.error("Failed to delete stage:",ve)}},Te=ke=>{S(ke)},Ue=ke=>{ke.preventDefault(),ke.dataTransfer.dropEffect="move"},ze=async ke=>{if(!N)return;const Ce=a.find(ve=>ve.project_id===N);if(Ce&&Ce.stage!==ke)try{await Xc.update(N,{stage:ke}),s(a.map(ve=>ve.project_id===N?{...ve,stage:ke}:ve))}catch(ve){console.error("Failed to update project stage:",ve)}S(null)},Se=async(ke,Ce)=>{const ve=a.find(De=>De.project_id===ke);if(ve&&ve.stage!==Ce)try{await Xc.update(ke,{stage:Ce}),s(a.map(De=>De.project_id===ke?{...De,stage:Ce}:De))}catch(De){console.error("Failed to update project stage:",De)}},et=async ke=>{try{await Xc.delete(ke),s(a.filter(Ce=>Ce.project_id!==ke))}catch(Ce){console.error("Failed to delete project:",Ce)}},Ze=ke=>{U(Ce=>({...Ce,stage:ke.toString()})),C(!0)},oe=async()=>{var ke;if(T.project_name.trim())try{const Ce=xl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((ke=t==null?void 0:t.profile)==null?void 0:ke.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ve=await Xc.create(Ce);s([...a,ve]),U({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),C(!1)}catch(Ce){console.error("Failed to create project:",Ce)}},me=async()=>{var ke;if(M.project_name.trim())try{const Ce=xl({project_name:M.project_name.trim(),project_description:M.project_description.trim()||null,created_by:((ke=t==null?void 0:t.profile)==null?void 0:ke.user_id)||1,progress:0,stage:1,end_date:null,userid:(t==null?void 0:t.id)||null},{project_name:"project_name",project_description:"project_description"}),ve=await Xc.create(Ce);s([...a,ve]),L({project_name:"",project_description:"",client_id:""}),D(!1)}catch(Ce){console.error("Failed to create lead:",Ce)}},B=d.filter(ke=>ke.stage_type==="projects").sort((ke,Ce)=>{const ve=ke.stager_order_index??0,De=Ce.stager_order_index??0;return Qt()?De-ve:ve-De}),de=B.map(ke=>({id:ke.stage_id,name:Fe(ke,"stage_name"),color:ke.color,count:Z.filter(Ce=>Ce.stage===ke.stage_id).length}));if(h)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:r("common.loading"),size:"2xl"})});const je=()=>{var ke;return p?i.jsx(Kp,{title:r("projects.errorTitle","Error loading projects"),message:p,onRetry:pe}):a.length===0&&!O&&V==="all"&&re==="all"?i.jsx(ko,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:i.jsx(qh,{className:"h-10 w-10 text-muted-foreground"}),action:i.jsxs(ce,{onClick:()=>D(!0),children:[i.jsx(Kt,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):i.jsxs(i.Fragment,{children:[i.jsx(VP,{onSearch:G,onFilterStatus:K,onFilterAssignee:ue,onFilterDateRange:W,users:c,statuses:[{value:"todo",label:r("mprojects.notStarted")},{value:"in_progress",label:r("mprojects.inProgress")},{value:"done",label:r("mprojects.completed")}]}),I==="kanban"?i.jsx(i.Fragment,{children:i.jsx(Nx,{stages:de,currentStageId:A||((ke=de[0])==null?void 0:ke.id),onStageChange:P,children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:B.sort((Ce,ve)=>Ce.stage_id-ve.stage_id).filter(Ce=>{var De;return window.innerWidth<1024?Ce.stage_id===(A||((De=de[0])==null?void 0:De.id)):!0}).map((Ce,ve)=>{var Me,Je;const De=Z.filter(tt=>tt.stage===Ce.stage_id);return console.log(`[Projects] Stage ${Ce.stage_name} (${Ce.stage_id}): ${De.length} projects`),console.log("[Projects] Stage projects:",De),i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${ve*.1}s`},onDragOver:Ue,onDrop:()=>ze(Ce.stage_id),children:[!n&&i.jsx("div",{className:be("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",Ce.color||"border-l-4 border-primary/50"),children:i.jsx("div",{className:"flex items-center justify-between mb-2",children:v===Ce.stage_id?i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(We,{value:b,onChange:tt=>_(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&E(Ce.stage_id),tt.key==="Escape"&&(y(null),_(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>E(Ce.stage_id),className:"h-8 w-8 p-0",children:""})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),i.jsx("h2",{className:"font-bold text-base",children:Fe(Ce,"stage_name")})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:De.length}),i.jsxs(i.Fragment,{children:[i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{y(Ce.stage_id),_(Fe(Ce,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:i.jsx(Li,{className:"h-3 w-3"})}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>xe(Ce.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:i.jsx(ir,{className:"h-3 w-3"})})]})]})]})})}),i.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[((Me=d.sort((tt,bt)=>(tt.stager_order_index||0)-(bt.stager_order_index||0))[0])==null?void 0:Me.stage_id)===Ce.stage_id&&i.jsx("div",{className:"mb-4",children:i.jsx(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Ze(Ce.stage_id),children:i.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[i.jsx(Kt,{className:"h-8 w-8"}),i.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),De.map(tt=>{const bt=c.find(Ft=>Ft.userid===Number(tt.created_by)||Ft.user_id===Number(tt.created_by));return i.jsx(qIe,{project:tt,client:o.find(Ft=>{var ur,fr;return((ur=Ft.user_id)==null?void 0:ur.toString())===((fr=tt.client_id)==null?void 0:fr.toString())})||null,manager:bt||null,stages:d,onDelete:et,onClick:()=>J(tt.project_id),onDragStart:Te,onStageChange:Se,isDragging:N===tt.project_id},tt.project_id)}),((Je=d.sort((tt,bt)=>(tt.stager_order_index||0)-(bt.stager_order_index||0))[0])==null?void 0:Je.stage_id)!==Ce.stage_id&&i.jsx("div",{className:"mt-2",children:i.jsxs(ce,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Ze(Ce.stage_id),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},Ce.stage_id)})})})}):i.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:i.jsxs(qP,{children:[i.jsx(KP,{children:i.jsxs(Tv,{children:[i.jsx(fo,{children:r("projects.projectName")}),i.jsx(fo,{children:r("projects.client")}),i.jsx(fo,{children:r("projects.manager")}),i.jsx(fo,{children:r("projects.stage")}),i.jsx(fo,{children:r("projects.progress")}),i.jsx(fo,{children:r("projects.dueDate")}),i.jsx(fo,{className:"w-[50px]"})]})}),i.jsx(GP,{children:Z.map(Ce=>{const ve=c.find(Je=>Je.userid===Number(Ce.created_by)||Je.user_id===Number(Ce.created_by)),De=o.find(Je=>{var tt,bt;return((tt=Je.user_id)==null?void 0:tt.toString())===((bt=Ce.client_id)==null?void 0:bt.toString())}),Me=d.find(Je=>Je.stage_id===Ce.stage);return i.jsxs(Tv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>J(Ce.project_id),children:[i.jsx(ho,{className:"font-medium",children:Fe(Ce,"project_name")}),i.jsx(ho,{children:De?Fe(De,"user_name"):"-"}),i.jsx(ho,{children:ve?Fe(ve,"user_name"):"-"}),i.jsx(ho,{children:i.jsx(ht,{variant:"outline",className:"bg-background",children:Me?Fe(Me,"stage_name"):"-"})}),i.jsx(ho,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jf,{value:Ce.progress||0,className:"w-16 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ce.progress,"%"]})]})}),i.jsx(ho,{className:"text-muted-foreground text-sm",children:Ce.end_date?new Date(Ce.end_date).toLocaleDateString():"-"}),i.jsx(ho,{children:i.jsx(ce,{variant:"ghost",size:"icon",onClick:Je=>{Je.stopPropagation(),et(Ce.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:i.jsx(ir,{className:"h-4 w-4"})})})]},Ce.project_id)})})]})})]})};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Qt()?"rtl":"ltr",children:[i.jsx(kx,{title:r("projects.title"),description:r("projects.subtitle"),icon:i.jsx(qh,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:I==="kanban"?"default":"ghost",size:"sm",onClick:()=>F("kanban"),className:"h-8 w-8 p-0",children:i.jsx(rw,{className:"h-4 w-4"})}),i.jsx(ce,{variant:I==="list"?"default":"ghost",size:"sm",onClick:()=>F("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})})]}),i.jsxs(ce,{onClick:()=>D(!0),children:[i.jsx(Kt,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:i.jsx(qh,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(ke=>(ke.progress||0)>0&&(ke.progress||0)<100).length,icon:i.jsx(Ii,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(ke=>(ke.progress||0)===100).length,icon:i.jsx(Pn,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((ke,Ce)=>ke+(Ce.progress||0),0)/a.length)}%`:"0%",icon:i.jsx(jf,{className:"h-4 w-4 text-blue-500"})}]}),je(),i.jsx(bn,{open:k,onOpenChange:C,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:r("projects.createProject")}),i.jsx(Ma,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(We,{value:T.project_name,onChange:ke=>U(Ce=>({...Ce,project_name:ke.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(Ln,{value:T.project_description,onChange:ke=>U(Ce=>({...Ce,project_description:ke.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(xt,{value:T.client_id,onValueChange:ke=>U(Ce=>({...Ce,client_id:ke})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:r("projects.selectClient")})}),i.jsx(gt,{children:o.map(ke=>{var Ce;return i.jsx(Ee,{value:((Ce=ke.user_id)==null?void 0:Ce.toString())||"",children:Fe(ke,"user_name")},ke.user_id)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:ke=>U(Ce=>({...Ce,progress:parseInt(ke.target.value)})),className:"w-full h-1.5"}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{children:[T.progress,"%"]}),i.jsx("span",{children:"100%"})]})]})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>C(!1),children:r("buttons.cancel")}),i.jsxs(ce,{onClick:oe,disabled:!((Ne=T.project_name)!=null&&Ne.trim()),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(bn,{open:z,onOpenChange:D,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:r("projects.createProject")}),i.jsx(Ma,{children:r("projects.createProjectDesc")})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),i.jsx(We,{value:M.project_name,onChange:ke=>L(Ce=>({...Ce,project_name:ke.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),i.jsx(Ln,{value:M.project_description,onChange:ke=>L(Ce=>({...Ce,project_description:ke.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),i.jsxs(xt,{value:M.client_id,onValueChange:ke=>L(Ce=>({...Ce,client_id:ke})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:r("projects.selectClient")})}),i.jsx(gt,{children:o.map(ke=>{var Ce;return i.jsx(Ee,{value:((Ce=ke.user_id)==null?void 0:Ce.toString())||"",children:Fe(ke,"user_name")},ke.user_id)})})]})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>D(!1),children:r("buttons.cancel")}),i.jsxs(ce,{onClick:me,disabled:!((Ve=M.project_name)!=null&&Ve.trim()),children:[i.jsx(Ao,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),i.jsx(_l,{open:!!X,onOpenChange:ke=>!ke&&J(null),children:i.jsxs(Mo,{side:Qt()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[i.jsxs(xc,{className:"sr-only",children:[i.jsx(wl,{children:"Project Details"}),i.jsx(gf,{children:"View and manage project information"})]}),X&&i.jsx(HIe,{projectId:X,onClose:()=>J(null)})]})})]})}function GIe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var ZP="ScrollArea",[Zq,fqe]=fs(ZP),[YIe,Wi]=Zq(ZP),eK=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(0),[_,w]=x.useState(0),[j,N]=x.useState(!1),[S,k]=x.useState(!1),C=zt(t,P=>c(P)),A=Zv(a);return i.jsx(YIe,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:p,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:S,onScrollbarYEnabledChange:k,onCornerWidthChange:b,onCornerHeightChange:w,children:i.jsx(mt.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});eK.displayName=ZP;var tK="ScrollAreaViewport",rK=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,o=Wi(tK,r),l=x.useRef(null),c=zt(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});rK.displayName=tK;var Pl="ScrollAreaScrollbar",eO=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(Pl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(XIe,{...n,ref:t,forceMount:r}):a.type==="scroll"?i.jsx(JIe,{...n,ref:t,forceMount:r}):a.type==="auto"?i.jsx(nK,{...n,ref:t,forceMount:r}):a.type==="always"?i.jsx(tO,{...n,ref:t}):null});eO.displayName=Pl;var XIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(Pl,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(La,{present:r||s,children:i.jsx(nK,{"data-state":s?"visible":"hidden",...n,ref:t})})}),JIe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Wi(Pl,e.__scopeScrollArea),s=e.orientation==="horizontal",o=_j(()=>c("SCROLL_END"),100),[l,c]=GIe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,o]),i.jsx(La,{present:r||l!=="hidden",children:i.jsx(tO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:at(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:at(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),nK=x.forwardRef((e,t)=>{const r=Wi(Pl,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=_j(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return op(r.viewport,c),op(r.content,c),i.jsx(La,{present:n||s,children:i.jsx(tO,{"data-state":s?"visible":"hidden",...a,ref:t})})}),tO=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Wi(Pl,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=lK(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return nLe(h,o.current,l,m)}return r==="horizontal"?i.jsx(QIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=wL(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?i.jsx(ZIe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=wL(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),QIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Wi(Pl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=zt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(sK,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),uK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:h_(o.paddingLeft),paddingEnd:h_(o.paddingRight)}})}})}),ZIe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Wi(Pl,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=zt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(sK,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bj(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),uK(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:h_(o.paddingTop),paddingEnd:h_(o.paddingBottom)}})}})}),[eLe,aK]=Zq(Pl),sK=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Wi(Pl,r),[p,g]=x.useState(null),v=zt(t,C=>g(C)),y=x.useRef(null),b=x.useRef(""),_=m.viewport,w=n.content-n.viewport,j=Kn(d),N=Kn(c),S=_j(f,10);function k(C){if(y.current){const A=C.clientX-y.current.left,P=C.clientY-y.current.top;u({x:A,y:P})}}return x.useEffect(()=>{const C=A=>{const P=A.target;(p==null?void 0:p.contains(P))&&j(A,w)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[_,p,w,j]),x.useEffect(N,[n,N]),op(p,S),op(m.content,S),i.jsx(eLe,{scope:r,scrollbar:p,hasThumb:a,onThumbChange:Kn(s),onThumbPointerUp:Kn(o),onThumbPositionChange:N,onThumbPointerDown:Kn(l),children:i.jsx(mt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:at(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=p.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:at(e.onPointerMove,k),onPointerUp:at(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),f_="ScrollAreaThumb",iK=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=aK(f_,e.__scopeScrollArea);return i.jsx(La,{present:r||a.hasThumb,children:i.jsx(tLe,{ref:t,...n})})}),tLe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Wi(f_,r),o=aK(f_,r),{onThumbPositionChange:l}=o,c=zt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=_j(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=aLe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),i.jsx(mt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:at(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),p=f.clientX-m.left,g=f.clientY-m.top;o.onThumbPointerDown({x:p,y:g})}),onPointerUp:at(e.onPointerUp,o.onThumbPointerUp)})});iK.displayName=f_;var rO="ScrollAreaCorner",oK=x.forwardRef((e,t)=>{const r=Wi(rO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(rLe,{...e,ref:t}):null});oK.displayName=rO;var rLe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Wi(rO,r),[s,o]=x.useState(0),[l,c]=x.useState(0),u=!!(s&&l);return op(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),op(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(mt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function h_(e){return e?parseInt(e,10):0}function lK(e,t){const r=e/t;return isNaN(r)?0:r}function bj(e){const t=lK(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function nLe(e,t,r,n="ltr"){const a=bj(r),s=a/2,o=t||s,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return cK([c,u],f)(e)}function wL(e,t,r="ltr"){const n=bj(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,o]:[o*-1,0],u=bk(e,c);return cK([0,o],[0,l])(u)}function cK(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function uK(e,t){return e>0&&e<t}var aLe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function _j(e,t){const r=Kn(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function op(e,t){const r=Kn(t);jn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var dK=eK,sLe=rK,iLe=oK;const Qa=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(dK,{ref:n,className:be("relative overflow-hidden",e),...r,children:[i.jsx(sLe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(fK,{}),i.jsx(iLe,{})]}));Qa.displayName=dK.displayName;const fK=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(eO,{ref:n,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(iK,{className:"relative flex-1 rounded-full bg-border"})}));fK.displayName=eO.displayName;const p1={async createApplication(e){return await Y.partnerApply.create(e)},async getApplications(){return(await Y.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,t){await Y.partnerApply.update(e,{status:t})}},oLe=async e=>{const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")};function lLe(){const{user:e}=xr(),{currentLanguage:t,isRTL:r}=Ia();tn();const{t:n}=Vt(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(""),[h,m]=x.useState(!1),[p,g]=x.useState(""),[v,y]=x.useState(""),[b,_]=x.useState(""),[w,j]=x.useState("employee"),[N,S]=x.useState(""),[k,C]=x.useState(!1),[A,P]=x.useState(null),[T,U]=x.useState("all"),[z,D]=x.useState("employees"),[M,L]=x.useState(!1),[I,F]=x.useState(null),[X,J]=x.useState(!1),[O,G]=x.useState({name:"",Email:"",mobile:"",permissions:""}),[V,K]=x.useState(!1),[re,ue]=x.useState(""),[_e,W]=x.useState(new Map);x.useEffect(()=>{pe(),Z()},[]);const Z=async()=>{try{const B=await qT(),de=new Map;B.forEach(je=>{de.set(je.permissions_ID,je.permissions_Name)}),W(de)}catch(B){console.error("Failed to load permission names:",B)}},pe=async()=>{try{u(!0);const[B,de]=await Promise.all([wn.getAll(),p1.getApplications()]);s(B),l(de)}catch(B){console.error("Failed to load users:",B)}finally{u(!1)}},E=a.filter(B=>{var De,Me;const de=z==="employees",je=z==="clients",Ne=z==="partners";if(de&&![1,2,3,4].includes(Number(B.permissions))||Ne&&![5,6].includes(Number(B.permissions)))return!1;const Ve=((De=B.name)==null?void 0:De.toLowerCase())||"",ke=((Me=B.Email)==null?void 0:Me.toLowerCase())||"",Ce=String(B.permissions||""),ve=d.toLowerCase();return Ve.includes(ve)||ke.includes(ve)||Ce.includes(ve)}),xe=B=>{const de=["destructive","default","secondary","outline","default","secondary"];return B&&B>=1&&B<=de.length?de[B-1]:"secondary"},Te=B=>{if(!B)return"User";const de=_e.get(B);return de||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[B]||`Permission ${B}`},Ue=async B=>{if(B.preventDefault(),!k){S(""),C(!0);try{const de=await oLe(b),je={name:p,Email:v,user_pasword:de,permissions:w==="admin"?1:w==="manager"||w==="employee"?2:w==="team_leader"?4:2},Ne=await Y.Users.create(je);A&&(await p1.updateStatus(A,"approved"),P(null)),m(!1),g(""),y(""),_(""),j("employee"),pe()}catch(de){S(de.message||n("users.addUserError"))}finally{C(!1)}}},ze=B=>{g(B.full_name),y(B.email),j("employee"),_(""),P(B.apply_id),m(!0),D("employees")},Se=async B=>{if(confirm(n("users.rejectConfirmation")))try{await p1.updateStatus(B,"rejected"),pe()}catch(de){console.error("Failed to reject application:",de)}},et=async(B,de)=>{if(confirm(n("users.deleteConfirmation",{name:de})))try{await Y.Users.delete(B),pe()}catch(je){alert(`${n("users.deleteError")}: ${je.message}`)}},Ze=async(B,de)=>{try{const je=de==="1"?1:2;await Y.Users.update(B,{permissions:je}),pe()}catch(je){alert(`${n("users.updateRoleError")}: ${je.message}`)}},oe=async B=>{var de;if(B.preventDefault(),!(V||!I)){ue(""),K(!0);try{const je={};O.name!==Fe(I,"name")&&(je.name=O.name),O.Email!==I.Email&&(je.Email=O.Email),O.mobile!==((de=I.mobile)==null?void 0:de.toString())&&(je.mobile=O.mobile?parseInt(O.mobile):null),O.permissions!==I.permissions&&(je.permissions=O.permissions),Object.keys(je).length>0?(await Y.Users.update(I.userid,je),J(!1),pe()):J(!1)}catch(je){ue(je.message||n("users.updateUserError"))}finally{K(!1)}}},me=B=>{var de;F(B),G({name:B.name||"",Email:B.Email||"",mobile:((de=B.mobile)==null?void 0:de.toString())||"",permissions:B.permissions||""}),J(!1),ue(""),L(!0)};return c?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:n("users.title")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Za,{className:"h-5 w-5"}),i.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",n("users.totalUsers")]})]}),i.jsx("p",{className:"hidden md:block text-muted-foreground",children:n("users.subtitle")})]}),i.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[i.jsxs(ce,{variant:z==="employees"?"default":"ghost",size:"sm",onClick:()=>D("employees"),className:"h-8 px-3",children:[i.jsx(OR,{className:"h-4 w-4 mr-2"}),n("users.employees")]}),i.jsxs(ce,{variant:z==="clients"?"default":"ghost",size:"sm",onClick:()=>D("clients"),className:"h-8 px-3",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),n("users.clients")]}),i.jsxs(ce,{variant:z==="partners"?"default":"ghost",size:"sm",onClick:()=>D("partners"),className:"h-8 px-3",children:[i.jsx(Za,{className:"h-4 w-4 mr-2"}),n("users.partners")]})]}),z==="employees"&&i.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&i.jsxs(bn,{open:h,onOpenChange:m,children:[i.jsx(ob,{asChild:!0,children:i.jsxs(ce,{className:"w-full",children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),n("users.addUser")]})}),i.jsxs(ln,{children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("users.addNewUser")}),i.jsx(Ma,{children:n("users.addUserDescription")})]}),i.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[N&&i.jsx(Om,{variant:"destructive",children:i.jsx(Dm,{children:N})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formName",children:n("users.fullName")}),i.jsx(We,{id:"formName",value:p,onChange:B=>g(B.target.value),placeholder:n("users.fullName"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formEmail",children:n("users.email")}),i.jsx(We,{id:"formEmail",type:"email",value:v,onChange:B=>y(B.target.value),placeholder:n("users.email"),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formPassword",children:n("users.password")}),i.jsx(We,{id:"formPassword",type:"password",value:b,onChange:B=>_(B.target.value),placeholder:n("users.password"),required:!0,minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"formRole",children:n("users.role")}),i.jsxs(xt,{value:w,onValueChange:B=>j(B),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"employee",children:n("users.employee")}),i.jsx(Ee,{value:"manager",children:n("users.manager")}),i.jsx(Ee,{value:"admin",children:n("users.admin")}),i.jsx(Ee,{value:"team_leader",children:n("users.team_leader")})]})]})]}),i.jsx(ce,{type:"submit",className:"w-full",disabled:k,children:n(k?"users.addingUser":"users.addUser")})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(We,{placeholder:n("users.searchPlaceholder"),value:d,onChange:B=>f(B.target.value),className:"pl-10"})]}),i.jsxs(Qa,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(B=>i.jsxs(it,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(er,{className:"text-lg truncate",children:Fe(B,"name")}),i.jsx(ht,{variant:xe(B.permissions),className:"mt-1",children:Te(B.permissions)})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>me(B),children:i.jsx(ni,{className:"h-4 w-4"})}),i.jsx(ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>et(B.userid,Fe(B,"name")),children:i.jsx(ir,{className:"h-4 w-4"})})]})]})}),i.jsxs(dt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(uh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:B.Email})]}),B.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Yl,{className:"h-4 w-4"}),i.jsx("span",{children:B.mobile})]}),(B.permissions===2||B.permissions===1)&&!0&&i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("div",{className:"text-xs font-medium mb-1",children:n("users.changeRole")}),i.jsxs(xt,{value:String(B.permissions),onValueChange:de=>Ze(B.userid,de),children:[i.jsx(pt,{className:"w-full h-8",children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"2",children:n("users.employee")}),i.jsx(Ee,{value:"1",children:n("users.manager")})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",B.created_at?new Date(B.created_at).toLocaleDateString():"-"]})]})]},B.userid))}),E.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Za,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("users.noUsersFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),z==="clients"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(Qa,{className:"flex-1",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(B=>i.jsxs(it,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Bt,{className:"pb-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(er,{className:"text-lg truncate",children:Fe(B,"name")}),i.jsx(ht,{variant:"outline",className:"mt-1",children:n("users.client")})]})})}),i.jsxs(dt,{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(uh,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:B.Email})]}),B.mobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Yl,{className:"h-4 w-4"}),i.jsx("span",{children:B.mobile})]}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[n("users.joined")," ",B.created_at?new Date(B.created_at).toLocaleDateString():"-"]})]})]},B.userid))}),E.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Dn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n("clients.noClientsFound")}),i.jsx("p",{className:"text-muted-foreground",children:n("clients.noClientsYet")})]})]})}),z==="partners"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[i.jsx(OR,{className:"h-5 w-5"}),n("users.partnerUsers"),i.jsx(ht,{variant:"secondary",className:"ml-auto",children:a.filter(B=>[5,6].includes(Number(B.permissions))).length})]}),i.jsx(Qa,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:a.filter(B=>[5,6].includes(Number(B.permissions))).length>0?a.filter(B=>[5,6].includes(Number(B.permissions))).map(B=>i.jsx(it,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>me(B),children:i.jsxs(dt,{className:"p-4 flex items-center gap-3",children:[i.jsxs(Ps,{children:[i.jsx(Oo,{src:B.avatar||""}),i.jsx(Os,{children:Fe(B,"name").charAt(0).toUpperCase()})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:Fe(B,"name")}),i.jsx("div",{className:"text-xs text-muted-foreground truncate",children:B.Email}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs py-0 h-5",children:B.permissions===5?n("users.partner_leader"):n("users.partner_employee")}),B.company_name&&i.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(kae,{className:"h-3 w-3"}),B.company_name]})]})]})]})},B.userid)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Za,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noPartnerUsersFound")})]})})})]}),i.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(uh,{className:"h-5 w-5"}),n("users.partnerApplications"),i.jsx(ht,{variant:"secondary",children:o.length})]}),i.jsx("div",{className:"w-[140px]",children:i.jsxs(xt,{value:T,onValueChange:B=>U(B),children:[i.jsx(pt,{className:"h-8",children:i.jsx(yt,{placeholder:n("common.filter")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:n("common.all")}),i.jsx(Ee,{value:"pending",children:n("status.pending")}),i.jsx(Ee,{value:"approved",children:n("status.approved")}),i.jsx(Ee,{value:"rejected",children:n("status.rejected")})]})]})})]}),i.jsx(Qa,{className:"flex-1 pr-4",children:i.jsx("div",{className:"space-y-3",children:o.filter(B=>T==="all"||B.status===T).length>0?o.filter(B=>T==="all"||B.status===T).map(B=>i.jsx(it,{children:i.jsxs(dt,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[i.jsx("div",{className:"font-medium",children:B.company_name||B.full_name}),i.jsx(ht,{variant:B.status==="pending"?"outline":B.status==="approved"?"default":"destructive",className:"capitalize",children:n(`status.${B.status}`)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dn,{className:"h-3 w-3"}),B.full_name]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uh,{className:"h-3 w-3"}),B.email]}),B.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-3 w-3"}),B.phone]})]}),B.status==="pending"&&i.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[i.jsx(ce,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Se(B.apply_id),children:n("users.reject")}),i.jsx(ce,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ze(B),children:n("users.approve")})]})]})},B.apply_id)):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(uh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:n("users.noApplicationsFound")})]})})})]})]}),i.jsx(bn,{open:M,onOpenChange:L,children:i.jsxs(ln,{className:"max-w-2xl max-h-[80vh]",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n("users.userDetails")}),i.jsx(Ma,{children:n("users.userDetailsDescription")})]}),I&&i.jsx(Qa,{className:"max-h-[60vh] pr-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold",children:Fe(I,"name")}),i.jsx(ht,{variant:xe(I.permissions),className:"mt-1",children:Te(I.permissions)})]})}),X?i.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[re&&i.jsx(Om,{variant:"destructive",children:i.jsx(Dm,{children:re})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editName",children:n("users.fullName")}),i.jsx(We,{id:"editName",value:O.name,onChange:B=>G(de=>({...de,name:B.target.value})),placeholder:n("users.fullName")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editEmail",children:n("users.email")}),i.jsx(We,{id:"editEmail",type:"email",value:O.Email,onChange:B=>G(de=>({...de,Email:B.target.value})),placeholder:n("users.email")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editRole",children:n("users.role")}),i.jsxs(xt,{value:String(O.permissions),onValueChange:B=>G(de=>({...de,permissions:Number(B)})),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"2",children:n("users.employee")}),i.jsx(Ee,{value:"1",children:n("users.manager")}),i.jsx(Ee,{value:"3",children:n("users.client")}),i.jsx(Ee,{value:"4",children:n("users.partner")}),i.jsx(Ee,{value:"5",children:n("users.partner_employee")})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(I.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:I.updated_at?new Date(I.updated_at).toLocaleDateString():"-"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"editPhone",children:n("users.phone")}),i.jsx(We,{id:"editPhone",type:"tel",value:O.mobile,onChange:B=>G(de=>({...de,mobile:B.target.value})),placeholder:n("users.phone")})]}),I.client_contact&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:I.client_contact})]}),I.company_name&&i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Fe(I,"company_name")})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsx(He,{className:"text-sm font-medium",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:I.userid})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ce,{type:"button",variant:"outline",onClick:()=>J(!1),children:n("buttons.cancel")}),i.jsx(ce,{type:"submit",disabled:V,children:n(V?"buttons.saving":"buttons.save")})]})]}):i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.fullName")}),i.jsx("p",{className:"text-sm",children:Fe(I,"name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.email")}),i.jsx("p",{className:"text-sm",children:I.Email||n("common.na")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.role")}),i.jsx("p",{className:"text-sm",children:n(`users.${I.permissions===1?"admin":I.permissions===2?"employee":I.permissions===3?"client":"user"}`)})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.joined")}),i.jsx("p",{className:"text-sm",children:new Date(I.created_at).toLocaleDateString()})]}),I.updated_at&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.updated")}),i.jsx("p",{className:"text-sm",children:new Date(I.updated_at).toLocaleDateString()})]})]}),i.jsxs("div",{className:"space-y-3",children:[I.user_phone&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.phone")}),i.jsx("p",{className:"text-sm",children:I.mobile})]}),I.client_contact&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.contact")}),i.jsx("p",{className:"text-sm",children:I.client_contact})]}),I.company_name&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.company")}),i.jsx("p",{className:"text-sm",children:Fe(I,"company_name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.userId")}),i.jsx("p",{className:"text-sm font-mono text-xs",children:I.userid})]})]})]}),I.userid&&i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium text-muted-foreground",children:n("users.authId","Auth ID")}),i.jsx("p",{className:"text-sm font-mono text-xs break-all",children:I.userid})]})]})}),i.jsxs(Ra,{children:[!X&&!0&&i.jsx(ce,{variant:"outline",onClick:()=>J(!0),children:n("buttons.edit")}),i.jsx(ce,{onClick:()=>L(!1),children:n("buttons.close")})]})]})})]})}const Md=({permission:e,permissions:t=[],requireAll:r=!1,children:n,fallback:a=null})=>{const{hasPermission:s}=Vg();let o=!1;return e?o=s(e):t.length>0&&(r?o=t.every(l=>s(l)):o=t.some(l=>s(l))),o?i.jsx(i.Fragment,{children:n}):i.jsx(i.Fragment,{children:a})};function cLe(){xr();const{t:e}=Vt(),{isRTL:t}=Ia();tn();const r=Bs(),{hasPermission:n}=Vg(),[a,s]=x.useState([]),[o,l]=x.useState([]),[c,u]=x.useState({}),[d,f]=x.useState(!0),[h,m]=x.useState(""),[p,g]=x.useState(!1),[v,y]=x.useState(""),[b,_]=x.useState(""),[w,j]=x.useState(null);x.useEffect(()=>{S(),k()},[]);const N=D=>{r("/chats",{state:{teamId:D}})},S=async()=>{try{f(!0);const D=await oh.getAll(),M=await oh.getAllTeamMembers();s(D),u(M)}catch(D){console.error("Failed to load teams:",D)}finally{f(!1)}},k=async()=>{try{const D=await wn.getAll();l(D)}catch(D){console.error("Failed to load users:",D)}},C=async()=>{if(v.trim())try{const D=xl({team_name:v.trim(),team_leader_id:(b==null?void 0:b.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await oh.create(D),y(""),_(""),g(!1),await S()}catch(D){console.error("Failed to create team:",D)}},A=async(D,M)=>{try{await oh.addMember(D,M),await S()}catch(L){console.error("Failed to add team member:",L)}},P=async(D,M)=>{try{await oh.removeMember(D,M),await S()}catch(L){console.error("Failed to remove team member:",L)}},T=async D=>{try{await oh.delete(D),s(M=>M.filter(L=>L.team_id!==D)),u(M=>{const L={...M};return delete L[D],L}),j(null)}catch(M){console.error("Failed to delete team:",M)}},U=a.filter(D=>(Fe(D,"team_name")||"").toLowerCase().includes(h.toLowerCase())),z=o;return d?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Za,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:a.length})})]}),i.jsx(Md,{permission:"teams_INSERT",children:i.jsxs(bn,{open:p,onOpenChange:g,children:[i.jsx(ob,{asChild:!0,children:i.jsxs(ce,{children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),i.jsxs(ln,{className:"sm:max-w-[425px]",children:[i.jsxs(cn,{children:[i.jsx(un,{children:e("teams.createTeamTitle")}),i.jsx(Ma,{children:e("teams.createTeamDesc")})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(He,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),i.jsx(We,{id:"team-name",value:v,onChange:D=>y(D.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(He,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),i.jsxs(xt,{value:b,onValueChange:_,children:[i.jsx(pt,{className:"col-span-3",children:i.jsx(yt,{placeholder:e("teams.selectTeamLeader")})}),i.jsx(gt,{children:z.map(D=>i.jsx(Ee,{value:D.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:D.name})]})},D.userid))})]})]})]}),i.jsx(Ra,{children:i.jsx(ce,{type:"submit",onClick:C,disabled:!v.trim(),children:e("teams.createTeam")})})]})]})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(We,{placeholder:e("teams.searchPlaceholder"),value:h,onChange:D=>m(D.target.value),className:"pl-10"})]}),i.jsxs(Qa,{className:"flex-1",dir:t?"rtl":"ltr",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:t?"rtl":"ltr",children:U.map(D=>{const M=c[D.team_id]||[];return i.jsxs(it,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Bt,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(er,{className:"text-lg",children:Fe(D,"team_name")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(D.team_id),title:e("teams.chat","Chat"),children:i.jsx(Vu,{className:"h-4 w-4"})}),i.jsx(ht,{variant:"outline",children:e("teams.memberCount_plural",{count:M.length})}),i.jsx(Md,{permission:"teams_DELETE",children:i.jsxs(ui,{children:[i.jsx(Sx,{asChild:!0,children:i.jsx(ce,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:L=>{L.stopPropagation(),j(D.team_id)},children:i.jsx(ir,{className:"h-3 w-3"})})}),i.jsxs(Ds,{onClick:L=>L.stopPropagation(),children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:e("teams.deleteTeam")}),i.jsx(Is,{children:e("teams.deleteConfirmation",{name:Fe(D,"team_name")})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:e("buttons.cancel")}),i.jsx(Ls,{onClick:L=>{L.stopPropagation(),T(D.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})})]})]}),D.team_leader_id_name&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[e("teams.teamLeader"),":"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:D.team_leader_id_name})]})]})]}),i.jsxs(dt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),i.jsxs("div",{className:"space-y-2",children:[M.slice(0,4).map(L=>i.jsxs("div",{className:`flex items-center ${n("teams_UPDATE")?"justify-between":"gap-2"} bg-muted/50 p-2 rounded`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ps,{className:"h-6 w-6",children:[i.jsx(Oo,{src:""}),i.jsx(Os,{className:"text-xs",children:(L.name||"").charAt(0).toUpperCase()})]}),i.jsx("span",{className:"text-sm",children:L.name})]}),i.jsx(Md,{permission:"teams_UPDATE",children:i.jsx(ce,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var I;return P(D.team_id,((I=L.userid)==null?void 0:I.toString())||"")},children:i.jsx(Xae,{className:"h-3 w-3"})})})]},L.userid)),M.length>4&&i.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:M.length-4})}),M.length===0&&i.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),i.jsx(Md,{permission:"teams_UPDATE",children:i.jsx("div",{children:i.jsxs(xt,{onValueChange:L=>{L&&A(D.team_id,L)},children:[i.jsx(pt,{className:"w-full",children:i.jsx(yt,{placeholder:e("teams.addMember")})}),i.jsx(gt,{children:o.filter(L=>!M.some(I=>I.userid.toString()===L.userid.toString())).map(L=>i.jsx(Ee,{value:L.userid.toString(),children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:L.name})]})},L.userid))})]})})}),i.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",D.created_at?new Date(D.created_at).toLocaleDateString():"N/A"]})]})]},D.team_id)})}),U.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Za,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:e(h?"teams.noTeamsFound":"teams.noTeamsYet")}),i.jsx("p",{className:"text-muted-foreground mb-4",children:e(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&n("teams_INSERT")&&i.jsxs(ce,{onClick:()=>g(!0),children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function uLe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:o}){const{t:l}=Vt(),[c,u]=x.useState(""),d=e.filter(g=>{const v=g.is_private&&Fe(g.other_user||{},"user_name")||g.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(g=>!g.is_private&&!g.team_id),h=d.filter(g=>g.is_private),m=d.filter(g=>g.team_id),p=g=>{var j;const v=(t==null?void 0:t.room_id)===g.room_id,y=g.is_private,b=y&&Fe(g.other_user||{},"user_name")||g.room_name,_=y?(j=g.other_user)==null?void 0:j.avatar:null,w=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return i.jsxs("button",{onClick:()=>r(g),className:be("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[i.jsx("div",{className:"relative flex-shrink-0",children:y?i.jsxs(Ps,{className:"h-6 w-6",children:[i.jsx(Oo,{src:_}),i.jsx(Os,{className:"text-[10px]",children:w})]}):i.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:i.jsx(Za,{className:"h-3.5 w-3.5"})})}),i.jsx("span",{className:"truncate flex-1 text-left",children:b})]},g.room_id)};return i.jsxs("div",{className:be("flex flex-col h-full bg-background border-r",o),children:[i.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(UB,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(We,{placeholder:l("common.search","Jump to..."),value:c,onChange:g=>u(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),i.jsxs(Qa,{className:"flex-1 px-2 py-3 overflow-hidden",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&i.jsx(ce,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:i.jsx(Kt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[f.map(p),f.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),i.jsx("div",{className:"space-y-0.5",children:m.map(p)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[i.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),i.jsx(ce,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:i.jsx(Kt,{className:"h-3 w-3"})})]}),i.jsxs("div",{className:"space-y-0.5",children:[h.map(p),h.length===0&&i.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function dLe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:o,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var K;const{t:h}=Vt(),[m,p]=x.useState(""),g=x.useRef(null),[v,y]=x.useState(!1),[b,_]=x.useState(null),[w,j]=x.useState(""),[N,S]=x.useState(!1),k=x.useRef(null),[C,A]=x.useState(null);x.useEffect(()=>{if(g.current&&!c){const re=g.current.querySelector("[data-radix-scroll-area-viewport]");re&&(re.scrollTop=re.scrollHeight)}},[t,c]);const P=re=>{const ue=re.target;if(!ue)return;const W=ue.scrollTop<100;y(W),W&&l&&o&&!c&&o()};x.useEffect(()=>{var ue;const re=(ue=g.current)==null?void 0:ue.querySelector("[data-radix-scroll-area-viewport]");if(re)return re.addEventListener("scroll",P),()=>re.removeEventListener("scroll",P)},[l,c,o]),x.useEffect(()=>{e&&!e.is_private?(async()=>{try{if(console.log("[ChatArea] Room data:",e),e.member_count!==void 0){console.log("[ChatArea] Using room.member_count:",e.member_count),A(e.member_count);return}console.log("[ChatArea] Fetching room members for room:",e.room_id);const ue=await so.getRoomMembers(e.room_id);console.log("[ChatArea] Fetched members:",ue.length),A(ue.length)}catch(ue){console.error("Failed to fetch member count:",ue),A(null)}})():(console.log("[ChatArea] Room is private or null, clearing member count"),A(null))},[e==null?void 0:e.room_id]);const T=re=>{_(re.message_id),j(re.content)},U=()=>{_(null),j("")},z=()=>{b&&w.trim()&&u&&(u(b,w),_(null),j(""))},D=()=>{m.trim()&&(n(m),p(""))},M=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),D())},L=async re=>{var _e;const ue=(_e=re.target.files)==null?void 0:_e[0];if(!(!ue||!n))try{S(!0);const W=await ru.uploadAttachment(ue),pe=ue.type.startsWith("image/")?`![${ue.name}](${W})`:`[${ue.name}](${W})`;n(pe)}catch(W){console.error("Failed to upload file:",W),alert(h("chat.uploadError","Failed to upload file"))}finally{S(!1),k.current&&(k.current.value="")}},I=()=>{var re;(re=k.current)==null||re.click()},F=re=>{const ue=/!\\[(.*?)\\]\((.*?)\)/g,_e=/\\[(.*?)\\]\((.*?)\)/g,W=ue.exec(re);if(W)return i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("img",{src:W[2],alt:W[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(W[2],"_blank")}),re.replace(W[0],"").trim()&&i.jsx("span",{children:re.replace(W[0],"").trim()})]});const Z=_e.exec(re);return Z?i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsxs("a",{href:Z[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[i.jsx(TR,{className:"h-4 w-4"}),Z[1]]}),re.replace(Z[0],"").trim()&&i.jsx("span",{children:re.replace(Z[0],"").trim()})]}):re};if(s)return i.jsx("div",{className:be("flex items-center justify-center h-full bg-background",f),children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return i.jsxs("div",{className:be("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:i.jsx(Vu,{className:"h-8 w-8"})}),i.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),i.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const X=e.is_private,J=X&&Fe(e.other_user||{},"user_name")||e.room_name,O=X?(K=e.other_user)==null?void 0:K.avatar:null,G=(J==null?void 0:J.charAt(0).toUpperCase())||"?",V=t.reduce((re,ue)=>{const _e=new Date(ue.created_at).toLocaleDateString();return re[_e]||(re[_e]=[]),re[_e].push(ue),re},{});return i.jsxs("div",{className:be("flex flex-col h-full bg-background overflow-x-hidden",f),children:[i.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[a&&i.jsx(ce,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:i.jsx(LB,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[X?i.jsxs(Ps,{className:"h-9 w-9",children:[i.jsx(Oo,{src:O}),i.jsx(Os,{children:G})]}):i.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?i.jsx(Za,{className:"h-5 w-5"}):i.jsx(Mae,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[J,X&&i.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!X&&i.jsx("p",{className:"text-xs text-muted-foreground",children:C!==null?h("chat.membersCount",{count:C}):h("chat.loadingMembers","Loading members...")})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Yl,{className:"h-5 w-5"})}),i.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Qae,{className:"h-5 w-5"})}),i.jsx(ce,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:i.jsx(Fae,{className:"h-5 w-5"})})]})]}),i.jsx(Qa,{className:"flex-1 p-4 overflow-hidden",ref:g,children:i.jsxs("div",{className:"space-y-6 pb-4",children:[c&&i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(V).map(([re,ue])=>i.jsxs("div",{children:[i.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:re===new Date().toLocaleDateString()?h("common.today","Today"):re})})]}),i.jsx("div",{className:"space-y-4",children:ue.map((_e,W)=>{var Te;const Z=_e.auth_user_id===(r==null?void 0:r.id),pe=W===0||ue[W-1].auth_user_id!==_e.auth_user_id,E=_e.sender,xe=b===_e.message_id;return i.jsxs("div",{className:be("flex gap-3 group",Z?"flex-row-reverse":""),children:[pe?i.jsxs(Ps,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[i.jsx(Oo,{src:E==null?void 0:E.avatar}),i.jsx(Os,{children:((Te=E==null?void 0:E.user_name)==null?void 0:Te.charAt(0))||"?"})]}):i.jsx("div",{className:"w-8 flex-shrink-0"}),i.jsxs("div",{className:be("flex flex-col max-w-[75%]",Z?"items-end":"items-start"),children:[pe&&i.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-semibold",children:E==null?void 0:E.user_name}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:is(new Date(_e.created_at),"h:mm a")})]}),i.jsx("div",{className:be("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",Z?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",xe?"w-full min-w-[200px]":""),children:xe?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("textarea",{value:w,onChange:Ue=>j(Ue.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(ce,{size:"sm",variant:"ghost",onClick:U,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),i.jsx(ce,{size:"sm",variant:"secondary",onClick:z,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):i.jsxs(i.Fragment,{children:[F(_e.content),Z&&!xe&&i.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[i.jsxs(ce,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>T(_e),children:[i.jsx("span",{className:"sr-only",children:"Edit"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[i.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),i.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),i.jsxs(ce,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(_e.message_id),children:[i.jsx("span",{className:"sr-only",children:"Delete"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:i.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},`${_e.message_id}-${W}`)})})]},re))]})}),i.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[i.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[i.jsx(ce,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:N,children:N?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):i.jsx(TR,{className:"h-5 w-5"})}),i.jsx("input",{type:"file",ref:k,className:"hidden",onChange:L,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),i.jsx("textarea",{value:m,onChange:re=>p(re.target.value),onKeyDown:M,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:re=>{const ue=re.target;ue.style.height="auto",ue.style.height=`${Math.min(ue.scrollHeight,128)}px`}}),i.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:i.jsx(qae,{className:"h-5 w-5"})}),i.jsx(ce,{size:"icon",className:be("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:D,disabled:!m.trim()&&!N,children:i.jsx(Jv,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:i.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function fLe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Vt(),[s,o]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState(!1);x.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await wn.getAll();o(m.filter(p=>p.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var p,g;return((p=m.user_name)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))||((g=m.user_email)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))});return i.jsx(bn,{open:e,onOpenChange:t,children:i.jsxs(ln,{className:"sm:max-w-[425px]",children:[i.jsx(cn,{children:i.jsx(un,{children:a("chat.newDirectMessage","New Direct Message")})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(We,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),i.jsx(Qa,{className:"h-[300px]",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?i.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):i.jsx("div",{className:"space-y-1",children:h.map(m=>{var p;return i.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[i.jsxs(Ps,{children:[i.jsx(Oo,{src:m.avatar}),i.jsx(Os,{children:((p=m.user_name)==null?void 0:p.charAt(0))||"?"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:m.user_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var wj="Switch",[hLe,hqe]=fs(wj),[mLe,pLe]=hLe(wj),hK=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),p=zt(t,_=>m(_)),g=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[y,b]=vc({prop:a,defaultProp:s??!1,onChange:u,caller:wj});return i.jsxs(mLe,{scope:r,checked:y,disabled:l,children:[i.jsx(mt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":vK(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:at(e.onClick,_=>{b(w=>!w),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&i.jsx(gK,{control:h,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});hK.displayName=wj;var mK="SwitchThumb",pK=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=pLe(mK,r);return i.jsx(mt.span,{"data-state":vK(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});pK.displayName=mK;var gLe="SwitchBubbleInput",gK=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const o=x.useRef(null),l=zt(o,s),c=fA(r),u=iA(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const p=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(p)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gK.displayName=gLe;function vK(e){return e?"checked":"unchecked"}var xK=hK,vLe=pK;const yK=x.forwardRef(({className:e,...t},r)=>i.jsx(xK,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(vLe,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));yK.displayName=xK.displayName;function xLe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Vt(),[a,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,o),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return i.jsx(bn,{open:e,onOpenChange:t,children:i.jsxs(ln,{children:[i.jsx(cn,{children:i.jsx(un,{children:n("chat.createRoomTitle","Create New Room")})}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"name",children:n("chat.roomName","Room Name")}),i.jsx(We,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[i.jsxs(He,{htmlFor:"private",className:"flex flex-col space-y-1",children:[i.jsx("span",{children:n("chat.privateRoom","Private Room")}),i.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),i.jsx(yK,{id:"private",checked:o,onCheckedChange:l,disabled:c})]}),i.jsxs(Ra,{children:[i.jsx(ce,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),i.jsx(ce,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function yLe(){var I;const{user:e}=xr(),{t}=Vt(),{isRTL:r}=Ia(),[n,a]=x.useState([]),[s,o]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!0),[f,h]=x.useState(!1),[m,p]=x.useState(!0),[g,v]=x.useState(!0),[y,b]=x.useState(!1);x.useState([]);const[_,w]=x.useState(!1),[j,N]=x.useState(!1),S=x.useRef(!1),k=x.useRef(null);x.useRef(null),x.useRef(null),x.useEffect(()=>{const F=()=>{const X=window.innerWidth<768;h(X),X||p(!0)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),x.useEffect(()=>{e&&!S.current&&P()},[e]),x.useEffect(()=>{var X;const F=(X=window.history.state)==null?void 0:X.usr;if(F!=null&&F.teamId&&n.length>0){const J=n.find(O=>O.team_id===F.teamId);J&&o(J)}},[n]),x.useEffect(()=>{s&&(k.current!==s.room_id&&(v(!0),b(!1),T(s.room_id),e&&(so.markAsRead(s.room_id,e.id.toString()),a(F=>F.map(X=>X.room_id===s.room_id?{...X,unreadCount:0}:X)))),f&&p(!1))},[s,f,e]),x.useEffect(()=>{var O;if(!e||!s)return;let F=((O=l[0])==null?void 0:O.message_id)||0;const X=async()=>{try{const G=await ru.getByRoom(s.room_id.toString(),{limit:5});if(G.length>0){const V=G[0];V.message_id>F&&(console.log("New message detected, refreshing..."),await T(s.room_id.toString()),F=V.message_id)}}catch(G){console.warn("Failed to poll for new messages:",G)}},J=setInterval(X,2e3);return X(),()=>{clearInterval(J)}},[e,s,l]);const C=async(F,X)=>{try{await ru.update(F,X)}catch(J){console.error("Failed to edit message:",J)}},A=async F=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await ru.delete(F)}catch(X){console.error("Failed to delete message:",X)}},P=async()=>{try{d(!0);const F=await so.getUserRooms(e==null?void 0:e.id.toString()),X=F.filter(G=>G.is_private).map(G=>G.room_id),J=new Map;if(X.length>0){const G=X.map(K=>so.getRoomMembers(K).catch(()=>[])),V=await Promise.all(G);X.forEach((K,re)=>{J.set(K,V[re])})}const O=F.map(G=>{if(G.is_private){const K=(J.get(G.room_id)||[]).find(re=>{var ue;return((ue=re.userid)==null?void 0:ue.toString())!==(e==null?void 0:e.id.toString())});return{...G,other_user:K}}return G});a(O),S.current=!0}catch(F){console.error("Failed to load rooms:",F)}finally{d(!1)}},T=async(F,X=!1)=>{try{X&&b(!0);const J=10,O=X&&l.length>0?l[0].created_at:void 0,G=await ru.getByRoom(F,{limit:J,before:O});X?(c(V=>[...G,...V]),v(G.length===J)):(c(G),v(G.length===J),k.current=F)}catch(J){console.error("Failed to load messages:",J)}finally{X&&b(!1)}},U=async()=>{!s||y||!g||await T(s.room_id,!0)},z=async F=>{if(!(!s||!e))try{const X={message_id:Date.now(),room_id:s.room_id,user_id:parseInt(e.id.toString()),content:F,metadata:null,created_at:new Date().toISOString(),sender:e.profile};c(J=>[...J,X]),await ru.create({room_id:s.room_id,user_id:parseInt(e.id.toString()),content:F,metadata:null}),setTimeout(()=>{T(s.room_id.toString())},500)}catch(X){console.error("Failed to send message:",X),c(J=>J.filter(O=>O.message_id!==Date.now()))}},D=()=>{p(!0)},M=async(F,X)=>{if(e)try{const J=await so.createRoom({name:F,is_private:X,created_by:e.profile.user_id||0,userid:e.id.toString()});await so.addMember(J.room_id,e.id.toString()),await P();const O={...J};o(O)}catch(J){console.error("Failed to create channel:",J)}},L=async F=>{if(!e)return;const X=n.find(J=>{var O;return J.is_private&&((O=J.other_user)==null?void 0:O.userid)===F.userid});if(X){o(X);return}try{const J=await so.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await so.addMember(J.room_id,e.id.toString()),await so.addMember(J.room_id,(F.userid||F.user_id||"").toString()),await P();const O={...J,other_user:F};o(O)}catch(J){console.error("Failed to create DM:",J)}};return i.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:be("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",m?"translate-x-0":"-translate-x-full md:translate-x-0",f&&!m&&"hidden"),children:i.jsx(uLe,{rooms:n,selectedRoom:s,onSelectRoom:o,currentUser:e,onNewChannel:()=>w(!0),onNewDM:()=>N(!0)})}),i.jsx("div",{className:be("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",f&&m?"hidden":"flex"),children:i.jsx(dLe,{room:s,messages:l,currentUser:e,onSendMessage:z,onBack:D,loading:u,onLoadMore:U,hasMoreMessages:g,isLoadingMore:y,onEditMessage:C,onDeleteMessage:A})}),i.jsx(xLe,{open:_,onOpenChange:w,onCreate:M}),i.jsx(fLe,{open:j,onOpenChange:N,onSelectUser:L,currentUserId:(I=e==null?void 0:e.id)==null?void 0:I.toString()})]})}function bK(e,t){return function(){return e.apply(t,arguments)}}const{toString:bLe}=Object.prototype,{getPrototypeOf:nO}=Object,{iterator:jj,toStringTag:_K}=Symbol,Sj=(e=>t=>{const r=bLe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Uo=e=>(e=e.toLowerCase(),t=>Sj(t)===e),Nj=e=>t=>typeof t===e,{isArray:Gp}=Array,lp=Nj("undefined");function Cx(e){return e!==null&&!lp(e)&&e.constructor!==null&&!lp(e.constructor)&&Es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wK=Uo("ArrayBuffer");function _Le(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wK(e.buffer),t}const wLe=Nj("string"),Es=Nj("function"),jK=Nj("number"),Ex=e=>e!==null&&typeof e=="object",jLe=e=>e===!0||e===!1,g1=e=>{if(Sj(e)!=="object")return!1;const t=nO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_K in e)&&!(jj in e)},SLe=e=>{if(!Ex(e)||Cx(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},NLe=Uo("Date"),kLe=Uo("File"),CLe=Uo("Blob"),ELe=Uo("FileList"),TLe=e=>Ex(e)&&Es(e.pipe),ALe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Es(e.append)&&((t=Sj(e))==="formdata"||t==="object"&&Es(e.toString)&&e.toString()==="[object FormData]"))},PLe=Uo("URLSearchParams"),[OLe,DLe,RLe,MLe]=["ReadableStream","Request","Response","Headers"].map(Uo),FLe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tx(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Gp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Cx(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function SK(e,t){if(Cx(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NK=e=>!lp(e)&&e!==Fd;function dE(){const{caseless:e,skipUndefined:t}=NK(this)&&this||{},r={},n=(a,s)=>{const o=e&&SK(r,s)||s;g1(r[o])&&g1(a)?r[o]=dE(r[o],a):g1(a)?r[o]=dE({},a):Gp(a)?r[o]=a.slice():(!t||!lp(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Tx(arguments[a],n);return r}const ILe=(e,t,r,{allOwnKeys:n}={})=>(Tx(t,(a,s)=>{r&&Es(a)?e[s]=bK(a,r):e[s]=a},{allOwnKeys:n}),e),LLe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$Le=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},BLe=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&nO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},ULe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},zLe=e=>{if(!e)return null;if(Gp(e))return e;let t=e.length;if(!jK(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},VLe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nO(Uint8Array)),WLe=(e,t)=>{const n=(e&&e[jj]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},HLe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},qLe=Uo("HTMLFormElement"),KLe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),jL=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),GLe=Uo("RegExp"),kK=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Tx(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},YLe=e=>{kK(e,(t,r)=>{if(Es(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Es(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},XLe=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Gp(e)?n(e):n(String(e).split(t)),r},JLe=()=>{},QLe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function ZLe(e){return!!(e&&Es(e.append)&&e[_K]==="FormData"&&e[jj])}const e5e=e=>{const t=new Array(10),r=(n,a)=>{if(Ex(n)){if(t.indexOf(n)>=0)return;if(Cx(n))return n;if(!("toJSON"in n)){t[a]=n;const s=Gp(n)?[]:{};return Tx(n,(o,l)=>{const c=r(o,a+1);!lp(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},t5e=Uo("AsyncFunction"),r5e=e=>e&&(Ex(e)||Es(e))&&Es(e.then)&&Es(e.catch),CK=((e,t)=>e?setImmediate:t?((r,n)=>(Fd.addEventListener("message",({source:a,data:s})=>{a===Fd&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Fd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(Fd.postMessage)),n5e=typeof queueMicrotask<"u"?queueMicrotask.bind(Fd):typeof process<"u"&&process.nextTick||CK,a5e=e=>e!=null&&Es(e[jj]),Ie={isArray:Gp,isArrayBuffer:wK,isBuffer:Cx,isFormData:ALe,isArrayBufferView:_Le,isString:wLe,isNumber:jK,isBoolean:jLe,isObject:Ex,isPlainObject:g1,isEmptyObject:SLe,isReadableStream:OLe,isRequest:DLe,isResponse:RLe,isHeaders:MLe,isUndefined:lp,isDate:NLe,isFile:kLe,isBlob:CLe,isRegExp:GLe,isFunction:Es,isStream:TLe,isURLSearchParams:PLe,isTypedArray:VLe,isFileList:ELe,forEach:Tx,merge:dE,extend:ILe,trim:FLe,stripBOM:LLe,inherits:$Le,toFlatObject:BLe,kindOf:Sj,kindOfTest:Uo,endsWith:ULe,toArray:zLe,forEachEntry:WLe,matchAll:HLe,isHTMLForm:qLe,hasOwnProperty:jL,hasOwnProp:jL,reduceDescriptors:kK,freezeMethods:YLe,toObjectSet:XLe,toCamelCase:KLe,noop:JLe,toFiniteNumber:QLe,findKey:SK,global:Fd,isContextDefined:NK,isSpecCompliantForm:ZLe,toJSONObject:e5e,isAsyncFn:t5e,isThenable:r5e,setImmediate:CK,asap:n5e,isIterable:a5e};function $t(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Ie.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const EK=$t.prototype,TK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TK[e]={value:e}});Object.defineProperties($t,TK);Object.defineProperty(EK,"isAxiosError",{value:!0});$t.from=(e,t,r,n,a,s)=>{const o=Object.create(EK);Ie.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $t.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const s5e=null;function fE(e){return Ie.isPlainObject(e)||Ie.isArray(e)}function AK(e){return Ie.endsWith(e,"[]")?e.slice(0,-2):e}function SL(e,t,r){return e?e.concat(t).map(function(a,s){return a=AK(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function i5e(e){return Ie.isArray(e)&&!e.some(fE)}const o5e=Ie.toFlatObject(Ie,{},null,function(t){return/^is[A-Z]/.test(t)});function kj(e,t,r){if(!Ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!Ie.isUndefined(v[g])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Ie.isDate(p))return p.toISOString();if(Ie.isBoolean(p))return p.toString();if(!c&&Ie.isBlob(p))throw new $t("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(p)||Ie.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,g,v){let y=p;if(p&&!v&&typeof p=="object"){if(Ie.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Ie.isArray(p)&&i5e(p)||(Ie.isFileList(p)||Ie.endsWith(g,"[]"))&&(y=Ie.toArray(p)))return g=AK(g),y.forEach(function(_,w){!(Ie.isUndefined(_)||_===null)&&t.append(o===!0?SL([g],w,s):o===null?g:g+"[]",u(_))}),!1}return fE(p)?!0:(t.append(SL(v,g,s),u(p)),!1)}const f=[],h=Object.assign(o5e,{defaultVisitor:d,convertValue:u,isVisitable:fE});function m(p,g){if(!Ie.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(p),Ie.forEach(p,function(y,b){(!(Ie.isUndefined(y)||y===null)&&a.call(t,y,Ie.isString(b)?b.trim():b,g,h))===!0&&m(y,g?g.concat(b):[b])}),f.pop()}}if(!Ie.isObject(e))throw new TypeError("data must be an object");return m(e),t}function NL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function aO(e,t){this._pairs=[],e&&kj(e,this,t)}const PK=aO.prototype;PK.append=function(t,r){this._pairs.push([t,r])};PK.toString=function(t){const r=t?function(n){return t.call(this,n,NL)}:NL;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function l5e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function OK(e,t,r){if(!t)return e;const n=r&&r.encode||l5e;Ie.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=Ie.isURLSearchParams(t)?t.toString():new aO(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class kL{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ie.forEach(this.handlers,function(n){n!==null&&t(n)})}}const DK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},c5e=typeof URLSearchParams<"u"?URLSearchParams:aO,u5e=typeof FormData<"u"?FormData:null,d5e=typeof Blob<"u"?Blob:null,f5e={isBrowser:!0,classes:{URLSearchParams:c5e,FormData:u5e,Blob:d5e},protocols:["http","https","file","blob","url","data"]},sO=typeof window<"u"&&typeof document<"u",hE=typeof navigator=="object"&&navigator||void 0,h5e=sO&&(!hE||["ReactNative","NativeScript","NS"].indexOf(hE.product)<0),m5e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",p5e=sO&&window.location.href||"http://localhost",g5e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sO,hasStandardBrowserEnv:h5e,hasStandardBrowserWebWorkerEnv:m5e,navigator:hE,origin:p5e},Symbol.toStringTag,{value:"Module"})),Ta={...g5e,...f5e};function v5e(e,t){return kj(e,new Ta.classes.URLSearchParams,{visitor:function(r,n,a,s){return Ta.isNode&&Ie.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function x5e(e){return Ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function y5e(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function RK(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&Ie.isArray(a)?a.length:o,c?(Ie.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Ie.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&Ie.isArray(a[o])&&(a[o]=y5e(a[o])),!l)}if(Ie.isFormData(e)&&Ie.isFunction(e.entries)){const r={};return Ie.forEachEntry(e,(n,a)=>{t(x5e(n),a,r,0)}),r}return null}function b5e(e,t,r){if(Ie.isString(e))try{return(t||JSON.parse)(e),Ie.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Ax={transitional:DK,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Ie.isObject(t);if(s&&Ie.isHTMLForm(t)&&(t=new FormData(t)),Ie.isFormData(t))return a?JSON.stringify(RK(t)):t;if(Ie.isArrayBuffer(t)||Ie.isBuffer(t)||Ie.isStream(t)||Ie.isFile(t)||Ie.isBlob(t)||Ie.isReadableStream(t))return t;if(Ie.isArrayBufferView(t))return t.buffer;if(Ie.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return v5e(t,this.formSerializer).toString();if((l=Ie.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kj(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),b5e(t)):t}],transformResponse:[function(t){const r=this.transitional||Ax.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ie.isResponse(t)||Ie.isReadableStream(t))return t;if(t&&Ie.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?$t.from(l,$t.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ta.classes.FormData,Blob:Ta.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],e=>{Ax.headers[e]={}});const _5e=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w5e=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&_5e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},CL=Symbol("internals");function j0(e){return e&&String(e).trim().toLowerCase()}function v1(e){return e===!1||e==null?e:Ie.isArray(e)?e.map(v1):String(e)}function j5e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const S5e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function M2(e,t,r,n,a){if(Ie.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Ie.isString(t)){if(Ie.isString(n))return t.indexOf(n)!==-1;if(Ie.isRegExp(n))return n.test(t)}}function N5e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function k5e(e,t){const r=Ie.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class Ts{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=j0(c);if(!d)throw new Error("header name must be a non-empty string");const f=Ie.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=v1(l))}const o=(l,c)=>Ie.forEach(l,(u,d)=>s(u,d,c));if(Ie.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ie.isString(t)&&(t=t.trim())&&!S5e(t))o(w5e(t),r);else if(Ie.isObject(t)&&Ie.isIterable(t)){let l={},c,u;for(const d of t){if(!Ie.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Ie.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=j0(t),t){const n=Ie.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return j5e(a);if(Ie.isFunction(r))return r.call(this,a,n);if(Ie.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=j0(t),t){const n=Ie.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||M2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=j0(o),o){const l=Ie.findKey(n,o);l&&(!r||M2(n,n[l],l,r))&&(delete n[l],a=!0)}}return Ie.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||M2(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return Ie.forEach(this,(a,s)=>{const o=Ie.findKey(n,s);if(o){r[o]=v1(a),delete r[s];return}const l=t?N5e(s):String(s).trim();l!==s&&delete r[s],r[l]=v1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ie.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Ie.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[CL]=this[CL]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=j0(o);n[l]||(k5e(a,o),n[l]=!0)}return Ie.isArray(t)?t.forEach(s):s(t),this}}Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(Ts.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ie.freezeMethods(Ts);function F2(e,t){const r=this||Ax,n=t||r,a=Ts.from(n.headers);let s=n.data;return Ie.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function MK(e){return!!(e&&e.__CANCEL__)}function Yp(e,t,r){$t.call(this,e??"canceled",$t.ERR_CANCELED,t,r),this.name="CanceledError"}Ie.inherits(Yp,$t,{__CANCEL__:!0});function FK(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new $t("Request failed with status code "+r.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function C5e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function E5e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function T5e(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const m_=(e,t,r=3)=>{let n=0;const a=E5e(50,250);return T5e(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},EL=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},TL=e=>(...t)=>Ie.asap(()=>e(...t)),A5e=Ta.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ta.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ta.origin),Ta.navigator&&/(msie|trident)/i.test(Ta.navigator.userAgent)):()=>!0,P5e=Ta.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ie.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Ie.isString(n)&&l.push(`path=${n}`),Ie.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),Ie.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function O5e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function D5e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function IK(e,t,r){let n=!O5e(t);return e&&(n||r==!1)?D5e(e,t):t}const AL=e=>e instanceof Ts?{...e}:e;function Sf(e,t){t=t||{};const r={};function n(u,d,f,h){return Ie.isPlainObject(u)&&Ie.isPlainObject(d)?Ie.merge.call({caseless:h},u,d):Ie.isPlainObject(d)?Ie.merge({},d):Ie.isArray(d)?d.slice():d}function a(u,d,f,h){if(Ie.isUndefined(d)){if(!Ie.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!Ie.isUndefined(d))return n(void 0,d)}function o(u,d){if(Ie.isUndefined(d)){if(!Ie.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(AL(u),AL(d),f,!0)};return Ie.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,h=f(e[d],t[d],d);Ie.isUndefined(h)&&f!==l||(r[d]=h)}),r}const LK=e=>{const t=Sf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ts.from(o),t.url=OK(IK(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ie.isFormData(r)){if(Ta.hasStandardBrowserEnv||Ta.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ie.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Ta.hasStandardBrowserEnv&&(n&&Ie.isFunction(n)&&(n=n(t)),n||n!==!1&&A5e(t.url))){const c=a&&s&&P5e.read(s);c&&o.set(a,c)}return t},R5e=typeof XMLHttpRequest<"u",M5e=R5e&&function(e){return new Promise(function(r,n){const a=LK(e);let s=a.data;const o=Ts.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function g(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function y(){if(!v)return;const _=Ts.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:e,request:v};FK(function(S){r(S),g()},function(S){n(S),g()},j),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new $t("Request aborted",$t.ECONNABORTED,e,v)),v=null)},v.onerror=function(w){const j=w&&w.message?w.message:"Network Error",N=new $t(j,$t.ERR_NETWORK,e,v);N.event=w||null,n(N),v=null},v.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||DK;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new $t(w,j.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,e,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&Ie.forEach(o.toJSON(),function(w,j){v.setRequestHeader(j,w)}),Ie.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),l&&l!=="json"&&(v.responseType=a.responseType),u&&([h,p]=m_(u,!0),v.addEventListener("progress",h)),c&&v.upload&&([f,m]=m_(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=_=>{v&&(n(!_||_.type?new Yp(null,e,v):_),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=C5e(a.url);if(b&&Ta.protocols.indexOf(b)===-1){n(new $t("Unsupported protocol "+b+":",$t.ERR_BAD_REQUEST,e));return}v.send(s||null)})},F5e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof $t?d:new Yp(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Ie.asap(l),c}},I5e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},L5e=async function*(e,t){for await(const r of $5e(e))yield*I5e(r,t)},$5e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},PL=(e,t,r,n)=>{const a=L5e(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},OL=64*1024,{isFunction:Dy}=Ie,B5e=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ie.global),{ReadableStream:DL,TextEncoder:RL}=Ie.global,ML=(e,...t)=>{try{return!!e(...t)}catch{return!1}},U5e=e=>{e=Ie.merge.call({skipUndefined:!0},B5e,e);const{fetch:t,Request:r,Response:n}=e,a=t?Dy(t):typeof fetch=="function",s=Dy(r),o=Dy(n);if(!a)return!1;const l=a&&Dy(DL),c=a&&(typeof RL=="function"?(p=>g=>p.encode(g))(new RL):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=s&&l&&ML(()=>{let p=!1;const g=new r(Ta.origin,{body:new DL,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),d=o&&l&&ML(()=>Ie.isReadableStream(new n("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(g,v)=>{let y=g&&g[p];if(y)return y.call(g);throw new $t(`Response type '${p}' is not supported`,$t.ERR_NOT_SUPPORT,v)})});const h=async p=>{if(p==null)return 0;if(Ie.isBlob(p))return p.size;if(Ie.isSpecCompliantForm(p))return(await new r(Ta.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(p)||Ie.isArrayBuffer(p))return p.byteLength;if(Ie.isURLSearchParams(p)&&(p=p+""),Ie.isString(p))return(await c(p)).byteLength},m=async(p,g)=>{const v=Ie.toFiniteNumber(p.getContentLength());return v??h(g)};return async p=>{let{url:g,method:v,data:y,signal:b,cancelToken:_,timeout:w,onDownloadProgress:j,onUploadProgress:N,responseType:S,headers:k,withCredentials:C="same-origin",fetchOptions:A}=LK(p),P=t||fetch;S=S?(S+"").toLowerCase():"text";let T=F5e([b,_&&_.toAbortSignal()],w),U=null;const z=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let D;try{if(N&&u&&v!=="get"&&v!=="head"&&(D=await m(k,y))!==0){let J=new r(g,{method:"POST",body:y,duplex:"half"}),O;if(Ie.isFormData(y)&&(O=J.headers.get("content-type"))&&k.setContentType(O),J.body){const[G,V]=EL(D,m_(TL(N)));y=PL(J.body,OL,G,V)}}Ie.isString(C)||(C=C?"include":"omit");const M=s&&"credentials"in r.prototype,L={...A,signal:T,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:M?C:void 0};U=s&&new r(g,L);let I=await(s?P(U,A):P(g,L));const F=d&&(S==="stream"||S==="response");if(d&&(j||F&&z)){const J={};["status","statusText","headers"].forEach(K=>{J[K]=I[K]});const O=Ie.toFiniteNumber(I.headers.get("content-length")),[G,V]=j&&EL(O,m_(TL(j),!0))||[];I=new n(PL(I.body,OL,G,()=>{V&&V(),z&&z()}),J)}S=S||"text";let X=await f[Ie.findKey(f,S)||"text"](I,p);return!F&&z&&z(),await new Promise((J,O)=>{FK(J,O,{data:X,headers:Ts.from(I.headers),status:I.status,statusText:I.statusText,config:p,request:U})})}catch(M){throw z&&z(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,p,U),{cause:M.cause||M}):$t.from(M,M&&M.code,p,U)}}},z5e=new Map,$K=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,c,u,d=z5e;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:U5e(t)),d=u;return u};$K();const iO={http:s5e,xhr:M5e,fetch:{get:$K}};Ie.forEach(iO,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const FL=e=>`- ${e}`,V5e=e=>Ie.isFunction(e)||e===null||e===!1;function W5e(e,t){e=Ie.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!V5e(n)&&(a=iO[(l=String(n)).toLowerCase()],a===void 0))throw new $t(`Unknown adapter '${l}'`);if(a&&(Ie.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(FL).join(`
`):" "+FL(o[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const BK={getAdapter:W5e,adapters:iO};function I2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yp(null,e)}function IL(e){return I2(e),e.headers=Ts.from(e.headers),e.data=F2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),BK.getAdapter(e.adapter||Ax.adapter,e)(e).then(function(n){return I2(e),n.data=F2.call(e,e.transformResponse,n),n.headers=Ts.from(n.headers),n},function(n){return MK(n)||(I2(e),n&&n.response&&(n.response.data=F2.call(e,e.transformResponse,n.response),n.response.headers=Ts.from(n.response.headers))),Promise.reject(n)})}const UK="1.13.2",Cj={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Cj[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const LL={};Cj.transitional=function(t,r,n){function a(s,o){return"[Axios v"+UK+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new $t(a(o," has been removed"+(r?" in "+r:"")),$t.ERR_DEPRECATED);return r&&!LL[o]&&(LL[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};Cj.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function H5e(e,t,r){if(typeof e!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new $t("option "+s+" must be "+c,$t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new $t("Unknown option "+s,$t.ERR_BAD_OPTION)}}const x1={assertOptions:H5e,validators:Cj},Wo=x1.validators;class Zd{constructor(t){this.defaults=t||{},this.interceptors={request:new kL,response:new kL}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Sf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&x1.assertOptions(n,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),a!=null&&(Ie.isFunction(a)?r.paramsSerializer={serialize:a}:x1.assertOptions(a,{encode:Wo.function,serialize:Wo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),x1.assertOptions(r,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Ie.merge(s.common,s[r.method]);s&&Ie.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=Ts.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const p=[IL.bind(this),void 0];for(p.unshift(...l),p.push(...u),h=p.length,d=Promise.resolve(r);f<h;)d=d.then(p[f++],p[f++]);return d}h=l.length;let m=r;for(;f<h;){const p=l[f++],g=l[f++];try{m=p(m)}catch(v){g.call(this,v);break}}try{d=IL.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Sf(this.defaults,t);const r=IK(t.baseURL,t.url,t.allowAbsoluteUrls);return OK(r,t.params,t.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],function(t){Zd.prototype[t]=function(r,n){return this.request(Sf(n||{},{method:t,url:r,data:(n||{}).data}))}});Ie.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(Sf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Zd.prototype[t]=r(),Zd.prototype[t+"Form"]=r(!0)});class oO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Yp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new oO(function(a){t=a}),cancel:t}}}function q5e(e){return function(r){return e.apply(null,r)}}function K5e(e){return Ie.isObject(e)&&e.isAxiosError===!0}const mE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mE).forEach(([e,t])=>{mE[t]=e});function zK(e){const t=new Zd(e),r=bK(Zd.prototype.request,t);return Ie.extend(r,Zd.prototype,t,{allOwnKeys:!0}),Ie.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return zK(Sf(e,a))},r}const Br=zK(Ax);Br.Axios=Zd;Br.CanceledError=Yp;Br.CancelToken=oO;Br.isCancel=MK;Br.VERSION=UK;Br.toFormData=kj;Br.AxiosError=$t;Br.Cancel=Br.CanceledError;Br.all=function(t){return Promise.all(t)};Br.spread=q5e;Br.isAxiosError=K5e;Br.mergeConfig=Sf;Br.AxiosHeaders=Ts;Br.formToJSON=e=>RK(Ie.isHTMLForm(e)?new FormData(e):e);Br.getAdapter=BK.getAdapter;Br.HttpStatusCode=mE;Br.default=Br;const S0="https://app.chatwoot.com",Ho="",qo="",Ry={async getConversations(e="open",t=1){var r;try{if(!Ho||!qo)return console.warn("Chatwoot credentials missing. Please check .env file."),[];const a=(await Br.get(`${S0}/api/v1/accounts/${qo}/conversations`,{headers:{api_access_token:Ho},params:{status:e,page:t}})).data;return(r=a==null?void 0:a.data)!=null&&r.payload?a.data.payload:a!=null&&a.payload?a.payload:[]}catch(n){return console.error("[Chatwoot] Failed to fetch conversations:",n),[]}},async getMessages(e){try{return!Ho||!qo?[]:(await Br.get(`${S0}/api/v1/accounts/${qo}/conversations/${e}/messages`,{headers:{api_access_token:Ho}})).data.payload||[]}catch(t){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,t),[]}},async sendMessage(e,t,r=!1){try{return!Ho||!qo?null:(await Br.post(`${S0}/api/v1/accounts/${qo}/conversations/${e}/messages`,{content:t,message_type:r?"private":"outgoing",private:r},{headers:{api_access_token:Ho}})).data}catch(n){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,n),n}},async toggleStatus(e,t){try{if(!Ho||!qo)return;await Br.post(`${S0}/api/v1/accounts/${qo}/conversations/${e}/toggle_status`,{status:t},{headers:{api_access_token:Ho}})}catch(r){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,r),r}},async getInboxes(){try{return!Ho||!qo?[]:(await Br.get(`${S0}/api/v1/accounts/${qo}/inboxes`,{headers:{api_access_token:Ho}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function G5e(){const{t:e}=Vt();xr(),Lo();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,p]=x.useState(""),[g,v]=x.useState("open"),y=x.useRef(null);x.useEffect(()=>{b(g);const k=setInterval(()=>{b(g,!0)},3e4);return()=>clearInterval(k)},[g]),x.useEffect(()=>{if(n){_(n.id);const k=setInterval(()=>_(n.id),1e4);return()=>clearInterval(k)}},[n]),x.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[s]);const b=async(k,C=!1)=>{C||c(!0);try{const A=await Ry.getConversations(k);r(A||[])}catch(A){console.error("Failed to load conversations:",A),C||console.error("User notification skipped for load error")}finally{C||c(!1)}},_=async k=>{s.length===0&&d(!0);try{const C=await Ry.getMessages(k);o(C)}catch(C){console.error("Failed to load messages",C)}finally{d(!1)}},w=async()=>{if(!(!m.trim()||!n)){h(!0);try{const k=await Ry.sendMessage(n.id,m);k&&(o(C=>[...C,k]),p(""))}catch(k){console.error("Failed to send message",k)}finally{h(!1)}}},j=async k=>{try{const C=g==="open"?"resolved":"open";await Ry.toggleStatus(k,C),g!=="all"?(r(A=>A.filter(P=>P.id!==k)),(n==null?void 0:n.id)===k&&(a(null),o([]))):(r(A=>A.map(P=>P.id===k?{...P,status:C}:P)),b(g))}catch(C){console.error("Failed to toggle status",C)}},N=k=>k!=null&&k.includes("email")?i.jsx(uh,{className:"h-4 w-4"}):k!=null&&k.includes("whatsapp")?i.jsx(Yl,{className:"h-4 w-4"}):i.jsx(Vu,{className:"h-4 w-4"}),S=k=>new Date(k*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Qt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[i.jsxs("div",{className:"p-4 border-b space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),i.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>b(g),disabled:l,children:i.jsx(hc,{className:`h-4 w-4 ${l?"animate-spin":""}`})})]}),i.jsx(Io,{defaultValue:"open",onValueChange:k=>v(k),className:"w-full",children:i.jsxs(Bi,{className:"grid w-full grid-cols-3",children:[i.jsx(Ar,{value:"open",children:e("status.open")}),i.jsx(Ar,{value:"resolved",children:e("status.closed")}),i.jsx(Ar,{value:"all",children:e("common.all")})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(We,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),i.jsx(Qa,{className:"flex-1",children:t.length===0&&!l?i.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):i.jsx("div",{className:"divide-y",children:t.map(k=>i.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(n==null?void 0:n.id)===k.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>a(k),children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Ps,{className:"h-8 w-8",children:[i.jsx(Oo,{src:k.meta.sender.thumbnail}),i.jsx(Os,{children:k.meta.sender.name.charAt(0)})]}),i.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:k.meta.sender.name})]}),i.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:S(k.timestamp)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(k.meta.channel),i.jsx("span",{className:"capitalize",children:k.meta.channel.split(".")[1]||"Web"}),k.status==="resolved"&&i.jsx(ht,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:k.messages&&k.messages.length>0?k.messages[k.messages.length-1].content:e("common.noMessages")||"No messages"})]},k.id))})})]}),i.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:n?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Ps,{children:[i.jsx(Oo,{src:n.meta.sender.thumbnail}),i.jsx(Os,{children:n.meta.sender.name.charAt(0)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:n.meta.sender.name}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.meta.sender.email&&i.jsx("span",{children:n.meta.sender.email}),n.meta.sender.phone_number&&i.jsxs("span",{children:[" ",n.meta.sender.phone_number]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ce,{variant:n.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(n.id),children:n.status==="resolved"?i.jsxs(i.Fragment,{children:[i.jsx(hc,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):i.jsxs(i.Fragment,{children:[i.jsx(ER,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),i.jsxs(_A,{children:[i.jsx(wA,{asChild:!0,children:i.jsx(ce,{variant:"ghost",size:"icon",children:i.jsx(UB,{className:"h-4 w-4"})})}),i.jsxs(yw,{align:"end",children:[i.jsx(Hl,{children:e("chats.viewContactDetails")}),i.jsx(Hl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),i.jsx("div",{ref:y,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:u?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):s.map(k=>{const C=k.message_type==="outgoing"||k.sender&&k.sender.type==="user",A=k.private;return i.jsx("div",{className:`flex w-full ${C?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${A?"bg-yellow-50 border border-yellow-200":C?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[A&&i.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[i.jsx(_ae,{className:"h-3 w-3"})," ",e("chats.note")]}),i.jsx("div",{className:"text-sm whitespace-pre-wrap",children:k.content}),i.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${C?"text-primary-foreground/70":"text-muted-foreground"}`,children:[S(k.created_at),C&&i.jsx(ER,{className:"h-3 w-3"})]})]})},k.id)})}),i.jsxs("div",{className:"p-4 border-t bg-background",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(We,{placeholder:e("chats.typeMessage"),value:m,onChange:k=>p(k.target.value),onKeyDown:k=>k.key==="Enter"&&!k.shiftKey&&w(),disabled:f||n.status==="resolved",className:"flex-1"}),i.jsx(ce,{onClick:w,disabled:f||!m.trim()||n.status==="resolved",children:f?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):i.jsx(Jv,{className:"h-4 w-4"})})]}),n.status==="resolved"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:i.jsx(Vu,{className:"h-8 w-8 text-muted-foreground/50"})}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function Y5e(){const{user:e}=xr(),{t}=Vt(),[r,n]=x.useState([]),[a,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(""),[h,m]=x.useState(!0),[p,g]=x.useState(!1),[v,y]=x.useState(null),[b,_]=x.useState(null),[w,j]=x.useState(!1),[N,S]=x.useState(!0),k=x.useRef(!1),C=x.useRef(null),A=x.useRef(null);x.useEffect(()=>{e&&!k.current&&P()},[e]),x.useEffect(()=>{a&&(A.current!==a.room_id&&U(),C.current!==a.room_id&&T())},[a]),x.useEffect(()=>{a&&(async()=>{try{console.log("Realtime not available - Supabase removed");return}catch(L){console.error("Failed to setup realtime:",L)}})()},[a]),x.useEffect(()=>{g(!1),y(null),_(null),k.current=!1,C.current=null,A.current=null},[e]);const P=async()=>{if(!k.current)try{m(!0);const M=await so.getUserRooms((e==null?void 0:e.id)||"");n(M),M.length>0&&s(M[0]),g(!0),k.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{m(!1)}},T=async()=>{if(!(!a||C.current===a.room_id))try{const M=await ru.getByRoom(a.room_id);l(M),y(a.room_id),C.current=a.room_id}catch(M){console.error("Failed to load messages:",M)}},U=async()=>{if(!(!a||A.current===a.room_id))try{const M=await so.getRoomMembers(a.room_id);u(M),_(a.room_id),A.current=a.room_id}catch(M){console.error("Failed to load room members:",M)}},z=async()=>{if(!d.trim()||!a||!e)return;const M=d.trim(),L={message_id:`temp-${Date.now()}`,room_id:a.room_id,userid:e.id.toString(),content:M,created_at:new Date().toISOString(),metadata:null};l(I=>[...I,L]),f("");try{await ru.create({room_id:a.room_id,userid:e.id.toString(),content:M,metadata:null})}catch(I){console.error("Failed to send message:",I),l(F=>F.filter(X=>X.message_id!==L.message_id)),f(M)}},D=M=>new Date(M).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{size:"xl"})}):i.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[i.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),i.jsx(Qa,{className:"flex-1 p-4",children:i.jsx("div",{className:"space-y-2",children:r.map(M=>i.jsx(it,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(M),children:i.jsx(dt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dy,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},M.room_id))})})]}),a&&i.jsx("div",{className:"md:hidden mb-4",children:i.jsxs(_l,{open:w,onOpenChange:j,children:[i.jsx(Y7,{asChild:!0,children:i.jsxs(ce,{variant:"outline",className:"w-full justify-between",children:[i.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsx(dy,{className:"h-4 w-4 ml-2"})]})}),i.jsx(Mo,{side:"left",className:"w-80 p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),i.jsx(Qa,{className:"h-[60vh]",children:i.jsx("div",{className:"space-y-2",children:r.map(M=>i.jsx(it,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(M),j(!1)},children:i.jsx(dt,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dy,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},M.room_id))})})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Za,{className:"h-4 w-4"}),i.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&i.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>S(!N),children:i.jsx(Vae,{className:"h-4 w-4"})})]}),i.jsx(Qa,{className:"flex-1 mb-4",children:i.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&o.map(M=>{var I,F,X,J,O;let L;return M.userid===((I=e==null?void 0:e.id)==null?void 0:I.toString())?L={userid:e.id.toString(),user_name:((F=e.profile)==null?void 0:F.user_name)||e.email||t("chats.you"),avatar:(X=e.profile)==null?void 0:X.avatar,user_id:((J=e.profile)==null?void 0:J.user_id)||0,user_email:e.email}:L=c.find(G=>G.userid===M.userid),L||(L={userid:M.userid,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Ps,{className:"h-8 w-8",children:[i.jsx(Oo,{src:L.avatar||""}),i.jsx(Os,{children:((O=L.user_name)==null?void 0:O.charAt(0))||"?"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:L.user_name}),i.jsx("span",{className:"text-xs text-muted-foreground",children:D(M.created_at)})]}),i.jsx("p",{className:"text-sm",children:M.content})]})]},M.message_id)})})}),i.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[i.jsx(We,{value:d,onChange:M=>f(M.target.value),placeholder:t("chats.typeMessage"),onKeyPress:M=>M.key==="Enter"&&z(),className:"flex-1"}),i.jsx(ce,{onClick:z,disabled:!d.trim(),children:i.jsx(Jv,{className:"h-4 w-4"})})]})]}):i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(dy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function X5e(){const{isRTL:e}=Ia();tn();const[t,r]=x.useState(null),[n,a]=x.useState([]),[s,o]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState(!0),{user:f,signOut:h}=xr();x.useEffect(()=>{(async()=>{if(f!=null&&f.id)try{d(!0);const g=await Xc.getByUserAuthId(f.id);a(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{d(!1)}})()},[f==null?void 0:f.id]),x.useEffect(()=>{(async()=>{if(t)try{const[g,v]=await Promise.all([Hp.getAll(),cE.getByTask(0)]),y=g.filter(b=>!0);o(y),c(v)}catch(g){console.error("Failed to fetch project data:",g)}})()},[t]);const m=t?n.find(p=>p.project_id===t):null;return i.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[i.jsx("header",{className:"border-b bg-card",children:i.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),i.jsxs(ce,{variant:"ghost",size:"sm",children:[i.jsx($ae,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),i.jsxs("div",{className:"container mx-auto px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Fe((f==null?void 0:f.profile)||{},"user_name"),"! "]}),i.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),m?i.jsxs("div",{children:[i.jsx(ce,{variant:"ghost",className:"mb-4",onClick:()=>r(null),children:" Back to Projects"}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:m.project_name})}),i.jsxs(dt,{children:[i.jsx("p",{className:"text-muted-foreground",children:m.project_description||"No description available"}),i.jsxs("div",{className:"mt-4",children:[i.jsx(jf,{value:m.progress||0,className:"h-3"}),i.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[m.progress||0,"% Complete"]})]})]})]}),i.jsxs(Io,{defaultValue:"tasks",children:[i.jsxs(Bi,{children:[i.jsx(Ar,{value:"tasks",children:"Tasks"}),i.jsx(Ar,{value:"images",children:"Gallery"}),i.jsx(Ar,{value:"comments",children:"Comments"})]}),i.jsx(Wr,{value:"tasks",className:"space-y-3",children:s.filter(p=>p.stage_id!==null).map(p=>{var g;return i.jsx(it,{children:i.jsx(dt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:p.task_name}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description||"No description"})]}),i.jsxs(ht,{variant:p.task_status==="completed"?"default":"secondary",children:[p.task_status==="completed"?"":""," ",((g=p.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},p.task_id)})}),i.jsx(Wr,{value:"images",children:i.jsx(it,{children:i.jsx(dt,{className:"pt-6",children:i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(p=>i.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-4xl",children:""})},p))})})})}),i.jsx(Wr,{value:"comments",children:i.jsx(it,{children:i.jsxs(dt,{className:"pt-6 space-y-4",children:[l.map(p=>i.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[i.jsx("div",{className:"text-2xl",children:""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),i.jsx("p",{className:"text-sm mt-1",children:p.message||"No message"}),i.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:p.created_date?new Date(p.created_date).toLocaleString():"Unknown date"})]})]},p.comment_id)),i.jsxs("div",{className:"flex gap-2 mt-4",children:[i.jsx(We,{placeholder:"Add a comment..."}),i.jsx(ce,{children:i.jsx(Vu,{className:"h-4 w-4"})})]})]})})})]})]}),i.jsx("div",{children:i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{className:"text-lg",children:"Timeline"})}),i.jsxs(dt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"})]}),m.end_date&&i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"End Date"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(m.end_date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Project Kickoff"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-green-500",children:""}),i.jsx("span",{children:"Design Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-blue-500",children:""}),i.jsx("span",{children:"Development Phase"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:""}),i.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):u?i.jsx(ua,{size:"xl"}):n.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),i.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>i.jsxs(it,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>r(p.project_id),children:[i.jsxs(Bt,{children:[i.jsx(er,{className:"text-lg",children:p.project_name}),i.jsxs(ht,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",p.stage||"N/A"]})]}),i.jsx(dt,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Progress"}),i.jsxs("span",{className:"font-semibold",children:[p.progress||0,"%"]})]}),i.jsx(jf,{value:p.progress||0,className:"h-2"})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"]}),i.jsx(ce,{className:"w-full",variant:"outline",children:"View Details "})]})})]},p.project_id))})]})]})}const J5e=()=>{const e=Bs(),{t}=Vt(),{toast:r}=Lo(),{companyName:n}=a9(),a=[{icon:i.jsx(qh,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:i.jsx(Za,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:i.jsx($B,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:i.jsx(Vu,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:i.jsx(tg,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:i.jsx(Q1,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[i.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsx("span",{className:"text-xl font-bold text-gray-900",children:n})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(AU,{}),i.jsx(ce,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),i.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsxs(ht,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[i.jsx(zB,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),i.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),i.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),i.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsxs(ce,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),i.jsx(jae,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),i.jsx(ce,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),i.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),i.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),i.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:a.map((s,o)=>i.jsx(it,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:i.jsxs(dt,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:s.icon}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})]}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:s.description})]})},o))})]})}),i.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[i.jsx(it,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:i.jsxs(dt,{className:"p-8 sm:p-12 text-center",children:[i.jsx(WB,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),i.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),i.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),i.jsxs(ce,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[t("landing.cta.button"),i.jsx(Xd,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),i.jsx(it,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:i.jsxs(dt,{className:"p-8 sm:p-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("landing.partner.title")}),i.jsx("p",{className:"text-gray-600",children:t("landing.partner.subtitle")})]}),i.jsxs("form",{className:"space-y-4",onSubmit:async s=>{s.preventDefault();const o=s.target,l=new FormData(o);try{await p1.createApplication({company_name:l.get("company_name"),full_name:l.get("full_name"),email:l.get("email"),phone:l.get("phone")}),r({title:t("landing.partner.success"),description:t("landing.partner.successMessage")}),o.reset()}catch{r({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[i.jsx("div",{className:"space-y-2",children:i.jsx(We,{name:"company_name",placeholder:t("landing.partner.companyName"),required:!0,className:"bg-white"})}),i.jsx("div",{className:"space-y-2",children:i.jsx(We,{name:"full_name",placeholder:t("landing.partner.fullName"),required:!0,className:"bg-white"})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(We,{name:"email",type:"email",placeholder:t("landing.partner.email"),required:!0,className:"bg-white"}),i.jsx(We,{name:"phone",type:"tel",placeholder:t("landing.partner.phone"),required:!0,className:"bg-white"})]}),i.jsx(ce,{type:"submit",className:"w-full text-lg h-12",children:t("landing.partner.submit")})]})]})})]})})}),i.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:i.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(n==null?void 0:n.charAt(0))||"M"})}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[n," CRM"]})]}),i.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},Q5e=()=>{const[e,t]=x.useState("loading"),[r,n]=x.useState("Processing authentication..."),a=Bs(),{user:s}=xr();return x.useEffect(()=>((async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] No user from context, checking localStorage..."),t("error"),n("OAuth authentication is not available. Please use email/password sign in."),setTimeout(()=>a("/login"),3e3)}catch(l){console.error("[AuthCallback] Error handling callback:",l),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{}),[s,a]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(ua,{size:"xl",message:r}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),i.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600",children:r})]})]})})},cp=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:be("mx-auto flex w-full justify-center",e),...t});cp.displayName="Pagination";const up=x.forwardRef(({className:e,...t},r)=>i.jsx("ul",{ref:r,className:be("flex flex-row items-center gap-1",e),...t}));up.displayName="PaginationContent";const Ea=x.forwardRef(({className:e,...t},r)=>i.jsx("li",{ref:r,className:be("",e),...t}));Ea.displayName="PaginationItem";const lO=({className:e,isActive:t,size:r="icon",...n})=>i.jsx("a",{"aria-current":t?"page":void 0,className:be(Am({variant:t?"outline":"ghost",size:r}),e),...n});lO.displayName="PaginationLink";const _u=({className:e,children:t,...r})=>i.jsx(lO,{"aria-label":"Go to previous page",size:"default",className:be("gap-1 pl-2.5",e),...r,children:i.jsx("span",{children:t||"Previous"})});_u.displayName="PaginationPrevious";const wu=({className:e,children:t,...r})=>i.jsx(lO,{"aria-label":"Go to next page",size:"default",className:be("gap-1 pr-2.5",e),...r,children:i.jsx("span",{children:t||"Next"})});wu.displayName="PaginationNext";/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var VK=1252,Z5e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},uO=function(e){Z5e.indexOf(e)!=-1&&(VK=cO[0]=e)};function e$e(){uO(1252)}var yo=function(e){uO(e)};function WK(){yo(1200),e$e()}function $L(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function t$e(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function HK(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var L0=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?t$e(e.slice(2)):t==254&&r==255?HK(e.slice(2)):t==65279?e.slice(1):e},My=function(t){return String.fromCharCode(t)},BL=function(t){return String.fromCharCode(t)},nu,ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function UL(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=ju.charAt(s)+ju.charAt(o)+ju.charAt(l)+ju.charAt(c);return t}function di(e){var t="",r=0,n=0,a=0,s=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=ju.indexOf(e.charAt(u++)),o=ju.indexOf(e.charAt(u++)),r=s<<2|o>>4,t+=String.fromCharCode(r),l=ju.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=ju.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Xt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Bf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ku(e){return Xt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function zL(e){return Xt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var go=function(t){return Xt?Bf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Uf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function dO(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return dO(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var au=Xt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Bf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function r$e(e){for(var t=[],r=0,n=e.length+250,a=Ku(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ku(65535),n=65530)}return t.push(a.slice(0,r)),au(t)}var os=/\u0000/g,$0=/[\u0001-\u0006]/g;function rm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function bo(e,t){var r=""+e;return r.length>=t?r:Zr("0",t-r.length)+r}function fO(e,t){var r=""+e;return r.length>=t?r:Zr(" ",t-r.length)+r}function p_(e,t){var r=""+e;return r.length>=t?r:r+Zr(" ",t-r.length)}function n$e(e,t){var r=""+Math.round(e);return r.length>=t?r:Zr("0",t-r.length)+r}function a$e(e,t){var r=""+e;return r.length>=t?r:Zr("0",t-r.length)+r}var VL=Math.pow(2,32);function lh(e,t){if(e>VL||e<-VL)return n$e(e,t);var r=Math.round(e);return a$e(r,t)}function g_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var WL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],L2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function s$e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Lt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},HL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},i$e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function v_(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,o=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*o+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=o)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function Id(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=f$e(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var qK=new Date(1899,11,31,0,0,0),o$e=qK.getTime(),l$e=new Date(1900,2,1,0,0,0);function KK(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=l$e&&(r+=24*60*60*1e3),(r-(o$e+(e.getTimezoneOffset()-qK.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function hO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function c$e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function u$e(e){var t=e<0?12:11,r=hO(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function d$e(e){var t=hO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Av(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=u$e(e):t===10?r=e.toFixed(10).substr(0,12):r=d$e(e),hO(c$e(r.toUpperCase()))}function Nf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Av(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ui(14,KK(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function f$e(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function h$e(e,t,r,n){var a="",s=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return L2[r.m-1][1];case 5:return L2[r.m-1][0];default:return L2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return WL[r.q][0];default:return WL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?bo(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,s=Math.round(o*(r.S+r.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(a=bo(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?bo(c,u):"";return d}function Su(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var GK=/%/g;function m$e(e,t,r){var n=t.replace(GK,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+Zr("%",a)}function p$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function YK(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+YK(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var XK=/# (\?+)( ?)\/( ?)(\d+)/;function g$e(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),o=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(o===0?Zr(" ",e[1].length+1+e[4].length):fO(o,e[1].length)+e[2]+"/"+e[3]+bo(l,e[4].length))}function v$e(e,t,r){return r+(t===0?"":""+t)+Zr(" ",e[1].length+2+e[4].length)}var JK=/^#*0*\.([0#]+)/,QK=/\).*[0#]/,ZK=/\(###\) ###\\?-####/;function Ga(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function qL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function KL(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function x$e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function y$e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function wi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QK)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?wi("n",n,r):"("+wi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return p$e(e,t,r);if(t.indexOf("%")!==-1)return m$e(e,t,r);if(t.indexOf("E")!==-1)return YK(t,r);if(t.charCodeAt(0)===36)return"$"+wi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+lh(c,t.length);if(t.match(/^[#?]+$/))return a=lh(r,0),a==="0"&&(a=""),a.length>t.length?a:Ga(t.substr(0,t.length-a.length))+a;if(s=t.match(XK))return g$e(s,c,u);if(t.match(/^#+0+$/))return u+lh(c,t.length-t.indexOf("0"));if(s=t.match(JK))return a=qL(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ga(s[1])).replace(/\.$/,"."+Ga(s[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Zr("0",Ga(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+qL(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Su(lh(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+wi(e,t,-r):Su(""+(Math.floor(r)+x$e(r,s[1].length)))+"."+bo(KL(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return wi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rm(wi(e,t.replace(/[\\-]/g,""),r)),o=0,rm(rm(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(ZK))return a=wi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=v_(c,Math.pow(10,o)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=p_(l[2],o),d.length<s[4].length&&(d=Ga(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=v_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fO(l[1],o)+s[2]+"/"+s[3]+p_(l[2],o):Zr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=lh(r,0),t.length<=a.length?a:Ga(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ga(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=KL(r,s[1].length),r<0?"-"+wi(e,t,-r):Su(y$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bo(0,3-p.length):"")+p})+"."+bo(o,s[1].length);switch(t){case"###,##0.00":return wi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Su(lh(c,0));return m!=="0"?u+m:"";case"###,###.00":return wi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return wi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function b$e(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ic(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _$e(e,t,r){var n=t.replace(GK,""),a=t.length-n.length;return ic(e,n,r*Math.pow(10,2*a))+Zr("%",a)}function eG(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+eG(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+s):r+="E+"+(o-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Yo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QK)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Yo("n",n,r):"("+Yo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return b$e(e,t,r);if(t.indexOf("%")!==-1)return _$e(e,t,r);if(t.indexOf("E")!==-1)return eG(t,r);if(t.charCodeAt(0)===36)return"$"+Yo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+bo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ga(t.substr(0,t.length-a.length))+a;if(s=t.match(XK))return v$e(s,c,u);if(t.match(/^#+0+$/))return u+bo(c,t.length-t.indexOf("0"));if(s=t.match(JK))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ga(s[1])).replace(/\.$/,"."+Ga(s[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+Zr("0",Ga(s[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+Su(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Yo(e,t,-r):Su(""+r)+"."+Zr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Yo(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=rm(Yo(e,t.replace(/[\\-]/g,""),r)),o=0,rm(rm(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<a.length?a.charAt(o++):p==="0"?"0":""}));if(t.match(ZK))return a=Yo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=v_(c,Math.pow(10,o)-1,!1),a=""+u,d=ic("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=p_(l[2],o),d.length<s[4].length&&(d=Ga(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=v_(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?fO(l[1],o)+s[2]+"/"+s[3]+p_(l[2],o):Zr(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ga(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return Ga(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Yo(e,t,-r):Su(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?bo(0,3-p.length):"")+p})+"."+bo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Su(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Yo(e,t.slice(0,t.lastIndexOf(".")),r)+Ga(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ic(e,t,r){return(r|0)===r?Yo(e,t,r):wi(e,t,r)}function w$e(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var tG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Xp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":g_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(tG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function j$e(e,t,r,n){for(var a=[],s="",o=0,l="",c="t",u,d,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!g_(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(f=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Id(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Id(t,r),u==null))return"";for(s=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=Id(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",o+=5,h="h"):(g.t="t",++o),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(s=l;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(tG)){if(u==null&&(u=Id(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Xp(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++o<e.length&&(l=e.charAt(o))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++o)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,b;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[o].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var _="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=h$e(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;_+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=Nf(t,r);break}var j="",N,S;if(_.length>0){_.charCodeAt(0)==40?(N=t<0&&_.charCodeAt(0)===45?-t:t,S=ic("n",_,N)):(N=t<0&&n>1?-t:t,S=ic("n",_,N),N<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),w=S.length-1;var k=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){k=o;break}var C=a.length;if(k===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=S.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=S.substr(0,w+1),w=-1),a[o].t="t",C=o);w>=0&&C<a.length&&(a[C].v=S.substr(0,w+1)+a[C].v)}else if(k!==a.length&&S.indexOf("E")===-1){for(w=S.indexOf(".")-1,o=k;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")-1:a[o].v.length-1,j=a[o].v.substr(d+1);d>=0;--d)w>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(j=S.charAt(w--)+j);a[o].v=j,a[o].t="t",C=o}for(w>=0&&C<a.length&&(a[C].v=S.substr(0,w+1)+a[C].v),w=S.indexOf(".")+1,o=k;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==k)){for(d=a[o].v.indexOf(".")>-1&&o===k?a[o].v.indexOf(".")+1:0,j=a[o].v.substr(0,d);d<a[o].v.length;++d)w<S.length&&(j+=S.charAt(w++));a[o].v=j,a[o].t="t",C=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(N=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=ic(a[o].t,a[o].v,N),a[o].t="t");var A="";for(o=0;o!==a.length;++o)a[o]!=null&&(A+=a[o].v);return A}var GL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function YL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function S$e(e,t){var r=w$e(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(GL),l=r[1].match(GL);return YL(t,o)?[n,r[0]]:YL(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,s]}function Ui(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Lt)[e],n==null&&(n=r.table&&r.table[HL[e]]||Lt[HL[e]]),n==null&&(n=i$e[e]||"General");break}if(g_(n,0))return Nf(t,r);t instanceof Date&&(t=KK(t,r.date1904));var a=S$e(n,t);if(g_(a[1]))return Nf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return j$e(a[1],t,r,a[0])}function ef(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Lt[r]==null){t<0&&(t=r);continue}if(Lt[r]==e){t=r;break}}t<0&&(t=391)}return Lt[t]=e,t}function rG(){Lt=s$e()}var N$e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},nG=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function k$e(e){var t=typeof e=="number"?Lt[e]:e;return t=t.replace(nG,"(\\d+)"),new RegExp("^"+t+"$")}function C$e(e,t,r){var n=-1,a=-1,s=-1,o=-1,l=-1,c=-1;(t.match(nG)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var E$e=function(){var e={};e.version="1.2.0";function t(){for(var S=0,k=new Array(256),C=0;C!=256;++C)S=C,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,k[C]=S;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(S){var k=0,C=0,A=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)P[A]=S[A];for(A=0;A!=256;++A)for(C=S[A],k=256+A;k<4096;k+=256)C=P[k]=C>>>8^S[C&255];var T=[];for(A=1;A!=16;++A)T[A-1]=typeof Int32Array<"u"?P.subarray(A*256,A*256+256):P.slice(A*256,A*256+256);return T}var a=n(r),s=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],b=a[13],_=a[14];function w(S,k){for(var C=k^-1,A=0,P=S.length;A<P;)C=C>>>8^r[(C^S.charCodeAt(A++))&255];return~C}function j(S,k){for(var C=k^-1,A=S.length-15,P=0;P<A;)C=_[S[P++]^C&255]^b[S[P++]^C>>8&255]^y[S[P++]^C>>16&255]^v[S[P++]^C>>>24]^g[S[P++]]^p[S[P++]]^m[S[P++]]^h[S[P++]]^f[S[P++]]^d[S[P++]]^u[S[P++]]^c[S[P++]]^l[S[P++]]^o[S[P++]]^s[S[P++]]^r[S[P++]];for(A+=15;P<A;)C=C>>>8^r[(C^S[P++])&255];return~C}function N(S,k){for(var C=k^-1,A=0,P=S.length,T=0,U=0;A<P;)T=S.charCodeAt(A++),T<128?C=C>>>8^r[(C^T)&255]:T<2048?(C=C>>>8^r[(C^(192|T>>6&31))&255],C=C>>>8^r[(C^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=S.charCodeAt(A++)&1023,C=C>>>8^r[(C^(240|T>>8&7))&255],C=C>>>8^r[(C^(128|T>>2&63))&255],C=C>>>8^r[(C^(128|U>>6&15|(T&3)<<4))&255],C=C>>>8^r[(C^(128|U&63))&255]):(C=C>>>8^r[(C^(224|T>>12&15))&255],C=C>>>8^r[(C^(128|T>>6&63))&255],C=C>>>8^r[(C^(128|T&63))&255]);return~C}return e.table=r,e.bstr=w,e.buf=j,e.str=N,e}(),Zt=function(){var t={};t.version="1.2.1";function r(q,ae){for(var ee=q.split("/"),te=ae.split("/"),se=0,le=0,Oe=Math.min(ee.length,te.length);se<Oe;++se){if(le=ee[se].length-te[se].length)return le;if(ee[se]!=te[se])return ee[se]<te[se]?-1:1}return ee.length-te.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(0,ae+1)}function a(q){if(q.charAt(q.length-1)=="/")return a(q.slice(0,-1));var ae=q.lastIndexOf("/");return ae===-1?q:q.slice(ae+1)}function s(q,ae){typeof ae=="string"&&(ae=new Date(ae));var ee=ae.getHours();ee=ee<<6|ae.getMinutes(),ee=ee<<5|ae.getSeconds()>>>1,q.write_shift(2,ee);var te=ae.getFullYear()-1980;te=te<<4|ae.getMonth()+1,te=te<<5|ae.getDate(),q.write_shift(2,te)}function o(q){var ae=q.read_shift(2)&65535,ee=q.read_shift(2)&65535,te=new Date,se=ee&31;ee>>>=5;var le=ee&15;ee>>>=4,te.setMilliseconds(0),te.setFullYear(ee+1980),te.setMonth(le-1),te.setDate(se);var Oe=ae&31;ae>>>=5;var $e=ae&63;return ae>>>=6,te.setHours(ae),te.setMinutes($e),te.setSeconds(Oe<<1),te}function l(q){aa(q,0);for(var ae={},ee=0;q.l<=q.length-4;){var te=q.read_shift(2),se=q.read_shift(2),le=q.l+se,Oe={};switch(te){case 21589:ee=q.read_shift(1),ee&1&&(Oe.mtime=q.read_shift(4)),se>5&&(ee&2&&(Oe.atime=q.read_shift(4)),ee&4&&(Oe.ctime=q.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}q.l=le,ae[te]=Oe}return ae}var c;function u(){return c||(c={})}function d(q,ae){if(q[0]==80&&q[1]==75)return rn(q,ae);if((q[0]|32)==109&&(q[1]|32)==105)return hn(q,ae);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var ee=3,te=512,se=0,le=0,Oe=0,$e=0,Ae=0,Pe=[],Re=q.slice(0,512);aa(Re,0);var Q=f(Re);switch(ee=Q[0],ee){case 3:te=512;break;case 4:te=4096;break;case 0:if(Q[1]==0)return rn(q,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}te!==512&&(Re=q.slice(0,te),aa(Re,28));var ye=q.slice(0,te);h(Re,ee);var H=Re.read_shift(4,"i");if(ee===3&&H!==0)throw new Error("# Directory Sectors: Expected 0 saw "+H);Re.l+=4,Oe=Re.read_shift(4,"i"),Re.l+=4,Re.chk("00100000","Mini Stream Cutoff Size: "),$e=Re.read_shift(4,"i"),se=Re.read_shift(4,"i"),Ae=Re.read_shift(4,"i"),le=Re.read_shift(4,"i");for(var ne=-1,we=0;we<109&&(ne=Re.read_shift(4,"i"),!(ne<0));++we)Pe[we]=ne;var ge=m(q,te);v(Ae,le,ge,te,Pe);var Qe=b(ge,Oe,Pe,te);Qe[Oe].name="!Directory",se>0&&$e!==U&&(Qe[$e].name="!MiniFAT"),Qe[Pe[0]].name="!FAT",Qe.fat_addrs=Pe,Qe.ssz=te;var ct={},wt=[],nt=[],st=[];_(Oe,Qe,ge,wt,se,ct,nt,$e),p(nt,st,wt),wt.shift();var nn={FileIndex:nt,FullPaths:st};return ae&&ae.raw&&(nn.raw={header:ye,sectors:ge}),nn}function f(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(z,"Header Signature: "),q.l+=16;var ae=q.read_shift(2,"u");return[q.read_shift(2,"u"),ae]}function h(q,ae){var ee=9;switch(q.l+=2,ee=q.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function m(q,ae){for(var ee=Math.ceil(q.length/ae)-1,te=[],se=1;se<ee;++se)te[se-1]=q.slice(se*ae,(se+1)*ae);return te[ee-1]=q.slice(ee*ae),te}function p(q,ae,ee){for(var te=0,se=0,le=0,Oe=0,$e=0,Ae=ee.length,Pe=[],Re=[];te<Ae;++te)Pe[te]=Re[te]=te,ae[te]=ee[te];for(;$e<Re.length;++$e)te=Re[$e],se=q[te].L,le=q[te].R,Oe=q[te].C,Pe[te]===te&&(se!==-1&&Pe[se]!==se&&(Pe[te]=Pe[se]),le!==-1&&Pe[le]!==le&&(Pe[te]=Pe[le])),Oe!==-1&&(Pe[Oe]=te),se!==-1&&te!=Pe[te]&&(Pe[se]=Pe[te],Re.lastIndexOf(se)<$e&&Re.push(se)),le!==-1&&te!=Pe[te]&&(Pe[le]=Pe[te],Re.lastIndexOf(le)<$e&&Re.push(le));for(te=1;te<Ae;++te)Pe[te]===te&&(le!==-1&&Pe[le]!==le?Pe[te]=Pe[le]:se!==-1&&Pe[se]!==se&&(Pe[te]=Pe[se]));for(te=1;te<Ae;++te)if(q[te].type!==0){if($e=te,$e!=Pe[$e])do $e=Pe[$e],ae[te]=ae[$e]+"/"+ae[te];while($e!==0&&Pe[$e]!==-1&&$e!=Pe[$e]);Pe[te]=-1}for(ae[0]+="/",te=1;te<Ae;++te)q[te].type!==2&&(ae[te]+="/")}function g(q,ae,ee){for(var te=q.start,se=q.size,le=[],Oe=te;ee&&se>0&&Oe>=0;)le.push(ae.slice(Oe*T,Oe*T+T)),se-=T,Oe=Nd(ee,Oe*4);return le.length===0?Tn(0):au(le).slice(0,q.size)}function v(q,ae,ee,te,se){var le=U;if(q===U){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var Oe=ee[q],$e=(te>>>2)-1;if(!Oe)return;for(var Ae=0;Ae<$e&&(le=Nd(Oe,Ae*4))!==U;++Ae)se.push(le);v(Nd(Oe,te-4),ae-1,ee,te,se)}}function y(q,ae,ee,te,se){var le=[],Oe=[];se||(se=[]);var $e=te-1,Ae=0,Pe=0;for(Ae=ae;Ae>=0;){se[Ae]=!0,le[le.length]=Ae,Oe.push(q[Ae]);var Re=ee[Math.floor(Ae*4/te)];if(Pe=Ae*4&$e,te<4+Pe)throw new Error("FAT boundary crossed: "+Ae+" 4 "+te);if(!q[Re])break;Ae=Nd(q[Re],Pe)}return{nodes:le,data:s5([Oe])}}function b(q,ae,ee,te){var se=q.length,le=[],Oe=[],$e=[],Ae=[],Pe=te-1,Re=0,Q=0,ye=0,H=0;for(Re=0;Re<se;++Re)if($e=[],ye=Re+ae,ye>=se&&(ye-=se),!Oe[ye]){Ae=[];var ne=[];for(Q=ye;Q>=0;){ne[Q]=!0,Oe[Q]=!0,$e[$e.length]=Q,Ae.push(q[Q]);var we=ee[Math.floor(Q*4/te)];if(H=Q*4&Pe,te<4+H)throw new Error("FAT boundary crossed: "+Q+" 4 "+te);if(!q[we]||(Q=Nd(q[we],H),ne[Q]))break}le[ye]={nodes:$e,data:s5([Ae])}}return le}function _(q,ae,ee,te,se,le,Oe,$e){for(var Ae=0,Pe=te.length?2:0,Re=ae[q].data,Q=0,ye=0,H;Q<Re.length;Q+=128){var ne=Re.slice(Q,Q+128);aa(ne,64),ye=ne.read_shift(2),H=xO(ne,0,ye-Pe),te.push(H);var we={name:H,type:ne.read_shift(1),color:ne.read_shift(1),L:ne.read_shift(4,"i"),R:ne.read_shift(4,"i"),C:ne.read_shift(4,"i"),clsid:ne.read_shift(16),state:ne.read_shift(4,"i"),start:0,size:0},ge=ne.read_shift(2)+ne.read_shift(2)+ne.read_shift(2)+ne.read_shift(2);ge!==0&&(we.ct=w(ne,ne.l-8));var Qe=ne.read_shift(2)+ne.read_shift(2)+ne.read_shift(2)+ne.read_shift(2);Qe!==0&&(we.mt=w(ne,ne.l-8)),we.start=ne.read_shift(4,"i"),we.size=ne.read_shift(4,"i"),we.size<0&&we.start<0&&(we.size=we.type=0,we.start=U,we.name=""),we.type===5?(Ae=we.start,se>0&&Ae!==U&&(ae[Ae].name="!StreamData")):we.size>=4096?(we.storage="fat",ae[we.start]===void 0&&(ae[we.start]=y(ee,we.start,ae.fat_addrs,ae.ssz)),ae[we.start].name=we.name,we.content=ae[we.start].data.slice(0,we.size)):(we.storage="minifat",we.size<0?we.size=0:Ae!==U&&we.start!==U&&ae[Ae]&&(we.content=g(we,ae[Ae].data,(ae[$e]||{}).data))),we.content&&aa(we.content,0),le[H]=we,Oe.push(we)}}function w(q,ae){return new Date((Zs(q,ae+4)/1e7*Math.pow(2,32)+Zs(q,ae)/1e7-11644473600)*1e3)}function j(q,ae){return u(),d(c.readFileSync(q),ae)}function N(q,ae){var ee=ae&&ae.type;switch(ee||Xt&&Buffer.isBuffer(q)&&(ee="buffer"),ee||"base64"){case"file":return j(q,ae);case"base64":return d(go(di(q)),ae);case"binary":return d(go(q),ae)}return d(q,ae)}function S(q,ae){var ee=ae||{},te=ee.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=te+"/",q.FileIndex[0]={name:te,type:5}),ee.CLSID&&(q.FileIndex[0].clsid=ee.CLSID),k(q)}function k(q){var ae="Sh33tJ5";if(!Zt.find(q,"/"+ae)){var ee=Tn(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,q.FileIndex.push({name:ae,type:2,content:ee,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+ae),C(q)}}function C(q,ae){S(q);for(var ee=!1,te=!1,se=q.FullPaths.length-1;se>=0;--se){var le=q.FileIndex[se];switch(le.type){case 0:te?ee=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(le.R*le.L*le.C)&&(ee=!0),le.R>-1&&le.L>-1&&le.R==le.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!ae)){var Oe=new Date(1987,1,19),$e=0,Ae=Object.create?Object.create(null):{},Pe=[];for(se=0;se<q.FullPaths.length;++se)Ae[q.FullPaths[se]]=!0,q.FileIndex[se].type!==0&&Pe.push([q.FullPaths[se],q.FileIndex[se]]);for(se=0;se<Pe.length;++se){var Re=n(Pe[se][0]);te=Ae[Re],te||(Pe.push([Re,{name:a(Re).replace("/",""),type:1,clsid:M,ct:Oe,mt:Oe,content:null}]),Ae[Re]=!0)}for(Pe.sort(function(H,ne){return r(H[0],ne[0])}),q.FullPaths=[],q.FileIndex=[],se=0;se<Pe.length;++se)q.FullPaths[se]=Pe[se][0],q.FileIndex[se]=Pe[se][1];for(se=0;se<Pe.length;++se){var Q=q.FileIndex[se],ye=q.FullPaths[se];if(Q.name=a(ye).replace("/",""),Q.L=Q.R=Q.C=-(Q.color=1),Q.size=Q.content?Q.content.length:0,Q.start=0,Q.clsid=Q.clsid||M,se===0)Q.C=Pe.length>1?1:-1,Q.size=0,Q.type=5;else if(ye.slice(-1)=="/"){for($e=se+1;$e<Pe.length&&n(q.FullPaths[$e])!=ye;++$e);for(Q.C=$e>=Pe.length?-1:$e,$e=se+1;$e<Pe.length&&n(q.FullPaths[$e])!=n(ye);++$e);Q.R=$e>=Pe.length?-1:$e,Q.type=1}else n(q.FullPaths[se+1]||"")==n(ye)&&(Q.R=se+1),Q.type=2}}}function A(q,ae){var ee=ae||{};if(ee.fileType=="mad")return Yi(q,ee);switch(C(q),ee.fileType){case"zip":return Ba(q,ee)}var te=function(H){for(var ne=0,we=0,ge=0;ge<H.FileIndex.length;++ge){var Qe=H.FileIndex[ge];if(Qe.content){var ct=Qe.content.length;ct>0&&(ct<4096?ne+=ct+63>>6:we+=ct+511>>9)}}for(var wt=H.FullPaths.length+3>>2,nt=ne+7>>3,st=ne+127>>7,nn=nt+we+wt+st,Kr=nn+127>>7,Vs=Kr<=109?0:Math.ceil((Kr-109)/127);nn+Kr+Vs+127>>7>Kr;)Vs=++Kr<=109?0:Math.ceil((Kr-109)/127);var zn=[1,Vs,Kr,st,wt,we,ne,0];return H.FileIndex[0].size=ne<<6,zn[7]=(H.FileIndex[0].start=zn[0]+zn[1]+zn[2]+zn[3]+zn[4]+zn[5])+(zn[6]+7>>3),zn}(q),se=Tn(te[7]<<9),le=0,Oe=0;{for(le=0;le<8;++le)se.write_shift(1,D[le]);for(le=0;le<8;++le)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),le=0;le<3;++le)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,te[2]),se.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:U),se.write_shift(4,te[3]),se.write_shift(-4,te[1]?te[0]-1:U),se.write_shift(4,te[1]),le=0;le<109;++le)se.write_shift(-4,le<te[2]?te[1]+le:-1)}if(te[1])for(Oe=0;Oe<te[1];++Oe){for(;le<236+Oe*127;++le)se.write_shift(-4,le<te[2]?te[1]+le:-1);se.write_shift(-4,Oe===te[1]-1?U:Oe+1)}var $e=function(H){for(Oe+=H;le<Oe-1;++le)se.write_shift(-4,le+1);H&&(++le,se.write_shift(-4,U))};for(Oe=le=0,Oe+=te[1];le<Oe;++le)se.write_shift(-4,L.DIFSECT);for(Oe+=te[2];le<Oe;++le)se.write_shift(-4,L.FATSECT);$e(te[3]),$e(te[4]);for(var Ae=0,Pe=0,Re=q.FileIndex[0];Ae<q.FileIndex.length;++Ae)Re=q.FileIndex[Ae],Re.content&&(Pe=Re.content.length,!(Pe<4096)&&(Re.start=Oe,$e(Pe+511>>9)));for($e(te[6]+7>>3);se.l&511;)se.write_shift(-4,L.ENDOFCHAIN);for(Oe=le=0,Ae=0;Ae<q.FileIndex.length;++Ae)Re=q.FileIndex[Ae],Re.content&&(Pe=Re.content.length,!(!Pe||Pe>=4096)&&(Re.start=Oe,$e(Pe+63>>6)));for(;se.l&511;)se.write_shift(-4,L.ENDOFCHAIN);for(le=0;le<te[4]<<2;++le){var Q=q.FullPaths[le];if(!Q||Q.length===0){for(Ae=0;Ae<17;++Ae)se.write_shift(4,0);for(Ae=0;Ae<3;++Ae)se.write_shift(4,-1);for(Ae=0;Ae<12;++Ae)se.write_shift(4,0);continue}Re=q.FileIndex[le],le===0&&(Re.start=Re.size?Re.start-1:U);var ye=le===0&&ee.root||Re.name;if(Pe=2*(ye.length+1),se.write_shift(64,ye,"utf16le"),se.write_shift(2,Pe),se.write_shift(1,Re.type),se.write_shift(1,Re.color),se.write_shift(-4,Re.L),se.write_shift(-4,Re.R),se.write_shift(-4,Re.C),Re.clsid)se.write_shift(16,Re.clsid,"hex");else for(Ae=0;Ae<4;++Ae)se.write_shift(4,0);se.write_shift(4,Re.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,Re.start),se.write_shift(4,Re.size),se.write_shift(4,0)}for(le=1;le<q.FileIndex.length;++le)if(Re=q.FileIndex[le],Re.size>=4096)if(se.l=Re.start+1<<9,Xt&&Buffer.isBuffer(Re.content))Re.content.copy(se,se.l,0,Re.size),se.l+=Re.size+511&-512;else{for(Ae=0;Ae<Re.size;++Ae)se.write_shift(1,Re.content[Ae]);for(;Ae&511;++Ae)se.write_shift(1,0)}for(le=1;le<q.FileIndex.length;++le)if(Re=q.FileIndex[le],Re.size>0&&Re.size<4096)if(Xt&&Buffer.isBuffer(Re.content))Re.content.copy(se,se.l,0,Re.size),se.l+=Re.size+63&-64;else{for(Ae=0;Ae<Re.size;++Ae)se.write_shift(1,Re.content[Ae]);for(;Ae&63;++Ae)se.write_shift(1,0)}if(Xt)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function P(q,ae){var ee=q.FullPaths.map(function(Ae){return Ae.toUpperCase()}),te=ee.map(function(Ae){var Pe=Ae.split("/");return Pe[Pe.length-(Ae.slice(-1)=="/"?2:1)]}),se=!1;ae.charCodeAt(0)===47?(se=!0,ae=ee[0].slice(0,-1)+ae):se=ae.indexOf("/")!==-1;var le=ae.toUpperCase(),Oe=se===!0?ee.indexOf(le):te.indexOf(le);if(Oe!==-1)return q.FileIndex[Oe];var $e=!le.match($0);for(le=le.replace(os,""),$e&&(le=le.replace($0,"!")),Oe=0;Oe<ee.length;++Oe)if(($e?ee[Oe].replace($0,"!"):ee[Oe]).replace(os,"")==le||($e?te[Oe].replace($0,"!"):te[Oe]).replace(os,"")==le)return q.FileIndex[Oe];return null}var T=64,U=-2,z="d0cf11e0a1b11ae1",D=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",L={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function I(q,ae,ee){u();var te=A(q,ee);c.writeFileSync(ae,te)}function F(q){for(var ae=new Array(q.length),ee=0;ee<q.length;++ee)ae[ee]=String.fromCharCode(q[ee]);return ae.join("")}function X(q,ae){var ee=A(q,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,ee),ee;case"binary":return typeof ee=="string"?ee:F(ee);case"base64":return UL(typeof ee=="string"?ee:F(ee));case"buffer":if(Xt)return Buffer.isBuffer(ee)?ee:Bf(ee);case"array":return typeof ee=="string"?go(ee):ee}return ee}var J;function O(q){try{var ae=q.InflateRaw,ee=new ae;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)J=q;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function G(q,ae){if(!J)return Sn(q,ae);var ee=J.InflateRaw,te=new ee,se=te._processChunk(q.slice(q.l),te._finishFlushFlag);return q.l+=te.bytesRead,se}function V(q){return J?J.deflateRawSync(q):De(q)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(q){var ae=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var W=typeof Uint8Array<"u",Z=W?new Uint8Array(256):[],pe=0;pe<256;++pe)Z[pe]=_e(pe);function E(q,ae){var ee=Z[q&255];return ae<=8?ee>>>8-ae:(ee=ee<<8|Z[q>>8&255],ae<=16?ee>>>16-ae:(ee=ee<<8|Z[q>>16&255],ee>>>24-ae))}function xe(q,ae){var ee=ae&7,te=ae>>>3;return(q[te]|(ee<=6?0:q[te+1]<<8))>>>ee&3}function Te(q,ae){var ee=ae&7,te=ae>>>3;return(q[te]|(ee<=5?0:q[te+1]<<8))>>>ee&7}function Ue(q,ae){var ee=ae&7,te=ae>>>3;return(q[te]|(ee<=4?0:q[te+1]<<8))>>>ee&15}function ze(q,ae){var ee=ae&7,te=ae>>>3;return(q[te]|(ee<=3?0:q[te+1]<<8))>>>ee&31}function Se(q,ae){var ee=ae&7,te=ae>>>3;return(q[te]|(ee<=1?0:q[te+1]<<8))>>>ee&127}function et(q,ae,ee){var te=ae&7,se=ae>>>3,le=(1<<ee)-1,Oe=q[se]>>>te;return ee<8-te||(Oe|=q[se+1]<<8-te,ee<16-te)||(Oe|=q[se+2]<<16-te,ee<24-te)||(Oe|=q[se+3]<<24-te),Oe&le}function Ze(q,ae,ee){var te=ae&7,se=ae>>>3;return te<=5?q[se]|=(ee&7)<<te:(q[se]|=ee<<te&255,q[se+1]=(ee&7)>>8-te),ae+3}function oe(q,ae,ee){var te=ae&7,se=ae>>>3;return ee=(ee&1)<<te,q[se]|=ee,ae+1}function me(q,ae,ee){var te=ae&7,se=ae>>>3;return ee<<=te,q[se]|=ee&255,ee>>>=8,q[se+1]=ee,ae+8}function B(q,ae,ee){var te=ae&7,se=ae>>>3;return ee<<=te,q[se]|=ee&255,ee>>>=8,q[se+1]=ee&255,q[se+2]=ee>>>8,ae+16}function de(q,ae){var ee=q.length,te=2*ee>ae?2*ee:ae+5,se=0;if(ee>=ae)return q;if(Xt){var le=zL(te);if(q.copy)q.copy(le);else for(;se<q.length;++se)le[se]=q[se];return le}else if(W){var Oe=new Uint8Array(te);if(Oe.set)Oe.set(q);else for(;se<ee;++se)Oe[se]=q[se];return Oe}return q.length=te,q}function je(q){for(var ae=new Array(q),ee=0;ee<q;++ee)ae[ee]=0;return ae}function Ne(q,ae,ee){var te=1,se=0,le=0,Oe=0,$e=0,Ae=q.length,Pe=W?new Uint16Array(32):je(32);for(le=0;le<32;++le)Pe[le]=0;for(le=Ae;le<ee;++le)q[le]=0;Ae=q.length;var Re=W?new Uint16Array(Ae):je(Ae);for(le=0;le<Ae;++le)Pe[se=q[le]]++,te<se&&(te=se),Re[le]=0;for(Pe[0]=0,le=1;le<=te;++le)Pe[le+16]=$e=$e+Pe[le-1]<<1;for(le=0;le<Ae;++le)$e=q[le],$e!=0&&(Re[le]=Pe[$e+16]++);var Q=0;for(le=0;le<Ae;++le)if(Q=q[le],Q!=0)for($e=E(Re[le],te)>>te-Q,Oe=(1<<te+4-Q)-1;Oe>=0;--Oe)ae[$e|Oe<<Q]=Q&15|le<<4;return te}var Ve=W?new Uint16Array(512):je(512),ke=W?new Uint16Array(32):je(32);if(!W){for(var Ce=0;Ce<512;++Ce)Ve[Ce]=0;for(Ce=0;Ce<32;++Ce)ke[Ce]=0}(function(){for(var q=[],ae=0;ae<32;ae++)q.push(5);Ne(q,ke,32);var ee=[];for(ae=0;ae<=143;ae++)ee.push(8);for(;ae<=255;ae++)ee.push(9);for(;ae<=279;ae++)ee.push(7);for(;ae<=287;ae++)ee.push(8);Ne(ee,Ve,288)})();var ve=function(){for(var ae=W?new Uint8Array(32768):[],ee=0,te=0;ee<ue.length-1;++ee)for(;te<ue[ee+1];++te)ae[te]=ee;for(;te<32768;++te)ae[te]=29;var se=W?new Uint8Array(259):[];for(ee=0,te=0;ee<re.length-1;++ee)for(;te<re[ee+1];++te)se[te]=ee;function le($e,Ae){for(var Pe=0;Pe<$e.length;){var Re=Math.min(65535,$e.length-Pe),Q=Pe+Re==$e.length;for(Ae.write_shift(1,+Q),Ae.write_shift(2,Re),Ae.write_shift(2,~Re&65535);Re-- >0;)Ae[Ae.l++]=$e[Pe++]}return Ae.l}function Oe($e,Ae){for(var Pe=0,Re=0,Q=W?new Uint16Array(32768):[];Re<$e.length;){var ye=Math.min(65535,$e.length-Re);if(ye<10){for(Pe=Ze(Ae,Pe,+(Re+ye==$e.length)),Pe&7&&(Pe+=8-(Pe&7)),Ae.l=Pe/8|0,Ae.write_shift(2,ye),Ae.write_shift(2,~ye&65535);ye-- >0;)Ae[Ae.l++]=$e[Re++];Pe=Ae.l*8;continue}Pe=Ze(Ae,Pe,+(Re+ye==$e.length)+2);for(var H=0;ye-- >0;){var ne=$e[Re];H=(H<<5^ne)&32767;var we=-1,ge=0;if((we=Q[H])&&(we|=Re&-32768,we>Re&&(we-=32768),we<Re))for(;$e[we+ge]==$e[Re+ge]&&ge<250;)++ge;if(ge>2){ne=se[ge],ne<=22?Pe=me(Ae,Pe,Z[ne+1]>>1)-1:(me(Ae,Pe,3),Pe+=5,me(Ae,Pe,Z[ne-23]>>5),Pe+=3);var Qe=ne<8?0:ne-4>>2;Qe>0&&(B(Ae,Pe,ge-re[ne]),Pe+=Qe),ne=ae[Re-we],Pe=me(Ae,Pe,Z[ne]>>3),Pe-=3;var ct=ne<4?0:ne-2>>1;ct>0&&(B(Ae,Pe,Re-we-ue[ne]),Pe+=ct);for(var wt=0;wt<ge;++wt)Q[H]=Re&32767,H=(H<<5^$e[Re])&32767,++Re;ye-=ge-1}else ne<=143?ne=ne+48:Pe=oe(Ae,Pe,1),Pe=me(Ae,Pe,Z[ne]),Q[H]=Re&32767,++Re}Pe=me(Ae,Pe,0)-1}return Ae.l=(Pe+7)/8|0,Ae.l}return function(Ae,Pe){return Ae.length<8?le(Ae,Pe):Oe(Ae,Pe)}}();function De(q){var ae=Tn(50+Math.floor(q.length*1.1)),ee=ve(q,ae);return ae.slice(0,ee)}var Me=W?new Uint16Array(32768):je(32768),Je=W?new Uint16Array(32768):je(32768),tt=W?new Uint16Array(128):je(128),bt=1,Ft=1;function ur(q,ae){var ee=ze(q,ae)+257;ae+=5;var te=ze(q,ae)+1;ae+=5;var se=Ue(q,ae)+4;ae+=4;for(var le=0,Oe=W?new Uint8Array(19):je(19),$e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ae=1,Pe=W?new Uint8Array(8):je(8),Re=W?new Uint8Array(8):je(8),Q=Oe.length,ye=0;ye<se;++ye)Oe[K[ye]]=le=Te(q,ae),Ae<le&&(Ae=le),Pe[le]++,ae+=3;var H=0;for(Pe[0]=0,ye=1;ye<=Ae;++ye)Re[ye]=H=H+Pe[ye-1]<<1;for(ye=0;ye<Q;++ye)(H=Oe[ye])!=0&&($e[ye]=Re[H]++);var ne=0;for(ye=0;ye<Q;++ye)if(ne=Oe[ye],ne!=0){H=Z[$e[ye]]>>8-ne;for(var we=(1<<7-ne)-1;we>=0;--we)tt[H|we<<ne]=ne&7|ye<<3}var ge=[];for(Ae=1;ge.length<ee+te;)switch(H=tt[Se(q,ae)],ae+=H&7,H>>>=3){case 16:for(le=3+xe(q,ae),ae+=2,H=ge[ge.length-1];le-- >0;)ge.push(H);break;case 17:for(le=3+Te(q,ae),ae+=3;le-- >0;)ge.push(0);break;case 18:for(le=11+Se(q,ae),ae+=7;le-- >0;)ge.push(0);break;default:ge.push(H),Ae<H&&(Ae=H);break}var Qe=ge.slice(0,ee),ct=ge.slice(ee);for(ye=ee;ye<286;++ye)Qe[ye]=0;for(ye=te;ye<30;++ye)ct[ye]=0;return bt=Ne(Qe,Me,286),Ft=Ne(ct,Je,30),ae}function fr(q,ae){if(q[0]==3&&!(q[1]&3))return[Ku(ae),2];for(var ee=0,te=0,se=zL(ae||1<<18),le=0,Oe=se.length>>>0,$e=0,Ae=0;!(te&1);){if(te=Te(q,ee),ee+=3,te>>>1)te>>1==1?($e=9,Ae=5):(ee=ur(q,ee),$e=bt,Ae=Ft);else{ee&7&&(ee+=8-(ee&7));var Pe=q[ee>>>3]|q[(ee>>>3)+1]<<8;if(ee+=32,Pe>0)for(!ae&&Oe<le+Pe&&(se=de(se,le+Pe),Oe=se.length);Pe-- >0;)se[le++]=q[ee>>>3],ee+=8;continue}for(;;){!ae&&Oe<le+32767&&(se=de(se,le+32767),Oe=se.length);var Re=et(q,ee,$e),Q=te>>>1==1?Ve[Re]:Me[Re];if(ee+=Q&15,Q>>>=4,!(Q>>>8&255))se[le++]=Q;else{if(Q==256)break;Q-=257;var ye=Q<8?0:Q-4>>2;ye>5&&(ye=0);var H=le+re[Q];ye>0&&(H+=et(q,ee,ye),ee+=ye),Re=et(q,ee,Ae),Q=te>>>1==1?ke[Re]:Je[Re],ee+=Q&15,Q>>>=4;var ne=Q<4?0:Q-2>>1,we=ue[Q];for(ne>0&&(we+=et(q,ee,ne),ee+=ne),!ae&&Oe<H&&(se=de(se,H+100),Oe=se.length);le<H;)se[le]=se[le-we],++le}}}return ae?[se,ee+7>>>3]:[se.slice(0,le),ee+7>>>3]}function Sn(q,ae){var ee=q.slice(q.l||0),te=fr(ee,ae);return q.l+=te[1],te[0]}function Jt(q,ae){if(q)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function rn(q,ae){var ee=q;aa(ee,0);var te=[],se=[],le={FileIndex:te,FullPaths:se};S(le,{root:ae.root});for(var Oe=ee.length-4;(ee[Oe]!=80||ee[Oe+1]!=75||ee[Oe+2]!=5||ee[Oe+3]!=6)&&Oe>=0;)--Oe;ee.l=Oe+4,ee.l+=4;var $e=ee.read_shift(2);ee.l+=6;var Ae=ee.read_shift(4);for(ee.l=Ae,Oe=0;Oe<$e;++Oe){ee.l+=20;var Pe=ee.read_shift(4),Re=ee.read_shift(4),Q=ee.read_shift(2),ye=ee.read_shift(2),H=ee.read_shift(2);ee.l+=8;var ne=ee.read_shift(4),we=l(ee.slice(ee.l+Q,ee.l+Q+ye));ee.l+=Q+ye+H;var ge=ee.l;ee.l=ne+4,Ki(ee,Pe,Re,le,we),ee.l=ge}return le}function Ki(q,ae,ee,te,se){q.l+=2;var le=q.read_shift(2),Oe=q.read_shift(2),$e=o(q);if(le&8257)throw new Error("Unsupported ZIP encryption");for(var Ae=q.read_shift(4),Pe=q.read_shift(4),Re=q.read_shift(4),Q=q.read_shift(2),ye=q.read_shift(2),H="",ne=0;ne<Q;++ne)H+=String.fromCharCode(q[q.l++]);if(ye){var we=l(q.slice(q.l,q.l+ye));(we[21589]||{}).mt&&($e=we[21589].mt),((se||{})[21589]||{}).mt&&($e=se[21589].mt)}q.l+=ye;var ge=q.slice(q.l,q.l+Pe);switch(Oe){case 8:ge=G(q,Re);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var Qe=!1;le&8&&(Ae=q.read_shift(4),Ae==134695760&&(Ae=q.read_shift(4),Qe=!0),Pe=q.read_shift(4),Re=q.read_shift(4)),Pe!=ae&&Jt(Qe,"Bad compressed size: "+ae+" != "+Pe),Re!=ee&&Jt(Qe,"Bad uncompressed size: "+ee+" != "+Re),zo(te,H,ge,{unsafe:!0,mt:$e})}function Ba(q,ae){var ee=ae||{},te=[],se=[],le=Tn(1),Oe=ee.compression?8:0,$e=0,Ae=0,Pe=0,Re=0,Q=0,ye=q.FullPaths[0],H=ye,ne=q.FileIndex[0],we=[],ge=0;for(Ae=1;Ae<q.FullPaths.length;++Ae)if(H=q.FullPaths[Ae].slice(ye.length),ne=q.FileIndex[Ae],!(!ne.size||!ne.content||H=="Sh33tJ5")){var Qe=Re,ct=Tn(H.length);for(Pe=0;Pe<H.length;++Pe)ct.write_shift(1,H.charCodeAt(Pe)&127);ct=ct.slice(0,ct.l),we[Q]=E$e.buf(ne.content,0);var wt=ne.content;Oe==8&&(wt=V(wt)),le=Tn(30),le.write_shift(4,67324752),le.write_shift(2,20),le.write_shift(2,$e),le.write_shift(2,Oe),ne.mt?s(le,ne.mt):le.write_shift(4,0),le.write_shift(-4,we[Q]),le.write_shift(4,wt.length),le.write_shift(4,ne.content.length),le.write_shift(2,ct.length),le.write_shift(2,0),Re+=le.length,te.push(le),Re+=ct.length,te.push(ct),Re+=wt.length,te.push(wt),le=Tn(46),le.write_shift(4,33639248),le.write_shift(2,0),le.write_shift(2,20),le.write_shift(2,$e),le.write_shift(2,Oe),le.write_shift(4,0),le.write_shift(-4,we[Q]),le.write_shift(4,wt.length),le.write_shift(4,ne.content.length),le.write_shift(2,ct.length),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(4,0),le.write_shift(4,Qe),ge+=le.l,se.push(le),ge+=ct.length,se.push(ct),++Q}return le=Tn(22),le.write_shift(4,101010256),le.write_shift(2,0),le.write_shift(2,0),le.write_shift(2,Q),le.write_shift(2,Q),le.write_shift(4,ge),le.write_shift(4,Re),le.write_shift(2,0),au([au(te),au(se),le])}var Jn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Gi(q,ae){if(q.ctype)return q.ctype;var ee=q.name||"",te=ee.match(/\.([^\.]+)$/);return te&&Jn[te[1]]||ae&&(te=(ee=ae).match(/[\.\\]([^\.\\])+$/),te&&Jn[te[1]])?Jn[te[1]]:"application/octet-stream"}function pi(q){for(var ae=UL(q),ee=[],te=0;te<ae.length;te+=76)ee.push(ae.slice(te,te+76));return ee.join(`\r
`)+`\r
`}function Nn(q){var ae=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var Re=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Re.length==1?"0"+Re:Re)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],te=ae.split(`\r
`),se=0;se<te.length;++se){var le=te[se];if(le.length==0){ee.push("");continue}for(var Oe=0;Oe<le.length;){var $e=76,Ae=le.slice(Oe,Oe+$e);Ae.charAt($e-1)=="="?$e--:Ae.charAt($e-2)=="="?$e-=2:Ae.charAt($e-3)=="="&&($e-=3),Ae=le.slice(Oe,Oe+$e),Oe+=$e,Oe<le.length&&(Ae+="="),ee.push(Ae)}}return ee.join(`\r
`)}function Qn(q){for(var ae=[],ee=0;ee<q.length;++ee){for(var te=q[ee];ee<=q.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+q[++ee];ae.push(te)}for(var se=0;se<ae.length;++se)ae[se]=ae[se].replace(/[=][0-9A-Fa-f]{2}/g,function(le){return String.fromCharCode(parseInt(le.slice(1),16))});return go(ae.join(`\r
`))}function Un(q,ae,ee){for(var te="",se="",le="",Oe,$e=0;$e<10;++$e){var Ae=ae[$e];if(!Ae||Ae.match(/^\s*$/))break;var Pe=Ae.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":te=Pe[2].trim();break;case"content-type":le=Pe[2].trim();break;case"content-transfer-encoding":se=Pe[2].trim();break}}switch(++$e,se.toLowerCase()){case"base64":Oe=go(di(ae.slice($e).join("")));break;case"quoted-printable":Oe=Qn(ae.slice($e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var Re=zo(q,te.slice(ee.length),Oe,{unsafe:!0});le&&(Re.ctype=le)}function hn(q,ae){if(F(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=ae&&ae.root||"",te=(Xt&&Buffer.isBuffer(q)?q.toString("binary"):F(q)).split(`\r
`),se=0,le="";for(se=0;se<te.length;++se)if(le=te[se],!!/^Content-Location:/i.test(le)&&(le=le.slice(le.indexOf("file")),ee||(ee=le.slice(0,le.lastIndexOf("/")+1)),le.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),le.slice(0,ee.length)!=ee););var Oe=(te[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var $e="--"+(Oe[1]||""),Ae=[],Pe=[],Re={FileIndex:Ae,FullPaths:Pe};S(Re);var Q,ye=0;for(se=0;se<te.length;++se){var H=te[se];H!==$e&&H!==$e+"--"||(ye++&&Un(Re,te.slice(Q,se),ee),Q=se)}return Re}function Yi(q,ae){var ee=ae||{},te=ee.boundary||"SheetJS";te="------="+te;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],le=q.FullPaths[0],Oe=le,$e=q.FileIndex[0],Ae=1;Ae<q.FullPaths.length;++Ae)if(Oe=q.FullPaths[Ae].slice(le.length),$e=q.FileIndex[Ae],!(!$e.size||!$e.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ge){return"_x"+ge.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ge){return"_u"+ge.charCodeAt(0).toString(16)+"_"});for(var Pe=$e.content,Re=Xt&&Buffer.isBuffer(Pe)?Pe.toString("binary"):F(Pe),Q=0,ye=Math.min(1024,Re.length),H=0,ne=0;ne<=ye;++ne)(H=Re.charCodeAt(ne))>=32&&H<128&&++Q;var we=Q>=ye*4/5;se.push(te),se.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+Oe),se.push("Content-Transfer-Encoding: "+(we?"quoted-printable":"base64")),se.push("Content-Type: "+Gi($e,Oe)),se.push(""),se.push(we?Nn(Re):pi(Re))}return se.push(te+`--\r
`),se.join(`\r
`)}function ud(q){var ae={};return S(ae,q),ae}function zo(q,ae,ee,te){var se=te&&te.unsafe;se||S(q);var le=!se&&Zt.find(q,ae);if(!le){var Oe=q.FullPaths[0];ae.slice(0,Oe.length)==Oe?Oe=ae:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+ae).replace("//","/")),le={name:a(ae),type:2},q.FileIndex.push(le),q.FullPaths.push(Oe),se||Zt.utils.cfb_gc(q)}return le.content=ee,le.size=ee?ee.length:0,te&&(te.CLSID&&(le.clsid=te.CLSID),te.mt&&(le.mt=te.mt),te.ct&&(le.ct=te.ct)),le}function dr(q,ae){S(q);var ee=Zt.find(q,ae);if(ee){for(var te=0;te<q.FileIndex.length;++te)if(q.FileIndex[te]==ee)return q.FileIndex.splice(te,1),q.FullPaths.splice(te,1),!0}return!1}function Dc(q,ae,ee){S(q);var te=Zt.find(q,ae);if(te){for(var se=0;se<q.FileIndex.length;++se)if(q.FileIndex[se]==te)return q.FileIndex[se].name=a(ee),q.FullPaths[se]=ee,!0}return!1}function Rc(q){C(q,!0)}return t.find=P,t.read=N,t.parse=d,t.write=X,t.writeFile=I,t.utils={cfb_new:ud,cfb_add:zo,cfb_del:dr,cfb_mov:Dc,cfb_gc:Rc,ReadShift:ug,CheckField:NG,prep_blob:aa,bconcat:au,use_zlib:O,_deflateRaw:De,_inflateRaw:Sn,consts:L},t}();function T$e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Nl(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function mO(e){for(var t=[],r=Nl(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var x_=new Date(1899,11,30,0,0,0);function ls(e,t){var r=e.getTime(),n=x_.getTime()+(e.getTimezoneOffset()-x_.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var aG=new Date,A$e=x_.getTime()+(aG.getTimezoneOffset()-x_.getTimezoneOffset())*6e4,XL=aG.getTimezoneOffset();function Ej(e){var t=new Date;return t.setTime(e*24*60*60*1e3+A$e),t.getTimezoneOffset()!==XL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-XL)*6e4),t}function P$e(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var JL=new Date("2017-02-19T19:06:09.000Z"),sG=isNaN(JL.getFullYear())?new Date("2/19/17"):JL,O$e=sG.getFullYear()==2017;function Yn(e,t){var r=new Date(e);if(O$e)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(sG.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function kf(e,t){if(Xt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return U0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return U0(HK(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return U0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return U0(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function oa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=oa(e[r]));return t}function Zr(e,t){for(var r="";r.length<t;)r+=e;return r}function Co(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var D$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function dp(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&D$e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var R$e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),o=[s[0]],l=1;l<s.length;++l)o.push(a),o.push(s[l]);return o}}();function iG(e){return e?e.content&&e.type?kf(e.content,!0):e.data?L0(e.data):e.asNodeBuffer&&Xt?L0(e.asNodeBuffer().toString("binary")):e.asBinary?L0(e.asBinary()):e._data&&e._data.getContent?L0(kf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function oG(e){if(!e)return null;if(e.data)return $L(e.data);if(e.asNodeBuffer&&Xt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?$L(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function M$e(e){return e&&e.name.slice(-4)===".bin"?oG(e):iG(e)}function ji(e,t){for(var r=e.FullPaths||Nl(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var o=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==o||a==o)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function pO(e,t){var r=ji(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function vn(e,t,r){if(!r)return M$e(pO(e,t));if(!t)return null;try{return vn(e,t)}catch{return null}}function ti(e,t,r){if(!r)return iG(pO(e,t));if(!t)return null;try{return ti(e,t)}catch{return null}}function F$e(e,t,r){return oG(pO(e,t))}function QL(e){for(var t=e.FullPaths||Nl(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function I$e(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xt?n=Bf(r):n=r$e(r),Zt.utils.cfb_add(e,t,n)}Zt.utils.cfb_add(e,t,r)}else e.file(t,r)}function lG(e,t){switch(t.type){case"base64":return Zt.read(e,{type:"base64"});case"binary":return Zt.read(e,{type:"binary"});case"buffer":case"array":return Zt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function B0(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var cG=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,L$e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ZL=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,$$e=/<[^>]*>/g,$a=cG.match(ZL)?ZL:$$e,B$e=/<\w*:/,U$e=/<(\/?)\w+:/;function Et(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var o=e.match(L$e),l=0,c="",u=0,d="",f="",h=1;if(o)for(u=0;u!=o.length;++u){for(f=o[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function Ol(e){return e.replace(U$e,"<$1")}var uG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},z$e=mO(uG),ar=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return uG[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var o=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,o)+r(a.slice(o+3))}}(),V$e=/[&<>'"]/g,W$e=/[\u0000-\u001f]/g;function gO(e){var t=e+"";return t.replace(V$e,function(r){return z$e[r]}).replace(/\n/g,"<br/>").replace(W$e,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var e5=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Lr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $2(e){for(var t="",r=0,n=0,a=0,s=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function t5(e){var t=Ku(2*e.length),r,n,a=1,s=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function r5(e){return Bf(e,"binary").toString("utf8")}var Fy="foo bar baz",Pr=Xt&&(r5(Fy)==$2(Fy)&&r5||t5(Fy)==$2(Fy)&&t5)||$2,U0=Xt?function(e){return Bf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Pv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),dG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),H$e=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),q$e=/<\/?(?:vt:)?variant>/g,K$e=/<(?:vt:)([^>]*)>([\s\S]*)</;function n5(e,t){var r=Et(e),n=e.match(H$e(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var o=s.replace(q$e,"").match(K$e);o&&a.push({v:Pr(o[2]),t:o[1]})}),a}var G$e=/(^\s|\s$|\n)/;function Y$e(e){return Nl(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function X$e(e,t,r){return"<"+e+(r!=null?Y$e(r):"")+(t!=null?(t.match(G$e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function vO(e){if(Xt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Pr(Uf(dO(e)));throw new Error("Bad input format: expected Buffer or string")}var Ov=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,J$e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Q$e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Z$e(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function e8e(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,o=n?-t:t;isFinite(o)?o==0?a=s=0:(a=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var a5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},s5=Xt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Bf(t)})):a5(e)}:a5,i5=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ec(e,a)));return n.join("").replace(os,"")},xO=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(os,""):i5(e,t,r)}:i5,o5=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},fG=Xt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):o5(e,t,r)}:o5,l5=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(hh(e,a)));return n.join("")},Px=Xt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):l5(t,r,n)}:l5,hG=function(e,t){var r=Zs(e,t);return r>0?Px(e,t+4,t+4+r-1):""},mG=hG,pG=function(e,t){var r=Zs(e,t);return r>0?Px(e,t+4,t+4+r-1):""},gG=pG,vG=function(e,t){var r=2*Zs(e,t);return r>0?Px(e,t+4,t+4+r-1):""},xG=vG,yG=function(t,r){var n=Zs(t,r);return n>0?xO(t,r+4,r+4+n):""},bG=yG,_G=function(e,t){var r=Zs(e,t);return r>0?Px(e,t+4,t+4+r):""},wG=_G,jG=function(e,t){return Z$e(e,t)},y_=jG,SG=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xt&&(mG=function(t,r){if(!Buffer.isBuffer(t))return hG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},gG=function(t,r){if(!Buffer.isBuffer(t))return pG(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},xG=function(t,r){if(!Buffer.isBuffer(t))return vG(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},bG=function(t,r){if(!Buffer.isBuffer(t))return yG(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},wG=function(t,r){if(!Buffer.isBuffer(t))return _G(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},y_=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):jG(t,r)},SG=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var hh=function(e,t){return e[t]},ec=function(e,t){return e[t+1]*256+e[t]},t8e=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Zs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Nd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},r8e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ug(e,t){var r="",n,a,s=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,Xt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ec(this,u)),u+=2;e*=2;break;case"utf8":r=Px(this,this.l,this.l+e);break;case"utf16le":e*=2,r=xO(this,this.l,this.l+e);break;case"wstr":return ug.call(this,e,"dbcs");case"lpstr-ansi":r=mG(this,this.l),e=4+Zs(this,this.l);break;case"lpstr-cp":r=gG(this,this.l),e=4+Zs(this,this.l);break;case"lpwstr":r=xG(this,this.l),e=4+2*Zs(this,this.l);break;case"lpp4":e=4+Zs(this,this.l),r=bG(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Zs(this,this.l),r=wG(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=hh(this,this.l+e++))!==0;)s.push(My(o));r=s.join("");break;case"_wstr":for(e=0,r="";(o=ec(this,this.l+e))!==0;)s.push(My(o)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=hh(this,u),this.l=u+1,l=ug.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(My(ec(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=hh(this,u),this.l=u+1,l=ug.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(My(hh(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=hh(this,this.l),this.l++,n;case 2:return n=(t==="i"?t8e:ec)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Nd:r8e)(this,this.l),this.l+=4,n):(a=Zs(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=y_(this,this.l):a=y_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=fG(this,this.l,e);break}}return this.l+=e,r}var n8e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},a8e=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},s8e=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function i8e(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)s8e(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,n8e(this,t,this.l);break;case 8:if(n=8,r==="f"){e8e(this,t,this.l);break}case 16:break;case-4:n=4,a8e(this,t,this.l);break}return this.l+=n,this}function NG(e,t){var r=fG(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function aa(e,t){e.l=t,e.read_shift=ug,e.chk=NG,e.write_shift=i8e}function Fa(e,t){e.l+=t}function Tn(e){var t=Ku(e);return aa(t,0),t}function Oc(e,t,r){if(e){var n,a,s;aa(e,e.l||0);for(var o=e.length,l=0,c=0;e.l<o;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=N_[l]||N_[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function pE(){var e=[],t=Xt?256:2048,r=function(u){var d=Tn(u);return aa(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),au(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:o,_bufs:e}}function dg(e,t,r){var n=oa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function c5(e,t,r){var n=oa(e);return n.s=dg(n.s,t.s,r),n.e=dg(n.e,t.s,r),n}function fg(e,t){if(e.cRel&&e.c<0)for(e=oa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=oa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ot(e);return!e.cRel&&e.cRel!=null&&(r=c8e(r)),!e.rRel&&e.rRel!=null&&(r=o8e(r)),r}function B2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+In(e.s.c)+":"+(e.e.cRel?"":"$")+In(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+la(e.s.r)+":"+(e.e.rRel?"":"$")+la(e.e.r):fg(e.s,t.biff)+":"+fg(e.e,t.biff)}function yO(e){return parseInt(l8e(e),10)-1}function la(e){return""+(e+1)}function o8e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function l8e(e){return e.replace(/\$(\d+)$/,"$1")}function bO(e){for(var t=u8e(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function In(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function c8e(e){return e.replace(/^([A-Z])/,"$$$1")}function u8e(e){return e.replace(/^\$([A-Z])/,"$1")}function d8e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function as(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ot(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Jp(e){var t=e.indexOf(":");return t==-1?{s:as(e),e:as(e)}:{s:as(e.slice(0,t)),e:as(e.slice(t+1))}}function tr(e,t){return typeof t>"u"||typeof t=="number"?tr(e.s,e.e):(typeof e!="string"&&(e=Ot(e)),typeof t!="string"&&(t=Ot(t)),e==t?e:e+":"+t)}function en(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function u5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ui(e.z,r?ls(t):t)}catch{}try{return e.w=Ui((e.XF||{}).numFmtId||(r?14:0),r?ls(t):t)}catch{return""+t}}function Sc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Wf[e.v]||e.v:t==null?u5(e,e.v):u5(e,t))}function cd(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function kG(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),o=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?as(n.origin):n.origin;o=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=en(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=o+f,g=l+h;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Lt[14],n.cellDates?(m.t="d",m.w=Ui(m.z,ls(m.v))):(m.t="n",m.v=ls(m.v),m.w=Ui(m.z,m.v))):m.t="s";if(a)s[p]||(s[p]=[]),s[p][g]&&s[p][g].z&&(m.z=s[p][g].z),s[p][g]=m;else{var v=Ot({c:g,r:p});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=tr(u)),s}function Qp(e,t){return kG(null,e,t)}function f8e(e){return e.read_shift(4,"i")}function Oa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function h8e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function _O(e,t){var r=e.l,n=e.read_shift(1),a=Oa(e),s=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(h8e(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}var m8e=_O;function Hi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function zf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var p8e=Oa;function wO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var g8e=Oa,gE=wO;function jO(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?y_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Nd(t,0)>>2;return r?a/100:a}function CG(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Vf=CG;function Aa(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function v8e(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=tf[a];u&&(t.rgb=Rv(u));break;case 2:t.rgb=Rv([o,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function x8e(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function EG(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function y8e(e){return EG(e,1)}function b8e(e){return EG(e,2)}var SO=2,xs=3,Iy=11,d5=12,b_=19,Ly=64,_8e=65,w8e=71,j8e=4108,S8e=4126,Wn=80,TG=81,N8e=[Wn,TG],k8e={1:{n:"CodePage",t:SO},2:{n:"Category",t:Wn},3:{n:"PresentationFormat",t:Wn},4:{n:"ByteCount",t:xs},5:{n:"LineCount",t:xs},6:{n:"ParagraphCount",t:xs},7:{n:"SlideCount",t:xs},8:{n:"NoteCount",t:xs},9:{n:"HiddenCount",t:xs},10:{n:"MultimediaClipCount",t:xs},11:{n:"ScaleCrop",t:Iy},12:{n:"HeadingPairs",t:j8e},13:{n:"TitlesOfParts",t:S8e},14:{n:"Manager",t:Wn},15:{n:"Company",t:Wn},16:{n:"LinksUpToDate",t:Iy},17:{n:"CharacterCount",t:xs},19:{n:"SharedDoc",t:Iy},22:{n:"HyperlinksChanged",t:Iy},23:{n:"AppVersion",t:xs,p:"version"},24:{n:"DigSig",t:_8e},26:{n:"ContentType",t:Wn},27:{n:"ContentStatus",t:Wn},28:{n:"Language",t:Wn},29:{n:"Version",t:Wn},255:{},2147483648:{n:"Locale",t:b_},2147483651:{n:"Behavior",t:b_},1919054434:{}},C8e={1:{n:"CodePage",t:SO},2:{n:"Title",t:Wn},3:{n:"Subject",t:Wn},4:{n:"Author",t:Wn},5:{n:"Keywords",t:Wn},6:{n:"Comments",t:Wn},7:{n:"Template",t:Wn},8:{n:"LastAuthor",t:Wn},9:{n:"RevNumber",t:Wn},10:{n:"EditTime",t:Ly},11:{n:"LastPrinted",t:Ly},12:{n:"CreatedDate",t:Ly},13:{n:"ModifiedDate",t:Ly},14:{n:"PageCount",t:xs},15:{n:"WordCount",t:xs},16:{n:"CharCount",t:xs},17:{n:"Thumbnail",t:w8e},18:{n:"Application",t:Wn},19:{n:"DocSecurity",t:xs},255:{},2147483648:{n:"Locale",t:b_},2147483651:{n:"Behavior",t:b_},1919054434:{}},f5={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},E8e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function T8e(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var A8e=T8e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tf=oa(A8e),Wf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AG={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},h5={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function P8e(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function O8e(e){var t=P8e();if(!e||!e.match)return t;var r={};if((e.match($a)||[]).forEach(function(n){var a=Et(n);switch(a[0].replace(B$e,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[h5[a.ContentType]]!==void 0&&t[h5[a.ContentType]].push(a.PartName);break}}),t.xmlns!==J$e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Lh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function vE(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function hg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match($a)||[]).forEach(function(a){var s=Et(a);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:B0(s.Target,t);r[l]=o,n[s.Id]=o}}),r["!id"]=n,r}var D8e="application/vnd.oasis.opendocument.spreadsheet";function R8e(e,t){for(var r=vO(e),n,a;n=Ov.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Et(n[0],!1),a.path=="/"&&a.type!==D8e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var mg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],M8e=function(){for(var e=new Array(mg.length),t=0;t<mg.length;++t){var r=mg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function PG(e){var t={};e=Pr(e);for(var r=0;r<mg.length;++r){var n=mg[r],a=e.match(M8e[r]);a!=null&&a.length>0&&(t[n[1]]=ar(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Yn(t[n[1]]))}return t}var F8e=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function OG(e,t,r,n){var a=[];if(typeof e=="string")a=n5(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var o=typeof t=="string"?n5(t,n).map(function(d){return d.v}):t,l=0,c=0;if(o.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=o.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=o.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=o.slice(l,l+c);break}l+=c}}function I8e(e,t,r){var n={};return t||(t={}),e=Pr(e),F8e.forEach(function(a){var s=(e.match(Pv(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=ar(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));o&&o.length>0&&(n[a[1]]=o[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&OG(n.HeadingPairs,n.TitlesOfParts,t,r),t}var L8e=/<[^>]+>[^<]*/g;function $8e(e,t){var r={},n="",a=e.match(L8e);if(a)for(var s=0;s!=a.length;++s){var o=a[s],l=Et(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=ar(l.name);break;case"</property>":n=null;break;default:if(o.indexOf("<vt:")===0){var c=o.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=ar(d);break;case"bool":r[n]=Lr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Yn(d);break;case"cy":case"error":r[n]=ar(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,u,c)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return r}var B8e={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},U2;function U8e(e,t,r){U2||(U2=mO(B8e)),t=U2[t]||t,e[t]=r}function NO(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function DG(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function RG(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function MG(e,t,r){return t===31?RG(e):DG(e,t,r)}function xE(e,t,r){return MG(e,t,r===!1?0:4)}function z8e(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return MG(e,t,0)}function V8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(os,""),e.l-a&2&&(e.l+=2)}return r}function W8e(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(os,"");return r}function H8e(e){var t=e.l,r=__(e,TG);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=__(e,xs);return[r,n]}function q8e(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(H8e(e));return r}function m5(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),o=e.read_shift(4);n[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(os,"").replace($0,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function FG(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function K8e(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function __(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==d5&&n!==t&&N8e.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===d5?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return DG(e,n,4).replace(os,"");case 31:return RG(e);case 64:return NO(e);case 65:return FG(e);case 71:return K8e(e);case 80:return xE(e,n,!s.raw).replace(os,"");case 81:return z8e(e,n).replace(os,"");case 4108:return q8e(e);case 4126:case 4127:return n==4127?V8e(e):W8e(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function p5(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0,l=0,c=-1,u={};for(o=0;o!=a;++o){var d=e.read_shift(4),f=e.read_shift(4);s[o]=[d,f+r]}s.sort(function(b,_){return b[1]-_[1]});var h={};for(o=0;o!=a;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var p=t[s[o][0]];if(h[p.n]=__(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yo(l=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(s[o][0]===1){if(l=h.CodePage=__(e,SO),yo(l),c!==-1){var g=e.l;e.l=s[c][1],u=m5(e,l),e.l=g}}else if(s[o][0]===0){if(l===0){c=o,e.l=s[o+1][1];continue}u=m5(e,l)}else{var v=u[s[o][0]],y;switch(e[e.l]){case 65:e.l+=4,y=FG(e);break;case 30:e.l+=4,y=xE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=xE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=an(e,4);break;case 64:e.l+=4,y=Yn(NO(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function g5(e,t,r){var n=e.content;if(!n)return{};aa(n,0);var a,s,o,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Zt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(o=n.read_shift(16),c=n.read_shift(4));var f=p5(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var p;try{p=p5(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[s,o],h}function Wc(e,t){return e.read_shift(t),null}function G8e(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function an(e,t){return e.read_shift(t)===1}function xn(e){return e.read_shift(2,"u")}function IG(e,t){return G8e(e,t,xn)}function Y8e(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ox(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function X8e(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),o=0,l,c={};a&&(o=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*o),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Cf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Dx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Cf(e,n,r)}function Hf(e,t,r){if(r.biff>5)return Dx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function J8e(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Q8e(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(os,"");return n&&(e.l+=24),a}function Z8e(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(os,"");return r+o}function e6e(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Q8e(e);case"0303000000000000c000000000000046":return Z8e(e);default:throw new Error("Unsupported Moniker "+r)}}function $y(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(os,""):"";return r}function t6e(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,o,l,c,u="",d,f;a&16&&(s=$y(e,r-e.l)),a&128&&(o=$y(e,r-e.l)),(a&257)===257&&(l=$y(e,r-e.l)),(a&257)===1&&(c=e6e(e,r-e.l)),a&8&&(u=$y(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=NO(e)),e.l=r;var h=o||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function LG(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function $G(e,t){var r=LG(e);return r[3]=0,r}function Dl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function r6e(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function n6e(e,t,r){return t===0?"":Hf(e,t,r)}function a6e(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,s,o]}function BG(e){var t=e.read_shift(2),r=jO(e);return[t,r]}function s6e(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ox(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Tj(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function UG(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var i6e=UG;function zG(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function o6e(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function l6e(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function pa(e){e.l+=2,e.l+=e.read_shift(2)}var c6e={0:pa,4:pa,5:pa,6:pa,7:l6e,8:pa,9:pa,10:pa,11:pa,12:pa,13:o6e,14:pa,15:pa,16:pa,17:pa,18:pa,19:pa,20:pa,21:zG};function u6e(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(c6e[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function By(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function d6e(e,t){return t===0||e.read_shift(2),1200}function f6e(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=Hf(e,0,r);return e.read_shift(t+n-e.l),a}function h6e(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function m6e(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=Ox(e,0,r);return o.length===0&&(o="Sheet1"),{pos:n,hs:a,dt:s,name:o}}function p6e(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],o=0;o!=a&&e.l<r;++o)s.push(X8e(e));return s.Count=n,s.Unique=a,s}function g6e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function v6e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function x6e(e){var t=r6e(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function y6e(e){return e.read_shift(2),e.read_shift(4)}function v5(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function b6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:o,FirstTab:l,Selected:c,TabRatio:u}}function _6e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function w6e(){}function j6e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ox(e,0,r),n}function S6e(e){var t=Dl(e);return t.isst=e.read_shift(4),t}function N6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Dl(e);r.biff==2&&e.l++;var s=Dx(e,n-e.l,r);return a.val=s,a}function k6e(e,t,r){var n=e.read_shift(2),a=Hf(e,0,r);return[n,a]}var C6e=Hf;function x5(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),o=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:o,c}}}function E6e(e){var t=e.read_shift(2),r=e.read_shift(2),n=BG(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function T6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(BG(e));if(e.l!==r)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:o,rkrec:s}}function A6e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:o,ixfe:s}}function P6e(e,t,r,n){var a={},s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=E8e[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=o&15,a.dgRight=o>>4&15,a.dgTop=o>>8&15,a.dgBottom=o>>12&15,a.icvLeft=o>>16&127,a.icvRight=o>>23&127,a.grbitDiag=o>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function O6e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=P6e(e,t,n.fStyle,r),n}function D6e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function y5(e,t,r){var n=Dl(e);(r.biff==2||t==9)&&++e.l;var a=Y8e(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function R6e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Dl(e),a=Aa(e);return n.val=a,n}var b5=n6e;function M6e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Cf(e,s),l=[];n>e.l;)l.push(Dx(e));return[s,a,o,l]}function _5(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=s6e(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var F6e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function w5(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Cf(e,o,r);a&32&&(u=F6e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:v7e(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function VG(e,t,r){if(r.biff<8)return I6e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(a6e(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function I6e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ox(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function L6e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Cf(e,n,r),o=Cf(e,a,r);return[s,o]}function $6e(e,t,r){var n=UG(e);e.l++;var a=e.read_shift(1);return t-=8,[x7e(e,t,r),a,n]}function j5(e,t,r){var n=i6e(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,p7e(e,t,r)]}function B6e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function U6e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=Hf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,o,s]}}function z6e(e,t,r){return U6e(e,t,r)}function V6e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Tj(e));return r}function W6e(e,t,r){if(r&&r.biff<8)return q6e(e,t,r);var n=zG(e),a=u6e(e,t-22,n[1]);return{cmo:n,ft:a}}var H6e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function q6e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((H6e[n]||Fa)(e,t,r)),{cmo:[a,n,s],ft:o}}function K6e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=J8e(e,6,r);var l=e.read_shift(2);e.read_shift(2),xn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Cf(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function G6e(e,t){var r=Tj(e);e.l+=16;var n=t6e(e,t-24);return[r,n]}function Y6e(e,t){e.read_shift(2);var r=Tj(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(os,""),[r,n]}function X6e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=f5[r]||r,r=e.read_shift(2),t[1]=f5[r]||r,t}function J6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($G(e));return r}function Q6e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($G(e));return r}function Z6e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function WG(e,t,r){if(!r.cellStyles)return Fa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function eBe(e,t){var r={};return t<32||(e.l+=16,r.header=Aa(e),r.footer=Aa(e),e.l+=2),r}function tBe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var rBe=Dl,nBe=IG,aBe=Dx;function sBe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function iBe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Dl(e);++e.l;var a=Hf(e,t-7,r);return n.t="str",n.val=a,n}function oBe(e){var t=Dl(e);++e.l;var r=Aa(e);return t.t="n",t.val=r,t}function lBe(e){var t=Dl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function cBe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function uBe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function dBe(e,t,r){var n=e.l+t,a=Dl(e),s=e.read_shift(2),o=Cf(e,s,r);return e.l=n,a.t="str",a.val=o,a}var fBe=[2,3,48,49,131,139,140,245],S5=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=mO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Ku(1);switch(c.type){case"base64":d=go(di(l));break;case"binary":d=go(l);break;case"buffer":case"array":d=l;break}aa(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=d.read_shift(2));var y=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),p&&(d.l+=36);for(var _=[],w={},j=Math.min(d.length,f==2?521:v-10-(m?264:0)),N=p?32:11;d.l<j&&d[d.l]!=13;)switch(w={},w.name=nu.utils.decode(b,d.slice(d.l,d.l+N)).replace(/[\u0000\r\n].*$/g,""),d.l+=N,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!p&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&_.push(w),f!=2&&(d.l+=p?13:14),w.type){case"B":(!m||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var S=0,k=0;for(u[0]=[],k=0;k!=_.length;++k)u[0][k]=_[k].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++S]=[],k=0,k=0;k!=_.length;++k){var C=d.slice(d.l,d.l+_[k].len);d.l+=_[k].len,aa(C,0);var A=nu.utils.decode(b,C);switch(_[k].type){case"C":A.trim().length&&(u[S][k]=A.replace(/\s+$/,""));break;case"D":A.length===8?u[S][k]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):u[S][k]=A;break;case"F":u[S][k]=parseFloat(A.trim());break;case"+":case"I":u[S][k]=p?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":u[S][k]=!0;break;case"N":case"F":u[S][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][k]="##MEMO##"+(p?parseInt(A.trim(),10):C.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(u[S][k]=+A||0);break;case"@":u[S][k]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[S][k]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[S][k]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][k]=-C.read_shift(-8,"f");break;case"B":if(m&&_[k].len==8){u[S][k]=C.read_shift(8,"f");break}case"G":case"P":C.l+=_[k].len;break;case"0":if(_[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[k].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=_,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Qp(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return cd(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&yo(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=pE(),f=NE(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=l["!cols"]||[],g=0,v=0,y=0,b=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var _=en(l["!ref"]),w=[],j=[],N=[];for(g=0;g<=_.e.c-_.s.c;++g){var S="",k="",C=0,A=[];for(v=0;v<m.length;++v)m[v][g]!=null&&A.push(m[v][g]);if(A.length==0||h[g]==null){w[g]="?";continue}for(v=0;v<A.length;++v){switch(typeof A[v]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=A[v]instanceof Date?"D":"C";break;default:k="C"}C=Math.max(C,String(A[v]).length),S=S&&S!=k?"C":k}C>250&&(C=250),k=((p[g]||{}).DBF||{}).type,k=="C"&&p[g].DBF.len>C&&(C=p[g].DBF.len),S=="B"&&k=="N"&&(S="N",N[g]=p[g].DBF.dec,C=p[g].DBF.len),j[g]=S=="C"||k=="N"?C:s[S]||0,b+=j[g],w[g]=S}var P=d.next(32);for(P.write_shift(4,318902576),P.write_shift(4,m.length),P.write_shift(2,296+32*y),P.write_shift(2,b),g=0;g<4;++g)P.write_shift(4,0);for(P.write_shift(4,0|(+t[VK]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var T=d.next(32),U=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),T.write_shift(4,v),T.write_shift(1,j[g]||s[w[g]]||0),T.write_shift(1,N[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),v+=j[g]||s[w[g]]||0}var z=d.next(264);for(z.write_shift(4,13),g=0;g<65;++g)z.write_shift(4,0);for(g=0;g<m.length;++g){var D=d.next(b);for(D.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(w[v]){case"L":D.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":D.write_shift(8,m[g][v]||0,"f");break;case"N":var M="0";for(typeof m[g][v]=="number"&&(M=m[g][v].toFixed(N[v]||0)),y=0;y<j[v]-M.length;++y)D.write_shift(1,32);D.write_shift(1,M,"sbcs");break;case"D":m[g][v]?(D.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),D.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),D.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):D.write_shift(8,"00000000","sbcs");break;case"C":var L=String(m[g][v]!=null?m[g][v]:"").slice(0,j[v]);for(D.write_shift(1,L,"sbcs"),y=0;y<j[v]-L.length;++y)D.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),hBe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?BL(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:BL(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(di(h),m);case"binary":return s(h,m);case"buffer":return s(Xt&&Buffer.isBuffer(h)?h.toString("binary"):Uf(h),m);case"array":return s(kf(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,b=0,_=[],w=[],j=null,N={},S=[],k=[],C=[],A=0,P;for(+m.codepage>=0&&yo(+m.codepage);y!==p.length;++y){A=0;var T=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=T.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),z=U[0],D;if(T.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&w.push(T.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,L=!1,I=!1,F=!1,X=-1,J=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":v=parseInt(U[b].slice(1))-1,L=!0;break;case"Y":for(g=parseInt(U[b].slice(1))-1,L||(v=0),P=_.length;P<=g;++P)_[P]=[];break;case"K":D=U[b].slice(1),D.charAt(0)==='"'?D=D.slice(1,D.length-1):D==="TRUE"?D=!0:D==="FALSE"?D=!1:isNaN(Co(D))?isNaN(dp(D).getDate())||(D=Yn(D)):(D=Co(D),j!==null&&Xp(j)&&(D=Ej(D))),M=!0;break;case"E":F=!0;var O=nm(U[b].slice(1),{r:g,c:v});_[g][v]=[_[g][v],O];break;case"S":I=!0,_[g][v]=[_[g][v],"S5S"];break;case"G":break;case"R":X=parseInt(U[b].slice(1))-1;break;case"C":J=parseInt(U[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}if(M&&(_[g][v]&&_[g][v].length==2?_[g][v][0]=D:_[g][v]=D,j=null),I){if(F)throw new Error("SYLK shared formula cannot have own formula");var G=X>-1&&_[X][J];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");_[g][v][1]=eY(G[1],{r:g-X,c:v-J})}break;case"F":var V=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":v=parseInt(U[b].slice(1))-1,++V;break;case"Y":for(g=parseInt(U[b].slice(1))-1,P=_.length;P<=g;++P)_[P]=[];break;case"M":A=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=w[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=U[b].slice(1).split(" "),P=parseInt(C[0],10);P<=parseInt(C[1],10);++P)A=parseInt(C[2],10),k[P-1]=A===0?{hidden:!0}:{wch:A},fp(k[P-1]);break;case"C":v=parseInt(U[b].slice(1))-1,k[v]||(k[v]={});break;case"R":g=parseInt(U[b].slice(1))-1,S[g]||(S[g]={}),A>0?(S[g].hpt=A,S[g].hpx=Mv(A)):A===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}V<1&&(j=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+T)}}return S.length>0&&(N["!rows"]=S),k.length>0&&(N["!cols"]=k),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,N]}function o(h,m){var p=a(h,m),g=p[0],v=p[1],y=Qp(g,m);return Nl(v).forEach(function(b){y[b]=v[b]}),y}function l(h,m){return cd(o(h,m),m)}function c(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Z9e(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=j_(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=S_(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*JG(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=en(h["!ref"]),y,b=Array.isArray(h),_=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&d(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var w=v.s.r;w<=v.e.r;++w)for(var j=v.s.c;j<=v.e.c;++j){var N=Ot({r:w,c:j});y=b?(h[w]||[])[j]:h[N],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,h,w,j))}return p.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),mBe=function(){function e(s,o){switch(o.type){case"base64":return t(di(s),o);case"binary":return t(s,o);case"buffer":return t(Xt&&Buffer.isBuffer(s)?s.toString("binary"):Uf(s),o);case"array":return t(kf(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],p=h[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Co(p))?isNaN(dp(p).getDate())?f[c][u]=p:f[c][u]=Yn(p):f[c][u]=Co(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(s,o){return Qp(e(s,o),o)}function n(s,o){return cd(r(s,o),o)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=en(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){o(u,-1,0,"BOT");for(var p=d.s.c;p<=d.e.c;++p){var g=Ot({r:m,c:p});if(f=h?(c[m]||[])[p]:c[g],!f){o(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?o(u,1,0,"="+f.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ui(f.z||Lt[14],ls(Yn(f.v)))),o(u,0,f.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,b=u.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),pBe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var _=as(b[1]);if(y.length<=_.r)for(p=y.length;p<=_.r;++p)y[p]||(y[p]=[]);switch(p=_.r,g=_.c,b[2]){case"t":y[p][g]=e(b[3]);break;case"v":y[p][g]=+b[3];break;case"vtf":var w=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[p][g]=!!+b[4];break;default:y[p][g]=+b[4];break}b[2]=="vtf"&&(y[p][g]=[y[p][g],w])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Qp(r(f,h),h)}function a(f,h){return cd(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=Jp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(g=Ot({r:b,c:_}),p=y?(f[b]||[])[_]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var w=ls(Yn(p.v));m[2]="vtc",m[3]="nd",m[4]=""+w,m[5]=p.w||Ui(p.z||Lt[14],w);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,o,l,o,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),Dv=function(){function e(d,f,h,m,p){p.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(Co(d))?isNaN(dp(d).getDate())?f[h][m]=d:f[h][m]=Yn(d):f[h][m]=Co(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var p=d.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,b=0;b<=g;++b)y=p[b].indexOf(" "),y==-1?y=p[b].length:y++,v=Math.max(v,y);for(b=0;b<=g;++b){m[b]=[];var _=0;for(e(p[b].slice(0,v).trim(),m,b,_,h),_=1;_<=(p[b].length-v)/10+1;++_)e(p[b].slice(v+(_-1)*10,v+_*10).trim(),m,b,_,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,p=0;m<d.length;++m)(p=d.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function s(d,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,y=0,b=0,_=0,w=0,j=m.charCodeAt(0),N=!1,S=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?k$e(h.dateNF):null;function A(){var P=d.slice(_,w),T={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)T.t="z";else if(h.raw)T.t="s",T.v=P;else if(P.trim().length===0)T.t="s",T.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(T.t="s",T.v=P.slice(2,-1).replace(/""/g,'"')):tUe(P)?(T.t="n",T.f=P.slice(1)):(T.t="s",T.v=P);else if(P=="TRUE")T.t="b",T.v=!0;else if(P=="FALSE")T.t="b",T.v=!1;else if(!isNaN(b=Co(P)))T.t="n",h.cellText!==!1&&(T.w=P),T.v=b;else if(!isNaN(dp(P).getDate())||C&&P.match(C)){T.z=h.dateNF||Lt[14];var U=0;C&&P.match(C)&&(P=C$e(P,h.dateNF,P.match(C)||[]),U=1),h.cellDates?(T.t="d",T.v=Yn(P,U)):(T.t="n",T.v=ls(Yn(P,U))),h.cellText!==!1&&(T.w=Ui(T.z,T.v instanceof Date?ls(T.v):T.v)),h.cellNF||delete T.z}else T.t="s",T.v=P;if(T.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=T):p[Ot({c:y,r:v})]=T),_=w+1,k=d.charCodeAt(_),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),S==j)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;w<d.length;++w)switch(S=d.charCodeAt(w)){case 34:k===34&&(N=!N);break;case j:case 10:case 13:if(!N&&A())break e;break}return w-_>0&&A(),p["!ref"]=tr(g),p}function o(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Qp(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:DO(d,f);switch(f.type){case"base64":h=di(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof nu<"u"?h=nu.utils.decode(f.codepage,d):h=Xt&&Buffer.isBuffer(d)?d.toString("binary"):Uf(d);break;case"array":h=kf(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=Pr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Pr(h):f.type=="binary"&&typeof nu<"u"&&f.codepage&&(h=nu.utils.decode(f.codepage,nu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?pBe.to_sheet(f.type=="string"?h:Pr(h),f):o(h,f)}function c(d,f){return cd(l(d,f),f)}function u(d){for(var f=[],h=en(d["!ref"]),m,p=Array.isArray(d),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=Ot({r:g,c:y});if(m=p?(d[g]||[])[y]:d[b],!m||m.v==null){v.push("          ");continue}for(var _=(m.w||(Sc(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function gBe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=hBe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Dv.to_workbook(e,t)}}var pg=function(){function e(O,G,V){if(O){aa(O,O.l||0);for(var K=V.Enum||X;O.l<O.length;){var re=O.read_shift(2),ue=K[re]||K[65535],_e=O.read_shift(2),W=O.l+_e,Z=ue.f&&ue.f(O,_e,V);if(O.l=W,G(Z,ue,re))return}}}function t(O,G){switch(G.type){case"base64":return r(go(di(O)),G);case"binary":return r(go(O),G);case"buffer":case"array":return r(O,G)}throw"Unsupported type "+G.type}function r(O,G){if(!O)return O;var V=G||{},K=V.dense?[]:{},re="Sheet1",ue="",_e=0,W={},Z=[],pe=[],E={s:{r:0,c:0},e:{r:0,c:0}},xe=V.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)V.Enum=X,e(O,function(Se,et,Ze){switch(Ze){case 0:V.vers=Se,Se>=4096&&(V.qpro=!0);break;case 6:E=Se;break;case 204:Se&&(ue=Se);break;case 222:ue=Se;break;case 15:case 51:V.qpro||(Se[1].v=Se[1].v.slice(1));case 13:case 14:case 16:Ze==14&&(Se[2]&112)==112&&(Se[2]&15)>1&&(Se[2]&15)<15&&(Se[1].z=V.dateNF||Lt[14],V.cellDates&&(Se[1].t="d",Se[1].v=Ej(Se[1].v))),V.qpro&&Se[3]>_e&&(K["!ref"]=tr(E),W[re]=K,Z.push(re),K=V.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},_e=Se[3],re=ue||"Sheet"+(_e+1),ue="");var oe=V.dense?(K[Se[0].r]||[])[Se[0].c]:K[Ot(Se[0])];if(oe){oe.t=Se[1].t,oe.v=Se[1].v,Se[1].z!=null&&(oe.z=Se[1].z),Se[1].f!=null&&(oe.f=Se[1].f);break}V.dense?(K[Se[0].r]||(K[Se[0].r]=[]),K[Se[0].r][Se[0].c]=Se[1]):K[Ot(Se[0])]=Se[1];break}},V);else if(O[2]==26||O[2]==14)V.Enum=J,O[2]==14&&(V.qpro=!0,O.l=0),e(O,function(Se,et,Ze){switch(Ze){case 204:re=Se;break;case 22:Se[1].v=Se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Se[3]>_e&&(K["!ref"]=tr(E),W[re]=K,Z.push(re),K=V.dense?[]:{},E={s:{r:0,c:0},e:{r:0,c:0}},_e=Se[3],re="Sheet"+(_e+1)),xe>0&&Se[0].r>=xe)break;V.dense?(K[Se[0].r]||(K[Se[0].r]=[]),K[Se[0].r][Se[0].c]=Se[1]):K[Ot(Se[0])]=Se[1],E.e.c<Se[0].c&&(E.e.c=Se[0].c),E.e.r<Se[0].r&&(E.e.r=Se[0].r);break;case 27:Se[14e3]&&(pe[Se[14e3][0]]=Se[14e3][1]);break;case 1537:pe[Se[0]]=Se[1],Se[0]==_e&&(re=Se[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(K["!ref"]=tr(E),W[ue||re]=K,Z.push(ue||re),!pe.length)return{SheetNames:Z,Sheets:W};for(var Te={},Ue=[],ze=0;ze<pe.length;++ze)W[Z[ze]]?(Ue.push(pe[ze]||Z[ze]),Te[pe[ze]]=W[pe[ze]]||W[Z[ze]]):(Ue.push(pe[ze]),Te[pe[ze]]={"!ref":"A1"});return{SheetNames:Ue,Sheets:Te}}function n(O,G){var V=G||{};if(+V.codepage>=0&&yo(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var K=pE(),re=en(O["!ref"]),ue=Array.isArray(O),_e=[];ro(K,0,s(1030)),ro(K,6,c(re));for(var W=Math.min(re.e.r,8191),Z=re.s.r;Z<=W;++Z)for(var pe=la(Z),E=re.s.c;E<=re.e.c;++E){Z===re.s.r&&(_e[E]=In(E));var xe=_e[E]+pe,Te=ue?(O[Z]||[])[E]:O[xe];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?ro(K,13,m(Z,E,Te.v)):ro(K,14,g(Z,E,Te.v));else{var Ue=Sc(Te);ro(K,15,f(Z,E,Ue.slice(0,239)))}}return ro(K,1),K.end()}function a(O,G){var V=G||{};if(+V.codepage>=0&&yo(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var K=pE();ro(K,0,o(O));for(var re=0,ue=0;re<O.SheetNames.length;++re)(O.Sheets[O.SheetNames[re]]||{})["!ref"]&&ro(K,27,F(O.SheetNames[re],ue++));var _e=0;for(re=0;re<O.SheetNames.length;++re){var W=O.Sheets[O.SheetNames[re]];if(!(!W||!W["!ref"])){for(var Z=en(W["!ref"]),pe=Array.isArray(W),E=[],xe=Math.min(Z.e.r,8191),Te=Z.s.r;Te<=xe;++Te)for(var Ue=la(Te),ze=Z.s.c;ze<=Z.e.c;++ze){Te===Z.s.r&&(E[ze]=In(ze));var Se=E[ze]+Ue,et=pe?(W[Te]||[])[ze]:W[Se];if(!(!et||et.t=="z"))if(et.t=="n")ro(K,23,A(Te,ze,_e,et.v));else{var Ze=Sc(et);ro(K,22,S(Te,ze,_e,Ze.slice(0,239)))}}++_e}}return ro(K,1),K.end()}function s(O){var G=Tn(2);return G.write_shift(2,O),G}function o(O){var G=Tn(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var V=0,K=0,re=0,ue=0;ue<O.SheetNames.length;++ue){var _e=O.SheetNames[ue],W=O.Sheets[_e];if(!(!W||!W["!ref"])){++re;var Z=Jp(W["!ref"]);V<Z.e.r&&(V=Z.e.r),K<Z.e.c&&(K=Z.e.c)}}return V>8191&&(V=8191),G.write_shift(2,V),G.write_shift(1,re),G.write_shift(1,K),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(O,G,V){var K={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&V.qpro?(K.s.c=O.read_shift(1),O.l++,K.s.r=O.read_shift(2),K.e.c=O.read_shift(1),O.l++,K.e.r=O.read_shift(2),K):(K.s.c=O.read_shift(2),K.s.r=O.read_shift(2),G==12&&V.qpro&&(O.l+=2),K.e.c=O.read_shift(2),K.e.r=O.read_shift(2),G==12&&V.qpro&&(O.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(O){var G=Tn(8);return G.write_shift(2,O.s.c),G.write_shift(2,O.s.r),G.write_shift(2,O.e.c),G.write_shift(2,O.e.r),G}function u(O,G,V){var K=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(K[0].c=O.read_shift(1),K[3]=O.read_shift(1),K[0].r=O.read_shift(2),O.l+=2):(K[2]=O.read_shift(1),K[0].c=O.read_shift(2),K[0].r=O.read_shift(2)),K}function d(O,G,V){var K=O.l+G,re=u(O,G,V);if(re[1].t="s",V.vers==20768){O.l++;var ue=O.read_shift(1);return re[1].v=O.read_shift(ue,"utf8"),re}return V.qpro&&O.l++,re[1].v=O.read_shift(K-O.l,"cstr"),re}function f(O,G,V){var K=Tn(7+V.length);K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,O),K.write_shift(1,39);for(var re=0;re<K.length;++re){var ue=V.charCodeAt(re);K.write_shift(1,ue>=128?95:ue)}return K.write_shift(1,0),K}function h(O,G,V){var K=u(O,G,V);return K[1].v=O.read_shift(2,"i"),K}function m(O,G,V){var K=Tn(7);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,O),K.write_shift(2,V,"i"),K}function p(O,G,V){var K=u(O,G,V);return K[1].v=O.read_shift(8,"f"),K}function g(O,G,V){var K=Tn(13);return K.write_shift(1,255),K.write_shift(2,G),K.write_shift(2,O),K.write_shift(8,V,"f"),K}function v(O,G,V){var K=O.l+G,re=u(O,G,V);if(re[1].v=O.read_shift(8,"f"),V.qpro)O.l=K;else{var ue=O.read_shift(2);w(O.slice(O.l,O.l+ue),re),O.l+=ue}return re}function y(O,G,V){var K=G&32768;return G&=-32769,G=(K?O:0)+(G>=8192?G-16384:G),(K?"":"$")+(V?In(G):la(G))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(O,G){aa(O,0);for(var V=[],K=0,re="",ue="",_e="",W="";O.l<O.length;){var Z=O[O.l++];switch(Z){case 0:V.push(O.read_shift(8,"f"));break;case 1:ue=y(G[0].c,O.read_shift(2),!0),re=y(G[0].r,O.read_shift(2),!1),V.push(ue+re);break;case 2:{var pe=y(G[0].c,O.read_shift(2),!0),E=y(G[0].r,O.read_shift(2),!1);ue=y(G[0].c,O.read_shift(2),!0),re=y(G[0].r,O.read_shift(2),!1),V.push(pe+E+":"+ue+re)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(O.read_shift(2));break;case 6:{for(var xe="";Z=O[O.l++];)xe+=String.fromCharCode(Z);V.push('"'+xe.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:W=V.pop(),_e=V.pop(),V.push(["AND","OR"][Z-20]+"("+_e+","+W+")");break;default:if(Z<32&&_[Z])W=V.pop(),_e=V.pop(),V.push(_e+_[Z]+W);else if(b[Z]){if(K=b[Z][1],K==69&&(K=O[O.l++]),K>V.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+V.join("|")+"|");return}var Te=V.slice(-K);V.length-=K,V.push(b[Z][0]+"("+Te.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}V.length==1?G[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(O){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=O.read_shift(2),G[3]=O[O.l++],G[0].c=O[O.l++],G}function N(O,G){var V=j(O);return V[1].t="s",V[1].v=O.read_shift(G-4,"cstr"),V}function S(O,G,V,K){var re=Tn(6+K.length);re.write_shift(2,O),re.write_shift(1,V),re.write_shift(1,G),re.write_shift(1,39);for(var ue=0;ue<K.length;++ue){var _e=K.charCodeAt(ue);re.write_shift(1,_e>=128?95:_e)}return re.write_shift(1,0),re}function k(O,G){var V=j(O);V[1].v=O.read_shift(2);var K=V[1].v>>1;if(V[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return V[1].v=K,V}function C(O,G){var V=j(O),K=O.read_shift(4),re=O.read_shift(4),ue=O.read_shift(2);if(ue==65535)return K===0&&re===3221225472?(V[1].t="e",V[1].v=15):K===0&&re===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var _e=ue&32768;return ue=(ue&32767)-16446,V[1].v=(1-_e*2)*(re*Math.pow(2,ue+32)+K*Math.pow(2,ue)),V}function A(O,G,V,K){var re=Tn(14);if(re.write_shift(2,O),re.write_shift(1,V),re.write_shift(1,G),K==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var ue=0,_e=0,W=0,Z=0;return K<0&&(ue=1,K=-K),_e=Math.log2(K)|0,K/=Math.pow(2,_e-31),Z=K>>>0,Z&2147483648||(K/=2,++_e,Z=K>>>0),K-=Z,Z|=2147483648,Z>>>=0,K*=Math.pow(2,32),W=K>>>0,re.write_shift(4,W),re.write_shift(4,Z),_e+=16383+(ue?32768:0),re.write_shift(2,_e),re}function P(O,G){var V=C(O);return O.l+=G-14,V}function T(O,G){var V=j(O),K=O.read_shift(4);return V[1].v=K>>6,V}function U(O,G){var V=j(O),K=O.read_shift(8,"f");return V[1].v=K,V}function z(O,G){var V=U(O);return O.l+=G-10,V}function D(O,G){return O[O.l+G-1]==0?O.read_shift(G,"cstr"):""}function M(O,G){var V=O[O.l++];V>G-1&&(V=G-1);for(var K="";K.length<V;)K+=String.fromCharCode(O[O.l++]);return K}function L(O,G,V){if(!(!V.qpro||G<21)){var K=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var re=O.read_shift(G-21,"cstr");return[K,re]}}function I(O,G){for(var V={},K=O.l+G;O.l<K;){var re=O.read_shift(2);if(re==14e3){for(V[re]=[0,""],V[re][0]=O.read_shift(2);O[O.l];)V[re][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return V}function F(O,G){var V=Tn(5+O.length);V.write_shift(2,14e3),V.write_shift(2,G);for(var K=0;K<O.length;++K){var re=O.charCodeAt(K);V[V.l++]=re>127?95:re}return V[V.l++]=0,V}var X={0:{n:"BOF",f:xn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:D},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:I},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:D},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:L},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function vBe(e){var t={},r=e.match($a),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Et(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=cO[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var xBe=function(){var e=Pv("t"),t=Pv("rPr");function r(s){var o=s.match(e);if(!o)return{t:"s",v:""};var l={t:"s",v:ar(o[1])},c=s.match(t);return c&&(l.s=vBe(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(o){return o.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),yBe=function(){var t=/(\r\n|\n)/g;function r(a,s,o){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),o.push("</b>")),a.i&&(s.push("<i>"),o.push("</i>")),a.strike&&(s.push("<s>"),o.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),o.push("</"+c+">")),o.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),bBe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_Be=/<(?:\w+:)?r>/,wBe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function kO(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=ar(Pr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Pr(e),r&&(n.h=gO(n.t))):e.match(_Be)&&(n.r=Pr(e),n.t=ar(Pr((e.replace(wBe,"").match(bBe)||[]).join("").replace($a,""))),r&&(n.h=yBe(xBe(n.r)))),n):{t:""}}var jBe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,SBe=/<(?:\w+:)?(?:si|sstItem)>/g,NBe=/<\/(?:\w+:)?(?:si|sstItem)>/;function kBe(e,t){var r=[],n="";if(!e)return r;var a=e.match(jBe);if(a){n=a[2].replace(SBe,"").split(NBe);for(var s=0;s!=n.length;++s){var o=kO(n[s].trim(),t);o!=null&&(r[r.length]=o)}a=Et(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function CBe(e){return[e.read_shift(4),e.read_shift(4)]}function EBe(e,t){var r=[],n=!1;return Oc(e,function(s,o,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(o.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function HG(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function oc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function TBe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=oc(e,4),t.U=oc(e,4),t.W=oc(e,4),t}function ABe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function PBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ABe(e));return t}function OBe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function DBe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=oc(e,4),t.U=oc(e,4),t.W=oc(e,4),t}function RBe(e){var t=DBe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function qG(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function KG(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function MBe(e){var t=oc(e);switch(t.Minor){case 2:return[t.Minor,FBe(e)];case 3:return[t.Minor,IBe()];case 4:return[t.Minor,LBe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function FBe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=qG(e,r),a=KG(e,e.length-e.l);return{t:"Std",h:n,v:a}}function IBe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function LBe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace($a,function(s){var o=Et(s);switch(Ol(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=o[l]});break;case"<dataIntegrity":n.encryptedHmacKey=o.encryptedHmacKey,n.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(o);break;default:throw o[0]}}),n}function $Be(e,t){var r={},n=r.EncryptionVersionInfo=oc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=qG(e,a),t-=a,r.EncryptionVerifier=KG(e,t),r}function BBe(e){var t={},r=t.EncryptionVersionInfo=oc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function UBe(e){var t=0,r,n=HG(e),a=n.length+1,s,o,l,c,u;for(r=Ku(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)o=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var GG=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(o){return(o/2|o*128)&255},a=function(o,l){return n(o^l)},s=function(o){for(var l=t[o.length-1],c=104,u=o.length-1;u>=0;--u)for(var d=o[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(o){for(var l=HG(o),c=s(l),u=l.length,d=Ku(16),f=0;f!=16;++f)d[f]=0;var h,m,p;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,p=15-l.length;p>0;)h=c>>8,d[u]=a(e[p],h),--u,--p,h=c&255,d[u]=a(l[u],h),--u,--p;return d}}(),zBe=function(e,t,r,n,a){a||(a=t),n||(n=GG(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=n[r],o=(o>>5|o<<3)&255,a[s]=o,++r;return[a,r,n]},VBe=function(e){var t=0,r=GG(e);return function(n){var a=zBe("",n,t,r);return t=a[1],a[0]}};function WBe(e,t,r,n){var a={key:xn(e),verificationBytes:xn(e)};return r.password&&(a.verifier=UBe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=VBe(r.password)),a}function HBe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=BBe(e):n.Data=$Be(e,t),n}function qBe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?HBe(e,t-2,n):WBe(e,r.biff>=8?t:t-2,r,n),n}var KBe=function(){function e(a,s){switch(s.type){case"base64":return t(di(a),s);case"binary":return t(a,s);case"buffer":return t(Xt&&Buffer.isBuffer(a)?a.toString("binary"):Uf(a),s);case"array":return t(kf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var o=s||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(d);){switch(p[0]){case"\\cell":var v=d.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(l)?l[f][g]=y:l[Ot({r:f,c:g})]=y}break}m=h.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=tr(u),l}function r(a,s){return cd(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],o=en(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var f=Ot({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Sc(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function GBe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Rv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function YBe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),o=a-s;if(o===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=o/(u>1?2-u:u),a){case t:l=((r-n)/o+6)%6;break;case r:l=(n-t)/o+2;break;case n:l=(t-r)/o+4;break}return[l/6,c,u/2]}function XBe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,o=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,o[0]+=a,o[1]+=c;break;case 1:c=a*(2-l),o[0]+=c,o[1]+=a;break;case 2:c=a*(l-2),o[1]+=a,o[2]+=c;break;case 3:c=a*(4-l),o[1]+=c,o[2]+=a;break;case 4:c=a*(l-4),o[2]+=a,o[0]+=c;break;case 5:c=a*(6-l),o[2]+=c,o[0]+=a;break}for(var u=0;u!=3;++u)o[u]=Math.round(o[u]*255);return o}function w_(e,t){if(t===0)return e;var r=YBe(GBe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Rv(XBe(r))}var YG=6,JBe=15,QBe=1,Xa=YG;function j_(e){return Math.floor((e+Math.round(128/Xa)/256)*Xa)}function S_(e){return Math.floor((e-5)/Xa*100+.5)/100}function yE(e){return Math.round((e*Xa+5)/Xa*256)/256}function z2(e){return yE(S_(j_(e)))}function CO(e){var t=Math.abs(e-z2(e)),r=Xa;if(t>.005)for(Xa=QBe;Xa<JBe;++Xa)Math.abs(e-z2(e))<=t&&(t=Math.abs(e-z2(e)),r=Xa);Xa=r}function fp(e){e.width?(e.wpx=j_(e.width),e.wch=S_(e.wpx),e.MDW=Xa):e.wpx?(e.wch=S_(e.wpx),e.width=yE(e.wch),e.MDW=Xa):typeof e.wch=="number"&&(e.width=yE(e.wch),e.wpx=j_(e.width),e.MDW=Xa),e.customWidth&&delete e.customWidth}var ZBe=96,XG=ZBe;function JG(e){return e*96/XG}function Mv(e){return e*XG/96}var e9e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function t9e(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(o){var l=Et(o);switch(Ol(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=Lr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=Lr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function r9e(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(o){var l=Et(o);switch(Ol(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function n9e(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match($a)||[]).forEach(function(o){var l=Et(o);switch(Ol(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=Pr(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?Lr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?Lr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?Lr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?Lr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?Lr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?Lr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?Lr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=cO[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=Lr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=tf[a.color.index];a.color.index==81&&(c=tf[1]),c||(c=tf[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=w_(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function a9e(e,t,r){t.NumberFmt=[];for(var n=Nl(Lt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Lt[n[a]];var s=e[0].match($a);if(s)for(a=0;a<s.length;++a){var o=Et(s[a]);switch(Ol(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=ar(Pr(o.formatCode)),c=parseInt(o.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}ef(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Uy=["numFmtId","fillId","fontId","borderId","xfId"],zy=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function s9e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match($a)||[]).forEach(function(s){var o=Et(s),l=0;switch(Ol(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=o,delete n[0],l=0;l<Uy.length;++l)n[Uy[l]]&&(n[Uy[l]]=parseInt(n[Uy[l]],10));for(l=0;l<zy.length;++l)n[zy[l]]&&(n[zy[l]]=Lr(n[zy[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};o.vertical&&(c.vertical=o.vertical),o.horizontal&&(c.horizontal=o.horizontal),o.textRotation!=null&&(c.textRotation=o.textRotation),o.indent&&(c.indent=o.indent),o.wrapText&&(c.wrapText=Lr(o.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var i9e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&a9e(f,d,u),(f=l.match(a))&&n9e(f,d,c,u),(f=l.match(n))&&r9e(f,d,c,u),(f=l.match(s))&&t9e(f,d,c,u),(f=l.match(r))&&s9e(f,d,u),d}}();function o9e(e,t){var r=e.read_shift(2),n=Oa(e);return[r,n]}function l9e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=x8e(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=v8e(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Oa(e),n}var c9e=Fa;function u9e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var d9e=Fa;function f9e(e,t,r){var n={};n.NumberFmt=[];for(var a in Lt)n.NumberFmt[a]=Lt[a];n.CellXf=[],n.Fonts=[];var s=[],o=!1;return Oc(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],ef(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=w_(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!o||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var h9e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function m9e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match($a)||[]).forEach(function(a){var s=Et(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[h9e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function p9e(){}function g9e(){}var v9e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,x9e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,y9e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function b9e(e,t,r){t.themeElements={};var n;[["clrScheme",v9e,m9e],["fontScheme",x9e,p9e],["fmtScheme",y9e,g9e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var _9e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function QG(e,t){(!e||e.length===0)&&(e=w9e());var r,n={};if(!(r=e.match(_9e)))throw new Error("themeElements not found in theme");return b9e(r[0],n,t),n.raw=e,n}function w9e(e,t){var r=[cG];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function j9e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var o;try{o=lG(s,{type:"array"})}catch{return}var l=ti(o,"theme/theme/theme1.xml",!0);if(l)return QG(l,r)}}function S9e(e){return e.read_shift(4)}function N9e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=k9e(e,4);break;case 2:t.xclrValue=LG(e);break;case 3:t.xclrValue=S9e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function k9e(e,t){return Fa(e,t)}function C9e(e,t){return Fa(e,t)}function E9e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=N9e(e);break;case 6:n[1]=C9e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function T9e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(E9e(e,r-e.l));return{ixfe:n,ext:s}}function A9e(e,t){t.forEach(function(r){switch(r[0]){}})}function P9e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Oa(e)}}function O9e(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function D9e(e){return e.l+=4,e.read_shift(4)!=0}function R9e(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],o=!1,l=2;return Oc(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!u.T){if(!o||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function M9e(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,o;return e.replace($a,function(l){var c=Et(l);switch(Ol(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(o=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function F9e(e){var t=[];if(!e)return t;var r=1;return(e.match($a)||[]).forEach(function(n){var a=Et(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function I9e(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ot(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function L9e(e,t,r){var n=[];return Oc(e,function(s,o,l){switch(l){case 63:n.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function $9e(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Oc(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function B9e(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function N5(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(o){var l=as(o.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[o.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[o.ref]=s;var c=en(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=tr(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:r};o.h&&(d.h=o.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function U9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Et(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=as(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&kO(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function z9e(e,t){var r=[],n=!1,a={},s=0;return e.replace($a,function(l,c){var u=Et(l);switch(Ol(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function V9e(e,t){var r=[],n=!1;return e.replace($a,function(s){var o=Et(s);switch(Ol(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),r}function W9e(e){var t={};t.iauthor=e.read_shift(4);var r=Vf(e);return t.rfx=r.s,t.ref=Ot(r.s),e.l+=16,t}var H9e=Oa;function q9e(e,t){var r=[],n=[],a={},s=!1;return Oc(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var K9e="application/vnd.ms-office.vbaProject";function G9e(e){var t=Zt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Zt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Zt.write(t)}function Y9e(){return{"!type":"dialog"}}function X9e(){return{"!type":"dialog"}}function J9e(){return{"!type":"macro"}}function Q9e(){return{"!type":"macro"}}var nm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,o){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+In(d)+(c?"":"$")+la(u)}return function(a,s){return t=s,a.replace(e,r)}}(),ZG=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Z9e=function(){return function(t,r){return t.replace(ZG,function(n,a,s,o,l,c){var u=bO(o)-(s?0:r.c),d=yO(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function eY(e,t){return e.replace(ZG,function(r,n,a,s,o,l){return n+(a=="$"?a+s:In(bO(s)+t.c))+(o=="$"?o+l:la(yO(l)+t.r))})}function eUe(e,t,r){var n=Jp(t),a=n.s,s=as(r),o={r:s.r-a.r,c:s.c-a.c};return eY(e,o)}function tUe(e){return e.length!=1}function k5(e){return e.replace(/_xlfn\./g,"")}function mn(e){e.l+=1}function Gu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function tY(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return rY(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),o=Gu(e),l=Gu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function rY(e){var t=Gu(e),r=Gu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function rUe(e,t,r){if(r.biff<8)return rY(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Gu(e),o=Gu(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function nY(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return nUe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Gu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function nUe(e){var t=Gu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function aUe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function sUe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return iUe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:o,rRel:l}}function iUe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function oUe(e,t,r){var n=(e[e.l++]&96)>>5,a=tY(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function lUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=tY(e,s,r);return[n,a,o]}function cUe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function uUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function dUe(e,t,r){var n=(e[e.l++]&96)>>5,a=rUe(e,t-1,r);return[n,a]}function fUe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function C5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function hUe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function mUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function pUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function gUe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function vUe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function aY(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xUe(e){return e.read_shift(2),aY(e)}function yUe(e){return e.read_shift(2),aY(e)}function bUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=nY(e,0,r);return[n,a]}function _Ue(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sUe(e,0,r);return[n,a]}function wUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=nY(e,0,r);return[n,a,s]}function jUe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[S7e[a],oY[a],n]}function SUe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:NUe(e);return[a,(s[0]===0?oY:j7e)[s[1]]]}function NUe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kUe(e,t,r){e.l+=r&&r.biff==2?3:4}function CUe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function EUe(e){return e.l++,Wf[e.read_shift(1)]}function TUe(e){return e.l++,e.read_shift(2)}function AUe(e){return e.l++,e.read_shift(1)!==0}function PUe(e){return e.l++,Aa(e)}function OUe(e,t,r){return e.l++,Ox(e,t-1,r)}function DUe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=an(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Wf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Aa(e);break;case 2:r[1]=Hf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function RUe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Vf:Tj)(e));return a}function MUe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,o=[];s!=n&&(o[s]=[]);++s)for(var l=0;l!=a;++l)o[s][l]=DUe(e,r.biff);return o}function FUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function IUe(e,t,r){if(r.biff==5)return LUe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function LUe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function $Ue(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function BUe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function UUe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zUe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var VUe=Fa,WUe=Fa,HUe=Fa;function Rx(e,t,r){return e.l+=2,[aUe(e)]}function EO(e){return e.l+=6,[]}var qUe=Rx,KUe=EO,GUe=EO,YUe=Rx;function sY(e){return e.l+=2,[xn(e),e.read_shift(2)&1]}var XUe=Rx,JUe=sY,QUe=EO,ZUe=Rx,e7e=Rx,t7e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function r7e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),o=t7e[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:s}}function n7e(e){return e.l+=2,[e.read_shift(4)]}function a7e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function s7e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function i7e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function o7e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function l7e(e){return e.l+=4,[0,0]}var E5={1:{n:"PtgExp",f:CUe},2:{n:"PtgTbl",f:HUe},3:{n:"PtgAdd",f:mn},4:{n:"PtgSub",f:mn},5:{n:"PtgMul",f:mn},6:{n:"PtgDiv",f:mn},7:{n:"PtgPower",f:mn},8:{n:"PtgConcat",f:mn},9:{n:"PtgLt",f:mn},10:{n:"PtgLe",f:mn},11:{n:"PtgEq",f:mn},12:{n:"PtgGe",f:mn},13:{n:"PtgGt",f:mn},14:{n:"PtgNe",f:mn},15:{n:"PtgIsect",f:mn},16:{n:"PtgUnion",f:mn},17:{n:"PtgRange",f:mn},18:{n:"PtgUplus",f:mn},19:{n:"PtgUminus",f:mn},20:{n:"PtgPercent",f:mn},21:{n:"PtgParen",f:mn},22:{n:"PtgMissArg",f:mn},23:{n:"PtgStr",f:OUe},26:{n:"PtgSheet",f:a7e},27:{n:"PtgEndSheet",f:s7e},28:{n:"PtgErr",f:EUe},29:{n:"PtgBool",f:AUe},30:{n:"PtgInt",f:TUe},31:{n:"PtgNum",f:PUe},32:{n:"PtgArray",f:fUe},33:{n:"PtgFunc",f:jUe},34:{n:"PtgFuncVar",f:SUe},35:{n:"PtgName",f:FUe},36:{n:"PtgRef",f:bUe},37:{n:"PtgArea",f:oUe},38:{n:"PtgMemArea",f:$Ue},39:{n:"PtgMemErr",f:VUe},40:{n:"PtgMemNoMem",f:WUe},41:{n:"PtgMemFunc",f:BUe},42:{n:"PtgRefErr",f:UUe},43:{n:"PtgAreaErr",f:cUe},44:{n:"PtgRefN",f:_Ue},45:{n:"PtgAreaN",f:dUe},46:{n:"PtgMemAreaN",f:i7e},47:{n:"PtgMemNoMemN",f:o7e},57:{n:"PtgNameX",f:IUe},58:{n:"PtgRef3d",f:wUe},59:{n:"PtgArea3d",f:lUe},60:{n:"PtgRefErr3d",f:zUe},61:{n:"PtgAreaErr3d",f:uUe},255:{}},c7e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},u7e={1:{n:"PtgElfLel",f:sY},2:{n:"PtgElfRw",f:ZUe},3:{n:"PtgElfCol",f:qUe},6:{n:"PtgElfRwV",f:e7e},7:{n:"PtgElfColV",f:YUe},10:{n:"PtgElfRadical",f:XUe},11:{n:"PtgElfRadicalS",f:QUe},13:{n:"PtgElfColS",f:KUe},15:{n:"PtgElfColSV",f:GUe},16:{n:"PtgElfRadicalLel",f:JUe},25:{n:"PtgList",f:r7e},29:{n:"PtgSxName",f:n7e},255:{}},d7e={0:{n:"PtgAttrNoop",f:l7e},1:{n:"PtgAttrSemi",f:vUe},2:{n:"PtgAttrIf",f:pUe},4:{n:"PtgAttrChoose",f:hUe},8:{n:"PtgAttrGoto",f:mUe},16:{n:"PtgAttrSum",f:kUe},32:{n:"PtgAttrBaxcel",f:C5},33:{n:"PtgAttrBaxcel",f:C5},64:{n:"PtgAttrSpace",f:xUe},65:{n:"PtgAttrSpaceSemi",f:yUe},128:{n:"PtgAttrIfError",f:gUe},255:{}};function Mx(e,t,r,n){if(n.biff<8)return Fa(e,t);for(var a=e.l+t,s=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=MUe(e,0,n),s.push(r[o][1]);break;case"PtgMemArea":r[o][2]=RUe(e,r[o][1],n),s.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),s.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&s.push(Fa(e,t)),s}function Fx(e,t,r){for(var n=e.l+t,a,s,o=[];n!=e.l;)t=n-e.l,s=e[e.l],a=E5[s]||E5[c7e[s]],(s===24||s===25)&&(a=(s===24?u7e:d7e)[e[e.l+1]]),!a||!a.f?Fa(e,t):o.push([a.n,a.f(e,t,r)]);return o}function f7e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var o=n[s];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var h7e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function m7e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function iY(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function T5(e,t,r){var n=iY(e,t,r);return n=="#REF"?n:m7e(n,r)}function Na(e,t,r,n,a){var s=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,b=e[0].length;y<b;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=Zr(" ",e[0][g][1][1]);break;case 1:v=Zr("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}u=u+v,g=-1}l.push(u+h7e[_[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=dg(_[1][1],o,a),l.push(fg(d,s));break;case"PtgRefN":d=r?dg(_[1][1],r,a):_[1][1],l.push(fg(d,s));break;case"PtgRef3d":f=_[1][1],d=dg(_[1][2],o,a),p=T5(n,f,a),l.push(p+"!"+fg(d,s));break;case"PtgFunc":case"PtgFuncVar":var w=_[1][0],j=_[1][1];w||(w=0),w&=127;var N=w==0?[]:l.slice(-w);l.length-=w,j==="User"&&(j=N.shift()),l.push(j+"("+N.join(",")+")");break;case"PtgBool":l.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(_[1]);break;case"PtgNum":l.push(String(_[1]));break;case"PtgStr":l.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(_[1]);break;case"PtgAreaN":m=c5(_[1][1],r?{s:r}:o,a),l.push(B2(m,a));break;case"PtgArea":m=c5(_[1][1],o,a),l.push(B2(m,a));break;case"PtgArea3d":f=_[1][1],m=_[1][2],p=T5(n,f,a),l.push(p+"!"+B2(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],k=S?S.Name:"SH33TJSNAME"+String(h);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var C=_[1][1];h=_[1][2];var A;if(a.biff<=5)C<0&&(C=-C),n[C]&&(A=n[C][h]);else{var P="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][h]&&n[C][h].itab>0&&(P=n.SheetNames[n[C][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])P+=n[C][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var T=(iY(n,C,a)||"").split(";;");T[h-1]?P=T[h-1]:P+="SH33TJSERRX"}l.push(P);break}A||(A={Name:"SH33TJSERRY"}),l.push(A.Name);break;case"PtgParen":var U="(",z=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:U=Zr(" ",e[0][g][1][1])+U;break;case 3:U=Zr("\r",e[0][g][1][1])+U;break;case 4:z=Zr(" ",e[0][g][1][1])+z;break;case 5:z=Zr("\r",e[0][g][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}l.push(U+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:_[1][1],r:_[1][0]};var D={c:r.c,r:r.r};if(n.sharedf[Ot(d)]){var M=n.sharedf[Ot(d)];l.push(Na(M,o,D,n,a))}else{var L=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(Na(u[1],o,D,n,a)),L=!0;break}L||l.push(_[1])}break;case"PtgArray":l.push("{"+f7e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var I=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&I.indexOf(e[0][y][0])==-1){_=e[0][g];var F=!0;switch(_[1][0]){case 4:F=!1;case 0:v=Zr(" ",_[1][1]);break;case 5:F=!1;case 1:v=Zr("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}l.push((F?v:"")+l.pop()+(F?"":v)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function p7e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Fa(e,t-2)];var l=Fx(e,o,r);return t!==o+a&&(s=Mx(e,t-o-a,l,r)),e.l=n,[l,s]}function g7e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,o=e.read_shift(a);if(o==65535)return[[],Fa(e,t-2)];var l=Fx(e,o,r);return t!==o+a&&(s=Mx(e,t-o-a,l,r)),e.l=n,[l,s]}function v7e(e,t,r,n){var a=e.l+t,s=Fx(e,n,r),o;return a!==e.l&&(o=Mx(e,a-e.l,s,r)),[s,o]}function x7e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),o=Fx(e,s,r);return s==65535?[[],Fa(e,t-2)]:(t!==s+2&&(a=Mx(e,n-s-2,o,r)),[o,a])}function y7e(e){var t;if(ec(e,e.l+6)!==65535)return[Aa(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function V2(e,t,r){var n=e.l+t,a=Dl(e);r.biff==2&&++e.l;var s=y7e(e),o=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=g7e(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function Aj(e,t,r){var n=e.read_shift(4),a=Fx(e,n,r),s=e.read_shift(4),o=s>0?Mx(e,s,a,r):null;return[a,o]}var b7e=Aj,Pj=Aj,_7e=Aj,w7e=Aj,j7e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oY={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},S7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function A5(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function W2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var gg={},am={};function vg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function lY(e,t,r,n,a,s){try{n.cellNF&&(e.z=Lt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Yn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Lt[t]==null&&ef(N$e[t]||"General",t),e.t==="e")e.w=e.w||Wf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Av(e.v);else if(e.t==="d"){var o=ls(e.v);(o|0)===o?e.w=o.toString(10):e.w=Av(o)}else{if(e.v===void 0)return"";e.w=Nf(e.v,am)}else e.t==="d"?e.w=Ui(t,ls(e.v),am):e.w=Ui(t,e.v,am)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=w_(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=w_(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function N7e(e,t){var r=en(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=tr(r))}var k7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,C7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,E7e=/<(?:\w:)?hyperlink [^>]*>/mg,T7e=/"(\w*:\w*)"/,A7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,P7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,O7e=/<(?:\w:)?pageMargins[^>]*\/>/g,cY=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,D7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,R7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function M7e(e,t,r,n,a,s,o){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(C7e);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(cY);h?TO(h[0],l,a,r):(h=u.match(D7e))&&F7e(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=u.slice(m,m+50).match(T7e);p&&N7e(l,p[1])}var g=u.match(R7e);g&&g[1]&&z7e(g[1],a);var v=[];if(t.cellStyles){var y=u.match(A7e);y&&$7e(v,y)}f&&V7e(f[1],l,t,c,s,o);var b=d.match(P7e);b&&(l["!autofilter"]=B7e(b[0]));var _=[],w=d.match(k7e);if(w)for(m=0;m!=w.length;++m)_[m]=en(w[m].slice(w[m].indexOf('"')+1));var j=d.match(E7e);j&&I7e(l,j,n);var N=d.match(O7e);if(N&&(l["!margins"]=L7e(Et(N[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=tr(c)),t.sheetRows>0&&l["!ref"]){var S=en(l["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>c.e.r&&(S.e.r=c.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>c.e.c&&(S.e.c=c.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tr(S))}return v.length>0&&(l["!cols"]=v),_.length>0&&(l["!merges"]=_),l}function TO(e,t,r,n){var a=Et(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=ar(Pr(a.codeName)))}function F7e(e,t,r,n,a){TO(e.slice(0,e.indexOf(">")),r,n,a)}function I7e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Et(Pr(t[a]),!0);if(!s.ref)return;var o=((r||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+ar(s.location))):(s.Target="#"+ar(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=en(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Ot({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function L7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function $7e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Et(t[n],!0);a.hidden&&(a.hidden=Lr(a.hidden));var s=parseInt(a.min,10)-1,o=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,CO(a.width)),fp(a);s<=o;)e[s++]=oa(a)}}function B7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var U7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function z7e(e,t){t.Views||(t.Views=[{}]),(e.match(U7e)||[]).forEach(function(r,n){var a=Et(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Lr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var V7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=Pv("v"),o=Pv("f");return function(c,u,d,f,h,m){for(var p=0,g="",v=[],y=[],b=0,_=0,w=0,j="",N,S,k=0,C=0,A,P,T=0,U=0,z=Array.isArray(m.CellXf),D,M=[],L=[],I=Array.isArray(u),F=[],X={},J=!1,O=!!d.sheetStubs,G=c.split(t),V=0,K=G.length;V!=K;++V){g=G[V].trim();var re=g.length;if(re!==0){var ue=0;e:for(p=0;p<re;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(d&&d.cellStyles){if(S=Et(g.slice(ue,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,d.sheetRows&&d.sheetRows<k)continue;X={},J=!1,S.ht&&(J=!0,X.hpt=parseFloat(S.ht),X.hpx=Mv(X.hpt)),S.hidden=="1"&&(J=!0,X.hidden=!0),S.outlineLevel!=null&&(J=!0,X.level=+S.outlineLevel),J&&(F[k-1]=X)}break;case"<":ue=p;break}if(ue>=p)break;if(S=Et(g.slice(ue,p),!0),k=S.r!=null?parseInt(S.r,10):k+1,C=-1,!(d.sheetRows&&d.sheetRows<k)){f.s.r>k-1&&(f.s.r=k-1),f.e.r<k-1&&(f.e.r=k-1),d&&d.cellStyles&&(X={},J=!1,S.ht&&(J=!0,X.hpt=parseFloat(S.ht),X.hpx=Mv(X.hpt)),S.hidden=="1"&&(J=!0,X.hidden=!0),S.outlineLevel!=null&&(J=!0,X.level=+S.outlineLevel),J&&(F[k-1]=X)),v=g.slice(p).split(e);for(var _e=0;_e!=v.length&&v[_e].trim().charAt(0)=="<";++_e);for(v=v.slice(_e),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),b=p,_=0,w=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(b=0,j=y[1],_=0;_!=j.length&&!((w=j.charCodeAt(_)-64)<1||w>26);++_)b=26*b+w;--b,C=b}else++C;for(_=0;_!=g.length&&g.charCodeAt(_)!==62;++_);if(++_,S=Et(g.slice(0,_),!0),S.r||(S.r=Ot({r:k-1,c:C})),j=g.slice(_),N={t:""},(y=j.match(s))!=null&&y[1]!==""&&(N.v=ar(y[1])),d.cellFormula){if((y=j.match(o))!=null&&y[1]!==""){if(N.f=ar(Pr(y[1])).replace(/\r\n/g,`
`),d.xlfn||(N.f=k5(N.f)),y[0].indexOf('t="array"')>-1)N.F=(j.match(a)||[])[1],N.F.indexOf(":")>-1&&M.push([en(N.F),N.F]);else if(y[0].indexOf('t="shared"')>-1){P=Et(y[0]);var W=ar(Pr(y[1]));d.xlfn||(W=k5(W)),L[parseInt(P.si,10)]=[P,W,S.r]}}else(y=j.match(/<f[^>]*\/>/))&&(P=Et(y[0]),L[P.si]&&(N.f=eUe(L[P.si][1],L[P.si][2],S.r)));var Z=as(S.r);for(_=0;_<M.length;++_)Z.r>=M[_][0].s.r&&Z.r<=M[_][0].e.r&&Z.c>=M[_][0].s.c&&Z.c<=M[_][0].e.c&&(N.F=M[_][1])}if(S.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(O)N.t="z";else continue;else N.t=S.t||"n";switch(f.s.c>C&&(f.s.c=C),f.e.c<C&&(f.e.c=C),N.t){case"n":if(N.v==""||N.v==null){if(!O)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!O)continue;N.t="z"}else A=gg[parseInt(N.v,10)],N.v=A.t,N.r=A.r,d.cellHTML&&(N.h=A.h);break;case"str":N.t="s",N.v=N.v!=null?Pr(N.v):"",d.cellHTML&&(N.h=gO(N.v));break;case"inlineStr":y=j.match(n),N.t="s",y!=null&&(A=kO(y[1]))?(N.v=A.t,d.cellHTML&&(N.h=A.h)):N.v="";break;case"b":N.v=Lr(N.v);break;case"d":d.cellDates?N.v=Yn(N.v,1):(N.v=ls(Yn(N.v,1)),N.t="n");break;case"e":(!d||d.cellText!==!1)&&(N.w=N.v),N.v=AG[N.v];break}if(T=U=0,D=null,z&&S.s!==void 0&&(D=m.CellXf[S.s],D!=null&&(D.numFmtId!=null&&(T=D.numFmtId),d.cellStyles&&D.fillId!=null&&(U=D.fillId))),lY(N,T,U,d,h,m),d.cellDates&&z&&N.t=="n"&&Xp(Lt[T])&&(N.t="d",N.v=Ej(N.v)),S.cm&&d.xlmeta){var pe=(d.xlmeta.Cell||[])[+S.cm-1];pe&&pe.type=="XLDAPR"&&(N.D=!0)}if(I){var E=as(S.r);u[E.r]||(u[E.r]=[]),u[E.r][E.c]=N}else u[S.r]=N}}}}F.length>0&&(u["!rows"]=F)}}();function W7e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var H7e=Vf;function q7e(){}function K7e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=p8e(e),r}function G7e(e){var t=Hi(e);return[t]}function Y7e(e){var t=zf(e);return[t]}function X7e(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"b"]}function J7e(e){var t=zf(e),r=e.read_shift(1);return[t,r,"b"]}function Q7e(e){var t=Hi(e),r=e.read_shift(1);return[t,r,"e"]}function Z7e(e){var t=zf(e),r=e.read_shift(1);return[t,r,"e"]}function eze(e){var t=Hi(e),r=e.read_shift(4);return[t,r,"s"]}function tze(e){var t=zf(e),r=e.read_shift(4);return[t,r,"s"]}function rze(e){var t=Hi(e),r=Aa(e);return[t,r,"n"]}function uY(e){var t=zf(e),r=Aa(e);return[t,r,"n"]}function nze(e){var t=Hi(e),r=jO(e);return[t,r,"n"]}function aze(e){var t=zf(e),r=jO(e);return[t,r,"n"]}function sze(e){var t=Hi(e),r=_O(e);return[t,r,"is"]}function ize(e){var t=Hi(e),r=Oa(e);return[t,r,"str"]}function oze(e){var t=zf(e),r=Oa(e);return[t,r,"str"]}function lze(e,t,r){var n=e.l+t,a=Hi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Pj(e,n-e.l,r);o[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return o}function cze(e,t,r){var n=e.l+t,a=Hi(e);a.r=r["!row"];var s=e.read_shift(1),o=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Pj(e,n-e.l,r);o[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return o}function uze(e,t,r){var n=e.l+t,a=Hi(e);a.r=r["!row"];var s=Aa(e),o=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Pj(e,n-e.l,r);o[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return o}function dze(e,t,r){var n=e.l+t,a=Hi(e);a.r=r["!row"];var s=Oa(e),o=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Pj(e,n-e.l,r);o[3]=Na(l,null,a,r.supbooks,r)}else e.l=n;return o}var fze=Vf;function hze(e,t){var r=e.l+t,n=Vf(e),a=wO(e),s=Oa(e),o=Oa(e),l=Oa(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return o&&(c.Tooltip=o),c}function mze(){}function pze(e,t,r){var n=e.l+t,a=CG(e),s=e.read_shift(1),o=[a];if(o[2]=s,r.cellFormula){var l=b7e(e,n-e.l,r);o[1]=l}else e.l=n;return o}function gze(e,t,r){var n=e.l+t,a=Vf(e),s=[a];if(r.cellFormula){var o=w7e(e,n-e.l,r);s[1]=o,e.l=n}else e.l=n;return s}var vze=["left","right","top","bottom","header","footer"];function xze(e){var t={};return vze.forEach(function(r){t[r]=Aa(e)}),t}function yze(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function bze(){}function _ze(){}function wze(e,t,r,n,a,s,o){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,b,_,w,j,N=[];l.biff=12,l["!row"]=0;var S=0,k=!1,C=[],A={},P=l.supbooks||a.supbooks||[[]];if(P.sharedf=A,P.arrayf=C,P.SheetNames=a.SheetNames||a.Sheets.map(function(I){return I.name}),!l.supbooks&&(l.supbooks=P,a.Names))for(var T=0;T<a.Names.length;++T)P[0][T+1]=a.Names[T];var U=[],z=[],D=!1;N_[16]={n:"BrtShortReal",f:uY};var M;if(Oc(e,function(F,X,J){if(!h)switch(J){case 148:u=F;break;case 0:m=F,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),w=la(v=m.r),l["!row"]=m.r,(F.hidden||F.hpt||F.level!=null)&&(F.hpt&&(F.hpx=Mv(F.hpt)),z[F.r]=F);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:F[2]},F[2]){case"n":p.v=F[1];break;case"s":_=gg[F[1]],p.v=_.t,p.r=_.r;break;case"b":p.v=!!F[1];break;case"e":p.v=F[1],l.cellText!==!1&&(p.w=Wf[p.v]);break;case"str":p.t="s",p.v=F[1];break;case"is":p.t="s",p.v=F[1].t;break}if((g=o.CellXf[F[0].iStyleRef])&&lY(p,g.numFmtId,null,l,s,o),y=F[0].c==-1?y+1:F[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[In(y)+w]=p,l.cellFormula){for(k=!1,S=0;S<C.length;++S){var O=C[S];m.r>=O[0].s.r&&m.r<=O[0].e.r&&y>=O[0].s.c&&y<=O[0].e.c&&(p.F=tr(O[0]),k=!0)}!k&&F.length>3&&(p.f=F[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),l.cellDates&&g&&p.t=="n"&&Xp(Lt[g.numFmtId])){var G=Id(p.v);G&&(p.t="d",p.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;p={t:"z",v:void 0},y=F[0].c==-1?y+1:F[0].c,l.dense?(c[v]||(c[v]=[]),c[v][y]=p):c[In(y)+w]=p,d.s.r>m.r&&(d.s.r=m.r),d.s.c>y&&(d.s.c=y),d.e.r<m.r&&(d.e.r=m.r),d.e.c<y&&(d.e.c=y),M&&(M.type=="XLDAPR"&&(p.D=!0),M=void 0);break;case 176:N.push(F);break;case 49:M=((l.xlmeta||{}).Cell||[])[F-1];break;case 494:var V=n["!id"][F.relId];for(V?(F.Target=V.Target,F.loc&&(F.Target+="#"+F.loc),F.Rel=V):F.relId==""&&(F.Target="#"+F.loc),v=F.rfx.s.r;v<=F.rfx.e.r;++v)for(y=F.rfx.s.c;y<=F.rfx.e.c;++y)l.dense?(c[v]||(c[v]=[]),c[v][y]||(c[v][y]={t:"z",v:void 0}),c[v][y].l=F):(b=Ot({c:y,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=F);break;case 426:if(!l.cellFormula)break;C.push(F),j=l.dense?c[v][y]:c[In(y)+w],j.f=Na(F[1],d,{r:m.r,c:y},P,l),j.F=tr(F[0]);break;case 427:if(!l.cellFormula)break;A[Ot(F[0].s)]=F[1],j=l.dense?c[v][y]:c[In(y)+w],j.f=Na(F[1],d,{r:m.r,c:y},P,l);break;case 60:if(!l.cellStyles)break;for(;F.e>=F.s;)U[F.e--]={width:F.w/256,hidden:!!(F.flags&1),level:F.level},D||(D=!0,CO(F.w/256)),fp(U[F.e+1]);break;case 161:c["!autofilter"]={ref:tr(F)};break;case 476:c["!margins"]=F;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),F.name&&(a.Sheets[r].CodeName=F.name),(F.above||F.left)&&(c["!outline"]={above:F.above,left:F.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),F.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!X.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=tr(u||d)),l.sheetRows&&c["!ref"]){var L=en(c["!ref"]);l.sheetRows<=+L.e.r&&(L.e.r=l.sheetRows-1,L.e.r>d.e.r&&(L.e.r=d.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>d.e.c&&(L.e.c=d.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),c["!fullref"]=c["!ref"],c["!ref"]=tr(L))}return N.length>0&&(c["!merges"]=N),U.length>0&&(c["!cols"]=U),z.length>0&&(c["!rows"]=z),c}function jze(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=r?+o[2]:o[2])});var a=ar((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Sze(e,t,r,n,a,s){var o=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=jze(f);d.s.r=d.s.c=0,d.e.c=l,u=In(l),h[0].forEach(function(m,p){o[u+la(p)]={t:"n",v:m,z:h[1]},c=p}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(o["!ref"]=tr(d)),o}function Nze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=e.match(cY);return l&&TO(l[0],s,a,r),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function kze(e,t){e.l+=10;var r=Oa(e);return{name:r}}function Cze(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Oc(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var dY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Eze=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Tze=[],Aze=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function P5(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Lr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function O5(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Lr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function fY(e){O5(e.WBProps,dY),O5(e.CalcPr,Aze),P5(e.WBView,Eze),P5(e.Sheets,Tze),am.date1904=Lr(e.WBProps.date1904)}var Pze="][*?/\\".split("");function Oze(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Pze.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Dze=/<\w+:workbook/;function Rze(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},o=0;if(e.replace($a,function(c,u){var d=Et(c);switch(Ol(d[0])){case"<?xml":break;case"<workbook":c.match(Dze)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":dY.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Lr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Pr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=ar(Pr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Pr(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Lr(d.hidden||"0")&&(s.Hidden=!0),o=u+c.length;break;case"</definedName>":s.Ref=ar(Pr(e.slice(o,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Q$e.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return fY(r),r}function Mze(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=gE(e),r.name=Oa(e),r}function Fze(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Oa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Ize(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Lze(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=g8e(e),o=_7e(e,0,r),l=wO(e);e.l=n;var c={Name:s,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function $ze(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],N_[16]={n:"BrtFRTArchID$",f:Ize},Oc(e,function(c,u,d){switch(d){case 156:o.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Na(c.Ptg,null,null,o,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,c]):o[0]=[d,c],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(c),o.XTI=o.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),fY(r),r.Names=s,r.supbooks=o,r}function Bze(e,t,r){return t.slice(-4)===".bin"?$ze(e,r):Rze(e,r)}function Uze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?wze(e,n,r,a,s,o,l):M7e(e,n,r,a,s,o,l)}function zze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?Cze(e,n,r,a,s):Nze(e,n,r,a,s)}function Vze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?J9e():Q9e()}function Wze(e,t,r,n,a,s,o,l){return t.slice(-4)===".bin"?Y9e():X9e()}function Hze(e,t,r,n){return t.slice(-4)===".bin"?f9e(e,r,n):i9e(e,r,n)}function qze(e,t,r){return QG(e,r)}function Kze(e,t,r){return t.slice(-4)===".bin"?EBe(e,r):kBe(e,r)}function Gze(e,t,r){return t.slice(-4)===".bin"?q9e(e,r):U9e(e,r)}function Yze(e,t,r){return t.slice(-4)===".bin"?L9e(e):F9e(e)}function Xze(e,t,r,n){return r.slice(-4)===".bin"?$9e(e,t,r,n):void 0}function Jze(e,t,r){return t.slice(-4)===".bin"?R9e(e,t,r):M9e(e,t,r)}var hY=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,mY=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function to(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(hY),s,o,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(mY),(o=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),n[l]=s[2].slice(1,s[2].length-1));return n}function Qze(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(hY),a,s,o,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(mY),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}var xg;function Zze(e,t){var r=xg[e]||ar(e);return r==="General"?Nf(t):Ui(r,t)}function eVe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Lr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Yn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ar(t)]=a}function tVe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Wf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Av(e.v):e.w=Nf(e.v):e.w=Zze(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=xg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Xp(n)){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function rVe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=e9e[n.Pattern]||n.Pattern)}e[t.ID]=t}function nVe(e,t,r,n,a,s,o,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],p=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&o&&(f=o.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Lr(e);break;case"String":n.t="s",n.r=e5(ar(e)),n.v=e.indexOf("<")>-1?ar(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Yn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=ar(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=AG[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=e5(t||e));break}if(tVe(n,d,u),u.cellFormula!==!1)if(n.Formula){var g=ar(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=nm(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=nm("RC:RC",a):n.ArrayRange&&(n.F=nm(n.ArrayRange,a),c.push([en(n.F),n.F]))}else for(p=0;p<c.length;++p)a.r>=c[p][0].s.r&&a.r<=c[p][0].e.r&&a.c>=c[p][0].s.c&&a.c<=c[p][0].e.c&&(n.F=c[p][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function aVe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function H2(e,t){var r=t||{};rG();var n=L0(vO(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Pr(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var o=oa(r);return o.type="string",Dv.to_workbook(n,o)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(et){a.indexOf("<"+et)>=0&&(s=!0)}),s)return hVe(n,r);xg={"General Number":"General","General Date":Lt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Lt[15],"Short Date":Lt[14],"Long Time":Lt[19],"Medium Time":Lt[18],"Short Time":Lt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Lt[2],Standard:Lt[4],Percent:Lt[10],Scientific:Lt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",p={},g={},v=to('<Data ss:Type="String">'),y=0,b=0,_=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},S="",k=0,C=[],A={},P={},T=0,U=[],z=[],D={},M=[],L,I=!1,F=[],X=[],J={},O=0,G=0,V={Sheets:[],WBProps:{date1904:!1}},K={};Ov.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var re="";l=Ov.exec(n);)switch(l[3]=(re=l[3]).toLowerCase()){case"data":if(re=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?nVe(n.slice(y,l.index),S,v,c[c.length-1][0]=="comment"?D:p,{c:b,r:_},j,M[b],g,F,r):(S="",v=to(l[0]),y=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(z.length>0&&(p.c=z),(!r.sheetRows||r.sheetRows>_)&&p.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][b]=p):h[In(b)+la(_)]=p),p.HRef&&(p.l={Target:ar(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(O=b+(parseInt(p.MergeAcross,10)|0),G=_+(parseInt(p.MergeDown,10)|0),C.push({s:{c:b,r:_},e:{c:O,r:G}})),!r.sheetStubs)p.MergeAcross?b=O+1:++b;else if(p.MergeAcross||p.MergeDown){for(var ue=b;ue<=O;++ue)for(var _e=_;_e<=G;++_e)(ue>b||_e>_)&&(r.dense?(h[_e]||(h[_e]=[]),h[_e][ue]={t:"z"}):h[In(ue)+la(_e)]={t:"z"});b=O+1}else++b;else p=Qze(l[0]),p.Index&&(b=+p.Index-1),b<w.s.c&&(w.s.c=b),b>w.e.c&&(w.e.c=b),l[0].slice(-2)==="/>"&&++b,z=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(_<w.s.r&&(w.s.r=_),_>w.e.r&&(w.e.r=_),l[0].slice(-2)==="/>"&&(g=to(l[0]),g.Index&&(_=+g.Index-1)),b=0,++_):(g=to(l[0]),g.Index&&(_=+g.Index-1),J={},(g.AutoFitHeight=="0"||g.Height)&&(J.hpx=parseInt(g.Height,10),J.hpt=JG(J.hpx),X[_]=J),g.Hidden=="1"&&(J.hidden=!0,X[_]=J));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(h["!ref"]=tr(w),r.sheetRows&&r.sheetRows<=w.e.r&&(h["!fullref"]=h["!ref"],w.e.r=r.sheetRows-1,h["!ref"]=tr(w))),C.length&&(h["!merges"]=C),M.length>0&&(h["!cols"]=M),X.length>0&&(h["!rows"]=X),d[m]=h}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,c.push([l[3],!1]),u=to(l[0]),m=ar(u.Name),h=r.dense?[]:{},C=[],F=[],X=[],K={name:m,Hidden:0},V.Sheets.push(K);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),M=[],I=!1}break;case"style":l[1]==="/"?rVe(j,N,r):N=to(l[0]);break;case"numberformat":N.nf=ar(to(l[0]).Format||"General"),xg[N.nf]&&(N.nf=xg[N.nf]);for(var W=0;W!=392&&Lt[W]!=N.nf;++W);if(W==392){for(W=57;W!=392;++W)if(Lt[W]==null){ef(N.nf,W);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(L=to(l[0]),L.Hidden&&(L.hidden=!0,delete L.Hidden),L.Width&&(L.wpx=parseInt(L.Width,10)),!I&&L.wpx>10){I=!0,Xa=YG;for(var Z=0;Z<M.length;++Z)M[Z]&&fp(M[Z])}I&&fp(L),M[L.Index-1||M.length]=L;for(var pe=0;pe<+L.Span;++pe)M[M.length]=oa(L);break;case"namedrange":if(l[1]==="/")break;V.Names||(V.Names=[]);var E=Et(l[0]),xe={Name:E.Name,Ref:nm(E.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(xe.Sheet=V.Sheets.length-1),V.Names.push(xe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?S+=n.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=to(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?U8e(A,re,n.slice(T,l.index)):T=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));aVe(D),z.push(D)}else c.push([l[3],!1]),u=to(l[0]),D={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Te=to(l[0]);h["!autofilter"]={ref:nm(Te.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return L5(n,r);var Ue=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ue=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ue=!1}break;case"excelworkbook":switch(l[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ue=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ue=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(T,l.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else T=l.index+l[0].length;break;case"header":h["!margins"]||vg(h["!margins"]={},"xlml"),isNaN(+Et(l[0]).Margin)||(h["!margins"].header=+Et(l[0]).Margin);break;case"footer":h["!margins"]||vg(h["!margins"]={},"xlml"),isNaN(+Et(l[0]).Margin)||(h["!margins"].footer=+Et(l[0]).Margin);break;case"pagemargins":var ze=Et(l[0]);h["!margins"]||vg(h["!margins"]={},"xlml"),isNaN(+ze.Top)||(h["!margins"].top=+ze.Top),isNaN(+ze.Left)||(h["!margins"].left=+ze.Left),isNaN(+ze.Right)||(h["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(h["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ue=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ue=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ue=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ue=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ue=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ue=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ue=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ue=!1}break;case"smarttags":break;default:Ue=!1;break}if(Ue||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?eVe(P,re,U,n.slice(T,l.index)):(U=l,T=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Se={};return!r.bookSheets&&!r.bookProps&&(Se.Sheets=d),Se.SheetNames=f,Se.Workbook=V,Se.SSF=oa(Lt),Se.Props=A,Se.Custprops=P,Se}function bE(e,t){switch(OO(t=t||{}),t.type||"base64"){case"base64":return H2(di(e),t);case"binary":case"buffer":case"file":return H2(e,t);case"array":return H2(Uf(e),t)}}function sVe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=y8e(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=b8e(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var iVe=[60,1084,2066,2165,2175];function oVe(e,t,r,n,a){var s=n,o=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}o.push(l),r.l+=s;for(var c=ec(r,r.l),u=_E[c],d=0;u!=null&&iVe.indexOf(c)>-1;)s=ec(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),o.push(l),r.l+=4+s,u=_E[c=ec(r,r.l)];var f=au(o);aa(f,0);var h=0;f.lens=[];for(var m=0;m<o.length;++m)f.lens.push(h),h+=o[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ko(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Lt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Wf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Av(e.v):e.w=Nf(e.v):e.w=Ui(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Xp(Lt[n]||String(n))){var a=Id(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Vy(e,t,r){return{v:e,ixfe:t,t:r}}function lVe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},o={},l=null,c=[],u="",d={},f,h="",m,p,g,v,y={},b=[],_,w,j=[],N=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},C=function(De){return De<8?tf[De]:De<64&&N[De-8]||tf[De]},A=function(De,Me,Je){var tt=Me.XF.data;if(!(!tt||!tt.patternType||!Je||!Je.cellStyles)){Me.s={},Me.s.patternType=tt.patternType;var bt;(bt=Rv(C(tt.icvFore)))&&(Me.s.fgColor={rgb:bt}),(bt=Rv(C(tt.icvBack)))&&(Me.s.bgColor={rgb:bt})}},P=function(De,Me,Je){if(!(J>1)&&!(Je.sheetRows&&De.r>=Je.sheetRows)){if(Je.cellStyles&&Me.XF&&Me.XF.data&&A(De,Me,Je),delete Me.ixfe,delete Me.XF,f=De,h=Ot(De),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),De.r<o.s.r&&(o.s.r=De.r),De.c<o.s.c&&(o.s.c=De.c),De.r+1>o.e.r&&(o.e.r=De.r+1),De.c+1>o.e.c&&(o.e.c=De.c+1),Je.cellFormula&&Me.f){for(var tt=0;tt<b.length;++tt)if(!(b[tt][0].s.c>De.c||b[tt][0].s.r>De.r)&&!(b[tt][0].e.c<De.c||b[tt][0].e.r<De.r)){Me.F=tr(b[tt][0]),(b[tt][0].s.c!=De.c||b[tt][0].s.r!=De.r)&&delete Me.f,Me.f&&(Me.f=""+Na(b[tt][1],o,De,F,T));break}}Je.dense?(a[De.r]||(a[De.r]=[]),a[De.r][De.c]=Me):a[h]=Me}},T={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var U,z=[],D=[],M=[],L=[],I=!1,F=[];F.SheetNames=T.snames,F.sharedf=T.sharedf,F.arrayf=T.arrayf,F.names=[],F.XTI=[];var X=0,J=0,O=0,G=[],V=[],K;T.codepage=1200,yo(1200);for(var re=!1;e.l<e.length-1;){var ue=e.l,_e=e.read_shift(2);if(_e===0&&X===10)break;var W=e.l===e.length?0:e.read_shift(2),Z=_E[_e];if(Z&&Z.f){if(t.bookSheets&&X===133&&_e!==133)break;if(X=_e,Z.r===2||Z.r==12){var pe=e.read_shift(2);if(W-=2,!T.enc&&pe!==_e&&((pe&255)<<8|pe>>8)!==_e)throw new Error("rt mismatch: "+pe+"!="+_e);Z.r==12&&(e.l+=10,W-=10)}var E={};if(_e===10?E=Z.f(e,W,T):E=oVe(_e,Z,e,W,T),J==0&&[9,521,1033,2057].indexOf(X)===-1)continue;switch(_e){case 34:r.opts.Date1904=S.WBProps.date1904=E;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=E,!t.password)throw new Error("File is password-protected");if(E.valid==null)throw new Error("Encryption scheme unsupported");if(!E.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=E;break;case 66:var xe=Number(E);switch(xe){case 21010:xe=1200;break;case 32768:xe=1e4;break;case 32769:xe=1252;break}yo(T.codepage=xe),re=!0;break;case 317:T.rrtabid=E;break;case 25:T.winlocked=E;break;case 439:r.opts.RefreshAll=E;break;case 12:r.opts.CalcCount=E;break;case 16:r.opts.CalcDelta=E;break;case 17:r.opts.CalcIter=E;break;case 13:r.opts.CalcMode=E;break;case 14:r.opts.CalcPrecision=E;break;case 95:r.opts.CalcSaveRecalc=E;break;case 15:T.CalcRefMode=E;break;case 2211:r.opts.FullCalc=E;break;case 129:E.fDialog&&(a["!type"]="dialog"),E.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),E.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:j.push(E);break;case 430:F.push([E]),F[F.length-1].XTI=[];break;case 35:case 547:F[F.length-1].push(E);break;case 24:case 536:K={Name:E.Name,Ref:Na(E.rgce,o,null,F,T)},E.itab>0&&(K.Sheet=E.itab-1),F.names.push(K),F[0]||(F[0]=[],F[0].XTI=[]),F[F.length-1].push(E),E.Name=="_xlnm._FilterDatabase"&&E.itab>0&&E.rgce&&E.rgce[0]&&E.rgce[0][0]&&E.rgce[0][0][0]=="PtgArea3d"&&(V[E.itab-1]={ref:tr(E.rgce[0][0][1][2])});break;case 22:T.ExternCount=E;break;case 23:F.length==0&&(F[0]=[],F[0].XTI=[]),F[F.length-1].XTI=F[F.length-1].XTI.concat(E),F.XTI=F.XTI.concat(E);break;case 2196:if(T.biff<8)break;K!=null&&(K.Comment=E[1]);break;case 18:a["!protect"]=E;break;case 19:E!==0&&T.WTF&&console.error("Password verifier: "+E);break;case 133:s[E.pos]=E,T.snames.push(E.name);break;case 10:{if(--J)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,a["!ref"]=tr(o),t.sheetRows&&t.sheetRows<=o.e.r){var Te=o.e.r;o.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=tr(o),o.e.r=Te}o.e.r++,o.e.c++}z.length>0&&(a["!merges"]=z),D.length>0&&(a["!objects"]=D),M.length>0&&(a["!cols"]=M),L.length>0&&(a["!rows"]=L),S.Sheets.push(k)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[_e]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[E.BIFFVer]||8),T.biffguess=E.BIFFVer==0,E.BIFFVer==0&&E.dt==4096&&(T.biff=5,re=!0,yo(T.codepage=28591)),T.biff==8&&E.BIFFVer==0&&E.dt==16&&(T.biff=2),J++)break;if(a=t.dense?[]:{},T.biff<8&&!re&&(re=!0,yo(T.codepage=t.codepage||1252)),T.biff<5||E.BIFFVer==0&&E.dt==4096){u===""&&(u="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ue={pos:e.l-W,name:u};s[Ue.pos]=Ue,T.snames.push(u)}else u=(s[ue]||{name:""}).name;E.dt==32&&(a["!type"]="chart"),E.dt==64&&(a["!type"]="macro"),z=[],D=[],T.arrayf=b=[],M=[],L=[],I=!1,k={Hidden:(s[ue]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[E.r]||[])[E.c]:a[Ot({c:E.c,r:E.r})])&&++E.c,_={ixfe:E.ixfe,XF:j[E.ixfe]||{},v:E.val,t:"n"},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t);break;case 5:case 517:_={ixfe:E.ixfe,XF:j[E.ixfe],v:E.val,t:E.t},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t);break;case 638:_={ixfe:E.ixfe,XF:j[E.ixfe],v:E.rknum,t:"n"},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t);break;case 189:for(var ze=E.c;ze<=E.C;++ze){var Se=E.rkrec[ze-E.c][0];_={ixfe:Se,XF:j[Se],v:E.rkrec[ze-E.c][1],t:"n"},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:ze,r:E.r},_,t)}break;case 6:case 518:case 1030:{if(E.val=="String"){l=E;break}if(_=Vy(E.val,E.cell.ixfe,E.tt),_.XF=j[_.ixfe],t.cellFormula){var et=E.formula;if(et&&et[0]&&et[0][0]&&et[0][0][0]=="PtgExp"){var Ze=et[0][0][1][0],oe=et[0][0][1][1],me=Ot({r:Ze,c:oe});y[me]?_.f=""+Na(E.formula,o,E.cell,F,T):_.F=((t.dense?(a[Ze]||[])[oe]:a[me])||{}).F}else _.f=""+Na(E.formula,o,E.cell,F,T)}O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P(E.cell,_,t),l=E}break;case 7:case 519:if(l)l.val=E,_=Vy(E,l.cell.ixfe,"s"),_.XF=j[_.ixfe],t.cellFormula&&(_.f=""+Na(l.formula,o,l.cell,F,T)),O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P(l.cell,_,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(E);var B=Ot(E[0].s);if(m=t.dense?(a[E[0].s.r]||[])[E[0].s.c]:a[B],t.cellFormula&&m){if(!l||!B||!m)break;m.f=""+Na(E[1],o,E[0],F,T),m.F=tr(E[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;y[Ot(l.cell)]=E[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Ot(l.cell)],(m||{}).f=""+Na(E[0],o,f,F,T)}}break;case 253:_=Vy(c[E.isst].t,E.ixfe,"s"),c[E.isst].h&&(_.h=c[E.isst].h),_.XF=j[_.ixfe],O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:E.ixfe,XF:j[E.ixfe],t:"z"},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t));break;case 190:if(t.sheetStubs)for(var de=E.c;de<=E.C;++de){var je=E.ixfe[de-E.c];_={ixfe:je,XF:j[je],t:"z"},O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:de,r:E.r},_,t)}break;case 214:case 516:case 4:_=Vy(E.val,E.ixfe,"s"),_.XF=j[_.ixfe],O>0&&(_.z=G[_.ixfe>>8&63]),Ko(_,t,r.opts.Date1904),P({c:E.c,r:E.r},_,t);break;case 0:case 512:J===1&&(o=E);break;case 252:c=E;break;case 1054:if(T.biff==4){G[O++]=E[1];for(var Ne=0;Ne<O+163&&Lt[Ne]!=E[1];++Ne);Ne>=163&&ef(E[1],O+163)}else ef(E[1],E[0]);break;case 30:{G[O++]=E;for(var Ve=0;Ve<O+163&&Lt[Ve]!=E;++Ve);Ve>=163&&ef(E,O+163)}break;case 229:z=z.concat(E);break;case 93:D[E.cmo[0]]=T.lastobj=E;break;case 438:T.lastobj.TxO=E;break;case 127:T.lastobj.ImData=E;break;case 440:for(v=E[0].s.r;v<=E[0].e.r;++v)for(g=E[0].s.c;g<=E[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Ot({c:g,r:v})],m&&(m.l=E[1]);break;case 2048:for(v=E[0].s.r;v<=E[0].e.r;++v)for(g=E[0].s.c;g<=E[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[Ot({c:g,r:v})],m&&m.l&&(m.l.Tooltip=E[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;m=t.dense?(a[E[0].r]||[])[E[0].c]:a[Ot(E[0])];var ke=D[E[2]];m||(t.dense?(a[E[0].r]||(a[E[0].r]=[]),m=a[E[0].r][E[0].c]={t:"z"}):m=a[Ot(E[0])]={t:"z"},o.e.r=Math.max(o.e.r,E[0].r),o.s.r=Math.min(o.s.r,E[0].r),o.e.c=Math.max(o.e.c,E[0].c),o.s.c=Math.min(o.s.c,E[0].c)),m.c||(m.c=[]),p={a:E[1],t:ke.TxO.t},m.c.push(p)}break;case 2173:A9e(j[E.ixfe],E.ext);break;case 125:{if(!T.cellStyles)break;for(;E.e>=E.s;)M[E.e--]={width:E.w/256,level:E.level||0,hidden:!!(E.flags&1)},I||(I=!0,CO(E.w/256)),fp(M[E.e+1])}break;case 520:{var Ce={};E.level!=null&&(L[E.r]=Ce,Ce.level=E.level),E.hidden&&(L[E.r]=Ce,Ce.hidden=!0),E.hpt&&(L[E.r]=Ce,Ce.hpt=E.hpt,Ce.hpx=Mv(E.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||vg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[_e]]=E;break;case 161:a["!margins"]||vg(a["!margins"]={}),a["!margins"].header=E.header,a["!margins"].footer=E.footer;break;case 574:E.RTL&&(S.Views[0].RTL=!0);break;case 146:N=E;break;case 2198:U=E;break;case 140:w=E;break;case 442:u?k.CodeName=E||k.name:S.WBProps.CodeName=E||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+_e.toString(16)),e.l+=W}return r.SheetNames=Nl(s).sort(function(ve,De){return Number(ve)-Number(De)}).map(function(ve){return s[ve].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&V.forEach(function(ve,De){r.Sheets[r.SheetNames[De]]["!autofilter"]=ve}),r.Strings=c,r.SSF=oa(Lt),T.enc&&(r.Encryption=T.enc),U&&(r.Themes=U),r.Metadata={},w!==void 0&&(r.Metadata.Country=w),F.names.length>0&&(S.Names=F.names),r.Workbook=S,r}var D5={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cVe(e,t,r){var n=Zt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=g5(n,k8e,D5.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var o=Zt.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var l=g5(o,C8e,D5.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(OG(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function pY(e,t){t||(t={}),OO(t),WK(),t.codepage&&uO(t.codepage);var r,n;if(e.FullPaths){if(Zt.find(e,"/encryption"))throw new Error("File is password-protected");r=Zt.find(e,"!CompObj"),n=Zt.find(e,"/Workbook")||Zt.find(e,"/Book")}else{switch(t.type){case"base64":e=go(di(e));break;case"binary":e=go(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}aa(e,0),n={content:e}}var a,s;if(r&&sVe(r),t.bookProps&&!t.bookSheets)a={};else{var o=Xt?"buffer":"array";if(n&&n.content)a=lVe(n.content,t);else if((s=Zt.find(e,"PerfectOffice_MAIN"))&&s.content)a=pg.to_workbook(s.content,(t.type=o,t));else if((s=Zt.find(e,"NativeContent_MAIN"))&&s.content)a=pg.to_workbook(s.content,(t.type=o,t));else throw(s=Zt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Zt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=G9e(e))}var l={};return e.FullPaths&&cVe(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var N_={0:{f:W7e},1:{f:G7e},2:{f:nze},3:{f:Q7e},4:{f:X7e},5:{f:rze},6:{f:ize},7:{f:eze},8:{f:dze},9:{f:uze},10:{f:lze},11:{f:cze},12:{f:Y7e},13:{f:aze},14:{f:Z7e},15:{f:J7e},16:{f:uY},17:{f:oze},18:{f:tze},19:{f:_O},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Lze},40:{},42:{},43:{f:l9e},44:{f:o9e},45:{f:c9e},46:{f:d9e},47:{f:u9e},48:{},49:{f:f8e},50:{},51:{f:O9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:WG},62:{f:sze},63:{f:I9e},64:{f:bze},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yze},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:K7e},148:{f:H7e,p:16},151:{f:mze},152:{},153:{f:Fze},154:{},155:{},156:{f:Mze},157:{},158:{},159:{T:1,f:CBe},160:{T:-1},161:{T:1,f:Vf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fze},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:P9e},336:{T:-1},337:{f:D9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:gE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:VG},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pze},427:{f:gze},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xze},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:q7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hze},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:gE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:H9e},633:{T:1},634:{T:-1},635:{T:1,f:W9e},636:{T:-1},637:{f:m8e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kze},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_ze},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_E={6:{f:V2},10:{f:Wc},12:{f:xn},13:{f:xn},14:{f:an},15:{f:an},16:{f:Aa},17:{f:an},18:{f:an},19:{f:xn},20:{f:b5},21:{f:b5},23:{f:VG},24:{f:w5},25:{f:an},26:{},27:{},28:{f:z6e},29:{},34:{f:an},35:{f:_5},38:{f:Aa},39:{f:Aa},40:{f:Aa},41:{f:Aa},42:{f:an},43:{f:an},47:{f:qBe},49:{f:j6e},51:{f:xn},60:{},61:{f:b6e},64:{f:an},65:{f:w6e},66:{f:xn},77:{},80:{},81:{},82:{},85:{f:xn},89:{},90:{},91:{},92:{f:f6e},93:{f:W6e},94:{},95:{f:an},96:{},97:{},99:{f:an},125:{f:WG},128:{f:D6e},129:{f:h6e},130:{f:xn},131:{f:an},132:{f:an},133:{f:m6e},134:{},140:{f:X6e},141:{f:xn},144:{},146:{f:Q6e},151:{},152:{},153:{},154:{},155:{},156:{f:xn},157:{},158:{},160:{f:nBe},161:{f:eBe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:T6e},190:{f:A6e},193:{f:Wc},197:{},198:{},199:{},200:{},201:{},202:{f:an},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:xn},220:{},221:{f:an},222:{},224:{f:O6e},225:{f:d6e},226:{f:Wc},227:{},229:{f:V6e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:p6e},253:{f:S6e},255:{f:g6e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:IG},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:an},353:{f:Wc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:M6e},431:{f:an},432:{},433:{},434:{},437:{},438:{f:K6e},439:{f:an},440:{f:G6e},441:{},442:{f:Dx},443:{},444:{f:xn},445:{},446:{},448:{f:Wc},449:{f:y6e,r:2},450:{f:Wc},512:{f:x5},513:{f:rBe},515:{f:R6e},516:{f:N6e},517:{f:y5},519:{f:aBe},520:{f:v6e},523:{},545:{f:j5},549:{f:v5},566:{},574:{f:_6e},638:{f:E6e},659:{},1048:{},1054:{f:k6e},1084:{},1212:{f:$6e},2048:{f:Y6e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:By},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Z6e,r:12},2173:{f:T9e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:an,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:L6e,r:12},2197:{},2198:{f:j9e,r:12},2199:{},2200:{},2201:{},2202:{f:B6e,r:12},2203:{f:Wc},2204:{},2205:{},2206:{},2207:{},2211:{f:x6e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:xn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:tBe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:J6e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:x5},1:{},2:{f:lBe},3:{f:oBe},4:{f:iBe},5:{f:y5},7:{f:cBe},8:{},9:{f:By},11:{},22:{f:xn},30:{f:C6e},31:{},32:{},33:{f:j5},36:{},37:{f:v5},50:{f:uBe},62:{},52:{},67:{},68:{f:xn},69:{},86:{},126:{},127:{f:sBe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:dBe},223:{},234:{},354:{},421:{},518:{f:V2},521:{f:By},536:{f:w5},547:{f:_5},561:{},579:{},1030:{f:V2},1033:{f:By},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ro(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,s),s>0&&SG(r)&&e.push(r)}}function R5(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=a.index,l=s&&s.index||e.length,c=R$e(e.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(o=0;o<c.length;++o){var g=c[o].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(l=0;l<y.length;++l){var b=y[l].trim();if(b.match(/<t[dh]/i)){for(var _=b,w=0;_.charAt(0)=="<"&&(w=_.indexOf(">"))>-1;)_=_.slice(w+1);for(var j=0;j<p.length;++j){var N=p[j];N.s.c==d&&N.s.r<u&&u<=N.e.r&&(d=N.e.c+1,j=-1)}var S=Et(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&p.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var k=S.t||S["data-t"]||"";if(!_.length){d+=h;continue}if(_=dG(_),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!_.length){d+=h;continue}var C={t:"s",v:_};r.raw||!_.trim().length||k=="s"||(_==="TRUE"?C={t:"b",v:!0}:_==="FALSE"?C={t:"b",v:!1}:isNaN(Co(_))?isNaN(dp(_).getDate())||(C={t:"d",v:Yn(_)},r.cellDates||(C={t:"n",v:ls(C.v)}),C.z=r.dateNF||Lt[14]):C={t:"n",v:Co(_)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=C):n[Ot({r:u,c:d})]=C,d+=h}}}}return n["!ref"]=tr(m),p.length&&(n["!merges"]=p),n}function uVe(e,t,r,n){for(var a=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Ot({r,c:o}),f=n.dense?(e[r]||[])[o]:e[d],h=f&&f.v!=null&&(f.h||gO(f.w||(Sc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(X$e("td",h,m))}}var p="<tr>";return p+s.join("")+"</tr>"}var dVe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fVe="</body></html>";function hVe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return cd(R5(r[0],t),t);var n=RO();return r.forEach(function(a,s){MO(n,R5(a,t),"Sheet"+(s+1))}),n}function mVe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function pVe(e,t){var r=t||{},n=r.header!=null?r.header:dVe,a=r.footer!=null?r.footer:fVe,s=[n],o=Jp(e["!ref"]);r.dense=Array.isArray(e),s.push(mVe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)s.push(uVe(e,o,l,r));return s.push("</table>"+a),s.join("")}function gY(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?as(n.origin):n.origin;a=o.r,s=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=Jp(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);p<l.length&&g<c;++p){var w=l[p];if(M5(w)){if(n.display)continue;m[g]={hidden:!0}}var j=w.children;for(v=y=0;v<j.length;++v){var N=j[v];if(!(n.display&&M5(N))){var S=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):dG(N.innerHTML),k=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var C=f[h];C.s.c==y+s&&C.s.r<g+a&&g+a<=C.e.r&&(y=C.e.c+1-s,h=-1)}_=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:g+a,c:y+s},e:{r:g+a+(b||1)-1,c:y+s+(_||1)-1}});var A={t:"s",v:S},P=N.getAttribute("data-t")||N.getAttribute("t")||"";S!=null&&(S.length==0?A.t=P||"z":n.raw||S.trim().length==0||P=="s"||(S==="TRUE"?A={t:"b",v:!0}:S==="FALSE"?A={t:"b",v:!1}:isNaN(Co(S))?isNaN(dp(S).getDate())||(A={t:"d",v:Yn(S)},n.cellDates||(A={t:"n",v:ls(A.v)}),A.z=n.dateNF||Lt[14]):A={t:"n",v:Co(S)})),A.z===void 0&&k!=null&&(A.z=k);var T="",U=N.getElementsByTagName("A");if(U&&U.length)for(var z=0;z<U.length&&!(U[z].hasAttribute("href")&&(T=U[z].getAttribute("href"),T.charAt(0)!="#"));++z);T&&T.charAt(0)!="#"&&(A.l={Target:T}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+s]=A):e[Ot({c:y+s,r:g+a})]=A,u.e.c<y+s&&(u.e.c=y+s),y+=_}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),e["!ref"]=tr(u),g>=c&&(e["!fullref"]=tr((u.e.r=l.length-p+g-1+a,u))),e}function vY(e,t){var r=t||{},n=r.dense?[]:{};return gY(n,e,t)}function gVe(e,t){return cd(vY(e,t),t)}function M5(e){var t="",r=vVe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function vVe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xVe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ar(t.replace(/<[^>]*>/g,""));return[r]}var F5={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function xY(e,t){var r=t||{},n=vO(e),a=[],s,o,l={name:""},c="",u=0,d,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},b="",_=0,w=[],j=-1,N=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,C={},A=[],P={},T=0,U=0,z=[],D=1,M=1,L=[],I={Names:[]},F={},X=["",""],J=[],O={},G="",V=0,K=!1,re=!1,ue=0;for(Ov.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=Ov.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?p["!ref"]=tr(S):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=r.sheetRows-1,p["!ref"]=tr(S)),A.length&&(p["!merges"]=A),z.length&&(p["!rows"]=z),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=p,re=!1):g[0].charAt(g[0].length-2)!=="/"&&(d=Et(g[0],!1),j=N=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,p=r.dense?[]:{},A=[],z=[],re=!0);break;case"table-row-group":g[1]==="/"?--k:++k;break;case"table-row":case"":if(g[1]==="/"){j+=D,D=1;break}if(f=Et(g[0],!1),f.?j=f.-1:j==-1&&(j=0),D=+f["number-rows-repeated"]||1,D<10)for(ue=0;ue<D;++ue)k>0&&(z[j+ue]={level:k});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(p[j]||(p[j]=[]),p[j][N]={t:"z"}):p[Ot({r:j,c:N})]={t:"z"}),b="",w=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,y=Et(g[0],!1),M=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=A5(ar(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=ar(y["string-value"]||""),r.dense?(p[j]||(p[j]=[]),p[j][N]=v):p[Ot({r:j,c:N})]=v),N+=M-1;else if(g[1]!=="/"){++N,b="",_=0,w=[],M=1;var _e=D?j+D-1:j;if(N>S.e.c&&(S.e.c=N),N<S.s.c&&(S.s.c=N),j<S.s.r&&(S.s.r=j),_e>S.e.r&&(S.e.r=_e),y=Et(g[0],!1),J=[],O={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=ar(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(T=parseInt(y["number-matrix-rows-spanned"],10)||0,U=parseInt(y["number-matrix-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+U-1}},v.F=tr(P),L.push([P,v.F])),y.formula)v.f=A5(y.formula);else for(ue=0;ue<L.length;++ue)j>=L[ue][0].s.r&&j<=L[ue][0].e.r&&N>=L[ue][0].s.c&&N<=L[ue][0].e.c&&(v.F=L[ue][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(T=parseInt(y["number-rows-spanned"],10)||0,U=parseInt(y["number-columns-spanned"],10)||0,P={s:{r:j,c:N},e:{r:j+T-1,c:N+U-1}},A.push(P)),y["number-columns-repeated"]&&(M=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Lr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Yn(y["date-value"]),r.cellDates||(v.t="n",v.v=ls(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=P$e(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=Ej(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=ar(y["string-value"]),w=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=b||"",w.length&&(v.R=w),K=_==0),F.Target&&(v.l=F),J.length>0&&(v.c=J,J=[]),b&&r.cellText!==!1&&(v.w=b),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var W=0;W<D;++W){if(M=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[j+W]||(p[j+W]=[]),p[j+W][N]=W==0?v:oa(v);--M>0;)p[j+W][N+M]=oa(v);else for(p[Ot({r:j+W,c:N})]=v;--M>0;)p[Ot({r:j+W,c:N+M})]=oa(v);S.e.c<=N&&(S.e.c=N)}M=parseInt(y["number-columns-repeated"]||"1",10),N+=M-1,M=0,v={},b="",w=[]}F={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s;O.t=b,w.length&&(O.R=w),O.a=G,J.push(O)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);G="",V=0,b="",_=0,w=[];break;case"creator":g[1]==="/"?G=n.slice(V,g.index):V=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);b="",_=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(C[l.name]=c,(s=a.pop())[0]!==g[3])throw"Bad state: "+s}else g[0].charAt(g[0].length-2)!=="/"&&(c="",l=Et(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Et(g[0],!1),c+=F5[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":o=Et(g[0],!1),c+=F5[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":o=Et(g[0],!1),X=W2(o["cell-range-address"]);var Z={Name:o.name,Ref:X[0]+"!"+X[1]};re&&(Z.Sheet=m.length),I.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var pe=xVe(n.slice(_,g.index));b=(b.length>0?b+`
`:"")+pe[0]}else Et(g[0],!1),_=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{X=W2(Et(g[0])["target-range-address"]),h[X[0]]["!autofilter"]={ref:X[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(F=Et(g[0],!1),!F.href)break;F.Target=ar(F.href),delete F.href,F.Target.charAt(0)=="#"&&F.Target.indexOf(".")>-1?(X=W2(F.Target.slice(1)),F.Target="#"+X[0]+"!"+X[1]):F.Target.match(/^\.\.[\\\/]/)&&(F.Target=F.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var E={Sheets:h,SheetNames:m,Workbook:I};return r.bookSheets&&delete E.Sheets,E}function I5(e,t){t=t||{},ji(e,"META-INF/manifest.xml")&&R8e(vn(e,"META-INF/manifest.xml"),t);var r=ti(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=xY(Pr(r),t);return ji(e,"meta.xml")&&(n.Props=PG(vn(e,"meta.xml"))),n}function L5(e,t){return xY(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function AO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Pr(Uf(e))}function jE(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function $5(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function yVe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Fv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $n(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Pa(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Fv(e,r),s=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Fv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function PO(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function bVe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Fv(e,n),s=Pa(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:$n(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Pa(l.data),u=$n(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(o.merge=$n(s[3][0].data)>>>0>0),r.push(o)}return r}function _Ve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Fv(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[jE(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=jE(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function wVe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_Ve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return jE(t)}function jVe(e,t,r,n){var a=AO(e),s=a.getUint32(4,!0),o=(n>1?12:8)+$5(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(o,!0),o+=4),o+=$5(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(o,!0),o+=4),s&32&&(u=a.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(o,!0)*1e3),o+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function SVe(e,t,r){var n=AO(e),a=n.getUint32(8,!0),s=12,o=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=yVe(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(o=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function NVe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return jVe(e,t,r,e[0]);case 5:return SVe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function $u(e){var t=Pa(e);return Fv(t[1][0].data)}function B5(e,t){var r=Pa(t.data),n=$n(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(o){var l=Pa(o.data),c=$n(l[1][0].data)>>>0;switch(n){case 1:s[c]=wE(l[3][0].data);break;case 8:{var u=e[$u(l[9][0].data)][0],d=Pa(u.data),f=e[$u(d[1][0].data)][0],h=$n(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Pa(f.data);s[c]=m[3].map(function(p){return wE(p.data)}).join("")}break}}),s}function kVe(e,t){var r,n,a,s,o,l,c,u,d,f,h,m,p,g,v=Pa(e),y=$n(v[1][0].data)>>>0,b=$n(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&$n(v[8][0].data)>0||!1,w,j;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)w=(l=(o=v[7])==null?void 0:o[0])==null?void 0:l.data,j=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)w=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,j=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=_?4:1,S=AO(w),k=[],C=0;C<w.length/2;++C){var A=S.getUint16(C*2,!0);A<65535&&k.push([C,A])}if(k.length!=b)throw"Expected ".concat(b," cells, found ").concat(k.length);var P=[];for(C=0;C<k.length-1;++C)P[k[C][0]]=j.subarray(k[C][1]*N,k[C+1][1]*N);return k.length>=1&&(P[k[k.length-1][0]]=j.subarray(k[k.length-1][1]*N)),{R:y,cells:P}}function CVe(e,t){var r,n=Pa(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?$n(n[7][0].data)>>>0>0?1:0:-1,s=PO(n[5],function(o){return kVe(o,a)});return{nrows:$n(n[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(c,u){if(o[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));o[l.R][u]=c}),o},[])}}function EVe(e,t,r){var n,a=Pa(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=($n(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=($n(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=tr(s);var o=Pa(a[4][0].data),l=B5(e,e[$u(o[4][0].data)][0]),c=(n=o[17])!=null&&n[0]?B5(e,e[$u(o[17][0].data)][0]):[],u=Pa(o[3][0].data),d=0;u[1].forEach(function(f){var h=Pa(f.data),m=e[$u(h[2][0].data)][0],p=$n(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=CVe(e,m);g.data.forEach(function(v,y){v.forEach(function(b,_){var w=Ot({r:d+y,c:_}),j=NVe(b,l,c);j&&(r[w]=j)})}),d+=g.nrows})}function TVe(e,t){var r=Pa(t.data),n={"!ref":"A1"},a=e[$u(r[2][0].data)],s=$n(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return EVe(e,a[0],n),n}function AVe(e,t){var r,n=Pa(t.data),a={name:(r=n[1])!=null&&r[0]?wE(n[1][0].data):"",sheets:[]},s=PO(n[2],$u);return s.forEach(function(o){e[o].forEach(function(l){var c=$n(l.meta[1][0].data);c==6e3&&a.sheets.push(TVe(e,l))})}),a}function PVe(e,t){var r=RO(),n=Pa(t.data),a=PO(n[1],$u);if(a.forEach(function(s){e[s].forEach(function(o){var l=$n(o.meta[1][0].data);if(l==2){var c=AVe(e,o);c.sheets.forEach(function(u,d){MO(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function q2(e){var t,r,n,a,s={},o=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=wVe(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=bVe(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,o.push(f.id)})}}),!o.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&$n(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(c){s[c].forEach(function(u){var d=$n(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return PVe(s,l)}function OVe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function OO(e){OVe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function DVe(e){return Lh.WS.indexOf(e)>-1?"sheet":e==Lh.CS?"chart":e==Lh.DS?"dialog":e==Lh.MS?"macro":e&&e.length?e:"sheet"}function RVe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,DVe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function MVe(e,t,r,n,a,s,o,l,c,u,d,f){try{s[n]=hg(ti(e,r,!0),t);var h=vn(e,t),m;switch(l){case"sheet":m=Uze(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=zze(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var p=B0(m["!drawel"].Target,t),g=vE(p),v=B9e(ti(e,p,!0),hg(ti(e,g,!0),p)),y=B0(v,p),b=vE(y);m=Sze(ti(e,y,!0),y,c,hg(ti(e,b,!0),y),u,m);break;case"macro":m=Vze(h,t,a,c,s[n],u,d,f);break;case"dialog":m=Wze(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}o[n]=m;var _=[];s&&s[n]&&Nl(s[n]).forEach(function(w){var j="";if(s[n][w].Type==Lh.CMNT){j=B0(s[n][w].Target,t);var N=Gze(vn(e,j,!0),j,c);if(!N||!N.length)return;N5(m,N,!1)}s[n][w].Type==Lh.TCMNT&&(j=B0(s[n][w].Target,t),_=_.concat(z9e(vn(e,j,!0),c)))}),_&&_.length&&N5(m,_,!0,c.people||[])}catch(w){if(c.WTF)throw w}}function bi(e){return e.charAt(0)=="/"?e.slice(1):e}function FVe(e,t){if(rG(),t=t||{},OO(t),ji(e,"META-INF/manifest.xml")||ji(e,"objectdata.xml"))return I5(e,t);if(ji(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof q2<"u"){if(e.FileIndex)return q2(e);var r=Zt.utils.cfb_new();return QL(e).forEach(function(z){I$e(r,z,F$e(e,z))}),q2(r)}throw new Error("Unsupported NUMBERS file")}if(!ji(e,"[Content_Types].xml"))throw ji(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ji(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=QL(e),a=O8e(ti(e,"[Content_Types].xml")),s=!1,o,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",vn(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!vn(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(gg=[],a.sst)try{gg=Kze(vn(e,bi(a.sst)),a.sst,t)}catch(z){if(t.WTF)throw z}t.cellStyles&&a.themes.length&&(c=qze(ti(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=Hze(vn(e,bi(a.style)),a.style,c,t))}a.links.map(function(z){try{var D=hg(ti(e,vE(bi(z))),z);return Xze(vn(e,bi(z)),D,z,t)}catch{}});var d=Bze(vn(e,bi(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=vn(e,bi(a.coreprops[0]),!0),h&&(f=PG(h)),a.extprops.length!==0&&(h=vn(e,bi(a.extprops[0]),!0),h&&I8e(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ti(e,bi(a.custprops[0]),!0),h&&(m=$8e(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?o=d.Sheets.map(function(D){return D.name}):f.Worksheets&&f.SheetNames.length>0&&(o=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof o<"u"&&(p.SheetNames=o),t.bookSheets?p.SheetNames:t.bookProps))return p;o={};var g={};t.bookDeps&&a.calcchain&&(g=Yze(vn(e,bi(a.calcchain)),a.calcchain));var v=0,y={},b,_;{var w=d.Sheets;f.Worksheets=w.length,f.SheetNames=[];for(var j=0;j!=w.length;++j)f.SheetNames[j]=w[j].name}var N=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),k=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");ji(e,k)||(k="xl/_rels/workbook."+N+".rels");var C=hg(ti(e,k,!0),k.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Jze(vn(e,bi(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=V9e(vn(e,bi(a.people[0])),t)),C&&(C=RVe(C,d.Sheets));var A=vn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var P="sheet";if(C&&C[v]?(b="xl/"+C[v][1].replace(/[\/]?xl\//,""),ji(e,b)||(b=C[v][1]),ji(e,b)||(b=k.replace(/_rels\/.*$/,"")+C[v][1]),P=C[v][2]):(b="xl/worksheets/sheet"+(v+1-A)+"."+N,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(T=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(T=1);if(!T)continue e}}MVe(e,b,_,f.SheetNames[v],v,y,o,P,t,d,c,u)}return p={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:g,Sheets:o,SheetNames:f.SheetNames,Strings:gg,Styles:u,Themes:c,SSF:oa(Lt)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(z,D){z=z.replace(/^Root Entry[\/]/,""),p.keys.push(z),p.files[z]=e.FileIndex[D]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=vn(e,bi(a.vba[0]),!0):a.defaults&&a.defaults.bin===K9e&&(p.vbaraw=vn(e,"xl/vbaProject.bin",!0))),p}function IVe(e,t){var r=t||{},n="Workbook",a=Zt.find(e,n);try{if(n="/!DataSpaces/Version",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(TBe(a.content),n="/!DataSpaces/DataSpaceMap",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=PBe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=OBe(a.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);RBe(a.content)}catch{}if(n="/EncryptionInfo",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=MBe(a.content);if(n="/EncryptedPackage",a=Zt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function DO(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=di(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function LVe(e,t){return Zt.find(e,"EncryptedPackage")?IVe(e,t):pY(e,t)}function $Ve(e,t){var r,n=e,a=t||{};return a.type||(a.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r=lG(n,a),FVe(r,a)}function yY(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return bE(e.slice(r),t);default:break e}return Dv.to_workbook(e,t)}function BVe(e,t){var r="",n=DO(e,t);switch(t.type){case"base64":r=di(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=kf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Pr(r)),t.type="binary",yY(r,t)}function UVe(e,t){var r=e;return t.type=="base64"&&(r=di(r)),r=nu.utils.decode(1200,r.slice(2),"str"),t.type="binary",yY(r,t)}function zVe(e){return e.match(/[^\x00-\x7F]/)?U0(e):e}function K2(e,t,r,n){return n?(r.type="string",Dv.to_workbook(e,r)):Dv.to_workbook(t,r)}function SE(e,t){WK();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return SE(new Uint8Array(e),(r=oa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),am={},r.dateNF&&(am.dateNF=r.dateNF),r.type||(r.type=Xt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Xt?"buffer":"binary",n=T$e(e),typeof Uint8Array<"u"&&!Xt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=zVe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return r=oa(r),r.type="array",SE(dO(n),r)}switch((a=DO(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return LVe(Zt.read(n,r),r);break;case 9:if(a[1]<=8)return pY(n,r);break;case 60:return bE(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return gBe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return mBe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?$Ve(n,r):K2(e,n,r,s);case 239:return a[3]===60?bE(n,r):K2(e,n,r,s);case 255:if(a[1]===254)return UVe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return pg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return pg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return S5.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return KBe.to_workbook(n,r);break;case 10:case 13:case 32:return BVe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return fBe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?S5.to_workbook(n,r):K2(e,n,r,s)}function VVe(e,t,r,n,a,s,o,l){var c=la(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=o?e[r][m]:e[n[m]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(s[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&g===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(p.t!=="n"||p.t==="n"&&l.rawNumbers!==!1)?g:Sc(p,g,l);g!=null&&(f=!1)}}return{row:h,isempty:f}}function NE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=en(d);break;case"number":c=en(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=la(c.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=c.s.r,b=0,_={};v&&!e[y]&&(e[y]=[]);var w=u.skipHidden&&e["!cols"]||[],j=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(w[b]||{}).hidden)switch(h[b]=In(b),r=v?e[y][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Sc(r,null,u),g=_[o]||0,!g)_[o]=1;else{do l=o+"_"+g++;while(_[l]);_[o]=g,_[l]=1}s[b]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(j[y]||{}).hidden){var N=VVe(e,c,y,h,n,s,v,u);(N.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[p++]=N.row)}return m.length=p,m}var U5=/"/g;function WVe(e,t,r,n,a,s,o,l){for(var c=!0,u=[],d="",f=la(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:Sc(m,null,l));for(var p=0,g=0;p!==d.length;++p)if((g=d.charCodeAt(p))===a||g===s||g===34||l.forceQuotes){d='"'+d.replace(U5,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(U5,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function bY(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=en(e["!ref"]),s=n.FS!==void 0?n.FS:",",o=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=In(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=WVe(e,a,v,f,o,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function HVe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bY(e,t);return r}function qVe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=en(e["!ref"]),s="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=In(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=la(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function _Y(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},o=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?as(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(s["!ref"]){var f=en(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(o=f.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){Nl(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var b=g[y],_="z",w="",j=Ot({c:l+m,r:o+v+a});u=Iv(s,j),b&&typeof b=="object"&&!(b instanceof Date)?s[j]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=ls(b)),w=n.dateNF||Lt[14]):b===null&&n.nullError&&(_="e",b=0),u?(u.t=_,u.v=b,delete u.w,delete u.R,w&&(u.z=w)):s[j]=u={t:_,v:b},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var p=la(o);if(a)for(m=0;m<h.length;++m)s[In(m+l)+p]={t:"s",v:h[m]};return s["!ref"]=tr(d),s}function KVe(e,t){return _Y(null,e,t)}function Iv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=as(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Iv(e,Ot(t)):Iv(e,Ot({r:t,c:r||0}))}function GVe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function RO(){return{SheetNames:[],Sheets:{}}}function MO(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var o=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Oze(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function YVe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=GVe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function XVe(e,t){return e.z=t,e}function wY(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function JVe(e,t,r){return wY(e,"#"+t,r)}function QVe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function ZVe(e,t,r,n){for(var a=typeof t!="string"?t:en(t),s=typeof t=="string"?t:tr(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Iv(e,o,l);c.t="n",c.F=s,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var eWe={encode_col:In,encode_row:la,encode_cell:Ot,encode_range:tr,decode_col:bO,decode_row:yO,split_cell:d8e,decode_cell:as,decode_range:Jp,format_cell:Sc,sheet_add_aoa:kG,sheet_add_json:_Y,sheet_add_dom:gY,aoa_to_sheet:Qp,json_to_sheet:KVe,table_to_sheet:vY,table_to_book:gVe,sheet_to_csv:bY,sheet_to_txt:HVe,sheet_to_json:NE,sheet_to_html:pVe,sheet_to_formulae:qVe,sheet_to_row_object_array:NE,sheet_get_cell:Iv,book_new:RO,book_append_sheet:MO,book_set_sheet_visibility:YVe,cell_set_number_format:XVe,cell_set_hyperlink:wY,cell_set_internal_link:JVe,cell_add_comment:QVe,sheet_set_array_formula:ZVe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function tWe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var A,P;const{t:a}=Vt(),{user:s}=xr(),{toast:o}=Lo(),[l,c]=x.useState("template"),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,p]=x.useState({}),[g,v]=x.useState([]),[y,b]=x.useState(!1),[_,w]=x.useState(0),j=async T=>{var z;const U=(z=T.target.files)==null?void 0:z[0];if(U)try{const D=await U.arrayBuffer(),M=SE(D,{type:"array"}),L=M.Sheets[M.SheetNames[0]],I=eWe.sheet_to_json(L);if(I.length===0){o({title:a("common.error"),description:a("surveys.fileEmpty"),variant:"destructive"});return}h(I),N(I),c("preview")}catch(D){console.error("Error parsing file:",D),o({title:a("common.error"),description:a("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!u)return;const U=t[u.template_id]||[],z=Object.keys(T[0]||{}),D=[],M={};for(const L of U){const I=L.field_label||"",F=z.find(X=>X.toLowerCase().trim()===I.toLowerCase().trim());F?M[I]=F:L.is_required&&D.push(a("surveys.requiredFieldNotFound",{field:`"${I}"`}))}p(M),v(D)},S=()=>f.slice(0,5),k=async()=>{if(!u||!s)return;const T=t[u.template_id]||[],U=[];for(const z of T)z.is_required&&!m[z.field_label||""]&&U.push(a("surveys.requiredFieldNotMapped",{field:`"${z.field_label}"`}));if(U.length>0){v(U);return}c("importing"),b(!0);try{const z=f.length,D=[];for(let L=0;L<f.length;L++){const I=f[L],F={};for(const J of T){const O=J.field_label||"",G=m[O];G&&I[G]!==void 0&&I[G]!==null&&I[G]!==""&&(F[O]=I[G])}const X={template_id:u.template_id,survey_name:I.survey_name||I["Survey Name"]||`Bulk Import ${L+1}`,survey_description:I.survey_description||I["Survey Description"]||null,client_name:I.client_name||I["Client Name"]||`Client ${L+1}`,client_name_ar:I.client_name_ar||I["Client Name AR"]||null,client_contact:I.client_contact||I["Client Contact"]||null,client_email:I.client_email||I["Client Email"]||null,client_address:I.client_address||I["Client Address"]||null,client_company:I.client_company||I["Client Company"]||null,client_company_ar:I.client_company_ar||I["Client Company AR"]||null,survey_responses:F,location_latitude:parseFloat(I.location_latitude||I.Latitude||"0"),location_longitude:parseFloat(I.location_longitude||I.Longitude||"0"),location_accuracy:I.location_accuracy?parseFloat(I.location_accuracy):null,location_address:I.location_address||I["Location Address"]||null,created_by:s.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:I.notes||null,notes_ar:I.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};D.push(X),w(Math.round((L+1)/z*50))}w(50);const M=await fh.createBatch(D);w(100),o({title:a("common.success"),description:a("surveys.importSuccess",{count:M.length})}),r(M),C()}catch(z){console.error("Error importing surveys:",z),o({title:a("common.error"),description:z.message||a("surveys.importFailed"),variant:"destructive"}),c("preview")}finally{b(!1)}},C=()=>{c("template"),d(null),h([]),p({}),v([]),w(0),n()};return i.jsxs(i.Fragment,{children:[i.jsxs(cn,{children:[i.jsx(un,{children:a("surveys.bulkImport")}),i.jsxs(Ma,{children:[l==="template"&&a("surveys.selectTemplateForImport"),l==="upload"&&a("surveys.uploadFile"),l==="preview"&&a("surveys.reviewData"),l==="importing"&&a("surveys.importingData")]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[l==="template"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx(He,{className:"text-base font-medium",children:a("surveys.selectTemplate")}),i.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>i.jsx(it,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(u==null?void 0:u.template_id)===T.template_id?"ring-2 ring-primary":""}`,onClick:()=>d(T),children:i.jsxs(dt,{className:"p-4",children:[i.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&i.jsx(ht,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id||`template-${Math.random()}`))})]}),l==="upload"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(tw,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[i.jsx("p",{className:"font-medium mb-1",children:a("surveys.importInstructions")}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[i.jsx("li",{children:a("surveys.importInstruction1")}),i.jsx("li",{children:a("surveys.importInstruction2")}),i.jsx("li",{children:a("surveys.importInstruction3")})]})]})]})}),i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[i.jsx(zg,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),i.jsx(He,{className:"block text-sm font-medium mb-2",children:a("surveys.dragDropFile")}),i.jsx(We,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),i.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:i.jsx(ce,{variant:"outline",asChild:!0,children:i.jsx("span",{children:a("surveys.selectFile")})})})]})]}),l==="preview"&&i.jsxs("div",{className:"space-y-4",children:[g.length>0&&i.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(xk,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[i.jsx("p",{className:"font-medium mb-2",children:a("surveys.validationErrors")}),i.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((T,U)=>i.jsx("li",{children:T},U))})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.columnMapping")}),i.jsxs(ht,{variant:"secondary",children:[Object.keys(m).length," / ",u&&((A=t[u.template_id])==null?void 0:A.length)||0]})]}),i.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:u?(P=t[u.template_id])==null?void 0:P.map(T=>i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&i.jsx(ht,{variant:"destructive",className:"text-xs mt-1",children:a("surveys.required")})]}),m[T.field_label||""]?i.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[i.jsx(rc,{className:"h-4 w-4"}),i.jsx("span",{className:"text-xs font-medium",children:m[T.field_label||""]})]}):i.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?i.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:a("surveys.notMapped")}):i.jsx("span",{children:a("surveys.optional")})})]},T.field_id)):i.jsx("div",{className:"text-center text-muted-foreground py-4",children:a("surveys.noTemplateSelected")})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm",children:a("surveys.previewFirstRows",{count:5})}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs("table",{className:"w-full text-sm table-auto",children:[i.jsx("thead",{className:"bg-muted border-b",children:i.jsx("tr",{children:Object.keys(S()[0]||{}).map(T=>i.jsx("th",{className:"px-3 py-2 text-start font-medium text-xs",children:T},T))})}),i.jsx("tbody",{children:S().map((T,U)=>i.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([z,D],M)=>i.jsx("td",{className:"px-3 py-2 text-xs break-words max-w-xs",children:typeof D=="boolean"?z.toLowerCase().includes("is_default")?D?i.jsx(rc,{className:"h-4 w-4 text-green-600"}):i.jsx("span",{className:"text-transparent",children:"-"}):D?i.jsx(rc,{className:"h-4 w-4 text-green-600"}):i.jsx(Tae,{className:"h-4 w-4 text-gray-400"}):String(D||"")},M))},U))})]})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:a("surveys.showingRows",{shown:Math.min(5,f.length),total:f.length})})]})]}),l==="importing"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx(nw,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),i.jsx("p",{className:"font-medium mb-2",children:a("surveys.importingData")}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[a("surveys.processingRows",{progress:_}),"%"]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),i.jsxs(Ra,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[i.jsx(ce,{variant:"outline",onClick:C,disabled:y,className:"w-full sm:w-auto",children:a("buttons.cancel")}),l==="template"&&i.jsx(ce,{onClick:()=>c("upload"),disabled:!u,className:"w-full sm:w-auto",children:a("common.next")}),l==="upload"&&i.jsx(ce,{onClick:()=>c("template"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),l==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx(ce,{onClick:()=>c("upload"),variant:"outline",className:"w-full sm:w-auto",children:a("common.back")}),i.jsx(ce,{onClick:k,disabled:g.length>0||y,className:"w-full sm:w-auto",children:a("surveys.startImport")})]})]})]})}function rWe(){var Pe,Re,Q,ye;const{user:e}=xr(),{currentLanguage:t,isRTL:r}=Ia();tn();const{t:n}=Vt(),{toast:a}=Lo(),{canView:s,canEdit:o,canDelete:l,canViewAllData:c,canViewOwnData:u,canViewTeamData:d,hasPermission:f}=Vg(),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState({}),[b,_]=x.useState(!0),[w,j]=x.useState(""),[N,S]=x.useState(null),[k,C]=x.useState(null),[A,P]=x.useState([]);x.useState(!1);const[T,U]=x.useState(!1),[z,D]=x.useState(null),[M,L]=x.useState({}),[I,F]=x.useState({}),[X,J]=x.useState([]),[O,G]=x.useState(!1),[V,K]=x.useState(null),[re,ue]=x.useState(null),[_e,W]=x.useState(null),[Z,pe]=x.useState("list"),[E,xe]=x.useState("list"),[Te,Ue]=x.useState(1),[ze,Se]=x.useState(1),[et,Ze]=x.useState(10),[oe,me]=x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});x.useEffect(()=>{Ue(1),Se(1)},[w]);const[B,de]=x.useState([]);x.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[je,Ne]=x.useState({}),[Ve,ke]=x.useState(!1),[Ce,ve]=x.useState(!1),[De,Me]=x.useState(new Set);x.useState(!1),x.useEffect(()=>{Je()},[]),x.useEffect(()=>{Ue(1)},[w,Z]);const Je=async()=>{try{_(!0);const[H,ne,we]=await Promise.all([fh.getAll().catch(nt=>(console.error("[Surveys] Error fetching surveys:",nt),[])),eo.getAll().catch(nt=>(console.error("[Surveys] Error fetching templates:",nt),[])),wn.getAll().catch(nt=>(console.error("[Surveys] Error fetching users:",nt),[]))]),ge=ne.map(nt=>eo.getFields(nt.template_id).catch(st=>(console.error(`[Surveys] Error fetching fields for template ${nt.template_id}:`,st),[]))),Qe=await Promise.all(ge),ct={};ne.forEach((nt,st)=>{ct[nt.template_id]=Qe[st]||[]}),y(ct),console.log(`[Surveys] Loaded template fields for ${Object.keys(ct).length} templates`);const wt=H.map(nt=>{try{let st=nt.survey_responses;return typeof nt.survey_responses=="string"&&(st=JSON.parse(nt.survey_responses)),{...nt,survey_responses:st}}catch(st){return console.error(`[Surveys] Error parsing survey_responses for survey ${nt.survey_id}:`,st),nt}});m(wt),g(ne),J(we),y(ct)}catch(H){console.error("Failed to load surveys data:",H)}finally{_(!1)}},tt=h.filter(H=>w?H.client_name&&H.client_name.toLowerCase().includes(w.toLowerCase())||H.client_company&&H.client_company.toLowerCase().includes(w.toLowerCase())||H.survey_name&&H.survey_name.toLowerCase().includes(w.toLowerCase()):!0),bt=Math.ceil(tt.length/et),Ft=(Te-1)*et,ur=Ft+et,fr=tt.slice(Ft,ur),Sn=p.filter(H=>{if(!w)return!0;const ne=Fe(H,"template_name");return ne&&ne.toLowerCase().includes(w.toLowerCase())||H.category&&H.category.toLowerCase().includes(w.toLowerCase())}),Jt=Math.ceil(Sn.length/et),rn=(ze-1)*et,Ki=rn+et,Ba=Sn.slice(rn,Ki),Jn=H=>{if(!H)return n("surveys.unknownCreator");const ne=X.find(we=>{var ge,Qe;return((ge=we.userid)==null?void 0:ge.toString())===H||((Qe=we.user_id)==null?void 0:Qe.toString())===H});return ne?Fe(ne,"user_name"):n("surveys.unknownCreator")},Gi=H=>{switch(H.toLowerCase()){case"completed":return i.jsxs(ht,{variant:"default",className:"bg-green-500",children:[i.jsx(rc,{className:"h-3 w-3 me-1"}),n("surveys.completed")]});case"in_progress":return i.jsxs(ht,{variant:"secondary",children:[i.jsx(Ad,{className:"h-3 w-3 me-1"}),n("surveys.inProgress")]});case"pending":return i.jsxs(ht,{variant:"outline",children:[i.jsx(Ad,{className:"h-3 w-3 me-1"}),n("surveys.pending")]});default:return i.jsx(ht,{variant:"outline",children:H})}},pi=H=>{const ne=H.filter(we=>we.survey_id);ne.length!==H.length&&console.warn("[Surveys] Some imported surveys are missing IDs and will be skipped"),m([...ne,...h])},Nn=async H=>{C(H);const ne=v[H.template_id]||[];P(ne)},Qn=()=>{const H={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};de(ne=>[...ne,H])},Un=H=>{de(ne=>ne.filter((we,ge)=>ge!==H))},hn=(H,ne)=>{de(we=>we.map((ge,Qe)=>Qe===H?{...ge,...ne}:ge))},Yi=(H,ne)=>{de(we=>{const ge=[...we],[Qe]=ge.splice(H,1);return ge.splice(ne,0,Qe),ge})},ud=()=>{me({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),de([]),K(null)},zo=async H=>{me({template_name:H.template_name||"",template_name_ar:H.template_name_ar||"",template_description:H.template_description||"",template_description_ar:H.template_description_ar||"",category:H.category||"",is_active:H.is_active,is_default:H.is_default||!1});const we=(v[H.template_id]||[]).map(ge=>({field_type:ge.field_type,field_label:ge.field_label||"",field_label_ar:ge.field_label_ar||"",help_text:ge.help_text||"",help_text_ar:ge.help_text_ar||"",is_required:ge.is_required||!1,field_options:ge.field_options,validation_rules:ge.validation_rules,default_value:ge.default_value,conditional_logic:ge.conditional_logic,image_path:ge.image_path}));de(we),K(H.template_id),G(!0)},dr=()=>{const H={};return oe.template_name.trim()||(H.template_name=n("surveys.templateNameRequired")),B.length===0?H.fields=n("surveys.atLeastOneFieldRequired"):B.forEach((ne,we)=>{ne.field_label.trim()||(H[`field_${we}`]=n("surveys.fieldLabelRequired",{number:we+1}))}),Ne(H),Object.keys(H).length===0},Dc=async()=>{if(!dr()){a({title:n("common.error"),description:n("surveys.templateValidationFailed"),variant:"destructive"});return}ke(!0);try{if(V){await eo.update(V,oe);const H=v[V]||[];for(const ne of H)ne.field_id&&await eo.deleteField(ne.field_id);for(let ne=0;ne<B.length;ne++){const we=B[ne];await eo.createField({template_id:V,field_order:ne+1,field_type:we.field_type,field_label:we.field_label,field_label_ar:we.field_label_ar||"",help_text:we.help_text||null,help_text_ar:we.help_text_ar||null,is_required:we.is_required,field_options:we.field_options,validation_rules:we.validation_rules,default_value:we.default_value||null,conditional_logic:we.conditional_logic,image_path:we.image_path||null})}a({title:n("common.success"),description:n("surveys.templateUpdated")})}else{const H={...oe,created_by:e==null?void 0:e.id},ne=await eo.create(H);for(let we=0;we<B.length;we++){const ge=B[we];await eo.createField({template_id:ne.template_id,field_order:we+1,field_type:ge.field_type,field_label:ge.field_label,field_label_ar:ge.field_label_ar||"",help_text:ge.help_text||null,help_text_ar:ge.help_text_ar||null,is_required:ge.is_required,field_options:ge.field_options,validation_rules:ge.validation_rules,default_value:ge.default_value||null,conditional_logic:ge.conditional_logic,image_path:ge.image_path||null})}a({title:n("common.success"),description:n("surveys.templateCreated")})}ud(),G(!1),Je()}catch(H){console.error("Failed to save template:",H),a({title:n("common.error"),description:n("surveys.templateSaveError",{action:n(V?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{ke(!1)}},Rc=async H=>{D(H);const ne=v[H.template_id]||[],we={};ne.forEach(ge=>{ge.default_value!==null&&ge.default_value!==void 0&&(we[ge.field_id.toString()]=ge.default_value)}),L(we),D(H)},q=async H=>{try{await eo.delete(H),g(ne=>ne.filter(we=>we.template_id!==H)),ue(null),y(ne=>{const we={...ne};return delete we[H],we})}catch(ne){console.error("Failed to delete template:",ne),alert("Failed to delete template. Please try again.")}},ae=async H=>{try{await fh.delete(H),m(ne=>ne.filter(we=>we.survey_id!==H)),W(null)}catch(ne){console.error("Failed to delete survey:",ne),alert("Failed to delete survey. Please try again.")}},ee=async H=>{try{const ne=p.filter(we=>we.is_default&&we.template_id!==H);for(const we of ne)await eo.update(we.template_id,{is_default:!1});await eo.update(H,{is_default:!0}),g(we=>we.map(ge=>({...ge,is_default:ge.template_id===H}))),a({title:n("common.success"),description:n("surveys.templateSetAsDefault")})}catch(ne){console.error("Failed to set default template:",ne),a({title:n("common.error"),description:n("surveys.templateSetDefaultError"),variant:"destructive"})}},te=()=>new Promise((H,ne)=>{if(!navigator.geolocation){ne(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(we=>{H({latitude:we.coords.latitude,longitude:we.coords.longitude,accuracy:we.coords.accuracy})},we=>{ne(we)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),se=async()=>{if(!(!z||!e))try{let H={latitude:0,longitude:0,accuracy:0};try{H=await te()}catch(da){console.warn("Could not get location:",da)}const ne=v[z.template_id]||[],we=new Map(ne.map(da=>[da.field_id.toString(),da.field_label])),ge={};for(const[da,Xi]of Object.entries(M)){const Rl=we.get(da)||da;ge[Rl]=Xi}const Qe=ge["Customer Name"]||ge["Client Name"]||ge.client_name||ge.customer_name||"Anonymous",ct=ge["Customer Company"]||ge["Client Company"]||ge.Company||ge.company||ge.client_company||null,wt=ge["Contact Number"]||ge["Contact Email"]||ge.Contact||ge.contact||ge.phone||null,nt=ge["Contact Email"]||ge.Email||ge.email||ge.client_email||null,st=ge.Address||ge.address||ge.client_address||null,nn=ge["Additional Notes"]||ge.Notes||ge.notes||null,Kr={},Vs=Object.keys(I);for(const[da,Xi]of Object.entries(M))Vs.includes(da)||(Kr[da]=Array.isArray(Xi)?Xi.join(", "):Xi);const zn={template_id:z.template_id,survey_name:`${Fe(z,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Fe(z,"template_description")||null,client_name:Qe,client_name_ar:null,client_contact:wt,client_email:nt,client_address:st,client_company:ct,client_company_ar:null,survey_responses:Kr,location_latitude:H.latitude,location_longitude:H.longitude,location_accuracy:H.accuracy,location_address:st,status:"collected",created_by:e.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:nn,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null},Mc=await fh.create(zn);if(Object.keys(I).length>0){const da={...Kr};for(const[Rl,qf]of Object.entries(I)){const Fc=await new Promise(($x,Bx)=>{const dd=new FileReader;dd.onload=()=>{const Zp=dd.result,Fj=Zp.split(",")[1];$x(Zp)},dd.onerror=Bx,dd.readAsDataURL(qf)});da[Rl]=Fc}const Xi=Object.entries(da).reduce((Rl,[qf,Fc])=>(Rl[qf]=Array.isArray(Fc)?Fc.join(", "):Fc,Rl),{});await fh.update(Mc.survey_id,{survey_responses:Xi}),Mc.survey_responses=Xi}m([Mc,...h]),D(null),L({}),F({}),U(!1)}catch(H){console.error("[Survey] Failed to create survey:",H),alert(`Failed to create survey: ${H.message}`)}},le=H=>H.is_required===1||H.is_required===!0,Oe=H=>{const ne=H.field_id.toString(),we=M[ne]||"";switch(H.field_type.toLowerCase()){case"text":return i.jsx(We,{id:ne,value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required});case"textarea":return i.jsx(Ln,{id:ne,value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required,rows:3});case"number":return i.jsx(We,{id:ne,type:"number",value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required});case"email":return i.jsx(We,{id:ne,type:"email",value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required});case"date":return i.jsx(We,{id:ne,type:"date",value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),required:H.is_required});case"select":let ge=H.field_options;if(typeof ge=="string")try{ge=JSON.parse(ge)}catch(nt){console.error("Failed to parse field_options:",nt),ge=null}if(ge&&typeof ge=="object"&&!Array.isArray(ge)&&"options"in ge&&Array.isArray(ge.options)){const nt=ge.options.filter(st=>typeof st=="string");return i.jsxs(xt,{value:we,onValueChange:st=>L(nn=>({...nn,[ne]:st})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:Fe(H,"help_text")||`${n("common.select")} ${Fe(H,"field_label")}`})}),i.jsx(gt,{children:nt.map((st,nn)=>i.jsx(Ee,{value:st,children:st},nn))})]})}return i.jsx(We,{id:ne,value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required});case"radio":let Qe=H.field_options;if(typeof Qe=="string")try{Qe=JSON.parse(Qe)}catch(nt){console.error("Failed to parse field_options:",nt),Qe=null}if(Qe&&typeof Qe=="object"&&!Array.isArray(Qe)&&"options"in Qe&&Array.isArray(Qe.options)){const nt=Qe.options.filter(st=>typeof st=="string");return i.jsx("div",{className:"space-y-2",children:nt.map((st,nn)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:ne,value:st,checked:we===st,onChange:Kr=>L(Vs=>({...Vs,[ne]:Kr.target.value}))}),i.jsx("span",{className:"text-sm",children:st})]},nn))})}return i.jsx(We,{id:ne,value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required});case"multiselect":case"checkbox":let ct=H.field_options;if(typeof ct=="string")try{ct=JSON.parse(ct)}catch(nt){console.error("Failed to parse field_options:",nt),ct=null}if(ct&&typeof ct=="object"&&!Array.isArray(ct)&&"options"in ct&&Array.isArray(ct.options)){const nt=ct.options.filter(st=>typeof st=="string");return i.jsx("div",{className:"space-y-2",children:nt.map((st,nn)=>i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Array.isArray(we)?we.includes(st):!1,onChange:Kr=>{const Vs=Array.isArray(we)?we:[];Kr.target.checked?L(zn=>({...zn,[ne]:[...Vs,st]})):L(zn=>({...zn,[ne]:Vs.filter(Mc=>Mc!==st)}))}}),i.jsx("span",{className:"text-sm",children:st})]},nn))})}return i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:!!we,onChange:nt=>L(st=>({...st,[ne]:nt.target.checked}))}),i.jsx("span",{className:"text-sm",children:Fe(H,"field_label")})]});case"image":const wt=M[ne];return i.jsxs("div",{className:"space-y-2",children:[i.jsx(We,{id:ne,type:"file",accept:"image/*",onChange:nt=>{var nn;const st=(nn=nt.target.files)==null?void 0:nn[0];st&&(F(Kr=>({...Kr,[ne]:st})),L(Kr=>({...Kr,[ne]:{preview:URL.createObjectURL(st),filename:st.name}})))},required:H.is_required}),(wt==null?void 0:wt.preview)&&i.jsxs("div",{className:"relative w-full",children:[i.jsx("img",{src:wt.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),i.jsx(ce,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 inset-inline-end-2",onClick:()=>{F(nt=>{const st={...nt};return delete st[ne],st}),L(nt=>{const st={...nt};return delete st[ne],st})},children:i.jsx(ir,{className:"h-4 w-4"})})]})]});default:return i.jsx(We,{id:ne,value:we,onChange:nt=>L(st=>({...st,[ne]:nt.target.value})),placeholder:Fe(H,"help_text")||H.field_label,required:H.is_required})}},$e=()=>{const H=[{key:"survey",header:n("surveys.surveyName"),render:ge=>i.jsx(jc,{title:ge.survey_name||`${n("surveys.survey")} #${ge.survey_id||"Unknown"}`,subtitle:Fe(ge,"client_name")})},{key:"creator",header:n("surveys.createdBy"),render:ge=>i.jsx(ip,{name:ge.created_by_name||Jn(ge.created_by),fallback:n("surveys.unknownCreator")})}],ne=[{label:n("common.view"),icon:i.jsx(ni,{className:"h-4 w-4"}),onClick:ge=>S(ge)},{label:n("buttons.delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:ge=>W(ge.survey_id),variant:"destructive",show:()=>f("surveys_DELETE")}],we=[{label:n("buttons.delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:async ge=>{if(ge.length===0)return;if(window.confirm(n("surveys.confirmBulkDeleteDesc",{count:ge.length})))try{const ct=ge.map(wt=>fh.delete(wt.survey_id));await Promise.all(ct),m(wt=>wt.filter(nt=>!ge.find(st=>st.survey_id===nt.survey_id))),Me(new Set),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ge.length})})}catch(ct){console.error("Failed to bulk delete surveys:",ct),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ge=>f("surveys_DELETE"));return i.jsx(wc,{data:fr,columns:H,actions:ne,bulkActions:we,keyExtractor:ge=>{var Qe;return((Qe=ge.survey_id)==null?void 0:Qe.toString())||`survey-${Math.random()}`},onRowClick:ge=>S(ge),enableBulkSelect:!0,rowHeight:"h-26",rtl:r,emptyState:i.jsx(ko,{icon:i.jsx(bs,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noSurveysFound"),description:n(w?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},Ae=()=>{const H=[{key:"template",header:n("surveys.templateName"),render:ge=>i.jsx(jc,{title:Fe(ge,"template_name"),subtitle:Fe(ge,"template_description")})},{key:"category",header:n("surveys.category"),render:ge=>ge.category||n("surveys.noCategory")},{key:"status",header:n("surveys.status"),render:ge=>i.jsxs("div",{className:"flex items-center gap-2",children:[ge.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),ge.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})},{key:"created",header:n("surveys.createdDate"),hideOnMobile:!0,render:ge=>i.jsx($f,{date:ge.created_at,fallback:n("leads.notSet")})}],ne=[{label:n("common.view"),icon:i.jsx(ni,{className:"h-4 w-4"}),onClick:ge=>Nn(ge)},{label:n("surveys.setAsDefault"),icon:i.jsx(rc,{className:"h-4 w-4"}),onClick:ge=>ee(ge.template_id),show:ge=>!ge.is_default},{label:n("buttons.edit"),icon:i.jsx(gk,{className:"h-4 w-4"}),onClick:ge=>zo(ge),show:()=>f("survey_templates_UPDATE")},{label:n("buttons.delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:ge=>ue(ge.template_id),variant:"destructive",show:()=>f("survey_templates_DELETE")}],we=[{label:n("buttons.delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:async ge=>{if(window.confirm(n("surveys.bulkDeleteConfirm",{count:ge.length})))try{await Promise.all(ge.map(Qe=>eo.delete(Qe.template_id))),await Je(),a({title:n("common.success"),description:n("surveys.bulkDeleteSuccess",{count:ge.length})})}catch(Qe){console.error("Failed to bulk delete templates:",Qe),a({title:n("common.error"),description:n("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}].filter(ge=>f("survey_templates_DELETE"));return i.jsx(wc,{data:Ba,columns:H,actions:ne,bulkActions:we,keyExtractor:ge=>{var Qe;return((Qe=ge.template_id)==null?void 0:Qe.toString())||`template-${Math.random()}`},onRowClick:ge=>Nn(ge),enableBulkSelect:!0,rtl:r,emptyState:i.jsx(ko,{icon:i.jsx(bs,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("surveys.noTemplatesFound"),description:n(w?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return b?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:n("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"h-full flex flex-col overflow-hidden pb-4",dir:r?"rtl":"ltr",children:[i.jsx("div",{className:"w-full flex-1 flex flex-col min-h-0 px-6",dir:r?"rtl":"ltr",children:i.jsxs(Io,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs(Bi,{className:"grid w-full grid-cols-2",children:[i.jsxs(Ar,{value:"surveys",children:[n("surveys.surveys")," (",tt.length,")"]}),i.jsxs(Ar,{value:"templates",children:[n("surveys.templates")," (",Sn.length,")"]})]}),i.jsxs(Wr,{value:"surveys",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute inset-inline-start-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(We,{placeholder:n("surveys.searchPlaceholder"),value:w,onChange:H=>j(H.target.value),className:"ps-10 pe-3"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:Z==="list"?"default":"ghost",size:"sm",onClick:()=>pe("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})}),i.jsx(ce,{variant:Z==="card"?"default":"ghost",size:"sm",onClick:()=>pe("card"),className:"h-8 w-8 p-0",children:i.jsx(bs,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:r?"rtl":"ltr",children:[i.jsxs(bn,{open:T,onOpenChange:U,children:[i.jsx(ob,{asChild:!0,children:i.jsxs(ce,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Kt,{className:"h-4 w-4 me-2"}),n("surveys.newSurvey")]})}),i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(cn,{children:i.jsx(un,{children:n("surveys.createNewSurvey")})}),i.jsx("div",{className:"space-y-6 py-4",children:z?i.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium",children:Fe(z,"template_name")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.fillSurveyDetails")})]}),i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>{D(null),L({})},children:n("surveys.changeTemplate")})]}),i.jsx("div",{className:"space-y-4",dir:r?"rtl":"ltr",children:(Pe=v[z.template_id])==null?void 0:Pe.map(H=>i.jsxs("div",{className:"space-y-2",dir:r?"rtl":"ltr",children:[i.jsxs(He,{className:"text-sm font-medium mb-1.5 block",children:[Fe(H,"field_label"),le(H)&&i.jsx("span",{className:"text-red-500 ms-1",children:"*"})]}),Oe(H),Fe(H,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Fe(H,"help_text")})]},H.field_id))}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:r?"rtl":"ltr",children:[i.jsx(Tm,{className:"h-4 w-4"}),i.jsx("span",{children:n("surveys.locationWillBeCaptured")})]})})]}):i.jsxs("div",{children:[i.jsx(He,{className:"text-base font-medium mb-4 block",children:n("surveys.selectTemplate")}),i.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:p.filter(H=>H.is_active).map(H=>i.jsx(it,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(z==null?void 0:z.template_id)===H.template_id?"ring-2 ring-primary":""}`,onClick:()=>Rc(H),children:i.jsx(dt,{className:"p-4",dir:r?"rtl":"ltr",children:i.jsx("div",{className:"flex items-start gap-3",dir:r?"rtl":"ltr",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-medium text-sm truncate",children:Fe(H,"template_name")}),H.category&&i.jsx(ht,{variant:"outline",className:"mt-1 text-xs",children:H.category}),Fe(H,"template_description")&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Fe(H,"template_description")})]})})})},H.template_id||`template-${Math.random()}`))})]})}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[i.jsx(ce,{variant:"outline",onClick:()=>{U(!1),D(null),L({})},className:"w-full sm:w-auto",children:n("buttons.cancel")}),z&&i.jsx(ce,{onClick:se,disabled:!z,className:"w-full sm:w-auto",children:n("surveys.submitSurvey")})]})]})]}),i.jsxs(bn,{open:Ce,onOpenChange:ve,children:[i.jsx(ob,{asChild:!0,children:i.jsxs(ce,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[i.jsx(zg,{className:"h-4 w-4 me-2 text-primary"}),n("surveys.bulkImport")]})}),i.jsx(ln,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:i.jsx(tWe,{templates:p,templateFields:v,onImportComplete:pi,onClose:()=>ve(!1)})})]})]})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:fr.length===0?i.jsx(it,{children:i.jsxs(dt,{className:"text-center py-12",children:[i.jsx(bs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noSurveysFound")}),i.jsx("p",{className:"text-muted-foreground",children:n(w?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):Z==="card"?i.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",children:fr.map(H=>i.jsxs(it,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[i.jsx(Bt,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate",children:H.survey_name||`${n("surveys.survey")} #${H.survey_id||"Unknown"}`}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Fe(H,"client_name")})]}),Gi(H.status)]})}),i.jsxs(dt,{className:"pt-0 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Pn,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:H.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Tm,{className:"h-4 w-4"}),i.jsx("span",{className:"truncate",children:H.location_address||(H.location_latitude&&H.location_longitude?`${H.location_latitude.toFixed(4)}, ${H.location_longitude.toFixed(4)}`:n("surveys.noLocation"))})]}),i.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Dn,{className:"h-4 w-4"}),i.jsxs("span",{children:[n("surveys.createdBy"),": ",Jn(H.created_by)]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Ad,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(H.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ce,{size:"sm",variant:"outline",className:"h-8 px-2 flex items-center gap-1 hover:bg-primary hover:text-primary-foreground border-primary/20",onClick:()=>S(H),children:[i.jsx(ni,{className:"h-4 w-4 me-1"}),i.jsx("span",{className:"text-xs",children:n("common.view")})]}),i.jsx(ce,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:ne=>{ne.stopPropagation(),W(H.survey_id)},children:i.jsx(ir,{className:"h-4 w-4"})})]})]})]})]})]},H.survey_id||`survey-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:$e()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:bt>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(cp,{children:i.jsxs(up,{className:r?"flex-row-reverse":"",children:[i.jsx(Ea,{children:r?i.jsx(wu,{onClick:()=>Ue(Math.min(bt,Te+1)),className:Te===bt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(_u,{onClick:()=>Ue(Math.max(1,Te-1)),className:Te===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Ea,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",Te," ",n("common.of")," ",bt]})}),i.jsx(Ea,{children:r?i.jsx(_u,{onClick:()=>Ue(Math.max(1,Te-1)),className:Te===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(wu,{onClick:()=>Ue(Math.min(bt,Te+1)),className:Te===bt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]}),i.jsxs(Wr,{value:"templates",className:"space-y-3 flex flex-col min-h-0",dir:r?"rtl":"ltr",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[i.jsx(ce,{variant:E==="list"?"default":"ghost",size:"sm",onClick:()=>xe("list"),className:"h-8 w-8 p-0",children:i.jsx(Em,{className:"h-4 w-4"})}),i.jsx(ce,{variant:E==="card"?"default":"ghost",size:"sm",onClick:()=>xe("card"),className:"h-8 w-8 p-0",children:i.jsx(bs,{className:"h-4 w-4"})})]}),i.jsx(Md,{permission:"survey_templates_INSERT",children:i.jsxs(ce,{onClick:()=>{ud(),G(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[i.jsx(Kt,{className:"h-4 w-4 me-2"}),n("surveys.createTemplate")]})})]}),i.jsx("div",{className:"flex-1 min-h-0 overflow-auto",dir:r?"rtl":"ltr",children:Sn.length===0?i.jsx(it,{className:"border-dashed",children:i.jsxs(dt,{className:"text-center py-16",children:[i.jsx("div",{className:"bg-muted/50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(bs,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:n("surveys.noTemplatesFound")}),i.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:n(w?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):E==="card"?i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 pb-4",dir:r?"rtl":"ltr",children:Ba.map(H=>i.jsxs(it,{className:"group relative overflow-hidden transition-all duration-300 hover:shadow-xl border-primary/5 hover:border-primary/20",children:[i.jsx("div",{className:"absolute top-0 inset-inline-start-0 w-1 h-full bg-primary/10 group-hover:bg-primary transition-colors"}),i.jsx(Bt,{className:"pb-3",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:Fe(H,"template_name")}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[H.category&&i.jsx(ht,{variant:"secondary",className:"text-[10px] uppercase tracking-wider font-bold bg-muted/50",children:H.category}),H.is_default&&i.jsx(ht,{variant:"default",className:"text-[10px] uppercase tracking-wider font-bold bg-green-500 hover:bg-green-600",children:n("surveys.default")}),i.jsx(ht,{variant:H.is_active?"outline":"secondary",className:"text-[10px] uppercase tracking-wider font-bold",children:H.is_active?n("surveys.active"):n("surveys.inactive")})]})]})})}),i.jsxs(dt,{className:"space-y-4",children:[Fe(H,"template_description")&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[40px]",children:Fe(H,"template_description")}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-primary/5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Ad,{className:"h-3.5 w-3.5"}),i.jsx("span",{children:new Date(H.created_at).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-80 group-hover:opacity-100 transition-opacity",children:[i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hover:bg-primary/5",onClick:()=>Nn(H),title:n("common.view"),children:i.jsx(ni,{className:"h-4 w-4"})}),!H.is_default&&i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-green-500 hover:bg-green-50",onClick:ne=>{ne.stopPropagation(),ee(H.template_id)},title:n("surveys.setAsDefault"),children:i.jsx(rc,{className:"h-4 w-4"})}),i.jsx(Md,{permission:"survey_templates_UPDATE",children:i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-500 hover:bg-blue-50",onClick:ne=>{ne.stopPropagation(),zo(H)},title:n("buttons.edit"),children:i.jsx(gk,{className:"h-4 w-4"})})}),i.jsx(Md,{permission:"survey_templates_DELETE",children:i.jsx(ce,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:bg-red-50",onClick:ne=>{ne.stopPropagation(),ue(H.template_id)},title:n("buttons.delete"),children:i.jsx(ir,{className:"h-4 w-4"})})})]})]})]})]},H.template_id||`template-${Math.random()}`))}):i.jsx("div",{className:"w-full overflow-hidden",dir:r?"rtl":"ltr",children:Ae()})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",dir:r?"rtl":"ltr",children:Jt>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(cp,{children:i.jsxs(up,{className:r?"flex-row-reverse":"",children:[i.jsx(Ea,{children:r?i.jsx(wu,{onClick:()=>Se(Math.min(Jt,ze+1)),className:ze===Jt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")}):i.jsx(_u,{onClick:()=>Se(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")})}),i.jsx(Ea,{children:i.jsxs("span",{className:"px-3 py-2 text-sm text-muted-foreground font-medium",children:[n("common.page")," ",ze," ",n("common.of")," ",Jt]})}),i.jsx(Ea,{children:r?i.jsx(_u,{onClick:()=>Se(Math.max(1,ze-1)),className:ze===1?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.previous")}):i.jsx(wu,{onClick:()=>Se(Math.min(Jt,ze+1)),className:ze===Jt?"pointer-events-none opacity-50":"cursor-pointer",children:n("common.next")})})]})})})})]})]})}),i.jsx(bn,{open:!!N,onOpenChange:H=>!H&&S(null),children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(cn,{children:i.jsx(un,{children:(N==null?void 0:N.survey_name)||`${n("surveys.survey")} #${N==null?void 0:N.survey_id}`})}),N&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.clientName")}),i.jsx("p",{className:"text-sm",children:Fe(N,"client_name")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.clientCompany")}),i.jsx("p",{className:"text-sm",children:N.client_company||n("surveys.noCompany")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.contact")}),i.jsx("p",{className:"text-sm",children:N.client_contact||n("surveys.noContact")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.email")}),i.jsx("p",{className:"text-sm",children:N.client_email||n("surveys.noEmail")})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.location")}),i.jsx("p",{className:"text-sm",children:i.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${N.location_latitude},${N.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:N.location_address||`${(Re=N.location_latitude)==null?void 0:Re.toFixed(6)}, ${(Q=N.location_longitude)==null?void 0:Q.toFixed(6)}`})})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.responses")}),i.jsx("div",{className:"mt-2 space-y-2",children:N.survey_responses&&Object.keys(N.survey_responses).length>0?(()=>{const H=v[N.template_id]||[],ne=new Map(H.map(we=>[we.field_id.toString(),we.field_label]));return Object.entries(N.survey_responses).map(([we,ge])=>{const Qe=ne.get(we)||we,ct=typeof ge=="string"&&ge.startsWith("data:image/");return i.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[i.jsxs("div",{className:"font-medium text-sm text-primary",children:[Qe,":"]}),ct?i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:ge,alt:Qe,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):i.jsx("div",{className:"text-sm text-muted-foreground break-words",children:(()=>{if(ge==null)return"N/A";if(Array.isArray(ge))return ge.join(", ");if(typeof ge=="object"){if("bucket"in ge&&"path"in ge&&"url"in ge)return"Image";try{const wt=JSON.stringify(ge,null,2);return i.jsx("pre",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded text-xs overflow-x-auto",children:wt})}catch{return String(ge)}}return String(ge)})()})]},we)})})():i.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:n("surveys.noResponsesRecorded")})})]})]})]})}),i.jsx(ui,{open:!!_e,onOpenChange:H=>!H&&W(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:n("surveys.deleteSurvey")}),i.jsx(Is,{children:n("surveys.deleteSurveyConfirmation",{name:((ye=h.find(H=>H.survey_id===_e))==null?void 0:ye.survey_name)||`${n("surveys.survey")} #${_e}`})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:n("buttons.cancel")}),i.jsx(Ls,{onClick:()=>{_e&&ae(_e)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(bn,{open:!!k,onOpenChange:H=>!H&&C(null),children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsx(cn,{children:i.jsx(un,{children:Fe(k||{},"template_name")})}),k&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.category")}),i.jsx("p",{className:"text-sm",children:k.category||n("surveys.noCategory")})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.status")}),i.jsxs("div",{className:"flex items-center gap-2",children:[k.is_active?i.jsx(ht,{variant:"default",className:"bg-green-500",children:n("surveys.active")}):i.jsx(ht,{variant:"secondary",children:n("surveys.inactive")}),k.is_default&&i.jsx(ht,{variant:"default",children:n("surveys.default")})]})]})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.description")}),i.jsx("p",{className:"text-sm mt-1",children:Fe(k,"template_description")||n("surveys.noDescription")})]}),i.jsxs("div",{children:[i.jsxs(He,{className:"text-sm font-medium",children:[n("surveys.fields")," (",A.length,")"]}),i.jsx("div",{className:"mt-2 space-y-2",children:A.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:n("surveys.noFields")}):A.sort((H,ne)=>H.field_order-ne.field_order).map(H=>i.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ht,{variant:"outline",className:"text-xs",children:H.field_type}),i.jsx("span",{className:"text-sm font-medium",children:Fe(H,"field_label")}),le(H)&&i.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Fe(H,"help_text")&&i.jsx("p",{className:"text-xs text-muted-foreground",children:Fe(H,"help_text")})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",H.field_order]})]})},H.field_id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.created")}),i.jsx("p",{children:new Date(k.created_at).toLocaleString()})]}),i.jsxs("div",{children:[i.jsx(He,{className:"text-sm font-medium",children:n("surveys.updated")}),i.jsx("p",{children:new Date(k.updated_at).toLocaleString()})]})]})]})]})}),i.jsx(ui,{open:!!re,onOpenChange:H=>!H&&ue(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:n("surveys.deleteTemplate")}),i.jsx(Is,{children:n("surveys.deleteTemplateConfirmation",{name:p.find(H=>H.template_id===re)?Fe(p.find(H=>H.template_id===re),"template_name"):`${n("surveys.template")} #${re}`})})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:n("buttons.cancel")}),i.jsx(Ls,{onClick:()=>{re&&q(re)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:n("buttons.delete")})]})]})}),i.jsx(bn,{open:O,onOpenChange:G,children:i.jsxs(ln,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[i.jsxs(cn,{children:[i.jsx(un,{children:n(V?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),i.jsx(Ma,{children:n("surveys.createTemplateDesc")})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:"template_name",children:[n("surveys.templateName")," *"]}),i.jsx(We,{id:"template_name",value:oe.template_name,onChange:H=>me(ne=>({...ne,template_name:H.target.value})),placeholder:n("surveys.templateName"),className:je.template_name?"border-red-500":""}),je.template_name&&i.jsx("p",{className:"text-sm text-red-500",children:je.template_name})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"category",children:n("surveys.category")}),i.jsxs(xt,{value:oe.category,onValueChange:H=>me(ne=>({...ne,category:H})),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:n("surveys.selectCategory")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"customer_satisfaction",children:n("surveys.customerSatisfaction")}),i.jsx(Ee,{value:"product_feedback",children:n("surveys.productFeedback")}),i.jsx(Ee,{value:"service_quality",children:n("surveys.serviceQuality")}),i.jsx(Ee,{value:"general",children:n("surveys.general")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"template_description",children:n("surveys.description")}),i.jsx(Ln,{id:"template_description",value:oe.template_description,onChange:H=>me(ne=>({...ne,template_description:H.target.value})),placeholder:n("surveys.description"),rows:3})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:oe.is_active,onChange:H=>me(ne=>({...ne,is_active:H.target.checked})),className:"rounded"}),i.jsx(He,{htmlFor:"is_active",children:n("surveys.isActive")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h3",{className:"text-lg font-semibold",children:n("surveys.fields")})}),je.fields&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:je.fields})}),i.jsx("div",{className:"space-y-3",children:B.map((H,ne)=>{var we,ge,Qe;return i.jsx(it,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>Yi(ne,Math.max(0,ne-1)),disabled:ne===0,children:i.jsx(Sae,{className:"h-4 w-4"})}),i.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>Yi(ne,Math.min(B.length-1,ne+1)),disabled:ne===B.length-1,children:i.jsx(wae,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{children:[n("surveys.fieldLabel")," *"]}),i.jsx(We,{value:H.field_label,onChange:ct=>hn(ne,{field_label:ct.target.value}),placeholder:n("surveys.fieldLabel"),className:je[`field_${ne}`]?"border-red-500":""}),je[`field_${ne}`]&&i.jsx("p",{className:"text-sm text-red-500",children:je[`field_${ne}`]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{children:[n("surveys.fieldType")," *"]}),i.jsxs(xt,{value:H.field_type,onValueChange:ct=>hn(ne,{field_type:ct}),children:[i.jsx(pt,{children:i.jsx(yt,{})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"text",children:n("surveys.text")}),i.jsx(Ee,{value:"textarea",children:n("surveys.textarea")}),i.jsx(Ee,{value:"email",children:n("surveys.email")}),i.jsx(Ee,{value:"date",children:n("surveys.date")}),i.jsx(Ee,{value:"select",children:n("surveys.select")}),i.jsx(Ee,{value:"multiselect",children:n("surveys.multiselect")}),i.jsx(Ee,{value:"radio",children:n("surveys.radio")}),i.jsx(Ee,{value:"checkbox",children:n("surveys.checkbox")}),i.jsx(Ee,{value:"image",children:n("surveys.image")})]})]})]})]}),(H.field_type==="select"||H.field_type==="multiselect"||H.field_type==="radio")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{children:n("surveys.options")}),i.jsx(Ln,{defaultValue:((ge=(we=H.field_options)==null?void 0:we.options)==null?void 0:ge.join(`
`))||"",onBlur:ct=>{const wt=ct.target.value.split(/[\n\s]+/).filter(nt=>nt.trim()).map(nt=>nt.trim());hn(ne,{field_options:{options:wt,allow_multiple:H.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((Qe=H.field_options)==null?void 0:Qe.options)&&H.field_options.options.length>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[H.field_options.options.length," option(s): ",H.field_options.options.join(", ")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:`required-${ne}`,checked:H.is_required,onChange:ct=>hn(ne,{is_required:ct.target.checked}),className:"rounded"}),i.jsx(He,{htmlFor:`required-${ne}`,children:n("surveys.isRequired")})]})]}),i.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>Un(ne),className:"text-red-500 hover:text-red-700",children:i.jsx(ir,{className:"h-4 w-4"})})]})},ne)})}),i.jsx("div",{className:"flex justify-center pt-4",children:i.jsxs(ce,{onClick:Qn,size:"sm",className:"bg-primary hover:bg-primary/90 text-white",children:[i.jsx(Kt,{className:"h-4 w-4 me-2"}),n("surveys.addField")]})})]})]}),i.jsxs(Ra,{children:[i.jsx(ce,{variant:"outline",onClick:()=>G(!1),disabled:Ve,children:n("buttons.cancel")}),i.jsx(ce,{onClick:Dc,disabled:!oe.template_name.trim()||Ve,children:n(Ve?"buttons.saving":V?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function nWe(){const{t:e}=Vt();xr();const{isRTL:t}=Ia(),r=tn(),[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(""),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState("leads"),[y,b]=x.useState(""),[_,w]=x.useState("");x.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const P=await ns.getAll();a(P)}catch(P){console.error("Failed to load stages:",P)}finally{o(!1)}},N=P=>n.filter(T=>T.stage_type===P).sort((T,U)=>(T.stager_order_index??0)-(U.stager_order_index??0)),S=async()=>{if(y.trim())try{const P=N(g),T=P.length>0?Math.max(...P.map(z=>z.stager_order_index||0)):-1,U={stage_name:y.trim(),stage_name_ar:_.trim()||null,stage_type:g,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await ns.create(U),await j(),b(""),w(""),p(!1)}catch(P){console.error("Failed to create stage:",P)}},k=async(P,T)=>{try{await ns.update(P.stage_id,T),await j(),c(null),d("")}catch(U){console.error("Failed to update stage:",U)}},C=async P=>{try{await ns.delete(P),await j(),h(null)}catch(T){console.error("Failed to delete stage:",T)}},A=P=>{const T=N(P);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${P}`)}),i.jsxs(ce,{size:r?"default":"sm",onClick:()=>{v(P),p(!0)},className:"w-full sm:w-auto",children:[i.jsx(Kt,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):i.jsx("div",{className:"space-y-2",children:T.map((U,z)=>i.jsx(it,{className:"p-3 md:p-4",children:i.jsxs("div",{className:be("flex gap-2 md:gap-3 rtl:flex-row-reverse",r?"flex-col":"items-center"),children:[!r&&i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(l==null?void 0:l.stage_id)===U.stage_id?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(We,{value:l.stage_name,onChange:D=>c({...l,stage_name:D.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),i.jsx(We,{value:u,onChange:D=>d(D.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>k(U,{stage_name:l.stage_name,stage_name_ar:u||null}),className:"flex-1 sm:flex-initial",children:i.jsx(Ao,{className:"h-4 w-4"})}),i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{c(null),d("")},className:"flex-1 sm:flex-initial",children:i.jsx(Po,{className:"h-4 w-4"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Fe(U,"stage_name")}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",U.stager_order_index]})]}),i.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[i.jsx(ce,{size:"sm",variant:"ghost",onClick:()=>{c(U),d(U.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:i.jsx(Li,{className:"h-4 w-4"})}),i.jsx(ce,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>h(U.stage_id),children:i.jsx(ir,{className:"h-4 w-4"})})]})]})]})},U.stage_id))})]})};return s?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})}):i.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:t?"rtl":"ltr",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),i.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),i.jsxs(Io,{defaultValue:"stages",className:"space-y-6",children:[i.jsx(Bi,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:t?"rtl":"ltr",children:i.jsx(Ar,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),i.jsx(Wr,{value:"stages",className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:t?"rtl":"ltr",children:[i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("leads")})]}),i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("projects")})]}),i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("tasks")})]}),i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("tickets")})]}),i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("mleads")})]}),i.jsxs(it,{className:"border-none shadow-soft overflow-hidden",children:[i.jsx(Bt,{className:"bg-muted/30 pb-3",dir:t?"rtl":"ltr",children:i.jsxs(er,{className:"text-lg flex items-center gap-2",children:[i.jsx(Jo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),i.jsx(dt,{className:"p-4 md:p-6",children:A("mprojects")})]})]})})]}),i.jsx(bn,{open:m,onOpenChange:p,children:i.jsxs(ln,{className:"w-[95vw] sm:max-w-[425px]",children:[i.jsxs(cn,{children:[i.jsx(un,{children:e("settings.addStage")}),i.jsx(Ma,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),i.jsxs("div",{className:"space-y-4 py-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),i.jsx(We,{id:"stage-name",value:y,onChange:P=>b(P.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),i.jsx(We,{id:"stage-name-ar",value:_,onChange:P=>w(P.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),i.jsxs(Ra,{className:"flex-col sm:flex-row gap-2",dir:t?"rtl":"ltr",children:[i.jsx(ce,{variant:"outline",onClick:()=>p(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),i.jsx(ce,{onClick:S,disabled:!y.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),i.jsx(ui,{open:!!f,onOpenChange:P=>!P&&h(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:e("settings.deleteStage")}),i.jsx(Is,{children:e("settings.deleteStageConfirmation")})]}),i.jsxs(Ms,{dir:t?"rtl":"ltr",children:[i.jsx($s,{children:e("buttons.cancel")}),i.jsx(Ls,{onClick:()=>f&&C(f),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}class aWe{static async getReports(){try{return await Yr("/api/v1/reports")||[]}catch(t){throw console.error("Failed to fetch reports:",t),t}}static async getReport(t){try{return await Yr(`/api/v1/reports/${t}`)||null}catch(r){throw console.error("Failed to fetch report:",r),r}}static async getReportParameters(t){try{return await Yr(`/api/v1/reports/${t}/parameters`)||[]}catch(r){throw console.error("Failed to fetch report parameters:",r),r}}static async executeReport(t,r={}){try{return await Yr(`/api/v1/reports/${t}/execute`,{method:"POST",body:JSON.stringify({filters:r})})||{data:[],columns:[]}}catch(n){throw console.error("Failed to execute report:",n),n}}static async scheduleReport(t,r){try{return await Yr(`/api/v1/reports/${t}/schedule`,{method:"POST",body:JSON.stringify(r)})||null}catch(n){throw console.error("Failed to schedule report:",n),n}}static async getReportSchedules(t){try{const r=t?`/api/v1/reports/${t}/schedules`:"/api/v1/reports/schedules";return await Yr(r)||[]}catch(r){throw console.error("Failed to fetch report schedules:",r),r}}static async deleteSchedule(t){try{await Yr(`/api/v1/reports/schedules/${t}`,{method:"DELETE"})}catch(r){throw console.error("Failed to delete schedule:",r),r}}static async createReport(t){try{return await Yr("/api/v1/reports",{method:"POST",body:JSON.stringify(t)})}catch(r){throw console.error("Failed to create report:",r),r}}static async updateReport(t,r){try{return await Yr(`/api/v1/reports/${t}`,{method:"PUT",body:JSON.stringify(r)})}catch(n){throw console.error("Failed to update report:",n),n}}static async deleteReport(t){try{await Yr(`/api/v1/reports/${t}`,{method:"DELETE"})}catch(r){throw console.error("Failed to delete report:",r),r}}static async exportReport(t,r,n={}){try{const a=await Yr(`/api/v1/reports/${t}/export?format=${r}`,{method:"POST",body:JSON.stringify({filters:n})});if(a)return new Blob([JSON.stringify(a)],{type:r==="csv"?"text/csv":r==="excel"?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"application/pdf"});throw new Error("No data received for export")}catch(a){throw console.error("Failed to export report:",a),a}}static async getExecutionHistory(t,r=10){try{return await Yr(`/api/v1/reports/${t}/history?limit=${r}`)||[]}catch(n){throw console.error("Failed to fetch execution history:",n),n}}}var z5=1,sWe=.9,iWe=.8,oWe=.17,G2=.1,Y2=.999,lWe=.9999,cWe=.99,uWe=/[\\\/_+.#"@\[\(\{&]/,dWe=/[\\\/_+.#"@\[\(\{&]/g,fWe=/[\s-]/,jY=/[\s-]/g;function kE(e,t,r,n,a,s,o){if(s===t.length)return a===e.length?z5:cWe;var l=`${a},${s}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,p;u>=0;)f=kE(e,t,r,n,u+1,s+1,o),f>d&&(u===a?f*=z5:uWe.test(e.charAt(u-1))?(f*=iWe,m=e.slice(a,u-1).match(dWe),m&&a>0&&(f*=Math.pow(Y2,m.length))):fWe.test(e.charAt(u-1))?(f*=sWe,p=e.slice(a,u-1).match(jY),p&&a>0&&(f*=Math.pow(Y2,p.length))):(f*=oWe,a>0&&(f*=Math.pow(Y2,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=lWe)),(f<G2&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=kE(e,t,r,n,u+1,s+2,o),h*G2>f&&(f=h*G2)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function V5(e){return e.toLowerCase().replace(jY," ")}function hWe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,kE(e,t,V5(e),V5(t),0,0,{})}var N0='[cmdk-group=""]',X2='[cmdk-group-items=""]',mWe='[cmdk-group-heading=""]',SY='[cmdk-item=""]',W5=`${SY}:not([aria-disabled="true"])`,CE="cmdk-item-select",mh="data-value",pWe=(e,t,r)=>hWe(e,t,r),NY=x.createContext(void 0),Ix=()=>x.useContext(NY),kY=x.createContext(void 0),FO=()=>x.useContext(kY),CY=x.createContext(void 0),EY=x.forwardRef((e,t)=>{let r=ph(()=>{var O,G;return{search:"",value:(G=(O=e.value)!=null?O:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ph(()=>new Set),a=ph(()=>new Map),s=ph(()=>new Map),o=ph(()=>new Set),l=TY(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:p,disablePointerSelection:g=!1,vimBindings:v=!0,...y}=e,b=ia(),_=ia(),w=ia(),j=x.useRef(null),N=kWe();Ef(()=>{if(d!==void 0){let O=d.trim();r.current.value=O,S.emit()}},[d]),Ef(()=>{N(6,U)},[]);let S=x.useMemo(()=>({subscribe:O=>(o.current.add(O),()=>o.current.delete(O)),snapshot:()=>r.current,setState:(O,G,V)=>{var K,re,ue,_e;if(!Object.is(r.current[O],G)){if(r.current[O]=G,O==="search")T(),A(),N(1,P);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(w);W?W.focus():(K=document.getElementById(b))==null||K.focus()}if(N(7,()=>{var W;r.current.selectedItemId=(W=z())==null?void 0:W.id,S.emit()}),V||N(5,U),((re=l.current)==null?void 0:re.value)!==void 0){let W=G??"";(_e=(ue=l.current).onValueChange)==null||_e.call(ue,W);return}}S.emit()}},emit:()=>{o.current.forEach(O=>O())}}),[]),k=x.useMemo(()=>({value:(O,G,V)=>{var K;G!==((K=s.current.get(O))==null?void 0:K.value)&&(s.current.set(O,{value:G,keywords:V}),r.current.filtered.items.set(O,C(G,V)),N(2,()=>{A(),S.emit()}))},item:(O,G)=>(n.current.add(O),G&&(a.current.has(G)?a.current.get(G).add(O):a.current.set(G,new Set([O]))),N(3,()=>{T(),A(),r.current.value||P(),S.emit()}),()=>{s.current.delete(O),n.current.delete(O),r.current.filtered.items.delete(O);let V=z();N(4,()=>{T(),(V==null?void 0:V.getAttribute("id"))===O&&P(),S.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{s.current.delete(O),a.current.delete(O)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:w,labelId:_,listInnerRef:j}),[]);function C(O,G){var V,K;let re=(K=(V=l.current)==null?void 0:V.filter)!=null?K:pWe;return O?re(O,r.current.search,G):0}function A(){if(!r.current.search||l.current.shouldFilter===!1)return;let O=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(K=>{let re=a.current.get(K),ue=0;re.forEach(_e=>{let W=O.get(_e);ue=Math.max(W,ue)}),G.push([K,ue])});let V=j.current;D().sort((K,re)=>{var ue,_e;let W=K.getAttribute("id"),Z=re.getAttribute("id");return((ue=O.get(Z))!=null?ue:0)-((_e=O.get(W))!=null?_e:0)}).forEach(K=>{let re=K.closest(X2);re?re.appendChild(K.parentElement===re?K:K.closest(`${X2} > *`)):V.appendChild(K.parentElement===V?K:K.closest(`${X2} > *`))}),G.sort((K,re)=>re[1]-K[1]).forEach(K=>{var re;let ue=(re=j.current)==null?void 0:re.querySelector(`${N0}[${mh}="${encodeURIComponent(K[0])}"]`);ue==null||ue.parentElement.appendChild(ue)})}function P(){let O=D().find(V=>V.getAttribute("aria-disabled")!=="true"),G=O==null?void 0:O.getAttribute(mh);S.setState("value",G||void 0)}function T(){var O,G,V,K;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let re=0;for(let ue of n.current){let _e=(G=(O=s.current.get(ue))==null?void 0:O.value)!=null?G:"",W=(K=(V=s.current.get(ue))==null?void 0:V.keywords)!=null?K:[],Z=C(_e,W);r.current.filtered.items.set(ue,Z),Z>0&&re++}for(let[ue,_e]of a.current)for(let W of _e)if(r.current.filtered.items.get(W)>0){r.current.filtered.groups.add(ue);break}r.current.filtered.count=re}function U(){var O,G,V;let K=z();K&&(((O=K.parentElement)==null?void 0:O.firstChild)===K&&((V=(G=K.closest(N0))==null?void 0:G.querySelector(mWe))==null||V.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function z(){var O;return(O=j.current)==null?void 0:O.querySelector(`${SY}[aria-selected="true"]`)}function D(){var O;return Array.from(((O=j.current)==null?void 0:O.querySelectorAll(W5))||[])}function M(O){let G=D()[O];G&&S.setState("value",G.getAttribute(mh))}function L(O){var G;let V=z(),K=D(),re=K.findIndex(_e=>_e===V),ue=K[re+O];(G=l.current)!=null&&G.loop&&(ue=re+O<0?K[K.length-1]:re+O===K.length?K[0]:K[re+O]),ue&&S.setState("value",ue.getAttribute(mh))}function I(O){let G=z(),V=G==null?void 0:G.closest(N0),K;for(;V&&!K;)V=O>0?SWe(V,N0):NWe(V,N0),K=V==null?void 0:V.querySelector(W5);K?S.setState("value",K.getAttribute(mh)):L(O)}let F=()=>M(D().length-1),X=O=>{O.preventDefault(),O.metaKey?F():O.altKey?I(1):L(1)},J=O=>{O.preventDefault(),O.metaKey?M(0):O.altKey?I(-1):L(-1)};return x.createElement(mt.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:O=>{var G;(G=y.onKeyDown)==null||G.call(y,O);let V=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||V))switch(O.key){case"n":case"j":{v&&O.ctrlKey&&X(O);break}case"ArrowDown":{X(O);break}case"p":case"k":{v&&O.ctrlKey&&J(O);break}case"ArrowUp":{J(O);break}case"Home":{O.preventDefault(),M(0);break}case"End":{O.preventDefault(),F();break}case"Enter":{O.preventDefault();let K=z();if(K){let re=new Event(CE);K.dispatchEvent(re)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:EWe},c),Oj(e,O=>x.createElement(kY.Provider,{value:S},x.createElement(NY.Provider,{value:k},O))))}),gWe=x.forwardRef((e,t)=>{var r,n;let a=ia(),s=x.useRef(null),o=x.useContext(CY),l=Ix(),c=TY(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Ef(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=AY(a,s,[e.value,e.children,s],e.keywords),f=FO(),h=Yu(N=>N.value&&N.value===d.current),m=Yu(N=>u||l.filter()===!1?!0:N.search?N.filtered.items.get(a)>0:!0);x.useEffect(()=>{let N=s.current;if(!(!N||e.disabled))return N.addEventListener(CE,p),()=>N.removeEventListener(CE,p)},[m,e.onSelect,e.disabled]);function p(){var N,S;g(),(S=(N=c.current).onSelect)==null||S.call(N,d.current)}function g(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:y,onSelect:b,forceMount:_,keywords:w,...j}=e;return x.createElement(mt.div,{ref:mc(s,t),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:p},e.children)}),vWe=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,o=ia(),l=x.useRef(null),c=x.useRef(null),u=ia(),d=Ix(),f=Yu(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Ef(()=>d.group(o),[]),AY(o,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:o,forceMount:a}),[a]);return x.createElement(mt.div,{ref:mc(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Oj(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(CY.Provider,{value:h},m))))}),xWe=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=Yu(o=>!o.search);return!r&&!s?null:x.createElement(mt.div,{ref:mc(a,t),...n,"cmdk-separator":"",role:"separator"})}),yWe=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=FO(),o=Yu(u=>u.search),l=Yu(u=>u.selectedItemId),c=Ix();return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(mt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),bWe=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),o=x.useRef(null),l=Yu(u=>u.selectedItemId),c=Ix();return x.useEffect(()=>{if(o.current&&s.current){let u=o.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),x.createElement(mt.div,{ref:mc(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Oj(e,u=>x.createElement("div",{ref:mc(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),_We=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:o,...l}=e;return x.createElement(_w,{open:r,onOpenChange:n},x.createElement(ww,{container:o},x.createElement(Ap,{"cmdk-overlay":"",className:a}),x.createElement(Pp,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(EY,{ref:t,...l}))))}),wWe=x.forwardRef((e,t)=>Yu(r=>r.filtered.count===0)?x.createElement(mt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),jWe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(mt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Oj(e,o=>x.createElement("div",{"aria-hidden":!0},o)))}),zs=Object.assign(EY,{List:bWe,Item:gWe,Input:yWe,Group:vWe,Separator:xWe,Dialog:_We,Empty:wWe,Loading:jWe});function SWe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function NWe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function TY(e){let t=x.useRef(e);return Ef(()=>{t.current=e}),t}var Ef=typeof window>"u"?x.useEffect:x.useLayoutEffect;function ph(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Yu(e){let t=FO(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function AY(e,t,r,n=[]){let a=x.useRef(),s=Ix();return Ef(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(o=t.current)==null||o.setAttribute(mh,l),a.current=l}),a}var kWe=()=>{let[e,t]=x.useState(),r=ph(()=>new Map);return Ef(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function CWe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Oj({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(CWe(t),{ref:t.ref},r(t.props.children)):r(t)}var EWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const xa=x.forwardRef(({className:e,...t},r)=>i.jsx(zs,{ref:r,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));xa.displayName=zs.displayName;const ya=x.forwardRef(({className:e,...t},r)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(ds,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(zs.Input,{ref:r,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ya.displayName=zs.Input.displayName;const ba=x.forwardRef(({className:e,...t},r)=>i.jsx(zs.List,{ref:r,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ba.displayName=zs.List.displayName;const _a=x.forwardRef((e,t)=>i.jsx(zs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_a.displayName=zs.Empty.displayName;const wa=x.forwardRef(({className:e,...t},r)=>i.jsx(zs.Group,{ref:r,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));wa.displayName=zs.Group.displayName;const TWe=x.forwardRef(({className:e,...t},r)=>i.jsx(zs.Separator,{ref:r,className:be("-mx-1 h-px bg-border",e),...t}));TWe.displayName=zs.Separator.displayName;const pr=x.forwardRef(({className:e,...t},r)=>i.jsx(zs.Item,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));pr.displayName=zs.Item.displayName;const AWe={light:"",dark:".dark"},PY=x.createContext(null);function OY(){const e=x.useContext(PY);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const su=x.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const o=x.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return i.jsx(PY.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:s,className:be("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[i.jsx(PWe,{id:l,config:n}),i.jsx(Xl,{children:r})]})})});su.displayName="Chart";const PWe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(AWe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},kd=na,iu=x.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:p}=OY(),g=x.useMemo(()=>{var j;if(a||!(t!=null&&t.length))return null;const[y]=t,b=`${h||y.dataKey||y.name||"value"}`,_=EE(p,y,b),w=!h&&typeof o=="string"?((j=p[o])==null?void 0:j.label)||o:_==null?void 0:_.label;return l?i.jsx("div",{className:be("font-medium",c),children:l(w,t)}):w?i.jsx("div",{className:be("font-medium",c),children:w}):null},[o,l,t,a,c,p,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return i.jsxs("div",{ref:m,className:be("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:g,i.jsx("div",{className:"grid gap-1.5",children:t.map((y,b)=>{const _=`${f||y.name||y.dataKey||"value"}`,w=EE(p,y,_),j=d||y.payload.fill||y.color;return i.jsx("div",{className:be("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):i.jsxs(i.Fragment,{children:[w!=null&&w.icon?i.jsx(w.icon,{}):!s&&i.jsx("div",{className:be("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),i.jsxs("div",{className:be("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?g:null,i.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||y.name})]}),y.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});iu.displayName="ChartTooltip";const OWe=x.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:o}=OY();return r!=null&&r.length?i.jsx("div",{ref:s,className:be("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=EE(o,l,c);return i.jsxs("div",{className:be("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});OWe.displayName="ChartLegend";function EE(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function DWe(){var j4,S4,N4,k4,C4,E4;const{t:e}=Vt(),{user:t}=xr(),{currentLanguage:r}=Ia(),{toast:n}=Lo(),a=tn(),{setBreadcrumbs:s}=Xv();Bs();const[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState([]),[w,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState([]),[A,P]=x.useState([]),[T,U]=x.useState([]),[z,D]=x.useState(!0),[M,L]=x.useState(null),[I,F]=x.useState(""),[X,J]=x.useState(""),[O,G]=x.useState(!1),[V,K]=x.useState(1),[re]=x.useState(10),[ue,_e]=x.useState(0),[W,Z]=x.useState(0),[pe,E]=x.useState(""),[xe,Te]=x.useState(""),[Ue,ze]=x.useState(""),[Se,et]=x.useState(""),[Ze,oe]=x.useState(""),[me,B]=x.useState(""),[de,je]=x.useState(null),[Ne,Ve]=x.useState(null),[ke,Ce]=x.useState(!1),[ve,De]=x.useState(!1),[Me,Je]=x.useState({city_name_en:"",city_name_ar:"",country_id:null}),[tt,bt]=x.useState(!1),[Ft,ur]=x.useState({system_name_en:"",system_name_ar:""}),[fr,Sn]=x.useState(!1),[Jt,rn]=x.useState({activity_name_en:"",activity_name_ar:""}),[Ki,Ba]=x.useState(!1),[Jn,Gi]=x.useState({status_name_en:"",status_name_ar:""}),[pi,Nn]=x.useState([]),[Qn,Un]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[hn,Yi]=x.useState(!1),[ud,zo]=x.useState(null),[dr,Dc]=x.useState(null),[Rc,q]=x.useState(!1),[ae,ee]=x.useState([]),[te,se]=x.useState(!1),[le,Oe]=x.useState(window.innerWidth>=768),[$e,Ae]=x.useState("list"),[Pe,Re]=x.useState(!1),[Q,ye]=x.useState(null),[H,ne]=x.useState("leads_summary"),[we,ge]=x.useState(!1),[Qe,ct]=x.useState({}),[wt,nt]=x.useState(null),[st,nn]=x.useState(!1),[Kr,Vs]=x.useState(!1),[zn,Mc]=x.useState(!1),[da,Xi]=x.useState(!1),[Rl,qf]=x.useState(!1),[Fc,$x]=x.useState(!1),[Bx,dd]=x.useState(!1),[Zp,Fj]=x.useState(!1),[HO,qO]=x.useState(!1),[Ux,KO]=x.useState(null),[GO,JY]=x.useState(null),[Ij,YO]=x.useState(!1),[XO,Lj]=x.useState(!1),[JO,$j]=x.useState(!1),[QO,Bj]=x.useState(!1),[ZO,Uj]=x.useState(!1),[e4,zj]=x.useState(!1),[t4,Vj]=x.useState(!1),[QY,r4]=x.useState(1),[ZY,n4]=x.useState(1),[eX,a4]=x.useState(1),[tX,s4]=x.useState(1),[rX,i4]=x.useState(1),[nX,o4]=x.useState(1),[JHe,aX]=x.useState(1),[QHe,sX]=x.useState(1),[ZHe,iX]=x.useState(1),[Wj,l4]=x.useState(!1),[Hj,c4]=x.useState(!1),[qj,u4]=x.useState(!1),[Kj,d4]=x.useState(!1),[Gj,f4]=x.useState(!1),[Yj,h4]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[rr,Ua]=x.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[s,e]),x.useEffect(()=>{Xj()},[]),x.useEffect(()=>{const R=setTimeout(()=>{J(I)},500);return()=>clearTimeout(R)},[I]);const m4=x.useMemo(()=>!!(pe||xe||Ue||Se||Ze||me),[pe,xe,Ue,Se,Ze,me]),Ic=x.useMemo(()=>m4||!!X,[m4,X]);x.useEffect(()=>{Gf(X!=="")},[V,X,pe,xe,Ue,Se,Ze,me,r]),x.useEffect(()=>{te?hX():u([])},[te,X,pe,xe,Ue,Se,Ze,me,r]);const Xj=async(R=!1)=>{try{D(!0),L(null);const fe="mleads_master_data";if(!R){const Hs=localStorage.getItem(fe);if(Hs){const{data:gi,timestamp:zx}=JSON.parse(Hs),nS=Date.now()-zx,aS=10*60*1e3;if(nS<aS){console.log("[MLeads] Using cached master data"),f(gi.cities),m(gi.activities),g(gi.statuses),y(gi.systems),_(gi.stages),j(gi.contacts),C(gi.users),P(gi.countries),U(gi.jobTitles),D(!1);return}}}r4(1),n4(1),a4(1),s4(1),i4(1),o4(1),aX(1),sX(1),iX(1);const[Le,qe,jt,hr,Ji,$c,Zn,Yf,rS]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),Y.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Y.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"status_id,status_name_en,status_name_ar"}),Y.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"system_id,system_name_en,system_name_ar"}),Y.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:10,page:0,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),Y.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:10,page:0}),Y.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:0,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"country_id,country_name_en,country_name_ar"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),Ws=Hs=>Array.isArray(Hs)?Hs:Hs!=null&&Hs.data&&Array.isArray(Hs.data)?Hs.data:[],ms={cities:Ws(Le),activities:Ws(qe),statuses:Ws(jt),systems:Ws(hr),stages:Ws(Ji),contacts:Ws($c),users:Ws(Zn),countries:Ws(Yf),jobTitles:Ws(rS)};localStorage.setItem(fe,JSON.stringify({data:ms,timestamp:Date.now()})),f(ms.cities),m(ms.activities),g(ms.statuses),y(ms.systems),_(ms.stages),j(ms.contacts),C(ms.users),P(ms.countries),U(ms.jobTitles)}catch(fe){console.error("Failed to load master data:",fe);const qe=localStorage.getItem("mleads_master_data");if(qe){const{data:jt}=JSON.parse(qe);f(jt.cities),m(jt.activities),g(jt.statuses),y(jt.systems),_(jt.stages),j(jt.contacts),C(jt.users),P(jt.countries),U(jt.jobTitles)}else{const jt=fe instanceof Error?fe.message:"Failed to load data";L(jt),n({title:"Error",description:jt,variant:"destructive"})}}finally{D(!1)}},oX=async()=>{if(!Wj)try{l4(!0);const R=QY+1,fe=await Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"city_id,city_name_en,city_name_ar"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(f(qe=>[...qe,...Le]),r4(R))}catch(R){console.error("Failed to load more cities:",R)}finally{l4(!1)}},lX=async()=>{if(!Hj)try{c4(!0);const R=ZY+1,fe=await Y.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"activity_id,activity_name_en,activity_name_ar"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(m(qe=>[...qe,...Le]),n4(R))}catch(R){console.error("Failed to load more activities:",R)}finally{c4(!1)}},cX=async()=>{if(!qj)try{u4(!0);const R=eX+1,fe=await Y.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"status_id,status_name_en,status_name_ar"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(g(qe=>[...qe,...Le]),a4(R))}catch(R){console.error("Failed to load more statuses:",R)}finally{u4(!1)}},uX=async()=>{if(!Kj)try{d4(!0);const R=tX+1,fe=await Y.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"system_id,system_name_en,system_name_ar"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(y(qe=>[...qe,...Le]),s4(R))}catch(R){console.error("Failed to load more systems:",R)}finally{d4(!1)}},dX=async()=>{if(!Gj)try{f4(!0);const R=rX+1,fe=await Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:10,page:R,select_fields:"country_id,country_name_en,country_name_ar"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(P(qe=>[...qe,...Le]),i4(R))}catch(R){console.error("Failed to load more countries:",R)}finally{f4(!1)}},fX=async()=>{if(!Yj)try{h4(!0);const R=nX+1,fe=await Y.Users.list({sort_by:"name",sort_order:"asc",pageSize:10,page:R,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),Le=(fe==null?void 0:fe.data)||[];Le.length>0&&(C(qe=>[...qe,...Le]),o4(R))}catch(R){console.error("Failed to load more users:",R)}finally{h4(!1)}},Kf=(R,fe,Le)=>{const{scrollTop:qe,scrollHeight:jt,clientHeight:hr}=R.currentTarget;qe+hr>=jt-50&&!Le&&fe()},Gf=async(R=!1,fe=!1)=>{try{R?G(!0):D(!0),L(null);const Le="mleads_leads_data",qe=pe||xe||Ue||Se||Ze||me||X;if(!fe&&!qe&&!R){const gi=localStorage.getItem(Le);if(gi){const{data:zx,timestamp:nS}=JSON.parse(gi),aS=Date.now()-nS,UX=5*60*1e3;if(aS<UX){console.log("[MLeads] Using cached leads data"),l(zx.leads),Z(zx.totalCount),D(!1),G(!1);return}}}const jt={};pe&&(jt.city_id=parseInt(pe)),Ue&&(jt.system_id=parseInt(Ue)),Se&&(jt.status_id=parseInt(Se)),Ze&&(jt.activity_id=parseInt(Ze)),me&&(jt.assigned_to=parseInt(me)),xe&&(jt.m_city_country_id=parseInt(xe));const rS=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation","decision_maker",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Ws={page:Ic?0:V-1,pageSize:Ic?100:re,sort_by:"created_at",sort_order:"desc",exact_filters:jt,select_fields:rS};X&&(Ws.search_fields="company_name",Ws.search=X);const ms=await Y.mLeads.list(Ws),Hs=ms.data||[];!qe&&!R&&localStorage.setItem(Le,JSON.stringify({data:{leads:Hs,totalCount:ms.total||0},timestamp:Date.now()})),l(Hs),Z(ms.total||0)}catch(Le){if(console.error("Failed to load leads:",Le),!hasFilters&&!R){const jt=localStorage.getItem("mleads_leads_data");if(jt){const{data:hr}=JSON.parse(jt);l(hr.leads),Z(hr.totalCount)}else{const hr=Le instanceof Error?Le.message:"Failed to load data";L(hr),n({title:"Error",description:hr,variant:"destructive"})}}else{const qe=Le instanceof Error?Le.message:"Failed to load data";L(qe),n({title:"Error",description:qe,variant:"destructive"})}}finally{D(!1),G(!1)}},hX=async()=>{try{const R={};pe&&(R.city_id=parseInt(pe)),Ue&&(R.system_id=parseInt(Ue)),Se&&(R.status_id=parseInt(Se)),Ze&&(R.activity_id=parseInt(Ze)),me&&(R.assigned_to=me),xe&&(R.m_city_country_id=parseInt(xe));const Ji=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",r==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",r==="ar"?"m_city_city_name_ar":"m_city_city_name_en",r==="ar"?"m_system_system_name_ar":"m_system_system_name_en",r==="ar"?"m_status_status_name_ar":"m_status_status_name_en",r==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),$c={pageSize:200,exact_filters:R,select_fields:Ji};X&&($c.search=X);const Zn=await Y.mLeads.list($c);u(Zn.data||[])}catch(R){console.error("Failed to load all filtered leads:",R)}},p4=x.useMemo(()=>{if(!Ic)return o;const R=Zn=>Zn?parseInt(Zn,10):void 0,fe=R(Se),Le=R(Ze),qe=R(Ue),jt=R(pe),hr=R(xe),Ji=R(me),$c=X.trim().toLowerCase();return o.filter(Zn=>{if(fe!==void 0&&Zn.status_id!==fe||Le!==void 0&&Zn.activity_id!==Le||qe!==void 0&&Zn.system_id!==qe||jt!==void 0&&Zn.city_id!==jt)return!1;if(hr!==void 0){const Yf=Zn.m_city_country_id??null;if(Yf===null||Yf!==hr)return!1}return!(Ji!==void 0&&(Zn.assigned_to===null||Zn.assigned_to===void 0||String(Zn.assigned_to)!==String(Ji))||$c&&!(Zn.company_name||"").toLowerCase().includes($c))})},[Ic,o,Se,Ze,Ue,pe,xe,me,X]),fa=x.useMemo(()=>te?c:p4,[te,c,p4]),mX=x.useMemo(()=>{if(te){const R=(V-1)*re,fe=R+re;return fa.slice(R,fe)}if(Ic){const R=(V-1)*re,fe=R+re;return fa.slice(R,fe)}return o},[te,Ic,fa,o,V,re]),fd=x.useMemo(()=>Math.max(1,Math.ceil(ue/re)),[ue,re]);x.useEffect(()=>{_e(Ic?fa.length:W)},[fa,Ic,W]),x.useEffect(()=>{V>fd&&K(fd)},[V,fd]);const Gt=(R,fe,Le)=>{if(!R)return"-";let qe=r==="ar"&&(R==null?void 0:R[Le])||(R==null?void 0:R[fe]);if(!qe){const jt=fe.replace(/_en$/,""),hr=Le.replace(/_ar$/,"");qe=r==="ar"&&(R==null?void 0:R[hr])||(R==null?void 0:R[jt])}return qe||(R==null?void 0:R.name)||(R==null?void 0:R.label)||(R==null?void 0:R.title)||"-"},Jj=R=>R&&(r==="ar"?R.m_city_city_name_ar||R.m_city_city_name_en:R.m_city_city_name_en||R.m_city_city_name_ar)||"-",Qj=R=>R&&(r==="ar"?R.m_activity_activity_name_ar||R.m_activity_activity_name_en:R.m_activity_activity_name_en||R.m_activity_activity_name_ar)||"-",Zj=R=>R&&(r==="ar"?R.m_status_status_name_ar||R.m_status_status_name_en:R.m_status_status_name_en||R.m_status_status_name_ar)||"-",eS=R=>R&&(r==="ar"?R.m_system_system_name_ar||R.m_system_system_name_en:R.m_system_system_name_en||R.m_system_system_name_ar)||"-",g4=R=>R&&(r==="ar"?R.stages_stage_name_ar||R.stages_stage_name:R.stages_stage_name||R.stages_stage_name_ar)||"-",v4=R=>{if(!R)return"-";const fe=k.find(Le=>{var qe,jt;return((qe=Le.userid)==null?void 0:qe.toString())===R||((jt=Le.user_id)==null?void 0:jt.toString())===R});return(fe==null?void 0:fe.name)||(fe==null?void 0:fe.user_name)||(fe==null?void 0:fe.display_name)||"-"},pX=R=>{if(R==null||R==="")return"";const fe=Number(R),Le=d.find(qe=>Number(qe.city_id)===fe);return Gt(Le,"city_name_en","city_name_ar")},gX=R=>{if(R==null||R==="")return"";const fe=Number(R),Le=h.find(qe=>Number(qe.activity_id)===fe);return Gt(Le,"activity_name_en","activity_name_ar")},vX=R=>{if(R==null||R==="")return"";const fe=Number(R),Le=p.find(qe=>Number(qe.status_id)===fe);return Gt(Le,"status_name_en","status_name_ar")},xX=R=>{if(R==null||R==="")return"";const fe=Number(R),Le=v.find(qe=>Number(qe.system_id)===fe);return Gt(Le,"system_name_en","system_name_ar")},yX=R=>{if(!R)return"";const fe=b.find(Le=>Number(Le.stage_id)===Number(R));return Gt(fe,"stage_name","stage_name_ar")},tS=R=>{const Le={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[R]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${Le.bg} ${Le.text} ${Le.border}`},bX=async(R,fe)=>await new Promise((qe,jt)=>{const hr=new FileReader;hr.onload=()=>{const Ji=hr.result;qe(Ji)},hr.onerror=jt,hr.readAsDataURL(R)}),x4=R=>R&&R!=="{}"&&R!==""&&typeof R=="string"&&R.startsWith("data:"),_X=async()=>{try{let R;if(Ne)await Y.mLeads.update(Ne,rr),R=Ne,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const fe={...rr,created_by:t==null?void 0:t.id},Le=await Y.mLeads.create(fe);if(Le&&Le.leads_id)R=Le.leads_id;else if(R=Le.id||Le.leads_id,!R)throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(pi.length>0&&await RX(R),wt&&rr.status_id===7){nn(!0);try{const fe=await bX(wt,R);await Y.mLeads.update(R,{lead_quotation:fe})}catch(fe){console.error("File upload failed:",fe),n({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{nn(!1),nt(null)}}Ce(!1),Ve(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Nn([]),await Gf()}catch(R){const fe=R instanceof Error?R.message:"Failed to save";n({title:"Error",description:fe,variant:"destructive"})}},wX=async R=>{try{await Y.mLeads.delete(R),n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),je(null),await Gf()}catch(fe){const Le=fe instanceof Error?fe.message:"Failed to delete";n({title:"Error",description:Le,variant:"destructive"})}},y4=R=>{Dc(R),b4(R.leads_id),_4(R.leads_id),q(!0)},b4=async R=>{try{const fe=await em.getByRelated("mlead",R);ee(fe)}catch(fe){console.error("Failed to load notes:",fe),ee([])}},_4=async R=>{try{const fe=await Y.mContacts.list({exact_filters:{leads_id:R},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});S(fe.data||[])}catch(fe){console.error("Failed to load contacts:",fe),S([])}},w4=async R=>{Ve(R.leads_id),Ua(R),await _4(R.leads_id);const fe=N.filter(Le=>Le.leads_id===R.leads_id);Nn(fe.map(Le=>{var qe;return{contact_name:Le.contact_name||"",contact_email:Le.contact_email||"",contact_mobile:((qe=Le.contact_mobile)==null?void 0:qe.toString())||"",jobtitle_id:Le.jobtitle_id}})),Ce(!0)},jX=async R=>{try{await Promise.all(R.map(fe=>Y.mLeads.delete(fe))),n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await Gf()}catch(fe){const Le=fe instanceof Error?fe.message:"Failed to delete";n({title:"Error",description:Le,variant:"destructive"})}},SX=async()=>{YO(!0);try{localStorage.removeItem("mleads_master_data"),localStorage.removeItem("mleads_leads_data"),l([]),u([]),f([]),m([]),g([]),y([]),_([]),j([]),C([]),P([]),U([]),await Promise.all([Xj(!0),Gf(!0)])}catch(R){console.error("[MLeads] Refresh failed:",R)}finally{YO(!1)}},NX=async(R,fe={})=>{try{ge(!0),ye(null);const Le=await aWe.executeReport(R==="leads_summary"?1:R==="leads_by_city"?2:R==="leads_conversion"?3:R==="sales_performance"?4:R==="leads_trend_simple"?5:1,fe);Le&&Le.data?ye(Le):n({title:"Error",description:"No data returned from report",variant:"destructive"})}catch(Le){console.error("Failed to load report:",Le),n({title:"Error",description:Le instanceof Error?Le.message:"Failed to load report",variant:"destructive"})}finally{ge(!1)}},Lc=(R,fe)=>{ct(Le=>({...Le,[R]:fe}))},kX=()=>{NX(H,Qe)},CX=()=>{if(!Q||!Q.data)return;const R=[Q.columns.join(","),...Q.data.map(jt=>Q.columns.map(hr=>typeof jt[hr]=="string"&&jt[hr].includes(",")?`"${jt[hr]}"`:jt[hr]).join(","))].join(`
`),fe=new Blob([R],{type:"text/csv"}),Le=window.URL.createObjectURL(fe),qe=document.createElement("a");qe.href=Le,qe.download=`${H}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),window.URL.revokeObjectURL(Le),n({title:e("common.success"),description:"Report exported successfully"})},EX=async()=>{try{if(!Me.city_name_en&&!Me.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const R=await Y.mCity.create(Me);R&&(f([...d,R]),Ua({...rr,city_id:R.city_id}),De(!1),Je({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(R){const fe=R instanceof Error?R.message:"Failed to create city";n({title:"Error",description:fe,variant:"destructive"})}},TX=async()=>{try{if(!Ft.system_name_en&&!Ft.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const R=await Y.mSystem.create(Ft);R&&(y([...v,R]),Ua({...rr,system_id:R.system_id}),bt(!1),ur({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(R){const fe=R instanceof Error?R.message:"Failed to create system";n({title:"Error",description:fe,variant:"destructive"})}},AX=async()=>{try{if(!Jt.activity_name_en&&!Jt.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const R=await Y.mActivity.create(Jt);R&&(m([...h,R]),Ua({...rr,activity_id:R.activity_id}),Sn(!1),rn({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(R){const fe=R instanceof Error?R.message:"Failed to create activity";n({title:"Error",description:fe,variant:"destructive"})}},PX=async()=>{try{if(!Jn.status_name_en&&!Jn.status_name_ar){n({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const R=await Y.mStatus.create(Jn);R&&(g([...p,R]),Ua({...rr,status_id:R.status_id}),Ba(!1),Gi({status_name_en:"",status_name_ar:""}),n({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(R){const fe=R instanceof Error?R.message:"Failed to create status";n({title:"Error",description:fe,variant:"destructive"})}},OX=()=>{if(!Qn.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Nn([...pi,{...Qn}]),Un({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Yi(!1)},DX=R=>{Nn(pi.filter((fe,Le)=>Le!==R))},RX=async R=>{try{const fe=pi.map(Le=>({...Le,leads_id:R,contact_mobile:Le.contact_mobile?parseInt(Le.contact_mobile):null}));if(fe.length>0)for(const Le of fe)await Y.mContacts.create(Le)}catch(fe){const Le=fe instanceof Error?fe.message:"Failed to save contacts";n({title:"Error",description:Le,variant:"destructive"})}},MX=R=>{KO(R)},FX=R=>{R.preventDefault(),R.dataTransfer.dropEffect="move"},IX=async R=>{if(!Ux)return;const fe=o.find(Le=>Le.leads_id===Ux);if(fe&&fe.stage_id!==R)try{await Y.mLeads.update(Ux,{stage_id:R}),n({title:e("common.success"),description:"Lead stage updated successfully"}),await Gf()}catch(Le){console.error("Failed to update lead stage:",Le),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}KO(null)};if(z)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})});if(M)return i.jsx(Kp,{message:M,onRetry:Xj});const LX=[{label:e("common.delete"),icon:i.jsx(ir,{}),onClick:R=>{window.confirm(`Delete ${R.length} leads?`)&&jX(R.map(fe=>fe.leads_id))},variant:"destructive"}],$X=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:R=>i.jsx(jc,{title:R.company_name||"-",subtitle:R.address||"",icon:i.jsx(Pn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx("span",{className:"text-sm text-foreground",children:Jj(R)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx(ht,{variant:"outline",className:"text-xs truncate",children:Qj(R)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:R=>{const fe=Zj(R);return i.jsx(ht,{variant:"outline",className:`text-xs truncate ${tS(R.status_id)}`,children:fe})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:R=>i.jsx(ht,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:g4(R)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:eS(R)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"truncate",children:i.jsx(ip,{name:R.created_by_name||"-"})})},{key:"decision_maker",header:e("mleads.decisionMaker"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"text-sm",children:R.decision_maker||"-"})})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:R=>i.jsx($f,{date:R.created_at})}],BX=[{icon:i.jsx(Li,{}),label:e("common.edit"),onClick:R=>w4(R)},{icon:i.jsx(ir,{}),label:e("common.delete"),onClick:R=>je(R.leads_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:Qt()?"rtl":"ltr",children:[i.jsx("div",{className:"flex-shrink-0 pb-3",children:i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(ce,{variant:"outline",size:"default",onClick:()=>Ae($e==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[$e==="list"?i.jsx(ni,{className:"h-4 w-4"}):i.jsx(Pn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e($e==="list"?"mleads.kanbanView":"mleads.listView")})]}),i.jsxs(ce,{variant:te?"default":"outline",size:"default",onClick:()=>se(!te),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ni,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),i.jsx(Kh,{className:`h-4 w-4 transition-transform ${te?"rotate-180":""}`})]}),i.jsxs(ce,{variant:Pe?"default":"outline",size:"default",onClick:()=>Re(!Pe),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(bs,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mleads.reports")}),i.jsx(Kh,{className:`h-4 w-4 transition-transform ${Pe?"rotate-180":""}`})]}),i.jsxs(ce,{onClick:SX,disabled:Ij,variant:"outline",size:"default",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[i.jsx(hc,{className:`h-4 w-4 ${Ij?"animate-spin":""}`}),i.jsx("span",{className:"hidden sm:inline",children:Ij?e("common.refreshing","Refreshing..."):e("common.refresh","Refresh")})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[i.jsx(ds,{className:"absolute inset-inline-start-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(We,{placeholder:e("mleads.searchPlaceholder"),value:I,onChange:R=>{F(R.target.value),K(1)},className:"ps-10 pe-3 h-10 bg-background border-input"})]})]}),i.jsxs(ce,{size:"default",onClick:()=>{Ve(null),Ua({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Nn([]),zo(null),De(!1),bt(!1),Sn(!1),Ba(!1),Je({city_name_en:"",city_name_ar:"",country_id:null}),ur({system_name_en:"",system_name_ar:""}),rn({activity_name_en:"",activity_name_ar:""}),Gi({status_name_en:"",status_name_ar:""}),nt(null),Ce(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:Qt()?"rtl":"ltr",children:[i.jsx(Kt,{className:`w-4 h-4 ${Qt()?"order-2":"order-1"}`}),i.jsx("span",{className:`${Qt()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm",children:[i.jsx(ce,{variant:"ghost",onClick:()=>Oe(!le),className:"w-full justify-between h-auto p-4 rounded-lg hover:bg-accent transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),i.jsxs("div",{className:"flex items-center gap-2",children:[(pe||xe||Ue||Se||Ze||me)&&i.jsxs(ce,{variant:"outline",size:"sm",onClick:R=>{R.stopPropagation(),E(""),Te(""),ze(""),et(""),oe(""),B(""),K(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[i.jsx(Po,{className:`h-3 w-3 ${Qt()?"ms-2":"me-2"}`}),e("mleads.clearFilters")]}),i.jsx(Kh,{className:`h-4 w-4 transition-transform ${le?"rotate-180":""}`})]})]})}),le&&i.jsx("div",{className:"px-4 pb-4 animate-in fade-in slide-in-from-top-2",children:i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[i.jsxs(ga,{open:XO,onOpenChange:Lj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":XO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Se?Gt(p.find(R=>R.status_id.toString()===Se),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchStatus")}),i.jsxs(ba,{onScroll:R=>Kf(R,cX,qj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allStatuses"),onSelect:()=>{et(""),K(1),Lj(!1)},children:e("mleads.allStatuses")},"all-statuses"),p.map(R=>i.jsx(pr,{value:R.status_id.toString(),onSelect:()=>{et(R.status_id.toString()),K(1),Lj(!1)},children:Gt(R,"status_name_en","status_name_ar")},R.status_id)),qj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ga,{open:JO,onOpenChange:$j,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":JO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Ze?Gt(h.find(R=>R.activity_id.toString()===Ze),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchActivity")}),i.jsxs(ba,{onScroll:R=>Kf(R,lX,Hj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allActivities"),onSelect:()=>{oe(""),K(1),$j(!1)},children:e("mleads.allActivities")},"all-activities"),h.map(R=>i.jsx(pr,{value:R.activity_id.toString(),onSelect:()=>{oe(R.activity_id.toString()),K(1),$j(!1)},children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id)),Hj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ga,{open:QO,onOpenChange:Bj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":QO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:Ue?Gt(v.find(R=>R.system_id.toString()===Ue),"system_name_en","system_name_ar"):e("mleads.allSystems")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchSystem")}),i.jsxs(ba,{onScroll:R=>Kf(R,uX,Kj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allSystems"),onSelect:()=>{ze(""),K(1),Bj(!1)},children:e("mleads.allSystems")},"all-systems"),v.map(R=>i.jsx(pr,{value:R.system_id.toString(),onSelect:()=>{ze(R.system_id.toString()),K(1),Bj(!1)},children:Gt(R,"system_name_en","system_name_ar")},R.system_id)),Kj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ga,{open:ZO,onOpenChange:Uj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":ZO,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:xe?Gt(A.find(R=>R.country_id.toString()===xe),"country_name_en","country_name_ar"):e("mleads.allCountries")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchCountry")}),i.jsxs(ba,{onScroll:R=>Kf(R,dX,Gj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allCountries"),onSelect:()=>{Te(""),K(1),Uj(!1)},children:e("mleads.allCountries")},"all-countries"),A.map(R=>i.jsx(pr,{value:R.country_id.toString(),onSelect:()=>{Te(R.country_id.toString()),K(1),Uj(!1)},children:Gt(R,"country_name_en","country_name_ar")},R.country_id)),Gj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ga,{open:e4,onOpenChange:zj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":e4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:pe?Gt(d.find(R=>R.city_id.toString()===pe),"city_name_en","city_name_ar"):e("mleads.allCities")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchCity")}),i.jsxs(ba,{onScroll:R=>Kf(R,oX,Wj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allCities"),onSelect:()=>{E(""),K(1),zj(!1)},children:e("mleads.allCities")},"all-cities"),d.map(R=>i.jsx(pr,{value:R.city_id.toString(),onSelect:()=>{E(R.city_id.toString()),K(1),zj(!1)},children:Gt(R,"city_name_en","city_name_ar")},R.city_id)),Wj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]}),i.jsxs(ga,{open:t4,onOpenChange:Vj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":t4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[i.jsx("span",{className:"truncate",children:me?v4(me):e("mleads.allUsers")}),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchUser")}),i.jsxs(ba,{onScroll:R=>Kf(R,fX,Yj),children:[i.jsx(_a,{children:e("common.noResults")}),i.jsxs(wa,{children:[i.jsx(pr,{value:e("mleads.allUsers"),onSelect:()=>{B(""),K(1),Vj(!1)},children:e("mleads.allUsers")},"all-users"),k.map(R=>{var qe;const fe=(qe=R.userid||R.user_id||R.id)==null?void 0:qe.toString(),Le=R.name||R.user_name||R.display_name||"-";return i.jsx(pr,{value:fe,onSelect:()=>{B(fe),K(1),Vj(!1)},children:Le},fe)}),Yj&&i.jsx(pr,{disabled:!0,children:i.jsxs("div",{className:"flex items-center justify-center w-full py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),i.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:e("common.loading")})]})})]})]})]})})]})]})})]})}),i.jsx(_l,{open:ke,onOpenChange:Ce,children:i.jsxs(Mo,{className:`w-full sm:max-w-[540px] flex flex-col h-full ${r==="ar"?"rtl":"ltr"}`,children:[i.jsxs(xc,{children:[i.jsx(wl,{children:e(Ne?"mleads.editLead":"mleads.createNewLead")}),i.jsx(gf,{children:e(Ne?"mleads.editLeadDescription":"mleads.createLeadDescription")})]}),i.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),i.jsx(We,{value:rr.company_name||"",onChange:R=>Ua({...rr,company_name:R.target.value}),placeholder:e("mleads.companyName")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),i.jsx(Ln,{value:rr.address||"",onChange:R=>Ua({...rr,address:R.target.value}),placeholder:e("mleads.address")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Yi(!hn),className:"h-6 px-2 text-xs",children:e(hn?"mleads.cancel":"mleads.addContact")})]}),pi.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:pi.map((R,fe)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:R.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[R.contact_email&&`${R.contact_email}  `,R.contact_mobile&&`${R.contact_mobile}`]})]}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>DX(fe),className:"h-6 w-6 p-0",children:i.jsx(Po,{className:"h-3 w-3"})})]},fe))}),hn&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mleads.contactName"),value:Qn.contact_name,onChange:R=>Un({...Qn,contact_name:R.target.value})}),i.jsx(We,{placeholder:e("mleads.email"),type:"email",value:Qn.contact_email,onChange:R=>Un({...Qn,contact_email:R.target.value})}),i.jsx(We,{placeholder:e("mleads.mobile"),value:Qn.contact_mobile,onChange:R=>Un({...Qn,contact_mobile:R.target.value})}),i.jsxs(ga,{open:Zp,onOpenChange:Fj,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Zp,className:"w-full justify-between",children:[Qn.jobtitle_id?(j4=T.find(R=>R.jobtitle_id===Qn.jobtitle_id))==null?void 0:j4.jobtitle_name_en:e("mleads.selectJobTitle"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchJobTitle")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:T&&T.length>0?T.map(R=>i.jsx(pr,{value:Gt(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown",onSelect:()=>{Un(fe=>({...fe,jobtitle_id:R.jobtitle_id})),Fj(!1)},children:Gt(R,"jobtitle_name_en","jobtitle_name_ar")||R.jobtitle_name_en||"Unknown"},R.jobtitle_id)):i.jsx(pr,{disabled:!0,children:"No job titles available"},"no-job-titles")})]})]})})]}),i.jsx(ce,{type:"button",onClick:OX,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>De(!ve),className:"h-6 px-2 text-xs",children:e(ve?"mleads.cancel":"mleads.addNew")})]}),ve?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mleads.cityNameEn"),value:Me.city_name_en,onChange:R=>Je({...Me,city_name_en:R.target.value})}),i.jsx(We,{placeholder:e("mleads.cityNameAr"),value:Me.city_name_ar,onChange:R=>Je({...Me,city_name_ar:R.target.value})}),i.jsxs(ga,{open:HO,onOpenChange:qO,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":HO,className:"w-full justify-between",children:[Me.country_id?(S4=A.find(R=>R.country_id===Me.country_id))==null?void 0:S4.country_name_en:e("mleads.selectCountry"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchCountry")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:A.map(R=>i.jsx(pr,{value:Gt(R,"country_name_en","country_name_ar"),onSelect:()=>{Je({...Me,country_id:R.country_id}),qO(!1)},children:Gt(R,"country_name_en","country_name_ar")},R.country_id))})]})]})})]}),i.jsx(ce,{type:"button",onClick:EX,className:"w-full",children:e("mleads.createCity")})]}):i.jsxs(ga,{open:Kr,onOpenChange:Vs,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Kr,className:"w-full justify-between",children:[rr.city_id?pX(rr.city_id):e("mleads.city"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchCity")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:d.map(R=>i.jsx(pr,{value:Gt(R,"city_name_en","city_name_ar"),onSelect:()=>{Ua({...rr,city_id:R.city_id}),Vs(!1)},children:Gt(R,"city_name_en","city_name_ar")},R.city_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Sn(!fr),className:"h-6 px-2 text-xs",children:e(fr?"mleads.cancel":"mleads.addNew")})]}),fr?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mleads.activityNameEn"),value:Jt.activity_name_en,onChange:R=>rn({...Jt,activity_name_en:R.target.value})}),i.jsx(We,{placeholder:e("mleads.activityNameAr"),value:Jt.activity_name_ar,onChange:R=>rn({...Jt,activity_name_ar:R.target.value})}),i.jsx(ce,{type:"button",onClick:AX,className:"w-full",children:e("mleads.createActivity")})]}):i.jsxs(ga,{open:zn,onOpenChange:Mc,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":zn,className:"w-full justify-between",children:[rr.activity_id?gX(rr.activity_id):e("mleads.selectActivity"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchActivity")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:h.map(R=>i.jsx(pr,{value:Gt(R,"activity_name_en","activity_name_ar"),onSelect:()=>{Ua({...rr,activity_id:R.activity_id}),Mc(!1)},children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>bt(!tt),className:"h-6 px-2 text-xs",children:e(tt?"mleads.cancel":"mleads.addNew")})]}),tt?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mleads.systemNameEn"),value:Ft.system_name_en,onChange:R=>ur({...Ft,system_name_en:R.target.value})}),i.jsx(We,{placeholder:e("mleads.systemNameAr"),value:Ft.system_name_ar,onChange:R=>ur({...Ft,system_name_ar:R.target.value})}),i.jsx(ce,{type:"button",onClick:TX,className:"w-full",children:e("mleads.createSystem")})]}):i.jsxs(ga,{open:da,onOpenChange:Xi,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":da,className:"w-full justify-between",children:[rr.system_id?xX(rr.system_id):e("mleads.selectSystem"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchSystem")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:v.map(R=>i.jsx(pr,{value:Gt(R,"system_name_en","system_name_ar"),onSelect:()=>{Ua({...rr,system_id:R.system_id}),Xi(!1)},children:Gt(R,"system_name_en","system_name_ar")},R.system_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ba(!Ki),className:"h-6 px-2 text-xs",children:e(Ki?"mleads.cancel":"mleads.addNew")})]}),Ki?i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mleads.statusNameEn"),value:Jn.status_name_en,onChange:R=>Gi({...Jn,status_name_en:R.target.value})}),i.jsx(We,{placeholder:e("mleads.statusNameAr"),value:Jn.status_name_ar,onChange:R=>Gi({...Jn,status_name_ar:R.target.value})}),i.jsx(ce,{type:"button",onClick:PX,className:"w-full",children:e("mleads.createStatus")})]}):i.jsxs(ga,{open:Rl,onOpenChange:qf,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Rl,className:"w-full justify-between",children:[rr.status_id?vX(rr.status_id):e("mleads.selectStatus"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchStatus")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:p.map(R=>i.jsx(pr,{value:Gt(R,"status_name_en","status_name_ar"),onSelect:()=>{Ua({...rr,status_id:R.status_id}),qf(!1)},children:Gt(R,"status_name_en","status_name_ar")},R.status_id))})]})]})})]})]}),rr.status_id===7&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[i.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(zg,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),i.jsx(We,{type:"file",onChange:R=>{var Le;const fe=(Le=R.target.files)==null?void 0:Le[0];fe&&nt(fe)},className:"cursor-pointer"}),x4(rr.lead_quotation)&&i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:i.jsx("button",{onClick:()=>{const R=window.open();if(R)R.document.write(`
                          <html>
                            <body style="margin:0;padding:20px;">
                              <embed src="${rr.lead_quotation}" width="100%" height="100%" />
                            </body>
                          </html>
                        `);else{const fe=document.createElement("a");fe.href=rr.lead_quotation,fe.download="quotation.pdf",fe.click()}},className:"ms-1 text-blue-600 hover:underline font-medium bg-transparent border-none cursor-pointer",children:e("mleads.viewQuotation")})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),i.jsxs(ga,{open:Fc,onOpenChange:$x,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Fc,className:"w-full justify-between",children:[rr.stage_id?yX(rr.stage_id):e("mleads.selectStage"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchStage")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:b.map(R=>i.jsx(pr,{value:R.stage_name,onSelect:()=>{Ua({...rr,stage_id:R.stage_id}),$x(!1)},children:R.stage_name},R.stage_id))})]})]})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),i.jsxs(ga,{open:Bx,onOpenChange:dd,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":Bx,className:"w-full justify-between",children:[rr.assigned_to?v4(rr.assigned_to):e("mleads.selectUser"),i.jsx(za,{className:"ms-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mleads.searchUser")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:k.map(R=>i.jsx(pr,{value:R.user_name,onSelect:()=>{Ua({...rr,assigned_to:R.userid}),dd(!1)},children:R.user_name},R.user_id))})]})]})})]})]}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[i.jsx(ce,{variant:"outline",onClick:()=>Ce(!1),children:e("common.cancel")}),i.jsx(ce,{onClick:_X,children:e("common.save")})]})]})}),te&&i.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),i.jsxs(Io,{defaultValue:"pie",className:"w-full",children:[i.jsxs(Bi,{className:`flex w-full ${Qt()?"flex-row-reverse":""}`,children:[i.jsx(Ar,{value:"pie",className:"flex-1",children:e("mleads.distributionCharts")}),i.jsx(Ar,{value:"timeline",className:"flex-1",children:e("mleads.timeline")})]}),i.jsx(Wr,{value:"pie",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const R=p.map(fe=>({name:Gt(fe,"status_name_en","status_name_ar"),value:fa.filter(Le=>Le.status_id===fe.status_id).length})).filter(fe=>fe.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:fe})=>`${R}: ${fe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,fe)=>i.jsx(sl,{fill:R},`cell-${fe}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const R=v.map(fe=>({name:Gt(fe,"system_name_en","system_name_ar"),value:fa.filter(Le=>Le.system_id===fe.system_id).length})).filter(fe=>fe.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:fe})=>`${R}: ${fe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,fe)=>i.jsx(sl,{fill:R},`cell-${fe}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const R=h.map(fe=>({name:Gt(fe,"activity_name_en","activity_name_ar"),value:fa.filter(Le=>Le.activity_id===fe.activity_id).length})).filter(fe=>fe.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:fe})=>`${R}: ${fe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,fe)=>i.jsx(sl,{fill:R},`cell-${fe}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const R=d.map(fe=>({name:Gt(fe,"city_name_en","city_name_ar"),value:fa.filter(Le=>Le.city_id===fe.city_id).length})).filter(fe=>fe.value>0);return R.length>0?R:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:fe})=>`${R}: ${fe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,fe)=>i.jsx(sl,{fill:R},`cell-${fe}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const R=k.map(fe=>({name:fe.user_name,value:fa.filter(Le=>Le.assigned_to===fe.userid).length})).filter(fe=>fe.value>0);return R.length>0?R:[{name:"Unassigned",value:fa.filter(fe=>!fe.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:R,value:fe})=>`${R}: ${fe}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((R,fe)=>i.jsx(sl,{fill:R},`cell-${fe}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:fa.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(Wr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(yx,{data:(()=>{const R=new Map;return fa.forEach(Le=>{const qe=new Date(Le.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});R.set(qe,(R.get(qe)||0)+1)}),Array.from(R.entries()).sort((Le,qe)=>new Date(Le[0]).getTime()-new Date(qe[0]).getTime()).map(([Le,qe])=>({date:Le,count:qe}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"date",angle:Qt()?45:-45,textAnchor:Qt()?"start":"end",height:80,tick:{fontSize:12},reversed:Qt()}),i.jsx(No,{label:{value:"Number of Leads",angle:Qt()?90:-90,position:"insideLeft"}}),i.jsx(na,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:R=>[`${R} leads`,"Total"]}),i.jsx(li,{}),i.jsx(Ac,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),Pe&&i.jsx("div",{className:"flex-shrink-0 pb-4",children:i.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("mleads.reports")}),i.jsxs(ce,{variant:"outline",size:"sm",onClick:CX,disabled:!Q||we,className:"flex items-center gap-2",children:[i.jsx(BB,{className:"h-4 w-4"}),e("common.export")]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.selectReport")}),i.jsxs(xt,{value:H,onValueChange:ne,children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.selectReport")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"leads_summary",children:e("mleads.leadsSummaryReport")}),i.jsx(Ee,{value:"leads_by_city",children:e("mleads.leadsByCityReport")}),i.jsx(Ee,{value:"leads_conversion",children:e("mleads.leadsConversionReport")}),i.jsx(Ee,{value:"sales_performance",children:e("mleads.salesPerformanceReport")}),i.jsx(Ee,{value:"leads_trend_simple",children:e("mleads.leadsTrendReport")})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{className:"text-sm font-medium mb-2 block",children:e("mleads.reportParameters")}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[H==="leads_summary"&&i.jsxs(xt,{value:Qe.status_id||"all",onValueChange:R=>Lc("status_id",R==="all"?null:R),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.allStatuses")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mleads.allStatuses")}),p.map(R=>i.jsx(Ee,{value:R.status_id.toString(),children:Gt(R,"status_name_en","status_name_ar")},R.status_id))]})]}),H==="leads_by_city"&&i.jsxs(i.Fragment,{children:[i.jsxs(xt,{value:Qe.city_id||"all",onValueChange:R=>Lc("city_id",R==="all"?null:R),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.allCities")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mleads.allCities")}),d.map(R=>i.jsx(Ee,{value:R.city_id.toString(),children:Gt(R,"city_name_en","city_name_ar")},R.city_id))]})]}),i.jsx(We,{type:"date",placeholder:e("mleads.startDate"),value:Qe.start_date||"",onChange:R=>Lc("start_date",R.target.value)})]}),(H==="leads_conversion"||H==="sales_performance"||H==="leads_trend_simple")&&i.jsxs(i.Fragment,{children:[i.jsx(We,{type:"date",placeholder:e("mleads.startDate"),value:Qe.start_date||"",onChange:R=>Lc("start_date",R.target.value)}),i.jsx(We,{type:"date",placeholder:e("mleads.endDate"),value:Qe.end_date||"",onChange:R=>Lc("end_date",R.target.value)})]}),H==="leads_conversion"&&i.jsxs(xt,{value:Qe.activity_id||"all",onValueChange:R=>Lc("activity_id",R==="all"?null:R),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.allActivities")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mleads.allActivities")}),h.map(R=>i.jsx(Ee,{value:R.activity_id.toString(),children:Gt(R,"activity_name_en","activity_name_ar")},R.activity_id))]})]}),H==="leads_conversion"&&i.jsxs(xt,{value:Qe.system_id||"all",onValueChange:R=>Lc("system_id",R==="all"?null:R),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.allSystems")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mleads.allSystems")}),v.map(R=>i.jsx(Ee,{value:R.system_id.toString(),children:Gt(R,"system_name_en","system_name_ar")},R.system_id))]})]}),H==="sales_performance"&&i.jsxs(xt,{value:Qe.assigned_to||"all",onValueChange:R=>Lc("assigned_to",R==="all"?null:R),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mleads.allUsers")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mleads.allUsers")}),k.map(R=>{var qe;const fe=(qe=R.userid||R.user_id||R.id)==null?void 0:qe.toString(),Le=R.name||R.user_name||R.display_name||"-";return i.jsx(Ee,{value:fe,children:Le},fe)})]})]})]})]})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx(ce,{onClick:kX,disabled:we,className:"flex items-center gap-2 px-6",children:we?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e("common.loading")]}):i.jsxs(i.Fragment,{children:[i.jsx(VB,{className:"h-4 w-4"}),e("mleads.runReport")]})})}),Q&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-md font-medium",children:e("mleads.reportResults")}),i.jsxs(ht,{variant:"secondary",children:[((N4=Q.data)==null?void 0:N4.length)||0," ",e("mleads.records")]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(k4=Q.columns)==null?void 0:k4.map((R,fe)=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:R.replace(/_/g," ").replace(/\b\w/g,Le=>Le.toUpperCase())},fe))})}),i.jsx("tbody",{children:(C4=Q.data)==null?void 0:C4.map((R,fe)=>{var Le;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(Le=Q.columns)==null?void 0:Le.map((qe,jt)=>i.jsx("td",{className:"px-4 py-2 border-b",children:R[qe]||"-"},jt))},fe)})})]})})}),H==="leads_by_city"&&Q.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.leadsByCity")}),i.jsx(Xl,{width:"100%",height:300,children:i.jsxs(fL,{data:Q.data,children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"city_name"}),i.jsx(No,{}),i.jsx(na,{}),i.jsx(li,{}),i.jsx(Ei,{dataKey:"total_leads",fill:"#3b82f6",name:e("mleads.totalLeads")}),i.jsx(Ei,{dataKey:"won_leads",fill:"#10b981",name:e("mleads.wonLeads")}),i.jsx(Ei,{dataKey:"lost_leads",fill:"#ef4444",name:e("mleads.lostLeads")})]})})]})}),H==="sales_performance"&&Q.data&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-medium mb-3 text-center",children:e("mleads.salesPerformance")}),i.jsx(Xl,{width:"100%",height:300,children:i.jsxs(fL,{data:Q.data,children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"sales_person"}),i.jsx(No,{}),i.jsx(na,{}),i.jsx(li,{}),i.jsx(Ei,{dataKey:"won_deals",fill:"#10b981",name:e("mleads.wonDeals")}),i.jsx(Ei,{dataKey:"lost_deals",fill:"#ef4444",name:e("mleads.lostDeals")}),i.jsx(Ei,{dataKey:"pending_leads",fill:"#f59e0b",name:e("mleads.pendingLeads")})]})})]})})]})]})}),i.jsx(it,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(dt,{className:"h-full flex flex-col p-0 overflow-hidden",children:$e==="kanban"?i.jsx(Nx,{stages:b.map(R=>({id:R.stage_id,name:R.stage_name,count:fa.filter(fe=>fe.stage_id===R.stage_id).length})),currentStageId:GO||((E4=b[0])==null?void 0:E4.stage_id),onStageChange:JY,children:i.jsx("div",{className:"space-y-4 h-full flex flex-col",children:i.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:b.filter(R=>{var fe;return!a||R.stage_id===(GO||((fe=b[0])==null?void 0:fe.stage_id))}).map((R,fe)=>{const Le=fa.filter(qe=>qe.stage_id===R.stage_id);return i.jsxs("div",{className:be("flex-shrink-0 animate-fade-in h-full flex flex-col",a?"w-full":"w-[300px]"),style:{animationDelay:`${fe*.1}s`},onDragOver:FX,onDrop:()=>IX(R.stage_id),children:[!a&&i.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-s-4 border-primary/50 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h2",{className:"font-bold text-base",children:R.stage_name}),i.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Le.length})]})}),i.jsx("div",{className:"space-y-4 overflow-y-auto pe-2 custom-scrollbar flex-1 min-h-0",children:Le.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[i.jsx(Pn,{className:"h-8 w-8 mb-2 opacity-20"}),i.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):Le.map(qe=>i.jsxs(it,{className:be("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-s-4 border-s-blue-500",a?"w-full":"w-[300px]","min-h-[160px]",Ux===qe.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>y4(qe),draggable:!0,onDragStart:jt=>{jt.dataTransfer.effectAllowed="move",jt.dataTransfer.setData("text/plain",qe.leads_id.toString()),MX(qe.leads_id)},children:[i.jsx(Bt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:qe.company_name||"No Company"}),qe.address&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:qe.address})]})})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Tm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:Jj(qe)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(CR,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate",children:Qj(qe)})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pn,{className:"h-3.5 w-3.5 text-muted-foreground"}),i.jsx("p",{className:"text-xs truncate text-muted-foreground",children:eS(qe)})]})]}),i.jsx("div",{children:i.jsx(ht,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${tS(qe.status_id)}`,children:Zj(qe)})})]}),(()=>{const jt=w.filter(hr=>Number(hr.leads_id)===Number(qe.leads_id));return jt.length===0?null:i.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[i.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),jt.slice(0,1).map((hr,Ji)=>i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Dn,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("p",{className:"text-[11px] truncate",children:hr.contact_name})]},Ji)),jt.length>1&&i.jsxs("p",{className:"text-[10px] text-muted-foreground ps-4",children:["+",jt.length-1," more"]})]})})(),i.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[i.jsx(Dn,{className:"h-2.5 w-2.5 flex-shrink-0"}),i.jsxs("span",{className:"truncate",children:["Assign: ",qe.Users_name||"-"]})]}),i.jsx("div",{className:"flex items-center gap-1 min-w-0",children:i.jsxs("span",{className:"truncate opacity-70",children:["By: ",qe.created_by_name||"-"]})})]}),i.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(qe.created_at).toLocaleDateString()})]})]})]},qe.leads_id))})]},R.stage_id)})})})}):i.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:fa.length===0?i.jsx(ko,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:i.jsx(Pn,{className:"h-12 w-12"})}):i.jsx(wc,{data:mX,columns:["kanban","timeline"].includes($e)?[]:$X,actions:BX,bulkActions:LX,enableBulkSelect:!0,keyExtractor:R=>R.leads_id.toString(),onRowClick:R=>y4(R),rowHeight:"h-26"},`leads-${Se}-${Ze}-${Ue}-${pe}-${xe}-${me}-${I}-${V}`)}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:fd>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(cp,{children:i.jsxs(up,{children:[i.jsx(Ea,{children:i.jsx(_u,{onClick:()=>K(Math.max(1,V-1)),className:V===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Ea,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",V," ",e("common.of")," ",fd]})}),i.jsx(Ea,{children:i.jsx(wu,{onClick:()=>K(Math.min(fd,V+1)),className:V===fd?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),i.jsx(ui,{open:de!==null,onOpenChange:()=>je(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:e("mleads.deleteLead")}),i.jsx(Is,{children:e("mleads.deleteLeadConfirm")})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:e("common.cancel")}),i.jsx(Ls,{onClick:()=>de&&wX(de),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(_l,{open:Rc,onOpenChange:q,children:i.jsxs(Mo,{side:Qt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsxs(xc,{children:[i.jsxs(wl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Pn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:dr==null?void 0:dr.company_name})]}),i.jsx(gf,{children:e("mleads.leadDetailsDescription")})]}),dr&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),i.jsxs(ce,{onClick:()=>{w4(dr),q(!1)},variant:"outline",size:"sm",children:[i.jsx(Li,{className:"h-4 w-4 me-2"}),e("common.edit")]})]}),i.jsxs(Io,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bi,{className:`flex w-full ${Qt()?"flex-row-reverse":""}`,children:[i.jsx(Ar,{value:"overview",className:"flex-1",children:e("common.overview")}),i.jsx(Ar,{value:"notes",className:"flex-1",children:e("notes.title")})]}),i.jsxs(Wr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:dr.company_name||"-"}),dr.address&&i.jsx("p",{className:"text-muted-foreground mt-1",children:dr.address})]}),x4(dr.lead_quotation)&&i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(zg,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),i.jsx("button",{onClick:()=>{const R=window.open();if(R)R.document.write(`
                                <html>
                                  <body style="margin:0;padding:20px;">
                                    <embed src="${dr.lead_quotation}" width="100%" height="100%" />
                                  </body>
                                </html>
                              `);else{const fe=document.createElement("a");fe.href=dr.lead_quotation,fe.download="quotation.pdf",fe.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mleads.viewQuotation")})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Tm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),i.jsx("p",{className:"font-medium",children:Jj(dr)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(CR,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),i.jsx("p",{className:"font-medium",children:Qj(dr)})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),i.jsx(ht,{variant:"outline",className:`text-xs ${tS(dr.status_id)}`,children:Zj(dr)})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),i.jsx(ht,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:g4(dr)})]})}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Pn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),i.jsx("p",{className:"font-medium",children:eS(dr)})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Dn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),i.jsx("p",{className:"font-medium",children:dr.created_by_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Dn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),i.jsx("p",{className:"text-sm font-medium",children:dr.Users_name||"-"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Dn,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.decisionMaker")}),i.jsx("p",{className:"text-sm font-medium",children:dr.decision_maker||"-"})]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(dr.created_at).toLocaleDateString()})]})}),i.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),i.jsx("p",{className:"text-sm mt-1",children:dr.notes||"-"})]})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const R=N.length>0?N:[];return R.length>0?i.jsx("div",{className:"space-y-2",children:R.map((fe,Le)=>{var qe;return i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:fe.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[fe.contact_email&&`${fe.contact_email}  `,fe.contact_mobile&&`${fe.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:((qe=T.find(jt=>jt.jobtitle_id===fe.jobtitle_id))==null?void 0:qe.jobtitle_name_en)||"-"})]},fe.contact_id||Le)})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),i.jsx(Wr,{value:"notes",className:"mt-4",children:i.jsx(HP,{relatedType:"mlead",relatedId:dr.leads_id,notes:ae,onNotesChange:()=>b4(dr.leads_id)})})]})]})]})})]})}async function J2(e,t,r={}){return new Promise((n,a)=>{const s=new FileReader;s.onload=()=>{try{const l=s.result.split(",")[1],c={bucket:"database",path:`projects/${t}/contract_${Date.now()}_${e.name}`,url:null,name:e.name,filename:e.name,mime:e.type,size:e.size,uploaded_by:"current_user",uploaded_at:new Date().toISOString()};console.log("File converted to base64, length:",l.length),n(c)}catch(o){a(o)}},s.onerror=()=>{a(new Error("Failed to read file"))},s.readAsDataURL(e)})}async function RWe(e){return new Promise(t=>{console.log(`Delete contract for project ${e} - setting contract_document to NULL`),t()})}function MWe(){var Ae,Pe,Re;const{t:e}=Vt(),{user:t}=xr(),{currentLanguage:r,isRTL:n}=Ia(),{toast:a}=Lo();tn();const{setBreadcrumbs:s}=Xv();Bs();const o={MASTER_DATA:"mprojects_master_data",PROJECTS_DATA:"mprojects_data"},l={MASTER_DATA:10*60*1e3,PROJECTS_DATA:5*60*1e3},c=Q=>{try{const ye=localStorage.getItem(Q);if(!ye)return null;const H=JSON.parse(ye);return Date.now()-H.timestamp>H.expiry?(localStorage.removeItem(Q),null):H.data}catch(ye){return console.error("Error reading cache:",ye),localStorage.removeItem(Q),null}},u=(Q,ye,H)=>{try{const ne={data:ye,timestamp:Date.now(),expiry:H};localStorage.setItem(Q,JSON.stringify(ne))}catch(ne){console.error("Error setting cache:",ne)}},[d,f]=x.useState([]),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState([]),[w,j]=x.useState([]),[N,S]=x.useState([]),[k,C]=x.useState(!0),[A,P]=x.useState(null),[T,U]=x.useState(""),[z,D]=x.useState(0),[M]=x.useState(9),[L,I]=x.useState(0),[F,X]=x.useState(""),[J,O]=x.useState(""),[G,V]=x.useState(null),[K,re]=x.useState(null),[ue,_e]=x.useState(!1),[W,Z]=x.useState(!1),[pe,E]=x.useState({city_name_en:"",city_name_ar:"",country_id:null});x.useState(null);const[xe,Te]=x.useState(null),[Ue,ze]=x.useState(!1),[Se,et]=x.useState([]),[Ze,oe]=x.useState(!1),[me,B]=x.useState("list"),[de,je]=x.useState(null),[Ne,Ve]=x.useState(""),[ke,Ce]=x.useState([]),[ve,De]=x.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Me,Je]=x.useState(!1),[tt,bt]=x.useState(!1),[Ft,ur]=x.useState(!1);x.useState(!1),x.useState(!1),x.useState(!1);const[fr,Sn]=x.useState(!1),[Jt,rn]=x.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});x.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),x.useEffect(()=>{Ki()},[]),x.useEffect(()=>{Ba()},[z,T,F,J,p]),x.useEffect(()=>{Ze&&Jn()},[Ze,T,F,J,p]);const Ki=async(Q=!1)=>{try{if(C(!0),P(null),!Q){const wt=c(o.MASTER_DATA);if(wt){g(wt.cities||[]),y(wt.contacts||[]),_(wt.users||[]),j(wt.countries||[]),S(wt.jobTitles||[]),C(!1);return}}const[ye,H,ne,we,ge]=await Promise.all([Y.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:10,page:0,select_fields:"city_id,city_name_en,city_name_ar"}),Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),Y.Users.list({sort_by:"user_name",sort_order:"asc"}),Y.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),Y.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),Qe=wt=>Array.isArray(wt)?wt:wt!=null&&wt.data&&Array.isArray(wt.data)?wt.data:[],ct={cities:Qe(ye),contacts:Qe(H),users:Qe(ne),countries:Qe(we),jobTitles:Qe(ge)};g(ct.cities),y(ct.contacts),_(ct.users),j(ct.countries),S(ct.jobTitles),u(o.MASTER_DATA,ct,l.MASTER_DATA)}catch(ye){const H=c(o.MASTER_DATA);if(H&&!Q)g(H.cities||[]),y(H.contacts||[]),_(H.users||[]),j(H.countries||[]),S(H.jobTitles||[]),a({title:"Warning",description:"Using cached data due to connection error",variant:"destructive"});else{const ne=ye instanceof Error?ye.message:"Failed to load data";P(ne),a({title:"Error",description:ne,variant:"destructive"})}}finally{C(!1)}},Ba=async(Q=!1)=>{try{C(!0),P(null);const ye={};if(F&&(ye.city_id=F),J){const wt=p.filter(nt=>{var st;return((st=nt.country_id)==null?void 0:st.toString())===J}).map(nt=>nt.city_id);wt.length>0?ye.city_id=wt:ye.city_id=-1}const H=T||F||J,ne=H?null:o.PROJECTS_DATA;if(!Q&&!H){const wt=c(ne);if(wt){f(wt.data||[]),I(wt.total||0),C(!1);return}}const we={page:z,limit:M,sort_by:"created_at",sort_order:"desc",exact_filters:ye};T&&(we.search=T);const ge=await Y.mProjects.list(we),Qe=ge.data||[],ct=ge.total||0;f(Qe),I(ct),H||u(ne,{data:Qe,total:ct},l.PROJECTS_DATA)}catch(ye){if(!(T||F||J)&&!Q){const ne=c(o.PROJECTS_DATA);if(ne)f(ne.data||[]),I(ne.total||0),a({title:"Warning",description:"Using cached data due to connection error",variant:"destructive"});else{const we=ye instanceof Error?ye.message:"Failed to load data";P(we),a({title:"Error",description:we,variant:"destructive"})}}else{const ne=ye instanceof Error?ye.message:"Failed to load data";P(ne),a({title:"Error",description:ne,variant:"destructive"})}}finally{C(!1)}},Jn=async()=>{try{const Q={};if(F&&(Q.city_id=F),J){const ne=p.filter(we=>{var ge;return((ge=we.country_id)==null?void 0:ge.toString())===J}).map(we=>we.city_id);ne.length>0?Q.city_id=ne:Q.city_id=-1}const ye={limit:1e3,exact_filters:Q};T&&(ye.search=T);const H=await Y.mProjects.list(ye);m(H.data||[])}catch(Q){console.error("Failed to load all filtered projects:",Q)}},Gi=async()=>{try{const Q=await Y.mContacts.list({sort_by:"contact_name",sort_order:"asc"});y(Q.data||[])}catch(Q){console.error("Failed to load contacts:",Q)}},pi=async()=>{ur(!0);try{localStorage.removeItem(o.MASTER_DATA),localStorage.removeItem(o.PROJECTS_DATA),await Promise.all([Ki(!0),Ba(!0)]),a({title:e("common.success"),description:"Data refreshed successfully"})}catch(Q){console.error("Refresh failed:",Q),a({title:"Error",description:"Failed to refresh data",variant:"destructive"})}finally{ur(!1)}},Nn=x.useMemo(()=>Ze?h:d,[Ze,h,d]),Qn=x.useMemo(()=>{if(Ze){const Q=z*M,ye=Q+M;return Nn.slice(Q,ye)}else return d},[Ze,Nn,d,z,M]),Un=Math.ceil(L/M);x.useEffect(()=>{z>=Un&&Un>0&&D(Un-1)},[z,Un]);const hn=(Q,ye,H)=>{if(!Q)return"-";let ne=r==="ar"&&(Q==null?void 0:Q[H])||(Q==null?void 0:Q[ye]);if(!ne){const we=ye.replace(/_en$/,""),ge=H.replace(/_ar$/,"");ne=r==="ar"&&(Q==null?void 0:Q[ge])||(Q==null?void 0:Q[we])}return ne||(Q==null?void 0:Q.name)||(Q==null?void 0:Q.label)||(Q==null?void 0:Q.title)||"-"},Yi=Q=>{if(Q==null||Q==="")return"-";const ye=Number(Q),H=p.find(ne=>Number(ne.city_id)===ye||Number(ne.id)===ye);return hn(H,"city_name_en","city_name_ar")},ud=async()=>{if(!tt){bt(!0);try{let Q;if(K){if(await Y.mProjects.update(K,Jt),Q=K,de)try{const ye=await J2(de,Q);await Y.mProjects.update(Q,{contract_document:ye.path}),a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}catch(ye){console.error("Contract upload failed:",ye),a({title:e("common.error"),description:ye.message||"Failed to upload contract document"})}a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")})}else{const ye={...Jt,created_by:t==null?void 0:t.id};let H=null;if(de)try{H=(await J2(de,"new")).path,a({title:e("common.success"),description:e("mprojects.contractUploaded")})}catch(we){console.error("Contract upload failed:",we),a({title:e("common.error"),description:we.message||"Failed to upload contract document"})}const ne=await Y.mProjects.create({...ye,contract_document:H});if(Q=ne.id||ne.project_id,!Q)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(K){const ye=v.filter(H=>H.project_id===K);for(const H of ye)await Y.mContacts.delete(H.contact_id);ke.length>0&&await se(Q)}else ke.length>0&&await se(Q);if(de){Ve("Uploading contract document...");try{await J2(de,Q,{bucket:"projects",publicBucket:!1}),Ve("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(ye){console.error("File upload failed:",ye),Ve("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}_e(!1),re(null),rn({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),Ce([]),je(null),Ve(""),localStorage.removeItem(o.PROJECTS_DATA),localStorage.removeItem(o.MASTER_DATA),await Ba(),await Gi()}catch(Q){const ye=Q instanceof Error?Q.message:"Failed to save";a({title:"Error",description:ye,variant:"destructive"})}finally{bt(!1)}}},zo=async Q=>{try{await Y.mProjects.delete(Q),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),V(null),localStorage.removeItem(o.PROJECTS_DATA),await Ba()}catch(ye){const H=ye instanceof Error?ye.message:"Failed to delete";a({title:"Error",description:H,variant:"destructive"})}},dr=Q=>{Te(Q),Dc(Q.project_id),Gi(),ze(!0)},Dc=async Q=>{try{const ye=await em.getByRelated("mlead",Q);et(ye)}catch(ye){console.error("Failed to load notes:",ye),et([])}},Rc=Q=>{re(Q.project_id),rn(Q);const ye=v.filter(H=>H.project_id===Q.project_id);Ce(ye.map(H=>{var ne;return{contact_name:H.contact_name||"",contact_email:H.contact_email||"",contact_mobile:((ne=H.contact_mobile)==null?void 0:ne.toString())||"",jobtitle_id:H.jobtitle_id}})),_e(!0)},q=async Q=>{try{await Promise.all(Q.map(ye=>Y.mProjects.delete(ye))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),localStorage.removeItem(o.PROJECTS_DATA),await Ba()}catch(ye){const H=ye instanceof Error?ye.message:"Failed to delete";a({title:"Error",description:H,variant:"destructive"})}},ae=async()=>{try{if(!pe.city_name_en&&!pe.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const Q=await Y.mCity.create(pe);Q&&(g([...p,Q]),rn({...Jt,city_id:Q.city_id}),Z(!1),E({city_name_en:"",city_name_ar:"",country_id:null}),localStorage.removeItem(o.MASTER_DATA),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(Q){const ye=Q instanceof Error?Q.message:"Failed to create city";a({title:"Error",description:ye,variant:"destructive"})}},ee=()=>{if(!ve.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(ke.some(ye=>ye.contact_name===ve.contact_name&&ye.contact_email===ve.contact_email&&ye.contact_mobile===ve.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}Ce([...ke,{...ve}]),De({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Je(!1)},te=Q=>{Ce(ke.filter((ye,H)=>H!==Q))},se=async Q=>{try{const ye=ke.map(H=>({contact_name:H.contact_name,contact_email:H.contact_email,contact_mobile:H.contact_mobile?parseInt(H.contact_mobile):null,jobtitle_id:H.jobtitle_id,project_id:Q}));if(ye.length>0)for(const H of ye)await Y.mContacts.create(H)}catch(ye){const H=ye instanceof Error?ye.message:"Failed to save contacts";a({title:"Error",description:H,variant:"destructive"})}};if(k)return i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})});if(A)return i.jsx(Kp,{message:A,onRetry:Ki});const le=[{label:e("common.delete"),icon:i.jsx(ir,{}),onClick:Q=>{window.confirm(`Delete ${Q.length} projects?`)&&q(Q.map(ye=>ye.project_id))},variant:"destructive"}],Oe=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:Q=>i.jsx(jc,{title:Q.company_name||"-",subtitle:Q.contract_code||"",icon:i.jsx(Pn,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:Q=>i.jsx("span",{className:"text-sm text-foreground",children:Yi(Q.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:Q=>i.jsx(ht,{variant:"outline",className:"text-xs",children:Q.contract_amount?`$${Q.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:Q=>i.jsx("span",{className:"text-sm text-muted-foreground",children:Q.cont_start_date?new Date(Q.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:Q=>i.jsx("span",{className:"text-sm text-muted-foreground",children:Q.cont_end_date?new Date(Q.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:Q=>i.jsx($f,{date:Q.created_at})}],$e=[{icon:i.jsx(Li,{}),label:e("common.edit"),onClick:Q=>Rc(Q)},{icon:i.jsx(ir,{}),label:e("common.delete"),onClick:Q=>V(Q.project_id),variant:"destructive"}];return i.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:n?"rtl":"ltr",children:[i.jsxs("div",{className:"flex-shrink-0 pb-3",children:[i.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4 mb-3",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[i.jsxs(ce,{variant:"outline",size:"default",onClick:pi,disabled:Ft,className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[i.jsx(hc,{className:`h-4 w-4 ${Ft?"animate-spin":""}`}),i.jsx("span",{className:"hidden sm:inline",children:e("common.refresh")})]}),i.jsxs(ce,{variant:"outline",size:"default",onClick:()=>B(me==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[me==="list"?i.jsx(ni,{className:"h-4 w-4"}):i.jsx(Pn,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e(me==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),i.jsxs(ce,{variant:Ze?"default":"outline",size:"default",onClick:()=>oe(!Ze),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[i.jsx(ni,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),i.jsx(Kh,{className:`h-4 w-4 transition-transform ${Ze?"rotate-180":""}`})]}),i.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:n?"rtl":"ltr",children:[i.jsx(ds,{className:`absolute ${n?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),i.jsx(We,{placeholder:e("mprojects.searchPlaceholder"),value:T,onChange:Q=>{U(Q.target.value),D(1)},className:`${n?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),i.jsxs(_l,{open:ue,onOpenChange:_e,children:[i.jsx(Y7,{asChild:!0,children:i.jsxs(ce,{size:"default",onClick:()=>{re(null),rn({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),Ce([]),je(null),Ve(""),Z(!1),Je(!1),E({city_name_en:"",city_name_ar:"",country_id:null}),De({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),_e(!0)},className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:n?"rtl":"ltr",children:[i.jsx(Kt,{className:`w-4 h-4 ${n?"order-2":"order-1"}`}),i.jsx("span",{className:`${n?"order-1":"order-2"}`,children:e("common.add")})]})}),i.jsxs(Mo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[i.jsx(xc,{className:"p-6 pb-0",children:i.jsx(wl,{children:e(K?"mprojects.editProject":"mprojects.createNewProject")})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),i.jsx(We,{value:Jt.company_name||"",onChange:Q=>rn({...Jt,company_name:Q.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),i.jsx(We,{value:Jt.contract_code||"",onChange:Q=>rn({...Jt,contract_code:Q.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),i.jsx(We,{type:"number",value:Jt.contract_amount||"",onChange:Q=>rn({...Jt,contract_amount:parseFloat(Q.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),i.jsx(We,{type:"date",value:Jt.cont_start_date||"",onChange:Q=>rn({...Jt,cont_start_date:Q.target.value}),className:"h-10"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),i.jsx(We,{type:"date",value:Jt.cont_end_date||"",onChange:Q=>rn({...Jt,cont_end_date:Q.target.value}),className:"h-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),i.jsxs(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(!W),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[i.jsx(Kt,{className:"h-3 w-3 mr-1"}),e(W?"mprojects.cancel":"mprojects.addCity")]})]}),W?i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsx(We,{placeholder:"City Name (English)",value:pe.city_name_en,onChange:Q=>E({...pe,city_name_en:Q.target.value}),className:"h-9"}),i.jsx(We,{placeholder:"City Name (Arabic)",value:pe.city_name_ar,onChange:Q=>E({...pe,city_name_ar:Q.target.value}),className:"h-9"}),i.jsxs(xt,{value:((Ae=pe.country_id)==null?void 0:Ae.toString())||"",onValueChange:Q=>E({...pe,country_id:parseInt(Q)}),children:[i.jsx(pt,{className:"h-9",children:i.jsx(yt,{placeholder:"Select Country"})}),i.jsx(gt,{children:w.map(Q=>i.jsx(Ee,{value:Q.country_id.toString(),children:hn(Q,"country_name_en","country_name_ar")},Q.country_id))})]}),i.jsxs(ce,{onClick:ae,size:"sm",className:"w-full h-9",children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):i.jsxs(xt,{value:((Pe=Jt.city_id)==null?void 0:Pe.toString())||"",onValueChange:Q=>rn({...Jt,city_id:parseInt(Q)||null}),children:[i.jsx(pt,{className:"h-10",children:i.jsx(yt,{placeholder:e("mprojects.selectCity")})}),i.jsx(gt,{children:p.map(Q=>i.jsx(Ee,{value:Q.city_id.toString(),children:hn(Q,"city_name_en","city_name_ar")},Q.city_id))})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),i.jsxs(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Je(!Me),className:"h-6 px-2 text-xs",children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e(Me?"mprojects.cancel":"mprojects.addContact")]})]}),ke.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:ke.map((Q,ye)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:Q.contact_name}),i.jsxs("div",{className:"text-muted-foreground",children:[Q.contact_email&&`${Q.contact_email}  `,Q.contact_mobile&&`${Q.contact_mobile}`]})]}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>te(ye),className:"h-6 w-6 p-0",children:i.jsx(Po,{className:"h-3 w-3"})})]},ye))}),Me&&i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[i.jsx(We,{placeholder:e("mprojects.contactName"),value:ve.contact_name,onChange:Q=>De({...ve,contact_name:Q.target.value})}),i.jsx(We,{placeholder:e("mprojects.email"),type:"email",value:ve.contact_email,onChange:Q=>De({...ve,contact_email:Q.target.value})}),i.jsx(We,{placeholder:e("mprojects.mobile"),value:ve.contact_mobile,onChange:Q=>De({...ve,contact_mobile:Q.target.value})}),i.jsxs(ga,{open:fr,onOpenChange:Sn,children:[i.jsx(va,{asChild:!0,children:i.jsxs(ce,{variant:"outline",role:"combobox","aria-expanded":fr,className:"w-full justify-between",children:[ve.jobtitle_id?(Re=N.find(Q=>Q.jobtitle_id===ve.jobtitle_id))==null?void 0:Re.jobtitle_name_en:e("mprojects.selectJobTitle"),i.jsx(za,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ea,{className:"w-full p-0",children:i.jsxs(xa,{children:[i.jsx(ya,{placeholder:e("mprojects.searchJobTitle")}),i.jsxs(ba,{children:[i.jsx(_a,{children:e("common.noResults")}),i.jsx(wa,{children:N&&N.length>0?N.map(Q=>i.jsx(pr,{value:hn(Q,"jobtitle_name_en","jobtitle_name_ar")||Q.jobtitle_name_en||"Unknown",onSelect:()=>{De(ye=>({...ye,jobtitle_id:Q.jobtitle_id})),Sn(!1)},children:hn(Q,"jobtitle_name_en","jobtitle_name_ar")||Q.jobtitle_name_en||"Unknown"},Q.jobtitle_id)):i.jsx(pr,{disabled:!0,children:"No job titles available"})})]})]})})]}),i.jsx(ce,{type:"button",onClick:ee,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),i.jsx(We,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:Q=>{var H;const ye=(H=Q.target.files)==null?void 0:H[0];je(ye||null)},className:"file:hidden cursor-pointer"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),de&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[i.jsx(bs,{className:"h-5 w-5 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:de.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(de.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx(ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>je(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:i.jsx(Po,{className:"h-4 w-4"})})]}),Ne&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx(ua,{size:"sm"}),i.jsx("span",{className:"text-sm text-blue-700",children:Ne})]})]})]})]}),i.jsx("div",{className:"p-6 border-t bg-muted/20",children:i.jsx(ce,{onClick:ud,className:"w-full",disabled:tt||!Jt.company_name,children:e(tt?"common.saving":K?"common.save":"common.create")})})]})]})]})}),i.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(F||J||T)&&i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>{X(""),O(""),U(""),D(1)},children:e("mprojects.clearFilters")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(xt,{value:J||"all",onValueChange:Q=>{O(Q==="all"?"":Q),D(1)},children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mprojects.country")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mprojects.allCountries")}),w.map(Q=>i.jsx(Ee,{value:Q.country_id.toString(),children:hn(Q,"country_name_en","country_name_ar")},Q.country_id))]})]}),i.jsxs(xt,{value:F||"all",onValueChange:Q=>{X(Q==="all"?"":Q),D(1)},children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("mprojects.city")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("mprojects.allCities")}),p.map(Q=>i.jsx(Ee,{value:Q.city_id.toString(),children:hn(Q,"city_name_en","city_name_ar")},Q.city_id))]})]})]})]})]}),Ze&&i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:e("mprojects.analytics")})}),i.jsx(dt,{children:i.jsxs(Io,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bi,{className:"grid w-full grid-cols-2",children:[i.jsx(Ar,{value:"overview",children:"Overview"}),i.jsx(Ar,{value:"timeline",children:"Timeline"})]}),i.jsx(Wr,{value:"overview",className:"mt-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(H=>({name:H.name,value:Nn.filter(ne=>ne.contract_amount&&ne.contract_amount>=H.min&&ne.contract_amount<H.max).length})).filter(H=>H.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:Q,value:ye})=>`${Q}: ${ye}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((Q,ye)=>i.jsx(sl,{fill:Q},`cell-${ye}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),i.jsx(su,{config:{},className:"h-[350px]",children:i.jsxs(jd,{children:[i.jsx(Ja,{data:(()=>{const Q=p.map(ye=>({name:hn(ye,"city_name_en","city_name_ar"),value:Nn.filter(H=>H.city_id===ye.city_id).length})).filter(ye=>ye.value>0);return Q.length>0?Q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:Q,value:ye})=>`${Q}: ${ye}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((Q,ye)=>i.jsx(sl,{fill:Q},`cell-${ye}`))}),i.jsx(kd,{content:i.jsx(iu,{})})]})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),i.jsx("div",{className:"text-5xl font-bold text-primary",children:Nn.length}),i.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),i.jsx(Wr,{value:"timeline",className:"mt-4",children:i.jsx("div",{className:"w-full h-[400px]",children:i.jsx(Xl,{width:"100%",height:"100%",children:i.jsxs(yx,{data:(()=>{const Q=new Map;return Nn.forEach(H=>{const ne=new Date(H.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});Q.set(ne,(Q.get(ne)||0)+1)}),Array.from(Q.entries()).sort((H,ne)=>new Date(H[0]).getTime()-new Date(ne[0]).getTime()).map(([H,ne])=>({date:H,count:ne}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[i.jsx(Iu,{strokeDasharray:"3 3"}),i.jsx(So,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),i.jsx(No,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),i.jsx(na,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:Q=>[`${Q} projects`,"Total"]}),i.jsx(li,{}),i.jsx(Ac,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),i.jsx(it,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:i.jsx(dt,{className:"h-full flex flex-col p-0",children:i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:me==="kanban"?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:Qn.map(Q=>{var ye;return i.jsxs(it,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>dr(Q),children:[i.jsx(Bt,{className:"pb-2 px-4 pt-3",children:i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:Q.company_name||"No Company"}),Q.contract_code&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:Q.contract_code})]})})}),i.jsxs(dt,{className:"px-4 pb-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Tm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),i.jsx("p",{className:"text-xs font-medium truncate",children:Yi(Q.city_id)})]})}),i.jsx("div",{children:i.jsxs(ht,{variant:"outline",className:"text-xs",children:["$",((ye=Q.contract_amount)==null?void 0:ye.toLocaleString())||"0"]})})]}),i.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("span",{children:["Created: ",new Date(Q.created_at).toLocaleDateString()]})})})]})]},Q.project_id)})})}):i.jsx(i.Fragment,{children:Nn.length===0?i.jsx(ko,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:i.jsx(Pn,{className:"h-12 w-12"})}):i.jsx(wc,{data:Qn,columns:Oe,actions:$e,bulkActions:le,enableBulkSelect:!0,keyExtractor:Q=>Q.project_id.toString(),onRowClick:Q=>dr(Q),rowHeight:"h-26"})})})})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:Un>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(cp,{children:i.jsxs(up,{children:[i.jsx(Ea,{children:i.jsx(_u,{onClick:()=>D(Math.max(0,z-1)),className:z===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Ea,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",z+1," ",e("common.of")," ",Un]})}),i.jsx(Ea,{children:i.jsx(wu,{onClick:()=>D(Math.min(Un-1,z+1)),className:z===Un-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),i.jsx(ui,{open:G!==null,onOpenChange:()=>V(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:e("mprojects.deleteProject")}),i.jsx(Is,{children:e("mprojects.deleteProjectConfirmation")})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:e("common.cancel")}),i.jsx(Ls,{onClick:()=>G&&zo(G),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),i.jsx(_l,{open:Ue,onOpenChange:ze,children:i.jsxs(Mo,{side:n?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[i.jsx(xc,{children:i.jsxs(wl,{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Pn,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:xe==null?void 0:xe.company_name})]})}),xe&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),i.jsxs(ce,{onClick:()=>{Rc(xe),ze(!1)},variant:"outline",size:"sm",children:[i.jsx(Li,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),i.jsxs(Io,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Bi,{className:"grid w-full grid-cols-2",children:[i.jsx(Ar,{value:"overview",children:e("common.overview")}),i.jsx(Ar,{value:"notes",children:e("notes.title")})]}),i.jsxs(Wr,{value:"overview",className:"space-y-4 mt-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:xe.company_name||"-"}),xe.contract_code&&i.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",xe.contract_code]})]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),i.jsx("p",{className:"font-medium",children:xe.contract_amount?`$${xe.contract_amount.toLocaleString()}`:"-"})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),i.jsx("p",{className:"font-medium",children:xe.cont_start_date?new Date(xe.cont_start_date).toLocaleDateString():"-"})]})}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),i.jsx("p",{className:"font-medium",children:xe.cont_end_date?new Date(xe.cont_end_date).toLocaleDateString():"-"})]})})]}),i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[i.jsx(Tm,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),i.jsx("p",{className:"font-medium",children:Yi(xe.city_id)})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const Q=v.filter(ye=>ye.project_id===xe.project_id);return Q.length>0?i.jsx("div",{className:"space-y-2",children:Q.map((ye,H)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:ye.contact_name||"-"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ye.contact_email&&`${ye.contact_email}  `,ye.contact_mobile&&`${ye.contact_mobile}`]})]}),i.jsx(ht,{variant:"outline",className:"text-xs",children:N.find(ne=>ne.jobtitle_id===ye.jobtitle_id)?hn(N.find(ne=>ne.jobtitle_id===ye.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},ye.contact_id||H))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),i.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),i.jsx("p",{className:"text-sm font-medium",children:new Date(xe.created_at).toLocaleDateString()})]})}),xe.contract_document&&(()=>{const Q=xe.contract_document;return i.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:i.jsx(bs,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),i.jsx("button",{onClick:()=>{const ye=`data:${Q.mime||"application/pdf"};base64,${Q.path}`,H=window.open();if(H)H.document.write(`
                                  <html>
                                    <body style="margin:0;padding:20px;">
                                      <embed src="${ye}" width="100%" height="100%" />
                                    </body>
                                  </html>
                                `);else{const ne=document.createElement("a");ne.href=ye,ne.download=Q.name||"contract.pdf",ne.click()}},className:"font-medium text-blue-600 hover:underline truncate block bg-transparent border-none cursor-pointer text-left",children:e("mprojects.viewContract")})]}),i.jsxs("div",{className:"flex gap-1",children:[Q.url&&i.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>window.open(Q.url,"_blank"),className:"h-8 w-8 p-0",children:i.jsx(Oae,{className:"h-4 w-4"})}),i.jsx(ce,{variant:"ghost",size:"sm",onClick:async()=>{try{await RWe(xe.project_id),localStorage.removeItem(o.PROJECTS_DATA),a({title:e("common.success"),description:"Contract document deleted successfully"}),await Ba(),ze(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:i.jsx(ir,{className:"h-4 w-4"})})]})]})})()]}),i.jsx(Wr,{value:"notes",className:"mt-4",children:i.jsx(HP,{relatedType:"mlead",relatedId:xe.project_id,notes:Se,onNotesChange:()=>Dc(xe.project_id)})})]})]})]})})]})}function FWe(){var T,U,z;const{t:e}=Vt(),{toast:t}=Lo(),[r,n]=x.useState("list"),[a,s]=x.useState([]),[o,l]=x.useState(null),[c,u]=x.useState([]),[d,f]=x.useState(null),[h,m]=x.useState(!1);x.useState([]);const[p,g]=x.useState("");x.useEffect(()=>{v()},[]);const v=async()=>{try{const D=["leads_summary_report","leads_by_city_report","leads_conversion_report","sales_performance_report","leads_trend_report"],M=[];for(let L=0;L<D.length;L++)try{const I=await Yr(`/api/v1/report/${D[L]}`);I&&I.data&&(M.push({report_id:L+1,report_name:D[L],report_title_en:D[L].replace(/_/g," ").replace(/\b\w/g,F=>F.toUpperCase())+" Report",report_title_ar:y(D[L]),report_description_en:b(D[L]),report_description_ar:_(D[L]),report_type:w(D[L]),is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}),console.log(` Report ${D[L]} loaded successfully`))}catch(I){console.warn(` Report ${D[L]} not available:`,I)}if(M.length>0)console.log(` Loaded ${M.length} reports:`,M.map(L=>L.report_name)),s(M);else{console.warn(" No reports loaded from API, using fallback");const L=[{report_id:1,report_name:"leads_summary_report",report_title_en:"Leads Summary Report",report_title_ar:"   ",report_description_en:"Comprehensive overview of all leads with status breakdown",report_description_ar:"        ",report_type:"summary",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:2,report_name:"leads_by_city_report",report_title_en:"Leads by City Report",report_title_ar:"   ",report_description_en:"Geographic distribution of leads across different cities",report_description_ar:"      ",report_type:"analytics",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:3,report_name:"leads_conversion_report",report_title_en:"Leads Conversion Report",report_title_ar:"  ",report_description_en:"Analysis of lead conversion rates by activity and system sources",report_description_ar:"       ",report_type:"conversion",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:4,report_name:"sales_performance_report",report_title_en:"Sales Performance Report",report_title_ar:"  ",report_description_en:"Sales team performance metrics and achievements",report_description_ar:"    ",report_type:"performance",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1},{report_id:5,report_name:"leads_trend_report",report_title_en:"Leads Trend Report",report_title_ar:"  ",report_description_en:"Monthly trends in lead creation and conversion",report_description_ar:"     ",report_type:"trend",is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:1}];s(L)}}catch(D){console.error("Failed to load reports:",D),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}},y=D=>({leads_summary_report:"   ",leads_by_city_report:"   ",leads_conversion_report:"  ",sales_performance_report:"  ",leads_trend_report:"  "})[D]||"",b=D=>({leads_summary_report:"Comprehensive overview of all leads with status breakdown",leads_by_city_report:"Geographic distribution of leads across different cities",leads_conversion_report:"Analysis of lead conversion rates by activity and system sources",sales_performance_report:"Sales team performance metrics and achievements",leads_trend_report:"Monthly trends in lead creation and conversion"})[D]||"Report description",_=D=>({leads_summary_report:"        ",leads_by_city_report:"      ",leads_conversion_report:"       ",sales_performance_report:"    ",leads_trend_report:"     "})[D]||" ",w=D=>({leads_summary_report:"summary",leads_by_city_report:"analytics",leads_conversion_report:"conversion",sales_performance_report:"performance",leads_trend_report:"trend"})[D]||"summary",j=async D=>{try{const M=a.find(I=>I.report_id===D);if(!M)return;const L=N(M.report_name);u(L)}catch(M){console.error("Failed to load report parameters:",M),t({title:"Error",description:"Failed to load report parameters",variant:"destructive"})}},N=D=>({leads_summary:[{param_id:1,report_id:1,param_name:"status_id",param_label_en:"Status",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:2,report_id:1,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:3,report_id:1,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:4,report_id:1,param_name:"assigned_to",param_label_en:"Assigned To",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],leads_by_city:[{param_id:5,report_id:2,param_name:"city_id",param_label_en:"City",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:6,report_id:2,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}],leads_conversion:[{param_id:7,report_id:3,param_name:"activity_id",param_label_en:"Activity",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:8,report_id:3,param_name:"system_id",param_label_en:"System",param_label_ar:"",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:9,report_id:3,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0},{param_id:10,report_id:3,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:4,is_active:!0}],sales_performance:[{param_id:11,report_id:4,param_name:"assigned_to",param_label_en:"Sales Person",param_label_ar:" ",param_type:"select",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:12,report_id:4,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0},{param_id:13,report_id:4,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:3,is_active:!0}],leads_trend_simple:[{param_id:14,report_id:5,param_name:"start_date",param_label_en:"Start Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:1,is_active:!0},{param_id:15,report_id:5,param_name:"end_date",param_label_en:"End Date",param_label_ar:" ",param_type:"date",param_default:"",param_required:!1,param_options:null,param_validation:"",display_order:2,is_active:!0}]})[D]||[],S=async()=>{if(o)try{m(!0),f(null);const D={};c.forEach(L=>{const I=document.getElementById(`param_${L.param_name}`);I&&(D[L.param_name]=I.value)});const M=await Yr(`/api/v1/report/${o.report_name}`);f({data:M.data||[],columns:M.columns||(M.data&&M.data.length>0?Object.keys(M.data[0]):[]),report_type:o.report_name,execution_time:new Date().toISOString()})}catch(D){console.error("Failed to execute report:",D),t({title:e("reports.errorLoading"),description:e("reports.errorLoading"),variant:"destructive"})}finally{m(!1)}},k=async D=>{if(!(!d||!d.data))try{const M=[d.columns.join(","),...d.data.map(X=>d.columns.map(J=>`"${X[J]||""}"`).join(","))].join(`
`),L=new Blob([M],{type:"text/csv"}),I=window.URL.createObjectURL(L),F=document.createElement("a");F.href=I,F.download=`${o.report_name}.csv`,document.body.appendChild(F),F.click(),document.body.removeChild(F),window.URL.revokeObjectURL(I),t({title:e("reports.downloadSuccess"),description:e("reports.downloadSuccess")})}catch(M){console.error("Failed to export report:",M),t({title:e("reports.exportError"),description:e("reports.exportError"),variant:"destructive"})}},C=async()=>{t({title:"Info",description:"Reports are predefined. Contact admin to add new reports.",variant:"default"})},A=async D=>{try{s(M=>M.filter(L=>L.report_id!==D)),t({title:"Success",description:"Report removed from list"})}catch(M){console.error("Failed to delete report:",M),t({title:"Error",description:"Failed to delete report",variant:"destructive"})}},P=a.filter(D=>D.report_name.toLowerCase().includes(p.toLowerCase())||D.report_title_en.toLowerCase().includes(p.toLowerCase())||D.report_title_ar.toLowerCase().includes(p.toLowerCase()));return i.jsxs("div",{className:"container mx-auto py-6 px-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e("navigation.reports")}),i.jsx("p",{className:"text-muted-foreground mb-6",children:e("reports.description")})]}),i.jsxs(Io,{value:r,onValueChange:n,children:[i.jsxs(Bi,{className:"grid w-full grid-cols-3",children:[i.jsx(Ar,{value:"list",children:e("reports.list")}),i.jsx(Ar,{value:"create",children:e("reports.create")}),i.jsx(Ar,{value:"schedule",children:e("reports.schedule")})]}),i.jsxs(Wr,{value:"list",className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[i.jsx(ds,{className:"h-4 w-4"}),i.jsx(We,{placeholder:e("reports.searchReports"),value:p,onChange:D=>g(D.target.value),className:"max-w-sm"})]}),i.jsxs(ce,{onClick:C,children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e("reports.createNew")]})]}),P.length===0?i.jsx(ko,{icon:i.jsx(Ii,{className:"h-12 w-12"}),title:e("reports.noReports"),description:e("reports.noReportsDesc")}):i.jsx("div",{className:"grid gap-4",children:P.map(D=>i.jsxs(it,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsx(Bt,{children:i.jsxs(er,{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[e("reports.title"),": ",D.report_title_en]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.description"),": ",D.report_description_en]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>j(D.report_id),children:i.jsx(aw,{className:"h-4 w-4"})}),i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>l(D),children:i.jsx(vk,{className:"h-4 w-4"})}),i.jsx(ce,{variant:"destructive",size:"sm",onClick:()=>A(D.report_id),children:i.jsx(ir,{className:"h-4 w-4"})})]})]})}),i.jsx(dt,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ht,{variant:D.is_active?"default":"secondary",children:D.report_type}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[e("reports.lastModified"),": ",new Date(D.updated_at).toLocaleDateString()]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("reports.createdBy"),": ",D.created_by]})})]})})]},D.report_id))})]}),i.jsx(Wr,{value:"create",className:"space-y-6",children:i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:e("reports.createNew")})}),i.jsxs(dt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_name",children:e("reports.reportName")}),i.jsx(We,{id:"report_name",placeholder:e("reports.reportNamePlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_title_en",children:e("reports.titleEn")}),i.jsx(We,{id:"report_title_en",placeholder:e("reports.titleEnPlaceholder")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_title_ar",children:e("reports.titleAr")}),i.jsx(We,{id:"report_title_ar",placeholder:e("reports.titleArPlaceholder")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_type",children:e("reports.reportType")}),i.jsxs(xt,{onValueChange:D=>console.log("Report type:",D),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:e("reports.selectType")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"summary",children:e("reports.types.summary")}),i.jsx(Ee,{value:"analytics",children:e("reports.types.analytics")}),i.jsx(Ee,{value:"trend",children:e("reports.types.trend")}),i.jsx(Ee,{value:"conversion",children:e("reports.types.conversion")}),i.jsx(Ee,{value:"performance",children:e("reports.types.performance")})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_description_en",children:e("reports.descriptionEn")}),i.jsx(Ln,{id:"report_description_en",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"report_description_ar",children:e("reports.descriptionAr")}),i.jsx(Ln,{id:"report_description_ar",placeholder:e("reports.descriptionPlaceholder"),rows:3})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsxs(ce,{onClick:C,children:[i.jsx(Kt,{className:"h-4 w-4 mr-2"}),e("reports.createReport")]})})]})]})}),i.jsx(Wr,{value:"schedule",className:"space-y-6",children:i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:e("reports.scheduling")})}),i.jsx(dt,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zP,{className:"h-12 w-12 mx-auto text-muted-foreground"}),i.jsx("h3",{className:"mt-4 text-lg font-semibold",children:e("reports.comingSoon")}),i.jsx("p",{className:"text-muted-foreground",children:e("reports.schedulingDesc")})]})})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:o.report_title_en}),i.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>l(null),children:""})]}),c.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e("reports.parameters")}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(D=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs(He,{htmlFor:`param_${D.param_name}`,children:[D.param_label_en,D.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),D.param_type==="text"&&i.jsx(We,{id:`param_${D.param_name}`,placeholder:D.param_default||"",defaultValue:D.param_default||""}),D.param_type==="number"&&i.jsx(We,{id:`param_${D.param_name}`,type:"number",placeholder:D.param_default||"",defaultValue:D.param_default||""}),D.param_type==="date"&&i.jsx(We,{id:`param_${D.param_name}`,type:"date",placeholder:D.param_default||"",defaultValue:D.param_default||""}),D.param_type==="select"&&D.param_options&&i.jsxs(xt,{onValueChange:M=>console.log("Selected:",M),children:[i.jsx(pt,{children:i.jsx(yt,{placeholder:D.param_default||""})}),i.jsx(gt,{children:JSON.parse(D.param_options||"[]").map(M=>i.jsx(Ee,{value:M.value,children:M.label},M.value))})]})]},D.param_id))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ce,{onClick:S,disabled:h,className:"flex-1",children:h?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary mr-2"}),e("reports.executing")]}):i.jsxs(i.Fragment,{children:[i.jsx(vk,{className:"h-4 w-4 mr-2"}),e("reports.executeReport")]})}),d&&i.jsxs(ce,{variant:"outline",onClick:()=>k(),children:[i.jsx(BB,{className:"h-4 w-4 mr-2"}),e("reports.exportCSV")]})]}),d&&i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e("reports.results")}),i.jsxs(ht,{variant:"secondary",children:[d.totalCount||((T=d.data)==null?void 0:T.length)," ",e("reports.records")]})]}),d.message&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-blue-700",children:d.message})}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto max-h-96",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted",children:i.jsx("tr",{children:(U=d.columns)==null?void 0:U.map(D=>i.jsx("th",{className:"px-4 py-2 text-left font-medium border-b",children:D.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())},D))})}),i.jsx("tbody",{children:(z=d.data)==null?void 0:z.map((D,M)=>{var L;return i.jsx("tr",{className:"border-b hover:bg-muted/50",children:(L=d.columns)==null?void 0:L.map(I=>i.jsx("td",{className:"px-4 py-2 border-b",children:D[I]||"-"},I))},M)})})]})})})]})]})})]})}const k0={async getRequests(){return(await Y.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await Y.requests.get(e)},async createRequest(e){return await Y.requests.create(e)},async updateRequest(e,t){return await Y.requests.update(e,t)},async deleteRequest(e){await Y.requests.delete(e)}};var Lx=e=>e.type==="checkbox",Ld=e=>e instanceof Date,Ya=e=>e==null;const DY=e=>typeof e=="object";var fn=e=>!Ya(e)&&!Array.isArray(e)&&DY(e)&&!Ld(e),RY=e=>fn(e)&&e.target?Lx(e.target)?e.target.checked:e.target.value:e,IWe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,MY=(e,t)=>e.has(IWe(t)),LWe=e=>{const t=e.constructor&&e.constructor.prototype;return fn(t)&&t.hasOwnProperty("isPrototypeOf")},IO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function En(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(IO&&(e instanceof Blob||n))&&(r||fn(e)))if(t=r?[]:{},!r&&!LWe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=En(e[a]));else return e;return t}var Dj=e=>/^\w*$/.test(e),sn=e=>e===void 0,LO=e=>Array.isArray(e)?e.filter(Boolean):[],$O=e=>LO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(e,t,r)=>{if(!t||!fn(e))return r;const n=(Dj(t)?[t]:$O(t)).reduce((a,s)=>Ya(a)?a:a[s],e);return sn(n)||n===e?sn(e[t])?r:e[t]:n},Xs=e=>typeof e=="boolean",yr=(e,t,r)=>{let n=-1;const a=Dj(t)?[t]:$O(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=fn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const k_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ll={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},BO=ie.createContext(null);BO.displayName="HookFormContext";const Rj=()=>ie.useContext(BO),$We=e=>{const{children:t,...r}=e;return ie.createElement(BO.Provider,{value:r},t)};var FY=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==vo.all&&(t._proxyFormState[o]=!n||vo.all),r&&(r[o]=!0),e[o]}});return a};const UO=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;function BWe(e){const t=Rj(),{control:r=t.control,disabled:n,name:a,exact:s}=e||{},[o,l]=ie.useState(r._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return UO(()=>r._subscribe({name:a,formState:c.current,exact:s,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,s]),ie.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),ie.useMemo(()=>FY(o,r,c.current,!1),[o,r])}var ul=e=>typeof e=="string",IY=(e,t,r,n,a)=>ul(e)?(n&&t.watch.add(e),rt(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),rt(r,s))):(n&&(t.watchAll=!0),r),TE=e=>Ya(e)||!DY(e);function ql(e,t,r=new WeakSet){if(TE(e)||TE(t))return e===t;if(Ld(e)&&Ld(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(Ld(o)&&Ld(l)||fn(o)&&fn(l)||Array.isArray(o)&&Array.isArray(l)?!ql(o,l,r):o!==l)return!1}}return!0}function UWe(e){const t=Rj(),{control:r=t.control,name:n,defaultValue:a,disabled:s,exact:o,compute:l}=e||{},c=ie.useRef(a),u=ie.useRef(l),d=ie.useRef(void 0);u.current=l;const f=ie.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=ie.useState(u.current?u.current(f):f);return UO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:p=>{if(!s){const g=IY(n,r._names,p.values||r._formValues,!1,c.current);if(u.current){const v=u.current(g);ql(v,d.current)||(m(v),d.current=v)}else m(g)}}}),[r,s,n,o]),ie.useEffect(()=>r._removeUnmounted()),h}function zWe(e){const t=Rj(),{name:r,disabled:n,control:a=t.control,shouldUnregister:s,defaultValue:o}=e,l=MY(a._names.array,r),c=ie.useMemo(()=>rt(a._formValues,r,rt(a._defaultValues,r,o)),[a,r,o]),u=UWe({control:a,name:r,defaultValue:c,exact:!0}),d=BWe({control:a,name:r,exact:!0}),f=ie.useRef(e),h=ie.useRef(a.register(r,{...e.rules,value:u,...Xs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const m=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!rt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!rt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!rt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!rt(d.validatingFields,r)},error:{enumerable:!0,get:()=>rt(d.errors,r)}}),[d,r]),p=ie.useCallback(b=>h.current.onChange({target:{value:RY(b),name:r},type:k_.CHANGE}),[r]),g=ie.useCallback(()=>h.current.onBlur({target:{value:rt(a._formValues,r),name:r},type:k_.BLUR}),[r,a._formValues]),v=ie.useCallback(b=>{const _=rt(a._fields,r);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:w=>b.setCustomValidity(w),reportValidity:()=>b.reportValidity()})},[a._fields,r]),y=ie.useMemo(()=>({name:r,value:u,...Xs(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:g,ref:v}),[r,n,d.disabled,p,g,v,u]);return ie.useEffect(()=>{const b=a._options.shouldUnregister||s;a.register(r,{...f.current.rules,...Xs(f.current.disabled)?{disabled:f.current.disabled}:{}});const _=(w,j)=>{const N=rt(a._fields,w);N&&N._f&&(N._f.mount=j)};if(_(r,!0),b){const w=En(rt(a._options.defaultValues,r));yr(a._defaultValues,r,w),sn(rt(a._formValues,r))&&yr(a._formValues,r,w)}return!l&&a.register(r),()=>{(l?b&&!a._state.action:b)?a.unregister(r):_(r,!1)}},[r,a,l,s]),ie.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),ie.useMemo(()=>({field:y,formState:d,fieldState:m}),[y,d,m])}const VWe=e=>e.render(zWe(e));var LY=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},yg=e=>Array.isArray(e)?e:[e],H5=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},vs=e=>fn(e)&&!Object.keys(e).length,zO=e=>e.type==="file",xo=e=>typeof e=="function",C_=e=>{if(!IO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$Y=e=>e.type==="select-multiple",VO=e=>e.type==="radio",WWe=e=>VO(e)||Lx(e),Q2=e=>C_(e)&&e.isConnected;function HWe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=sn(e)?n++:e[t[n++]];return e}function qWe(e){for(const t in e)if(e.hasOwnProperty(t)&&!sn(e[t]))return!1;return!0}function pn(e,t){const r=Array.isArray(t)?t:Dj(t)?[t]:$O(t),n=r.length===1?e:HWe(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(fn(n)&&vs(n)||Array.isArray(n)&&qWe(n))&&pn(e,r.slice(0,-1)),e}var BY=e=>{for(const t in e)if(xo(e[t]))return!0;return!1};function E_(e,t={}){const r=Array.isArray(e);if(fn(e)||r)for(const n in e)Array.isArray(e[n])||fn(e[n])&&!BY(e[n])?(t[n]=Array.isArray(e[n])?[]:{},E_(e[n],t[n])):Ya(e[n])||(t[n]=!0);return t}function UY(e,t,r){const n=Array.isArray(e);if(fn(e)||n)for(const a in e)Array.isArray(e[a])||fn(e[a])&&!BY(e[a])?sn(t)||TE(r[a])?r[a]=Array.isArray(e[a])?E_(e[a],[]):{...E_(e[a])}:UY(e[a],Ya(t)?{}:t[a],r[a]):r[a]=!ql(e[a],t[a]);return r}var C0=(e,t)=>UY(e,t,E_(t));const q5={value:!1,isValid:!1},K5={value:!0,isValid:!0};var zY=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!sn(e[0].attributes.value)?sn(e[0].value)||e[0].value===""?K5:{value:e[0].value,isValid:!0}:K5:q5}return q5},VY=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>sn(e)?e:t?e===""?NaN:e&&+e:r&&ul(e)?new Date(e):n?n(e):e;const G5={isValid:!1,value:null};var WY=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,G5):G5;function Y5(e){const t=e.ref;return zO(t)?t.files:VO(t)?WY(e.refs).value:$Y(t)?[...t.selectedOptions].map(({value:r})=>r):Lx(t)?zY(e.refs).value:VY(sn(t.value)?e.ref.value:t.value,e)}var KWe=(e,t,r,n)=>{const a={};for(const s of e){const o=rt(t,s);o&&yr(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},T_=e=>e instanceof RegExp,E0=e=>sn(e)?e:T_(e)?e.source:fn(e)?T_(e.value)?e.value.source:e.value:e,X5=e=>({isOnSubmit:!e||e===vo.onSubmit,isOnBlur:e===vo.onBlur,isOnChange:e===vo.onChange,isOnAll:e===vo.all,isOnTouch:e===vo.onTouched});const J5="AsyncFunction";var GWe=e=>!!e&&!!e.validate&&!!(xo(e.validate)&&e.validate.constructor.name===J5||fn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===J5)),YWe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Q5=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const bg=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=rt(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(bg(l,t))break}else if(fn(l)&&bg(l,t))break}}};function Z5(e,t,r){const n=rt(e,r);if(n||Dj(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=rt(t,s),l=rt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var XWe=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return vs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||vo.all))},JWe=(e,t,r)=>!e||!t||e===t||yg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),QWe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,ZWe=(e,t)=>!LO(rt(e,t)).length&&pn(e,t),eHe=(e,t,r)=>{const n=yg(rt(e,r));return yr(n,"root",t[r]),yr(e,r,n),e},y1=e=>ul(e);function e$(e,t,r="validate"){if(y1(e)||Array.isArray(e)&&e.every(y1)||Xs(e)&&!e)return{type:r,message:y1(e)?e:"",ref:t}}var ch=e=>fn(e)&&!T_(e)?e:{value:e,message:""},t$=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:p,name:g,valueAsNumber:v,mount:y}=e._f,b=rt(r,g);if(!y||t.has(g))return{};const _=l?l[0]:o,w=T=>{a&&_.reportValidity&&(_.setCustomValidity(Xs(T)?"":T||""),_.reportValidity())},j={},N=VO(o),S=Lx(o),k=N||S,C=(v||zO(o))&&sn(o.value)&&sn(b)||C_(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,A=LY.bind(null,g,n,j),P=(T,U,z,D=Ll.maxLength,M=Ll.minLength)=>{const L=T?U:z;j[g]={type:T?D:M,message:L,ref:o,...A(T?D:M,L)}};if(s?!Array.isArray(b)||!b.length:c&&(!k&&(C||Ya(b))||Xs(b)&&!b||S&&!zY(l).isValid||N&&!WY(l).isValid)){const{value:T,message:U}=y1(c)?{value:!!c,message:c}:ch(c);if(T&&(j[g]={type:Ll.required,message:U,ref:_,...A(Ll.required,U)},!n))return w(U),j}if(!C&&(!Ya(f)||!Ya(h))){let T,U;const z=ch(h),D=ch(f);if(!Ya(b)&&!isNaN(b)){const M=o.valueAsNumber||b&&+b;Ya(z.value)||(T=M>z.value),Ya(D.value)||(U=M<D.value)}else{const M=o.valueAsDate||new Date(b),L=X=>new Date(new Date().toDateString()+" "+X),I=o.type=="time",F=o.type=="week";ul(z.value)&&b&&(T=I?L(b)>L(z.value):F?b>z.value:M>new Date(z.value)),ul(D.value)&&b&&(U=I?L(b)<L(D.value):F?b<D.value:M<new Date(D.value))}if((T||U)&&(P(!!T,z.message,D.message,Ll.max,Ll.min),!n))return w(j[g].message),j}if((u||d)&&!C&&(ul(b)||s&&Array.isArray(b))){const T=ch(u),U=ch(d),z=!Ya(T.value)&&b.length>+T.value,D=!Ya(U.value)&&b.length<+U.value;if((z||D)&&(P(z,T.message,U.message),!n))return w(j[g].message),j}if(m&&!C&&ul(b)){const{value:T,message:U}=ch(m);if(T_(T)&&!b.match(T)&&(j[g]={type:Ll.pattern,message:U,ref:o,...A(Ll.pattern,U)},!n))return w(U),j}if(p){if(xo(p)){const T=await p(b,r),U=e$(T,_);if(U&&(j[g]={...U,...A(Ll.validate,U.message)},!n))return w(U.message),j}else if(fn(p)){let T={};for(const U in p){if(!vs(T)&&!n)break;const z=e$(await p[U](b,r),_,U);z&&(T={...z,...A(U,z.message)},w(z.message),n&&(j[g]=T))}if(!vs(T)&&(j[g]={ref:_,...T},!n))return j}}return w(!0),j};const tHe={mode:vo.onSubmit,reValidateMode:vo.onChange,shouldFocusError:!0};function rHe(e={}){let t={...tHe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=fn(t.defaultValues)||fn(t.values)?En(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:En(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:H5(),state:H5()},m=t.criteriaMode===vo.all,p=oe=>me=>{clearTimeout(u),u=setTimeout(oe,me)},g=async oe=>{if(!t.disabled&&(d.isValid||f.isValid||oe)){const me=t.resolver?vs((await S()).errors):await C(n,!0);me!==r.isValid&&h.state.next({isValid:me})}},v=(oe,me)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((oe||Array.from(l.mount)).forEach(B=>{B&&(me?yr(r.validatingFields,B,me):pn(r.validatingFields,B))}),h.state.next({validatingFields:r.validatingFields,isValidating:!vs(r.validatingFields)}))},y=(oe,me=[],B,de,je=!0,Ne=!0)=>{if(de&&B&&!t.disabled){if(o.action=!0,Ne&&Array.isArray(rt(n,oe))){const Ve=B(rt(n,oe),de.argA,de.argB);je&&yr(n,oe,Ve)}if(Ne&&Array.isArray(rt(r.errors,oe))){const Ve=B(rt(r.errors,oe),de.argA,de.argB);je&&yr(r.errors,oe,Ve),ZWe(r.errors,oe)}if((d.touchedFields||f.touchedFields)&&Ne&&Array.isArray(rt(r.touchedFields,oe))){const Ve=B(rt(r.touchedFields,oe),de.argA,de.argB);je&&yr(r.touchedFields,oe,Ve)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=C0(a,s)),h.state.next({name:oe,isDirty:P(oe,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yr(s,oe,me)},b=(oe,me)=>{yr(r.errors,oe,me),h.state.next({errors:r.errors})},_=oe=>{r.errors=oe,h.state.next({errors:r.errors,isValid:!1})},w=(oe,me,B,de)=>{const je=rt(n,oe);if(je){const Ne=rt(s,oe,sn(B)?rt(a,oe):B);sn(Ne)||de&&de.defaultChecked||me?yr(s,oe,me?Ne:Y5(je._f)):z(oe,Ne),o.mount&&g()}},j=(oe,me,B,de,je)=>{let Ne=!1,Ve=!1;const ke={name:oe};if(!t.disabled){if(!B||de){(d.isDirty||f.isDirty)&&(Ve=r.isDirty,r.isDirty=ke.isDirty=P(),Ne=Ve!==ke.isDirty);const Ce=ql(rt(a,oe),me);Ve=!!rt(r.dirtyFields,oe),Ce?pn(r.dirtyFields,oe):yr(r.dirtyFields,oe,!0),ke.dirtyFields=r.dirtyFields,Ne=Ne||(d.dirtyFields||f.dirtyFields)&&Ve!==!Ce}if(B){const Ce=rt(r.touchedFields,oe);Ce||(yr(r.touchedFields,oe,B),ke.touchedFields=r.touchedFields,Ne=Ne||(d.touchedFields||f.touchedFields)&&Ce!==B)}Ne&&je&&h.state.next(ke)}return Ne?ke:{}},N=(oe,me,B,de)=>{const je=rt(r.errors,oe),Ne=(d.isValid||f.isValid)&&Xs(me)&&r.isValid!==me;if(t.delayError&&B?(c=p(()=>b(oe,B)),c(t.delayError)):(clearTimeout(u),c=null,B?yr(r.errors,oe,B):pn(r.errors,oe)),(B?!ql(je,B):je)||!vs(de)||Ne){const Ve={...de,...Ne&&Xs(me)?{isValid:me}:{},errors:r.errors,name:oe};r={...r,...Ve},h.state.next(Ve)}},S=async oe=>{v(oe,!0);const me=await t.resolver(s,t.context,KWe(oe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(oe),me},k=async oe=>{const{errors:me}=await S(oe);if(oe)for(const B of oe){const de=rt(me,B);de?yr(r.errors,B,de):pn(r.errors,B)}else r.errors=me;return me},C=async(oe,me,B={valid:!0})=>{for(const de in oe){const je=oe[de];if(je){const{_f:Ne,...Ve}=je;if(Ne){const ke=l.array.has(Ne.name),Ce=je._f&&GWe(je._f);Ce&&d.validatingFields&&v([de],!0);const ve=await t$(je,l.disabled,s,m,t.shouldUseNativeValidation&&!me,ke);if(Ce&&d.validatingFields&&v([de]),ve[Ne.name]&&(B.valid=!1,me))break;!me&&(rt(ve,Ne.name)?ke?eHe(r.errors,ve,Ne.name):yr(r.errors,Ne.name,ve[Ne.name]):pn(r.errors,Ne.name))}!vs(Ve)&&await C(Ve,me,B)}}return B.valid},A=()=>{for(const oe of l.unMount){const me=rt(n,oe);me&&(me._f.refs?me._f.refs.every(B=>!Q2(B)):!Q2(me._f.ref))&&ue(oe)}l.unMount=new Set},P=(oe,me)=>!t.disabled&&(oe&&me&&yr(s,oe,me),!ql(X(),a)),T=(oe,me,B)=>IY(oe,l,{...o.mount?s:sn(me)?a:ul(oe)?{[oe]:me}:me},B,me),U=oe=>LO(rt(o.mount?s:a,oe,t.shouldUnregister?rt(a,oe,[]):[])),z=(oe,me,B={})=>{const de=rt(n,oe);let je=me;if(de){const Ne=de._f;Ne&&(!Ne.disabled&&yr(s,oe,VY(me,Ne)),je=C_(Ne.ref)&&Ya(me)?"":me,$Y(Ne.ref)?[...Ne.ref.options].forEach(Ve=>Ve.selected=je.includes(Ve.value)):Ne.refs?Lx(Ne.ref)?Ne.refs.forEach(Ve=>{(!Ve.defaultChecked||!Ve.disabled)&&(Array.isArray(je)?Ve.checked=!!je.find(ke=>ke===Ve.value):Ve.checked=je===Ve.value||!!je)}):Ne.refs.forEach(Ve=>Ve.checked=Ve.value===je):zO(Ne.ref)?Ne.ref.value="":(Ne.ref.value=je,Ne.ref.type||h.state.next({name:oe,values:En(s)})))}(B.shouldDirty||B.shouldTouch)&&j(oe,je,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&F(oe)},D=(oe,me,B)=>{for(const de in me){if(!me.hasOwnProperty(de))return;const je=me[de],Ne=oe+"."+de,Ve=rt(n,Ne);(l.array.has(oe)||fn(je)||Ve&&!Ve._f)&&!Ld(je)?D(Ne,je,B):z(Ne,je,B)}},M=(oe,me,B={})=>{const de=rt(n,oe),je=l.array.has(oe),Ne=En(me);yr(s,oe,Ne),je?(h.array.next({name:oe,values:En(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&h.state.next({name:oe,dirtyFields:C0(a,s),isDirty:P(oe,Ne)})):de&&!de._f&&!Ya(Ne)?D(oe,Ne,B):z(oe,Ne,B),Q5(oe,l)&&h.state.next({...r,name:oe}),h.state.next({name:o.mount?oe:void 0,values:En(s)})},L=async oe=>{o.mount=!0;const me=oe.target;let B=me.name,de=!0;const je=rt(n,B),Ne=Ce=>{de=Number.isNaN(Ce)||Ld(Ce)&&isNaN(Ce.getTime())||ql(Ce,rt(s,B,Ce))},Ve=X5(t.mode),ke=X5(t.reValidateMode);if(je){let Ce,ve;const De=me.type?Y5(je._f):RY(oe),Me=oe.type===k_.BLUR||oe.type===k_.FOCUS_OUT,Je=!YWe(je._f)&&!t.resolver&&!rt(r.errors,B)&&!je._f.deps||QWe(Me,rt(r.touchedFields,B),r.isSubmitted,ke,Ve),tt=Q5(B,l,Me);yr(s,B,De),Me?(je._f.onBlur&&je._f.onBlur(oe),c&&c(0)):je._f.onChange&&je._f.onChange(oe);const bt=j(B,De,Me),Ft=!vs(bt)||tt;if(!Me&&h.state.next({name:B,type:oe.type,values:En(s)}),Je)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Me&&g():Me||g()),Ft&&h.state.next({name:B,...tt?{}:bt});if(!Me&&tt&&h.state.next({...r}),t.resolver){const{errors:ur}=await S([B]);if(Ne(De),de){const fr=Z5(r.errors,n,B),Sn=Z5(ur,n,fr.name||B);Ce=Sn.error,B=Sn.name,ve=vs(ur)}}else v([B],!0),Ce=(await t$(je,l.disabled,s,m,t.shouldUseNativeValidation))[B],v([B]),Ne(De),de&&(Ce?ve=!1:(d.isValid||f.isValid)&&(ve=await C(n,!0)));de&&(je._f.deps&&F(je._f.deps),N(B,ve,Ce,bt))}},I=(oe,me)=>{if(rt(r.errors,me)&&oe.focus)return oe.focus(),1},F=async(oe,me={})=>{let B,de;const je=yg(oe);if(t.resolver){const Ne=await k(sn(oe)?oe:je);B=vs(Ne),de=oe?!je.some(Ve=>rt(Ne,Ve)):B}else oe?(de=(await Promise.all(je.map(async Ne=>{const Ve=rt(n,Ne);return await C(Ve&&Ve._f?{[Ne]:Ve}:Ve)}))).every(Boolean),!(!de&&!r.isValid)&&g()):de=B=await C(n);return h.state.next({...!ul(oe)||(d.isValid||f.isValid)&&B!==r.isValid?{}:{name:oe},...t.resolver||!oe?{isValid:B}:{},errors:r.errors}),me.shouldFocus&&!de&&bg(n,I,oe?je:l.mount),de},X=oe=>{const me={...o.mount?s:a};return sn(oe)?me:ul(oe)?rt(me,oe):oe.map(B=>rt(me,B))},J=(oe,me)=>({invalid:!!rt((me||r).errors,oe),isDirty:!!rt((me||r).dirtyFields,oe),error:rt((me||r).errors,oe),isValidating:!!rt(r.validatingFields,oe),isTouched:!!rt((me||r).touchedFields,oe)}),O=oe=>{oe&&yg(oe).forEach(me=>pn(r.errors,me)),h.state.next({errors:oe?r.errors:{}})},G=(oe,me,B)=>{const de=(rt(n,oe,{_f:{}})._f||{}).ref,je=rt(r.errors,oe)||{},{ref:Ne,message:Ve,type:ke,...Ce}=je;yr(r.errors,oe,{...Ce,...me,ref:de}),h.state.next({name:oe,errors:r.errors,isValid:!1}),B&&B.shouldFocus&&de&&de.focus&&de.focus()},V=(oe,me)=>xo(oe)?h.state.subscribe({next:B=>"values"in B&&oe(T(void 0,me),B)}):T(oe,me,!0),K=oe=>h.state.subscribe({next:me=>{JWe(oe.name,me.name,oe.exact)&&XWe(me,oe.formState||d,Se,oe.reRenderRoot)&&oe.callback({values:{...s},...r,...me,defaultValues:a})}}).unsubscribe,re=oe=>(o.mount=!0,f={...f,...oe.formState},K({...oe,formState:f})),ue=(oe,me={})=>{for(const B of oe?yg(oe):l.mount)l.mount.delete(B),l.array.delete(B),me.keepValue||(pn(n,B),pn(s,B)),!me.keepError&&pn(r.errors,B),!me.keepDirty&&pn(r.dirtyFields,B),!me.keepTouched&&pn(r.touchedFields,B),!me.keepIsValidating&&pn(r.validatingFields,B),!t.shouldUnregister&&!me.keepDefaultValue&&pn(a,B);h.state.next({values:En(s)}),h.state.next({...r,...me.keepDirty?{isDirty:P()}:{}}),!me.keepIsValid&&g()},_e=({disabled:oe,name:me})=>{(Xs(oe)&&o.mount||oe||l.disabled.has(me))&&(oe?l.disabled.add(me):l.disabled.delete(me))},W=(oe,me={})=>{let B=rt(n,oe);const de=Xs(me.disabled)||Xs(t.disabled);return yr(n,oe,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:oe}},name:oe,mount:!0,...me}}),l.mount.add(oe),B?_e({disabled:Xs(me.disabled)?me.disabled:t.disabled,name:oe}):w(oe,!0,me.value),{...de?{disabled:me.disabled||t.disabled}:{},...t.progressive?{required:!!me.required,min:E0(me.min),max:E0(me.max),minLength:E0(me.minLength),maxLength:E0(me.maxLength),pattern:E0(me.pattern)}:{},name:oe,onChange:L,onBlur:L,ref:je=>{if(je){W(oe,me),B=rt(n,oe);const Ne=sn(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,Ve=WWe(Ne),ke=B._f.refs||[];if(Ve?ke.find(Ce=>Ce===Ne):Ne===B._f.ref)return;yr(n,oe,{_f:{...B._f,...Ve?{refs:[...ke.filter(Q2),Ne,...Array.isArray(rt(a,oe))?[{}]:[]],ref:{type:Ne.type,name:oe}}:{ref:Ne}}}),w(oe,!1,void 0,Ne)}else B=rt(n,oe,{}),B._f&&(B._f.mount=!1),(t.shouldUnregister||me.shouldUnregister)&&!(MY(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},Z=()=>t.shouldFocusError&&bg(n,I,l.mount),pe=oe=>{Xs(oe)&&(h.state.next({disabled:oe}),bg(n,(me,B)=>{const de=rt(n,B);de&&(me.disabled=de._f.disabled||oe,Array.isArray(de._f.refs)&&de._f.refs.forEach(je=>{je.disabled=de._f.disabled||oe}))},0,!1))},E=(oe,me)=>async B=>{let de;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let je=En(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Ne,values:Ve}=await S();r.errors=Ne,je=En(Ve)}else await C(n);if(l.disabled.size)for(const Ne of l.disabled)pn(je,Ne);if(pn(r.errors,"root"),vs(r.errors)){h.state.next({errors:{}});try{await oe(je,B)}catch(Ne){de=Ne}}else me&&await me({...r.errors},B),Z(),setTimeout(Z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:vs(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},xe=(oe,me={})=>{rt(n,oe)&&(sn(me.defaultValue)?M(oe,En(rt(a,oe))):(M(oe,me.defaultValue),yr(a,oe,En(me.defaultValue))),me.keepTouched||pn(r.touchedFields,oe),me.keepDirty||(pn(r.dirtyFields,oe),r.isDirty=me.defaultValue?P(oe,En(rt(a,oe))):P()),me.keepError||(pn(r.errors,oe),d.isValid&&g()),h.state.next({...r}))},Te=(oe,me={})=>{const B=oe?En(oe):a,de=En(B),je=vs(oe),Ne=je?a:de;if(me.keepDefaultValues||(a=B),!me.keepValues){if(me.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(C0(a,s))]);for(const ke of Array.from(Ve))rt(r.dirtyFields,ke)?yr(Ne,ke,rt(s,ke)):M(ke,rt(Ne,ke))}else{if(IO&&sn(oe))for(const Ve of l.mount){const ke=rt(n,Ve);if(ke&&ke._f){const Ce=Array.isArray(ke._f.refs)?ke._f.refs[0]:ke._f.ref;if(C_(Ce)){const ve=Ce.closest("form");if(ve){ve.reset();break}}}}if(me.keepFieldsRef)for(const Ve of l.mount)M(Ve,rt(Ne,Ve));else n={}}s=t.shouldUnregister?me.keepDefaultValues?En(a):{}:En(Ne),h.array.next({values:{...Ne}}),h.state.next({values:{...Ne}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:je?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!ql(oe,a)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:me.keepDirtyValues?me.keepDefaultValues&&s?C0(a,s):r.dirtyFields:me.keepDefaultValues&&oe?C0(a,oe):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(oe,me)=>Te(xo(oe)?oe(s):oe,me),ze=(oe,me={})=>{const B=rt(n,oe),de=B&&B._f;if(de){const je=de.refs?de.refs[0]:de.ref;je.focus&&(je.focus(),me.shouldSelect&&xo(je.select)&&je.select())}},Se=oe=>{r={...r,...oe}},Ze={control:{register:W,unregister:ue,getFieldState:J,handleSubmit:E,setError:G,_subscribe:K,_runSchema:S,_focusError:Z,_getWatch:T,_getDirty:P,_setValid:g,_setFieldArray:y,_setDisabledField:_e,_setErrors:_,_getFieldArray:U,_reset:Te,_resetDefaultValues:()=>xo(t.defaultValues)&&t.defaultValues().then(oe=>{Ue(oe,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:pe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return a},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},get _options(){return t},set _options(oe){t={...t,...oe}}},subscribe:re,trigger:F,register:W,handleSubmit:E,watch:V,setValue:M,getValues:X,reset:Ue,resetField:xe,clearErrors:O,unregister:ue,setError:G,setFocus:ze,getFieldState:J};return{...Ze,formControl:Ze}}function nHe(e={}){const t=ie.useRef(void 0),r=ie.useRef(void 0),[n,a]=ie.useState({isDirty:!1,isValidating:!1,isLoading:xo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!xo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=rHe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,UO(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),ie.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),ie.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),ie.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),ie.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),ie.useEffect(()=>{e.values&&!ql(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=FY(n,s),t.current}const r$=(e,t,r)=>{if(e&&"reportValidity"in e){const n=rt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},HY=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?r$(n.ref,r,e):n.refs&&n.refs.forEach(a=>r$(a,r,e))}},aHe=(e,t)=>{t.shouldUseNativeValidation&&HY(e,t);const r={};for(const n in e){const a=rt(t.fields,n),s=Object.assign(e[n]||{},{ref:a&&a.ref});if(sHe(t.names||Object.keys(e),n)){const o=Object.assign({},rt(r,n));yr(o,"root",s),yr(r,n,o)}else yr(r,n,s)}return r},sHe=(e,t)=>e.some(r=>r.startsWith(t+"."));var iHe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=LY(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},oHe=function(e,t,r){return r===void 0&&(r={}),function(n,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&HY({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:aHe(iHe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},or;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(or||(or={}));var n$;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(n$||(n$={}));const vt=or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jc=e=>{switch(typeof e){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return Number.isNaN(e)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(e)?vt.array:e===null?vt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?vt.promise:typeof Map<"u"&&e instanceof Map?vt.map:typeof Set<"u"&&e instanceof Set?vt.set:typeof Date<"u"&&e instanceof Date?vt.date:vt.object;default:return vt.unknown}},Ge=or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Nc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Nc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Nc.create=e=>new Nc(e);const AE=(e,t)=>{let r;switch(e.code){case Ge.invalid_type:e.received===vt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ge.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,or.jsonStringifyReplacer)}`;break;case Ge.unrecognized_keys:r=`Unrecognized key(s) in object: ${or.joinValues(e.keys,", ")}`;break;case Ge.invalid_union:r="Invalid input";break;case Ge.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${or.joinValues(e.options)}`;break;case Ge.invalid_enum_value:r=`Invalid enum value. Expected ${or.joinValues(e.options)}, received '${e.received}'`;break;case Ge.invalid_arguments:r="Invalid function arguments";break;case Ge.invalid_return_type:r="Invalid function return type";break;case Ge.invalid_date:r="Invalid date";break;case Ge.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:or.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ge.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ge.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ge.custom:r="Invalid input";break;case Ge.invalid_intersection_types:r="Intersection results could not be merged";break;case Ge.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ge.not_finite:r="Number must be finite";break;default:r=t.defaultError,or.assertNever(e)}return{message:r}};let lHe=AE;function cHe(){return lHe}const uHe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,s=[...r,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}};function lt(e,t){const r=cHe(),n=uHe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===AE?void 0:AE].filter(a=>!!a)});e.common.issues.push(n)}class fi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Dt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const s=await a.key,o=await a.value;n.push({key:s,value:o})}return fi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Dt;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Dt=Object.freeze({status:"aborted"}),z0=e=>({status:"dirty",value:e}),qi=e=>({status:"valid",value:e}),a$=e=>e.status==="aborted",s$=e=>e.status==="dirty",hp=e=>e.status==="valid",A_=e=>typeof Promise<"u"&&e instanceof Promise;var _t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_t||(_t={}));class Xu{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i$=(e,t)=>{if(hp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Nc(e.common.issues);return this._error=r,this._error}}};function Ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class sr{get description(){return this._def.description}_getType(t){return Jc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Jc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new fi,ctx:{common:t.parent.common,data:t.data,parsedType:Jc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(A_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jc(t)},a=this._parseSync({data:t,path:n.path,parent:n});return i$(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jc(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return hp(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(a=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>hp(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Jc(t)},a=this._parse({data:t,path:n.path,parent:n}),s=await(A_(a)?a:Promise.resolve(a));return i$(n,s)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:Ge.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new gp({schema:this,typeName:Rt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Bu.create(this,this._def)}nullable(){return vp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vl.create(this)}promise(){return R_.create(this,this._def)}or(t){return O_.create([this,t],this._def)}and(t){return D_.create(this,t,this._def)}transform(t){return new gp({...Ht(this._def),schema:this,typeName:Rt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new OE({...Ht(this._def),innerType:this,defaultValue:r,typeName:Rt.ZodDefault})}brand(){return new DHe({typeName:Rt.ZodBranded,type:this,...Ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new DE({...Ht(this._def),innerType:this,catchValue:r,typeName:Rt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return WO.create(this,t)}readonly(){return RE.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dHe=/^c[^\s-]{8,}$/i,fHe=/^[0-9a-z]+$/,hHe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mHe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pHe=/^[a-z0-9_-]{21}$/i,gHe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vHe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xHe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yHe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Z2;const bHe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_He=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jHe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,SHe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NHe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qY="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kHe=new RegExp(`^${qY}$`);function KY(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function CHe(e){return new RegExp(`^${KY(e)}$`)}function EHe(e){let t=`${qY}T${KY(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function THe(e,t){return!!((t==="v4"||!t)&&bHe.test(e)||(t==="v6"||!t)&&wHe.test(e))}function AHe(e,t){if(!gHe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function PHe(e,t){return!!((t==="v4"||!t)&&_He.test(e)||(t==="v6"||!t)&&jHe.test(e))}class Nu extends sr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==vt.string){const s=this._getOrReturnCtx(t);return lt(s,{code:Ge.invalid_type,expected:vt.string,received:s.parsedType}),Dt}const n=new fi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?lt(a,{code:Ge.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&lt(a,{code:Ge.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")xHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"email",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Z2||(Z2=new RegExp(yHe,"u")),Z2.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"emoji",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")mHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"uuid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")pHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"nanoid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")dHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"cuid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")fHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"cuid2",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")hHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"ulid",code:Ge.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),lt(a,{validation:"url",code:Ge.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"regex",code:Ge.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?EHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?kHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?CHe(s).test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?vHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"duration",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?THe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"ip",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?AHe(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"jwt",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?PHe(t.data,s.version)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"cidr",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?SHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"base64",code:Ge.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?NHe.test(t.data)||(a=this._getOrReturnCtx(t,a),lt(a,{validation:"base64url",code:Ge.invalid_string,message:s.message}),n.dirty()):or.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Ge.invalid_string,..._t.errToObj(n)})}_addCheck(t){return new Nu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._t.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._t.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",..._t.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",..._t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._t.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",..._t.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,..._t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._t.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,..._t.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,..._t.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,..._t.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,..._t.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,..._t.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,..._t.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,..._t.errToObj(r)})}nonempty(t){return this.min(1,_t.errToObj(t))}trim(){return new Nu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Nu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Nu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Nu.create=e=>new Nu({checks:[],typeName:Rt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ht(e)});function OHe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}class mp extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==vt.number){const s=this._getOrReturnCtx(t);return lt(s,{code:Ge.invalid_type,expected:vt.number,received:s.parsedType}),Dt}let n;const a=new fi;for(const s of this._def.checks)s.kind==="int"?or.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?OHe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.not_finite,message:s.message}),a.dirty()):or.assertNever(s);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,n,a){return new mp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:_t.toString(a)}]})}_addCheck(t){return new mp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:_t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&or.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mp.create=e=>new mp({checks:[],typeName:Rt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ht(e)});class Lv extends sr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==vt.bigint)return this._getInvalidInput(t);let n;const a=new fi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),lt(n,{code:Ge.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):or.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return lt(r,{code:Ge.invalid_type,expected:vt.bigint,received:r.parsedType}),Dt}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,n,a){return new Lv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:_t.toString(a)}]})}_addCheck(t){return new Lv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lv.create=e=>new Lv({checks:[],typeName:Rt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ht(e)});class o$ extends sr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==vt.boolean){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.boolean,received:n.parsedType}),Dt}return qi(t.data)}}o$.create=e=>new o$({typeName:Rt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ht(e)});class P_ extends sr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==vt.date){const s=this._getOrReturnCtx(t);return lt(s,{code:Ge.invalid_type,expected:vt.date,received:s.parsedType}),Dt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return lt(s,{code:Ge.invalid_date}),Dt}const n=new fi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),lt(a,{code:Ge.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):or.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new P_({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:_t.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:_t.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}P_.create=e=>new P_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Rt.ZodDate,...Ht(e)});class l$ extends sr{_parse(t){if(this._getType(t)!==vt.symbol){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.symbol,received:n.parsedType}),Dt}return qi(t.data)}}l$.create=e=>new l$({typeName:Rt.ZodSymbol,...Ht(e)});class c$ extends sr{_parse(t){if(this._getType(t)!==vt.undefined){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.undefined,received:n.parsedType}),Dt}return qi(t.data)}}c$.create=e=>new c$({typeName:Rt.ZodUndefined,...Ht(e)});class u$ extends sr{_parse(t){if(this._getType(t)!==vt.null){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.null,received:n.parsedType}),Dt}return qi(t.data)}}u$.create=e=>new u$({typeName:Rt.ZodNull,...Ht(e)});class d$ extends sr{constructor(){super(...arguments),this._any=!0}_parse(t){return qi(t.data)}}d$.create=e=>new d$({typeName:Rt.ZodAny,...Ht(e)});class f$ extends sr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qi(t.data)}}f$.create=e=>new f$({typeName:Rt.ZodUnknown,...Ht(e)});class Ju extends sr{_parse(t){const r=this._getOrReturnCtx(t);return lt(r,{code:Ge.invalid_type,expected:vt.never,received:r.parsedType}),Dt}}Ju.create=e=>new Ju({typeName:Rt.ZodNever,...Ht(e)});class h$ extends sr{_parse(t){if(this._getType(t)!==vt.undefined){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.void,received:n.parsedType}),Dt}return qi(t.data)}}h$.create=e=>new h$({typeName:Rt.ZodVoid,...Ht(e)});class vl extends sr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==vt.array)return lt(r,{code:Ge.invalid_type,expected:vt.array,received:r.parsedType}),Dt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(lt(r,{code:o?Ge.too_big:Ge.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(lt(r,{code:Ge.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(lt(r,{code:Ge.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Xu(r,o,r.path,l)))).then(o=>fi.mergeArray(n,o));const s=[...r.data].map((o,l)=>a.type._parseSync(new Xu(r,o,r.path,l)));return fi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new vl({...this._def,minLength:{value:t,message:_t.toString(r)}})}max(t,r){return new vl({...this._def,maxLength:{value:t,message:_t.toString(r)}})}length(t,r){return new vl({...this._def,exactLength:{value:t,message:_t.toString(r)}})}nonempty(t){return this.min(1,t)}}vl.create=(e,t)=>new vl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Rt.ZodArray,...Ht(t)});function gh(e){if(e instanceof Xr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Bu.create(gh(n))}return new Xr({...e._def,shape:()=>t})}else return e instanceof vl?new vl({...e._def,type:gh(e.element)}):e instanceof Bu?Bu.create(gh(e.unwrap())):e instanceof vp?vp.create(gh(e.unwrap())):e instanceof Tf?Tf.create(e.items.map(t=>gh(t))):e}class Xr extends sr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=or.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==vt.object){const u=this._getOrReturnCtx(t);return lt(u,{code:Ge.invalid_type,expected:vt.object,received:u.parsedType}),Dt}const{status:n,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ju&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Xu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ju){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(lt(a,{code:Ge.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Xu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>fi.mergeObjectSync(n,u)):fi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return _t.errToObj,new Xr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:_t.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Rt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Xr({...this._def,catchall:t})}pick(t){const r={};for(const n of or.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of or.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Xr({...this._def,shape:()=>r})}deepPartial(){return gh(this)}partial(t){const r={};for(const n of or.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Xr({...this._def,shape:()=>r})}required(t){const r={};for(const n of or.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Bu;)s=s._def.innerType;r[n]=s}return new Xr({...this._def,shape:()=>r})}keyof(){return GY(or.objectKeys(this.shape))}}Xr.create=(e,t)=>new Xr({shape:()=>e,unknownKeys:"strip",catchall:Ju.create(),typeName:Rt.ZodObject,...Ht(t)});Xr.strictCreate=(e,t)=>new Xr({shape:()=>e,unknownKeys:"strict",catchall:Ju.create(),typeName:Rt.ZodObject,...Ht(t)});Xr.lazycreate=(e,t)=>new Xr({shape:e,unknownKeys:"strip",catchall:Ju.create(),typeName:Rt.ZodObject,...Ht(t)});class O_ extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Nc(l.ctx.common.issues));return lt(r,{code:Ge.invalid_union,unionErrors:o}),Dt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Nc(c));return lt(r,{code:Ge.invalid_union,unionErrors:l}),Dt}}get options(){return this._def.options}}O_.create=(e,t)=>new O_({options:e,typeName:Rt.ZodUnion,...Ht(t)});function PE(e,t){const r=Jc(e),n=Jc(t);if(e===t)return{valid:!0,data:e};if(r===vt.object&&n===vt.object){const a=or.objectKeys(t),s=or.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=PE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===vt.array&&n===vt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=PE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===vt.date&&n===vt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class D_ extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(s,o)=>{if(a$(s)||a$(o))return Dt;const l=PE(s.value,o.value);return l.valid?((s$(s)||s$(o))&&r.dirty(),{status:r.value,value:l.data}):(lt(n,{code:Ge.invalid_intersection_types}),Dt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}D_.create=(e,t,r)=>new D_({left:e,right:t,typeName:Rt.ZodIntersection,...Ht(r)});class Tf extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.array)return lt(n,{code:Ge.invalid_type,expected:vt.array,received:n.parsedType}),Dt;if(n.data.length<this._def.items.length)return lt(n,{code:Ge.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dt;!this._def.rest&&n.data.length>this._def.items.length&&(lt(n,{code:Ge.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>fi.mergeArray(r,o)):fi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Tf({...this._def,rest:t})}}Tf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tf({items:e,typeName:Rt.ZodTuple,rest:null,...Ht(t)})};class m$ extends sr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.map)return lt(n,{code:Ge.invalid_type,expected:vt.map,received:n.parsedType}),Dt;const a=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Xu(n,l,n.path,[u,"key"])),value:s._parse(new Xu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Dt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}m$.create=(e,t,r)=>new m$({valueType:t,keyType:e,typeName:Rt.ZodMap,...Ht(r)});class $v extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==vt.set)return lt(n,{code:Ge.invalid_type,expected:vt.set,received:n.parsedType}),Dt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(lt(n,{code:Ge.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(lt(n,{code:Ge.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Dt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Xu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new $v({...this._def,minSize:{value:t,message:_t.toString(r)}})}max(t,r){return new $v({...this._def,maxSize:{value:t,message:_t.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}$v.create=(e,t)=>new $v({valueType:e,minSize:null,maxSize:null,typeName:Rt.ZodSet,...Ht(t)});class p$ extends sr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}p$.create=(e,t)=>new p$({getter:e,typeName:Rt.ZodLazy,...Ht(t)});class g$ extends sr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return lt(r,{received:r.data,code:Ge.invalid_literal,expected:this._def.value}),Dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}g$.create=(e,t)=>new g$({value:e,typeName:Rt.ZodLiteral,...Ht(t)});function GY(e,t){return new pp({values:e,typeName:Rt.ZodEnum,...Ht(t)})}class pp extends sr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return lt(r,{expected:or.joinValues(n),received:r.parsedType,code:Ge.invalid_type}),Dt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return lt(r,{received:r.data,code:Ge.invalid_enum_value,options:n}),Dt}return qi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return pp.create(t,{...this._def,...r})}exclude(t,r=this._def){return pp.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}pp.create=GY;class v$ extends sr{_parse(t){const r=or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==vt.string&&n.parsedType!==vt.number){const a=or.objectValues(r);return lt(n,{expected:or.joinValues(a),received:n.parsedType,code:Ge.invalid_type}),Dt}if(this._cache||(this._cache=new Set(or.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=or.objectValues(r);return lt(n,{received:n.data,code:Ge.invalid_enum_value,options:a}),Dt}return qi(t.data)}get enum(){return this._def.values}}v$.create=(e,t)=>new v$({values:e,typeName:Rt.ZodNativeEnum,...Ht(t)});class R_ extends sr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==vt.promise&&r.common.async===!1)return lt(r,{code:Ge.invalid_type,expected:vt.promise,received:r.parsedType}),Dt;const n=r.parsedType===vt.promise?r.data:Promise.resolve(r.data);return qi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}R_.create=(e,t)=>new R_({type:e,typeName:Rt.ZodPromise,...Ht(t)});class gp extends sr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{lt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Dt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Dt:c.status==="dirty"||r.value==="dirty"?z0(c.value):c});{if(r.value==="aborted")return Dt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Dt:l.status==="dirty"||r.value==="dirty"?z0(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hp(o))return Dt;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>hp(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:r.value,value:l})):Dt);or.assertNever(a)}}gp.create=(e,t,r)=>new gp({schema:e,typeName:Rt.ZodEffects,effect:t,...Ht(r)});gp.createWithPreprocess=(e,t,r)=>new gp({schema:t,effect:{type:"preprocess",transform:e},typeName:Rt.ZodEffects,...Ht(r)});class Bu extends sr{_parse(t){return this._getType(t)===vt.undefined?qi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bu.create=(e,t)=>new Bu({innerType:e,typeName:Rt.ZodOptional,...Ht(t)});class vp extends sr{_parse(t){return this._getType(t)===vt.null?qi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vp.create=(e,t)=>new vp({innerType:e,typeName:Rt.ZodNullable,...Ht(t)});class OE extends sr{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===vt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}OE.create=(e,t)=>new OE({innerType:e,typeName:Rt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ht(t)});class DE extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return A_(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nc(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Nc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}DE.create=(e,t)=>new DE({innerType:e,typeName:Rt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ht(t)});class x$ extends sr{_parse(t){if(this._getType(t)!==vt.nan){const n=this._getOrReturnCtx(t);return lt(n,{code:Ge.invalid_type,expected:vt.nan,received:n.parsedType}),Dt}return{status:"valid",value:t.data}}}x$.create=e=>new x$({typeName:Rt.ZodNaN,...Ht(e)});class DHe extends sr{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class WO extends sr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Dt:s.status==="dirty"?(r.dirty(),z0(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new WO({in:t,out:r,typeName:Rt.ZodPipeline})}}class RE extends sr{_parse(t){const r=this._def.innerType._parse(t),n=a=>(hp(a)&&(a.value=Object.freeze(a.value)),a);return A_(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}RE.create=(e,t)=>new RE({innerType:e,typeName:Rt.ZodReadonly,...Ht(t)});Xr.lazycreate;var Rt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Rt||(Rt={}));const Wy=Nu.create,RHe=mp.create;Ju.create;vl.create;const MHe=Xr.create;Xr.strictCreate;O_.create;D_.create;Tf.create;pp.create;R_.create;Bu.create;vp.create;const FHe=$We,YY=x.createContext({}),T0=({...e})=>i.jsx(YY.Provider,{value:{name:e.name},children:i.jsx(VWe,{...e})}),Mj=()=>{const e=x.useContext(YY),t=x.useContext(XY),{getFieldState:r,formState:n}=Rj(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},XY=x.createContext({}),vh=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return i.jsx(XY.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:be("space-y-2",e),...t})})});vh.displayName="FormItem";const xh=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Mj();return i.jsx(He,{ref:r,className:be(n&&"text-destructive",e),htmlFor:a,...t})});xh.displayName="FormLabel";const yh=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:s}=Mj();return i.jsx(JB,{ref:t,id:n,"aria-describedby":r?`${a} ${s}`:`${a}`,"aria-invalid":!!r,...e})});yh.displayName="FormControl";const IHe=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Mj();return i.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",e),...t})});IHe.displayName="FormDescription";const bh=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:s}=Mj(),o=a?String(a==null?void 0:a.message):t;return o?i.jsx("p",{ref:n,id:s,className:be("text-sm font-medium text-destructive",e),...r,children:o}):null});bh.displayName="FormMessage";const LHe=MHe({request_title:Wy().min(1,"Title is required"),request_description:Wy().optional(),request_type:Wy().optional(),priority:RHe().optional(),status:Wy().optional()});function $He({open:e,onOpenChange:t,onSubmit:r,initialData:n}){const{t:a}=Vt(),{user:s}=xr(),o=(s==null?void 0:s.role)==="admin"||(s==null?void 0:s.role)==="manager",l=nHe({resolver:oHe(LHe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});x.useEffect(()=>{n?l.reset({request_title:n.request_title,request_description:n.request_description||"",request_type:n.request_type||"internal_task",priority:n.priority||1,status:n.status||"pending"}):l.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[n,l,e]);const c=async u=>{await r(u),t(!1),l.reset()};return i.jsx(_l,{open:e,onOpenChange:t,children:i.jsxs(Mo,{side:Qt()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[i.jsx(xc,{children:i.jsx(wl,{children:a(n?"requests.editRequest":"requests.createRequest")})}),i.jsx("div",{className:"py-4",children:i.jsx(FHe,{...l,children:i.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[i.jsx(T0,{control:l.control,name:"request_title",render:({field:u})=>i.jsxs(vh,{children:[i.jsx(xh,{children:a("requests.title")}),i.jsx(yh,{children:i.jsx(We,{placeholder:a("requests.titlePlaceholder"),...u})}),i.jsx(bh,{})]})}),i.jsx(T0,{control:l.control,name:"request_description",render:({field:u})=>i.jsxs(vh,{children:[i.jsx(xh,{children:a("requests.description")}),i.jsx(yh,{children:i.jsx(Ln,{placeholder:a("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...u})}),i.jsx(bh,{})]})}),o&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(T0,{control:l.control,name:"request_type",render:({field:u})=>i.jsxs(vh,{children:[i.jsx(xh,{children:a("requests.type")}),i.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(yh,{children:i.jsx(pt,{children:i.jsx(yt,{placeholder:"Select type"})})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"internal_task",children:a("requests.types.internalTask")}),i.jsx(Ee,{value:"support",children:a("requests.types.support")}),i.jsx(Ee,{value:"feature",children:a("requests.types.feature")})]})]}),i.jsx(bh,{})]})}),i.jsx(T0,{control:l.control,name:"priority",render:({field:u})=>{var d,f;return i.jsxs(vh,{children:[i.jsx(xh,{children:a("requests.priority")}),i.jsxs(xt,{onValueChange:h=>u.onChange(parseInt(h)),defaultValue:(d=u.value)==null?void 0:d.toString(),value:(f=u.value)==null?void 0:f.toString(),children:[i.jsx(yh,{children:i.jsx(pt,{children:i.jsx(yt,{placeholder:"Select priority"})})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"0",children:a("requests.priorities.low")}),i.jsx(Ee,{value:"1",children:a("requests.priorities.medium")}),i.jsx(Ee,{value:"2",children:a("requests.priorities.high")})]})]}),i.jsx(bh,{})]})}})]}),i.jsx(T0,{control:l.control,name:"status",render:({field:u})=>i.jsxs(vh,{children:[i.jsx(xh,{children:a("requests.status")}),i.jsxs(xt,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[i.jsx(yh,{children:i.jsx(pt,{children:i.jsx(yt,{placeholder:"Select status"})})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"pending",children:a("status.pending")}),i.jsx(Ee,{value:"in_progress",children:a("status.in_progress")}),i.jsx(Ee,{value:"completed",children:a("status.completed")}),i.jsx(Ee,{value:"approved",children:a("status.approved")}),i.jsx(Ee,{value:"rejected",children:a("status.rejected")})]})]}),i.jsx(bh,{})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 gap-2",children:i.jsx(ce,{type:"submit",children:a(n?"common.save":"common.create")})})]})})})]})})}function BHe(){const{t:e}=Vt(),{toast:t}=Lo(),{user:r}=xr();tn();const[n,a]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState([]),[y,b]=x.useState("all"),[_,w]=x.useState("all"),[j,N]=x.useState(1),S=10,k=async()=>{try{o(!0);const J=await k0.getRequests();a(J)}catch(J){console.error("Failed to fetch requests:",J),t({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};x.useEffect(()=>{k()},[]);const C=()=>{h(null),d(!0)},A=J=>{h(J),d(!0)},P=async()=>{if(m)try{await k0.deleteRequest(m),t({title:e("common.success"),description:e("requests.deleteSuccess")}),k()}catch(J){console.error("Failed to delete request:",J),t({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{p(null)}},T=async J=>{try{if(!(r!=null&&r.id)){t({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}f?(await k0.updateRequest(f.request_id,J),t({title:e("common.success"),description:e("requests.updateSuccess")})):(await k0.createRequest({...J,requested_by_auth:r.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),t({title:e("common.success"),description:e("requests.createSuccess")})),k()}catch(O){console.error("Failed to save request:",O),t({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},U=n.filter(J=>{var K;const O=J.request_title.toLowerCase().includes(l.toLowerCase()),G=y==="all"||J.status===y,V=_==="all"||((K=J.priority)==null?void 0:K.toString())===_;return O&&G&&V}),z=Math.ceil(U.length/S),D=(j-1)*S,M=D+S,L=U.slice(D,M),I=J=>{switch(J){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},F=J=>{switch(J){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},X=J=>{switch(J){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return i.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Qt()?"rtl":"ltr",children:[i.jsx(kx,{title:e("requests.title"),description:e("requests.subtitle"),icon:i.jsx(bs,{className:"h-5 w-5 text-primary"}),actions:i.jsxs(ce,{onClick:C,children:[i.jsx(Kt,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(We,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:l,onChange:J=>c(J.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[i.jsxs(xt,{value:_,onValueChange:w,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(yt,{placeholder:e("requests.priority")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("common.all")}),i.jsx(Ee,{value:"0",children:e("requests.priorities.low")}),i.jsx(Ee,{value:"1",children:e("requests.priorities.medium")}),i.jsx(Ee,{value:"2",children:e("requests.priorities.high")})]})]}),i.jsxs(xt,{value:y,onValueChange:b,children:[i.jsx(pt,{className:"w-[130px] h-9",children:i.jsx(yt,{placeholder:e("requests.status")})}),i.jsxs(gt,{children:[i.jsx(Ee,{value:"all",children:e("common.all")}),i.jsx(Ee,{value:"pending",children:e("status.pending")}),i.jsx(Ee,{value:"approved",children:e("status.approved")}),i.jsx(Ee,{value:"rejected",children:e("status.rejected")}),i.jsx(Ee,{value:"in_progress",children:e("status.in_progress")}),i.jsx(Ee,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const J=[{key:"title",header:e("requests.requestTitle"),render:V=>{var K;return i.jsx(jc,{title:V.request_title,subtitle:(K=V.request_type)==null?void 0:K.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:V=>i.jsx(ht,{variant:"outline",className:F(V.priority),children:X(V.priority)})},{key:"status",header:e("requests.status"),render:V=>i.jsx(ht,{variant:"secondary",className:`capitalize ${I(V.status)}`,children:V.status?e(`status.${V.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:V=>i.jsx($f,{date:V.created_at})}],O=[{icon:i.jsx(gk,{}),label:e("common.edit"),onClick:A},{icon:i.jsx(ir,{}),label:e("common.delete"),onClick:V=>p(V.request_id),variant:"destructive"}],G=[{label:e("buttons.delete"),icon:i.jsx(ir,{className:"h-4 w-4"}),onClick:async V=>{try{await Promise.all(V.map(K=>k0.deleteRequest(K))),t({title:e("common.success"),description:e("requests.deleteSuccess")}),a(K=>K.filter(re=>!V.includes(re.request_id))),v([])}catch(K){console.error("Failed to bulk delete requests:",K),t({title:e("common.error"),description:e("requests.deleteError"),variant:"destructive"})}}}];return i.jsx(wc,{data:L,columns:J,actions:O,bulkActions:G,keyExtractor:V=>V.request_id,onRowClick:A,enableBulkSelect:!0,selectedItems:g,onSelectionChange:v,loading:s,rtl:Qt()})})(),i.jsx($He,{open:u,onOpenChange:d,onSubmit:T,initialData:f}),i.jsx(ui,{open:!!m,onOpenChange:J=>!J&&p(null),children:i.jsxs(Ds,{children:[i.jsxs(Rs,{children:[i.jsx(Fs,{children:e("common.confirmDelete")}),i.jsx(Is,{children:e("requests.deleteConfirmation")})]}),i.jsxs(Ms,{children:[i.jsx($s,{children:e("common.cancel")}),i.jsx(Ls,{className:"bg-red-500 hover:bg-red-600",onClick:P,children:e("common.delete")})]})]})}),i.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:z>0&&i.jsx("div",{className:"flex justify-center",children:i.jsx(cp,{children:i.jsxs(up,{children:[i.jsx(Ea,{children:i.jsx(_u,{onClick:()=>N(Math.max(1,j-1)),className:j===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),i.jsx(Ea,{children:i.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",j," ",e("common.of")," ",z]})}),i.jsx(Ea,{children:i.jsx(wu,{onClick:()=>N(Math.min(z,j+1)),className:j===z?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})}class UHe{constructor(){e0(this,"connections",new Map);e0(this,"reconnectAttempts",new Map);e0(this,"maxReconnectAttempts",5);e0(this,"reconnectDelay",3e3)}getToken(){return localStorage.getItem("authToken")}getCurrentUser(){try{const t=localStorage.getItem("authUser");return t?JSON.parse(t):null}catch{return null}}connect(t,r){const n=this.getToken(),a=this.getCurrentUser();if(!n)throw new Error("No authentication token found");if(!a)throw new Error("No user data found");const s=new URLSearchParams;s.append("token",n),r.filters&&s.append("filters",JSON.stringify(r.filters)),r.father&&s.append("father",r.father);const o=`wss://api.middar.com/api/v1/${t}/ws?${s.toString()}`,l=`${t}_${JSON.stringify(r.filters||{})}`;this.disconnect(l);const c=new WebSocket(o);return this.connections.set(l,c),c.onopen=()=>{var u;console.log(`WebSocket connected to ${t}`),this.reconnectAttempts.set(l,0),(u=r.onConnect)==null||u.call(r)},c.onmessage=u=>{var d,f,h;try{const m=JSON.parse(u.data);if(m.type==="connected"){console.log("WebSocket subscription confirmed:",m);return}if(m.type==="error"){console.error("WebSocket error:",m.message),(d=r.onError)==null||d.call(r,m);return}(f=r.onMessage)==null||f.call(r,m)}catch(m){console.error("Error parsing WebSocket message:",m),(h=r.onError)==null||h.call(r,m)}},c.onerror=u=>{var d;console.error("WebSocket error:",u),(d=r.onError)==null||d.call(r,u)},c.onclose=()=>{var u;console.log(`WebSocket disconnected from ${t}`),this.connections.delete(l),(u=r.onDisconnect)==null||u.call(r),this.attemptReconnect(l,t,r)},c}attemptReconnect(t,r,n){const a=this.reconnectAttempts.get(t)||0;a<this.maxReconnectAttempts?(this.reconnectAttempts.set(t,a+1),setTimeout(()=>{console.log(`Attempting to reconnect to ${r} (attempt ${a+1})`),this.connect(r,n)},this.reconnectDelay*Math.pow(2,a))):console.error(`Max reconnection attempts reached for ${r}`)}disconnect(t){if(t){const r=this.connections.get(t);r&&(r.close(),this.connections.delete(t),this.reconnectAttempts.delete(t))}else this.connections.forEach((r,n)=>{r.close()}),this.connections.clear(),this.reconnectAttempts.clear()}isConnected(t){const r=this.connections.get(t);return(r==null?void 0:r.readyState)===WebSocket.OPEN}sendMessage(t,r){const n=this.connections.get(t);n&&n.readyState===WebSocket.OPEN?n.send(JSON.stringify(r)):console.warn("WebSocket not connected, cannot send message")}getConnections(){return Array.from(this.connections.keys())}getConnectionStatuses(){const t={};return this.connections.forEach((r,n)=>{t[n]=r.readyState===WebSocket.OPEN}),t}}const Hy=new UHe;function y$(e,t){const[r,n]=x.useState(!1),[a,s]=x.useState([]),o=x.useRef(null),l=x.useRef(""),c=x.useRef(t);x.useEffect(()=>{c.current=t},[t]);const u=`${e}_${JSON.stringify(t.filters||{})}`;l.current=u;const d=x.useCallback(b=>{var _,w;s(j=>[...j,b]),(w=(_=c.current).onMessage)==null||w.call(_,b)},[]),f=x.useCallback(b=>{var _,w;console.error("WebSocket hook error:",b),(w=(_=c.current).onError)==null||w.call(_,b)},[]),h=x.useCallback(()=>{n(!0)},[]),m=x.useCallback(()=>{n(!1)},[]),p=x.useCallback(()=>{var b,_;try{o.current=Hy.connect(e,{...c.current,onConnect:h,onDisconnect:m,onMessage:d,onError:f})}catch(w){console.error("Failed to connect WebSocket:",w),(_=(b=c.current).onError)==null||_.call(b,w)}},[e,d,f,h,m]),g=x.useCallback(()=>{console.log("Manual reconnect triggered"),p()},[p]);x.useEffect(()=>(p(),()=>{Hy.disconnect(u)}),[p]);const v=x.useCallback(b=>{Hy.sendMessage(u,b)},[u]),y=x.useCallback(()=>{Hy.disconnect(u)},[u]);return{isConnected:r,messages:a,sendMessage:v,disconnect:y,connectionKey:u,reconnect:g}}const b$="9",_$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyaWQiOjEsInBlcm1pc3Npb25zIjoidXNlciIsImNvbXBhbnlfY29kZSI6ImNybWRiIiwiY29tcGFueV9pZCI6MjQsImV4cCI6MTc3MDUzNjU0OX0.uYGncrK-4KEZgy_eoJcfNWuRSHs12ju6O41BmrA59GM";function zHe(){Vt();const{toast:e}=Lo();tn();const[t,r]=x.useState([]),[n,a]=x.useState(null),[s,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState(""),[m,p]=x.useState(null),[g,v]=x.useState(!0),[y,b]=x.useState(!1),[_,w]=x.useState(null),[j,N]=x.useState(!1),S=x.useRef(null),{isConnected:k,reconnect:C,connectionKey:A}=y$("whatsapp_conversations",{filters:n?{session_id:n.session_id}:void 0,onMessage:W=>{console.log("New conversation update:",W),W.type==="created"?o(Z=>Z.find(E=>E.id===W.data.id)?Z:[W.data,...Z]):W.type==="updated"?o(Z=>Z.map(pe=>pe.id===W.data.id?{...pe,...W.data}:pe)):W.type==="deleted"&&(o(Z=>Z.filter(pe=>pe.id!==W.data.id)),(l==null?void 0:l.id)===W.data.id&&(c(null),d([])))},onError:W=>{console.error("Conversations WebSocket error:",W),e({title:"Connection Error",description:"Failed to connect to real-time conversation updates",variant:"destructive"})}}),{isConnected:P,reconnect:T,connectionKey:U}=y$("whatsapp_messages",{filters:n?{session_id:n.session_id}:void 0,onMessage:W=>{console.log("New message update:",W),W.type==="created"?(W.data.conversation_id===(l==null?void 0:l.id)&&(d(Z=>[...Z,W.data]),setTimeout(()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},100)),o(Z=>Z.map(pe=>pe.id===W.data.conversation_id?{...pe,last_message_at:W.data.created_at}:pe).sort((pe,E)=>new Date(E.last_message_at||0).getTime()-new Date(pe.last_message_at||0).getTime()))):W.type==="updated"?d(Z=>Z.map(pe=>pe.id===W.data.id?{...pe,...W.data}:pe)):W.type==="deleted"&&d(Z=>Z.filter(pe=>pe.id!==W.data.id))},onError:W=>{console.error("Messages WebSocket error:",W),e({title:"Connection Error",description:"Failed to connect to real-time message updates",variant:"destructive"})}}),z=x.useCallback(async(W,Z={})=>{const pe=`https://api.middar.com/api/v1/plugins/${b$}`;console.log(`Calling plugin API: ${pe}`,{action:W,data:Z});try{const xe=await(await fetch(pe,{method:"POST",headers:{Authorization:`Bearer ${_$}`,"Content-Type":"application/json"},body:JSON.stringify({action:W,...Z})})).json();return console.log("Plugin API response:",xe),xe}catch(E){return console.error("Plugin API error:",E),{success:!1,message:E.message}}},[b$,_$]);x.useEffect(()=>{const W=localStorage.getItem("whatsapp_sessions");if(W)try{const Z=JSON.parse(W);console.log("Loading sessions from localStorage:",Z),r(Z);const pe=Z.find(E=>E.is_primary);a(pe||null),(pe==null?void 0:pe.state)==="connected"&&I()}catch(Z){console.error("Failed to load sessions from localStorage:",Z)}},[]),x.useEffect(()=>{setTimeout(async()=>{await L(),await D()},100)},[]),x.useEffect(()=>{(n==null?void 0:n.state)==="connected"&&I()},[n]);const D=async()=>{try{const W=await z("enable_crm");console.log("Global CRM enable result:",W);for(const Z of t){const pe=await z("enable_crm",{session_id:Z.session_id});console.log(`CRM enable result for session ${Z.session_id}:`,pe)}W.success&&(console.log("CRM enabled successfully"),e({title:"CRM Enabled",description:"WhatsApp CRM integration is now active"}))}catch(W){console.error("Failed to enable CRM:",W),e({variant:"destructive",title:"CRM Enable Failed",description:"Could not enable CRM functionality"})}};x.useEffect(()=>{console.log("WebSocket Status:",{conversationsConnected:k,messagesConnected:P,activeSession:n==null?void 0:n.session_id,conversationsKey:A,messagesKey:U}),k&&P&&(sessionStorage.getItem("ws_notification_shown")||(e({title:"Real-time Updates Active",description:"WhatsApp conversations and messages will update in real-time"}),sessionStorage.setItem("ws_notification_shown","true")))},[k,P,n,A,U]);const M=(W,Z)=>{r(E=>E.map(xe=>xe.session_id===W?{...xe,state:Z}:xe));const pe=localStorage.getItem("whatsapp_sessions");if(pe)try{const xe=JSON.parse(pe).map(Te=>Te.session_id===W?{...Te,state:Z}:Te);localStorage.setItem("whatsapp_sessions",JSON.stringify(xe))}catch(E){console.error("Failed to update localStorage session state:",E)}};x.useEffect(()=>{t.length>0&&localStorage.setItem("whatsapp_sessions",JSON.stringify(t))},[t]);const L=async()=>{console.log("Loading sessions...");const W=await z("list_sessions");if(console.log("Sessions result:",W),W.success){const Z=W.data||[];console.log("Sessions array from API:",Z),console.log("Sessions length from API:",Z.length);const pe=localStorage.getItem("whatsapp_sessions");let E=[];if(pe)try{E=JSON.parse(pe)}catch(Se){console.error("Failed to parse saved sessions:",Se)}const xe=[...Z];E.forEach(Se=>{xe.find(et=>et.session_id===Se.session_id)||xe.push(Se)}),console.log("Merged sessions:",xe),r(xe);const Te=xe.find(Se=>Se.is_primary),Ue=xe[0]||null;a(Te||Ue);const ze=Te||Ue;(ze==null?void 0:ze.state)==="connected"&&I()}else e({variant:"destructive",title:"Error",description:W.message||"Failed to load sessions"})};x.useEffect(()=>{l&&F(l.id)},[l]);const I=async()=>{if(n)try{const W=await z("get_conversations",{limit:50,offset:0});W.success?(o(W.data||[]),g&&v(!1)):e({variant:"destructive",title:"Error",description:W.message||"Failed to load conversations"})}catch(W){console.error(W),g&&v(!1)}},F=async W=>{if(n)try{const Z=await z("get_conversation_messages",{conversation_id:W,limit:50,offset:0});Z.success&&(d(Z.data||[]),setTimeout(()=>ue(),100))}catch(Z){console.error(Z)}},X=async W=>{w(W);const Z=await z("connect_session",{session_id:W});return console.log("Connect session result:",Z),Z.success?Z.needs_qr&&Z.qr_code?(p(Z.qr_code),J(W)):Z.message==="already connected"?await L():J(W):e({variant:"destructive",title:"Connection failed",description:Z.message||"Failed to connect session"}),w(null),Z},J=async(W,Z=40)=>{for(let pe=0;pe<Z;pe++){const E=await z("get_status",{session_id:W});if(console.log(`Status check ${pe+1}:`,E),E.success&&E.data){const xe=E.data.state||E.data.status;if(console.log("Session state:",xe),xe==="connected"){p(null),M(W,"connected"),await L();return}else if(xe==="pending_qr"&&E.data.qr_code){p(E.data.qr_code),M(W,"pending_qr");return}else if(xe==="pending_qr")console.log("Still waiting for QR code..."),M(W,"pending_qr");else if(xe==="active"||xe==="working"){p(null),M(W,"connected"),await L();return}else if(xe==="inactive"){console.log("Session inactive, attempting to connect..."),M(W,"inactive");return}else if(xe==="error"){console.log("Session error, stopping polling"),p(null),M(W,"error"),e({variant:"destructive",title:"Connection Error",description:E.data.error_message||"Session encountered an error"});return}}await new Promise(xe=>setTimeout(xe,3e3))}e({variant:"destructive",title:"Connection timeout",description:"Timeout waiting for QR scan"}),p(null)},O=async W=>{var Z,pe,E,xe,Te,Ue,ze;console.log("Creating session:",W);try{const Se=await z("create_session",{display_name:W,is_primary:!1});if(console.log("Create session result:",Se),Se.success){const et={session_id:((Z=Se.data)==null?void 0:Z.session_id)||Date.now(),display_name:((pe=Se.data)==null?void 0:pe.display_name)||W,state:((E=Se.data)==null?void 0:E.state)||"inactive",is_primary:((xe=Se.data)==null?void 0:xe.is_primary)||!1,created_at:((Te=Se.data)==null?void 0:Te.created_at)||new Date().toISOString(),last_activity:((Ue=Se.data)==null?void 0:Ue.last_activity)||Date.now(),jid:((ze=Se.data)==null?void 0:ze.jid)||""};console.log("Adding session to state:",et),r(oe=>[...oe,et]);const Ze=localStorage.getItem("whatsapp_sessions");if(Ze)try{const me=[...JSON.parse(Ze),et];localStorage.setItem("whatsapp_sessions",JSON.stringify(me)),console.log("Saved to localStorage")}catch(oe){console.error("Failed to save to localStorage:",oe)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([et]));e({title:"Session created",description:"New session created successfully (local mode)"})}else if(confirm(`API create failed: ${Se.message}. Create local session anyway?`)){const et={session_id:Date.now(),display_name:W,state:"inactive",is_primary:!1,created_at:new Date().toISOString(),last_activity:Date.now(),jid:""};r(oe=>[...oe,et]);const Ze=localStorage.getItem("whatsapp_sessions");if(Ze)try{const me=[...JSON.parse(Ze),et];localStorage.setItem("whatsapp_sessions",JSON.stringify(me))}catch(oe){console.error("Failed to save to localStorage:",oe)}else localStorage.setItem("whatsapp_sessions",JSON.stringify([et]));e({title:"Local Session Created",description:"Session created locally (API failed)"})}else e({variant:"destructive",title:"Creation failed",description:Se.message||"Failed to create session"})}catch(Se){console.error("Create session error:",Se),e({variant:"destructive",title:"Creation failed",description:"An error occurred while creating session"})}},G=async W=>{const Z=await z("pause_session",{session_id:W});Z.success?await L():e({variant:"destructive",title:"Pause failed",description:Z.message||"Failed to pause session"})},V=async W=>{const Z=await z("resume_session",{session_id:W});Z.success?await L():e({variant:"destructive",title:"Resume failed",description:Z.message||"Failed to resume session"})},K=async W=>{const Z=await z("disconnect_session",{session_id:W});Z.success?(await L(),e({title:"Session Disconnected",description:"Session disconnected successfully"})):e({variant:"destructive",title:"Disconnect failed",description:Z.message||"Failed to disconnect session"})},re=async W=>{if(confirm("Are you sure you want to delete this session?")){console.log("Deleting session:",W);try{const Z=await z("delete_session",{session_id:W});if(console.log("Delete result:",Z),Z.success){const pe=localStorage.getItem("whatsapp_sessions");if(pe)try{const xe=JSON.parse(pe).filter(Te=>Te.session_id!==W);localStorage.setItem("whatsapp_sessions",JSON.stringify(xe)),console.log("Removed session from localStorage")}catch(E){console.error("Failed to update localStorage:",E)}r(E=>E.filter(xe=>xe.session_id!==W)),e({title:"Session deleted",description:"Session deleted successfully"})}else if(confirm(`API delete failed: ${Z.message}. Remove from local list anyway?`)){const pe=localStorage.getItem("whatsapp_sessions");if(pe)try{const xe=JSON.parse(pe).filter(Te=>Te.session_id!==W);localStorage.setItem("whatsapp_sessions",JSON.stringify(xe))}catch(E){console.error("Failed to update localStorage:",E)}r(E=>E.filter(xe=>xe.session_id!==W)),e({title:"Session removed locally",description:"Session removed from local list (API delete failed)"})}else e({variant:"destructive",title:"Delete failed",description:Z.message||"Failed to delete session"})}catch(Z){console.error("Delete session error:",Z),e({variant:"destructive",title:"Delete failed",description:"An error occurred while deleting session"})}}},ue=()=>{S.current&&(S.current.scrollTop=S.current.scrollHeight)},_e=async W=>{if(W==null||W.preventDefault(),!(!f.trim()||!l||!n)){b(!0);try{const Z=await z("send_text",{phone:l.phone,message:f,session_id:n.session_id});if(Z.success)h(""),setTimeout(()=>F(l.id),500);else throw new Error(Z.message||"Failed to send message")}catch(Z){e({variant:"destructive",title:"Error sending message",description:(Z==null?void 0:Z.message)||"Unknown error"})}finally{b(!1)}}};return i.jsxs("div",{className:"h-full flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Qt()?"rtl":"ltr",children:[i.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"font-semibold flex items-center gap-2",children:[i.jsx(Yl,{className:"h-4 w-4"}),"WhatsApp"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>N(!j),className:"flex items-center gap-2",children:[i.jsx(aw,{className:"h-4 w-4"}),"Sessions"]}),i.jsx(ce,{variant:"ghost",size:"icon",onClick:I,children:i.jsx(AR,{className:"h-4 w-4"})}),n&&i.jsx(i.Fragment,{children:n.state==="connected"?i.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>K(n.session_id),className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-4 w-4 rotate-135"}),"Disconnect"]}):i.jsxs(ce,{variant:"default",size:"sm",onClick:()=>X(n.session_id),disabled:_===n.session_id,className:"flex items-center gap-2",children:[i.jsx(Yl,{className:"h-4 w-4"}),_===n.session_id?"Connecting...":"Connect"]})})]})]}),n&&i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n.state==="connected"?"bg-green-500":n.state==="pending_qr"?"bg-yellow-500":n.state==="connecting"?"bg-blue-500":n.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm font-medium",children:n.display_name}),n.is_primary&&i.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:n.state==="connected"?" Connected":n.state==="pending_qr"?" Waiting QR":n.state==="connecting"?" Connecting":n.state==="paused"?" Paused":" Disconnected"})]}),i.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded-lg mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k?i.jsx(RR,{className:"h-4 w-4 text-green-500"}):i.jsx(DR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Conversations"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[P?i.jsx(RR,{className:"h-4 w-4 text-green-500"}):i.jsx(DR,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Messages"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(!k||!P)&&i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>{k||C(),P||T()},className:"h-6 px-2 text-xs",children:"Reconnect"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:k&&P?" Real-time active":" Real-time disconnected"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ds,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(We,{placeholder:"Search...",className:"pl-9"})]})]}),i.jsx(Qa,{className:"flex-1",children:j?i.jsxs("div",{className:"p-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-medium",children:"Session Manager"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(ce,{variant:"outline",size:"sm",onClick:L,className:"flex items-center gap-2",children:[i.jsx(AR,{className:"h-4 w-4"}),"Refresh"]}),i.jsx(ce,{variant:"outline",size:"sm",onClick:async()=>{console.log("Check Status clicked"),console.log("Current sessions:",t),console.log("Active session:",n);const W=n||t[0];if(W){console.log("Checking status for session:",W.session_id);const Z=await z("get_status",{session_id:W.session_id});if(console.log("Manual status check:",Z),Z.success&&Z.data){const pe=Z.data.state||Z.data.status;console.log("Current session status:",pe),M(W.session_id,pe),e({title:"Status Updated",description:`Session status: ${pe}`})}else e({variant:"destructive",title:"Status Check Failed",description:Z.message||"Failed to check status"})}else e({variant:"destructive",title:"No Session",description:"No session available to check"})},children:"Check Status"}),i.jsx(ce,{variant:"outline",size:"sm",onClick:D,children:"Enable CRM"}),i.jsx(ce,{variant:"outline",size:"sm",onClick:()=>{confirm("Clear all local sessions? This will remove all sessions from the UI.")&&(localStorage.removeItem("whatsapp_sessions"),r([]),a(null),e({title:"Sessions Cleared",description:"All local sessions have been removed"}))},children:"Clear Local"}),i.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>O("New Session"),className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"h-4 w-4"}),"Create Session"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[t.map(W=>i.jsxs("div",{className:`p-3 border rounded-lg ${W.is_primary?"border-primary/20 bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${W.state==="connected"?"bg-green-500":W.state==="pending_qr"?"bg-yellow-500":W.state==="connecting"?"bg-blue-500":W.state==="paused"?"bg-orange-500":"bg-red-500"}`}),i.jsx("span",{className:"font-medium text-sm",children:W.display_name}),W.is_primary&&i.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"PRIMARY"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:W.state==="connected"?"":W.state==="pending_qr"?"":W.state==="connecting"?"":W.state==="paused"?"":W.state==="disconnected"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ce,{size:"sm",variant:"outline",onClick:()=>X(W.session_id),disabled:W.state!=="inactive"&&W.state!=="disconnected"||_===W.session_id,children:_===W.session_id?"Connecting...":"Connect"}),W.state==="connected"&&i.jsx(ce,{size:"sm",variant:"outline",onClick:()=>G(W.session_id),children:i.jsx(Wae,{className:"h-3 w-3"})}),W.state==="paused"&&i.jsx(ce,{size:"sm",variant:"outline",onClick:()=>V(W.session_id),children:i.jsx(vk,{className:"h-3 w-3"})}),i.jsx(ce,{size:"sm",variant:"outline",onClick:()=>re(W.session_id),className:"text-destructive hover:text-destructive",children:i.jsx(ir,{className:"h-3 w-3"})})]})]},`session-${W.session_id}-${W.state}`)),t.length===0&&i.jsx("div",{className:"text-center p-4 text-muted-foreground text-sm",children:"No sessions configured. Create your first session to get started."})]})]}):i.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(W=>i.jsxs("button",{onClick:()=>c(W),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(l==null?void 0:l.id)===W.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[i.jsx(Ps,{children:i.jsx(Os,{className:"bg-green-100 text-green-700",children:i.jsx(Dn,{className:"h-4 w-4"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium truncate",children:W.phone}),i.jsx("span",{className:"text-xs text-muted-foreground",children:W.last_message_at&&is(new Date(W.last_message_at),"MMM d")})]}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},W.id)),s.length===0&&!g&&i.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:n?"No conversations yet.":"Connect a session to start messaging."})]})})]}),i.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ps,{className:"h-10 w-10",children:i.jsx(Os,{className:"bg-green-600 text-white",children:"WA"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:l.phone}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50 ltr",ref:S,dir:"ltr",children:u.map(W=>{const Z=W.direction==="outbound"||W.direction==="outgoing";return i.jsx("div",{className:`flex ${Z?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${Z?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[W.message&&i.jsx("p",{className:"text-sm",children:W.message}),i.jsx("p",{className:`text-[10px] mt-1 text-right ${Z?"text-green-100":"text-muted-foreground"}`,children:W.created_at?is(new Date(W.created_at),"HH:mm"):""})]})},W.id)})}),i.jsx("div",{className:"p-4 border-t bg-background",children:i.jsxs("form",{onSubmit:_e,className:"flex gap-2",children:[i.jsx(We,{value:f,onChange:W=>h(W.target.value),placeholder:"Type a message...",className:"flex-1",disabled:y}),i.jsx(ce,{type:"submit",size:"icon",disabled:y||!f.trim(),children:i.jsx(Jv,{className:"h-4 w-4"})})]})})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:i.jsx(Yl,{className:"h-8 w-8 text-green-600"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:n?"Select a conversation":"No active session"}),i.jsx("p",{className:"max-w-xs text-center text-sm",children:n?"Choose a conversation from the sidebar to start messaging.":"Connect a WhatsApp session to start messaging."})]})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-background rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Hae,{className:"h-5 w-5"}),"Scan QR Code"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ce,{variant:"ghost",size:"icon",onClick:()=>p(null),children:""}),i.jsx(ce,{variant:"outline",size:"sm",onClick:async()=>{var Z;const W=await z("get_status",{session_id:sessionId});W.success&&((Z=W.data)!=null&&Z.qr_code)&&p(W.data.qr_code)},children:"Refresh QR"})]})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("img",{src:m.startsWith("data:image/png;base64,")?m:`data:image/png;base64,${m}`,alt:"WhatsApp QR Code",className:"w-64 h-64 border-2 border-border rounded-lg mb-4"}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"font-medium",children:"Scan with WhatsApp"}),i.jsxs("ol",{className:"text-sm text-left space-y-1 text-muted-foreground",children:[i.jsx("li",{children:"1. Open WhatsApp on your phone"}),i.jsx("li",{children:"2. Tap Settings  Linked Devices"}),i.jsx("li",{children:"3. Tap Link a Device"}),i.jsx("li",{children:"4. Point camera at this QR code"})]})]})]})]})})]})}function VHe(){const{t:e}=Vt(),{isRTL:t}=Ia(),r=tn(),{setBreadcrumbs:n}=Xv(),{toast:a}=Lo(),[s,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,p]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState({});x.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),_()},[]);const _=async()=>{try{c(!0);const A=await Y.permissions.list({sort:"ASC"});o(A.data||[]),d(null)}catch(A){d(A.message||"Failed to load permissions")}finally{c(!1)}},w=A=>{h(A),b({...A}),v(!0),p(!0)},j=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),v(!1),p(!0)},N=async()=>{try{if(!y.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await Y.permissions.update(f.permissions_ID,y),a({title:"Success",description:"Permission updated"})):(await Y.permissions.create(y),a({title:"Success",description:"Permission created"})),p(!1),_()}catch(A){a({title:"Error",description:A.message,variant:"destructive"})}},S=[{key:"permissions_Name",header:"Role Name",render:A=>i.jsx(jc,{title:A.permissions_Name||"Unnamed Role",icon:i.jsx(Q1,{className:"h-4 w-4 text-primary"})}),align:"left"},{key:"permissions_ID",header:"ID",render:A=>i.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",A.permissions_ID]}),align:"left"}],k=[{icon:i.jsx(Li,{}),label:"Edit",onClick:A=>w(A)}],C=()=>{const A=Object.keys(y).filter(P=>P!=="permissions_ID"&&P!=="permissions_Name"&&P!=="created_at"&&P!=="updated_at");return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:A.map(P=>i.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[i.jsx(u_,{id:P,checked:!!y[P],onCheckedChange:T=>{b(U=>({...U,[P]:T?1:0}))}}),i.jsx(He,{htmlFor:P,className:"cursor-pointer flex-1 capitalize",children:P.replace(/_/g," ")})]},P))})};return l?i.jsx("div",{className:"flex items-center justify-center h-full py-12",children:i.jsx(ua,{message:e("common.loading"),size:"2xl"})}):u?i.jsx(Kp,{message:u,onRetry:_}):i.jsxs("div",{className:"space-y-4 p-4",dir:t?"rtl":"ltr",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),i.jsxs(ce,{onClick:j,children:[i.jsx(Kt,{className:be("h-4 w-4",t?"ml-2":"mr-2")})," Add Role"]})]}),i.jsx(wc,{data:s,columns:S,actions:k,keyExtractor:A=>A.permissions_ID.toString(),rtl:t,isMobile:r}),i.jsx(_l,{open:m,onOpenChange:p,children:i.jsxs(Mo,{side:t?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:t?"rtl":"ltr",children:[i.jsxs(xc,{children:[i.jsx(wl,{children:f?"Edit Role":"New Role"}),i.jsx(gf,{children:"Configure access permissions for this role."})]}),i.jsxs("div",{className:"py-4 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(He,{htmlFor:"roleName",children:"Role Name"}),i.jsx(We,{id:"roleName",value:y.permissions_Name||"",onChange:A=>b(P=>({...P,permissions_Name:A.target.value}))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(y).filter(A=>A!=="permissions_ID"&&A!=="permissions_Name").length===0&&i.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(ce,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),i.jsx(ce,{onClick:N,children:"Save Changes"})]})]})})]})}const _i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Go={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},qy={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Qc({size:e="md",variant:t="default",className:r,color:n="primary"}){const a=be(_i[e],Go[n],r);switch(t){case"dots":return i.jsxs("div",{className:be("flex space-x-1",r),children:[i.jsx("div",{className:be("animate-bounce",_i[e],Go[n]),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:be("animate-bounce",_i[e],Go[n],"animation-delay-100"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),i.jsx("div",{className:be("animate-bounce",_i[e],Go[n],"animation-delay-200"),children:i.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return i.jsxs("div",{className:be("relative",_i[e],r),children:[i.jsx("div",{className:be("h-full w-full rounded-full border-2 border-current opacity-20")}),i.jsx("div",{className:be("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return i.jsxs("div",{className:be("flex space-x-1",r),children:[i.jsx("div",{className:be("animate-bounce",_i[e],Go[n]),children:i.jsx(Kae,{className:"h-full w-full"})}),i.jsx("div",{className:be("animate-bounce",_i[e],Go[n],"animation-delay-100"),children:i.jsx(WB,{className:"h-full w-full"})}),i.jsx("div",{className:be("animate-bounce",_i[e],Go[n],"animation-delay-200"),children:i.jsx(hc,{className:"h-full w-full animate-spin"})})]});case"rotate":return i.jsx("div",{className:be("relative",_i[e],r),children:i.jsx(hc,{className:be("h-full w-full animate-spin",Go[n])})});case"rings":return i.jsxs("div",{className:be("relative",_i[e],r),children:[i.jsx("div",{className:be("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),i.jsx("div",{className:be("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),i.jsx("div",{className:be("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return i.jsx("div",{className:be("flex items-end space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:be("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Go[n],s===0&&"animation-delay-0",s===1&&"animation-delay-100",s===2&&"animation-delay-200",s===3&&"animation-delay-300",s===4&&"animation-delay-400"),style:{animationDelay:`${s*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},s))});case"wave":return i.jsx("div",{className:be("flex space-x-1",r),children:[0,1,2,3,4].map(s=>i.jsx("div",{className:be("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Go[n]),style:{animationDelay:`${s*100}ms`}},s))});case"orbit":return i.jsxs("div",{className:be("relative",_i[e],r),children:[i.jsxs("div",{className:be("absolute inset-0 h-full w-full animate-spin"),children:[i.jsx("div",{className:be("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",qy[n])}),i.jsx("div",{className:be("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",qy[n])}),i.jsx("div",{className:be("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",qy[n])}),i.jsx("div",{className:be("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",qy[n])})]}),i.jsx("div",{className:be("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return i.jsx("div",{className:be("relative",_i[e],r),children:i.jsx("div",{className:be("h-full w-full bg-current rounded-full animate-morph")})});default:return i.jsx(nw,{className:be("animate-spin",a)})}}function w$({message:e="Loading...",size:t="lg",variant:r="default",showProgress:n=!1,progress:a=0,className:s}){return i.jsxs("div",{className:be("flex flex-col items-center justify-center py-8 space-y-4",s),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qc,{size:t,variant:r}),n&&i.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:i.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${a}%`}})})})]}),e&&i.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function WHe({message:e="Loading...",fullScreen:t=!1,variant:r="bounce",className:n}){const a=i.jsxs("div",{className:be("flex flex-col items-center justify-center space-y-6",t?"min-h-screen":"py-16",n),children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qc,{size:"xl",variant:r}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return t?i.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:a}):a}function HHe(){const[e,t]=x.useState(!1),[r,n]=x.useState(0),a=()=>{n(0),t(!0);const c=setInterval(()=>{n(u=>u>=100?(clearInterval(c),setTimeout(()=>t(!1),500),100):u+10)},200)},s=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],l=["primary","secondary","success","warning","destructive"];return i.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"text-center space-y-4 mb-8",children:[i.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),i.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),i.jsx(ce,{onClick:a,className:"mt-4",children:"Show Page Loader with Progress"})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:"Spinner Variants"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:s.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Qc,{variant:c,size:"lg"})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:"Spinner Sizes"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Qc,{variant:"bounce",size:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:"Spinner Colors"})}),i.jsx(dt,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:l.map(c=>i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"h-20 flex items-center justify-center",children:i.jsx(Qc,{variant:"default",size:"lg",color:c})}),i.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:c})]},c))})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:"Loading Spinner with Messages"})}),i.jsx(dt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),i.jsx(w$,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"With Progress"}),i.jsx(w$,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),i.jsxs(it,{children:[i.jsx(Bt,{children:i.jsx(er,{children:"Combined Examples"})}),i.jsx(dt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Qc,{variant:"bounce",size:"xl",color:"success"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Qc,{variant:"rotate",size:"xl",color:"warning"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),i.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[i.jsx(Qc,{variant:"dots",size:"xl",color:"destructive"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&i.jsx(WHe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const qHe=()=>i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),i.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),i.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),KHe=()=>{const{user:e}=xr();return(e==null?void 0:e.role)==="client"?i.jsx(Y5e,{}):i.jsx(yLe,{})},j$=({children:e})=>i.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-indigo-400/20 to-blue-400/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-r from-primary/5 to-blue-400/5 rounded-full blur-3xl"})]}),i.jsx("div",{className:"relative z-10 w-full px-4 py-8",children:e})]});function GHe(){return i.jsx(Bre,{children:i.jsx(FB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Gse,{children:i.jsx(cae,{children:i.jsx(oae,{children:i.jsx(uae,{children:i.jsx(YHe,{})})})})})})})}function YHe(){const{isRTL:e}=Ia(),t=Cl(),{t:r}=Vt();return x.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),x.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys",reports:"navigation.reports","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let l="";if(o[s])l=r(o[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];o[c]?l=`${r(o[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),i.jsxs(Dre,{children:[i.jsx(jr,{path:"/login",element:i.jsx(j$,{children:i.jsx(qse,{})})}),i.jsx(jr,{path:"/signup",element:i.jsx(j$,{children:i.jsx(Kse,{})})}),i.jsx(jr,{path:"/unauthorized",element:i.jsx(qHe,{})}),i.jsx(jr,{path:"/auth/callback",element:i.jsx(Q5e,{})}),i.jsx(jr,{path:"/",element:i.jsx(J5e,{})}),i.jsxs(jr,{element:i.jsx(fy,{children:i.jsx(Rk,{children:i.jsx(mR,{})})}),children:[i.jsx(jr,{path:"/dashboard",element:i.jsx(PMe,{})}),i.jsx(jr,{path:"/leads",element:i.jsx(kIe,{})}),i.jsx(jr,{path:"/projects",element:i.jsx(KIe,{})}),i.jsx(jr,{path:"/tasks",element:i.jsx(RIe,{})}),i.jsx(jr,{path:"/tickets",element:i.jsx(IIe,{})}),i.jsx(jr,{path:"/users",element:i.jsx(fy,{denyPermissionIds:[3,4,5,6],children:i.jsx(lLe,{})})}),i.jsx(jr,{path:"/teams",element:i.jsx(cLe,{})}),i.jsx(jr,{path:"/chats",element:i.jsx(KHe,{})}),i.jsx(jr,{path:"/all-chats",element:i.jsx(G5e,{})}),i.jsx(jr,{path:"/whatsapp",element:i.jsx(zHe,{})}),i.jsx(jr,{path:"/requests",element:i.jsx(BHe,{})}),i.jsx(jr,{path:"/client-portal",element:i.jsx(X5e,{})}),i.jsx(jr,{path:"/surveys",element:i.jsx(rWe,{})}),i.jsx(jr,{path:"/reports",element:i.jsx(FWe,{})}),i.jsx(jr,{path:"/mleads",element:i.jsx(DWe,{})}),i.jsx(jr,{path:"/mprojects",element:i.jsx(MWe,{})}),i.jsx(jr,{path:"/permissions",element:i.jsx(fy,{denyPermissionIds:[3,4,5,6],children:i.jsx(VHe,{})})}),i.jsx(jr,{path:"/settings",element:i.jsx(fy,{denyPermissionIds:[3,4,5,6],children:i.jsx(nWe,{})})}),i.jsx(jr,{path:"/spinner-demo",element:i.jsx(HHe,{})})]}),i.jsx(jr,{element:i.jsx(Rk,{children:i.jsx(mR,{})})}),i.jsx(jr,{path:"*",element:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("h1",{children:"404 - Page Not Found"})})})]})}const XHe=new OZ({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});q6(document.getElementById("root")).render(i.jsx(Bee,{i18n:Vr,children:i.jsx(IZ,{client:XHe,children:i.jsx(FB,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(GHe,{})})})}));
