var MA=e=>{throw TypeError(e)};var zb=(e,t,r)=>t.has(e)||MA("Cannot "+r);var se=(e,t,r)=>(zb(e,t,"read from private field"),r?r.call(e):t.get(e)),vt=(e,t,r)=>t.has(e)?MA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),et=(e,t,r,n)=>(zb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Lt=(e,t,r)=>(zb(e,t,"access private method"),r);var ov=(e,t,r,n)=>({set _(a){et(e,t,a,r)},get _(){return se(e,t,n)}});function vF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var yF={exports:{}},z1={},wF={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=Symbol.for("react.element"),hK=Symbol.for("react.portal"),mK=Symbol.for("react.fragment"),pK=Symbol.for("react.strict_mode"),gK=Symbol.for("react.profiler"),vK=Symbol.for("react.provider"),xK=Symbol.for("react.context"),yK=Symbol.for("react.forward_ref"),wK=Symbol.for("react.suspense"),bK=Symbol.for("react.memo"),_K=Symbol.for("react.lazy"),FA=Symbol.iterator;function SK(e){return e===null||typeof e!="object"?null:(e=FA&&e[FA]||e["@@iterator"],typeof e=="function"?e:null)}var bF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_F=Object.assign,SF={};function Gh(e,t,r){this.props=e,this.context=t,this.refs=SF,this.updater=r||bF}Gh.prototype.isReactComponent={};Gh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jF(){}jF.prototype=Gh.prototype;function wN(e,t,r){this.props=e,this.context=t,this.refs=SF,this.updater=r||bF}var bN=wN.prototype=new jF;bN.constructor=wN;_F(bN,Gh.prototype);bN.isPureReactComponent=!0;var LA=Array.isArray,kF=Object.prototype.hasOwnProperty,_N={current:null},NF={key:!0,ref:!0,__self:!0,__source:!0};function EF(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)kF.call(t,n)&&!NF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:vg,type:e,key:s,ref:i,props:a,_owner:_N.current}}function jK(e,t){return{$$typeof:vg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SN(e){return typeof e=="object"&&e!==null&&e.$$typeof===vg}function kK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $A=/\/+/g;function Vb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kK(""+e.key):t.toString(36)}function mx(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case vg:case hK:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Vb(i,0):n,LA(a)?(r="",e!=null&&(r=e.replace($A,"$&/")+"/"),mx(a,t,r,"",function(u){return u})):a!=null&&(SN(a)&&(a=jK(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace($A,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",LA(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Vb(s,l);i+=mx(s,t,r,c,a)}else if(c=SK(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Vb(s,l++),i+=mx(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cv(e,t,r){if(e==null)return e;var n=[],a=0;return mx(e,n,"","",function(s){return t.call(r,s,a++)}),n}function NK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ha={current:null},px={transition:null},EK={ReactCurrentDispatcher:ha,ReactCurrentBatchConfig:px,ReactCurrentOwner:_N};function CF(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:cv,forEach:function(e,t,r){cv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cv(e,function(){t++}),t},toArray:function(e){return cv(e,function(t){return t})||[]},only:function(e){if(!SN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mt.Component=Gh;Mt.Fragment=mK;Mt.Profiler=gK;Mt.PureComponent=wN;Mt.StrictMode=pK;Mt.Suspense=wK;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EK;Mt.act=CF;Mt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_F({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=_N.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)kF.call(t,c)&&!NF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vg,type:e.type,key:a,ref:s,props:n,_owner:i}};Mt.createContext=function(e){return e={$$typeof:xK,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vK,_context:e},e.Consumer=e};Mt.createElement=EF;Mt.createFactory=function(e){var t=EF.bind(null,e);return t.type=e,t};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(e){return{$$typeof:yK,render:e}};Mt.isValidElement=SN;Mt.lazy=function(e){return{$$typeof:_K,_payload:{_status:-1,_result:e},_init:NK}};Mt.memo=function(e,t){return{$$typeof:bK,type:e,compare:t===void 0?null:t}};Mt.startTransition=function(e){var t=px.transition;px.transition={};try{e()}finally{px.transition=t}};Mt.unstable_act=CF;Mt.useCallback=function(e,t){return ha.current.useCallback(e,t)};Mt.useContext=function(e){return ha.current.useContext(e)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(e){return ha.current.useDeferredValue(e)};Mt.useEffect=function(e,t){return ha.current.useEffect(e,t)};Mt.useId=function(){return ha.current.useId()};Mt.useImperativeHandle=function(e,t,r){return ha.current.useImperativeHandle(e,t,r)};Mt.useInsertionEffect=function(e,t){return ha.current.useInsertionEffect(e,t)};Mt.useLayoutEffect=function(e,t){return ha.current.useLayoutEffect(e,t)};Mt.useMemo=function(e,t){return ha.current.useMemo(e,t)};Mt.useReducer=function(e,t,r){return ha.current.useReducer(e,t,r)};Mt.useRef=function(e){return ha.current.useRef(e)};Mt.useState=function(e){return ha.current.useState(e)};Mt.useSyncExternalStore=function(e,t,r){return ha.current.useSyncExternalStore(e,t,r)};Mt.useTransition=function(){return ha.current.useTransition()};Mt.version="18.3.1";wF.exports=Mt;var w=wF.exports;const te=Qt(w),jN=vF({__proto__:null,default:te},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CK=w,TK=Symbol.for("react.element"),AK=Symbol.for("react.fragment"),OK=Object.prototype.hasOwnProperty,PK=CK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DK={key:!0,ref:!0,__self:!0,__source:!0};function TF(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)OK.call(t,n)&&!DK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:TK,type:e,key:s,ref:i,props:a,_owner:PK.current}}z1.Fragment=AK;z1.jsx=TF;z1.jsxs=TF;yF.exports=z1;var o=yF.exports,AF={exports:{}},ns={},OF={exports:{}},PF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,D){var V=F.length;F.push(D);e:for(;0<V;){var J=V-1>>>1,T=F[J];if(0<a(T,D))F[J]=D,F[V]=T,V=J;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var D=F[0],V=F.pop();if(V!==D){F[0]=V;e:for(var J=0,T=F.length,G=T>>>1;J<G;){var M=2*(J+1)-1,B=F[M],ee=M+1,ae=F[ee];if(0>a(B,V))ee<T&&0>a(ae,B)?(F[J]=ae,F[ee]=V,J=ee):(F[J]=B,F[M]=V,J=M);else if(ee<T&&0>a(ae,V))F[J]=ae,F[ee]=V,J=ee;else break e}}return D}function a(F,D){var V=F.sortIndex-D.sortIndex;return V!==0?V:F.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(F){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=F)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function _(F){if(p=!1,y(F),!g)if(r(c)!==null)g=!0,I(S);else{var D=r(u);D!==null&&R(_,D.startTime-F)}}function S(F,D){g=!1,p&&(p=!1,x(E),E=-1),m=!0;var V=h;try{for(y(D),f=r(c);f!==null&&(!(f.expirationTime>D)||F&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var T=J(f.expirationTime<=D);D=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(c)&&n(c),y(D)}else n(c);f=r(c)}if(f!==null)var G=!0;else{var M=r(u);M!==null&&R(_,M.startTime-D),G=!1}return G}finally{f=null,h=V,m=!1}}var k=!1,j=null,E=-1,N=5,A=-1;function O(){return!(e.unstable_now()-A<N)}function P(){if(j!==null){var F=e.unstable_now();A=F;var D=!0;try{D=j(!0,F)}finally{D?U():(k=!1,j=null)}}else k=!1}var U;if(typeof b=="function")U=function(){b(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,U=function(){W.postMessage(null)}}else U=function(){v(P,0)};function I(F){j=F,k||(k=!0,U())}function R(F,D){E=v(function(){F(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var V=h;h=D;try{return F()}finally{h=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,D){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var V=h;h=F;try{return D()}finally{h=V}},e.unstable_scheduleCallback=function(F,D,V){var J=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?J+V:J):V=J,F){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=V+T,F={id:d++,callback:D,priorityLevel:F,startTime:V,expirationTime:T,sortIndex:-1},V>J?(F.sortIndex=V,t(u,F),r(c)===null&&F===r(u)&&(p?(x(E),E=-1):p=!0,R(_,V-J))):(F.sortIndex=T,t(c,F),g||m||(g=!0,I(S))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var D=h;return function(){var V=h;h=D;try{return F.apply(this,arguments)}finally{h=V}}}})(PF);OF.exports=PF;var RK=OF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IK=w,ts=RK;function Fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DF=new Set,Gp={};function od(e,t){Yf(e,t),Yf(e+"Capture",t)}function Yf(e,t){for(Gp[e]=t,e=0;e<t.length;e++)DF.add(t[e])}var Qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FS=Object.prototype.hasOwnProperty,MK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BA={},UA={};function FK(e){return FS.call(UA,e)?!0:FS.call(BA,e)?!1:MK.test(e)?UA[e]=!0:(BA[e]=!0,!1)}function LK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $K(e,t,r,n){if(t===null||typeof t>"u"||LK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ma(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new ma(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new ma(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new ma(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new ma(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new ma(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new ma(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new ma(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new ma(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new ma(e,5,!1,e.toLowerCase(),null,!1,!1)});var kN=/[\-:]([a-z])/g;function NN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kN,NN);En[t]=new ma(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kN,NN);En[t]=new ma(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kN,NN);En[t]=new ma(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new ma(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new ma("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new ma(e,1,!1,e.toLowerCase(),null,!0,!0)});function EN(e,t,r,n){var a=En.hasOwnProperty(t)?En[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($K(t,r,a,n)&&(r=null),n||a===null?FK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fl=IK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uv=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),CN=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),RF=Symbol.for("react.provider"),IF=Symbol.for("react.context"),TN=Symbol.for("react.forward_ref"),$S=Symbol.for("react.suspense"),BS=Symbol.for("react.suspense_list"),AN=Symbol.for("react.memo"),Dl=Symbol.for("react.lazy"),MF=Symbol.for("react.offscreen"),WA=Symbol.iterator;function Am(e){return e===null||typeof e!="object"?null:(e=WA&&e[WA]||e["@@iterator"],typeof e=="function"?e:null)}var Tr=Object.assign,Hb;function Zm(e){if(Hb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hb=t&&t[1]||""}return`
`+Hb+e}var Gb=!1;function Kb(e,t){if(!e||Gb)return"";Gb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Gb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zm(e):""}function BK(e){switch(e.tag){case 5:return Zm(e.type);case 16:return Zm("Lazy");case 13:return Zm("Suspense");case 19:return Zm("SuspenseList");case 0:case 2:case 15:return e=Kb(e.type,!1),e;case 11:return e=Kb(e.type.render,!1),e;case 1:return e=Kb(e.type,!0),e;default:return""}}function US(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jd:return"Fragment";case Qd:return"Portal";case LS:return"Profiler";case CN:return"StrictMode";case $S:return"Suspense";case BS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case IF:return(e.displayName||"Context")+".Consumer";case RF:return(e._context.displayName||"Context")+".Provider";case TN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AN:return t=e.displayName||null,t!==null?t:US(e.type)||"Memo";case Dl:t=e._payload,e=e._init;try{return US(e(t))}catch{}}return null}function UK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return US(t);case 8:return t===CN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function FF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WK(e){var t=FF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dv(e){e._valueTracker||(e._valueTracker=WK(e))}function LF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=FF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function WS(e,t){var r=t.checked;return Tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vc(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $F(e,t){t=t.checked,t!=null&&EN(e,"checked",t,!1)}function zS(e,t){$F(e,t);var r=vc(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?VS(e,t.type,r):t.hasOwnProperty("defaultValue")&&VS(e,t.type,vc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function VS(e,t,r){(t!=="number"||Mx(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ep=Array.isArray;function xf(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vc(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function HS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Fe(91));return Tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function HA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Fe(92));if(ep(r)){if(1<r.length)throw Error(Fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vc(r)}}function BF(e,t){var r=vc(t.value),n=vc(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function GA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function UF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function GS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?UF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fv,WF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fv=fv||document.createElement("div"),fv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zK=["Webkit","ms","Moz","O"];Object.keys(fp).forEach(function(e){zK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fp[t]=fp[e]})});function zF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fp.hasOwnProperty(e)&&fp[e]?(""+t).trim():t+"px"}function VF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=zF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var VK=Tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function KS(e,t){if(t){if(VK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Fe(62))}}function qS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YS=null;function ON(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var XS=null,yf=null,wf=null;function KA(e){if(e=wg(e)){if(typeof XS!="function")throw Error(Fe(280));var t=e.stateNode;t&&(t=q1(t),XS(e.stateNode,e.type,t))}}function HF(e){yf?wf?wf.push(e):wf=[e]:yf=e}function GF(){if(yf){var e=yf,t=wf;if(wf=yf=null,KA(e),t)for(e=0;e<t.length;e++)KA(t[e])}}function KF(e,t){return e(t)}function qF(){}var qb=!1;function YF(e,t,r){if(qb)return e(t,r);qb=!0;try{return KF(e,t,r)}finally{qb=!1,(yf!==null||wf!==null)&&(qF(),GF())}}function qp(e,t){var r=e.stateNode;if(r===null)return null;var n=q1(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Fe(231,t,typeof r));return r}var QS=!1;if(Qo)try{var Om={};Object.defineProperty(Om,"passive",{get:function(){QS=!0}}),window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{QS=!1}function HK(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hp=!1,Fx=null,Lx=!1,JS=null,GK={onError:function(e){hp=!0,Fx=e}};function KK(e,t,r,n,a,s,i,l,c){hp=!1,Fx=null,HK.apply(GK,arguments)}function qK(e,t,r,n,a,s,i,l,c){if(KK.apply(this,arguments),hp){if(hp){var u=Fx;hp=!1,Fx=null}else throw Error(Fe(198));Lx||(Lx=!0,JS=u)}}function ld(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qA(e){if(ld(e)!==e)throw Error(Fe(188))}function YK(e){var t=e.alternate;if(!t){if(t=ld(e),t===null)throw Error(Fe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return qA(a),e;if(s===n)return qA(a),t;s=s.sibling}throw Error(Fe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(Fe(189))}}if(r.alternate!==n)throw Error(Fe(190))}if(r.tag!==3)throw Error(Fe(188));return r.stateNode.current===r?e:t}function QF(e){return e=YK(e),e!==null?JF(e):null}function JF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=JF(e);if(t!==null)return t;e=e.sibling}return null}var ZF=ts.unstable_scheduleCallback,YA=ts.unstable_cancelCallback,XK=ts.unstable_shouldYield,QK=ts.unstable_requestPaint,Mr=ts.unstable_now,JK=ts.unstable_getCurrentPriorityLevel,PN=ts.unstable_ImmediatePriority,eL=ts.unstable_UserBlockingPriority,$x=ts.unstable_NormalPriority,ZK=ts.unstable_LowPriority,tL=ts.unstable_IdlePriority,V1=null,Qi=null;function eq(e){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(V1,e,void 0,(e.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:nq,tq=Math.log,rq=Math.LN2;function nq(e){return e>>>=0,e===0?32:31-(tq(e)/rq|0)|0}var hv=64,mv=4194304;function tp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bx(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=tp(l):(s&=i,s!==0&&(n=tp(s)))}else i=r&~a,i!==0?n=tp(i):s!==0&&(n=tp(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vi(t),a=1<<r,n|=e[r],t&=~a;return n}function aq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sq(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-vi(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=aq(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function ZS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rL(){var e=hv;return hv<<=1,!(hv&4194240)&&(hv=64),e}function Yb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vi(t),e[t]=r}function iq(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-vi(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function DN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Zt=0;function nL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var aL,RN,sL,iL,oL,ej=!1,pv=[],ac=null,sc=null,ic=null,Yp=new Map,Xp=new Map,Ml=[],oq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XA(e,t){switch(e){case"focusin":case"focusout":ac=null;break;case"dragenter":case"dragleave":sc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":Yp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(t.pointerId)}}function Pm(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=wg(t),t!==null&&RN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function lq(e,t,r,n,a){switch(t){case"focusin":return ac=Pm(ac,e,t,r,n,a),!0;case"dragenter":return sc=Pm(sc,e,t,r,n,a),!0;case"mouseover":return ic=Pm(ic,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Yp.set(s,Pm(Yp.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Xp.set(s,Pm(Xp.get(s)||null,e,t,r,n,a)),!0}return!1}function lL(e){var t=ou(e.target);if(t!==null){var r=ld(t);if(r!==null){if(t=r.tag,t===13){if(t=XF(r),t!==null){e.blockedOn=t,oL(e.priority,function(){sL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);YS=n,r.target.dispatchEvent(n),YS=null}else return t=wg(r),t!==null&&RN(t),e.blockedOn=r,!1;t.shift()}return!0}function QA(e,t,r){gx(e)&&r.delete(t)}function cq(){ej=!1,ac!==null&&gx(ac)&&(ac=null),sc!==null&&gx(sc)&&(sc=null),ic!==null&&gx(ic)&&(ic=null),Yp.forEach(QA),Xp.forEach(QA)}function Dm(e,t){e.blockedOn===t&&(e.blockedOn=null,ej||(ej=!0,ts.unstable_scheduleCallback(ts.unstable_NormalPriority,cq)))}function Qp(e){function t(a){return Dm(a,e)}if(0<pv.length){Dm(pv[0],e);for(var r=1;r<pv.length;r++){var n=pv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ac!==null&&Dm(ac,e),sc!==null&&Dm(sc,e),ic!==null&&Dm(ic,e),Yp.forEach(t),Xp.forEach(t),r=0;r<Ml.length;r++)n=Ml[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ml.length&&(r=Ml[0],r.blockedOn===null);)lL(r),r.blockedOn===null&&Ml.shift()}var bf=fl.ReactCurrentBatchConfig,Ux=!0;function uq(e,t,r,n){var a=Zt,s=bf.transition;bf.transition=null;try{Zt=1,IN(e,t,r,n)}finally{Zt=a,bf.transition=s}}function dq(e,t,r,n){var a=Zt,s=bf.transition;bf.transition=null;try{Zt=4,IN(e,t,r,n)}finally{Zt=a,bf.transition=s}}function IN(e,t,r,n){if(Ux){var a=tj(e,t,r,n);if(a===null)s_(e,t,n,Wx,r),XA(e,n);else if(lq(a,e,t,r,n))n.stopPropagation();else if(XA(e,n),t&4&&-1<oq.indexOf(e)){for(;a!==null;){var s=wg(a);if(s!==null&&aL(s),s=tj(e,t,r,n),s===null&&s_(e,t,n,Wx,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else s_(e,t,n,null,r)}}var Wx=null;function tj(e,t,r,n){if(Wx=null,e=ON(n),e=ou(e),e!==null)if(t=ld(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wx=e,null}function cL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JK()){case PN:return 1;case eL:return 4;case $x:case ZK:return 16;case tL:return 536870912;default:return 16}default:return 16}}var Xl=null,MN=null,vx=null;function uL(){if(vx)return vx;var e,t=MN,r=t.length,n,a="value"in Xl?Xl.value:Xl.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return vx=a.slice(e,1<n?1-n:void 0)}function xx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gv(){return!0}function JA(){return!1}function as(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gv:JA,this.isPropagationStopped=JA,this}return Tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gv)},persist:function(){},isPersistent:gv}),t}var Kh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FN=as(Kh),yg=Tr({},Kh,{view:0,detail:0}),fq=as(yg),Xb,Qb,Rm,H1=Tr({},yg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:LN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rm&&(Rm&&e.type==="mousemove"?(Xb=e.screenX-Rm.screenX,Qb=e.screenY-Rm.screenY):Qb=Xb=0,Rm=e),Xb)},movementY:function(e){return"movementY"in e?e.movementY:Qb}}),ZA=as(H1),hq=Tr({},H1,{dataTransfer:0}),mq=as(hq),pq=Tr({},yg,{relatedTarget:0}),Jb=as(pq),gq=Tr({},Kh,{animationName:0,elapsedTime:0,pseudoElement:0}),vq=as(gq),xq=Tr({},Kh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yq=as(xq),wq=Tr({},Kh,{data:0}),eO=as(wq),bq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jq(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sq[e])?!!t[e]:!1}function LN(){return jq}var kq=Tr({},yg,{key:function(e){if(e.key){var t=bq[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_q[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:LN,charCode:function(e){return e.type==="keypress"?xx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nq=as(kq),Eq=Tr({},H1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tO=as(Eq),Cq=Tr({},yg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:LN}),Tq=as(Cq),Aq=Tr({},Kh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oq=as(Aq),Pq=Tr({},H1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dq=as(Pq),Rq=[9,13,27,32],$N=Qo&&"CompositionEvent"in window,mp=null;Qo&&"documentMode"in document&&(mp=document.documentMode);var Iq=Qo&&"TextEvent"in window&&!mp,dL=Qo&&(!$N||mp&&8<mp&&11>=mp),rO=" ",nO=!1;function fL(e,t){switch(e){case"keyup":return Rq.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zd=!1;function Mq(e,t){switch(e){case"compositionend":return hL(t);case"keypress":return t.which!==32?null:(nO=!0,rO);case"textInput":return e=t.data,e===rO&&nO?null:e;default:return null}}function Fq(e,t){if(Zd)return e==="compositionend"||!$N&&fL(e,t)?(e=uL(),vx=MN=Xl=null,Zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dL&&t.locale!=="ko"?null:t.data;default:return null}}var Lq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lq[e.type]:t==="textarea"}function mL(e,t,r,n){HF(n),t=zx(t,"onChange"),0<t.length&&(r=new FN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pp=null,Jp=null;function $q(e){kL(e,0)}function G1(e){var t=rf(e);if(LF(t))return e}function Bq(e,t){if(e==="change")return t}var pL=!1;if(Qo){var Zb;if(Qo){var e_="oninput"in document;if(!e_){var sO=document.createElement("div");sO.setAttribute("oninput","return;"),e_=typeof sO.oninput=="function"}Zb=e_}else Zb=!1;pL=Zb&&(!document.documentMode||9<document.documentMode)}function iO(){pp&&(pp.detachEvent("onpropertychange",gL),Jp=pp=null)}function gL(e){if(e.propertyName==="value"&&G1(Jp)){var t=[];mL(t,Jp,e,ON(e)),YF($q,t)}}function Uq(e,t,r){e==="focusin"?(iO(),pp=t,Jp=r,pp.attachEvent("onpropertychange",gL)):e==="focusout"&&iO()}function Wq(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return G1(Jp)}function zq(e,t){if(e==="click")return G1(t)}function Vq(e,t){if(e==="input"||e==="change")return G1(t)}function Hq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _i=typeof Object.is=="function"?Object.is:Hq;function Zp(e,t){if(_i(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!FS.call(t,a)||!_i(e[a],t[a]))return!1}return!0}function oO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lO(e,t){var r=oO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oO(r)}}function vL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xL(){for(var e=window,t=Mx();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mx(e.document)}return t}function BN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gq(e){var t=xL(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vL(r.ownerDocument.documentElement,r)){if(n!==null&&BN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=lO(r,s);var i=lO(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kq=Qo&&"documentMode"in document&&11>=document.documentMode,ef=null,rj=null,gp=null,nj=!1;function cO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nj||ef==null||ef!==Mx(n)||(n=ef,"selectionStart"in n&&BN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gp&&Zp(gp,n)||(gp=n,n=zx(rj,"onSelect"),0<n.length&&(t=new FN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ef)))}function vv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var tf={animationend:vv("Animation","AnimationEnd"),animationiteration:vv("Animation","AnimationIteration"),animationstart:vv("Animation","AnimationStart"),transitionend:vv("Transition","TransitionEnd")},t_={},yL={};Qo&&(yL=document.createElement("div").style,"AnimationEvent"in window||(delete tf.animationend.animation,delete tf.animationiteration.animation,delete tf.animationstart.animation),"TransitionEvent"in window||delete tf.transitionend.transition);function K1(e){if(t_[e])return t_[e];if(!tf[e])return e;var t=tf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yL)return t_[e]=t[r];return e}var wL=K1("animationend"),bL=K1("animationiteration"),_L=K1("animationstart"),SL=K1("transitionend"),jL=new Map,uO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(e,t){jL.set(e,t),od(t,[e])}for(var r_=0;r_<uO.length;r_++){var n_=uO[r_],qq=n_.toLowerCase(),Yq=n_[0].toUpperCase()+n_.slice(1);Nc(qq,"on"+Yq)}Nc(wL,"onAnimationEnd");Nc(bL,"onAnimationIteration");Nc(_L,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(SL,"onTransitionEnd");Yf("onMouseEnter",["mouseout","mouseover"]);Yf("onMouseLeave",["mouseout","mouseover"]);Yf("onPointerEnter",["pointerout","pointerover"]);Yf("onPointerLeave",["pointerout","pointerover"]);od("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));od("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));od("onBeforeInput",["compositionend","keypress","textInput","paste"]);od("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));od("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));od("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xq=new Set("cancel close invalid load scroll toggle".split(" ").concat(rp));function dO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qK(n,t,void 0,e),e.currentTarget=null}function kL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;dO(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;dO(a,l,u),s=c}}}if(Lx)throw e=JS,Lx=!1,JS=null,e}function mr(e,t){var r=t[lj];r===void 0&&(r=t[lj]=new Set);var n=e+"__bubble";r.has(n)||(NL(t,e,2,!1),r.add(n))}function a_(e,t,r){var n=0;t&&(n|=4),NL(r,e,n,t)}var xv="_reactListening"+Math.random().toString(36).slice(2);function e0(e){if(!e[xv]){e[xv]=!0,DF.forEach(function(r){r!=="selectionchange"&&(Xq.has(r)||a_(r,!1,e),a_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xv]||(t[xv]=!0,a_("selectionchange",!1,t))}}function NL(e,t,r,n){switch(cL(t)){case 1:var a=uq;break;case 4:a=dq;break;default:a=IN}r=a.bind(null,t,r,e),a=void 0,!QS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function s_(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ou(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}YF(function(){var u=s,d=ON(r),f=[];e:{var h=jL.get(e);if(h!==void 0){var m=FN,g=e;switch(e){case"keypress":if(xx(r)===0)break e;case"keydown":case"keyup":m=Nq;break;case"focusin":g="focus",m=Jb;break;case"focusout":g="blur",m=Jb;break;case"beforeblur":case"afterblur":m=Jb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ZA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Tq;break;case wL:case bL:case _L:m=vq;break;case SL:m=Oq;break;case"scroll":m=fq;break;case"wheel":m=Dq;break;case"copy":case"cut":case"paste":m=yq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tO}var p=(t&4)!==0,v=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,y;b!==null;){y=b;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=qp(b,x),_!=null&&p.push(t0(b,_,y)))),v)break;b=b.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==YS&&(g=r.relatedTarget||r.fromElement)&&(ou(g)||g[Jo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?ou(g):null,g!==null&&(v=ld(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=ZA,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=tO,_="onPointerLeave",x="onPointerEnter",b="pointer"),v=m==null?h:rf(m),y=g==null?h:rf(g),h=new p(_,b+"leave",m,r,d),h.target=v,h.relatedTarget=y,_=null,ou(d)===u&&(p=new p(x,b+"enter",g,r,d),p.target=y,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,x=g,b=0,y=p;y;y=Nd(y))b++;for(y=0,_=x;_;_=Nd(_))y++;for(;0<b-y;)p=Nd(p),b--;for(;0<y-b;)x=Nd(x),y--;for(;b--;){if(p===x||x!==null&&p===x.alternate)break t;p=Nd(p),x=Nd(x)}p=null}else p=null;m!==null&&fO(f,h,m,p,!1),g!==null&&v!==null&&fO(f,v,g,p,!0)}}e:{if(h=u?rf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Bq;else if(aO(h))if(pL)S=Vq;else{S=Wq;var k=Uq}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=zq);if(S&&(S=S(e,u))){mL(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&VS(h,"number",h.value)}switch(k=u?rf(u):window,e){case"focusin":(aO(k)||k.contentEditable==="true")&&(ef=k,rj=u,gp=null);break;case"focusout":gp=rj=ef=null;break;case"mousedown":nj=!0;break;case"contextmenu":case"mouseup":case"dragend":nj=!1,cO(f,r,d);break;case"selectionchange":if(Kq)break;case"keydown":case"keyup":cO(f,r,d)}var j;if($N)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Zd?fL(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(dL&&r.locale!=="ko"&&(Zd||E!=="onCompositionStart"?E==="onCompositionEnd"&&Zd&&(j=uL()):(Xl=d,MN="value"in Xl?Xl.value:Xl.textContent,Zd=!0)),k=zx(u,E),0<k.length&&(E=new eO(E,e,null,r,d),f.push({event:E,listeners:k}),j?E.data=j:(j=hL(r),j!==null&&(E.data=j)))),(j=Iq?Mq(e,r):Fq(e,r))&&(u=zx(u,"onBeforeInput"),0<u.length&&(d=new eO("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}kL(f,t)})}function t0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zx(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=qp(e,r),s!=null&&n.unshift(t0(e,s,a)),s=qp(e,t),s!=null&&n.push(t0(e,s,a))),e=e.return}return n}function Nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fO(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=qp(r,s),c!=null&&i.unshift(t0(r,c,l))):a||(c=qp(r,s),c!=null&&i.push(t0(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Qq=/\r\n?/g,Jq=/\u0000|\uFFFD/g;function hO(e){return(typeof e=="string"?e:""+e).replace(Qq,`
`).replace(Jq,"")}function yv(e,t,r){if(t=hO(t),hO(e)!==t&&r)throw Error(Fe(425))}function Vx(){}var aj=null,sj=null;function ij(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oj=typeof setTimeout=="function"?setTimeout:void 0,Zq=typeof clearTimeout=="function"?clearTimeout:void 0,mO=typeof Promise=="function"?Promise:void 0,eY=typeof queueMicrotask=="function"?queueMicrotask:typeof mO<"u"?function(e){return mO.resolve(null).then(e).catch(tY)}:oj;function tY(e){setTimeout(function(){throw e})}function i_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Qp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Qp(t)}function oc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qh=Math.random().toString(36).slice(2),Vi="__reactFiber$"+qh,r0="__reactProps$"+qh,Jo="__reactContainer$"+qh,lj="__reactEvents$"+qh,rY="__reactListeners$"+qh,nY="__reactHandles$"+qh;function ou(e){var t=e[Vi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jo]||r[Vi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=pO(e);e!==null;){if(r=e[Vi])return r;e=pO(e)}return t}e=r,r=e.parentNode}return null}function wg(e){return e=e[Vi]||e[Jo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function rf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Fe(33))}function q1(e){return e[r0]||null}var cj=[],nf=-1;function Ec(e){return{current:e}}function vr(e){0>nf||(e.current=cj[nf],cj[nf]=null,nf--)}function cr(e,t){nf++,cj[nf]=e.current,e.current=t}var xc={},Hn=Ec(xc),Ca=Ec(!1),Ru=xc;function Xf(e,t){var r=e.type.contextTypes;if(!r)return xc;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ta(e){return e=e.childContextTypes,e!=null}function Hx(){vr(Ca),vr(Hn)}function gO(e,t,r){if(Hn.current!==xc)throw Error(Fe(168));cr(Hn,t),cr(Ca,r)}function EL(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Fe(108,UK(e)||"Unknown",a));return Tr({},r,n)}function Gx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xc,Ru=Hn.current,cr(Hn,e),cr(Ca,Ca.current),!0}function vO(e,t,r){var n=e.stateNode;if(!n)throw Error(Fe(169));r?(e=EL(e,t,Ru),n.__reactInternalMemoizedMergedChildContext=e,vr(Ca),vr(Hn),cr(Hn,e)):vr(Ca),cr(Ca,r)}var Ro=null,Y1=!1,o_=!1;function CL(e){Ro===null?Ro=[e]:Ro.push(e)}function aY(e){Y1=!0,CL(e)}function Cc(){if(!o_&&Ro!==null){o_=!0;var e=0,t=Zt;try{var r=Ro;for(Zt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ro=null,Y1=!1}catch(a){throw Ro!==null&&(Ro=Ro.slice(e+1)),ZF(PN,Cc),a}finally{Zt=t,o_=!1}}return null}var af=[],sf=0,Kx=null,qx=0,gs=[],vs=0,Iu=null,Lo=1,$o="";function Kc(e,t){af[sf++]=qx,af[sf++]=Kx,Kx=e,qx=t}function TL(e,t,r){gs[vs++]=Lo,gs[vs++]=$o,gs[vs++]=Iu,Iu=e;var n=Lo;e=$o;var a=32-vi(n)-1;n&=~(1<<a),r+=1;var s=32-vi(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Lo=1<<32-vi(t)+a|r<<a|n,$o=s+e}else Lo=1<<s|r<<a|n,$o=e}function UN(e){e.return!==null&&(Kc(e,1),TL(e,1,0))}function WN(e){for(;e===Kx;)Kx=af[--sf],af[sf]=null,qx=af[--sf],af[sf]=null;for(;e===Iu;)Iu=gs[--vs],gs[vs]=null,$o=gs[--vs],gs[vs]=null,Lo=gs[--vs],gs[vs]=null}var Xa=null,Ya=null,_r=!1,di=null;function AL(e,t){var r=ws(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xa=e,Ya=oc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xa=e,Ya=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Iu!==null?{id:Lo,overflow:$o}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ws(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xa=e,Ya=null,!0):!1;default:return!1}}function uj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dj(e){if(_r){var t=Ya;if(t){var r=t;if(!xO(e,t)){if(uj(e))throw Error(Fe(418));t=oc(r.nextSibling);var n=Xa;t&&xO(e,t)?AL(n,r):(e.flags=e.flags&-4097|2,_r=!1,Xa=e)}}else{if(uj(e))throw Error(Fe(418));e.flags=e.flags&-4097|2,_r=!1,Xa=e}}}function yO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xa=e}function wv(e){if(e!==Xa)return!1;if(!_r)return yO(e),_r=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ij(e.type,e.memoizedProps)),t&&(t=Ya)){if(uj(e))throw OL(),Error(Fe(418));for(;t;)AL(e,t),t=oc(t.nextSibling)}if(yO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ya=oc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ya=null}}else Ya=Xa?oc(e.stateNode.nextSibling):null;return!0}function OL(){for(var e=Ya;e;)e=oc(e.nextSibling)}function Qf(){Ya=Xa=null,_r=!1}function zN(e){di===null?di=[e]:di.push(e)}var sY=fl.ReactCurrentBatchConfig;function Im(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Fe(309));var n=r.stateNode}if(!n)throw Error(Fe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(Fe(284));if(!r._owner)throw Error(Fe(290,e))}return e}function bv(e,t){throw e=Object.prototype.toString.call(t),Error(Fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wO(e){var t=e._init;return t(e._payload)}function PL(e){function t(x,b){if(e){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=dc(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,y,_){return b===null||b.tag!==6?(b=m_(y,x.mode,_),b.return=x,b):(b=a(b,y),b.return=x,b)}function c(x,b,y,_){var S=y.type;return S===Jd?d(x,b,y.props.children,_,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dl&&wO(S)===b.type)?(_=a(b,y.props),_.ref=Im(x,b,y),_.return=x,_):(_=kx(y.type,y.key,y.props,null,x.mode,_),_.ref=Im(x,b,y),_.return=x,_)}function u(x,b,y,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=p_(y,x.mode,_),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function d(x,b,y,_,S){return b===null||b.tag!==7?(b=Cu(y,x.mode,_,S),b.return=x,b):(b=a(b,y),b.return=x,b)}function f(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=m_(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case uv:return y=kx(b.type,b.key,b.props,null,x.mode,y),y.ref=Im(x,null,b),y.return=x,y;case Qd:return b=p_(b,x.mode,y),b.return=x,b;case Dl:var _=b._init;return f(x,_(b._payload),y)}if(ep(b)||Am(b))return b=Cu(b,x.mode,y,null),b.return=x,b;bv(x,b)}return null}function h(x,b,y,_){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(x,b,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uv:return y.key===S?c(x,b,y,_):null;case Qd:return y.key===S?u(x,b,y,_):null;case Dl:return S=y._init,h(x,b,S(y._payload),_)}if(ep(y)||Am(y))return S!==null?null:d(x,b,y,_,null);bv(x,y)}return null}function m(x,b,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,l(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uv:return x=x.get(_.key===null?y:_.key)||null,c(b,x,_,S);case Qd:return x=x.get(_.key===null?y:_.key)||null,u(b,x,_,S);case Dl:var k=_._init;return m(x,b,y,k(_._payload),S)}if(ep(_)||Am(_))return x=x.get(y)||null,d(b,x,_,S,null);bv(b,_)}return null}function g(x,b,y,_){for(var S=null,k=null,j=b,E=b=0,N=null;j!==null&&E<y.length;E++){j.index>E?(N=j,j=null):N=j.sibling;var A=h(x,j,y[E],_);if(A===null){j===null&&(j=N);break}e&&j&&A.alternate===null&&t(x,j),b=s(A,b,E),k===null?S=A:k.sibling=A,k=A,j=N}if(E===y.length)return r(x,j),_r&&Kc(x,E),S;if(j===null){for(;E<y.length;E++)j=f(x,y[E],_),j!==null&&(b=s(j,b,E),k===null?S=j:k.sibling=j,k=j);return _r&&Kc(x,E),S}for(j=n(x,j);E<y.length;E++)N=m(j,x,E,y[E],_),N!==null&&(e&&N.alternate!==null&&j.delete(N.key===null?E:N.key),b=s(N,b,E),k===null?S=N:k.sibling=N,k=N);return e&&j.forEach(function(O){return t(x,O)}),_r&&Kc(x,E),S}function p(x,b,y,_){var S=Am(y);if(typeof S!="function")throw Error(Fe(150));if(y=S.call(y),y==null)throw Error(Fe(151));for(var k=S=null,j=b,E=b=0,N=null,A=y.next();j!==null&&!A.done;E++,A=y.next()){j.index>E?(N=j,j=null):N=j.sibling;var O=h(x,j,A.value,_);if(O===null){j===null&&(j=N);break}e&&j&&O.alternate===null&&t(x,j),b=s(O,b,E),k===null?S=O:k.sibling=O,k=O,j=N}if(A.done)return r(x,j),_r&&Kc(x,E),S;if(j===null){for(;!A.done;E++,A=y.next())A=f(x,A.value,_),A!==null&&(b=s(A,b,E),k===null?S=A:k.sibling=A,k=A);return _r&&Kc(x,E),S}for(j=n(x,j);!A.done;E++,A=y.next())A=m(j,x,E,A.value,_),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?E:A.key),b=s(A,b,E),k===null?S=A:k.sibling=A,k=A);return e&&j.forEach(function(P){return t(x,P)}),_r&&Kc(x,E),S}function v(x,b,y,_){if(typeof y=="object"&&y!==null&&y.type===Jd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case uv:e:{for(var S=y.key,k=b;k!==null;){if(k.key===S){if(S=y.type,S===Jd){if(k.tag===7){r(x,k.sibling),b=a(k,y.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Dl&&wO(S)===k.type){r(x,k.sibling),b=a(k,y.props),b.ref=Im(x,k,y),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}y.type===Jd?(b=Cu(y.props.children,x.mode,_,y.key),b.return=x,x=b):(_=kx(y.type,y.key,y.props,null,x.mode,_),_.ref=Im(x,b,y),_.return=x,x=_)}return i(x);case Qd:e:{for(k=y.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=p_(y,x.mode,_),b.return=x,x=b}return i(x);case Dl:return k=y._init,v(x,b,k(y._payload),_)}if(ep(y))return g(x,b,y,_);if(Am(y))return p(x,b,y,_);bv(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,y),b.return=x,x=b):(r(x,b),b=m_(y,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return v}var Jf=PL(!0),DL=PL(!1),Yx=Ec(null),Xx=null,of=null,VN=null;function HN(){VN=of=Xx=null}function GN(e){var t=Yx.current;vr(Yx),e._currentValue=t}function fj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _f(e,t){Xx=e,VN=of=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ka=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(VN!==e)if(e={context:e,memoizedValue:t,next:null},of===null){if(Xx===null)throw Error(Fe(308));of=e,Xx.dependencies={lanes:0,firstContext:e}}else of=of.next=e;return t}var lu=null;function KN(e){lu===null?lu=[e]:lu.push(e)}function RL(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,KN(t)):(r.next=a.next,a.next=r),t.interleaved=r,Zo(e,n)}function Zo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rl=!1;function qN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Vt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Zo(e,r)}return a=n.interleaved,a===null?(t.next=t,KN(n)):(t.next=a.next,a.next=t),n.interleaved=t,Zo(e,r)}function yx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,DN(e,r)}}function bO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qx(e,t,r,n){var a=e.updateQueue;Rl=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Tr({},f,h);break e;case 2:Rl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Fu|=i,e.lanes=i,e.memoizedState=f}}function _O(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Fe(191,a));a.call(n)}}}var bg={},Ji=Ec(bg),n0=Ec(bg),a0=Ec(bg);function cu(e){if(e===bg)throw Error(Fe(174));return e}function YN(e,t){switch(cr(a0,t),cr(n0,e),cr(Ji,bg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:GS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=GS(t,e)}vr(Ji),cr(Ji,t)}function Zf(){vr(Ji),vr(n0),vr(a0)}function ML(e){cu(a0.current);var t=cu(Ji.current),r=GS(t,e.type);t!==r&&(cr(n0,e),cr(Ji,r))}function XN(e){n0.current===e&&(vr(Ji),vr(n0))}var Nr=Ec(0);function Jx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var l_=[];function QN(){for(var e=0;e<l_.length;e++)l_[e]._workInProgressVersionPrimary=null;l_.length=0}var wx=fl.ReactCurrentDispatcher,c_=fl.ReactCurrentBatchConfig,Mu=0,Cr=null,tn=null,fn=null,Zx=!1,vp=!1,s0=0,iY=0;function Cn(){throw Error(Fe(321))}function JN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_i(e[r],t[r]))return!1;return!0}function ZN(e,t,r,n,a,s){if(Mu=s,Cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wx.current=e===null||e.memoizedState===null?uY:dY,e=r(n,a),vp){s=0;do{if(vp=!1,s0=0,25<=s)throw Error(Fe(301));s+=1,fn=tn=null,t.updateQueue=null,wx.current=fY,e=r(n,a)}while(vp)}if(wx.current=ey,t=tn!==null&&tn.next!==null,Mu=0,fn=tn=Cr=null,Zx=!1,t)throw Error(Fe(300));return e}function eE(){var e=s0!==0;return s0=0,e}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Cr.memoizedState=fn=e:fn=fn.next=e,fn}function Cs(){if(tn===null){var e=Cr.alternate;e=e!==null?e.memoizedState:null}else e=tn.next;var t=fn===null?Cr.memoizedState:fn.next;if(t!==null)fn=t,tn=e;else{if(e===null)throw Error(Fe(310));tn=e,e={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},fn===null?Cr.memoizedState=fn=e:fn=fn.next=e}return fn}function i0(e,t){return typeof t=="function"?t(e):t}function u_(e){var t=Cs(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=tn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Mu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Cr.lanes|=d,Fu|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,_i(n,t.memoizedState)||(ka=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Cr.lanes|=s,Fu|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function d_(e){var t=Cs(),r=t.queue;if(r===null)throw Error(Fe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);_i(s,t.memoizedState)||(ka=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function FL(){}function LL(e,t){var r=Cr,n=Cs(),a=t(),s=!_i(n.memoizedState,a);if(s&&(n.memoizedState=a,ka=!0),n=n.queue,tE(UL.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||fn!==null&&fn.memoizedState.tag&1){if(r.flags|=2048,o0(9,BL.bind(null,r,n,a,t),void 0,null),pn===null)throw Error(Fe(349));Mu&30||$L(r,t,a)}return a}function $L(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function BL(e,t,r,n){t.value=r,t.getSnapshot=n,WL(t)&&zL(e)}function UL(e,t,r){return r(function(){WL(t)&&zL(e)})}function WL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_i(e,r)}catch{return!0}}function zL(e){var t=Zo(e,1);t!==null&&xi(t,e,1,-1)}function SO(e){var t=Fi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:e},t.queue=e,e=e.dispatch=cY.bind(null,Cr,e),[t.memoizedState,e]}function o0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Cr.updateQueue,t===null?(t={lastEffect:null,stores:null},Cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function VL(){return Cs().memoizedState}function bx(e,t,r,n){var a=Fi();Cr.flags|=e,a.memoizedState=o0(1|t,r,void 0,n===void 0?null:n)}function X1(e,t,r,n){var a=Cs();n=n===void 0?null:n;var s=void 0;if(tn!==null){var i=tn.memoizedState;if(s=i.destroy,n!==null&&JN(n,i.deps)){a.memoizedState=o0(t,r,s,n);return}}Cr.flags|=e,a.memoizedState=o0(1|t,r,s,n)}function jO(e,t){return bx(8390656,8,e,t)}function tE(e,t){return X1(2048,8,e,t)}function HL(e,t){return X1(4,2,e,t)}function GL(e,t){return X1(4,4,e,t)}function KL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qL(e,t,r){return r=r!=null?r.concat([e]):null,X1(4,4,KL.bind(null,t,e),r)}function rE(){}function YL(e,t){var r=Cs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function XL(e,t){var r=Cs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&JN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function QL(e,t,r){return Mu&21?(_i(r,t)||(r=rL(),Cr.lanes|=r,Fu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ka=!0),e.memoizedState=r)}function oY(e,t){var r=Zt;Zt=r!==0&&4>r?r:4,e(!0);var n=c_.transition;c_.transition={};try{e(!1),t()}finally{Zt=r,c_.transition=n}}function JL(){return Cs().memoizedState}function lY(e,t,r){var n=uc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZL(e))e$(t,r);else if(r=RL(e,t,r,n),r!==null){var a=ua();xi(r,e,n,a),t$(r,t,n)}}function cY(e,t,r){var n=uc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZL(e))e$(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,_i(l,i)){var c=t.interleaved;c===null?(a.next=a,KN(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=RL(e,t,a,n),r!==null&&(a=ua(),xi(r,e,n,a),t$(r,t,n))}}function ZL(e){var t=e.alternate;return e===Cr||t!==null&&t===Cr}function e$(e,t){vp=Zx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function t$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,DN(e,r)}}var ey={readContext:Es,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},uY={readContext:Es,useCallback:function(e,t){return Fi().memoizedState=[e,t===void 0?null:t],e},useContext:Es,useEffect:jO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bx(4194308,4,KL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bx(4194308,4,e,t)},useInsertionEffect:function(e,t){return bx(4,2,e,t)},useMemo:function(e,t){var r=Fi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lY.bind(null,Cr,e),[n.memoizedState,e]},useRef:function(e){var t=Fi();return e={current:e},t.memoizedState=e},useState:SO,useDebugValue:rE,useDeferredValue:function(e){return Fi().memoizedState=e},useTransition:function(){var e=SO(!1),t=e[0];return e=oY.bind(null,e[1]),Fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Cr,a=Fi();if(_r){if(r===void 0)throw Error(Fe(407));r=r()}else{if(r=t(),pn===null)throw Error(Fe(349));Mu&30||$L(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,jO(UL.bind(null,n,s,e),[e]),n.flags|=2048,o0(9,BL.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Fi(),t=pn.identifierPrefix;if(_r){var r=$o,n=Lo;r=(n&~(1<<32-vi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=s0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=iY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dY={readContext:Es,useCallback:YL,useContext:Es,useEffect:tE,useImperativeHandle:qL,useInsertionEffect:HL,useLayoutEffect:GL,useMemo:XL,useReducer:u_,useRef:VL,useState:function(){return u_(i0)},useDebugValue:rE,useDeferredValue:function(e){var t=Cs();return QL(t,tn.memoizedState,e)},useTransition:function(){var e=u_(i0)[0],t=Cs().memoizedState;return[e,t]},useMutableSource:FL,useSyncExternalStore:LL,useId:JL,unstable_isNewReconciler:!1},fY={readContext:Es,useCallback:YL,useContext:Es,useEffect:tE,useImperativeHandle:qL,useInsertionEffect:HL,useLayoutEffect:GL,useMemo:XL,useReducer:d_,useRef:VL,useState:function(){return d_(i0)},useDebugValue:rE,useDeferredValue:function(e){var t=Cs();return tn===null?t.memoizedState=e:QL(t,tn.memoizedState,e)},useTransition:function(){var e=d_(i0)[0],t=Cs().memoizedState;return[e,t]},useMutableSource:FL,useSyncExternalStore:LL,useId:JL,unstable_isNewReconciler:!1};function ei(e,t){if(e&&e.defaultProps){t=Tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Q1={isMounted:function(e){return(e=e._reactInternals)?ld(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ua(),a=uc(e),s=Vo(n,a);s.payload=t,r!=null&&(s.callback=r),t=lc(e,s,a),t!==null&&(xi(t,e,a,n),yx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ua(),a=uc(e),s=Vo(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=lc(e,s,a),t!==null&&(xi(t,e,a,n),yx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ua(),n=uc(e),a=Vo(r,n);a.tag=2,t!=null&&(a.callback=t),t=lc(e,a,n),t!==null&&(xi(t,e,n,r),yx(t,e,n))}};function kO(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Zp(r,n)||!Zp(a,s):!0}function r$(e,t,r){var n=!1,a=xc,s=t.contextType;return typeof s=="object"&&s!==null?s=Es(s):(a=Ta(t)?Ru:Hn.current,n=t.contextTypes,s=(n=n!=null)?Xf(e,a):xc),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Q1,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function NO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Q1.enqueueReplaceState(t,t.state,null)}function mj(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qN(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Es(s):(s=Ta(t)?Ru:Hn.current,a.context=Xf(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(hj(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Q1.enqueueReplaceState(a,a.state,null),Qx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function eh(e,t){try{var r="",n=t;do r+=BK(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function f_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hY=typeof WeakMap=="function"?WeakMap:Map;function n$(e,t,r){r=Vo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ry||(ry=!0,kj=n),pj(e,t)},r}function a$(e,t,r){r=Vo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){pj(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){pj(e,t),typeof n!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function EO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hY;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=EY.bind(null,e,t,r),t.then(e,e))}function CO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TO(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vo(-1,1),t.tag=2,lc(r,t,1))),r.lanes|=1),e)}var mY=fl.ReactCurrentOwner,ka=!1;function ea(e,t,r,n){t.child=e===null?DL(t,null,r,n):Jf(t,e.child,r,n)}function AO(e,t,r,n,a){r=r.render;var s=t.ref;return _f(t,a),n=ZN(e,t,r,n,s,a),r=eE(),e!==null&&!ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,el(e,t,a)):(_r&&r&&UN(t),t.flags|=1,ea(e,t,n,a),t.child)}function OO(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!uE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,s$(e,t,s,n,a)):(e=kx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Zp,r(i,n)&&e.ref===t.ref)return el(e,t,a)}return t.flags|=1,e=dc(s,n),e.ref=t.ref,e.return=t,t.child=e}function s$(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Zp(s,n)&&e.ref===t.ref)if(ka=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ka=!0);else return t.lanes=e.lanes,el(e,t,a)}return gj(e,t,r,n,a)}function i$(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(cf,Ba),Ba|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,cr(cf,Ba),Ba|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,cr(cf,Ba),Ba|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,cr(cf,Ba),Ba|=n;return ea(e,t,a,r),t.child}function o$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gj(e,t,r,n,a){var s=Ta(r)?Ru:Hn.current;return s=Xf(t,s),_f(t,a),r=ZN(e,t,r,n,s,a),n=eE(),e!==null&&!ka?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,el(e,t,a)):(_r&&n&&UN(t),t.flags|=1,ea(e,t,r,a),t.child)}function PO(e,t,r,n,a){if(Ta(r)){var s=!0;Gx(t)}else s=!1;if(_f(t,a),t.stateNode===null)_x(e,t),r$(t,r,n),mj(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Ta(r)?Ru:Hn.current,u=Xf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&NO(t,i,n,u),Rl=!1;var h=t.memoizedState;i.state=h,Qx(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Ca.current||Rl?(typeof d=="function"&&(hj(t,r,d,n),c=t.memoizedState),(l=Rl||kO(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,IL(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ei(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Es(c):(c=Ta(r)?Ru:Hn.current,c=Xf(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&NO(t,i,n,c),Rl=!1,h=t.memoizedState,i.state=h,Qx(t,n,i,a);var g=t.memoizedState;l!==f||h!==g||Ca.current||Rl?(typeof m=="function"&&(hj(t,r,m,n),g=t.memoizedState),(u=Rl||kO(t,r,u,n,h,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vj(e,t,r,n,s,a)}function vj(e,t,r,n,a,s){o$(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&vO(t,r,!1),el(e,t,s);n=t.stateNode,mY.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Jf(t,e.child,null,s),t.child=Jf(t,null,l,s)):ea(e,t,l,s),t.memoizedState=n.state,a&&vO(t,r,!0),t.child}function l$(e){var t=e.stateNode;t.pendingContext?gO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gO(e,t.context,!1),YN(e,t.containerInfo)}function DO(e,t,r,n,a){return Qf(),zN(a),t.flags|=256,ea(e,t,r,n),t.child}var xj={dehydrated:null,treeContext:null,retryLane:0};function yj(e){return{baseLanes:e,cachePool:null,transitions:null}}function c$(e,t,r){var n=t.pendingProps,a=Nr.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),cr(Nr,a&1),e===null)return dj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ew(i,n,0,null),e=Cu(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=yj(r),t.memoizedState=xj,e):nE(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return pY(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=dc(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=dc(l,s):(s=Cu(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?yj(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=xj,n}return s=e.child,e=s.sibling,n=dc(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function nE(e,t){return t=ew({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _v(e,t,r,n){return n!==null&&zN(n),Jf(t,e.child,null,r),e=nE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pY(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=f_(Error(Fe(422))),_v(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=ew({mode:"visible",children:n.children},a,0,null),s=Cu(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Jf(t,e.child,null,i),t.child.memoizedState=yj(i),t.memoizedState=xj,s);if(!(t.mode&1))return _v(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Fe(419)),n=f_(s,n,void 0),_v(e,t,i,n)}if(l=(i&e.childLanes)!==0,ka||l){if(n=pn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Zo(e,a),xi(n,e,a,-1))}return cE(),n=f_(Error(Fe(421))),_v(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=CY.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ya=oc(a.nextSibling),Xa=t,_r=!0,di=null,e!==null&&(gs[vs++]=Lo,gs[vs++]=$o,gs[vs++]=Iu,Lo=e.id,$o=e.overflow,Iu=t),t=nE(t,n.children),t.flags|=4096,t)}function RO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fj(e.return,t,r)}function h_(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function u$(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(ea(e,t,n.children,r),n=Nr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RO(e,r,t);else if(e.tag===19)RO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(cr(Nr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Jx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),h_(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Jx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}h_(t,!0,r,null,s);break;case"together":h_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _x(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function el(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Fe(153));if(t.child!==null){for(e=t.child,r=dc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gY(e,t,r){switch(t.tag){case 3:l$(t),Qf();break;case 5:ML(t);break;case 1:Ta(t.type)&&Gx(t);break;case 4:YN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;cr(Yx,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(cr(Nr,Nr.current&1),t.flags|=128,null):r&t.child.childLanes?c$(e,t,r):(cr(Nr,Nr.current&1),e=el(e,t,r),e!==null?e.sibling:null);cr(Nr,Nr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return u$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),cr(Nr,Nr.current),n)break;return null;case 22:case 23:return t.lanes=0,i$(e,t,r)}return el(e,t,r)}var d$,wj,f$,h$;d$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wj=function(){};f$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,cu(Ji.current);var s=null;switch(r){case"input":a=WS(e,a),n=WS(e,n),s=[];break;case"select":a=Tr({},a,{value:void 0}),n=Tr({},n,{value:void 0}),s=[];break;case"textarea":a=HS(e,a),n=HS(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vx)}KS(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gp.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&mr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};h$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mm(e,t){if(!_r)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vY(e,t,r){var n=t.pendingProps;switch(WN(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return Ta(t.type)&&Hx(),Tn(t),null;case 3:return n=t.stateNode,Zf(),vr(Ca),vr(Hn),QN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,di!==null&&(Cj(di),di=null))),wj(e,t),Tn(t),null;case 5:XN(t);var a=cu(a0.current);if(r=t.type,e!==null&&t.stateNode!=null)f$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Fe(166));return Tn(t),null}if(e=cu(Ji.current),wv(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Vi]=t,n[r0]=s,e=(t.mode&1)!==0,r){case"dialog":mr("cancel",n),mr("close",n);break;case"iframe":case"object":case"embed":mr("load",n);break;case"video":case"audio":for(a=0;a<rp.length;a++)mr(rp[a],n);break;case"source":mr("error",n);break;case"img":case"image":case"link":mr("error",n),mr("load",n);break;case"details":mr("toggle",n);break;case"input":zA(n,s),mr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mr("invalid",n);break;case"textarea":HA(n,s),mr("invalid",n)}KS(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&yv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yv(n.textContent,l,e),a=["children",""+l]):Gp.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&mr("scroll",n)}switch(r){case"input":dv(n),VA(n,s,!0);break;case"textarea":dv(n),GA(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vx)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=UF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Vi]=t,e[r0]=n,d$(e,t,!1,!1),t.stateNode=e;e:{switch(i=qS(r,n),r){case"dialog":mr("cancel",e),mr("close",e),a=n;break;case"iframe":case"object":case"embed":mr("load",e),a=n;break;case"video":case"audio":for(a=0;a<rp.length;a++)mr(rp[a],e);a=n;break;case"source":mr("error",e),a=n;break;case"img":case"image":case"link":mr("error",e),mr("load",e),a=n;break;case"details":mr("toggle",e),a=n;break;case"input":zA(e,n),a=WS(e,n),mr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Tr({},n,{value:void 0}),mr("invalid",e);break;case"textarea":HA(e,n),a=HS(e,n),mr("invalid",e);break;default:a=n}KS(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?VF(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&WF(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Kp(e,c):typeof c=="number"&&Kp(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gp.hasOwnProperty(s)?c!=null&&s==="onScroll"&&mr("scroll",e):c!=null&&EN(e,s,c,i))}switch(r){case"input":dv(e),VA(e,n,!1);break;case"textarea":dv(e),GA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vc(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?xf(e,!!n.multiple,s,!1):n.defaultValue!=null&&xf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Vx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)h$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Fe(166));if(r=cu(a0.current),cu(Ji.current),wv(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vi]=t,(s=n.nodeValue!==r)&&(e=Xa,e!==null))switch(e.tag){case 3:yv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yv(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vi]=t,t.stateNode=n}return Tn(t),null;case 13:if(vr(Nr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_r&&Ya!==null&&t.mode&1&&!(t.flags&128))OL(),Qf(),t.flags|=98560,s=!1;else if(s=wv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Fe(317));s[Vi]=t}else Qf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),s=!1}else di!==null&&(Cj(di),di=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nr.current&1?nn===0&&(nn=3):cE())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Zf(),wj(e,t),e===null&&e0(t.stateNode.containerInfo),Tn(t),null;case 10:return GN(t.type._context),Tn(t),null;case 17:return Ta(t.type)&&Hx(),Tn(t),null;case 19:if(vr(Nr),s=t.memoizedState,s===null)return Tn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Mm(s,!1);else{if(nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Jx(e),i!==null){for(t.flags|=128,Mm(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return cr(Nr,Nr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Mr()>th&&(t.flags|=128,n=!0,Mm(s,!1),t.lanes=4194304)}else{if(!n)if(e=Jx(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mm(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!_r)return Tn(t),null}else 2*Mr()-s.renderingStartTime>th&&r!==1073741824&&(t.flags|=128,n=!0,Mm(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Mr(),t.sibling=null,r=Nr.current,cr(Nr,n?r&1|2:r&1),t):(Tn(t),null);case 22:case 23:return lE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ba&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(Fe(156,t.tag))}function xY(e,t){switch(WN(t),t.tag){case 1:return Ta(t.type)&&Hx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zf(),vr(Ca),vr(Hn),QN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return XN(t),null;case 13:if(vr(Nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Fe(340));Qf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vr(Nr),null;case 4:return Zf(),null;case 10:return GN(t.type._context),null;case 22:case 23:return lE(),null;case 24:return null;default:return null}}var Sv=!1,Mn=!1,yY=typeof WeakSet=="function"?WeakSet:Set,Je=null;function lf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Or(e,t,n)}else r.current=null}function bj(e,t,r){try{r()}catch(n){Or(e,t,n)}}var IO=!1;function wY(e,t){if(aj=Ux,e=xL(),BN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sj={focusedElem:e,selectionRange:r},Ux=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:ei(t.type,p),v);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Fe(163))}}catch(_){Or(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return g=IO,IO=!1,g}function xp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&bj(t,r,s)}a=a.next}while(a!==n)}}function J1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _j(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function m$(e){var t=e.alternate;t!==null&&(e.alternate=null,m$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vi],delete t[r0],delete t[lj],delete t[rY],delete t[nY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function p$(e){return e.tag===5||e.tag===3||e.tag===4}function MO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vx));else if(n!==4&&(e=e.child,e!==null))for(Sj(e,t,r),e=e.sibling;e!==null;)Sj(e,t,r),e=e.sibling}function jj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jj(e,t,r),e=e.sibling;e!==null;)jj(e,t,r),e=e.sibling}var wn=null,ai=!1;function jl(e,t,r){for(r=r.child;r!==null;)g$(e,t,r),r=r.sibling}function g$(e,t,r){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(V1,r)}catch{}switch(r.tag){case 5:Mn||lf(r,t);case 6:var n=wn,a=ai;wn=null,jl(e,t,r),wn=n,ai=a,wn!==null&&(ai?(e=wn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):wn.removeChild(r.stateNode));break;case 18:wn!==null&&(ai?(e=wn,r=r.stateNode,e.nodeType===8?i_(e.parentNode,r):e.nodeType===1&&i_(e,r),Qp(e)):i_(wn,r.stateNode));break;case 4:n=wn,a=ai,wn=r.stateNode.containerInfo,ai=!0,jl(e,t,r),wn=n,ai=a;break;case 0:case 11:case 14:case 15:if(!Mn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&bj(r,t,i),a=a.next}while(a!==n)}jl(e,t,r);break;case 1:if(!Mn&&(lf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Or(r,t,l)}jl(e,t,r);break;case 21:jl(e,t,r);break;case 22:r.mode&1?(Mn=(n=Mn)||r.memoizedState!==null,jl(e,t,r),Mn=n):jl(e,t,r);break;default:jl(e,t,r)}}function FO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yY),t.forEach(function(n){var a=TY.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Gs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:wn=l.stateNode,ai=!1;break e;case 3:wn=l.stateNode.containerInfo,ai=!0;break e;case 4:wn=l.stateNode.containerInfo,ai=!0;break e}l=l.return}if(wn===null)throw Error(Fe(160));g$(s,i,a),wn=null,ai=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Or(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v$(t,e),t=t.sibling}function v$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gs(t,e),Ri(e),n&4){try{xp(3,e,e.return),J1(3,e)}catch(p){Or(e,e.return,p)}try{xp(5,e,e.return)}catch(p){Or(e,e.return,p)}}break;case 1:Gs(t,e),Ri(e),n&512&&r!==null&&lf(r,r.return);break;case 5:if(Gs(t,e),Ri(e),n&512&&r!==null&&lf(r,r.return),e.flags&32){var a=e.stateNode;try{Kp(a,"")}catch(p){Or(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$F(a,s),qS(l,i);var u=qS(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?VF(a,f):d==="dangerouslySetInnerHTML"?WF(a,f):d==="children"?Kp(a,f):EN(a,d,f,u)}switch(l){case"input":zS(a,s);break;case"textarea":BF(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?xf(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?xf(a,!!s.multiple,s.defaultValue,!0):xf(a,!!s.multiple,s.multiple?[]:"",!1))}a[r0]=s}catch(p){Or(e,e.return,p)}}break;case 6:if(Gs(t,e),Ri(e),n&4){if(e.stateNode===null)throw Error(Fe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){Or(e,e.return,p)}}break;case 3:if(Gs(t,e),Ri(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qp(t.containerInfo)}catch(p){Or(e,e.return,p)}break;case 4:Gs(t,e),Ri(e);break;case 13:Gs(t,e),Ri(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(iE=Mr())),n&4&&FO(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Mn=(u=Mn)||d,Gs(t,e),Mn=u):Gs(t,e),Ri(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Je=e,d=e.child;d!==null;){for(f=Je=d;Je!==null;){switch(h=Je,m=h.child,h.tag){case 0:case 11:case 14:case 15:xp(4,h,h.return);break;case 1:lf(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Or(n,r,p)}}break;case 5:lf(h,h.return);break;case 22:if(h.memoizedState!==null){$O(f);continue}}m!==null?(m.return=h,Je=m):$O(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zF("display",i))}catch(p){Or(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Or(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gs(t,e),Ri(e),n&4&&FO(e);break;case 21:break;default:Gs(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(p$(r)){var n=r;break e}r=r.return}throw Error(Fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Kp(a,""),n.flags&=-33);var s=MO(e);jj(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=MO(e);Sj(e,l,i);break;default:throw Error(Fe(161))}}catch(c){Or(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bY(e,t,r){Je=e,x$(e)}function x$(e,t,r){for(var n=(e.mode&1)!==0;Je!==null;){var a=Je,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Sv;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Mn;l=Sv;var u=Mn;if(Sv=i,(Mn=c)&&!u)for(Je=a;Je!==null;)i=Je,c=i.child,i.tag===22&&i.memoizedState!==null?BO(a):c!==null?(c.return=i,Je=c):BO(a);for(;s!==null;)Je=s,x$(s),s=s.sibling;Je=a,Sv=l,Mn=u}LO(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Je=s):LO(e)}}function LO(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mn||J1(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ei(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&_O(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_O(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Fe(163))}Mn||t.flags&512&&_j(t)}catch(h){Or(t,t.return,h)}}if(t===e){Je=null;break}if(r=t.sibling,r!==null){r.return=t.return,Je=r;break}Je=t.return}}function $O(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Je=r;break}Je=t.return}}function BO(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{J1(4,t)}catch(c){Or(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Or(t,a,c)}}var s=t.return;try{_j(t)}catch(c){Or(t,s,c)}break;case 5:var i=t.return;try{_j(t)}catch(c){Or(t,i,c)}}}catch(c){Or(t,t.return,c)}if(t===e){Je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Je=l;break}Je=t.return}}var _Y=Math.ceil,ty=fl.ReactCurrentDispatcher,aE=fl.ReactCurrentOwner,_s=fl.ReactCurrentBatchConfig,Vt=0,pn=null,Kr=null,Sn=0,Ba=0,cf=Ec(0),nn=0,l0=null,Fu=0,Z1=0,sE=0,yp=null,_a=null,iE=0,th=1/0,Oo=null,ry=!1,kj=null,cc=null,jv=!1,Ql=null,ny=0,wp=0,Nj=null,Sx=-1,jx=0;function ua(){return Vt&6?Mr():Sx!==-1?Sx:Sx=Mr()}function uc(e){return e.mode&1?Vt&2&&Sn!==0?Sn&-Sn:sY.transition!==null?(jx===0&&(jx=rL()),jx):(e=Zt,e!==0||(e=window.event,e=e===void 0?16:cL(e.type)),e):1}function xi(e,t,r,n){if(50<wp)throw wp=0,Nj=null,Error(Fe(185));xg(e,r,n),(!(Vt&2)||e!==pn)&&(e===pn&&(!(Vt&2)&&(Z1|=r),nn===4&&Fl(e,Sn)),Aa(e,n),r===1&&Vt===0&&!(t.mode&1)&&(th=Mr()+500,Y1&&Cc()))}function Aa(e,t){var r=e.callbackNode;sq(e,t);var n=Bx(e,e===pn?Sn:0);if(n===0)r!==null&&YA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&YA(r),t===1)e.tag===0?aY(UO.bind(null,e)):CL(UO.bind(null,e)),eY(function(){!(Vt&6)&&Cc()}),r=null;else{switch(nL(n)){case 1:r=PN;break;case 4:r=eL;break;case 16:r=$x;break;case 536870912:r=tL;break;default:r=$x}r=N$(r,y$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function y$(e,t){if(Sx=-1,jx=0,Vt&6)throw Error(Fe(327));var r=e.callbackNode;if(Sf()&&e.callbackNode!==r)return null;var n=Bx(e,e===pn?Sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ay(e,n);else{t=n;var a=Vt;Vt|=2;var s=b$();(pn!==e||Sn!==t)&&(Oo=null,th=Mr()+500,Eu(e,t));do try{kY();break}catch(l){w$(e,l)}while(!0);HN(),ty.current=s,Vt=a,Kr!==null?t=0:(pn=null,Sn=0,t=nn)}if(t!==0){if(t===2&&(a=ZS(e),a!==0&&(n=a,t=Ej(e,a))),t===1)throw r=l0,Eu(e,0),Fl(e,n),Aa(e,Mr()),r;if(t===6)Fl(e,n);else{if(a=e.current.alternate,!(n&30)&&!SY(a)&&(t=ay(e,n),t===2&&(s=ZS(e),s!==0&&(n=s,t=Ej(e,s))),t===1))throw r=l0,Eu(e,0),Fl(e,n),Aa(e,Mr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Fe(345));case 2:qc(e,_a,Oo);break;case 3:if(Fl(e,n),(n&130023424)===n&&(t=iE+500-Mr(),10<t)){if(Bx(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ua(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=oj(qc.bind(null,e,_a,Oo),t);break}qc(e,_a,Oo);break;case 4:if(Fl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-vi(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=Mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_Y(n/1960))-n,10<n){e.timeoutHandle=oj(qc.bind(null,e,_a,Oo),n);break}qc(e,_a,Oo);break;case 5:qc(e,_a,Oo);break;default:throw Error(Fe(329))}}}return Aa(e,Mr()),e.callbackNode===r?y$.bind(null,e):null}function Ej(e,t){var r=yp;return e.current.memoizedState.isDehydrated&&(Eu(e,t).flags|=256),e=ay(e,t),e!==2&&(t=_a,_a=r,t!==null&&Cj(t)),e}function Cj(e){_a===null?_a=e:_a.push.apply(_a,e)}function SY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!_i(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fl(e,t){for(t&=~sE,t&=~Z1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vi(t),n=1<<r;e[r]=-1,t&=~n}}function UO(e){if(Vt&6)throw Error(Fe(327));Sf();var t=Bx(e,0);if(!(t&1))return Aa(e,Mr()),null;var r=ay(e,t);if(e.tag!==0&&r===2){var n=ZS(e);n!==0&&(t=n,r=Ej(e,n))}if(r===1)throw r=l0,Eu(e,0),Fl(e,t),Aa(e,Mr()),r;if(r===6)throw Error(Fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qc(e,_a,Oo),Aa(e,Mr()),null}function oE(e,t){var r=Vt;Vt|=1;try{return e(t)}finally{Vt=r,Vt===0&&(th=Mr()+500,Y1&&Cc())}}function Lu(e){Ql!==null&&Ql.tag===0&&!(Vt&6)&&Sf();var t=Vt;Vt|=1;var r=_s.transition,n=Zt;try{if(_s.transition=null,Zt=1,e)return e()}finally{Zt=n,_s.transition=r,Vt=t,!(Vt&6)&&Cc()}}function lE(){Ba=cf.current,vr(cf)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zq(r)),Kr!==null)for(r=Kr.return;r!==null;){var n=r;switch(WN(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hx();break;case 3:Zf(),vr(Ca),vr(Hn),QN();break;case 5:XN(n);break;case 4:Zf();break;case 13:vr(Nr);break;case 19:vr(Nr);break;case 10:GN(n.type._context);break;case 22:case 23:lE()}r=r.return}if(pn=e,Kr=e=dc(e.current,null),Sn=Ba=t,nn=0,l0=null,sE=Z1=Fu=0,_a=yp=null,lu!==null){for(t=0;t<lu.length;t++)if(r=lu[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}lu=null}return e}function w$(e,t){do{var r=Kr;try{if(HN(),wx.current=ey,Zx){for(var n=Cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Zx=!1}if(Mu=0,fn=tn=Cr=null,vp=!1,s0=0,aE.current=null,r===null||r.return===null){nn=1,l0=t,Kr=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=CO(i);if(m!==null){m.flags&=-257,TO(m,i,l,s,t),m.mode&1&&EO(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){EO(s,u,t),cE();break e}c=Error(Fe(426))}}else if(_r&&l.mode&1){var v=CO(i);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TO(v,i,l,s,t),zN(eh(c,l));break e}}s=c=eh(c,l),nn!==4&&(nn=2),yp===null?yp=[s]:yp.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=n$(s,c,t);bO(s,x);break e;case 1:l=c;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(cc===null||!cc.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=a$(s,l,t);bO(s,_);break e}}s=s.return}while(s!==null)}S$(r)}catch(S){t=S,Kr===r&&r!==null&&(Kr=r=r.return);continue}break}while(!0)}function b$(){var e=ty.current;return ty.current=ey,e===null?ey:e}function cE(){(nn===0||nn===3||nn===2)&&(nn=4),pn===null||!(Fu&268435455)&&!(Z1&268435455)||Fl(pn,Sn)}function ay(e,t){var r=Vt;Vt|=2;var n=b$();(pn!==e||Sn!==t)&&(Oo=null,Eu(e,t));do try{jY();break}catch(a){w$(e,a)}while(!0);if(HN(),Vt=r,ty.current=n,Kr!==null)throw Error(Fe(261));return pn=null,Sn=0,nn}function jY(){for(;Kr!==null;)_$(Kr)}function kY(){for(;Kr!==null&&!XK();)_$(Kr)}function _$(e){var t=k$(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?S$(e):Kr=t,aE.current=null}function S$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xY(r,t),r!==null){r.flags&=32767,Kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nn=6,Kr=null;return}}else if(r=vY(r,t,Ba),r!==null){Kr=r;return}if(t=t.sibling,t!==null){Kr=t;return}Kr=t=e}while(t!==null);nn===0&&(nn=5)}function qc(e,t,r){var n=Zt,a=_s.transition;try{_s.transition=null,Zt=1,NY(e,t,r,n)}finally{_s.transition=a,Zt=n}return null}function NY(e,t,r,n){do Sf();while(Ql!==null);if(Vt&6)throw Error(Fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(iq(e,s),e===pn&&(Kr=pn=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jv||(jv=!0,N$($x,function(){return Sf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=_s.transition,_s.transition=null;var i=Zt;Zt=1;var l=Vt;Vt|=4,aE.current=null,wY(e,r),v$(r,e),Gq(sj),Ux=!!aj,sj=aj=null,e.current=r,bY(r),QK(),Vt=l,Zt=i,_s.transition=s}else e.current=r;if(jv&&(jv=!1,Ql=e,ny=a),s=e.pendingLanes,s===0&&(cc=null),eq(r.stateNode),Aa(e,Mr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ry)throw ry=!1,e=kj,kj=null,e;return ny&1&&e.tag!==0&&Sf(),s=e.pendingLanes,s&1?e===Nj?wp++:(wp=0,Nj=e):wp=0,Cc(),null}function Sf(){if(Ql!==null){var e=nL(ny),t=_s.transition,r=Zt;try{if(_s.transition=null,Zt=16>e?16:e,Ql===null)var n=!1;else{if(e=Ql,Ql=null,ny=0,Vt&6)throw Error(Fe(331));var a=Vt;for(Vt|=4,Je=e.current;Je!==null;){var s=Je,i=s.child;if(Je.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Je=u;Je!==null;){var d=Je;switch(d.tag){case 0:case 11:case 15:xp(8,d,s)}var f=d.child;if(f!==null)f.return=d,Je=f;else for(;Je!==null;){d=Je;var h=d.sibling,m=d.return;if(m$(d),d===u){Je=null;break}if(h!==null){h.return=m,Je=h;break}Je=m}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Je=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Je=i;else e:for(;Je!==null;){if(s=Je,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xp(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Je=x;break e}Je=s.return}}var b=e.current;for(Je=b;Je!==null;){i=Je;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Je=y;else e:for(i=b;Je!==null;){if(l=Je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:J1(9,l)}}catch(S){Or(l,l.return,S)}if(l===i){Je=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Je=_;break e}Je=l.return}}if(Vt=a,Cc(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(V1,e)}catch{}n=!0}return n}finally{Zt=r,_s.transition=t}}return!1}function WO(e,t,r){t=eh(r,t),t=n$(e,t,1),e=lc(e,t,1),t=ua(),e!==null&&(xg(e,1,t),Aa(e,t))}function Or(e,t,r){if(e.tag===3)WO(e,e,r);else for(;t!==null;){if(t.tag===3){WO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cc===null||!cc.has(n))){e=eh(r,e),e=a$(t,e,1),t=lc(t,e,1),e=ua(),t!==null&&(xg(t,1,e),Aa(t,e));break}}t=t.return}}function EY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ua(),e.pingedLanes|=e.suspendedLanes&r,pn===e&&(Sn&r)===r&&(nn===4||nn===3&&(Sn&130023424)===Sn&&500>Mr()-iE?Eu(e,0):sE|=r),Aa(e,t)}function j$(e,t){t===0&&(e.mode&1?(t=mv,mv<<=1,!(mv&130023424)&&(mv=4194304)):t=1);var r=ua();e=Zo(e,t),e!==null&&(xg(e,t,r),Aa(e,r))}function CY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),j$(e,r)}function TY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Fe(314))}n!==null&&n.delete(t),j$(e,r)}var k$;k$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ca.current)ka=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ka=!1,gY(e,t,r);ka=!!(e.flags&131072)}else ka=!1,_r&&t.flags&1048576&&TL(t,qx,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_x(e,t),e=t.pendingProps;var a=Xf(t,Hn.current);_f(t,r),a=ZN(null,t,n,e,a,r);var s=eE();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(n)?(s=!0,Gx(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qN(t),a.updater=Q1,t.stateNode=a,a._reactInternals=t,mj(t,n,e,r),t=vj(null,t,n,!0,s,r)):(t.tag=0,_r&&s&&UN(t),ea(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_x(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=OY(n),e=ei(n,e),a){case 0:t=gj(null,t,n,e,r);break e;case 1:t=PO(null,t,n,e,r);break e;case 11:t=AO(null,t,n,e,r);break e;case 14:t=OO(null,t,n,ei(n.type,e),r);break e}throw Error(Fe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),gj(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),PO(e,t,n,a,r);case 3:e:{if(l$(t),e===null)throw Error(Fe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,IL(e,t),Qx(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=eh(Error(Fe(423)),t),t=DO(e,t,n,r,a);break e}else if(n!==a){a=eh(Error(Fe(424)),t),t=DO(e,t,n,r,a);break e}else for(Ya=oc(t.stateNode.containerInfo.firstChild),Xa=t,_r=!0,di=null,r=DL(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qf(),n===a){t=el(e,t,r);break e}ea(e,t,n,r)}t=t.child}return t;case 5:return ML(t),e===null&&dj(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,ij(n,a)?i=null:s!==null&&ij(n,s)&&(t.flags|=32),o$(e,t),ea(e,t,i,r),t.child;case 6:return e===null&&dj(t),null;case 13:return c$(e,t,r);case 4:return YN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jf(t,null,n,r):ea(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),AO(e,t,n,a,r);case 7:return ea(e,t,t.pendingProps,r),t.child;case 8:return ea(e,t,t.pendingProps.children,r),t.child;case 12:return ea(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,cr(Yx,n._currentValue),n._currentValue=i,s!==null)if(_i(s.value,i)){if(s.children===a.children&&!Ca.current){t=el(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Vo(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),fj(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(Fe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fj(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}ea(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,_f(t,r),a=Es(a),n=n(a),t.flags|=1,ea(e,t,n,r),t.child;case 14:return n=t.type,a=ei(n,t.pendingProps),a=ei(n.type,a),OO(e,t,n,a,r);case 15:return s$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ei(n,a),_x(e,t),t.tag=1,Ta(n)?(e=!0,Gx(t)):e=!1,_f(t,r),r$(t,n,a),mj(t,n,a,r),vj(null,t,n,!0,e,r);case 19:return u$(e,t,r);case 22:return i$(e,t,r)}throw Error(Fe(156,t.tag))};function N$(e,t){return ZF(e,t)}function AY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(e,t,r,n){return new AY(e,t,r,n)}function uE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function OY(e){if(typeof e=="function")return uE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===TN)return 11;if(e===AN)return 14}return 2}function dc(e,t){var r=e.alternate;return r===null?(r=ws(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kx(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")uE(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jd:return Cu(r.children,a,s,t);case CN:i=8,a|=8;break;case LS:return e=ws(12,r,t,a|2),e.elementType=LS,e.lanes=s,e;case $S:return e=ws(13,r,t,a),e.elementType=$S,e.lanes=s,e;case BS:return e=ws(19,r,t,a),e.elementType=BS,e.lanes=s,e;case MF:return ew(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RF:i=10;break e;case IF:i=9;break e;case TN:i=11;break e;case AN:i=14;break e;case Dl:i=16,n=null;break e}throw Error(Fe(130,e==null?e:typeof e,""))}return t=ws(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Cu(e,t,r,n){return e=ws(7,e,n,t),e.lanes=r,e}function ew(e,t,r,n){return e=ws(22,e,n,t),e.elementType=MF,e.lanes=r,e.stateNode={isHidden:!1},e}function m_(e,t,r){return e=ws(6,e,null,t),e.lanes=r,e}function p_(e,t,r){return t=ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PY(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yb(0),this.expirationTimes=Yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yb(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function dE(e,t,r,n,a,s,i,l,c){return e=new PY(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ws(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qN(s),e}function DY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function E$(e){if(!e)return xc;e=e._reactInternals;e:{if(ld(e)!==e||e.tag!==1)throw Error(Fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Fe(171))}if(e.tag===1){var r=e.type;if(Ta(r))return EL(e,r,t)}return t}function C$(e,t,r,n,a,s,i,l,c){return e=dE(r,n,!0,e,a,s,i,l,c),e.context=E$(null),r=e.current,n=ua(),a=uc(r),s=Vo(n,a),s.callback=t??null,lc(r,s,a),e.current.lanes=a,xg(e,a,n),Aa(e,n),e}function tw(e,t,r,n){var a=t.current,s=ua(),i=uc(a);return r=E$(r),t.context===null?t.context=r:t.pendingContext=r,t=Vo(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=lc(a,t,i),e!==null&&(xi(e,a,i,s),yx(e,a,i)),i}function sy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function fE(e,t){zO(e,t),(e=e.alternate)&&zO(e,t)}function RY(){return null}var T$=typeof reportError=="function"?reportError:function(e){console.error(e)};function hE(e){this._internalRoot=e}rw.prototype.render=hE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Fe(409));tw(e,t,null,null)};rw.prototype.unmount=hE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lu(function(){tw(null,e,null,null)}),t[Jo]=null}};function rw(e){this._internalRoot=e}rw.prototype.unstable_scheduleHydration=function(e){if(e){var t=iL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ml.length&&t!==0&&t<Ml[r].priority;r++);Ml.splice(r,0,e),r===0&&lL(e)}};function mE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VO(){}function IY(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=sy(i);s.call(u)}}var i=C$(t,n,e,0,null,!1,!1,"",VO);return e._reactRootContainer=i,e[Jo]=i.current,e0(e.nodeType===8?e.parentNode:e),Lu(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=sy(c);l.call(u)}}var c=dE(e,0,!1,null,null,!1,!1,"",VO);return e._reactRootContainer=c,e[Jo]=c.current,e0(e.nodeType===8?e.parentNode:e),Lu(function(){tw(t,c,r,n)}),c}function aw(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=sy(i);l.call(c)}}tw(t,i,e,a)}else i=IY(r,t,e,a,n);return sy(i)}aL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tp(t.pendingLanes);r!==0&&(DN(t,r|1),Aa(t,Mr()),!(Vt&6)&&(th=Mr()+500,Cc()))}break;case 13:Lu(function(){var n=Zo(e,1);if(n!==null){var a=ua();xi(n,e,1,a)}}),fE(e,1)}};RN=function(e){if(e.tag===13){var t=Zo(e,134217728);if(t!==null){var r=ua();xi(t,e,134217728,r)}fE(e,134217728)}};sL=function(e){if(e.tag===13){var t=uc(e),r=Zo(e,t);if(r!==null){var n=ua();xi(r,e,t,n)}fE(e,t)}};iL=function(){return Zt};oL=function(e,t){var r=Zt;try{return Zt=e,t()}finally{Zt=r}};XS=function(e,t,r){switch(t){case"input":if(zS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=q1(n);if(!a)throw Error(Fe(90));LF(n),zS(n,a)}}}break;case"textarea":BF(e,r);break;case"select":t=r.value,t!=null&&xf(e,!!r.multiple,t,!1)}};KF=oE;qF=Lu;var MY={usingClientEntryPoint:!1,Events:[wg,rf,q1,HF,GF,oE]},Fm={findFiberByHostInstance:ou,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FY={bundleType:Fm.bundleType,version:Fm.version,rendererPackageName:Fm.rendererPackageName,rendererConfig:Fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QF(e),e===null?null:e.stateNode},findFiberByHostInstance:Fm.findFiberByHostInstance||RY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kv.isDisabled&&kv.supportsFiber)try{V1=kv.inject(FY),Qi=kv}catch{}}ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MY;ns.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mE(t))throw Error(Fe(200));return DY(e,t,null,r)};ns.createRoot=function(e,t){if(!mE(e))throw Error(Fe(299));var r=!1,n="",a=T$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=dE(e,1,!1,null,null,r,!1,n,a),e[Jo]=t.current,e0(e.nodeType===8?e.parentNode:e),new hE(t)};ns.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Fe(188)):(e=Object.keys(e).join(","),Error(Fe(268,e)));return e=QF(t),e=e===null?null:e.stateNode,e};ns.flushSync=function(e){return Lu(e)};ns.hydrate=function(e,t,r){if(!nw(t))throw Error(Fe(200));return aw(null,e,t,!0,r)};ns.hydrateRoot=function(e,t,r){if(!mE(e))throw Error(Fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=T$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=C$(t,null,e,1,r??null,a,!1,s,i),e[Jo]=t.current,e0(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new rw(t)};ns.render=function(e,t,r){if(!nw(t))throw Error(Fe(200));return aw(null,e,t,!1,r)};ns.unmountComponentAtNode=function(e){if(!nw(e))throw Error(Fe(40));return e._reactRootContainer?(Lu(function(){aw(null,null,e,!1,function(){e._reactRootContainer=null,e[Jo]=null})}),!0):!1};ns.unstable_batchedUpdates=oE;ns.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!nw(r))throw Error(Fe(200));if(e==null||e._reactInternals===void 0)throw Error(Fe(38));return aw(e,t,r,!1,n)};ns.version="18.3.1-next-f1338f8080-20240426";function A$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A$)}catch(e){console.error(e)}}A$(),AF.exports=ns;var Yh=AF.exports;const LY=Qt(Yh);var O$,HO=Yh;O$=HO.createRoot,HO.hydrateRoot;var _g=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$u=typeof window>"u"||"Deno"in globalThis;function ba(){}function $Y(e,t){return typeof e=="function"?e(t):e}function Tj(e){return typeof e=="number"&&e>=0&&e!==1/0}function P$(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fc(e,t){return typeof e=="function"?e(t):e}function ps(e,t){return typeof e=="function"?e(t):e}function GO(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==pE(i,t.options))return!1}else if(!u0(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function KO(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(c0(t.options.mutationKey)!==c0(s))return!1}else if(!u0(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function pE(e,t){return((t==null?void 0:t.queryKeyHashFn)||c0)(e)}function c0(e){return JSON.stringify(e,(t,r)=>Oj(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function u0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>u0(e[r],t[r])):!1}function D$(e,t){if(e===t)return e;const r=qO(e)&&qO(t);if(r||Oj(e)&&Oj(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<i;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=D$(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return a===i&&u===a?e:l}return t}function Aj(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Oj(e){if(!YO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!YO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function YO(e){return Object.prototype.toString.call(e)==="[object Object]"}function BY(e){return new Promise(t=>{setTimeout(t,e)})}function Pj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?D$(e,t):t}function UY(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function WY(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var gE=Symbol();function R$(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function zY(e,t){return typeof e=="function"?e(...t):!!e}var xu,Wl,Ff,lF,VY=(lF=class extends _g{constructor(){super();vt(this,xu);vt(this,Wl);vt(this,Ff);et(this,Ff,t=>{if(!$u&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){se(this,Wl)||this.setEventListener(se(this,Ff))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,Wl))==null||t.call(this),et(this,Wl,void 0))}setEventListener(t){var r;et(this,Ff,t),(r=se(this,Wl))==null||r.call(this),et(this,Wl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){se(this,xu)!==t&&(et(this,xu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof se(this,xu)=="boolean"?se(this,xu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xu=new WeakMap,Wl=new WeakMap,Ff=new WeakMap,lF),vE=new VY,Lf,zl,$f,cF,HY=(cF=class extends _g{constructor(){super();vt(this,Lf,!0);vt(this,zl);vt(this,$f);et(this,$f,t=>{if(!$u&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){se(this,zl)||this.setEventListener(se(this,$f))}onUnsubscribe(){var t;this.hasListeners()||((t=se(this,zl))==null||t.call(this),et(this,zl,void 0))}setEventListener(t){var r;et(this,$f,t),(r=se(this,zl))==null||r.call(this),et(this,zl,t(this.setOnline.bind(this)))}setOnline(t){se(this,Lf)!==t&&(et(this,Lf,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return se(this,Lf)}},Lf=new WeakMap,zl=new WeakMap,$f=new WeakMap,cF),iy=new HY;function Dj(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function GY(e){return Math.min(1e3*2**e,3e4)}function I$(e){return(e??"online")==="online"?iy.isOnline():!0}var M$=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function g_(e){return e instanceof M$}function F$(e){let t=!1,r=0,n=!1,a;const s=Dj(),i=p=>{var v;n||(h(new M$(p)),(v=e.abort)==null||v.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>vE.isFocused()&&(e.networkMode==="always"||iy.isOnline())&&e.canRun(),d=()=>I$(e.networkMode)&&e.canRun(),f=p=>{var v;n||(n=!0,(v=e.onSuccess)==null||v.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=e.onError)==null||v.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var v;a=x=>{(n||u())&&p(x)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var k;if(n)return;const b=e.retry??($u?0:3),y=e.retryDelay??GY,_=typeof y=="function"?y(r,x):y,S=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,x);if(t||!S){h(x);return}r++,(k=e.onFail)==null||k.call(e,r,x),BY(_).then(()=>u()?void 0:m()).then(()=>{t?h(x):g()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var KY=e=>setTimeout(e,0);function qY(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=KY;const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var _n=qY(),yu,uF,L$=(uF=class{constructor(){vt(this,yu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tj(this.gcTime)&&et(this,yu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($u?1/0:5*60*1e3))}clearGcTimeout(){se(this,yu)&&(clearTimeout(se(this,yu)),et(this,yu,void 0))}},yu=new WeakMap,uF),Bf,wu,ms,bu,Dn,hg,_u,ri,_o,dF,YY=(dF=class extends L${constructor(t){super();vt(this,ri);vt(this,Bf);vt(this,wu);vt(this,ms);vt(this,bu);vt(this,Dn);vt(this,hg);vt(this,_u);et(this,_u,!1),et(this,hg,t.defaultOptions),this.setOptions(t.options),this.observers=[],et(this,bu,t.client),et(this,ms,se(this,bu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,et(this,Bf,XY(this.options)),this.state=t.state??se(this,Bf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=se(this,Dn))==null?void 0:t.promise}setOptions(t){this.options={...se(this,hg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&se(this,ms).remove(this)}setData(t,r){const n=Pj(this.state.data,t,this.options);return Lt(this,ri,_o).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Lt(this,ri,_o).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=se(this,Dn))==null?void 0:n.promise;return(a=se(this,Dn))==null||a.cancel(t),r?r.then(ba).catch(ba):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(se(this,Bf))}isActive(){return this.observers.some(t=>ps(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fc(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!P$(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,Dn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=se(this,Dn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),se(this,ms).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(se(this,Dn)&&(se(this,_u)?se(this,Dn).cancel({revert:!0}):se(this,Dn).cancelRetry()),this.scheduleGc()),se(this,ms).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,ri,_o).call(this,{type:"invalidate"})}fetch(t,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(se(this,Dn))return se(this,Dn).continueRetry(),se(this,Dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(et(this,_u,!0),n.signal)})},s=()=>{const h=R$(this.options,r),g=(()=>{const p={client:se(this,bu),queryKey:this.queryKey,meta:this.meta};return a(p),p})();return et(this,_u,!1),this.options.persister?this.options.persister(h,g,this):h(g)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:se(this,bu),state:this.state,fetchFn:s};return a(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),et(this,wu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Lt(this,ri,_o).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,g,p,v;g_(h)&&h.silent||Lt(this,ri,_o).call(this,{type:"error",error:h}),g_(h)||((g=(m=se(this,ms).config).onError)==null||g.call(m,h,this),(v=(p=se(this,ms).config).onSettled)==null||v.call(p,this.state.data,h,this)),this.scheduleGc()};return et(this,Dn,F$({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var m,g,p,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){c(x);return}(g=(m=se(this,ms).config).onSuccess)==null||g.call(m,h,this),(v=(p=se(this,ms).config).onSettled)==null||v.call(p,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{Lt(this,ri,_o).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{Lt(this,ri,_o).call(this,{type:"pause"})},onContinue:()=>{Lt(this,ri,_o).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),se(this,Dn).start()}},Bf=new WeakMap,wu=new WeakMap,ms=new WeakMap,bu=new WeakMap,Dn=new WeakMap,hg=new WeakMap,_u=new WeakMap,ri=new WeakSet,_o=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$$(n.data,this.options),fetchMeta:t.meta??null};case"success":return et(this,wu,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return g_(a)&&a.revert&&se(this,wu)?{...se(this,wu),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),se(this,ms).notify({query:this,type:"updated",action:t})})},dF);function $$(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I$(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XY(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bi,fF,QY=(fF=class extends _g{constructor(t={}){super();vt(this,Bi);this.config=t,et(this,Bi,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??pE(a,r);let i=this.get(s);return i||(i=new YY({client:t,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){se(this,Bi).has(t.queryHash)||(se(this,Bi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=se(this,Bi).get(t.queryHash);r&&(t.destroy(),r===t&&se(this,Bi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_n.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return se(this,Bi).get(t)}getAll(){return[...se(this,Bi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>GO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>GO(t,n)):r}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bi=new WeakMap,fF),Ui,Jn,Su,Wi,Ol,hF,JY=(hF=class extends L${constructor(t){super();vt(this,Wi);vt(this,Ui);vt(this,Jn);vt(this,Su);this.mutationId=t.mutationId,et(this,Jn,t.mutationCache),et(this,Ui,[]),this.state=t.state||ZY(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){se(this,Ui).includes(t)||(se(this,Ui).push(t),this.clearGcTimeout(),se(this,Jn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){et(this,Ui,se(this,Ui).filter(r=>r!==t)),this.scheduleGc(),se(this,Jn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){se(this,Ui).length||(this.state.status==="pending"?this.scheduleGc():se(this,Jn).remove(this))}continue(){var t;return((t=se(this,Su))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,l,c,u,d,f,h,m,g,p,v,x,b,y,_,S,k,j,E;const r=()=>{Lt(this,Wi,Ol).call(this,{type:"continue"})};et(this,Su,F$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,A)=>{Lt(this,Wi,Ol).call(this,{type:"failed",failureCount:N,error:A})},onPause:()=>{Lt(this,Wi,Ol).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>se(this,Jn).canRun(this)}));const n=this.state.status==="pending",a=!se(this,Su).canStart();try{if(n)r();else{Lt(this,Wi,Ol).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=se(this,Jn).config).onMutate)==null?void 0:i.call(s,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&Lt(this,Wi,Ol).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const N=await se(this,Su).start();return await((d=(u=se(this,Jn).config).onSuccess)==null?void 0:d.call(u,N,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,N,t,this.state.context)),await((g=(m=se(this,Jn).config).onSettled)==null?void 0:g.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(p=this.options).onSettled)==null?void 0:v.call(p,N,null,t,this.state.context)),Lt(this,Wi,Ol).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(x=se(this,Jn).config).onError)==null?void 0:b.call(x,N,t,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,N,t,this.state.context)),await((k=(S=se(this,Jn).config).onSettled)==null?void 0:k.call(S,void 0,N,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,N,t,this.state.context)),N}finally{Lt(this,Wi,Ol).call(this,{type:"error",error:N})}}finally{se(this,Jn).runNext(this)}}},Ui=new WeakMap,Jn=new WeakMap,Su=new WeakMap,Wi=new WeakSet,Ol=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{se(this,Ui).forEach(n=>{n.onMutationUpdate(t)}),se(this,Jn).notify({mutation:this,type:"updated",action:t})})},hF);function ZY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mo,ni,mg,mF,eX=(mF=class extends _g{constructor(t={}){super();vt(this,Mo);vt(this,ni);vt(this,mg);this.config=t,et(this,Mo,new Set),et(this,ni,new Map),et(this,mg,0)}build(t,r,n){const a=new JY({mutationCache:this,mutationId:++ov(this,mg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){se(this,Mo).add(t);const r=Nv(t);if(typeof r=="string"){const n=se(this,ni).get(r);n?n.push(t):se(this,ni).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(se(this,Mo).delete(t)){const r=Nv(t);if(typeof r=="string"){const n=se(this,ni).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&se(this,ni).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Nv(t);if(typeof r=="string"){const n=se(this,ni).get(r),a=n==null?void 0:n.find(s=>s.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Nv(t);if(typeof r=="string"){const a=(n=se(this,ni).get(r))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{se(this,Mo).forEach(t=>{this.notify({type:"removed",mutation:t})}),se(this,Mo).clear(),se(this,ni).clear()})}getAll(){return Array.from(se(this,Mo))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>KO(r,n))}findAll(t={}){return this.getAll().filter(r=>KO(t,r))}notify(t){_n.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return _n.batch(()=>Promise.all(t.map(r=>r.continue().catch(ba))))}},Mo=new WeakMap,ni=new WeakMap,mg=new WeakMap,mF);function Nv(e){var t;return(t=e.options.scope)==null?void 0:t.id}function XO(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=R$(t.options,t.fetchOptions),b=async(y,_,S)=>{if(p)return Promise.reject();if(_==null&&y.pages.length)return Promise.resolve(y);const j=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(O),O})(),E=await x(j),{maxPages:N}=t.options,A=S?WY:UY;return{pages:A(y.pages,E,N),pageParams:A(y.pageParams,_,N)}};if(a&&s.length){const y=a==="backward",_=y?tX:QO,S={pages:s,pageParams:i},k=_(n,S);l=await b(S,k,y)}else{const y=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:QO(n,l);if(c>0&&_==null)break;l=await b(l,_),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function QO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tX(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ar,Vl,Hl,Uf,Wf,Gl,zf,Vf,pF,rX=(pF=class{constructor(e={}){vt(this,Ar);vt(this,Vl);vt(this,Hl);vt(this,Uf);vt(this,Wf);vt(this,Gl);vt(this,zf);vt(this,Vf);et(this,Ar,e.queryCache||new QY),et(this,Vl,e.mutationCache||new eX),et(this,Hl,e.defaultOptions||{}),et(this,Uf,new Map),et(this,Wf,new Map),et(this,Gl,0)}mount(){ov(this,Gl)._++,se(this,Gl)===1&&(et(this,zf,vE.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ar).onFocus())})),et(this,Vf,iy.subscribe(async e=>{e&&(await this.resumePausedMutations(),se(this,Ar).onOnline())})))}unmount(){var e,t;ov(this,Gl)._--,se(this,Gl)===0&&((e=se(this,zf))==null||e.call(this),et(this,zf,void 0),(t=se(this,Vf))==null||t.call(this),et(this,Vf,void 0))}isFetching(e){return se(this,Ar).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return se(this,Vl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ar).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=se(this,Ar).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(fc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return se(this,Ar).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=se(this,Ar).get(n.queryHash),s=a==null?void 0:a.state.data,i=$Y(t,s);if(i!==void 0)return se(this,Ar).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return _n.batch(()=>se(this,Ar).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=se(this,Ar).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=se(this,Ar);_n.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=se(this,Ar);return _n.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=_n.batch(()=>se(this,Ar).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ba).catch(ba)}invalidateQueries(e,t={}){return _n.batch(()=>(se(this,Ar).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=_n.batch(()=>se(this,Ar).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ba)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ba)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=se(this,Ar).build(this,t);return r.isStaleByTime(fc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ba).catch(ba)}fetchInfiniteQuery(e){return e.behavior=XO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ba).catch(ba)}ensureInfiniteQueryData(e){return e.behavior=XO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return iy.isOnline()?se(this,Vl).resumePausedMutations():Promise.resolve()}getQueryCache(){return se(this,Ar)}getMutationCache(){return se(this,Vl)}getDefaultOptions(){return se(this,Hl)}setDefaultOptions(e){et(this,Hl,e)}setQueryDefaults(e,t){se(this,Uf).set(c0(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...se(this,Uf).values()],r={};return t.forEach(n=>{u0(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){se(this,Wf).set(c0(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...se(this,Wf).values()],r={};return t.forEach(n=>{u0(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...se(this,Hl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...se(this,Hl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){se(this,Ar).clear(),se(this,Vl).clear()}},Ar=new WeakMap,Vl=new WeakMap,Hl=new WeakMap,Uf=new WeakMap,Wf=new WeakMap,Gl=new WeakMap,zf=new WeakMap,Vf=new WeakMap,pF),ya,$t,pg,Zn,ju,Hf,Kl,ql,gg,Gf,Kf,ku,Nu,Yl,qf,Xt,np,Rj,Ij,Mj,Fj,Lj,$j,Bj,B$,gF,nX=(gF=class extends _g{constructor(t,r){super();vt(this,Xt);vt(this,ya);vt(this,$t);vt(this,pg);vt(this,Zn);vt(this,ju);vt(this,Hf);vt(this,Kl);vt(this,ql);vt(this,gg);vt(this,Gf);vt(this,Kf);vt(this,ku);vt(this,Nu);vt(this,Yl);vt(this,qf,new Set);this.options=r,et(this,ya,t),et(this,ql,null),et(this,Kl,Dj()),this.options.experimental_prefetchInRender||se(this,Kl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(se(this,$t).addObserver(this),JO(se(this,$t),this.options)?Lt(this,Xt,np).call(this):this.updateResult(),Lt(this,Xt,Fj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uj(se(this,$t),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uj(se(this,$t),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Lt(this,Xt,Lj).call(this),Lt(this,Xt,$j).call(this),se(this,$t).removeObserver(this)}setOptions(t){const r=this.options,n=se(this,$t);if(this.options=se(this,ya).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ps(this.options.enabled,se(this,$t))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Lt(this,Xt,Bj).call(this),se(this,$t).setOptions(this.options),r._defaulted&&!Aj(this.options,r)&&se(this,ya).getQueryCache().notify({type:"observerOptionsUpdated",query:se(this,$t),observer:this});const a=this.hasListeners();a&&ZO(se(this,$t),n,this.options,r)&&Lt(this,Xt,np).call(this),this.updateResult(),a&&(se(this,$t)!==n||ps(this.options.enabled,se(this,$t))!==ps(r.enabled,se(this,$t))||fc(this.options.staleTime,se(this,$t))!==fc(r.staleTime,se(this,$t)))&&Lt(this,Xt,Rj).call(this);const s=Lt(this,Xt,Ij).call(this);a&&(se(this,$t)!==n||ps(this.options.enabled,se(this,$t))!==ps(r.enabled,se(this,$t))||s!==se(this,Yl))&&Lt(this,Xt,Mj).call(this,s)}getOptimisticResult(t){const r=se(this,ya).getQueryCache().build(se(this,ya),t),n=this.createResult(r,t);return sX(this,n)&&(et(this,Zn,n),et(this,Hf,this.options),et(this,ju,se(this,$t).state)),n}getCurrentResult(){return se(this,Zn)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){se(this,qf).add(t)}getCurrentQuery(){return se(this,$t)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=se(this,ya).defaultQueryOptions(t),n=se(this,ya).getQueryCache().build(se(this,ya),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Lt(this,Xt,np).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),se(this,Zn)))}createResult(t,r){var N;const n=se(this,$t),a=this.options,s=se(this,Zn),i=se(this,ju),l=se(this,Hf),u=t!==n?t.state:se(this,pg),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),O=!A&&JO(t,r),P=A&&ZO(t,n,r,a);(O||P)&&(f={...f,...$$(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:v}=f;m=f.data;let x=!1;if(r.placeholderData!==void 0&&m===void 0&&v==="pending"){let A;s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=s.data,x=!0):A=typeof r.placeholderData=="function"?r.placeholderData((N=se(this,Kf))==null?void 0:N.state.data,se(this,Kf)):r.placeholderData,A!==void 0&&(v="success",m=Pj(s==null?void 0:s.data,A,r),h=!0)}if(r.select&&m!==void 0&&!x)if(s&&m===(i==null?void 0:i.data)&&r.select===se(this,gg))m=se(this,Gf);else try{et(this,gg,r.select),m=r.select(m),m=Pj(s==null?void 0:s.data,m,r),et(this,Gf,m),et(this,ql,null)}catch(A){et(this,ql,A)}se(this,ql)&&(g=se(this,ql),m=se(this,Gf),p=Date.now(),v="error");const b=f.fetchStatus==="fetching",y=v==="pending",_=v==="error",S=y&&b,k=m!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:y,isSuccess:v==="success",isError:_,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:_&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&k,isStale:xE(t,r),refetch:this.refetch,promise:se(this,Kl),isEnabled:ps(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=U=>{E.status==="error"?U.reject(E.error):E.data!==void 0&&U.resolve(E.data)},O=()=>{const U=et(this,Kl,E.promise=Dj());A(U)},P=se(this,Kl);switch(P.status){case"pending":t.queryHash===n.queryHash&&A(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&O();break}}return E}updateResult(){const t=se(this,Zn),r=this.createResult(se(this,$t),this.options);if(et(this,ju,se(this,$t).state),et(this,Hf,this.options),se(this,ju).data!==void 0&&et(this,Kf,se(this,$t)),Aj(r,t))return;et(this,Zn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,s=typeof a=="function"?a():a;if(s==="all"||!s&&!se(this,qf).size)return!0;const i=new Set(s??se(this,qf));return this.options.throwOnError&&i.add("error"),Object.keys(se(this,Zn)).some(l=>{const c=l;return se(this,Zn)[c]!==t[c]&&i.has(c)})};Lt(this,Xt,B$).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Lt(this,Xt,Fj).call(this)}},ya=new WeakMap,$t=new WeakMap,pg=new WeakMap,Zn=new WeakMap,ju=new WeakMap,Hf=new WeakMap,Kl=new WeakMap,ql=new WeakMap,gg=new WeakMap,Gf=new WeakMap,Kf=new WeakMap,ku=new WeakMap,Nu=new WeakMap,Yl=new WeakMap,qf=new WeakMap,Xt=new WeakSet,np=function(t){Lt(this,Xt,Bj).call(this);let r=se(this,$t).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ba)),r},Rj=function(){Lt(this,Xt,Lj).call(this);const t=fc(this.options.staleTime,se(this,$t));if($u||se(this,Zn).isStale||!Tj(t))return;const n=P$(se(this,Zn).dataUpdatedAt,t)+1;et(this,ku,setTimeout(()=>{se(this,Zn).isStale||this.updateResult()},n))},Ij=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(se(this,$t)):this.options.refetchInterval)??!1},Mj=function(t){Lt(this,Xt,$j).call(this),et(this,Yl,t),!($u||ps(this.options.enabled,se(this,$t))===!1||!Tj(se(this,Yl))||se(this,Yl)===0)&&et(this,Nu,setInterval(()=>{(this.options.refetchIntervalInBackground||vE.isFocused())&&Lt(this,Xt,np).call(this)},se(this,Yl)))},Fj=function(){Lt(this,Xt,Rj).call(this),Lt(this,Xt,Mj).call(this,Lt(this,Xt,Ij).call(this))},Lj=function(){se(this,ku)&&(clearTimeout(se(this,ku)),et(this,ku,void 0))},$j=function(){se(this,Nu)&&(clearInterval(se(this,Nu)),et(this,Nu,void 0))},Bj=function(){const t=se(this,ya).getQueryCache().build(se(this,ya),this.options);if(t===se(this,$t))return;const r=se(this,$t);et(this,$t,t),et(this,pg,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},B$=function(t){_n.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(se(this,Zn))}),se(this,ya).getQueryCache().notify({query:se(this,$t),type:"observerResultsUpdated"})})},gF);function aX(e,t){return ps(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function JO(e,t){return aX(e,t)||e.state.data!==void 0&&Uj(e,t,t.refetchOnMount)}function Uj(e,t,r){if(ps(t.enabled,e)!==!1&&fc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&xE(e,t)}return!1}function ZO(e,t,r,n){return(e!==t||ps(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&xE(e,r)}function xE(e,t){return ps(t.enabled,e)!==!1&&e.isStaleByTime(fc(t.staleTime,e))}function sX(e,t){return!Aj(e.getCurrentResult(),t)}var U$=w.createContext(void 0),iX=e=>{const t=w.useContext(U$);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},oX=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(U$.Provider,{value:e,children:t})),W$=w.createContext(!1),lX=()=>w.useContext(W$);W$.Provider;function cX(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uX=w.createContext(cX()),dX=()=>w.useContext(uX),fX=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hX=e=>{w.useEffect(()=>{e.clearReset()},[e])},mX=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||zY(r,[e.error,n])),pX=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gX=(e,t)=>e.isLoading&&e.isFetching&&!t,vX=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,eP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function xX(e,t,r){var f,h,m,g,p;const n=lX(),a=dX(),s=iX(),i=s.defaultQueryOptions(e);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,i),i._optimisticResults=n?"isRestoring":"optimistic",pX(i),fX(i,a),hX(a);const l=!s.getQueryCache().get(i.queryHash),[c]=w.useState(()=>new t(s,i)),u=c.getOptimisticResult(i),d=!n&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(v=>{const x=d?c.subscribe(_n.batchCalls(v)):ba;return c.updateResult(),x},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(i)},[i,c]),vX(i,u))throw eP(i,c,a);if(mX({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:s.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,i,u),i.experimental_prefetchInRender&&!$u&&gX(u,n)){const v=l?eP(i,c,a):(p=s.getQueryCache().get(i.queryHash))==null?void 0:p.promise;v==null||v.catch(ba).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function sw(e,t){return xX(e,nX)}const jt=e=>typeof e=="string",Lm=()=>{let e,t;const r=new Promise((n,a)=>{e=n,t=a});return r.resolve=e,r.reject=t,r},tP=e=>e==null?"":""+e,yX=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},wX=/###/g,rP=e=>e&&e.indexOf("###")>-1?e.replace(wX,"."):e,nP=e=>!e||jt(e),bp=(e,t,r)=>{const n=jt(t)?t.split("."):t;let a=0;for(;a<n.length-1;){if(nP(e))return{};const s=rP(n[a]);!e[s]&&r&&(e[s]=new r),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++a}return nP(e)?{}:{obj:e,k:rP(n[a])}},aP=(e,t,r)=>{const{obj:n,k:a}=bp(e,t,Object);if(n!==void 0||t.length===1){n[a]=r;return}let s=t[t.length-1],i=t.slice(0,t.length-1),l=bp(e,i,Object);for(;l.obj===void 0&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),l=bp(e,i,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},bX=(e,t,r,n)=>{const{obj:a,k:s}=bp(e,t,Object);a[s]=a[s]||[],a[s].push(r)},oy=(e,t)=>{const{obj:r,k:n}=bp(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},_X=(e,t,r)=>{const n=oy(e,r);return n!==void 0?n:oy(t,r)},z$=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?jt(e[n])||e[n]instanceof String||jt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):z$(e[n],t[n],r):e[n]=t[n]);return e},Ed=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jX=e=>jt(e)?e.replace(/[&<>"'\/]/g,t=>SX[t]):e;class kX{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const NX=[" ",",","?","!",";"],EX=new kX(20),CX=(e,t,r)=>{t=t||"",r=r||"";const n=NX.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const a=EX.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let s=!a.test(e);if(!s){const i=e.indexOf(r);i>0&&!a.test(e.substring(0,i))&&(s=!0)}return s},Wj=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const n=t.split(r);let a=e;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let i,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],i=a[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=i}return a},d0=e=>e==null?void 0:e.replace("_","-"),TX={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;(n=(r=console==null?void 0:console[e])==null?void 0:r.apply)==null||n.call(r,console,t)}};class ly{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||TX,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,a){return a&&!this.debug?null:(jt(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new ly(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ly(this.logger,t)}}var Ki=new ly;let iw=class{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,s])=>{for(let i=0;i<s;i++)a.apply(a,[t,...r])})}};class sP extends iw{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n,a={}){var u,d;const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,i=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):jt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=oy(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!jt(n)?c:Wj((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[r],n,s)}addResource(t,r,n,a,s={silent:!1}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),a=r,r=l[1]),this.addNamespaces(r),aP(this.data,l,a),s.silent||this.emit("added",t,r,n,a)}addResources(t,r,n,a={silent:!1}){for(const s in n)(jt(n[s])||Array.isArray(n[s]))&&this.addResource(t,r,s,n[s],{silent:!0});a.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,a,s,i={silent:!1,skipCopy:!1}){let l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),a=n,n=r,r=l[1]),this.addNamespaces(r);let c=oy(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?z$(c,n,s):c={...c,...n},aP(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var V$={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,a){return e.forEach(s=>{var i;t=((i=this.processors[s])==null?void 0:i.process(t,r,n,a))??t}),t}};const H$=Symbol("i18next/PATH_KEY");function AX(){const e=[],t=Object.create(null);let r;return t.get=(n,a)=>{var s;return(s=r==null?void 0:r.revoke)==null||s.call(r),a===H$?e:(e.push(a),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}function zj(e,t){const{[H$]:r}=e(AX());return r.join((t==null?void 0:t.keySeparator)??".")}const iP={},v_=e=>!jt(e)&&typeof e!="boolean"&&typeof e!="number";class cy extends iw{constructor(t,r={}){super(),yX(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ki.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const n={...r};if(t==null)return!1;const a=this.resolve(t,n);if((a==null?void 0:a.res)===void 0)return!1;const s=v_(a.res);return!(n.returnObjects===!1&&s)}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!CX(t,n,a);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:jt(s)?[s]:s};const u=t.split(n);(n!==a||n===a&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(a)}return{key:t,namespaces:jt(s)?[s]:s}}translate(t,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=zj(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const s=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),u=c[c.length-1];let d=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=a.lng||this.language,h=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(a)}:l;const m=this.resolve(t,a);let g=m==null?void 0:m.res;const p=(m==null?void 0:m.usedKey)||l,v=(m==null?void 0:m.exactUsedKey)||l,x=["[object Number]","[object Function]","[object RegExp]"],b=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,_=a.count!==void 0&&!jt(a.count),S=cy.hasDefaultValue(a),k=_?this.pluralResolver.getSuffix(f,a.count,a):"",j=a.ordinal&&_?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",E=_&&!a.ordinal&&a.count===0,N=E&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${j}`]||a.defaultValue;let A=g;y&&!g&&S&&(A=N);const O=v_(A),P=Object.prototype.toString.apply(A);if(y&&A&&O&&x.indexOf(P)<0&&!(jt(b)&&Array.isArray(A))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,A,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(m.res=U,m.usedParams=this.getUsedParamsDetails(a),m):U}if(i){const U=Array.isArray(A),z=U?[]:{},W=U?v:p;for(const I in A)if(Object.prototype.hasOwnProperty.call(A,I)){const R=`${W}${i}${I}`;S&&!g?z[I]=this.translate(R,{...a,defaultValue:v_(N)?N[I]:void 0,joinArrays:!1,ns:c}):z[I]=this.translate(R,{...a,joinArrays:!1,ns:c}),z[I]===R&&(z[I]=A[I])}g=z}}else if(y&&jt(b)&&Array.isArray(g))g=g.join(b),g&&(g=this.extendTranslation(g,t,a,n));else{let U=!1,z=!1;!this.isValidLookup(g)&&S&&(U=!0,g=N),this.isValidLookup(g)||(z=!0,g=l);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:g,R=S&&N!==g&&this.options.updateMissing;if(z||U||R){if(this.logger.log(R?"updateKey":"missingKey",f,u,l,R?N:g),i){const J=this.resolve(l,{...a,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let J=0;J<D.length;J++)F.push(D[J]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(a.lng||this.language):F.push(a.lng||this.language);const V=(J,T,G)=>{var B;const M=S&&G!==g?G:I;this.options.missingKeyHandler?this.options.missingKeyHandler(J,u,T,M,R,a):(B=this.backendConnector)!=null&&B.saveMissing&&this.backendConnector.saveMissing(J,u,T,M,R,a),this.emit("missingKey",J,u,T,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach(J=>{const T=this.pluralResolver.getSuffixes(J,a);E&&a[`defaultValue${this.options.pluralSeparator}zero`]&&T.indexOf(`${this.options.pluralSeparator}zero`)<0&&T.push(`${this.options.pluralSeparator}zero`),T.forEach(G=>{V([J],l+G,a[`defaultValue${G}`]||N)})}):V(F,l,N))}g=this.extendTranslation(g,t,a,m,n),z&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(z||U)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,U?g:void 0,a))}return s?(m.res=g,m.usedParams=this.getUsedParamsDetails(a),m):g}extendTranslation(t,r,n,a,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=jt(t)&&(((u=n==null?void 0:n.interpolation)==null?void 0:u.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(d){const m=t.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=n.replace&&!jt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),t=this.interpolator.interpolate(t,h,n.lng||this.language||a.usedLng,n),d){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,(...m)=>(s==null?void 0:s[0])===m[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${r[0]}`),null):this.translate(...m,r),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,l=jt(i)?[i]:i;return t!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(t=V$.handle(l,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t,r={}){let n,a,s,i,l;return jt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;a=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!jt(r.count),m=h&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(jt(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(v=>{var x,b;this.isValidLookup(n)||(l=v,!iP[`${p[0]}-${v}`]&&((x=this.utils)!=null&&x.hasLoadedNamespace)&&!((b=this.utils)!=null&&b.hasLoadedNamespace(l))&&(iP[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${a}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(y=>{var k;if(this.isValidLookup(n))return;i=y;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,y,v,r);else{let j;h&&(j=this.pluralResolver.getSuffix(y,r.count,r));const E=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(r.ordinal&&j.indexOf(N)===0&&_.push(d+j.replace(N,this.options.pluralSeparator)),_.push(d+j),m&&_.push(d+E)),g){const A=`${d}${this.options.contextSeparator||"_"}${r.context}`;_.push(A),h&&(r.ordinal&&j.indexOf(N)===0&&_.push(A+j.replace(N,this.options.pluralSeparator)),_.push(A+j),m&&_.push(A+E))}}let S;for(;S=_.pop();)this.isValidLookup(n)||(s=S,n=this.getResource(y,v,S,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n,a={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,r,n,a):this.resourceStore.getResource(t,r,n,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!jt(t.replace);let a=n?t.replace:t;if(n&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}class oP{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ki.create("languageUtils")}getScriptPartFromCode(t){if(t=d0(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=d0(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(jt(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(i=>{if(i===s)return i;if(!(i.indexOf("-")<0&&s.indexOf("-")<0)&&(i.indexOf("-")>0&&s.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===s||i.indexOf(s)===0&&s.length>1))return i})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),jt(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],s=i=>{i&&(this.isSupportedCode(i)?a.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return jt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):jt(t)&&s(this.formatLanguageCode(t)),n.forEach(i=>{a.indexOf(i)<0&&s(this.formatLanguageCode(i))}),a}}const lP={zero:0,one:1,two:2,few:3,many:4,other:5},cP={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class OX{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=Ki.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const n=d0(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),cP;if(!t.match(/-|_/))return cP;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[s]=i,i}needsPlural(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,r,n={}){return this.getSuffixes(t,n).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let n=this.getRule(t,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>lP[a]-lP[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,n={}){const a=this.getRule(t,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,n))}}const uP=(e,t,r,n=".",a=!0)=>{let s=_X(e,t,r);return!s&&a&&jt(r)&&(s=Wj(e,r,n),s===void 0&&(s=Wj(t,r,n))),s},x_=e=>e.replace(/\$/g,"$$$$");class PX{constructor(t={}){var r;this.logger=Ki.create("interpolator"),this.options=t,this.format=((r=t==null?void 0:t.interpolation)==null?void 0:r.format)||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:x,alwaysFormat:b}=t.interpolation;this.escape=r!==void 0?r:jX,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Ed(s):i||"{{",this.suffix=l?Ed(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?Ed(h):m||Ed("$t("),this.nestingSuffix=g?Ed(g):p||Ed(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=x||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,n,a){var m;let s,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const b=uP(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:g}):b}const p=g.split(this.formatSeparator),v=p.shift().trim(),x=p.join(this.formatSeparator).trim();return this.format(uP(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),x,n,{...a,...r,interpolationkey:v})};this.resetRegExp();const d=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((m=a==null?void 0:a.interpolation)==null?void 0:m.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>x_(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?x_(this.escape(g)):x_(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const p=s[1].trim();if(i=u(p),i===void 0)if(typeof d=="function"){const x=d(t,s,a);i=jt(x)?x:""}else if(a&&Object.prototype.hasOwnProperty.call(a,p))i="";else if(f){i=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${t}`),i="";else!jt(i)&&!this.useRawValueToEscape&&(i=tP(i));const v=g.safeValue(i);if(t=t.replace(s[0],v),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r,n={}){let a,s,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const m=h.match(/'/g),g=h.match(/"/g);(((m==null?void 0:m.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!jt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const u=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(u!==-1&&(c=a[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),a[1]=a[1].slice(0,u)),s=r(l.call(this,a[1].trim(),i),i),s&&a[0]===t&&!jt(s))return s;jt(s)||(s=tP(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),t=t.replace(a[0],s),this.regexp.lastIndex=0}return t}}const DX=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},dP=e=>{const t={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const i=n+JSON.stringify(s);let l=t[i];return l||(l=e(d0(n),a),t[i]=l),l(r)}},RX=e=>(t,r,n)=>e(d0(r),n)(t);class IX{constructor(t={}){this.logger=Ki.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?dP:RX;this.formats={number:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s});return l=>i.format(l)}),currency:n((a,s)=>{const i=new Intl.NumberFormat(a,{...s,style:"currency"});return l=>i.format(l)}),datetime:n((a,s)=>{const i=new Intl.DateTimeFormat(a,{...s});return l=>i.format(l)}),relativetime:n((a,s)=>{const i=new Intl.RelativeTimeFormat(a,{...s});return l=>i.format(l,s.range||"day")}),list:n((a,s)=>{const i=new Intl.ListFormat(a,{...s});return l=>i.format(l)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=dP(r)}format(t,r,n,a={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var f;const{formatName:u,formatOptions:d}=DX(c);if(this.formats[u]){let h=l;try{const m=((f=a==null?void 0:a.formatParams)==null?void 0:f[a.interpolationkey])||{},g=m.locale||m.lng||a.locale||a.lng||n;h=this.formats[u](l,g,{...d,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const MX=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class FX extends iw{constructor(t,r,n,a={}){var s,i;super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Ki.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(i=(s=this.backend)==null?void 0:s.init)==null||i.call(s,n,a.backend,a)}queueLoad(t,r,n,a){const s={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const a=t.split("|"),s=a[0],i=a[1];r&&this.emit("failedLoading",s,i,r),!r&&n&&this.store.addResourceBundle(s,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{bX(c.loaded,[s],i),MX(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n,a=0,s=this.retryTimeout,i){if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:a,wait:s,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,a+1,s*2,i)},s);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();jt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),jt(r)&&(r=[r]);const s=this.queueLoad(t,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t,r=""){const n=t.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,a,s,i={},l=()=>{}){var c,u,d,f,h;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((f=(d=this.services)==null?void 0:d.utils)!=null&&f.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((h=this.backend)!=null&&h.create){const m={...i,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(t,r,n,a,m):p=g(t,r,n,a),p&&typeof p.then=="function"?p.then(v=>l(null,v)).catch(l):l(null,p)}catch(p){l(p)}else g(t,r,n,a,l,m)}!t||!t[0]||this.store.addResource(t[0],r,n,a)}}}const fP=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),jt(e[1])&&(t.defaultValue=e[1]),jt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),hP=e=>{var t,r;return jt(e.ns)&&(e.ns=[e.ns]),jt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),jt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((r=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ev=()=>{},LX=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class _p extends iw{constructor(t={},r){if(super(),this.options=hP(t),this.services={},this.logger=Ki,this.modules={external:[]},LX(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(jt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=fP();this.options={...n,...this.options,...hP(t)},this.options.interpolation={...n.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?Ki.init(a(this.modules.logger),this.options):Ki.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=IX;const d=new oP(this.options);this.store=new sP(this.options.resources,this.options);const f=this.services;f.logger=Ki,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new OX(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new PX(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new FX(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new cy(this.services,this.options),this.translator.on("*",(m,...g)=>{this.emit(m,...g)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ev),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Lm(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,r=Ev){var s,i;let n=r;const a=jt(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&l.indexOf(f)<0&&l.push(f)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(i=(s=this.options.preload)==null?void 0:s.forEach)==null||i.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(t,r,n){const a=Lm();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=Ev),this.services.backendConnector.reload(t,r,s=>{a.resolve(),n(s)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&V$.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const n=Lm();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},i=l=>{var d,f;!t&&!l&&this.services.languageDetector&&(l=[]);const c=jt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(jt(l)?[l]:l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||f.call(d,u)),this.loadResources(u,h=>{s(h,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(t),n}getFixedT(t,r,n){const a=(s,i,...l)=>{let c;typeof i!="object"?c=this.options.overloadTranslationOptionHandler([s,i].concat(l)):c={...i},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||a.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>(typeof f=="function"&&(f=zj(f,{...this.options,...i})),`${c.keyPrefix}${u}${f}`)):(typeof s=="function"&&(s=zj(s,{...this.options,...i})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return jt(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=n,a}t(...t){var r;return(r=this.translator)==null?void 0:r.translate(...t)}exists(...t){var r;return(r=this.translator)==null?void 0:r.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!a||i(s,t)))}loadNamespaces(t,r){const n=Lm();return this.options.ns?(jt(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Lm();jt(t)&&(t=[t]);const a=this.options.preload||[],s=t.filter(i=>a.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return s.length?(this.options.preload=a.concat(s),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){var a,s;if(t||(t=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const i=new Intl.Locale(t);if(i&&i.getTextInfo){const l=i.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((s=this.services)==null?void 0:s.languageUtils)||new oP(fP());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const n=new _p(t,r);return n.createInstance=_p.createInstance,n}cloneInstance(t={},r=Ev){const n=t.forkResourceStore;n&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},s=new _p(a);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new sP(l,a),s.services.resourceStore=s.store}return s.translator=new cy(s.services,a),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Er=_p.createInstance();Er.createInstance;Er.dir;Er.init;Er.loadResources;Er.reloadResources;Er.use;Er.changeLanguage;Er.getFixedT;Er.t;Er.exists;Er.setDefaultNamespace;Er.hasLoadedNamespace;Er.loadNamespaces;Er.loadLanguages;const $X=(e,t,r,n)=>{var s,i,l,c;const a=[r,{code:t,...n||{}}];if((i=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&i.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Bu(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},mP={},G$=(e,t,r,n)=>{Bu(r)&&mP[r]||(Bu(r)&&(mP[r]=new Date),$X(e,t,r,n))},K$=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},Vj=(e,t,r)=>{e.loadNamespaces(t,K$(e,r))},pP=(e,t,r,n)=>{if(Bu(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Vj(e,r,n);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,K$(e,n))},BX=(e,t,r={})=>!t.languages||!t.languages.length?(G$(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,e))return!1}}),Bu=e=>typeof e=="string",UX=e=>typeof e=="object"&&e!==null,WX=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,zX={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},VX=e=>zX[e],HX=e=>e.replace(WX,VX);let Hj={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HX};const GX=(e={})=>{Hj={...Hj,...e}},KX=()=>Hj;let q$;const qX=e=>{q$=e},YX=()=>q$,XX={type:"3rdParty",init(e){GX(e.options.react),qX(e)}},Y$=w.createContext();class QX{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var X$={exports:{}},Q$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=w;function JX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZX=typeof Object.is=="function"?Object.is:JX,eQ=rh.useState,tQ=rh.useEffect,rQ=rh.useLayoutEffect,nQ=rh.useDebugValue;function aQ(e,t){var r=t(),n=eQ({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return rQ(function(){a.value=r,a.getSnapshot=t,y_(a)&&s({inst:a})},[e,r,t]),tQ(function(){return y_(a)&&s({inst:a}),e(function(){y_(a)&&s({inst:a})})},[e]),nQ(r),r}function y_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ZX(e,r)}catch{return!0}}function sQ(e,t){return t()}var iQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sQ:aQ;Q$.useSyncExternalStore=rh.useSyncExternalStore!==void 0?rh.useSyncExternalStore:iQ;X$.exports=Q$;var J$=X$.exports;const oQ=(e,t)=>Bu(t)?t:UX(t)&&Bu(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,lQ={t:oQ,ready:!1},cQ=()=>()=>{},Ut=(e,t={})=>{var j,E;const{i18n:r}=t,{i18n:n,defaultNS:a}=w.useContext(Y$)||{},s=r||n||YX();s&&!s.reportNamespaces&&(s.reportNamespaces=new QX),s||G$(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const i=w.useMemo(()=>{var N;return{...KX(),...(N=s==null?void 0:s.options)==null?void 0:N.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=i,u=w.useMemo(()=>{var A;const N=a||((A=s==null?void 0:s.options)==null?void 0:A.defaultNS);return Bu(N)?[N]:N||["translation"]},[e,a,s]);(E=(j=s==null?void 0:s.reportNamespaces)==null?void 0:j.addUsedNamespaces)==null||E.call(j,u);const d=w.useRef(0),f=w.useCallback(N=>{if(!s)return cQ;const{bindI18n:A,bindI18nStore:O}=i,P=()=>{d.current+=1,N()};return A&&s.on(A,P),O&&s.store.on(O,P),()=>{A&&A.split(" ").forEach(U=>s.off(U,P)),O&&O.split(" ").forEach(U=>s.store.off(U,P))}},[s,i]),h=w.useRef(),m=w.useCallback(()=>{if(!s)return lQ;const N=!!(s.isInitialized||s.initializedStoreOnce)&&u.every(W=>BX(W,s,i)),A=t.lng||s.language,O=d.current,P=h.current;if(P&&P.ready===N&&P.lng===A&&P.keyPrefix===c&&P.revision===O)return P;const z={t:s.getFixedT(A,i.nsMode==="fallback"?u:u[0],c),ready:N,lng:A,keyPrefix:c,revision:O};return h.current=z,z},[s,u,c,i,t.lng]),[g,p]=w.useState(0),{t:v,ready:x}=J$.useSyncExternalStore(f,m,m);w.useEffect(()=>{if(s&&!x&&!l){const N=()=>p(A=>A+1);t.lng?pP(s,t.lng,u,N):Vj(s,u,N)}},[s,t.lng,u,x,l,g]);const b=s||{},y=w.useRef(null),_=w.useRef(),S=N=>{const A=Object.getOwnPropertyDescriptors(N);A.__original&&delete A.__original;const O=Object.create(Object.getPrototypeOf(N),A);if(!Object.prototype.hasOwnProperty.call(O,"__original"))try{Object.defineProperty(O,"__original",{value:N,writable:!1,enumerable:!1,configurable:!1})}catch{}return O},k=w.useMemo(()=>{const N=b,A=N==null?void 0:N.language;let O=N;N&&(y.current&&y.current.__original===N?_.current!==A?(O=S(N),y.current=O,_.current=A):O=y.current:(O=S(N),y.current=O,_.current=A));const P=[v,O,x];return P.t=v,P.i18n=O,P.ready=x,P},[v,b,x,b.resolvedLanguage,b.language,b.languages]);if(s&&l&&!x)throw new Promise(N=>{const A=()=>N();t.lng?pP(s,t.lng,u,A):Vj(s,u,A)});return k};function uQ({i18n:e,defaultNS:t,children:r}){const n=w.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return w.createElement(Y$.Provider,{value:n},r)}const dQ={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",systemGroup:"System"},fQ={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},hQ={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},mQ={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},pQ={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned"},gQ={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},vQ={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},xQ={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},yQ={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},wQ={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},bQ={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},_Q={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},SQ={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},jQ={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",noTasksYet:"No tasks have been created yet."},kQ={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to transform your business?",description:"Join thousands of businesses already using our platform to streamline their operations and boost productivity.",button:"Start Free Trial"},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},NQ={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user"},EQ={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},CQ={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},TQ={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing..."},AQ={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},OQ={company:"Company",city:"City",country:"Country",activity:"Activity",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",description:"Description",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},PQ={navigation:dQ,buttons:fQ,forms:hQ,auth:mQ,common:pQ,dashboard:gQ,leads:vQ,notes:xQ,projects:yQ,settings:wQ,chat:bQ,tickets:_Q,teams:SQ,tasks:jQ,landing:kQ,users:NQ,clients:EQ,employeeDashboard:CQ,chats:TQ,surveys:AQ,mleads:OQ},DQ={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",systemGroup:""},RQ={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},IQ={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},MQ={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    "},FQ={welcome:"",loading:" ...",error:"",success:"",add:"",edit:"",delete:"",create:"",update:"",save:"",cancel:"",confirm:"",close:"",submit:"",back:"",next:"",previous:"",first:"",last:"",noData:"   ",noResults:"    ",noItems:"   ",noRecords:"    ",noMatches:"    ",search:"",filter:"",notifications:"",kanban:"",list:"",select:"",view:"",status:"",assignee:" ",all:"",pickDate:" ",clearFilters:" ",created:" ",actions:"",stage:"",priority:"",veryLow:" ",low:"",medium:"",high:"",veryHigh:" ",overview:" ",unassigned:" "},LQ={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},$Q={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},BQ={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},UQ={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",total:" ",inProgress:" ",completed:"",avgProgress:" "},WQ={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},zQ={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},VQ={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},HQ={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",noTasksYet:"     ."},GQ={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:"  ",description:"           .",button:"  "},footer:{copyright:" 2025 {{brand}} CRM.   ."}},KQ={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   "},qQ={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},YQ={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},XQ={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ..."},QQ={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",createTemplate:" ",createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",description:"",descriptionAr:" ",category:"",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",noCategory:" ",status:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},JQ={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},ZQ={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",showLead:" ",hideLead:" "},eJ={navigation:DQ,buttons:RQ,forms:IQ,auth:MQ,common:FQ,dashboard:LQ,leads:$Q,notes:BQ,projects:UQ,chat:WQ,tickets:zQ,teams:VQ,tasks:HQ,landing:GQ,users:KQ,clients:qQ,employeeDashboard:YQ,chats:XQ,surveys:QQ,settings:JQ,mleads:ZQ},tJ={en:{translation:PQ},ar:{translation:eJ}};Er.use(XX).init({resources:tJ,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const ge=(e,t)=>{if(Er.language==="ar"){const a=`${t}_ar`;if(e[a]&&e[a].trim())return e[a]}if(e[t]&&e[t].trim())return e[t];const n=`${t}_ar`;return e[n]&&e[n].trim()?e[n]:""},Ts=(e,t)=>{const r=Er.language,n={...e};return Object.entries(t).forEach(([a,s])=>{r==="ar"?(n[`${s}_ar`]=e[a],n[s]=e[a]):(n[s]=e[a],n[`${s}_ar`]=e[a])}),n},Zi=()=>Er.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(this,arguments)}var Jl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Jl||(Jl={}));const gP="popstate";function rJ(e){e===void 0&&(e={});function t(a,s){let{pathname:i="/",search:l="",hash:c=""}=cd(a.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Gj("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let i=a.document.querySelector("base"),l="";if(i&&i.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:uy(s))}function n(a,s){yE(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return aJ(t,r,n,e)}function Br(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nJ(){return Math.random().toString(36).substr(2,8)}function vP(e,t){return{usr:e.state,key:e.key,idx:t}}function Gj(e,t,r,n){return r===void 0&&(r=null),f0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cd(t):t,{state:r,key:t&&t.key||n||nJ()})}function uy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aJ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=Jl.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(f0({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Jl.Pop;let v=d(),x=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:x})}function h(v,x){l=Jl.Push;let b=Gj(p.location,v,x);r&&r(b,v),u=d()+1;let y=vP(b,u),_=p.createHref(b);try{i.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}s&&c&&c({action:l,location:p.location,delta:1})}function m(v,x){l=Jl.Replace;let b=Gj(p.location,v,x);r&&r(b,v),u=d();let y=vP(b,u),_=p.createHref(b);i.replaceState(y,"",_),s&&c&&c({action:l,location:p.location,delta:0})}function g(v){let x=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:uy(v);return b=b.replace(/ $/,"%20"),Br(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let p={get action(){return l},get location(){return e(a,i)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gP,f),c=v,()=>{a.removeEventListener(gP,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(v){return i.go(v)}};return p}var xP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xP||(xP={}));function sJ(e,t,r){return r===void 0&&(r="/"),iJ(e,t,r,!1)}function iJ(e,t,r,n){let a=typeof t=="string"?cd(t):t,s=wE(a.pathname||"/",r);if(s==null)return null;let i=Z$(e);oJ(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=xJ(s);l=gJ(i[c],u,n)}return l}function Z$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Br(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=hc([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Br(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z$(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:mJ(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of e5(s.path))a(s,i,c)}),t}function e5(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=e5(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function oJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lJ=/^:[\w-]+$/,cJ=3,uJ=2,dJ=1,fJ=10,hJ=-2,yP=e=>e==="*";function mJ(e,t){let r=e.split("/"),n=r.length;return r.some(yP)&&(n+=hJ),t&&(n+=uJ),r.filter(a=>!yP(a)).reduce((a,s)=>a+(lJ.test(s)?cJ:s===""?dJ:fJ),n)}function pJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gJ(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=wP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=wP({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:hc([s,f.pathname]),pathnameBase:_J(hc([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=hc([s,f.pathnameBase]))}return i}function wP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=vJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function vJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function yJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?cd(e):e;return{pathname:r?r.startsWith("/")?r:wJ(r,t):t,search:SJ(n),hash:jJ(a)}}function wJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function w_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function bE(e,t){let r=bJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _E(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=cd(e):(a=f0({},e),Br(!a.pathname||!a.pathname.includes("?"),w_("?","pathname","search",a)),Br(!a.pathname||!a.pathname.includes("#"),w_("#","pathname","hash",a)),Br(!a.search||!a.search.includes("#"),w_("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=yJ(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hc=e=>e.join("/").replace(/\/\/+/g,"/"),_J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t5=["post","put","patch","delete"];new Set(t5);const NJ=["get",...t5];new Set(NJ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(this,arguments)}const SE=w.createContext(null),EJ=w.createContext(null),Tc=w.createContext(null),ow=w.createContext(null),hl=w.createContext({outlet:null,matches:[],isDataRoute:!1}),r5=w.createContext(null);function CJ(e,t){let{relative:r}=t===void 0?{}:t;Xh()||Br(!1);let{basename:n,navigator:a}=w.useContext(Tc),{hash:s,pathname:i,search:l}=a5(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:hc([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Xh(){return w.useContext(ow)!=null}function ml(){return Xh()||Br(!1),w.useContext(ow).location}function n5(e){w.useContext(Tc).static||w.useLayoutEffect(e)}function ss(){let{isDataRoute:e}=w.useContext(hl);return e?WJ():TJ()}function TJ(){Xh()||Br(!1);let e=w.useContext(SE),{basename:t,future:r,navigator:n}=w.useContext(Tc),{matches:a}=w.useContext(hl),{pathname:s}=ml(),i=JSON.stringify(bE(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return n5(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=_E(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hc([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}function AJ(){let{matches:e}=w.useContext(hl),t=e[e.length-1];return t?t.params:{}}function a5(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=w.useContext(Tc),{matches:a}=w.useContext(hl),{pathname:s}=ml(),i=JSON.stringify(bE(a,n.v7_relativeSplatPath));return w.useMemo(()=>_E(e,JSON.parse(i),s,r==="path"),[e,i,s,r])}function OJ(e,t){return PJ(e,t)}function PJ(e,t,r,n){Xh()||Br(!1);let{navigator:a}=w.useContext(Tc),{matches:s}=w.useContext(hl),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ml(),d;if(t){var f;let v=typeof t=="string"?cd(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||Br(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=sJ(e,{pathname:m}),p=FJ(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:hc([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:hc([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&p?w.createElement(ow.Provider,{value:{location:h0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Jl.Pop}},p):p}function DJ(){let e=UJ(),t=kJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,null)}const RJ=w.createElement(DJ,null);class IJ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?w.createElement(hl.Provider,{value:this.props.routeContext},w.createElement(r5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MJ(e){let{routeContext:t,match:r,children:n}=e,a=w.useContext(SE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(hl.Provider,{value:t},n)}function FJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Br(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||RJ,c&&(u<0&&h===0?(g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,h+1)),b=()=>{let y;return m?y=p:g?y=v:f.route.Component?y=w.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,w.createElement(MJ,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(IJ,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var s5=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(s5||{}),dy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(dy||{});function LJ(e){let t=w.useContext(SE);return t||Br(!1),t}function $J(e){let t=w.useContext(EJ);return t||Br(!1),t}function BJ(e){let t=w.useContext(hl);return t||Br(!1),t}function i5(e){let t=BJ(),r=t.matches[t.matches.length-1];return r.route.id||Br(!1),r.route.id}function UJ(){var e;let t=w.useContext(r5),r=$J(dy.UseRouteError),n=i5(dy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function WJ(){let{router:e}=LJ(s5.UseNavigateStable),t=i5(dy.UseNavigateStable),r=w.useRef(!1);return n5(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,h0({fromRouteId:t},s)))},[e,t])}function zJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Kj(e){let{to:t,replace:r,state:n,relative:a}=e;Xh()||Br(!1);let{future:s,static:i}=w.useContext(Tc),{matches:l}=w.useContext(hl),{pathname:c}=ml(),u=ss(),d=_E(t,bE(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function jr(e){Br(!1)}function VJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Jl.Pop,navigator:s,static:i=!1,future:l}=e;Xh()&&Br(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:h0({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=cd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=w.useMemo(()=>{let v=wE(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:w.createElement(Tc.Provider,{value:u},w.createElement(ow.Provider,{children:r,value:p}))}function HJ(e){let{children:t,location:r}=e;return OJ(qj(t),r)}new Promise(()=>{});function qj(e,t){t===void 0&&(t=[]);let r=[];return w.Children.forEach(e,(n,a)=>{if(!w.isValidElement(n))return;let s=[...t,a];if(n.type===w.Fragment){r.push.apply(r,qj(n.props.children,s));return}n.type!==jr&&Br(!1),!n.props.index||!n.props.children||Br(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=qj(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yj(){return Yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yj.apply(this,arguments)}function GJ(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function KJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qJ(e,t){return e.button===0&&(!t||t==="_self")&&!KJ(e)}const YJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XJ="6";try{window.__reactRouterVersion=XJ}catch{}const QJ="startTransition",bP=jN[QJ];function JJ(e){let{basename:t,children:r,future:n,window:a}=e,s=w.useRef();s.current==null&&(s.current=rJ({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&bP?bP(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>zJ(n),[n]),w.createElement(VJ,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const ZJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xj=w.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=GJ(t,YJ),{basename:m}=w.useContext(Tc),g,p=!1;if(typeof u=="string"&&eZ.test(u)&&(g=u,ZJ))try{let y=new URL(window.location.href),_=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=wE(_.pathname,m);_.origin===y.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let v=CJ(u,{relative:a}),x=tZ(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(y){n&&n(y),y.defaultPrevented||x(y)}return w.createElement("a",Yj({},h,{href:g||v,onClick:p||s?n:b,ref:r,target:c}))});var _P;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_P||(_P={}));var SP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(SP||(SP={}));function tZ(e,t){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=t===void 0?{}:t,c=ss(),u=ml(),d=a5(e,{relative:i});return w.useCallback(f=>{if(qJ(f,r)){f.preventDefault();let h=n!==void 0?n:uy(u)===uy(d);c(e,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,s,i,l])}var Qj=function(e,t){return Qj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Qj(e,t)};function o5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qj(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xs=function(){return xs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xs.apply(this,arguments)};function Ac(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function l5(e,t,r,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(i=e[l])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}function c5(e,t){return function(r,n){t(r,n,e)}}function u5(e,t,r,n,a,s){function i(x){if(x!==void 0&&typeof x!="function")throw new TypeError("Function expected");return x}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var p in n)g[p]=p==="access"?{}:n[p];for(var p in n.access)g.access[p]=n.access[p];g.addInitializer=function(x){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(x||null))};var v=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=i(v.get))&&(d.get=f),(f=i(v.set))&&(d.set=f),(f=i(v.init))&&a.unshift(f)}else(f=i(v))&&(l==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function d5(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function f5(e){return typeof e=="symbol"?e:"".concat(e)}function h5(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function m5(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function nt(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function p5(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=l(0),i.throw=l(1),i.return=l(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(s=u[0]&2?a.return:u[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,u[1])).done)return s;switch(a=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var lw=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function g5(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lw(t,e,r)}function fy(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jE(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,s=[],i;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s}function v5(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jE(arguments[t]));return e}function x5(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var s=arguments[t],i=0,l=s.length;i<l;i++,a++)n[a]=s[i];return n}function kE(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function nh(e){return this instanceof nh?(this.v=e,this):new nh(e)}function y5(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(p){return new Promise(function(v,x){s.push([m,p,v,x])>1||c(m,p)})},g&&(a[m]=g(a[m])))}function c(m,g){try{u(n[m](g))}catch(p){h(s[0][3],p)}}function u(m){m.value instanceof nh?Promise.resolve(m.value.v).then(d,f):h(s[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,g){m(g),s.shift(),s.length&&c(s[0][0],s[0][1])}}function w5(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,s){t[a]=e[a]?function(i){return(r=!r)?{value:nh(e[a](i)),done:!1}:s?s(i):i}:s}}function b5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fy=="function"?fy(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(i){return new Promise(function(l,c){i=e[s](i),a(l,c,i.done,i.value)})}}function a(s,i,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},i)}}function _5(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var rZ=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Jj=function(e){return Jj=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Jj(e)};function S5(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Jj(e),n=0;n<r.length;n++)r[n]!=="default"&&lw(t,e,r[n]);return rZ(t,e),t}function j5(e){return e&&e.__esModule?e:{default:e}}function k5(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function N5(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function E5(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function C5(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var nZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function T5(e){function t(s){e.error=e.hasError?new nZ(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(a,function(i){return t(i),a()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function A5(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,s,i){return n?t?".jsx":".js":a&&(!s||!i)?r:a+s+"."+i.toLowerCase()+"js"}):e}const aZ={__extends:o5,__assign:xs,__rest:Ac,__decorate:l5,__param:c5,__esDecorate:u5,__runInitializers:d5,__propKey:f5,__setFunctionName:h5,__metadata:m5,__awaiter:nt,__generator:p5,__createBinding:lw,__exportStar:g5,__values:fy,__read:jE,__spread:v5,__spreadArrays:x5,__spreadArray:kE,__await:nh,__asyncGenerator:y5,__asyncDelegator:w5,__asyncValues:b5,__makeTemplateObject:_5,__importStar:S5,__importDefault:j5,__classPrivateFieldGet:k5,__classPrivateFieldSet:N5,__classPrivateFieldIn:E5,__addDisposableResource:C5,__disposeResources:T5,__rewriteRelativeImportExtension:A5},sZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:C5,get __assign(){return xs},__asyncDelegator:w5,__asyncGenerator:y5,__asyncValues:b5,__await:nh,__awaiter:nt,__classPrivateFieldGet:k5,__classPrivateFieldIn:E5,__classPrivateFieldSet:N5,__createBinding:lw,__decorate:l5,__disposeResources:T5,__esDecorate:u5,__exportStar:g5,__extends:o5,__generator:p5,__importDefault:j5,__importStar:S5,__makeTemplateObject:_5,__metadata:m5,__param:c5,__propKey:f5,__read:jE,__rest:Ac,__rewriteRelativeImportExtension:A5,__runInitializers:d5,__setFunctionName:h5,__spread:v5,__spreadArray:kE,__spreadArrays:x5,__values:fy,default:aZ},Symbol.toStringTag,{value:"Module"})),iZ="modulepreload",oZ=function(e){return"/"+e},jP={},Qh=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=oZ(c),c in jP)return;jP[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iZ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},lZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qh(async()=>{const{default:n}=await Promise.resolve().then(()=>ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class NE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kP extends NE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class NP extends NE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class EP extends NE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zj||(Zj={}));class cZ{constructor(t,{headers:r={},customFetch:n,region:a=Zj.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=lZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nt(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:s,method:i,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new kP(x)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new NP(m);if(!m.ok)throw new EP(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield m.json():p==="application/octet-stream"||p==="application/pdf"?v=yield m.blob():p==="text/event-stream"?v=m:p==="multipart/form-data"?v=yield m.formData():v=yield m.text(),{data:v,error:null,response:m}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new kP(s)}:{data:null,error:s,response:s instanceof EP||s instanceof NP?s.context:void 0}}})}}var na={};const Jh=xF(sZ);var Cv={},Tv={},Av={},Ov={},Pv={},uZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ah=uZ();const dZ=ah.fetch,O5=ah.fetch.bind(ah),P5=ah.Headers,fZ=ah.Request,hZ=ah.Response,ud=Object.freeze(Object.defineProperty({__proto__:null,Headers:P5,Request:fZ,Response:hZ,default:O5,fetch:dZ},Symbol.toStringTag,{value:"Module"})),mZ=xF(ud);var Dv={},CP;function D5(){if(CP)return Dv;CP=1,Object.defineProperty(Dv,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Dv.default=e,Dv}var TP;function R5(){if(TP)return Pv;TP=1,Object.defineProperty(Pv,"__esModule",{value:!0});const e=Jh,t=e.__importDefault(mZ),r=e.__importDefault(D5());class n{constructor(s){var i,l;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let g=null,p=null,v=null,x=u.status,b=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(g={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,x=406,b="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(p=[],g=null,x=200,b="OK")}catch{u.status===404&&_===""?(x=204,b="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,x=200,b="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:p,count:v,status:x,statusText:b}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,i)}returns(){return this}overrideTypes(){return this}}return Pv.default=n,Pv}var AP;function I5(){if(AP)return Ov;AP=1,Object.defineProperty(Ov,"__esModule",{value:!0});const t=Jh.__importDefault(R5());class r extends t.default{select(a){let s=!1;const i=(a??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:s=!0,nullsFirst:i,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,s,{foreignTable:i,referencedTable:l=i}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${s-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:s=!1,settings:i=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,s?"verbose":null,i?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ov.default=r,Ov}var OP;function EE(){if(OP)return Av;OP=1,Object.defineProperty(Av,"__esModule",{value:!0});const t=Jh.__importDefault(I5()),r=new RegExp("[,()]");class n extends t.default{eq(s,i){return this.url.searchParams.append(s,`eq.${i}`),this}neq(s,i){return this.url.searchParams.append(s,`neq.${i}`),this}gt(s,i){return this.url.searchParams.append(s,`gt.${i}`),this}gte(s,i){return this.url.searchParams.append(s,`gte.${i}`),this}lt(s,i){return this.url.searchParams.append(s,`lt.${i}`),this}lte(s,i){return this.url.searchParams.append(s,`lte.${i}`),this}like(s,i){return this.url.searchParams.append(s,`like.${i}`),this}likeAllOf(s,i){return this.url.searchParams.append(s,`like(all).{${i.join(",")}}`),this}likeAnyOf(s,i){return this.url.searchParams.append(s,`like(any).{${i.join(",")}}`),this}ilike(s,i){return this.url.searchParams.append(s,`ilike.${i}`),this}ilikeAllOf(s,i){return this.url.searchParams.append(s,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(s,i){return this.url.searchParams.append(s,`ilike(any).{${i.join(",")}}`),this}is(s,i){return this.url.searchParams.append(s,`is.${i}`),this}in(s,i){const l=Array.from(new Set(i)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cs.{${i.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(i)}`),this}containedBy(s,i){return typeof i=="string"?this.url.searchParams.append(s,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(s,`cd.{${i.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(i)}`),this}rangeGt(s,i){return this.url.searchParams.append(s,`sr.${i}`),this}rangeGte(s,i){return this.url.searchParams.append(s,`nxl.${i}`),this}rangeLt(s,i){return this.url.searchParams.append(s,`sl.${i}`),this}rangeLte(s,i){return this.url.searchParams.append(s,`nxr.${i}`),this}rangeAdjacent(s,i){return this.url.searchParams.append(s,`adj.${i}`),this}overlaps(s,i){return typeof i=="string"?this.url.searchParams.append(s,`ov.${i}`):this.url.searchParams.append(s,`ov.{${i.join(",")}}`),this}textSearch(s,i,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${d}.${i}`),this}match(s){return Object.entries(s).forEach(([i,l])=>{this.url.searchParams.append(i,`eq.${l}`)}),this}not(s,i,l){return this.url.searchParams.append(s,`not.${i}.${l}`),this}or(s,{foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,i,l){return this.url.searchParams.append(s,`${i}.${l}`),this}}return Av.default=n,Av}var PP;function M5(){if(PP)return Tv;PP=1,Object.defineProperty(Tv,"__esModule",{value:!0});const t=Jh.__importDefault(EE());class r{constructor(a,{headers:s={},schema:i,fetch:l}){this.url=a,this.headers=new Headers(s),this.schema=i,this.fetch=l}select(a,s){const{head:i=!1,count:l}=s??{},c=i?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:s,defaultToNull:i=!0}={}){var l;const c="POST";if(s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:s,ignoreDuplicates:i=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:s}={}){var i;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:a}={}){var s;const i="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Tv.default=r,Tv}var DP;function pZ(){if(DP)return Cv;DP=1,Object.defineProperty(Cv,"__esModule",{value:!0});const e=Jh,t=e.__importDefault(M5()),r=e.__importDefault(EE());class n{constructor(s,{headers:i={},schema:l,fetch:c}={}){this.url=s,this.headers=new Headers(i),this.schemaName=l,this.fetch=c}from(s){const i=new URL(`${this.url}/${s}`);return new t.default(i,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,i={},{head:l=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${s}`);let m;l||c?(f=l?"HEAD":"GET",Object.entries(i).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{h.searchParams.append(p,v)})):(f="POST",m=i);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Cv.default=n,Cv}Object.defineProperty(na,"__esModule",{value:!0});var F5=na.PostgrestError=K5=na.PostgrestBuilder=H5=na.PostgrestTransformBuilder=z5=na.PostgrestFilterBuilder=U5=na.PostgrestQueryBuilder=$5=na.PostgrestClient=void 0;const Zh=Jh,L5=Zh.__importDefault(pZ());var $5=na.PostgrestClient=L5.default;const B5=Zh.__importDefault(M5());var U5=na.PostgrestQueryBuilder=B5.default;const W5=Zh.__importDefault(EE());var z5=na.PostgrestFilterBuilder=W5.default;const V5=Zh.__importDefault(I5());var H5=na.PostgrestTransformBuilder=V5.default;const G5=Zh.__importDefault(R5());var K5=na.PostgrestBuilder=G5.default;const q5=Zh.__importDefault(D5());F5=na.PostgrestError=q5.default;var Y5=na.default={PostgrestClient:L5.default,PostgrestQueryBuilder:B5.default,PostgrestFilterBuilder:W5.default,PostgrestTransformBuilder:V5.default,PostgrestBuilder:G5.default,PostgrestError:q5.default};const gZ=vF({__proto__:null,get PostgrestBuilder(){return K5},get PostgrestClient(){return $5},get PostgrestError(){return F5},get PostgrestFilterBuilder(){return z5},get PostgrestQueryBuilder(){return U5},get PostgrestTransformBuilder(){return H5},default:Y5},[na]),{PostgrestClient:vZ,PostgrestQueryBuilder:V7e,PostgrestFilterBuilder:H7e,PostgrestTransformBuilder:G7e,PostgrestBuilder:K7e,PostgrestError:q7e}=Y5||gZ;class xZ{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const yZ="2.78.0",wZ=`realtime-js/${yZ}`,bZ="1.0.0",e2=1e4,_Z=1e3,SZ=100;var Sp;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sp||(Sp={}));var Zr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zr||(Zr={}));var si;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(si||(si={}));var t2;(function(e){e.websocket="websocket"})(t2||(t2={}));var ru;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ru||(ru={}));class jZ{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class X5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ir;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ir||(ir={}));const RP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=kZ(i,e,t,a),s),{}):{}},kZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?Q5(s,i):r2(i)},Q5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return TZ(t,r)}switch(e){case ir.bool:return NZ(t);case ir.float4:case ir.float8:case ir.int2:case ir.int4:case ir.int8:case ir.numeric:case ir.oid:return EZ(t);case ir.json:case ir.jsonb:return CZ(t);case ir.timestamp:return AZ(t);case ir.abstime:case ir.date:case ir.daterange:case ir.int4range:case ir.int8range:case ir.money:case ir.reltime:case ir.text:case ir.time:case ir.timestamptz:case ir.timetz:case ir.tsrange:case ir.tstzrange:return r2(t);default:return r2(t)}},r2=e=>e,NZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},EZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},CZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},TZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>Q5(t,l))}return e},AZ=e=>typeof e=="string"?e.replace(" ","T"):e,J5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class b_{constructor(t,r,n={},a=e2){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var IP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(IP||(IP={}));class jp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jp.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=jp.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=jp.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var MP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(MP||(MP={}));var kp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kp||(kp={}));var Po;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Po||(Po={}));class CE{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new b_(this,si.join,this.params,this.timeout),this.rejoinTimer=new X5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Zr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(si.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new jp(this),this.broadcastEndpointURL=J5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Zr.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[kp.PRESENCE]&&this.bindings[kp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Po.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Po.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(Po.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,x=[];for(let b=0;b<v;b++){const y=p[b],{filter:{event:_,schema:S,table:k,filter:j}}=y,E=m&&m[b];if(E&&E.event===_&&E.schema===S&&E.table===k&&E.filter===j)x.push(Object.assign(Object.assign({},y),{id:E.id}));else{this.unsubscribe(),this.state=Zr.errored,t==null||t(Po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Po.SUBSCRIBED);return}}).receive("error",m=>{this.state=Zr.errored,t==null||t(Po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Zr.joined&&t===kp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const i={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new b_(this,si.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new b_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>SZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=si;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var g,p,v,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(b=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:x,type:b,errors:y}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Zr.closed}_isJoined(){return this.state===Zr.joined}_isJoining(){return this.state===Zr.joining}_isLeaving(){return this.state===Zr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&CE.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(si.close,{},t)}_onError(t){this._on(si.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=RP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=RP(t.columns,t.old_record)),r}}const __=()=>{},Rv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OZ=[1e3,2e3,5e3,1e4],PZ=1e4,DZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RZ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e2,this.transport=null,this.heartbeatIntervalMs=Rv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=__,this.ref=0,this.reconnectTimer=null,this.logger=__,this.conn=null,this.sendBuffer=[],this.serializer=new jZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let s;return a?s=a:typeof fetch>"u"?s=(...i)=>Qh(async()=>{const{default:l}=await Promise.resolve().then(()=>ud);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...i)=>s(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${t2.websocket}`,this.httpEndpoint=J5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bZ}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sp.connecting:return ru.Connecting;case Sp.open:return ru.Open;case Sp.closing:return ru.Closing;default:return ru.Closed}}isConnected(){return this.connectionState()===ru.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new CE(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_Z,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rv.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:s,ref:i}=r,l=i?`(${i})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(si.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([DZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:wZ};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new X5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:e2,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Rv.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:__,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>OZ[f-1]||PZ,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class TE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IZ extends TE{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class n2 extends TE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const AE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qh(async()=>{const{default:n}=await Promise.resolve().then(()=>ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MZ=()=>nt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qh(()=>Promise.resolve().then(()=>ud),void 0)).Response:Response}),a2=e=>{if(Array.isArray(e))return e.map(r=>a2(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=a2(n)}),t},FZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LZ=(e,t,r)=>nt(void 0,void 0,void 0,function*(){const n=yield MZ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const s=e.status||500,i=(a==null?void 0:a.statusCode)||s+"";t(new IZ(S_(a),s,i))}).catch(a=>{t(new n2(S_(a),a))}):t(new n2(S_(e),e))}),$Z=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(FZ(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Sg(e,t,r,n,a,s){return nt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,$Z(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>LZ(c,l,n))})})}function m0(e,t,r,n){return nt(this,void 0,void 0,function*(){return Sg(e,"GET",t,r,n)})}function ti(e,t,r,n,a){return nt(this,void 0,void 0,function*(){return Sg(e,"POST",t,n,a,r)})}function s2(e,t,r,n,a){return nt(this,void 0,void 0,function*(){return Sg(e,"PUT",t,n,a,r)})}function BZ(e,t,r,n){return nt(this,void 0,void 0,function*(){return Sg(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function OE(e,t,r,n,a){return nt(this,void 0,void 0,function*(){return Sg(e,"DELETE",t,n,a,r)})}class UZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return nt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}var Z5;class WZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Z5]="BlobDownloadBuilder",this.promise=null}asStream(){return new UZ(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return nt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}Z5=Symbol.toStringTag;const zZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class VZ{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=AE(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return nt(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},FP),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?s2:ti)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(kr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return nt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:FP.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield s2(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield ti(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new TE("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield ti(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield ti(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return nt(this,void 0,void 0,function*(){try{const a=yield ti(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"",l=this._getFinalPath(t),c=()=>m0(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0});return new WZ(c,this.shouldThrowOnError)}info(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield m0(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:a2(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}exists(t){return nt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield BZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n)&&n instanceof n2){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return nt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return nt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},zZ),r),{prefix:t||""});return{data:yield ti(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}listV2(t,r){return nt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ti(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const e8="2.78.0",t8={"X-Client-Info":`storage-js/${e8}`};class HZ{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const s=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t8),r),this.fetch=AE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return nt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield m0(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield m0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}createBucket(t){return nt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return nt(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class GZ{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t8),r),this.fetch=AE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(t){return nt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield m0(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield OE(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}const PE={"X-Client-Info":`storage-js/${e8}`,"Content-Type":"application/json"};class r8 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ha(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class j_ extends r8{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class KZ extends r8{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var LP;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(LP||(LP={}));const DE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qh(async()=>{const{default:n}=await Promise.resolve().then(()=>ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$P=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YZ=(e,t,r)=>nt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||a+"";t(new j_($P(i),a,l))}).catch(()=>{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new j_(l,a,i))});else{const i=a+"",l=s.statusText||`HTTP ${a} error`;t(new j_(l,a,i))}}else t(new KZ($P(e),e))}),XZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(qZ(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function QZ(e,t,r,n,a,s){return nt(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,XZ(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>YZ(c,l,n))})})}function Ga(e,t,r,n,a){return nt(this,void 0,void 0,function*(){return QZ(e,"POST",t,n,a,r)})}class JZ{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PE),r),this.fetch=DE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return nt(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getIndex(t,r){return nt(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ha(n))return{data:null,error:n};throw n}})}listIndexes(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return nt(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ha(n))return{data:null,error:n};throw n}})}}class ZZ{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PE),r),this.fetch=DE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return nt(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ga(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getVectors(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}listVectors(t){return nt(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ga(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}queryVectors(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteVectors(t){return nt(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ga(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}}class eee{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},PE),r),this.fetch=DE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}getBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:yield Ga(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}listBuckets(){return nt(this,arguments,void 0,function*(t={}){try{return{data:yield Ga(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}deleteBucket(t){return nt(this,void 0,void 0,function*(){try{return{data:(yield Ga(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ha(r))return{data:null,error:r};throw r}})}}class tee extends eee{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new ree(this.url,this.headers,t,this.fetch)}}class ree extends JZ{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return nt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return nt(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return nt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return nt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new nee(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class nee extends ZZ{constructor(t,r,n,a,s){super(t,r,s),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return nt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return nt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return nt(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return nt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return nt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class aee extends HZ{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new VZ(this.url,this.headers,t,this.fetch)}get vectors(){return new tee(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GZ(this.url+"/iceberg",this.headers,this.fetch)}}const see="2.78.0";let ap="";typeof Deno<"u"?ap="deno":typeof document<"u"?ap="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ap="react-native":ap="node";const iee={"X-Client-Info":`supabase-js-${ap}/${see}`},oee={headers:iee},lee={schema:"public"},cee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uee={},dee=e=>{let t;return e?t=e:typeof fetch>"u"?t=O5:t=fetch,(...r)=>t(...r)},fee=()=>typeof Headers>"u"?P5:Headers,hee=(e,t,r)=>{const n=dee(r),a=fee();return async(s,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))}};function mee(e){return e.endsWith("/")?e:e+"/"}function pee(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function gee(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mee(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const n8="2.78.0",Hd=30*1e3,i2=3,k_=i2*Hd,vee="http://localhost:9999",xee="supabase.auth.token",yee={"X-Client-Info":`gotrue-js/${n8}`},o2="X-Supabase-Api-Version",a8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wee=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bee=10*60*1e3;class p0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function st(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _ee extends p0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function See(e){return st(e)&&e.name==="AuthApiError"}class nu extends p0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Oc extends p0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Xs extends Oc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jee(e){return st(e)&&e.name==="AuthSessionMissingError"}class Cd extends Oc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Iv extends Oc{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mv extends Oc{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kee(e){return st(e)&&e.name==="AuthImplicitGrantRedirectError"}class BP extends Oc{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class l2 extends Oc{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function N_(e){return st(e)&&e.name==="AuthRetryableFetchError"}class UP extends Oc{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class c2 extends Oc{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),WP=` 	
\r=`.split(""),Nee=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<WP.length;t+=1)e[WP[t].charCodeAt(0)]=-2;for(let t=0;t<hy.length;t+=1)e[hy[t].charCodeAt(0)]=t;return e})();function zP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hy[n]),t.queuedBits-=6}}function s8(e,t,r){const n=Nee[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function VP(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Tee(i,n,r)};for(let i=0;i<e.length;i+=1)s8(e.charCodeAt(i),a,s);return t.join("")}function Eee(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Cee(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Eee(n,t)}}function Tee(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jf(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)s8(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Aee(e){const t=[];return Cee(e,r=>t.push(r)),new Uint8Array(t)}function uu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>zP(a,r,n)),zP(null,r,n),t.join("")}function Oee(e){return Math.round(Date.now()/1e3)+e}function Pee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qn=()=>typeof window<"u"&&typeof document<"u",Wc={tested:!1,writable:!1},i8=()=>{if(!Qn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wc.tested)return Wc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wc.tested=!0,Wc.writable=!0}catch{Wc.tested=!0,Wc.writable=!1}return Wc.writable};function Dee(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const o8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qh(async()=>{const{default:n}=await Promise.resolve().then(()=>ud);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Ree=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kl=async(e,t)=>{await e.removeItem(t)};class cw{constructor(){this.promise=new cw.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}cw.promiseConstructor=Promise;function E_(e){const t=e.split(".");if(t.length!==3)throw new c2("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wee.test(t[n]))throw new c2("JWT not in base64url format");return{header:JSON.parse(VP(t[0])),payload:JSON.parse(VP(t[1])),signature:jf(t[2]),raw:{header:t[0],payload:t[1]}}}async function Iee(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mee(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function Fee(e){return("0"+e.toString(16)).substr(-2)}function Lee(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Fee).join("")}async function $ee(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Bee(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $ee(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Td(e,t,r=!1){const n=Lee();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Gd(e,`${t}-code-verifier`,a);const s=await Bee(n);return[s,n===s?"plain":"s256"]}const Uee=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wee(e){const t=e.headers.get(o2);if(!t||!t.match(Uee))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function zee(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Vee(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Hee=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ad(e){if(!Hee.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gee(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function HP(e){return JSON.parse(JSON.stringify(e))}const Yc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Kee=[502,503,504];async function GP(e){var t;if(!Ree(e))throw new l2(Yc(e),0);if(Kee.includes(e.status))throw new l2(Yc(e),e.status);let r;try{r=await e.json()}catch(s){throw new nu(Yc(s),s)}let n;const a=Wee(e);if(a&&a.getTime()>=a8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new UP(Yc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new UP(Yc(r),e.status,r.weak_password.reasons);throw new _ee(Yc(r),e.status||500,n)}const qee=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function xt(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[o2]||(s[o2]=a8["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Yee(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Yee(e,t,r,n,a,s){const i=qee(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new l2(Yc(c),0)}if(l.ok||await GP(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await GP(c)}}function Qs(e){var t;let r=null;Jee(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Oee(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function KP(e){const t=Qs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ll(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xee(e){return{data:e,error:null}}function Qee(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Ac(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function qP(e){return e}function Jee(e){return e.access_token&&e.refresh_token&&e.expires_in}const T_=["global","local","others"];class Zee{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=o8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=T_[0]){if(T_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${T_.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ll})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ac(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Qee,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(st(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ll})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:qP});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(st(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ad(t);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ll})}catch(r){if(st(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ad(t);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ll})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ad(t);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ll})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ad(t.userId);try{const{data:r,error:n}=await xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ad(t.userId),Ad(t.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:qP});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(st(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await xt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}}function YP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Od={debug:!!(globalThis&&i8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ete extends l8{}async function tte(e,t,r){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Od.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Od.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ete(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Od.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rte(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c8(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function nte(e){return parseInt(e,16)}function ate(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ste(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=c8(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}x+=b}return`${v}
${x}`}class Gr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class my extends Gr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function ite({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Gr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Gr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Gr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Gr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Gr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Gr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(u8(i)){if(s.rp.id!==i)return new Gr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Gr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ote({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Gr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Gr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(u8(n)){if(r.rpId!==n)return new Gr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Gr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Gr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Gr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lte{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const cte=new lte;function ute(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Ac(e,["challenge","user","excludeCredentials"]),s=jf(t).buffer,i=Object.assign(Object.assign({},r),{id:jf(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:jf(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function dte(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ac(e,["challenge","allowCredentials"]),a=jf(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},l),{id:jf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function fte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:uu(new Uint8Array(e.response.attestationObject)),clientDataJSON:uu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hte(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:uu(new Uint8Array(a.authenticatorData)),clientDataJSON:uu(new Uint8Array(a.clientDataJSON)),signature:uu(new Uint8Array(a.signature)),userHandle:a.userHandle?uu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u8(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function XP(){var e,t;return!!(Qn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mte(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new my("Browser returned unexpected credential type",t)}:{data:null,error:new my("Empty credential response",t)}}catch(t){return{data:null,error:ite({error:t,options:e})}}}async function pte(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new my("Browser returned unexpected credential type",t)}:{data:null,error:new my("Empty credential response",t)}}catch(t){return{data:null,error:ote({error:t,options:e})}}}const gte={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},vte={userVerification:"preferred",hints:["security-key"]};function py(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const l=n[s];t(l)?n[s]=py(l,i):n[s]=py(i)}else n[s]=i}return n}function xte(e,t){return py(gte,e,t||{})}function yte(e,t){return py(vte,e,t||{})}class wte{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:l};const c=a??cte.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=xte(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await mte({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=yte(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await pte(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return st(i)?{data:null,error:i}:{data:null,error:new nu("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},s){if(!r)return{data:null,error:new p0("rpId is required for WebAuthn authentication")};try{if(!XP())return{data:null,error:new nu("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return st(i)?{data:null,error:i}:{data:null,error:new nu("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},s){if(!r)return{data:null,error:new p0("rpId is required for WebAuthn registration")};try{if(!XP())return{data:null,error:new nu("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return st(i)?{data:null,error:i}:{data:null,error:new nu("Unexpected error in register",i)}}}}rte();const bte={url:vee,storageKey:xee,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function QP(e,t,r){return await r()}const Pd={};class g0{get jwks(){var t,r;return(r=(t=Pd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pd[this.storageKey]=Object.assign(Object.assign({},Pd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pd[this.storageKey]=Object.assign(Object.assign({},Pd[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=g0.nextInstanceID,g0.nextInstanceID+=1,this.instanceID>0&&Qn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},bte),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Zee({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=o8(a.fetch),this.lock=a.lock||QP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Qn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=tte:this.lock=QP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wte(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:i8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=YP(this.memoryStorage)),Qn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${n8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dee(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),kee(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return st(r)?{error:r}:{error:new nu("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qs}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Td(this.storage,this.storageKey)),s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Qs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qs})}else throw new Iv("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(st(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KP})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:KP})}else throw new Iv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:x,options:b}=t;let y;if(Qn())if(typeof v=="object")y=v;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")y=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=v}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=c8(S[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const N=await y.request({method:"eth_chainId"});j=nte(N)}const E={domain:_.host,address:k,statement:x,uri:_.href,version:"1",chainId:j,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ste(E),g=await y.request({method:"personal_sign",params:[ate(m),k]})}try{const{data:p,error:v}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qs});if(v)throw v;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new Cd}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:v})}catch(p){if(st(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,s,i,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:x,statement:b,options:y}=t;let _;if(Qn())if(typeof x=="object")_=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),p=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=k}}try{const{data:v,error:x}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:uu(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qs});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Cd}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(st(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await zc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qs});if(await kl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Cd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(st(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qs}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Td(this.storage,this.storageKey));const{error:f}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Iv("You must provide either an email or phone number.")}catch(l){if(st(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Qs});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(st(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Td(this.storage,this.storageKey)),await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:Xee})}catch(s){if(st(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xs;const{error:a}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(st(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await xt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await xt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Iv("You must provide either an email or phone number and a type")}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<k_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await zc(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=C_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Gee(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ll}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xs}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ll})})}catch(r){if(st(r))return jee(r)&&(await this._removeSession(),await kl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Xs;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Td(this.storage,this.storageKey));const{data:u,error:d}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ll});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(st(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xs;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=E_(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(st(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xs;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(st(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qn())throw new Mv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new BP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new BP("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new Mv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Hd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(s);if(v)throw v;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(st(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(See(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await kl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Pee(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Td(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(st(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(st(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Qn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(st(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Qs}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Cd}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(st(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Mee(async a=>(a>0&&await Iee(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qs})),(a,s)=>{const i=200*Math.pow(2,a);return s&&N_(s)&&Date.now()+i-n<Hd})}catch(n){if(this._debug(r,"error",n),st(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await zc(this.storage,this.storageKey);if(a&&this.userStorage){let i=await zc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Gd(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:C_()}else if(a&&!a.user&&!a.user){const i=await zc(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await kl(this.storage,this.storageKey+"-user"),await Gd(this.storage,this.storageKey,a)):a.user=C_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<k_;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${k_}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),N_(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(a.access_token);!l&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new cw;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Xs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),st(s)){const i={data:null,error:s};return N_(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=HP(a);await Gd(this.storage,this.storageKey,s)}else{const a=HP(r);await Gd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await kl(this.storage,this.storageKey),await kl(this.storage,this.storageKey+"-code-verifier"),await kl(this.storage,this.storageKey+"-user"),this.userStorage&&await kl(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Hd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Hd}ms, refresh threshold is ${i2} ticks`),a<=i2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof l8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Td(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?fte(t.webauthn.credential_response):hte(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const i=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ute(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:dte(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(st(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=E_(n.access_token);let i=null;s.aal&&(i=s.aal);let l=i;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await xt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Xs}})}catch(r){if(st(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Xs};const i=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Qn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(st(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return{data:null,error:s};if(!a)return{data:null,error:new Xs};const i=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Qn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(st(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+bee>a)return n;const{data:s,error:i}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=E_(n);r!=null&&r.allowExpired||zee(s.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const d=Vee(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Aee(`${l}.${c}`)))throw new c2("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(st(n))return{data:null,error:n};throw n}}}g0.nextInstanceID=0;const _te=g0;class Ste extends _te{constructor(t){super(t)}}class jte{constructor(t,r,n){var a,s,i;this.supabaseUrl=t,this.supabaseKey=r;const l=gee(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:lee,realtime:uee,auth:Object.assign(Object.assign({},cee),{storageKey:c}),global:oee},d=pee(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=hee(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new vZ(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new aee(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ste({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:s,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kte=(e,t,r)=>new jte(e,t,r);function Nte(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Nte()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d8="https://studio.middar.com/",Nx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY";console.log(" SUPABASE URL at runtime:",d8);console.log(" SUPABASE KEY (first 8):",Nx==null?void 0:Nx.slice(0,8));const we=kte(d8,Nx,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}}),La={async signUpStaff(e,t,r){console.log("[authService] Creating staff user:",{email:e,userData:r});try{const{data:n,error:a}=await we.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await we.from("users").upsert({user_name:r.name,user_email:e,user_role:r.role,avatar:r.avatar,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select("*").single();if(i)throw console.error("[authService] Error creating user profile:",i),new Error(`Failed to create user profile: ${i.message}`);return console.log("[authService] User profile created:",s),console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:r.role,profile:{user_id:s.user_id||parseInt(n.user.id),user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:s.user_role||r.role,avatar:s.avatar||r.avatar,auth_user_id:s.auth_user_id||n.user.id,client_contact:s.client_contact||null,company_name:s.company_name||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in signUpStaff:",n),n}},async createStaffUser(e,t,r){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:r});try{const{data:{session:n},error:a}=await we.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/",i=`${s}/functions/v1/crud-staff-user`,l=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"add",email:e,password:t,userData:{user_name:r.name,user_role:r.role,...r.localizedData||{}}})});if(!l.ok){const f=await l.json();throw new Error(f.error||`HTTP ${l.status}`)}const c=await l.json();if(console.log("[authService] Staff user created successfully:",c),!c.ok)throw new Error("Edge Function returned an error status");const u=c.auth_id??c.authUserId;if(!u)throw new Error("Auth user ID missing from response");if(c.user_id==null)throw new Error("User ID missing from response");const d=c.user_id??null;return{id:u,email:e,role:r.role,profile:{user_id:d,user_name:c.user_name||r.name,user_email:c.user_email||e,user_role:c.user_role||r.role,avatar:c.avatar||r.avatar,auth_user_id:u,client_contact:c.client_contact||null,company_name:c.company_name||null,company_name_ar:c.company_name_ar||null,user_name_ar:c.user_name_ar||null,user_phone:c.user_phone||null,created_at:c.created_at||new Date().toISOString(),updated_at:c.updated_at||new Date().toISOString()}}}catch(n){throw console.error("[authService] Error in createStaffUser:",n),n}},async updateUserRole(e,t){console.log("[authService] Updating user role:",{targetUserId:e,newRole:t});try{const{data:{session:r},error:n}=await we.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:t}})});if(!i.ok){const l=await i.json();throw new Error(l.error||`HTTP ${i.status}`)}console.log("[authService] User role updated successfully")}catch(r){throw console.error("[authService] Error in updateUserRole:",r),r}},async updateUser(e,t){console.log("[authService] Updating user details:",{targetUserId:e,userData:t});try{const{data:{session:r},error:n}=await we.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/".trim();if(!a)throw new Error("Missing VITE_SUPABASE_URL");const s=`${a}/functions/v1/crud-staff-user`,i={action:"update",targetUserId:e,userData:{}};if(t.user_email!==void 0&&(i.email=t.user_email,i.userData.user_email=t.user_email),t.user_name!==void 0&&(i.userData.user_name=t.user_name),t.user_role!==void 0&&(i.userData.user_role=t.user_role),t.user_phone!==void 0){const{data:l,error:c}=await we.from("users").select("user_id").eq("auth_user_id",e).single();if(c||!l)throw new Error("User not found");const{error:u}=await we.from("users").update({user_phone:t.user_phone}).eq("user_id",l.user_id);if(u)throw u}if(i.userData.user_name||i.userData.user_email||i.userData.user_role){const l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify(i)});if(!l.ok){const u=await l.json();throw new Error(u.error||`HTTP ${l.status}`)}const c=await l.json();console.log("[authService] Edge Function update result:",c)}console.log("[authService] User details updated successfully")}catch(r){throw console.error("[authService] Error in updateUser:",r),r}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:t},error:r}=await we.auth.getSession();if(r||!(t!=null&&t.access_token))throw new Error("No active session found");const n="https://studio.middar.com/",a=`${n}/functions/v1/crud-staff-user`,s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`,"x-user-id":t.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!s.ok){const i=await s.json();throw new Error(i.error||`HTTP ${s.status}`)}console.log("[authService] User deleted successfully")}catch(t){throw console.error("[authService] Error in deleteUser:",t),t}},async signUpClient(e,t,r){console.log("[authService] Signing up client:",{email:e,...r});const{data:n,error:a}=await we.auth.signUp({email:e,password:t});if(a)throw a;if(!n.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",n.user.id);const{data:s,error:i}=await we.from("users").upsert({user_name:r.name,user_email:e,user_role:"client",avatar:r.avatar,client_contact:r.contact,company_name:r.company,auth_user_id:n.user.id},{onConflict:"auth_user_id"}).select().single();if(i)throw console.error("[authService] Error creating user profile:",i),i;return console.log("[authService] User profile created:",s),{id:n.user.id,email:e,role:"client",profile:{user_id:s.user_id,user_name:s.user_name||r.name,user_email:s.user_email||e,user_role:"client",avatar:s.avatar||r.avatar,client_contact:s.client_contact||r.contact||null,company_name:s.company_name||r.company||null,company_name_ar:s.company_name_ar||null,user_name_ar:s.user_name_ar||null,user_phone:s.user_phone||null,auth_user_id:n.user.id,created_at:s.created_at||new Date().toISOString(),updated_at:s.updated_at||new Date().toISOString()}}},async signIn(e,t){console.log("[authService] Signing in with email:",e);try{const{data:r,error:n}=await we.auth.signInWithPassword({email:e,password:t});if(n)throw console.error("[authService] Authentication error:",n),n;if(!r.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const{data:a,error:s}=await we.from("users").select("*").eq("auth_user_id",r.user.id).maybeSingle();if(s)throw console.error("[authService] Error fetching user profile:",s),new Error("Failed to fetch user profile");if(!a)throw console.error("[authService] User profile not found for user:",r.user.id),new Error("User profile not found");return console.log("[authService] User profile found:",a),{id:r.user.id,email:r.user.email,role:a.user_role||"client",profile:{...a}}}catch(r){throw console.error("[authService] Error in signIn:",r),r}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await we.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:t}=await we.auth.signOut();if(t)throw console.error("[authService] Error signing out:",t),t;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:t,error:r}=await we.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(r)throw console.error("[authService] Google OAuth error:",r),localStorage.removeItem("oauth_intended_role"),r;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(t){throw console.error("[authService] Error in Google sign-in:",t),localStorage.removeItem("oauth_intended_role"),t}},async getCurrentUser(e){console.log("[authService] Getting current user",{authUserId:e});try{let t;if(e)t={id:e},console.log("[authService] Using provided auth user ID:",e);else{console.log("[authService] Fetching auth user from session");const l=we.auth.getUser(),c=new Promise((u,d)=>setTimeout(()=>d(new Error("getUser timeout")),3e3));try{const{data:{user:u},error:d}=await Promise.race([l,c]);if(d||!u)return console.log("[authService] No authenticated user found"),null;t=u}catch(u){return console.warn("[authService] Failed to get user from session:",u),null}}console.log("[authService] Found auth user:",{id:t.id}),console.log("[authService] Checking users table for user:",t.id);const r=we.from("users").select("*").eq("auth_user_id",t.id).maybeSingle(),n=new Promise((l,c)=>setTimeout(()=>c(new Error("Database query timeout")),3e3));let a,s;try{const l=await Promise.race([r,n]);a=l.data,s=l.error}catch(l){return console.error("[authService] Database query timed out:",l),{id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}}if(console.log("[authService] Database query completed:",{hasData:!!a,hasError:!!s}),s&&console.error("[authService] Error fetching user from users table:",s),a)return console.log("[authService] Found user in users table:",a),{id:t.id,email:a.user_email||"",role:a.user_role||"client",profile:{...a}};console.warn("[authService] User authenticated but not found in users table, creating minimal user object",{userId:t.id});const i={id:t.id,email:"",role:"client",profile:{user_id:0,user_name:"User",user_email:"",user_role:"client",auth_user_id:t.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};return console.log("[authService] Returning minimal user object"),i}catch(t){return console.error("[authService] Error in getCurrentUser:",t),null}},async getFreshJwt(){const{data:{session:e},error:t}=await we.auth.getSession();if(t)throw t;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},onAuthStateChange(e){console.log("[authService] Setting up auth state change listener");let t=null;const r=async(a,s)=>{var l;console.log("[authService] Auth state changed:",{event:a,hasSession:!!s,userId:(l=s==null?void 0:s.user)==null?void 0:l.id});const i=async c=>{const u=this.getCurrentUser(c),d=new Promise((f,h)=>setTimeout(()=>h(new Error("getCurrentUser timeout")),3e3));return Promise.race([u,d])};if(a==="SIGNED_IN"&&(s!=null&&s.user))try{console.log("[authService] Fetching user profile for SIGNED_IN event");const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else if(a==="INITIAL_SESSION")if(s!=null&&s.user)try{console.log("[authService] Fetching user profile for INITIAL_SESSION event"),await new Promise(u=>setTimeout(u,100));const c=await i(s.user.id);if(console.log("[authService] User profile fetched:",{hasUser:!!c}),c){const u=c.profile.user_name==="User",d=t&&t.profile.user_name!=="User";u&&d?console.log("[authService] Skipping update to minimal user, keeping full user"):JSON.stringify(c)!==JSON.stringify(t)&&(t=c,e(c))}}catch(c){if(console.error("[authService] Error or timeout getting current user:",c),!t){const u={id:s.user.id,email:s.user.email||"",role:"client",profile:{user_id:0,user_name:"User",user_email:s.user.email||"",user_role:"client",auth_user_id:s.user.id,avatar:"",client_contact:null,company_name:null,company_name_ar:null,user_name_ar:null,user_phone:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}};t=u,e(u)}}else console.log("[authService] No session on initial check"),t=null,e(null);else a==="SIGNED_OUT"&&(console.log("[authService] User signed out"),t=null,e(null))},{data:{subscription:n}}=we.auth.onAuthStateChange(r);return console.log("[authService] Auth state change listener set up"),{data:{subscription:n}}}},f8=w.createContext(void 0),Ete=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(!0),[s,i]=w.useState(!1);w.useEffect(()=>{let b=!0,y=null,_=!1;const S=k=>{if(b){if(console.log("[AuthContext] Auth state changed:",{hasUser:!!k,isSigningUp:s}),s){console.log("[AuthContext] Skipping auth state change during signup");return}r(k),_||(_=!0,a(!1))}};console.log("[AuthContext] Initializing auth state...");try{const{data:{subscription:k}}=La.onAuthStateChange(S);y=k}catch(k){console.error("[AuthContext] Failed to set up auth state listener:",k),a(!1)}return()=>{console.log("[AuthContext] Cleaning up auth state change listener"),b=!1,y&&y.unsubscribe()}},[]);const l=async(b,y)=>{console.log("[AuthContext] Signing in..."),a(!0);try{const _=await La.signIn(b,y);return console.log("[AuthContext] Sign in successful:",_),r(_),a(!1),_}catch(_){throw console.error("[AuthContext] Sign in failed:",_),a(!1),r(null),_}},c=async(b="client")=>{console.log("[AuthContext] Starting Google sign-in with role:",b),a(!0);try{await La.signInWithGoogle(b)}catch(y){throw console.error("[AuthContext] Google sign-in failed:",y),a(!1),y}},u=async()=>{console.log("[AuthContext] Signing out...");try{r(null),await La.signOut(),console.log("[AuthContext] Sign out successful")}catch(b){throw console.error("[AuthContext] Sign out failed:",b),r(null),b}},d=async(b,y,_)=>{console.log("[AuthContext] Signing up staff..."),a(!0),i(!0);try{const S=await La.signUpStaff(b,y,_);return console.log("[AuthContext] Staff sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Staff sign up failed:",S),a(!1),S}finally{i(!1)}},f=async(b,y,_)=>{console.log("[AuthContext] Creating staff user...");try{const S=await La.createStaffUser(b,y,_);return console.log("[AuthContext] Staff user creation successful:",S),S}catch(S){throw console.error("[AuthContext] Staff user creation failed:",S),S}},h=async b=>{console.log("[AuthContext] Deleting user...");try{await La.deleteUser(b),console.log("[AuthContext] User deletion successful")}catch(y){throw console.error("[AuthContext] User deletion failed:",y),y}},m=async(b,y)=>{console.log("[AuthContext] Updating user role...");try{await La.updateUserRole(b,y),console.log("[AuthContext] User role update successful")}catch(_){throw console.error("[AuthContext] User role update failed:",_),_}},g=async(b,y)=>{console.log("[AuthContext] Updating user details...");try{await La.updateUser(b,y),console.log("[AuthContext] User details update successful")}catch(_){throw console.error("[AuthContext] User details update failed:",_),_}},p=async(b,y,_)=>{console.log("[AuthContext] Signing up client..."),a(!0),i(!0);try{const S=await La.signUpClient(b,y,_);return console.log("[AuthContext] Client sign up successful:",S),r(S),a(!1),S}catch(S){throw console.error("[AuthContext] Client sign up failed:",S),a(!1),S}finally{i(!1)}},v=b=>t?b.includes(t.role):!1,x={user:t,loading:n,signIn:l,signInWithGoogle:c,signOut:u,signUpStaff:d,createStaffUser:f,deleteUser:h,updateUserRole:m,updateUser:g,signUpClient:p,isAuthenticated:!!t,isClient:(t==null?void 0:t.role)==="client",isStaff:t?["admin","manager","employee","team_leader"].includes(t.role):!1,hasRole:v};return o.jsx(f8.Provider,{value:x,children:e})},xr=()=>{const e=w.useContext(f8);return e===void 0?(console.warn("[useAuth] AuthProvider not found, using fallback context"),{user:null,loading:!1,signIn:async()=>{throw new Error("AuthProvider not available")},signInWithGoogle:async()=>{throw new Error("AuthProvider not available")},signOut:async()=>{throw new Error("AuthProvider not available")},signUpStaff:async()=>{throw new Error("AuthProvider not available")},createStaffUser:async()=>{throw new Error("AuthProvider not available")},deleteUser:async()=>{throw new Error("AuthProvider not available")},updateUserRole:async()=>{throw new Error("AuthProvider not available")},updateUser:async()=>{throw new Error("AuthProvider not available")},signUpClient:async()=>{throw new Error("AuthProvider not available")},isAuthenticated:!1,isClient:!1,isStaff:!1,hasRole:()=>!1}):e},h8=w.createContext(void 0),Cte=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],Tte=({children:e})=>{const[t,r]=w.useState(Er.language||"ar"),[n,a]=w.useState(Zi());w.useEffect(()=>{const l=c=>{r(c),a(Zi())};return Er.on("languageChanged",l),()=>{Er.off("languageChanged",l)}},[]);const i={currentLanguage:t,changeLanguage:async l=>{try{await Er.changeLanguage(l),r(l),a(Zi())}catch(c){console.error("Failed to change language:",c)}},isRTL:n,languages:Cte};return o.jsx(h8.Provider,{value:i,children:e})},pl=()=>{const e=w.useContext(h8);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},m8=w.createContext(void 0);function Ate({children:e}){const[t,r]=w.useState([]);return o.jsx(m8.Provider,{value:{breadcrumbs:t,setBreadcrumbs:r},children:e})}function RE(){const e=w.useContext(m8);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var gy=["light","dark"],IE="(prefers-color-scheme: dark)",Ote=typeof window>"u",ME=w.createContext(void 0),Pte={setTheme:e=>{},themes:[]},Dte=()=>{var e;return(e=w.useContext(ME))!=null?e:Pte},p8=e=>w.useContext(ME)?e.children:w.createElement(Ite,{...e}),Rte=["light","dark"],Ite=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=Rte,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=w.useState(()=>JP(a,i)),[m,g]=w.useState(()=>JP(a)),p=c?Object.values(c):s,v=w.useCallback(_=>{let S=_;if(!S)return;_==="system"&&r&&(S=ZP());let k=c?c[S]:S,j=t?Fte():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),k&&E.classList.add(k)):k?E.setAttribute(l,k):E.removeAttribute(l),n){let N=gy.includes(i)?i:null,A=gy.includes(S)?S:N;E.style.colorScheme=A}j==null||j()},[]),x=w.useCallback(_=>{let S=typeof _=="function"?_(_):_;h(S);try{localStorage.setItem(a,S)}catch{}},[e]),b=w.useCallback(_=>{let S=ZP(_);g(S),f==="system"&&r&&!e&&v("system")},[f,e]);w.useEffect(()=>{let _=window.matchMedia(IE);return _.addListener(b),b(_),()=>_.removeListener(b)},[b]),w.useEffect(()=>{let _=S=>{if(S.key!==a)return;let k=S.newValue||i;x(k)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[x]),w.useEffect(()=>{v(e??f)},[e,f]);let y=w.useMemo(()=>({theme:f,setTheme:x,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,x,e,m,r,s]);return w.createElement(ME.Provider,{value:y},w.createElement(Mte,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},Mte=w.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?gy.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let x=i?i[g]:g,b=p?g+"|| ''":`'${x}'`,y="";return a&&v&&!p&&gy.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),r==="class"?p||x?y+=`c.add(${b})`:y+="null":x&&(y+=`d[s](n,${b})`),y},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${IE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),JP=(e,t)=>{if(Ote)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Fte=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},ZP=e=>(e||(e=window.matchMedia(IE)),e.matches?"dark":"light");const Lte=()=>o.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading..."})]}),An=({children:e,allowedRoles:t,requireAuth:r=!0})=>{const n=ml(),{user:a,loading:s,hasRole:i}=xr(),l=a&&a.role&&a.profile.user_name!=="User",c=w.useMemo(()=>t?i(t):!0,[t,i]);return w.useMemo(()=>({loading:s,user:a?{id:a.id,email:a.email,role:a.role}:null,hasRequiredRole:c}),[s,a,c]),console.log("[ProtectedRoute]",{path:n.pathname,loading:s,hasUser:!!a,isUserProfileLoaded:l,requireAuth:r,hasRequiredRole:c,userRole:a==null?void 0:a.role}),s||a&&!l?(console.log("[ProtectedRoute] Showing loading spinner - waiting for profile"),o.jsx(Lte,{})):r&&!a?(console.log("[ProtectedRoute] No user, redirecting to login"),o.jsx(Kj,{to:"/login",state:{from:n},replace:!0})):t&&!c?(console.log("[ProtectedRoute] User does not have required role"),o.jsx(Kj,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),o.jsx(o.Fragment,{children:e}))};function e4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tl(...e){return t=>{let r=!1;const n=e.map(a=>{const s=e4(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():e4(e[a],null)}}}}function Ot(...e){return w.useCallback(tl(...e),e)}function yc(e){const t=Bte(e),r=w.forwardRef((n,a)=>{const{children:s,...i}=n,l=w.Children.toArray(s),c=l.find(Wte);if(c){const u=c.props.children,d=l.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...i,ref:a,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return o.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var $te=yc("Slot");function Bte(e){const t=w.forwardRef((r,n)=>{const{children:a,...s}=r;if(w.isValidElement(a)){const i=Vte(a),l=zte(s,a.props);return a.type!==w.Fragment&&(l.ref=n?tl(n,i):i),w.cloneElement(a,l)}return w.Children.count(a)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g8=Symbol("radix.slottable");function Ute(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=g8,t}function Wte(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g8}function zte(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function Vte(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function v8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=v8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ct(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=v8(e))&&(n&&(n+=" "),n+=t);return n}const t4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r4=Ct,jg=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return r4(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=t4(d)||t4(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...s,...l}[p]):{...s,...l}[p]===v})?[...u,f,h]:u},[]);return r4(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},FE="-",Hte=e=>{const t=Kte(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(FE);return l[0]===""&&l.length!==1&&l.shift(),x8(l,t)||Gte(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},x8=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?x8(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(FE);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},n4=/^\[(.+)\]$/,Gte=e=>{if(n4.test(e)){const t=n4.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Kte=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Yte(Object.entries(e.classGroups),r).forEach(([s,i])=>{u2(i,n,s,t)}),n},u2=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:a4(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(qte(a)){u2(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{u2(i,a4(t,s),r,n)})})},a4=(e,t)=>{let r=e;return t.split(FE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qte=e=>e.isThemeGetter,Yte=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,Xte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},y8="!",Qte=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===a&&(n||l.slice(v,v+s)===t)){c.push(l.slice(d,v)),d=v+s;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(y8),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},Jte=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Zte=e=>({cache:Xte(e.cacheSize),parseClassName:Qte(e),...Hte(e)}),ere=/\s+/,tre=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(ere);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=Jte(d).join(":"),x=f?v+y8:v,b=x+p;if(s.includes(b))continue;s.push(b);const y=a(p,g);for(let _=0;_<y.length;++_){const S=y[_];s.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function rre(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=w8(t))&&(n&&(n+=" "),n+=r);return n}const w8=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=w8(e[n]))&&(r&&(r+=" "),r+=t);return r};function nre(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=Zte(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tre(c,r);return a(c,d),d}return function(){return s(rre.apply(null,arguments))}}const hr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},b8=/^\[(?:([a-z-]+):)?(.+)\]$/i,are=/^\d+\/\d+$/,sre=new Set(["px","full","screen"]),ire=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ore=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ure=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yo=e=>kf(e)||sre.has(e)||are.test(e),Nl=e=>em(e,"length",xre),kf=e=>!!e&&!Number.isNaN(Number(e)),A_=e=>em(e,"number",kf),$m=e=>!!e&&Number.isInteger(Number(e)),dre=e=>e.endsWith("%")&&kf(e.slice(0,-1)),At=e=>b8.test(e),El=e=>ire.test(e),fre=new Set(["length","size","percentage"]),hre=e=>em(e,fre,_8),mre=e=>em(e,"position",_8),pre=new Set(["image","url"]),gre=e=>em(e,pre,wre),vre=e=>em(e,"",yre),Bm=()=>!0,em=(e,t,r)=>{const n=b8.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xre=e=>ore.test(e)&&!lre.test(e),_8=()=>!1,yre=e=>cre.test(e),wre=e=>ure.test(e),bre=()=>{const e=hr("colors"),t=hr("spacing"),r=hr("blur"),n=hr("brightness"),a=hr("borderColor"),s=hr("borderRadius"),i=hr("borderSpacing"),l=hr("borderWidth"),c=hr("contrast"),u=hr("grayscale"),d=hr("hueRotate"),f=hr("invert"),h=hr("gap"),m=hr("gradientColorStops"),g=hr("gradientColorStopPositions"),p=hr("inset"),v=hr("margin"),x=hr("opacity"),b=hr("padding"),y=hr("saturate"),_=hr("scale"),S=hr("sepia"),k=hr("skew"),j=hr("space"),E=hr("translate"),N=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",At,t],P=()=>[At,t],U=()=>["",yo,Nl],z=()=>["auto",kf,At],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",At],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[kf,At];return{cacheSize:500,separator:":",theme:{colors:[Bm],spacing:[yo,Nl],blur:["none","",El,At],brightness:J(),borderColor:[e],borderRadius:["none","","full",El,At],borderSpacing:P(),borderWidth:U(),contrast:J(),grayscale:D(),hueRotate:J(),invert:D(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[dre,Nl],inset:O(),margin:O(),opacity:J(),padding:P(),saturate:J(),scale:J(),sepia:D(),skew:J(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",At]}],container:["container"],columns:[{columns:[El]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),At]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$m,At]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",At]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",$m,At]}],"grid-cols":[{"grid-cols":[Bm]}],"col-start-end":[{col:["auto",{span:["full",$m,At]},At]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Bm]}],"row-start-end":[{row:["auto",{span:[$m,At]},At]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",At]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",At]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",At,t]}],"min-w":[{"min-w":[At,t,"min","max","fit"]}],"max-w":[{"max-w":[At,t,"none","full","min","max","fit","prose",{screen:[El]},El]}],h:[{h:[At,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[At,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[At,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[At,t,"auto","min","max","fit"]}],"font-size":[{text:["base",El,Nl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",A_]}],"font-family":[{font:[Bm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",At]}],"line-clamp":[{"line-clamp":["none",kf,A_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yo,At]}],"list-image":[{"list-image":["none",At]}],"list-style-type":[{list:["none","disc","decimal",At]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yo,Nl]}],"underline-offset":[{"underline-offset":["auto",yo,At]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",At]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",At]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),mre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gre]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[yo,At]}],"outline-w":[{outline:[yo,Nl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[yo,Nl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",El,vre]}],"shadow-color":[{shadow:[Bm]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...R(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":R()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",El,At]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",At]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",At]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",At]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[$m,At]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",At]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",At]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",At]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yo,Nl,A_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_re=nre(bre);function xe(...e){return _re(Ct(e))}const sh=jg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?$te:"button";return o.jsx(i,{className:xe(sh({variant:t,size:r,className:e})),ref:s,...a})});ie.displayName="Button";const Qe=w.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Qe.displayName="Input";var Sre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=Sre.reduce((e,t)=>{const r=yc(`Primitive.${t}`),n=w.forwardRef((a,s)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function S8(e,t){e&&Yh.flushSync(()=>e.dispatchEvent(t))}var jre="Label",j8=w.forwardRef((e,t)=>o.jsx(tt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));j8.displayName=jre;var k8=j8;const kre=jg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ue=w.forwardRef(({className:e,...t},r)=>o.jsx(k8,{ref:r,className:xe(kre(),e),...t}));Ue.displayName=k8.displayName;const Nre=jg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Uu=w.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:xe(Nre({variant:t}),e),...r}));Uu.displayName="Alert";const Ere=w.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:xe("mb-1 font-medium leading-none tracking-tight",e),...t}));Ere.displayName="AlertTitle";const Wu=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("text-sm [&_p]:leading-relaxed",e),...t}));Wu.displayName="AlertDescription";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Tre,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:N8("lucide",a),...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(Are,{ref:s,iconNode:t,className:N8(`lucide-${Cre(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=Ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=Ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=Ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ve("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=Ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=Ve("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ve("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=Ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=Ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=Ve("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=Ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=Ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ve("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=Ve("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=Ve("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=Ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=Ve("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Ve("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ve("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Ve("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=Ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=Ve("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=Ve("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Ve("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ve("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=Ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Ve("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=Ve("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=Ve("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=Ve("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=Ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),lne=()=>{const{t:e}=Ut(),[t,r]=w.useState(""),[n,a]=w.useState(""),[s,i]=w.useState(!1),[l,c]=w.useState(""),[u,d]=w.useState(!1);w.useState(!1);const{signIn:f,signInWithGoogle:h}=xr(),m=ss(),g=async p=>{p.preventDefault(),c(""),d(!0);try{const v=await f(t,n);v&&(console.log("[LoginForm] Sign in successful, user role:",v.role),v.role==="client"?m("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":v.role==="partner"?window.location.href="/#/partner-dashboard":v.role==="partner_employee"?window.location.href="/#/partner-employee-dashboard":window.location.href="/#/dashboard")}catch(v){console.error("[LoginForm] Sign in error:",v),c(v.message||e("auth.failedToSignIn")),d(!1)}};return o.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6 px-4 sm:px-0",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("auth.signIn")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("auth.enterCredentials")})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[l&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{className:"text-sm",children:l})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"email",className:"text-sm font-medium",children:e("auth.email")}),o.jsx(Qe,{id:"email",type:"email",value:t,onChange:p=>r(p.target.value),placeholder:"you@middar.com",required:!0,className:"h-11 text-base"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"password",className:"text-sm font-medium",children:e("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx(Qe,{id:"password",type:s?"text":"password",value:n,onChange:p=>a(p.target.value),placeholder:"",required:!0,className:"h-11 text-base pe-10"}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute end-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!s),"aria-label":s?"Hide password":"Show password",children:s?o.jsx(Wre,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(mi,{className:"h-4 w-4 text-muted-foreground"})})]})]}),o.jsx(ie,{type:"submit",className:"w-full h-11 text-base font-medium shadow-lg hover:shadow-xl transition-all duration-200",disabled:u,children:u?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-current"}),e("auth.signingIn")]}):e("auth.signInButton")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:e("auth.dontHaveAccount")}),o.jsx(ie,{variant:"link",className:"p-0 h-auto text-sm font-medium hover:text-primary transition-colors",onClick:()=>m("/signup"),children:e("auth.signUp")})]})]})},cne=()=>{const[e,t]=w.useState(!1);xr();const r=ss(),{t:n}=Ut();return o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-3xl font-bold",children:n("auth.createAccount")}),o.jsx("p",{className:"text-muted-foreground mt-2",children:n("auth.signUpToGetStarted")})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.chooseAccountTypeSignUp")}),e&&o.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n("auth.redirectingToGoogle")})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[n("auth.alreadyHaveAccount")," "]}),o.jsx(ie,{variant:"link",className:"p-0",onClick:()=>r("/login"),children:n("auth.signIn")})]})]})};function une(e,t){const r=w.createContext(t),n=s=>{const{children:i,...l}=s,c=w.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=w.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function pa(e,t=[]){let r=[];function n(s,i){const l=w.createContext(i),c=r.length;r=[...r,i];const u=f=>{var x;const{scope:h,children:m,...g}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,v=w.useMemo(()=>g,Object.values(g));return o.jsx(p.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=w.useContext(m);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>w.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return w.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,dne(a,...t)]}function dne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function mn(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Xr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function fne(){return J$.useSyncExternalStore(hne,()=>!0,()=>!1)}function hne(){return()=>{}}var WE="Avatar",[mne,Y7e]=pa(WE),[pne,R8]=mne(WE),I8=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,s]=w.useState("idle");return o.jsx(pne,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:o.jsx(tt.span,{...n,ref:t})})});I8.displayName=WE;var M8="AvatarImage",F8=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...s}=e,i=R8(M8,r),l=gne(n,s),c=mn(u=>{a(u),i.onImageLoadingStatusChange(u)});return Xr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(tt.img,{...s,ref:t,src:n}):null});F8.displayName=M8;var L8="AvatarFallback",$8=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,s=R8(L8,r),[i,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&s.imageLoadingStatus!=="loaded"?o.jsx(tt.span,{...a,ref:t}):null});$8.displayName=L8;function f4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gne(e,{referrerPolicy:t,crossOrigin:r}){const n=fne(),a=w.useRef(null),s=n?(a.current||(a.current=new window.Image),a.current):null,[i,l]=w.useState(()=>f4(s,e));return Xr(()=>{l(f4(s,e))},[s,e]),Xr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,t]),i}var B8=I8,U8=F8,W8=$8;const Ss=w.forwardRef(({className:e,...t},r)=>o.jsx(B8,{ref:r,className:xe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ss.displayName=B8.displayName;const js=w.forwardRef(({className:e,...t},r)=>o.jsx(U8,{ref:r,className:xe("aspect-square h-full w-full",e),...t}));js.displayName=U8.displayName;const ks=w.forwardRef(({className:e,...t},r)=>o.jsx(W8,{ref:r,className:xe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ks.displayName=W8.displayName;const vne=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager"],icon:o4},{labelKey:"navigation.empDashboard",path:"/employee_dashboard",roles:["employee","team_leader"],icon:o4},{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:Vre},{labelKey:"navigation.partnerDashboard",path:"/partner-dashboard",roles:["partner"],icon:Mre},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader"],icon:$i}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader"],icon:Pa},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader"],icon:Sa},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader"],icon:Nf}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader"],icon:Ep},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","client"],icon:Kd}]},{label:"communication",items:[{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","client"],icon:kg},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader"],icon:P8}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:nne},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:O8}]}];function h4({onNavigate:e}={}){var a,s,i,l;const t=ml(),{user:r}=xr(),{t:n}=Ut();return o.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[o.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:o.jsx(Sa,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:n("landing.brandName")}),o.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),o.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:o.jsx("nav",{className:"space-y-6",children:vne.map(c=>{const u=c.items.filter(d=>r&&d.roles.includes(r.role));return u.length===0?null:o.jsxs("div",{children:[o.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:n(`navigation.${c.label}Group`,c.label)}),o.jsx("div",{className:"space-y-1",children:u.map(d=>{const f=t.pathname===d.path,h=d.icon;return o.jsxs(Xj,{to:d.path,onClick:e,className:xe("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",f?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[f&&o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),o.jsx(h,{className:xe("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",f?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),o.jsx("span",{className:"flex-1 relative z-10",children:n(d.labelKey)}),f&&o.jsx(ih,{className:"h-4 w-4 text-white/70 relative z-10"})]},d.path)})})]},c.label)})})}),o.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[o.jsxs(Ss,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:[o.jsx(js,{src:(a=r==null?void 0:r.profile)==null?void 0:a.avatar}),o.jsx(ks,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(s=r==null?void 0:r.email)==null?void 0:s.charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((i=r==null?void 0:r.profile)==null?void 0:i.user_name)||(r==null?void 0:r.email)}),o.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(l=r==null?void 0:r.role)==null?void 0:l.replace("_"," ")]})]}),o.jsx(ih,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function xne(){const e=ml(),{t}=Ut(),r=e.pathname.split("/").filter(s=>s);if(r.length===0)return null;const n={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},a=s=>n[s]?t(n[s]):/^\d+$/.test(s)||s.length>20?s:s.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");return o.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[o.jsx(Xj,{to:"/",className:"hover:text-foreground transition-colors",children:t("navigation.home")}),r.map((s,i)=>{const l=`/${r.slice(0,i+1).join("/")}`,c=i===r.length-1,u=a(s);return o.jsxs("div",{className:"flex items-center",children:[o.jsx(ih,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),c?o.jsx("span",{className:"text-foreground font-medium",children:u}):o.jsx(Xj,{to:l,className:"hover:text-foreground transition-colors",children:u})]},s)})]})}function h2(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zE(e){const t=e+"CollectionProvider",[r,n]=pa(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:x}=p,b=te.useRef(null),y=te.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:y,collectionRef:b,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=yc(l),u=te.forwardRef((p,v)=>{const{scope:x,children:b}=p,y=s(l,x),_=Ot(v,y.collectionRef);return o.jsx(c,{ref:_,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=yc(d),m=te.forwardRef((p,v)=>{const{scope:x,children:b,...y}=p,_=te.useRef(null),S=Ot(v,_),k=s(d,x);return te.useEffect(()=>(k.itemMap.set(_,{ref:_,...y}),()=>void k.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:b})});m.displayName=d;function g(p){const v=s(e+"CollectionConsumer",p);return te.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,j)=>y.indexOf(k.ref.current)-y.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},g,n]}var yne=w.createContext(void 0);function Ng(e){const t=w.useContext(yne);return e||t||"ltr"}function wne(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e);w.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bne="DismissableLayer",m2="dismissableLayer.update",_ne="dismissableLayer.pointerDownOutside",Sne="dismissableLayer.focusOutside",m4,z8=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eg=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=w.useContext(z8),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),g=Ot(t,j=>f(j)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),b=d?p.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,_=b>=x,S=Nne(j=>{const E=j.target,N=[...u.branches].some(A=>A.contains(E));!_||N||(a==null||a(j),i==null||i(j),j.defaultPrevented||l==null||l())},h),k=Ene(j=>{const E=j.target;[...u.branches].some(A=>A.contains(E))||(s==null||s(j),i==null||i(j),j.defaultPrevented||l==null||l())},h);return wne(j=>{b===u.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m4=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),p4(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=m4)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),p4())},[d,u]),w.useEffect(()=>{const j=()=>m({});return document.addEventListener(m2,j),()=>document.removeEventListener(m2,j)},[]),o.jsx(tt.div,{...c,ref:g,style:{pointerEvents:y?_?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,S.onPointerDownCapture)})});Eg.displayName=bne;var jne="DismissableLayerBranch",kne=w.forwardRef((e,t)=>{const r=w.useContext(z8),n=w.useRef(null),a=Ot(t,n);return w.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(tt.div,{...e,ref:a})});kne.displayName=jne;function Nne(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),n=w.useRef(!1),a=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){V8(_ne,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Ene(e,t=globalThis==null?void 0:globalThis.document){const r=mn(e),n=w.useRef(!1);return w.useEffect(()=>{const a=s=>{s.target&&!n.current&&V8(Sne,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function p4(){const e=new CustomEvent(m2);document.dispatchEvent(e)}function V8(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?S8(a,s):a.dispatchEvent(s)}var O_=0;function hw(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g4()),document.body.insertAdjacentElement("beforeend",e[1]??g4()),O_++,()=>{O_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O_--}},[])}function g4(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var P_="focusScope.autoFocusOnMount",D_="focusScope.autoFocusOnUnmount",v4={bubbles:!1,cancelable:!0},Cne="FocusScope",Cg=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=w.useState(null),u=mn(a),d=mn(s),f=w.useRef(null),h=Ot(t,p=>c(p)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let p=function(y){if(m.paused||!l)return;const _=y.target;l.contains(_)?f.current=_:Pl(f.current,{select:!0})},v=function(y){if(m.paused||!l)return;const _=y.relatedTarget;_!==null&&(l.contains(_)||Pl(f.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const S of y)S.removedNodes.length>0&&Pl(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(x);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),w.useEffect(()=>{if(l){y4.add(m);const p=document.activeElement;if(!l.contains(p)){const x=new CustomEvent(P_,v4);l.addEventListener(P_,u),l.dispatchEvent(x),x.defaultPrevented||(Tne(Rne(H8(l)),{select:!0}),document.activeElement===p&&Pl(l))}return()=>{l.removeEventListener(P_,u),setTimeout(()=>{const x=new CustomEvent(D_,v4);l.addEventListener(D_,d),l.dispatchEvent(x),x.defaultPrevented||Pl(p??document.body,{select:!0}),l.removeEventListener(D_,d),y4.remove(m)},0)}}},[l,u,d,m]);const g=w.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const b=p.currentTarget,[y,_]=Ane(b);y&&_?!p.shiftKey&&x===_?(p.preventDefault(),r&&Pl(y,{select:!0})):p.shiftKey&&x===y&&(p.preventDefault(),r&&Pl(_,{select:!0})):x===b&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(tt.div,{tabIndex:-1,...i,ref:h,onKeyDown:g})});Cg.displayName=Cne;function Tne(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Pl(n,{select:t}),document.activeElement!==r)return}function Ane(e){const t=H8(e),r=x4(t,e),n=x4(t.reverse(),e);return[r,n]}function H8(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function x4(e,t){for(const r of e)if(!One(r,{upTo:t}))return r}function One(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pne(e){return e instanceof HTMLInputElement&&"select"in e}function Pl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Pne(e)&&t&&e.select()}}var y4=Dne();function Dne(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=w4(e,t),e.unshift(t)},remove(t){var r;e=w4(e,t),(r=e[0])==null||r.resume()}}}function w4(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Rne(e){return e.filter(t=>t.tagName!=="A")}var Ine=jN[" useId ".trim().toString()]||(()=>{}),Mne=0;function jn(e){const[t,r]=w.useState(Ine());return Xr(()=>{r(n=>n??String(Mne++))},[e]),t?`radix-${t}`:""}const Fne=["top","right","bottom","left"],wc=Math.min,Wa=Math.max,yy=Math.round,Lv=Math.floor,eo=e=>({x:e,y:e}),Lne={left:"right",right:"left",bottom:"top",top:"bottom"},$ne={start:"end",end:"start"};function p2(e,t,r){return Wa(e,wc(t,r))}function al(e,t){return typeof e=="function"?e(t):e}function sl(e){return e.split("-")[0]}function tm(e){return e.split("-")[1]}function VE(e){return e==="x"?"y":"x"}function HE(e){return e==="y"?"height":"width"}const Bne=new Set(["top","bottom"]);function qi(e){return Bne.has(sl(e))?"y":"x"}function GE(e){return VE(qi(e))}function Une(e,t,r){r===void 0&&(r=!1);const n=tm(e),a=GE(e),s=HE(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=wy(i)),[i,wy(i)]}function Wne(e){const t=wy(e);return[g2(e),t,g2(t)]}function g2(e){return e.replace(/start|end/g,t=>$ne[t])}const b4=["left","right"],_4=["right","left"],zne=["top","bottom"],Vne=["bottom","top"];function Hne(e,t,r){switch(e){case"top":case"bottom":return r?t?_4:b4:t?b4:_4;case"left":case"right":return t?zne:Vne;default:return[]}}function Gne(e,t,r,n){const a=tm(e);let s=Hne(sl(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(g2)))),s}function wy(e){return e.replace(/left|right|bottom|top/g,t=>Lne[t])}function Kne(e){return{top:0,right:0,bottom:0,left:0,...e}}function G8(e){return typeof e!="number"?Kne(e):{top:e,right:e,bottom:e,left:e}}function by(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function S4(e,t,r){let{reference:n,floating:a}=e;const s=qi(t),i=GE(t),l=HE(i),c=sl(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(tm(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const qne=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=S4(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:x}=l[p],{x:b,y,data:_,reset:S}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=y??f,m={...m,[v]:{...m[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=S4(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function v0(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=al(t,e),g=G8(m),v=l[h?f==="floating"?"reference":"floating":f],x=by(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},S=by(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(x.top-S.top+g.top)/_.y,bottom:(S.bottom-x.bottom+g.bottom)/_.y,left:(x.left-S.left+g.left)/_.x,right:(S.right-x.right+g.right)/_.x}}const Yne=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=al(e,t)||{};if(u==null)return{};const f=G8(d),h={x:r,y:n},m=GE(a),g=HE(m),p=await i.getDimensions(u),v=m==="y",x=v?"top":"left",b=v?"bottom":"right",y=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[m]-h[m]-s.floating[g],S=h[m]-s.reference[m],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=k?k[y]:0;(!j||!await(i.isElement==null?void 0:i.isElement(k)))&&(j=l.floating[y]||s.floating[g]);const E=_/2-S/2,N=j/2-p[g]/2-1,A=wc(f[x],N),O=wc(f[b],N),P=A,U=j-p[g]-O,z=j/2-p[g]/2+E,W=p2(P,z,U),I=!c.arrow&&tm(a)!=null&&z!==W&&s.reference[g]/2-(z<P?A:O)-p[g]/2<0,R=I?z<P?z-P:z-U:0;return{[m]:h[m]+R,data:{[m]:W,centerOffset:z-W-R,...I&&{alignmentOffset:R}},reset:I}}}),Xne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=al(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=sl(a),b=qi(l),y=sl(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(y||!p?[wy(l)]:Wne(l)),k=g!=="none";!h&&k&&S.push(...Gne(l,p,g,_));const j=[l,...S],E=await v0(t,v),N=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&N.push(E[x]),f){const z=Une(a,i,_);N.push(E[z[0]],E[z[1]])}if(A=[...A,{placement:a,overflows:N}],!N.every(z=>z<=0)){var O,P;const z=(((O=s.flip)==null?void 0:O.index)||0)+1,W=j[z];if(W&&(!(f==="alignment"?b!==qi(W):!1)||A.every(F=>F.overflows[0]>0&&qi(F.placement)===b)))return{data:{index:z,overflows:A},reset:{placement:W}};let I=(P=A.filter(R=>R.overflows[0]<=0).sort((R,F)=>R.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!I)switch(m){case"bestFit":{var U;const R=(U=A.filter(F=>{if(k){const D=qi(F.placement);return D===b||D==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(D=>D>0).reduce((D,V)=>D+V,0)]).sort((F,D)=>F[1]-D[1])[0])==null?void 0:U[0];R&&(I=R);break}case"initialPlacement":I=l;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function j4(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k4(e){return Fne.some(t=>e[t]>=0)}const Qne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=al(e,t);switch(n){case"referenceHidden":{const s=await v0(t,{...a,elementContext:"reference"}),i=j4(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:k4(i)}}}case"escaped":{const s=await v0(t,{...a,altBoundary:!0}),i=j4(s,r.floating);return{data:{escapedOffsets:i,escaped:k4(i)}}}default:return{}}}}},K8=new Set(["left","top"]);async function Jne(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=sl(r),l=tm(r),c=qi(r)==="y",u=K8.has(i)?-1:1,d=s&&c?-1:1,f=al(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Zne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await Jne(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},eae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:v=>{let{x,y:b}=v;return{x,y:b}}},...c}=al(e,t),u={x:r,y:n},d=await v0(t,c),f=qi(sl(a)),h=VE(f);let m=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",b=m+d[v],y=m-d[x];m=p2(b,m,y)}if(i){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=g+d[v],y=g-d[x];g=p2(b,g,y)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},tae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=al(e,t),d={x:r,y:n},f=qi(a),h=VE(f);let m=d[h],g=d[f];const p=al(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const y=h==="y"?"height":"width",_=s.reference[h]-s.floating[y]+v.mainAxis,S=s.reference[h]+s.reference[y]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var x,b;const y=h==="y"?"width":"height",_=K8.has(sl(a)),S=s.reference[f]-s.floating[y]+(_&&((x=i.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),k=s.reference[f]+s.reference[y]+(_?0:((b=i.offset)==null?void 0:b[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[h]:m,[f]:g}}}},rae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=al(e,t),d=await v0(t,u),f=sl(a),h=tm(a),m=qi(a)==="y",{width:g,height:p}=s.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=h==="end"?"top":"bottom");const b=p-d.top-d.bottom,y=g-d.left-d.right,_=wc(p-d[v],b),S=wc(g-d[x],y),k=!t.middlewareData.shift;let j=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=b),k&&!h){const A=Wa(d.left,0),O=Wa(d.right,0),P=Wa(d.top,0),U=Wa(d.bottom,0);m?E=g-2*(A!==0||O!==0?A+O:Wa(d.left,d.right)):j=p-2*(P!==0||U!==0?P+U:Wa(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:j});const N=await i.getDimensions(l.floating);return g!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function mw(){return typeof window<"u"}function rm(e){return q8(e)?(e.nodeName||"").toLowerCase():"#document"}function Qa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function uo(e){var t;return(t=(q8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q8(e){return mw()?e instanceof Node||e instanceof Qa(e).Node:!1}function ki(e){return mw()?e instanceof Element||e instanceof Qa(e).Element:!1}function ao(e){return mw()?e instanceof HTMLElement||e instanceof Qa(e).HTMLElement:!1}function N4(e){return!mw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qa(e).ShadowRoot}const nae=new Set(["inline","contents"]);function Tg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nae.has(a)}const aae=new Set(["table","td","th"]);function sae(e){return aae.has(rm(e))}const iae=[":popover-open",":modal"];function pw(e){return iae.some(t=>{try{return e.matches(t)}catch{return!1}})}const oae=["transform","translate","scale","rotate","perspective"],lae=["transform","translate","scale","rotate","perspective","filter"],cae=["paint","layout","strict","content"];function KE(e){const t=qE(),r=ki(e)?Ni(e):e;return oae.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lae.some(n=>(r.willChange||"").includes(n))||cae.some(n=>(r.contain||"").includes(n))}function uae(e){let t=bc(e);for(;ao(t)&&!lh(t);){if(KE(t))return t;if(pw(t))return null;t=bc(t)}return null}function qE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dae=new Set(["html","body","#document"]);function lh(e){return dae.has(rm(e))}function Ni(e){return Qa(e).getComputedStyle(e)}function gw(e){return ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function bc(e){if(rm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||N4(e)&&e.host||uo(e);return N4(t)?t.host:t}function Y8(e){const t=bc(e);return lh(t)?e.ownerDocument?e.ownerDocument.body:e.body:ao(t)&&Tg(t)?t:Y8(t)}function x0(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Y8(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=Qa(a);if(s){const l=v2(i);return t.concat(i,i.visualViewport||[],Tg(a)?a:[],l&&r?x0(l):[])}return t.concat(a,x0(a,[],r))}function v2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X8(e){const t=Ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ao(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=yy(r)!==s||yy(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function YE(e){return ki(e)?e:e.contextElement}function Ef(e){const t=YE(e);if(!ao(t))return eo(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=X8(t);let i=(s?yy(r.width):r.width)/n,l=(s?yy(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const fae=eo(0);function Q8(e){const t=Qa(e);return!qE()||!t.visualViewport?fae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qa(e)?!1:t}function zu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=YE(e);let i=eo(1);t&&(n?ki(n)&&(i=Ef(n)):i=Ef(e));const l=hae(s,r,n)?Q8(s):eo(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=Qa(s),m=n&&ki(n)?Qa(n):n;let g=h,p=v2(g);for(;p&&n&&m!==g;){const v=Ef(p),x=p.getBoundingClientRect(),b=Ni(p),y=x.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,_=x.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=y,u+=_,g=Qa(p),p=v2(g)}}return by({width:d,height:f,x:c,y:u})}function XE(e,t){const r=gw(e).scrollLeft;return t?t.left+r:zu(uo(e)).left+r}function J8(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:XE(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function mae(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=uo(n),l=t?pw(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=eo(1);const d=eo(0),f=ao(n);if((f||!f&&!s)&&((rm(n)!=="body"||Tg(i))&&(c=gw(n)),ao(n))){const m=zu(n);u=Ef(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=i&&!f&&!s?J8(i,c,!0):eo(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function pae(e){return Array.from(e.getClientRects())}function gae(e){const t=uo(e),r=gw(e),n=e.ownerDocument.body,a=Wa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Wa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+XE(e);const l=-r.scrollTop;return Ni(n).direction==="rtl"&&(i+=Wa(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function vae(e,t){const r=Qa(e),n=uo(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=qE();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}const xae=new Set(["absolute","fixed"]);function yae(e,t){const r=zu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=ao(e)?Ef(e):eo(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function E4(e,t,r){let n;if(t==="viewport")n=vae(e,r);else if(t==="document")n=gae(uo(e));else if(ki(t))n=yae(t,r);else{const a=Q8(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return by(n)}function Z8(e,t){const r=bc(e);return r===t||!ki(r)||lh(r)?!1:Ni(r).position==="fixed"||Z8(r,t)}function wae(e,t){const r=t.get(e);if(r)return r;let n=x0(e,[],!1).filter(l=>ki(l)&&rm(l)!=="body"),a=null;const s=Ni(e).position==="fixed";let i=s?bc(e):e;for(;ki(i)&&!lh(i);){const l=Ni(i),c=KE(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&xae.has(a.position)||Tg(i)&&!c&&Z8(e,i))?n=n.filter(d=>d!==i):a=l,i=bc(i)}return t.set(e,n),n}function bae(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?pw(t)?[]:wae(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=E4(t,d,a);return u.top=Wa(f.top,u.top),u.right=wc(f.right,u.right),u.bottom=wc(f.bottom,u.bottom),u.left=Wa(f.left,u.left),u},E4(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _ae(e){const{width:t,height:r}=X8(e);return{width:t,height:r}}function Sae(e,t,r){const n=ao(t),a=uo(t),s=r==="fixed",i=zu(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=eo(0);function u(){c.x=XE(a)}if(n||!n&&!s)if((rm(t)!=="body"||Tg(a))&&(l=gw(t)),n){const m=zu(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?J8(a,l):eo(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function R_(e){return Ni(e).position==="static"}function C4(e,t){if(!ao(e)||Ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return uo(e)===r&&(r=r.ownerDocument.body),r}function e6(e,t){const r=Qa(e);if(pw(e))return r;if(!ao(e)){let a=bc(e);for(;a&&!lh(a);){if(ki(a)&&!R_(a))return a;a=bc(a)}return r}let n=C4(e,t);for(;n&&sae(n)&&R_(n);)n=C4(n,t);return n&&lh(n)&&R_(n)&&!KE(n)?r:n||uae(e)||r}const jae=async function(e){const t=this.getOffsetParent||e6,r=this.getDimensions,n=await r(e.floating);return{reference:Sae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kae(e){return Ni(e).direction==="rtl"}const Nae={convertOffsetParentRelativeRectToViewportRelativeRect:mae,getDocumentElement:uo,getClippingRect:bae,getOffsetParent:e6,getElementRects:jae,getClientRects:pae,getDimensions:_ae,getScale:Ef,isElement:ki,isRTL:kae};function t6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Eae(e,t){let r=null,n;const a=uo(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Lv(f),p=Lv(a.clientWidth-(d+h)),v=Lv(a.clientHeight-(f+m)),x=Lv(d),y={rootMargin:-g+"px "+-p+"px "+-v+"px "+-x+"px",threshold:Wa(0,wc(1,c))||1};let _=!0;function S(k){const j=k[0].intersectionRatio;if(j!==c){if(!_)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!t6(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return i(!0),s}function Cae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=YE(e),d=a||s?[...u?x0(u):[],...x0(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?Eae(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?zu(e):null;c&&v();function v(){const x=zu(e);p&&!t6(p,x)&&r(),p=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const Tae=Zne,Aae=eae,Oae=Xne,Pae=rae,Dae=Qne,T4=Yne,Rae=tae,Iae=(e,t,r)=>{const n=new Map,a={platform:Nae,...r},s={...a.platform,_c:n};return qne(e,t,{...a,platform:s})};var Mae=typeof document<"u",Fae=function(){},Ex=Mae?w.useLayoutEffect:Fae;function _y(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!_y(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!_y(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function r6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function A4(e,t){const r=r6(e);return Math.round(t*r)/r}function I_(e){const t=w.useRef(e);return Ex(()=>{t.current=e}),t}function Lae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);_y(h,n)||m(n);const[g,p]=w.useState(null),[v,x]=w.useState(null),b=w.useCallback(F=>{F!==k.current&&(k.current=F,p(F))},[]),y=w.useCallback(F=>{F!==j.current&&(j.current=F,x(F))},[]),_=s||g,S=i||v,k=w.useRef(null),j=w.useRef(null),E=w.useRef(d),N=c!=null,A=I_(c),O=I_(a),P=I_(u),U=w.useCallback(()=>{if(!k.current||!j.current)return;const F={placement:t,strategy:r,middleware:h};O.current&&(F.platform=O.current),Iae(k.current,j.current,F).then(D=>{const V={...D,isPositioned:P.current!==!1};z.current&&!_y(E.current,V)&&(E.current=V,Yh.flushSync(()=>{f(V)}))})},[h,t,r,O,P]);Ex(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const z=w.useRef(!1);Ex(()=>(z.current=!0,()=>{z.current=!1}),[]),Ex(()=>{if(_&&(k.current=_),S&&(j.current=S),_&&S){if(A.current)return A.current(_,S,U);U()}},[_,S,U,A,N]);const W=w.useMemo(()=>({reference:k,floating:j,setReference:b,setFloating:y}),[b,y]),I=w.useMemo(()=>({reference:_,floating:S}),[_,S]),R=w.useMemo(()=>{const F={position:r,left:0,top:0};if(!I.floating)return F;const D=A4(I.floating,d.x),V=A4(I.floating,d.y);return l?{...F,transform:"translate("+D+"px, "+V+"px)",...r6(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:V}},[r,l,I.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:U,refs:W,elements:I,floatingStyles:R}),[d,U,W,I,R])}const $ae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?T4({element:n.current,padding:a}).fn(r):{}:n?T4({element:n,padding:a}).fn(r):{}}}},Bae=(e,t)=>({...Tae(e),options:[e,t]}),Uae=(e,t)=>({...Aae(e),options:[e,t]}),Wae=(e,t)=>({...Rae(e),options:[e,t]}),zae=(e,t)=>({...Oae(e),options:[e,t]}),Vae=(e,t)=>({...Pae(e),options:[e,t]}),Hae=(e,t)=>({...Dae(e),options:[e,t]}),Gae=(e,t)=>({...$ae(e),options:[e,t]});var Kae="Arrow",n6=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(tt.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});n6.displayName=Kae;var qae=n6;function QE(e){const[t,r]=w.useState(void 0);return Xr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var JE="Popper",[a6,nm]=pa(JE),[Yae,s6]=a6(JE),i6=e=>{const{__scopePopper:t,children:r}=e,[n,a]=w.useState(null);return o.jsx(Yae,{scope:t,anchor:n,onAnchorChange:a,children:r})};i6.displayName=JE;var o6="PopperAnchor",l6=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=s6(o6,r),i=w.useRef(null),l=Ot(t,i);return w.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(tt.div,{...a,ref:l})});l6.displayName=o6;var ZE="PopperContent",[Xae,Qae]=a6(ZE),c6=w.forwardRef((e,t)=>{var ae,de,re,H,ce,C;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=s6(ZE,r),[x,b]=w.useState(null),y=Ot(t,Ne=>b(Ne)),[_,S]=w.useState(null),k=QE(_),j=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,N=n+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],P=O.length>0,U={padding:A,boundary:O.filter(Zae),altBoundary:P},{refs:z,floatingStyles:W,placement:I,isPositioned:R,middlewareData:F}=Lae({strategy:"fixed",placement:N,whileElementsMounted:(...Ne)=>Cae(...Ne,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[Bae({mainAxis:a+E,alignmentAxis:i}),c&&Uae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Wae():void 0,...U}),c&&zae({...U}),Vae({...U,apply:({elements:Ne,rects:Te,availableWidth:Le,availableHeight:Ie})=>{const{width:Ee,height:ot}=Te.reference,St=Ne.floating.style;St.setProperty("--radix-popper-available-width",`${Le}px`),St.setProperty("--radix-popper-available-height",`${Ie}px`),St.setProperty("--radix-popper-anchor-width",`${Ee}px`),St.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),_&&Gae({element:_,padding:l}),ese({arrowWidth:j,arrowHeight:E}),h&&Hae({strategy:"referenceHidden",...U})]}),[D,V]=f6(I),J=mn(g);Xr(()=>{R&&(J==null||J())},[R,J]);const T=(ae=F.arrow)==null?void 0:ae.x,G=(de=F.arrow)==null?void 0:de.y,M=((re=F.arrow)==null?void 0:re.centerOffset)!==0,[B,ee]=w.useState();return Xr(()=>{x&&ee(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:R?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[(H=F.transformOrigin)==null?void 0:H.x,(ce=F.transformOrigin)==null?void 0:ce.y].join(" "),...((C=F.hide)==null?void 0:C.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Xae,{scope:r,placedSide:D,onArrowChange:S,arrowX:T,arrowY:G,shouldHideArrow:M,children:o.jsx(tt.div,{"data-side":D,"data-align":V,...p,ref:y,style:{...p.style,animation:R?void 0:"none"}})})})});c6.displayName=ZE;var u6="PopperArrow",Jae={top:"bottom",right:"left",bottom:"top",left:"right"},d6=w.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=Qae(u6,n),i=Jae[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(qae,{...a,ref:r,style:{...a.style,display:"block"}})})});d6.displayName=u6;function Zae(e){return e!==null}var ese=e=>({name:"transformOrigin",options:e,fn(t){var v,x,b;const{placement:r,rects:n,middlewareData:a}=t,i=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=f6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=a.arrow)==null?void 0:x.x)??0)+l/2,m=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=i?f:`${h}px`,p=`${-c}px`):u==="top"?(g=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:g,y:p}}}});function f6(e){const[t,r="center"]=e.split("-");return[t,r]}var eC=i6,vw=l6,tC=c6,rC=d6,tse="Portal",Ag=w.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=w.useState(!1);Xr(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?LY.createPortal(o.jsx(tt.div,{...n,ref:t}),i):null});Ag.displayName=tse;var rse=jN[" useInsertionEffect ".trim().toString()]||Xr;function il({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,s,i]=nse({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=w.useRef(e!==void 0);w.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=w.useCallback(d=>{var f;if(l){const h=ase(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else s(d)},[l,e,s,i]);return[c,u]}function nse({defaultProp:e,onChange:t}){const[r,n]=w.useState(e),a=w.useRef(r),s=w.useRef(t);return rse(()=>{s.current=t},[t]),w.useEffect(()=>{var i;a.current!==r&&((i=s.current)==null||i.call(s,r),a.current=r)},[r,a]),[r,n,s]}function ase(e){return typeof e=="function"}function nC(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var h6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sse="VisuallyHidden",ise=w.forwardRef((e,t)=>o.jsx(tt.span,{...e,ref:t,style:{...h6,...e.style}}));ise.displayName=sse;var ose=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dd=new WeakMap,$v=new WeakMap,Bv={},M_=0,m6=function(e){return e&&(e.host||m6(e.parentNode))},lse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=m6(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},cse=function(e,t,r,n){var a=lse(t,Array.isArray(e)?e:[e]);Bv[r]||(Bv[r]=new WeakMap);var s=Bv[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Dd.get(h)||0)+1,v=(s.get(h)||0)+1;Dd.set(h,p),s.set(h,v),i.push(h),p===1&&g&&$v.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),M_++,function(){i.forEach(function(f){var h=Dd.get(f)-1,m=s.get(f)-1;Dd.set(f,h),s.set(f,m),h||($v.has(f)||f.removeAttribute(n),$v.delete(f)),m||f.removeAttribute(r)}),M_--,M_||(Dd=new WeakMap,Dd=new WeakMap,$v=new WeakMap,Bv={})}},xw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=ose(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),cse(n,a,r,"aria-hidden")):function(){return null}},Cx="right-scroll-bar-position",Tx="width-before-scroll-bar",use="with-scroll-bars-hidden",dse="--removed-body-scroll-bar-size";function F_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fse(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var hse=typeof window<"u"?w.useLayoutEffect:w.useEffect,O4=new WeakMap;function mse(e,t){var r=fse(null,function(n){return e.forEach(function(a){return F_(a,n)})});return hse(function(){var n=O4.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||F_(l,null)}),s.forEach(function(l){a.has(l)||F_(l,i)})}O4.set(r,e)},[e]),r}function pse(e){return e}function gse(e,t){t===void 0&&(t=pse);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function vse(e){e===void 0&&(e={});var t=gse(null);return t.options=xs({async:!0,ssr:!1},e),t}var p6=function(e){var t=e.sideCar,r=Ac(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,xs({},r))};p6.isSideCarExport=!0;function xse(e,t){return e.useMedium(t),p6}var g6=vse(),L_=function(){},yw=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:L_,onWheelCapture:L_,onTouchMoveCapture:L_}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,y=e.gapMode,_=Ac(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=mse([r,t]),j=xs(xs({},_),a);return w.createElement(w.Fragment,null,d&&w.createElement(S,{sideCar:g6,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:y}),i?w.cloneElement(w.Children.only(l),xs(xs({},j),{ref:k})):w.createElement(b,xs({},j,{className:c,ref:k}),l))});yw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yw.classNames={fullWidth:Tx,zeroRight:Cx};var yse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yse();return t&&e.setAttribute("nonce",t),e}function bse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _se(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sse=function(){var e=0,t=null;return{add:function(r){e==0&&(t=wse())&&(bse(t,r),_se(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jse=function(){var e=Sse();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},v6=function(){var e=jse(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},kse={left:0,top:0,right:0,gap:0},$_=function(e){return parseInt(e||"",10)||0},Nse=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[$_(r),$_(n),$_(a)]},Ese=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kse;var t=Nse(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Cse=v6(),Cf="data-scroll-locked",Tse=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(use,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Cf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cx,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cx," .").concat(Cx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Tx," .").concat(Tx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Cf,`] {
    `).concat(dse,": ").concat(l,`px;
  }
`)},P4=function(){var e=parseInt(document.body.getAttribute(Cf)||"0",10);return isFinite(e)?e:0},Ase=function(){w.useEffect(function(){return document.body.setAttribute(Cf,(P4()+1).toString()),function(){var e=P4()-1;e<=0?document.body.removeAttribute(Cf):document.body.setAttribute(Cf,e.toString())}},[])},Ose=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Ase();var s=w.useMemo(function(){return Ese(a)},[a]);return w.createElement(Cse,{styles:Tse(s,!t,a,r?"":"!important")})},x2=!1;if(typeof window<"u")try{var Uv=Object.defineProperty({},"passive",{get:function(){return x2=!0,!0}});window.addEventListener("test",Uv,Uv),window.removeEventListener("test",Uv,Uv)}catch{x2=!1}var Rd=x2?{passive:!1}:!1,Pse=function(e){return e.tagName==="TEXTAREA"},x6=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Pse(e)&&r[t]==="visible")},Dse=function(e){return x6(e,"overflowY")},Rse=function(e){return x6(e,"overflowX")},D4=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=y6(e,n);if(a){var s=w6(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Ise=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Mse=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},y6=function(e,t){return e==="v"?Dse(t):Rse(t)},w6=function(e,t){return e==="v"?Ise(t):Mse(t)},Fse=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lse=function(e,t,r,n,a){var s=Fse(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var m=w6(e,l),g=m[0],p=m[1],v=m[2],x=p-v-s*g;(g||x)&&y6(e,l)&&(f+=x,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Wv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R4=function(e){return[e.deltaX,e.deltaY]},I4=function(e){return e&&"current"in e?e.current:e},$se=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Use=0,Id=[];function Wse(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),a=w.useState(Use++)[0],s=w.useState(v6)[0],i=w.useRef(e);w.useEffect(function(){i.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=kE([e.lockRef.current],(e.shards||[]).map(I4),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=w.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var x=Wv(p),b=r.current,y="deltaX"in p?p.deltaX:b[0]-x[0],_="deltaY"in p?p.deltaY:b[1]-x[1],S,k=p.target,j=Math.abs(y)>Math.abs(_)?"h":"v";if("touches"in p&&j==="h"&&k.type==="range")return!1;var E=D4(j,k);if(!E)return!0;if(E?S=j:(S=j==="v"?"h":"v",E=D4(j,k)),!E)return!1;if(!n.current&&"changedTouches"in p&&(y||_)&&(n.current=S),!S)return!0;var N=n.current||S;return Lse(N,v,p,N==="h"?y:_,!0)},[]),c=w.useCallback(function(p){var v=p;if(!(!Id.length||Id[Id.length-1]!==s)){var x="deltaY"in v?R4(v):Wv(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&$se(S.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var y=(i.current.shards||[]).map(I4).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=y.length>0?l(v,y[0]):!i.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=w.useCallback(function(p,v,x,b){var y={name:p,delta:v,target:x,should:b,shadowParent:zse(x)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(_){return _!==y})},1)},[]),d=w.useCallback(function(p){r.current=Wv(p),n.current=void 0},[]),f=w.useCallback(function(p){u(p.type,R4(p),p.target,l(p,e.lockRef.current))},[]),h=w.useCallback(function(p){u(p.type,Wv(p),p.target,l(p,e.lockRef.current))},[]);w.useEffect(function(){return Id.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Rd),document.addEventListener("touchmove",c,Rd),document.addEventListener("touchstart",d,Rd),function(){Id=Id.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Rd),document.removeEventListener("touchmove",c,Rd),document.removeEventListener("touchstart",d,Rd)}},[]);var m=e.removeScrollBar,g=e.inert;return w.createElement(w.Fragment,null,g?w.createElement(s,{styles:Bse(a)}):null,m?w.createElement(Ose,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zse(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vse=xse(g6,Wse);var Og=w.forwardRef(function(e,t){return w.createElement(yw,xs({},e,{ref:t,sideCar:Vse}))});Og.classNames=yw.classNames;var Hse=[" ","Enter","ArrowUp","ArrowDown"],Gse=[" ","Enter"],Vu="Select",[ww,bw,Kse]=zE(Vu),[am,X7e]=pa(Vu,[Kse,nm]),_w=nm(),[qse,Pc]=am(Vu),[Yse,Xse]=am(Vu),b6=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=_w(t),[v,x]=w.useState(null),[b,y]=w.useState(null),[_,S]=w.useState(!1),k=Ng(u),[j,E]=il({prop:n,defaultProp:a??!1,onChange:s,caller:Vu}),[N,A]=il({prop:i,defaultProp:l,onChange:c,caller:Vu}),O=w.useRef(null),P=v?g||!!v.closest("form"):!0,[U,z]=w.useState(new Set),W=Array.from(U).map(I=>I.props.value).join(";");return o.jsx(eC,{...p,children:o.jsxs(qse,{required:m,scope:t,trigger:v,onTriggerChange:x,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:jn(),value:N,onValueChange:A,open:j,onOpenChange:E,dir:k,triggerPointerDownPosRef:O,disabled:h,children:[o.jsx(ww.Provider,{scope:t,children:o.jsx(Yse,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(I=>{z(R=>new Set(R).add(I))},[]),onNativeOptionRemove:w.useCallback(I=>{z(R=>{const F=new Set(R);return F.delete(I),F})},[]),children:r})}),P?o.jsxs(H6,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:I=>A(I.target.value),disabled:h,form:g,children:[N===void 0?o.jsx("option",{value:""}):null,Array.from(U)]},W):null]})})};b6.displayName=Vu;var _6="SelectTrigger",S6=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=_w(r),i=Pc(_6,r),l=i.disabled||n,c=Ot(t,i.onTriggerChange),u=bw(r),d=w.useRef("touch"),[f,h,m]=K6(p=>{const v=u().filter(y=>!y.disabled),x=v.find(y=>y.value===i.value),b=q6(v,p,x);b!==void 0&&i.onValueChange(b.value)}),g=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(vw,{asChild:!0,...s,children:o.jsx(tt.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":G6(i.value)?"":void 0,...a,ref:c,onClick:Ke(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ke(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ke(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&Hse.includes(p.key)&&(g(),p.preventDefault())})})})});S6.displayName=_6;var j6="SelectValue",k6=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=Pc(j6,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Ot(t,c.onValueNodeChange);return Xr(()=>{u(d)},[u,d]),o.jsx(tt.span,{...l,ref:f,style:{pointerEvents:"none"},children:G6(c.value)?o.jsx(o.Fragment,{children:i}):s})});k6.displayName=j6;var Qse="SelectIcon",N6=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(tt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});N6.displayName=Qse;var Jse="SelectPortal",E6=e=>o.jsx(Ag,{asChild:!0,...e});E6.displayName=Jse;var Hu="SelectContent",C6=w.forwardRef((e,t)=>{const r=Pc(Hu,e.__scopeSelect),[n,a]=w.useState();if(Xr(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Yh.createPortal(o.jsx(T6,{scope:e.__scopeSelect,children:o.jsx(ww.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(A6,{...e,ref:t})});C6.displayName=Hu;var Js=10,[T6,Dc]=am(Hu),Zse="SelectContentImpl",eie=yc("SelectContent.RemoveScroll"),A6=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...x}=e,b=Pc(Hu,r),[y,_]=w.useState(null),[S,k]=w.useState(null),j=Ot(t,ae=>_(ae)),[E,N]=w.useState(null),[A,O]=w.useState(null),P=bw(r),[U,z]=w.useState(!1),W=w.useRef(!1);w.useEffect(()=>{if(y)return xw(y)},[y]),hw();const I=w.useCallback(ae=>{const[de,...re]=P().map(C=>C.ref.current),[H]=re.slice(-1),ce=document.activeElement;for(const C of ae)if(C===ce||(C==null||C.scrollIntoView({block:"nearest"}),C===de&&S&&(S.scrollTop=0),C===H&&S&&(S.scrollTop=S.scrollHeight),C==null||C.focus(),document.activeElement!==ce))return},[P,S]),R=w.useCallback(()=>I([E,y]),[I,E,y]);w.useEffect(()=>{U&&R()},[U,R]);const{onOpenChange:F,triggerPointerDownPosRef:D}=b;w.useEffect(()=>{if(y){let ae={x:0,y:0};const de=H=>{var ce,C;ae={x:Math.abs(Math.round(H.pageX)-(((ce=D.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(H.pageY)-(((C=D.current)==null?void 0:C.y)??0))}},re=H=>{ae.x<=10&&ae.y<=10?H.preventDefault():y.contains(H.target)||F(!1),document.removeEventListener("pointermove",de),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",re,{capture:!0})}}},[y,F,D]),w.useEffect(()=>{const ae=()=>F(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[F]);const[V,J]=K6(ae=>{const de=P().filter(ce=>!ce.disabled),re=de.find(ce=>ce.ref.current===document.activeElement),H=q6(de,ae,re);H&&setTimeout(()=>H.ref.current.focus())}),T=w.useCallback((ae,de,re)=>{const H=!W.current&&!re;(b.value!==void 0&&b.value===de||H)&&(N(ae),H&&(W.current=!0))},[b.value]),G=w.useCallback(()=>y==null?void 0:y.focus(),[y]),M=w.useCallback((ae,de,re)=>{const H=!W.current&&!re;(b.value!==void 0&&b.value===de||H)&&O(ae)},[b.value]),B=n==="popper"?y2:O6,ee=B===y2?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return o.jsx(T6,{scope:r,content:y,viewport:S,onViewportChange:k,itemRefCallback:T,selectedItem:E,onItemLeave:G,itemTextRefCallback:M,focusSelectedItem:R,selectedItemText:A,position:n,isPositioned:U,searchRef:V,children:o.jsx(Og,{as:eie,allowPinchZoom:!0,children:o.jsx(Cg,{asChild:!0,trapped:b.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ke(a,ae=>{var de;(de=b.trigger)==null||de.focus({preventScroll:!0}),ae.preventDefault()}),children:o.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:o.jsx(B,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ae=>ae.preventDefault(),...x,...ee,onPlaced:()=>z(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,ae=>{const de=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!de&&ae.key.length===1&&J(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let H=P().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const ce=ae.target,C=H.indexOf(ce);H=H.slice(C+1)}setTimeout(()=>I(H)),ae.preventDefault()}})})})})})})});A6.displayName=Zse;var tie="SelectItemAlignedPosition",O6=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=Pc(Hu,r),i=Dc(Hu,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Ot(t,j=>d(j)),h=bw(r),m=w.useRef(!1),g=w.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:x,focusSelectedItem:b}=i,y=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&v&&x){const j=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(s.dir!=="rtl"){const ce=A.left-E.left,C=N.left-ce,Ne=j.left-C,Te=j.width+Ne,Le=Math.max(Te,E.width),Ie=window.innerWidth-Js,Ee=h2(C,[Js,Math.max(Js,Ie-Le)]);l.style.minWidth=Te+"px",l.style.left=Ee+"px"}else{const ce=E.right-A.right,C=window.innerWidth-N.right-ce,Ne=window.innerWidth-j.right-C,Te=j.width+Ne,Le=Math.max(Te,E.width),Ie=window.innerWidth-Js,Ee=h2(C,[Js,Math.max(Js,Ie-Le)]);l.style.minWidth=Te+"px",l.style.right=Ee+"px"}const O=h(),P=window.innerHeight-Js*2,U=p.scrollHeight,z=window.getComputedStyle(u),W=parseInt(z.borderTopWidth,10),I=parseInt(z.paddingTop,10),R=parseInt(z.borderBottomWidth,10),F=parseInt(z.paddingBottom,10),D=W+I+U+F+R,V=Math.min(v.offsetHeight*5,D),J=window.getComputedStyle(p),T=parseInt(J.paddingTop,10),G=parseInt(J.paddingBottom,10),M=j.top+j.height/2-Js,B=P-M,ee=v.offsetHeight/2,ae=v.offsetTop+ee,de=W+I+ae,re=D-de;if(de<=M){const ce=O.length>0&&v===O[O.length-1].ref.current;l.style.bottom="0px";const C=u.clientHeight-p.offsetTop-p.offsetHeight,Ne=Math.max(B,ee+(ce?G:0)+C+R),Te=de+Ne;l.style.height=Te+"px"}else{const ce=O.length>0&&v===O[0].ref.current;l.style.top="0px";const Ne=Math.max(M,W+p.offsetTop+(ce?T:0)+ee)+re;l.style.height=Ne+"px",p.scrollTop=de-M+p.offsetTop}l.style.margin=`${Js}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,v,x,s.dir,n]);Xr(()=>y(),[y]);const[_,S]=w.useState();Xr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=w.useCallback(j=>{j&&g.current===!0&&(y(),b==null||b(),g.current=!1)},[y,b]);return o.jsx(nie,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(tt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});O6.displayName=tie;var rie="SelectPopperPosition",y2=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Js,...s}=e,i=_w(r);return o.jsx(tC,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});y2.displayName=rie;var[nie,aC]=am(Hu,{}),w2="SelectViewport",P6=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Dc(w2,r),i=aC(w2,r),l=Ot(t,s.onViewportChange),c=w.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(ww.Slot,{scope:r,children:o.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ke(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Js*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(p,v);if(x<g){const b=x+m,y=Math.min(g,b),_=b-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});P6.displayName=w2;var D6="SelectGroup",[aie,sie]=am(D6),iie=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=jn();return o.jsx(aie,{scope:r,id:a,children:o.jsx(tt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});iie.displayName=D6;var R6="SelectLabel",I6=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=sie(R6,r);return o.jsx(tt.div,{id:a.id,...n,ref:t})});I6.displayName=R6;var Sy="SelectItem",[oie,M6]=am(Sy),F6=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=Pc(Sy,r),c=Dc(Sy,r),u=l.value===n,[d,f]=w.useState(s??""),[h,m]=w.useState(!1),g=Ot(t,b=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,b,n,a)}),p=jn(),v=w.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(oie,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:w.useCallback(b=>{f(y=>y||((b==null?void 0:b.textContent)??"").trim())},[]),children:o.jsx(ww.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(tt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:g,onFocus:Ke(i.onFocus,()=>m(!0)),onBlur:Ke(i.onBlur,()=>m(!1)),onClick:Ke(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ke(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ke(i.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Ke(i.onPointerMove,b=>{var y;v.current=b.pointerType,a?(y=c.onItemLeave)==null||y.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(i.onPointerLeave,b=>{var y;b.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Ke(i.onKeyDown,b=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&b.key===" "||(Gse.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});F6.displayName=Sy;var sp="SelectItemText",L6=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=Pc(sp,r),l=Dc(sp,r),c=M6(sp,r),u=Xse(sp,r),[d,f]=w.useState(null),h=Ot(t,x=>f(x),c.onItemTextChange,x=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=w.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Xr(()=>(p(g),()=>v(g)),[p,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(tt.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Yh.createPortal(s.children,i.valueNode):null]})});L6.displayName=sp;var $6="SelectItemIndicator",B6=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return M6($6,r).isSelected?o.jsx(tt.span,{"aria-hidden":!0,...n,ref:t}):null});B6.displayName=$6;var b2="SelectScrollUpButton",U6=w.forwardRef((e,t)=>{const r=Dc(b2,e.__scopeSelect),n=aC(b2,e.__scopeSelect),[a,s]=w.useState(!1),i=Ot(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(z6,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});U6.displayName=b2;var _2="SelectScrollDownButton",W6=w.forwardRef((e,t)=>{const r=Dc(_2,e.__scopeSelect),n=aC(_2,e.__scopeSelect),[a,s]=w.useState(!1),i=Ot(t,n.onScrollButtonChange);return Xr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(z6,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});W6.displayName=_2;var z6=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Dc("SelectScrollButton",r),i=w.useRef(null),l=bw(r),c=w.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Xr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ke(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:Ke(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:Ke(a.onPointerLeave,()=>{c()})})}),lie="SelectSeparator",V6=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(tt.div,{"aria-hidden":!0,...n,ref:t})});V6.displayName=lie;var S2="SelectArrow",cie=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_w(r),s=Pc(S2,r),i=Dc(S2,r);return s.open&&i.position==="popper"?o.jsx(rC,{...a,...n,ref:t}):null});cie.displayName=S2;var uie="SelectBubbleInput",H6=w.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=w.useRef(null),s=Ot(n,a),i=nC(t);return w.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),o.jsx(tt.select,{...r,style:{...h6,...r.style},ref:s,defaultValue:t})});H6.displayName=uie;function G6(e){return e===""||e===void 0}function K6(e){const t=mn(e),r=w.useRef(""),n=w.useRef(0),a=w.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function q6(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=die(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function die(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fie=b6,Y6=S6,hie=k6,mie=N6,pie=E6,X6=C6,gie=P6,Q6=I6,J6=F6,vie=L6,xie=B6,Z6=U6,eB=W6,tB=V6;const mt=fie,pt=hie,ut=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Y6,{ref:n,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(mie,{asChild:!0,children:o.jsx($E,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=Y6.displayName;const rB=w.forwardRef(({className:e,...t},r)=>o.jsx(Z6,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Fre,{className:"h-4 w-4"})}));rB.displayName=Z6.displayName;const nB=w.forwardRef(({className:e,...t},r)=>o.jsx(eB,{ref:r,className:xe("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx($E,{className:"h-4 w-4"})}));nB.displayName=eB.displayName;const dt=w.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(pie,{children:o.jsxs(X6,{ref:a,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(rB,{}),o.jsx(gie,{className:xe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(nB,{})]})}));dt.displayName=X6.displayName;const yie=w.forwardRef(({className:e,...t},r)=>o.jsx(Q6,{ref:r,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yie.displayName=Q6.displayName;const Ce=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(J6,{ref:n,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(xie,{children:o.jsx(LE,{className:"h-4 w-4"})})}),o.jsx(vie,{children:t})]}));Ce.displayName=J6.displayName;const wie=w.forwardRef(({className:e,...t},r)=>o.jsx(tB,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));wie.displayName=tB.displayName;const aB=()=>{const{currentLanguage:e,changeLanguage:t,languages:r}=pl(),n=r.find(a=>a.code===e);return o.jsxs(mt,{value:e,onValueChange:t,children:[o.jsx(ut,{className:"w-[140px]",children:o.jsx(pt,{children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:n==null?void 0:n.name})})})}),o.jsx(dt,{children:r.map(a=>o.jsx(Ce,{value:a.code,children:o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{children:a.name})})},a.code))})]})};function bie(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var Yn=e=>{const{present:t,children:r}=e,n=_ie(t),a=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),s=Ot(n.ref,Sie(a));return typeof r=="function"||n.isPresent?w.cloneElement(a,{ref:s}):null};Yn.displayName="Presence";function _ie(e){const[t,r]=w.useState(),n=w.useRef(null),a=w.useRef(e),s=w.useRef("none"),i=e?"mounted":"unmounted",[l,c]=bie(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=zv(n.current);s.current=l==="mounted"?u:"none"},[l]),Xr(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=zv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Xr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=zv(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(s.current=zv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function zv(e){return(e==null?void 0:e.animationName)||"none"}function Sie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var B_="rovingFocusGroup.onEntryFocus",jie={bubbles:!1,cancelable:!0},Pg="RovingFocusGroup",[j2,sB,kie]=zE(Pg),[Nie,Sw]=pa(Pg,[kie]),[Eie,Cie]=Nie(Pg),iB=w.forwardRef((e,t)=>o.jsx(j2.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(j2.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Tie,{...e,ref:t})})}));iB.displayName=Pg;var Tie=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=Ot(t,h),g=Ng(s),[p,v]=il({prop:i,defaultProp:l??null,onChange:c,caller:Pg}),[x,b]=w.useState(!1),y=mn(u),_=sB(r),S=w.useRef(!1),[k,j]=w.useState(0);return w.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(B_,y),()=>E.removeEventListener(B_,y)},[y]),o.jsx(Eie,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:w.useCallback(E=>v(E),[v]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>j(E=>E+1),[]),onFocusableItemRemove:w.useCallback(()=>j(E=>E-1),[]),children:o.jsx(tt.div,{tabIndex:x||k===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{S.current=!0}),onFocus:Ke(e.onFocus,E=>{const N=!S.current;if(E.target===E.currentTarget&&N&&!x){const A=new CustomEvent(B_,jie);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=_().filter(I=>I.focusable),P=O.find(I=>I.active),U=O.find(I=>I.id===p),W=[P,U,...O].filter(Boolean).map(I=>I.ref.current);cB(W,d)}}S.current=!1}),onBlur:Ke(e.onBlur,()=>b(!1))})})}),oB="RovingFocusGroupItem",lB=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,children:i,...l}=e,c=jn(),u=s||c,d=Cie(oB,r),f=d.currentTabStopId===u,h=sB(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return w.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),o.jsx(j2.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(tt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ke(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:Ke(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ke(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Pie(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const _=y.indexOf(v.currentTarget);y=d.loop?Die(y,_+1):y.slice(_+1)}setTimeout(()=>cB(y))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});lB.displayName=oB;var Aie={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Oie(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Pie(e,t,r){const n=Oie(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Aie[n]}function cB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Die(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uB=iB,dB=lB,k2=["Enter"," "],Rie=["ArrowDown","PageUp","Home"],fB=["ArrowUp","PageDown","End"],Iie=[...Rie,...fB],Mie={ltr:[...k2,"ArrowRight"],rtl:[...k2,"ArrowLeft"]},Fie={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dg="Menu",[y0,Lie,$ie]=zE(Dg),[dd,hB]=pa(Dg,[$ie,nm,Sw]),jw=nm(),mB=Sw(),[Bie,fd]=dd(Dg),[Uie,Rg]=dd(Dg),pB=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:s,modal:i=!0}=e,l=jw(t),[c,u]=w.useState(null),d=w.useRef(!1),f=mn(s),h=Ng(a);return w.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(eC,{...l,children:o.jsx(Bie,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Uie,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};pB.displayName=Dg;var Wie="MenuAnchor",sC=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jw(r);return o.jsx(vw,{...a,...n,ref:t})});sC.displayName=Wie;var iC="MenuPortal",[zie,gB]=dd(iC,{forceMount:void 0}),vB=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=fd(iC,t);return o.jsx(zie,{scope:t,forceMount:r,children:o.jsx(Yn,{present:r||s.open,children:o.jsx(Ag,{asChild:!0,container:a,children:n})})})};vB.displayName=iC;var Ns="MenuContent",[Vie,oC]=dd(Ns),xB=w.forwardRef((e,t)=>{const r=gB(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=fd(Ns,e.__scopeMenu),i=Rg(Ns,e.__scopeMenu);return o.jsx(y0.Provider,{scope:e.__scopeMenu,children:o.jsx(Yn,{present:n||s.open,children:o.jsx(y0.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Hie,{...a,ref:t}):o.jsx(Gie,{...a,ref:t})})})})}),Hie=w.forwardRef((e,t)=>{const r=fd(Ns,e.__scopeMenu),n=w.useRef(null),a=Ot(t,n);return w.useEffect(()=>{const s=n.current;if(s)return xw(s)},[]),o.jsx(lC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Gie=w.forwardRef((e,t)=>{const r=fd(Ns,e.__scopeMenu);return o.jsx(lC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Kie=yc("MenuContent.ScrollLock"),lC=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=fd(Ns,r),x=Rg(Ns,r),b=jw(r),y=mB(r),_=Lie(r),[S,k]=w.useState(null),j=w.useRef(null),E=Ot(t,j,v.onContentChange),N=w.useRef(0),A=w.useRef(""),O=w.useRef(0),P=w.useRef(null),U=w.useRef("right"),z=w.useRef(0),W=g?Og:w.Fragment,I=g?{as:Kie,allowPinchZoom:!0}:void 0,R=D=>{var ae,de;const V=A.current+D,J=_().filter(re=>!re.disabled),T=document.activeElement,G=(ae=J.find(re=>re.ref.current===T))==null?void 0:ae.textValue,M=J.map(re=>re.textValue),B=soe(M,V,G),ee=(de=J.find(re=>re.textValue===B))==null?void 0:de.ref.current;(function re(H){A.current=H,window.clearTimeout(N.current),H!==""&&(N.current=window.setTimeout(()=>re(""),1e3))})(V),ee&&setTimeout(()=>ee.focus())};w.useEffect(()=>()=>window.clearTimeout(N.current),[]),hw();const F=w.useCallback(D=>{var J,T;return U.current===((J=P.current)==null?void 0:J.side)&&ooe(D,(T=P.current)==null?void 0:T.area)},[]);return o.jsx(Vie,{scope:r,searchRef:A,onItemEnter:w.useCallback(D=>{F(D)&&D.preventDefault()},[F]),onItemLeave:w.useCallback(D=>{var V;F(D)||((V=j.current)==null||V.focus(),k(null))},[F]),onTriggerLeave:w.useCallback(D=>{F(D)&&D.preventDefault()},[F]),pointerGraceTimerRef:O,onPointerGraceIntentChange:w.useCallback(D=>{P.current=D},[]),children:o.jsx(W,{...I,children:o.jsx(Cg,{asChild:!0,trapped:a,onMountAutoFocus:Ke(s,D=>{var V;D.preventDefault(),(V=j.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(uB,{asChild:!0,...y,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Ke(c,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(tC,{role:"menu","aria-orientation":"vertical","data-state":RB(v.open),"data-radix-menu-content":"",dir:x.dir,...b,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:Ke(p.onKeyDown,D=>{const J=D.target.closest("[data-radix-menu-content]")===D.currentTarget,T=D.ctrlKey||D.altKey||D.metaKey,G=D.key.length===1;J&&(D.key==="Tab"&&D.preventDefault(),!T&&G&&R(D.key));const M=j.current;if(D.target!==M||!Iie.includes(D.key))return;D.preventDefault();const ee=_().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);fB.includes(D.key)&&ee.reverse(),noe(ee)}),onBlur:Ke(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(N.current),A.current="")}),onPointerMove:Ke(e.onPointerMove,w0(D=>{const V=D.target,J=z.current!==D.clientX;if(D.currentTarget.contains(V)&&J){const T=D.clientX>z.current?"right":"left";U.current=T,z.current=D.clientX}}))})})})})})})});xB.displayName=Ns;var qie="MenuGroup",cC=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{role:"group",...n,ref:t})});cC.displayName=qie;var Yie="MenuLabel",yB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{...n,ref:t})});yB.displayName=Yie;var jy="MenuItem",M4="menu.itemSelect",kw=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=w.useRef(null),i=Rg(jy,e.__scopeMenu),l=oC(jy,e.__scopeMenu),c=Ot(t,s),u=w.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(M4,{bubbles:!0,cancelable:!0});f.addEventListener(M4,m=>n==null?void 0:n(m),{once:!0}),S8(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(wB,{...a,ref:c,disabled:r,onClick:Ke(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ke(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ke(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||k2.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});kw.displayName=jy;var wB=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=oC(jy,r),l=mB(r),c=w.useRef(null),u=Ot(t,c),[d,f]=w.useState(!1),[h,m]=w.useState("");return w.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[s.children]),o.jsx(y0.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(dB,{asChild:!0,...l,focusable:!n,children:o.jsx(tt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ke(e.onPointerMove,w0(g=>{n?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,w0(g=>i.onItemLeave(g))),onFocus:Ke(e.onFocus,()=>f(!0)),onBlur:Ke(e.onBlur,()=>f(!1))})})})}),Xie="MenuCheckboxItem",bB=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(NB,{scope:e.__scopeMenu,checked:r,children:o.jsx(kw,{role:"menuitemcheckbox","aria-checked":ky(r)?"mixed":r,...a,ref:t,"data-state":dC(r),onSelect:Ke(a.onSelect,()=>n==null?void 0:n(ky(r)?!0:!r),{checkForDefaultPrevented:!1})})})});bB.displayName=Xie;var _B="MenuRadioGroup",[Qie,Jie]=dd(_B,{value:void 0,onValueChange:()=>{}}),SB=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=mn(n);return o.jsx(Qie,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(cC,{...a,ref:t})})});SB.displayName=_B;var jB="MenuRadioItem",kB=w.forwardRef((e,t)=>{const{value:r,...n}=e,a=Jie(jB,e.__scopeMenu),s=r===a.value;return o.jsx(NB,{scope:e.__scopeMenu,checked:s,children:o.jsx(kw,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":dC(s),onSelect:Ke(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});kB.displayName=jB;var uC="MenuItemIndicator",[NB,Zie]=dd(uC,{checked:!1}),EB=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=Zie(uC,r);return o.jsx(Yn,{present:n||ky(s.checked)||s.checked===!0,children:o.jsx(tt.span,{...a,ref:t,"data-state":dC(s.checked)})})});EB.displayName=uC;var eoe="MenuSeparator",CB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});CB.displayName=eoe;var toe="MenuArrow",TB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=jw(r);return o.jsx(rC,{...a,...n,ref:t})});TB.displayName=toe;var roe="MenuSub",[Q7e,AB]=dd(roe),ip="MenuSubTrigger",OB=w.forwardRef((e,t)=>{const r=fd(ip,e.__scopeMenu),n=Rg(ip,e.__scopeMenu),a=AB(ip,e.__scopeMenu),s=oC(ip,e.__scopeMenu),i=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(sC,{asChild:!0,...u,children:o.jsx(wB,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":RB(r.open),...e,ref:tl(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,w0(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ke(e.onPointerLeave,w0(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",x=v?-5:5,b=h[v?"left":"right"],y=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:b,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:b,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Mie[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});OB.displayName=ip;var PB="MenuSubContent",DB=w.forwardRef((e,t)=>{const r=gB(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=fd(Ns,e.__scopeMenu),i=Rg(Ns,e.__scopeMenu),l=AB(PB,e.__scopeMenu),c=w.useRef(null),u=Ot(t,c);return o.jsx(y0.Provider,{scope:e.__scopeMenu,children:o.jsx(Yn,{present:n||s.open,children:o.jsx(y0.Slot,{scope:e.__scopeMenu,children:o.jsx(lC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:Ke(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Fie[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});DB.displayName=PB;function RB(e){return e?"open":"closed"}function ky(e){return e==="indeterminate"}function dC(e){return ky(e)?"indeterminate":e?"checked":"unchecked"}function noe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function aoe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function soe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=aoe(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function ioe(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function ooe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ioe(r,t)}function w0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var loe=pB,coe=sC,uoe=vB,doe=xB,foe=cC,hoe=yB,moe=kw,poe=bB,goe=SB,voe=kB,xoe=EB,yoe=CB,woe=TB,boe=OB,_oe=DB,Nw="DropdownMenu",[Soe,J7e]=pa(Nw,[hB]),ga=hB(),[joe,IB]=Soe(Nw),MB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,c=ga(t),u=w.useRef(null),[d,f]=il({prop:a,defaultProp:s??!1,onChange:i,caller:Nw});return o.jsx(joe,{scope:t,triggerId:jn(),triggerRef:u,contentId:jn(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(loe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};MB.displayName=Nw;var FB="DropdownMenuTrigger",LB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=IB(FB,r),i=ga(r);return o.jsx(coe,{asChild:!0,...i,children:o.jsx(tt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:tl(t,s.triggerRef),onPointerDown:Ke(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ke(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});LB.displayName=FB;var koe="DropdownMenuPortal",$B=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ga(t);return o.jsx(uoe,{...n,...r})};$B.displayName=koe;var BB="DropdownMenuContent",UB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IB(BB,r),s=ga(r),i=w.useRef(!1);return o.jsx(doe,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UB.displayName=BB;var Noe="DropdownMenuGroup",Eoe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(foe,{...a,...n,ref:t})});Eoe.displayName=Noe;var Coe="DropdownMenuLabel",WB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(hoe,{...a,...n,ref:t})});WB.displayName=Coe;var Toe="DropdownMenuItem",zB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(moe,{...a,...n,ref:t})});zB.displayName=Toe;var Aoe="DropdownMenuCheckboxItem",VB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(poe,{...a,...n,ref:t})});VB.displayName=Aoe;var Ooe="DropdownMenuRadioGroup",Poe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(goe,{...a,...n,ref:t})});Poe.displayName=Ooe;var Doe="DropdownMenuRadioItem",HB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(voe,{...a,...n,ref:t})});HB.displayName=Doe;var Roe="DropdownMenuItemIndicator",GB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(xoe,{...a,...n,ref:t})});GB.displayName=Roe;var Ioe="DropdownMenuSeparator",KB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(yoe,{...a,...n,ref:t})});KB.displayName=Ioe;var Moe="DropdownMenuArrow",Foe=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(woe,{...a,...n,ref:t})});Foe.displayName=Moe;var Loe="DropdownMenuSubTrigger",qB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(boe,{...a,...n,ref:t})});qB.displayName=Loe;var $oe="DropdownMenuSubContent",YB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ga(r);return o.jsx(_oe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YB.displayName=$oe;var Boe=MB,Uoe=LB,Woe=$B,XB=UB,QB=WB,JB=zB,ZB=VB,eU=HB,tU=GB,rU=KB,nU=qB,aU=YB;const sU=Boe,iU=Uoe,zoe=w.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(nU,{ref:a,className:xe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ih,{className:"ml-auto h-4 w-4"})]}));zoe.displayName=nU.displayName;const Voe=w.forwardRef(({className:e,...t},r)=>o.jsx(aU,{ref:r,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Voe.displayName=aU.displayName;const fC=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Woe,{children:o.jsx(XB,{ref:n,sideOffset:t,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));fC.displayName=XB.displayName;const au=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(JB,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));au.displayName=JB.displayName;const Hoe=w.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(ZB,{ref:a,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(tU,{children:o.jsx(LE,{className:"h-4 w-4"})})}),t]}));Hoe.displayName=ZB.displayName;const Goe=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(eU,{ref:n,className:xe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(tU,{children:o.jsx($re,{className:"h-2 w-2 fill-current"})})}),t]}));Goe.displayName=eU.displayName;const Koe=w.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(QB,{ref:n,className:xe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Koe.displayName=QB.displayName;const N2=w.forwardRef(({className:e,...t},r)=>o.jsx(rU,{ref:r,className:xe("-mx-1 my-1 h-px bg-muted",e),...t}));N2.displayName=rU.displayName;var Ew="Dialog",[oU,lU]=pa(Ew),[qoe,Ai]=oU(Ew),cU=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=w.useRef(null),c=w.useRef(null),[u,d]=il({prop:n,defaultProp:a??!1,onChange:s,caller:Ew});return o.jsx(qoe,{scope:t,triggerRef:l,contentRef:c,contentId:jn(),titleId:jn(),descriptionId:jn(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};cU.displayName=Ew;var uU="DialogTrigger",dU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ai(uU,r),s=Ot(t,a.triggerRef);return o.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pC(a.open),...n,ref:s,onClick:Ke(e.onClick,a.onOpenToggle)})});dU.displayName=uU;var hC="DialogPortal",[Yoe,fU]=oU(hC,{forceMount:void 0}),hU=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Ai(hC,t);return o.jsx(Yoe,{scope:t,forceMount:r,children:w.Children.map(n,i=>o.jsx(Yn,{present:r||s.open,children:o.jsx(Ag,{asChild:!0,container:a,children:i})}))})};hU.displayName=hC;var Ny="DialogOverlay",mU=w.forwardRef((e,t)=>{const r=fU(Ny,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ai(Ny,e.__scopeDialog);return s.modal?o.jsx(Yn,{present:n||s.open,children:o.jsx(Qoe,{...a,ref:t})}):null});mU.displayName=Ny;var Xoe=yc("DialogOverlay.RemoveScroll"),Qoe=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ai(Ny,r);return o.jsx(Og,{as:Xoe,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(tt.div,{"data-state":pC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Gu="DialogContent",pU=w.forwardRef((e,t)=>{const r=fU(Gu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Ai(Gu,e.__scopeDialog);return o.jsx(Yn,{present:n||s.open,children:s.modal?o.jsx(Joe,{...a,ref:t}):o.jsx(Zoe,{...a,ref:t})})});pU.displayName=Gu;var Joe=w.forwardRef((e,t)=>{const r=Ai(Gu,e.__scopeDialog),n=w.useRef(null),a=Ot(t,r.contentRef,n);return w.useEffect(()=>{const s=n.current;if(s)return xw(s)},[]),o.jsx(gU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault())})}),Zoe=w.forwardRef((e,t)=>{const r=Ai(Gu,e.__scopeDialog),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(gU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),gU=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Ai(Gu,r),c=w.useRef(null),u=Ot(t,c);return hw(),o.jsxs(o.Fragment,{children:[o.jsx(Cg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Eg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":pC(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(tle,{titleId:l.titleId}),o.jsx(nle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mC="DialogTitle",vU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ai(mC,r);return o.jsx(tt.h2,{id:a.titleId,...n,ref:t})});vU.displayName=mC;var xU="DialogDescription",yU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ai(xU,r);return o.jsx(tt.p,{id:a.descriptionId,...n,ref:t})});yU.displayName=xU;var wU="DialogClose",bU=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ai(wU,r);return o.jsx(tt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,()=>a.onOpenChange(!1))})});bU.displayName=wU;function pC(e){return e?"open":"closed"}var _U="DialogTitleWarning",[ele,SU]=une(_U,{contentName:Gu,titleName:mC,docsSlug:"dialog"}),tle=({titleId:e})=>{const t=SU(_U),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},rle="DialogDescriptionWarning",nle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SU(rle).contentName}}.`;return w.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Cw=cU,gC=dU,Tw=hU,sm=mU,im=pU,Ig=vU,Mg=yU,Aw=bU;const qr=Cw,uf=gC,ale=Tw,jU=w.forwardRef(({className:e,...t},r)=>o.jsx(sm,{ref:r,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jU.displayName=sm.displayName;const Fr=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ale,{children:[o.jsx(jU,{}),o.jsxs(im,{ref:n,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...r,children:[t,o.jsxs(Aw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(nl,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fr.displayName=im.displayName;const Lr=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lr.displayName="DialogHeader";const Gn=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Gn.displayName="DialogFooter";const $r=w.forwardRef(({className:e,...t},r)=>o.jsx(Ig,{ref:r,className:xe("text-lg font-semibold leading-none tracking-tight",e),...t}));$r.displayName=Ig.displayName;const Kn=w.forwardRef(({className:e,...t},r)=>o.jsx(Mg,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Kn.displayName=Mg.displayName;function sle({onToggleSidebar:e}){var _,S,k;const{breadcrumbs:t}=RE(),{user:r,signOut:n}=xr(),{t:a}=Ut(),s=ss(),{setTheme:i}=Dte(),[l,c]=w.useState(!1),[u,d]=w.useState(""),[f,h]=w.useState(""),[m,g]=w.useState(""),[p,v]=w.useState(!1),x=async()=>{try{await n(),s("/login")}catch(j){console.error("Logout failed:",j),s("/login")}},b=()=>{c(!0)},y=async j=>{if(j.preventDefault(),!p){if(!u.trim()){g(a("settings.newPasswordRequired"));return}if(u.length<6){g(a("settings.passwordTooShort"));return}if(u!==f){g(a("settings.passwordsDoNotMatch"));return}g(""),v(!0);try{const{error:E}=await we.auth.updateUser({password:u});if(E)throw E;c(!1),d(""),h(""),alert(a("settings.passwordChangedSuccessfully"))}catch(E){console.error("Password change failed:",E),g(E.message||a("settings.passwordChangeFailed"))}finally{v(!1)}}};return o.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[o.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:o.jsx(qre,{className:"h-5 w-5"})}),t&&t.length>0&&o.jsx("div",{className:"hidden md:block",children:o.jsx(xne,{items:t})})]}),o.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Qe,{type:"search",placeholder:a("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),o.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[o.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),o.jsx("div",{className:"flex-1"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:ge((r==null?void 0:r.profile)||{},"user_name")||(r==null?void 0:r.email)}),o.jsx(aB,{}),o.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:a("common.notifications"),children:[o.jsx(Rre,{className:"h-5 w-5"}),o.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:o.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),o.jsx("span",{className:"sr-only",children:a("common.notifications")})]}),o.jsxs(sU,{children:[o.jsx(iU,{asChild:!0,children:o.jsxs(ie,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:a("navigation.settings"),children:[o.jsxs(Ss,{className:"h-8 w-8",children:[o.jsx(js,{src:(_=r==null?void 0:r.profile)==null?void 0:_.avatar}),o.jsx(ks,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(S=r==null?void 0:r.email)==null?void 0:S.charAt(0).toUpperCase()})]}),o.jsx("span",{className:"sr-only",children:a("navigation.settings")})]})}),o.jsxs(fC,{align:"end",className:"w-56",children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm",children:ge((r==null?void 0:r.profile)||{},"user_name")||((k=r==null?void 0:r.email)==null?void 0:k.split("@")[0])}),o.jsx("p",{className:"text-xs text-muted-foreground truncate",children:r==null?void 0:r.email})]})}),o.jsx(N2,{}),o.jsxs(au,{onClick:()=>i("light"),children:[o.jsx(ene,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.light","Light")})]}),o.jsxs(au,{onClick:()=>i("dark"),children:[o.jsx(Xre,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.dark","Dark")})]}),o.jsxs(au,{onClick:()=>i("system"),children:[o.jsx(O8,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a("theme.system","System")})]}),o.jsx(N2,{}),o.jsxs(au,{onClick:b,children:[o.jsx(Gre,{className:"h-4 w-4 mr-2"}),a("settings.changePassword")]}),o.jsxs(au,{onClick:x,className:"text-destructive focus:text-destructive",children:[o.jsx(sne,{className:"h-4 w-4 mr-2"}),a("buttons.logout")]})]})]})]})]}),o.jsx(qr,{open:l,onOpenChange:c,children:o.jsxs(Fr,{className:"sm:max-w-[425px]",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:a("settings.changePassword")}),o.jsx(Kn,{children:a("settings.changePasswordDescription")})]}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{children:m})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"newPassword",children:a("settings.newPassword")}),o.jsx(Qe,{id:"newPassword",type:"password",value:u,onChange:j=>d(j.target.value),placeholder:a("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"confirmPassword",children:a("settings.confirmPassword")}),o.jsx(Qe,{id:"confirmPassword",type:"password",value:f,onChange:j=>h(j.target.value),placeholder:a("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),o.jsxs(Gn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ie,{type:"button",variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto",children:a("buttons.cancel")}),o.jsx(ie,{type:"submit",disabled:p||!u.trim()||!f.trim(),className:"w-full sm:w-auto",children:a(p?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const ch=Cw,kU=gC,ile=Tw,NU=w.forwardRef(({className:e,...t},r)=>o.jsx(sm,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NU.displayName=sm.displayName;const ole=jg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ku=w.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(ile,{children:[o.jsx(NU,{}),o.jsxs(im,{ref:a,className:xe(ole({side:e}),t),...n,children:[r,o.jsxs(Aw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(nl,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ku.displayName=im.displayName;const b0=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});b0.displayName="SheetHeader";const uh=w.forwardRef(({className:e,...t},r)=>o.jsx(Ig,{ref:r,className:xe("text-lg font-semibold text-foreground",e),...t}));uh.displayName=Ig.displayName;const Ow=w.forwardRef(({className:e,...t},r)=>o.jsx(Mg,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Ow.displayName=Mg.displayName;function Pn({children:e}){const[t,r]=w.useState(!0),[n,a]=w.useState(!1);w.useEffect(()=>{const l=()=>{a(window.innerWidth<1024),window.innerWidth<1024?r(!1):r(!0)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const s=()=>{r(!t)},i=()=>{n&&r(!1)};return o.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[o.jsx(sle,{onToggleSidebar:s}),o.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!n&&o.jsx("aside",{className:xe("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",t?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:o.jsx(h4,{onNavigate:i})}),n&&o.jsx(ch,{open:t,onOpenChange:r,children:o.jsxs(Ku,{side:Zi()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[o.jsx(uh,{className:"sr-only",children:"Navigation Menu"}),o.jsx(Ow,{className:"sr-only",children:"Application navigation sidebar"}),o.jsx(h4,{onNavigate:i})]})}),o.jsx("main",{className:"flex-1 overflow-y-auto bg-background pt-2",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6 w-full min-h-full",children:e})})]})]})}const sa={async getAll(){try{console.log("[stageService] Fetching all stages...");const{data:e,error:t}=await we.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const{data:e,error:t}=await we.from("stages").select("*").order("stager_order_index",{ascending:!0});if(t)throw console.error("[stageService] Error fetching global stages:",t),t;return console.log(`[stageService] Successfully fetched ${(e==null?void 0:e.length)||0} global stages`),e||[]}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const{data:t,error:r}=await we.from("stages").select("*").eq("stage_type",e).order("stager_order_index",{ascending:!0});if(r)throw console.error(`[stageService] Error fetching ${e} stages: `,r),r;return console.log(`[stageService] Successfully fetched ${(t==null?void 0:t.length)||0} ${e} stages`),t||[]}catch(t){throw console.error(`[stageService] Failed to fetch ${e} stages: `,t),t}},async create(e){try{const{data:t}=await we.from("stages").select("stager_order_index").order("stager_order_index",{ascending:!1}).limit(1),r=t&&t.length>0?t[0].stager_order_index:-1,n=e.stager_order_index??r+1,a={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:n,color:e.color,color_var:e.color_var},{data:s,error:i}=await we.from("stages").insert(a).select().single();if(i)throw i;return s}catch(t){throw console.error("[stageService] Failed to create stage:",t),t}},async update(e,t){try{const r=Ts(t,{stage_name:"stage_name"}),{error:n}=await we.from("stages").update(r).eq("stage_id",e);if(n)throw n}catch(r){throw console.error("[stageService] Failed to update stage:",r),r}},async delete(e){try{const{error:t}=await we.from("stages").delete().eq("stage_id",e);if(t)throw t}catch(t){throw console.error("[stageService] Failed to delete stage:",t),t}}},Wn={async getAll(){try{console.log("[userService] Fetching all users...");const{data:e,error:t}=await we.from("users").select("*");if(t)throw t;return console.log(`[userService] Successfully fetched ${(e==null?void 0:e.length)||0} users`),e||[]}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("users").select("*").eq("user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user:",t),null}},async getByAuthId(e){try{const{data:t,error:r}=await we.from("users").select("*").eq("auth_user_id",e).single();return r?null:t}catch(t){return console.error("[userService] Failed to fetch user by auth ID:",t),null}},async update(e,t){try{const r={};t.user_name!==void 0&&(r.user_name=t.user_name),t.user_name_ar!==void 0&&(r.user_name_ar=t.user_name_ar),t.user_email!==void 0&&(r.user_email=t.user_email),t.user_role!==void 0&&(r.user_role=t.user_role),t.avatar!==void 0&&(r.avatar=t.avatar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.company_name!==void 0&&(r.company_name=t.company_name),t.company_name_ar!==void 0&&(r.company_name_ar=t.company_name_ar);const{error:n}=await we.from("users").update(r).eq("user_id",e);if(n)throw n;console.log(`[userService] Successfully updated user ${e} `)}catch(r){throw console.error("[userService] Failed to update user:",r),r}}},vC={async getAll(){try{console.log("[clientService] Fetching all clients...");const{data:e,error:t}=await we.from("users").select("*").eq("user_role","client");if(t)throw t;return console.log(`[clientService] Successfully fetched ${(e==null?void 0:e.length)||0} clients`),e||[]}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("users").select("*").eq("user_id",e).eq("user_role","client").single();return r?null:t}catch(t){return console.error("[clientService] Failed to fetch client:",t),null}},async create(e){try{const t=Ts({user_name:e.user_name,user_email:e.user_email,user_role:"client",avatar:e.avatar,client_contact:e.client_contact,company_name:e.company_name},{user_name:"user_name",company_name:"company_name"}),{data:r,error:n}=await we.from("users").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[clientService] Failed to create client:",t),t}}},zi={async getAll(){try{console.log("[projectService] Fetching all projects...");const{data:e,error:t}=await we.from("projects").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[projectService] Successfully fetched ${(e==null?void 0:e.length)||0} projects`),e||[]}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("projects").select("*").eq("project_id",e).single();return r?null:t}catch(t){return console.error("[projectService] Failed to fetch project:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("projects").insert({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date}).select().single();if(r)throw r;return t}catch(t){throw console.error("[projectService] Failed to create project:",t),t}},async update(e,t){try{const r={};t.project_name&&(r.project_name=t.project_name),t.project_description!==void 0&&(r.project_description=t.project_description),t.progress!==void 0&&(r.progress=t.progress),t.stage!==void 0&&(r.stage=t.stage),t.end_date!==void 0&&(r.end_date=t.end_date);const{error:n}=await we.from("projects").update(r).eq("project_id",e);if(n)throw n}catch(r){throw console.error("[projectService] Failed to update project:",r),r}},async delete(e){try{const{error:t}=await we.from("projects").delete().eq("project_id",e);if(t)throw t}catch(t){throw console.error("[projectService] Failed to delete project:",t),t}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const{data:t,error:r}=await we.from("project_users").select(`
project_id,
  projects(
    project_id,
    project_name,
    project_description,
    created_date,
    created_by,
    progress,
    stage,
    end_date,
    updated_at
  )
    `).eq("auth_user_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.projects).filter(Boolean))||[];return console.log(`[projectService] Successfully fetched ${n.length} projects for user`),n}catch(t){throw console.error("[projectService] Failed to fetch projects for user:",t),t}}},ec={async getAll(){try{console.log("[taskService] Fetching all tasks...");const{data:e,error:t}=await we.from("tasks").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[taskService] Successfully fetched ${(e==null?void 0:e.length)||0} tasks`),e||[]}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getByStage(e){try{const{data:t,error:r}=await we.from("tasks").select("*").eq("stage_id",e);if(r)throw r;return t||[]}catch(t){throw console.error("[taskService] Failed to fetch tasks:",t),t}},async create(e){try{const t=Ts({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,auth_user_id:e.auth_user_id},{task_name:"task_name",description:"description"}),{data:r,error:n}=await we.from("tasks").insert(t).select().single();if(n)throw n;return r}catch(t){throw console.error("[taskService] Failed to create task:",t),t}},async update(e,t){try{const r=Ts(t,{task_name:"task_name",description:"description"}),{error:n}=await we.from("tasks").update(r).eq("task_id",e);if(n)throw n}catch(r){throw console.error("[taskService] Failed to update task:",r),r}},async delete(e){try{const{error:t}=await we.from("tasks").delete().eq("task_id",e);if(t)throw t}catch(t){throw console.error("[taskService] Failed to delete task:",t),t}}},E2={async getByTask(e){try{const{data:t,error:r}=await we.from("comments").select("*").eq("task_id",e).order("created_date",{ascending:!0});if(r)throw r;return t||[]}catch(t){throw console.error("[commentService] Failed to fetch comments:",t),t}},async create(e){try{const{data:t,error:r}=await we.from("comments").insert({task_id:e.task_id,auth_user_id:e.auth_user_id,message:e.message}).select().single();if(r)throw r;return t}catch(t){throw console.error("[commentService] Failed to create comment:",t),t}}},Zs={async getUserRooms(e){const{data:t,error:r}=await we.from("room_members").select("room_id").eq("auth_user_id",e);if(r)throw r;if(!t||t.length===0)return[];const n=t.map(i=>i.room_id),{data:a,error:s}=await we.from("rooms").select("*").in("room_id",n);if(s)throw s;return a||[]},async createRoom(e){let t=e.created_by;if(!t||t===0){const{data:a}=await we.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();a&&(t=a.user_id)}const{data:r,error:n}=await we.from("rooms").insert({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:t,auth_user_id:e.auth_user_id}).select().single();if(n)throw n;return r},async addMember(e,t){const{error:r}=await we.from("room_members").insert({room_id:e,auth_user_id:t});if(r)throw r},async getRoomMembers(e){const{data:t,error:r}=await we.from("room_members").select(`
auth_user_id,
  users(*)
    `).eq("room_id",e);if(r)throw r;return!t||t.length===0?[]:t.map(n=>n.users).filter(Boolean)},async markAsRead(e,t){const{error:r}=await we.from("room_members").update({last_read_at:new Date().toISOString()}).eq("room_id",e).eq("auth_user_id",t);r&&console.error("[roomService] Failed to mark room as read:",r)}},F4={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const{data:t,error:r}=await we.from("project_users").select(`
auth_user_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("project_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[projectUserService] Found ${n.length} users for project ${e}`),n}catch(t){throw console.error("[projectUserService] Failed to fetch project users:",t),t}},async addUserToProject(e,t){try{console.log("[projectUserService] Adding user",t,"to project",e);const{error:r}=await we.from("project_users").insert({project_id:e,user_id:t});if(r)throw r;console.log("[projectUserService] Successfully added user to project")}catch(r){throw console.error("[projectUserService] Failed to add user to project:",r),r}},async removeUserFromProject(e,t){try{console.log("[projectUserService] Removing user",t,"from project",e);const{error:r}=await we.from("project_users").delete().eq("project_id",e).eq("user_id",t);if(r)throw r;console.log("[projectUserService] Successfully removed user from project")}catch(r){throw console.error("[projectUserService] Failed to remove user from project:",r),r}}},Md={async getAll(){try{console.log("[teamService] Fetching all teams...");const{data:e,error:t}=await we.from("teams").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[teamService] Successfully fetched ${(e==null?void 0:e.length)||0} teams`),e||[]}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const{data:e,error:t}=await we.from("teams").select(`
team_id,
  team_name,
  team_name_ar,
  partner_id,
  auth_user_id,
  team_leader_id,
  created_at
    `).order("created_at",{ascending:!1});if(t)throw t;if(!e||e.length===0)return[];const r=e.map(l=>l.team_id),{data:n,error:a}=await we.from("team_members").select(`
team_id,
  auth_user_id,
  joined_at
    `).in("team_id",r);if(a)throw a;const s=(n||[]).reduce((l,c)=>(l[c.team_id]||(l[c.team_id]=[]),l[c.team_id].push({auth_user_id:c.auth_user_id,joined_at:c.joined_at}),l),{}),i=e.map(l=>({...l,team_members:s[l.team_id]||[]}));return console.log(`[teamService] Successfully fetched ${i.length} teams with members`),i}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const{data:e,error:t}=await we.from("team_members").select(`
          team_id,
  users(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `);if(t)throw t;const r=(e||[]).reduce((n,a)=>{const s=a.team_id;return n[s]||(n[s]=[]),n[s].push(a.users),n},{});return console.log(`[teamService] Successfully fetched members for ${Object.keys(r).length} teams`),r}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("teams").select("*").eq("team_id",e).single();return r?null:t}catch(t){return console.error("[teamService] Failed to fetch team:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("teams").insert(e).select().single();if(r)throw r;if(t)try{let n=0;if(e.auth_user_id){const{data:s}=await we.from("users").select("user_id").eq("auth_user_id",e.auth_user_id).single();s&&(n=s.user_id)}const{error:a}=await we.from("rooms").insert({room_name:`General - ${t.team_name}`,is_private:!1,team_id:t.team_id,created_by:n,auth_user_id:e.auth_user_id||null});a&&console.error("[teamService] Failed to create default room for team:",a)}catch(n){console.error("[teamService] Error creating default room:",n)}return t}catch(t){throw console.error("[teamService] Failed to create team:",t),t}},async update(e,t){try{const r=Ts(t,{team_name:"team_name"}),{error:n}=await we.from("teams").update(r).eq("team_id",e);if(n)throw n}catch(r){throw console.error("[teamService] Failed to update team:",r),r}},async delete(e){try{const{error:t}=await we.from("teams").delete().eq("team_id",e);if(t)throw t}catch(t){throw console.error("[teamService] Failed to delete team:",t),t}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const{data:t,error:r}=await we.from("team_members").select(`
auth_user_id,
  users!auth_user_id(
    user_id,
    user_name,
    user_email,
    user_role,
    avatar,
    auth_user_id,
    client_contact,
    company_name,
    created_at,
    updated_at
  )
    `).eq("team_id",e);if(r)throw r;const n=(t==null?void 0:t.map(a=>a.users).filter(Boolean))||[];return console.log(`[teamService] Found ${n.length} members for team ${e}`),n}catch(t){throw console.error("[teamService] Failed to fetch team members:",t),t}},async addMember(e,t){try{console.log("[teamService] Adding member",t,"to team",e);const{error:r}=await we.from("team_members").insert({team_id:e,auth_user_id:t});if(r)throw r;console.log("[teamService] Successfully added member to team")}catch(r){throw console.error("[teamService] Failed to add member to team:",r),r}},async removeMember(e,t){try{console.log("[teamService] Removing member",t,"from team",e);const{error:r}=await we.from("team_members").delete().eq("team_id",e).eq("auth_user_id",t);if(r)throw r;console.log("[teamService] Successfully removed member from team")}catch(r){throw console.error("[teamService] Failed to remove member from team:",r),r}}},Um={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const{data:e,error:t}=await we.from("tickets").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[ticketService] Successfully fetched ${(e==null?void 0:e.length)||0} tickets`),e||[]}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("tickets").select("*").eq("ticket_id",e).single();return r?null:t}catch(t){return console.error("[ticketService] Failed to fetch ticket:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("tickets").insert({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,created_by_auth_user_id:e.created_by_auth_user_id,assigned_to_auth_user_id:e.assigned_to_auth_user_id,auth_user_id:e.auth_user_id,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id}).select().single();if(r)throw r;return t}catch(t){throw console.error("[ticketService] Failed to create ticket:",t),t}},async update(e,t){try{const r={};t.created_by!==void 0&&(r.created_by=t.created_by),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.subject!==void 0&&(r.subject=t.subject),t.description!==void 0&&(r.description=t.description),t.priority!==void 0&&(r.priority=t.priority),t.ticket_type!==void 0&&(r.ticket_type=t.ticket_type),t.stage_id!==void 0&&(r.stage_id=t.stage_id),t.resolved_date!==void 0&&(r.resolved_date=t.resolved_date),t.closed_at!==void 0&&(r.closed_at=t.closed_at),t.closed_by!==void 0&&(r.closed_by=t.closed_by),t.room_id!==void 0&&(r.room_id=t.room_id),t.task_id!==void 0&&(r.task_id=t.task_id),t.assigned_to_auth_user_id!==void 0&&(r.assigned_to_auth_user_id=t.assigned_to_auth_user_id),t.auth_user_id!==void 0&&(r.auth_user_id=t.auth_user_id),t.status!==void 0&&(r.status=t.status),r.updated_at=new Date().toISOString();const{error:n}=await we.from("tickets").update(r).eq("ticket_id",e);if(n)throw n}catch(r){throw console.error("[ticketService] Failed to update ticket:",r),r}},async moveToStage(e,t){try{console.log(`[ticketService] Moving ticket ${e} to stage ${t}`);const{error:r}=await we.from("tickets").update({stage_id:t}).eq("ticket_id",e);if(r)throw r;console.log("[ticketService] Successfully moved ticket to stage")}catch(r){throw console.error("[ticketService] Failed to move ticket to stage:",r),r}},async delete(e){try{const{error:t}=await we.from("tickets").delete().eq("ticket_id",e);if(t)throw t}catch(t){throw console.error("[ticketService] Failed to delete ticket:",t),t}}},df={async getByRoom(e,t){try{let r=we.from("messages").select(`
  *,
  sender: users!auth_user_id(
    user_id,
    user_name,
    avatar,
    auth_user_id
  )
    `).eq("room_id",e).order("created_at",{ascending:!1});t!=null&&t.limit&&(r=r.limit(t.limit)),t!=null&&t.before&&(r=r.lt("created_at",t.before));const{data:n,error:a}=await r;if(a)throw a;return(n||[]).reverse()}catch(r){throw console.error("[messageService] Failed to fetch messages:",r),r}},async create(e){try{const{data:t,error:r}=await we.from("messages").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[messageService] Failed to create message:",t),t}},async update(e,t){try{const{error:r}=await we.from("messages").update({content:t,is_edited:!0}).eq("message_id",e);if(r)throw r}catch(r){throw console.error("[messageService] Failed to update message:",r),r}},async delete(e){try{const{error:t}=await we.from("messages").delete().eq("message_id",e);if(t)throw t}catch(t){throw console.error("[messageService] Failed to delete message:",t),t}},async uploadAttachment(e){try{const t=e.name.split(".").pop(),n=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${t}`}`,{error:a}=await we.storage.from("chat-attachments").upload(n,e);if(a)throw a;const{data:s}=we.storage.from("chat-attachments").getPublicUrl(n);return s.publicUrl}catch(t){throw console.error("[messageService] Failed to upload attachment:",t),t}}},Fo={async getAll(){try{console.log("[leadService] Fetching all leads...");const{data:e,error:t}=await we.from("leads").select("*").order("created_date",{ascending:!1});if(t)throw t;return console.log(`[leadService] Successfully fetched ${(e==null?void 0:e.length)||0} leads`),e||[]}catch(e){throw console.error("[leadService] Failed to fetch leads:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("leads").select("*").eq("lead_id",e).single();return r?null:t}catch(t){return console.error("[leadService] Failed to fetch lead:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("leads").insert({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"}).select().single();if(r)throw r;return t}catch(t){throw console.error("[leadService] Failed to create lead:",t),t}},async update(e,t){try{const r={};t.lead_name&&(r.lead_name=t.lead_name),t.lead_description!==void 0&&(r.lead_description=t.lead_description),t.client_name&&(r.client_name=t.client_name),t.client_user_id&&(r.client_user_id=t.client_user_id),t.stage!==void 0&&(r.stage=t.stage),t.assigned_to!==void 0&&(r.assigned_to=t.assigned_to),t.assigned_at!==void 0&&(r.assigned_at=t.assigned_at),t.value!==void 0&&(r.value=t.value),t.currency!==void 0&&(r.currency=t.currency);const{error:n}=await we.from("leads").update(r).eq("lead_id",e);if(n)throw n}catch(r){throw console.error("[leadService] Failed to update lead:",r),r}},async delete(e){try{const{error:t}=await we.from("leads").delete().eq("lead_id",e);if(t)throw t}catch(t){throw console.error("[leadService] Failed to delete lead:",t),t}}},Cp={async getByRelated(e,t){try{console.log(`[noteService] Fetching notes for ${e} ${t}...`);const{data:r,error:n}=await we.from("notes").select(`
  *,
  user: created_by(
    user_id,
    user_name,
    user_name_ar,
    avatar
  )
    `).eq("related_to_type",e).eq("related_to_id",t).order("created_at",{ascending:!1});if(n)throw n;return console.log(`[noteService] Successfully fetched ${(r==null?void 0:r.length)||0} notes`),r||[]}catch(r){throw console.error("[noteService] Failed to fetch notes:",r),r}},async create(e){try{const{data:t,error:r}=await we.from("notes").insert({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by}).select().single();if(r)throw r;return console.log("[noteService] Successfully created note"),t}catch(t){throw console.error("[noteService] Failed to create note:",t),t}},async update(e,t){try{const{error:r}=await we.from("notes").update({content:t,updated_at:new Date().toISOString()}).eq("note_id",e);if(r)throw r;console.log("[noteService] Successfully updated note")}catch(r){throw console.error("[noteService] Failed to update note:",r),r}},async delete(e){try{const{error:t}=await we.from("notes").delete().eq("note_id",e);if(t)throw t;console.log("[noteService] Successfully deleted note")}catch(t){throw console.error("[noteService] Failed to delete note:",t),t}}},os={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const{data:e,error:t}=await we.from("survey_templates").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyTemplateService] Successfully fetched ${(e==null?void 0:e.length)||0} templates`),e||[]}catch(e){throw console.error("[surveyTemplateService] Failed to fetch templates:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("survey_templates").select("*").eq("template_id",e).single();return r?null:t}catch(t){return console.error("[surveyTemplateService] Failed to fetch template:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("survey_templates").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create template:",t),t}},async update(e,t){try{const r={};t.template_name&&(r.template_name=t.template_name),t.template_name_ar&&(r.template_name_ar=t.template_name_ar),t.template_description!==void 0&&(r.template_description=t.template_description),t.template_description_ar!==void 0&&(r.template_description_ar=t.template_description_ar),t.category&&(r.category=t.category),t.is_active!==void 0&&(r.is_active=t.is_active),t.is_default!==void 0&&(r.is_default=t.is_default);const{error:n}=await we.from("survey_templates").update(r).eq("template_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update template:",r),r}},async delete(e){try{const{error:t}=await we.from("survey_templates").delete().eq("template_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete template:",t),t}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const{data:t,error:r}=await we.from("survey_template_fields").select("*").eq("template_id",e).order("field_order",{ascending:!0});if(r)throw r;return console.log(`[surveyTemplateService] Successfully fetched ${(t==null?void 0:t.length)||0} fields`),t||[]}catch(t){throw console.error("[surveyTemplateService] Failed to fetch template fields:",t),t}},async createField(e){try{const{data:t,error:r}=await we.from("survey_template_fields").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyTemplateService] Failed to create field:",t),t}},async updateField(e,t){try{const r={};t.field_order!==void 0&&(r.field_order=t.field_order),t.field_type&&(r.field_type=t.field_type),t.field_label&&(r.field_label=t.field_label),t.field_label_ar&&(r.field_label_ar=t.field_label_ar),t.help_text!==void 0&&(r.help_text=t.help_text),t.help_text_ar!==void 0&&(r.help_text_ar=t.help_text_ar),t.is_required!==void 0&&(r.is_required=t.is_required),t.field_options!==void 0&&(r.field_options=t.field_options),t.validation_rules!==void 0&&(r.validation_rules=t.validation_rules),t.default_value!==void 0&&(r.default_value=t.default_value),t.conditional_logic!==void 0&&(r.conditional_logic=t.conditional_logic);const{error:n}=await we.from("survey_template_fields").update(r).eq("field_id",e);if(n)throw n}catch(r){throw console.error("[surveyTemplateService] Failed to update field:",r),r}},async deleteField(e){try{const{error:t}=await we.from("survey_template_fields").delete().eq("field_id",e);if(t)throw t}catch(t){throw console.error("[surveyTemplateService] Failed to delete field:",t),t}}},fu={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const{data:e,error:t}=await we.from("surveys").select("*").order("created_at",{ascending:!1});if(t)throw t;return console.log(`[surveyService] Successfully fetched ${(e==null?void 0:e.length)||0} surveys`),e||[]}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getById(e){try{const{data:t,error:r}=await we.from("surveys").select("*").eq("survey_id",e).single();return r?null:t}catch(t){return console.error("[surveyService] Failed to fetch survey:",t),null}},async create(e){try{const{data:t,error:r}=await we.from("surveys").insert(e).select().single();if(r)throw r;return t}catch(t){throw console.error("[surveyService] Failed to create survey:",t),t}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const{data:t,error:r}=await we.from("surveys").insert(e).select();if(r)throw r;return console.log(`[surveyService] Successfully batch created ${(t==null?void 0:t.length)||0} surveys`),t||[]}catch(t){throw console.error("[surveyService] Failed to batch create surveys:",t),t}},async update(e,t){try{const r={};t.template_id!==void 0&&(r.template_id=t.template_id),t.survey_name&&(r.survey_name=t.survey_name),t.survey_description!==void 0&&(r.survey_description=t.survey_description),t.client_name&&(r.client_name=t.client_name),t.client_name_ar&&(r.client_name_ar=t.client_name_ar),t.client_contact!==void 0&&(r.client_contact=t.client_contact),t.client_email&&(r.client_email=t.client_email),t.client_address&&(r.client_address=t.client_address),t.client_company&&(r.client_company=t.client_company),t.client_company_ar&&(r.client_company_ar=t.client_company_ar),t.survey_responses!==void 0&&(r.survey_responses=t.survey_responses),t.location_latitude!==void 0&&(r.location_latitude=t.location_latitude),t.location_longitude!==void 0&&(r.location_longitude=t.location_longitude),t.location_accuracy!==void 0&&(r.location_accuracy=t.location_accuracy),t.location_address&&(r.location_address=t.location_address),t.status&&(r.status=t.status),t.lead_id!==void 0&&(r.lead_id=t.lead_id),t.converted_to_lead_at!==void 0&&(r.converted_to_lead_at=t.converted_to_lead_at),t.device_info!==void 0&&(r.device_info=t.device_info),t.completion_time_seconds!==void 0&&(r.completion_time_seconds=t.completion_time_seconds),t.notes&&(r.notes=t.notes),t.notes_ar&&(r.notes_ar=t.notes_ar);const{error:n}=await we.from("surveys").update(r).eq("survey_id",e);if(n)throw n}catch(r){throw console.error("[surveyService] Failed to update survey:",r),r}},async delete(e){try{const{error:t}=await we.from("surveys").delete().eq("survey_id",e);if(t)throw t}catch(t){throw console.error("[surveyService] Failed to delete survey:",t),t}}},rt=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rt.displayName="Card";const It=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex flex-col space-y-1.5 p-6",e),...t}));It.displayName="CardHeader";const Yt=w.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yt.displayName="CardTitle";const lle=w.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));lle.displayName="CardDescription";const it=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("p-6 pt-0",e),...t}));it.displayName="CardContent";const cle=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:xe("flex items-center p-6 pt-0",e),...t}));cle.displayName="CardFooter";var xC="Progress",yC=100,[ule,Z7e]=pa(xC),[dle,fle]=ule(xC),EU=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=hle,...i}=e;(a||a===0)&&!L4(a)&&console.error(mle(`${a}`,"Progress"));const l=L4(a)?a:yC;n!==null&&!$4(n,l)&&console.error(ple(`${n}`,"Progress"));const c=$4(n,l)?n:null,u=Ey(c)?s(c,l):void 0;return o.jsx(dle,{scope:r,value:c,max:l,children:o.jsx(tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ey(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":AU(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});EU.displayName=xC;var CU="ProgressIndicator",TU=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=fle(CU,r);return o.jsx(tt.div,{"data-state":AU(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});TU.displayName=CU;function hle(e,t){return`${Math.round(e/t*100)}%`}function AU(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ey(e){return typeof e=="number"}function L4(e){return Ey(e)&&!isNaN(e)&&e>0}function $4(e,t){return Ey(e)&&!isNaN(e)&&e<=t&&e>=0}function mle(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yC}\`.`}function ple(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OU=EU,gle=TU;const ol=w.forwardRef(({className:e,value:t,...r},n)=>o.jsx(OU,{ref:n,className:xe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(gle,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ol.displayName=OU.displayName;function PU(){Ut();const[e,t]=w.useState(new Date);w.useEffect(()=>{const a=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(a)},[]);const r=a=>a.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=a=>a.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[o.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:n(e)}),o.jsx("div",{className:"text-sm",children:r(e)})]})}function vle(){const{t:e}=Ut();pl();const[t,r]=w.useState([]),[n,a]=w.useState([]),[s,i]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(!0),[m,g]=w.useState(null),{user:p,loading:v}=xr();console.log("[Dashboard] Rendering. Auth state:",{user:p?{id:p.id,email:p.email,role:p.role}:null,authLoading:v,hasUser:!!p,loading:f}),w.useEffect(()=>{console.log("[Dashboard] useEffect - User changed:",{hasUser:!!p,authLoading:v}),p&&!v&&(console.log("[Dashboard] User is authenticated, loading data..."),x())},[p,v]);const x=async()=>{console.log("[Dashboard] Starting to load data...");try{h(!0),g(null),console.log("[Dashboard] Fetching data...");const[O,P,U,z,W]=await Promise.all([zi.getAll().catch(I=>(console.error("[Dashboard] Error fetching projects:",I),[])),vC.getAll().catch(I=>(console.error("[Dashboard] Error fetching clients:",I),[])),Wn.getAll().catch(I=>(console.error("[Dashboard] Error fetching users:",I),[])),Fo.getAll().catch(I=>(console.error("[Dashboard] Error fetching leads:",I),[])),fu.getAll().catch(I=>(console.error("[Dashboard] Error fetching surveys:",I),[]))]);console.log("[Dashboard] Data fetched successfully:",{projects:O.length,clients:P.length,users:U.length,leads:z.length,surveys:W.length}),r(O),a(P),i(U),c(z),d(W)}catch(O){console.error("[Dashboard] Failed to load data:",O),g(O.message||"Failed to load data")}finally{console.log("[Dashboard] Data loading completed"),h(!1)}};if(f||v||!p)return o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})});if(m)return o.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:m}),o.jsx(ie,{onClick:x,className:"mt-4",children:"Retry"})]})});const b=t.length,y=t.filter(O=>O.progress===100).length,_=t.filter(O=>O.progress>0&&O.progress<100).length,S=t.filter(O=>O.progress===0).length,k=n.length,j=s.length,E=l.length,N=u.length,A=t.sort((O,P)=>new Date(P.created_date||"").getTime()-new Date(O.created_date||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("dashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-1 sm:mt-2 text-sm sm:text-base",children:e("dashboard.subtitle")})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(PU,{})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.totalProjects")}),o.jsx(tne,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:b}),o.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[y," ",e("dashboard.completed")]})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.inProgress")}),o.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:_}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.activeProjects")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.clients")}),o.jsx(Sa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:k}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalClients")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.teamMembers")}),o.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:j}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.activeUsers")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.leads")}),o.jsx(xy,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:E}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalLeads")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-xs sm:text-sm font-medium",children:e("dashboard.surveys")}),o.jsx($i,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-xl sm:text-2xl font-bold",children:N}),o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:e("dashboard.totalSurveys")})]})]})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2",children:[o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{className:"text-base sm:text-lg",children:e("dashboard.recentProjects")})}),o.jsx(it,{className:"space-y-3 sm:space-y-4",children:A.length>0?A.map(O=>{const P=n.find(U=>U.auth_user_id===O.created_by);return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium leading-none truncate",children:ge(O,"project_name")}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:P?ge(P,"user_name"):"No client"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ol,{value:O.progress,className:"w-16 sm:w-20 h-2"}),o.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground w-8",children:[O.progress,"%"]})]})]},O.project_id)}):o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e("dashboard.noProjectsYet")})})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{className:"text-base sm:text-lg",children:e("dashboard.projectStatus")})}),o.jsxs(it,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.completedStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:y})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.inProgressStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:_})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-gray-500"}),o.jsx("span",{className:"text-xs sm:text-sm",children:e("dashboard.notStartedStatus")})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:S})]})]})]})]})]})}const Pw={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},xle=()=>sw({queryKey:Pw.users,queryFn:Wn.getAll}),yle=e=>sw({queryKey:Pw.userProjects(e),queryFn:()=>zi.getByUserAuthId(e),enabled:!!e}),wle=()=>sw({queryKey:Pw.tasks,queryFn:ec.getAll}),ble=()=>sw({queryKey:Pw.globalStages,queryFn:sa.getGlobalStages}),_le=jg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lt({className:e,variant:t,...r}){return o.jsx("div",{className:xe(_le({variant:t}),e),...r})}function Sle(){var j;const{t:e}=Ut(),[t,r]=w.useState([]),[n,a]=w.useState([]),[s,i]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState(!0),[f,h]=w.useState(null),{user:m,loading:g}=xr(),{data:p=[],isLoading:v}=yle((m==null?void 0:m.id)||"");w.useEffect(()=>{m&&!g&&x()},[m,g]);const x=async()=>{try{d(!0),h(null);const N=(await ec.getAll()).filter(U=>{var z;return U.assigned_to===((z=m==null?void 0:m.profile)==null?void 0:z.user_id)}),A=await Wn.getAll(),O=await Fo.getAll(),P=await fu.getAll().catch(U=>(console.error("[EmployeeDashboard] Error fetching surveys:",U),[]));r(N),a(A),i(O),c(P)}catch(E){console.error("Failed to load employee data:",E),h(E.message||"Failed to load data")}finally{d(!1)}};if(u||g||!m)return o.jsx("div",{className:"flex items-center justify-center flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:e("common.loading")})]})});if(f)return o.jsx("div",{className:"flex items-center justify-center flex-1",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),o.jsx("p",{className:"mt-4 text-muted-foreground",children:f}),o.jsx(ie,{onClick:x,className:"mt-4",children:e("dashboard.retry")})]})});const b=t.filter(E=>E.task_status==="completed").length,y=t.filter(E=>E.task_status==="in_progress").length;t.filter(E=>E.task_status==="pending").length;const _=p.filter(E=>E.progress!==void 0&&E.progress<100).length,S=l.length,k=t.sort((E,N)=>new Date(N.created_at||"").getTime()-new Date(E.created_at||"").getTime()).slice(0,5);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("employeeDashboard.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("employeeDashboard.subtitle",{name:ge(m.profile||{},"user_name")||m.email})})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(PU,{})})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsxs(Yt,{className:"flex items-center gap-2",children:[o.jsx(Oa,{className:"h-5 w-5"}),e("employeeDashboard.employeeInfo")]})}),o.jsx(it,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.name")}),o.jsx("p",{className:"font-medium",children:ge(m.profile||{},"user_name")||"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.email")}),o.jsx("p",{className:"font-medium",children:m.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.role")}),o.jsx(lt,{variant:"secondary",className:"capitalize",children:m.role})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.memberSince")}),o.jsx("p",{className:"font-medium",children:(j=m.profile)!=null&&j.created_at?new Date(m.profile.created_at).toLocaleDateString():"N/A"})]})]})})]}),o.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.myProjects")}),o.jsx(Nf,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:p.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[_," ",e("employeeDashboard.active")]})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.myTasks")}),o.jsx(xy,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:t.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[b," ",e("employeeDashboard.completed")]})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.inProgress")}),o.jsx(du,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:y}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.activeTasks")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.completedTasks")}),o.jsx(Zl,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:b}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.finishedTasks")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.leads")}),o.jsx(xy,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:s.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.totalLeads")})]})]}),o.jsxs(rt,{children:[o.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Yt,{className:"text-sm font-medium",children:e("employeeDashboard.surveys")}),o.jsx($i,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(it,{children:[o.jsx("div",{className:"text-2xl font-bold",children:S}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e("employeeDashboard.totalSurveys")})]})]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("employeeDashboard.myProjects")})}),o.jsx(it,{className:"space-y-4",children:p.length>0?p.slice(0,5).map(E=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:E.project_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:E.project_description||e("employeeDashboard.noDescription")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ol,{value:E.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-sm text-muted-foreground w-8",children:[E.progress||0,"%"]})]})]},E.project_id)):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.noProjectsAssigned")})})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("employeeDashboard.recentTasks")})}),o.jsx(it,{className:"space-y-4",children:k.length>0?k.map(E=>{var N;return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:E.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:E.description||e("employeeDashboard.noDescription")})]}),o.jsx(lt,{variant:E.task_status==="completed"?"default":E.task_status==="in_progress"?"secondary":"outline",className:"text-xs",children:(N=E.task_status)==null?void 0:N.replace("_"," ")})]},E.task_id)}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("employeeDashboard.noTasksAssigned")})})]})]})]})}var Dw="Popover",[DU,eWe]=pa(Dw,[nm]),Fg=nm(),[jle,Rc]=DU(Dw),RU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=Fg(t),c=w.useRef(null),[u,d]=w.useState(!1),[f,h]=il({prop:n,defaultProp:a??!1,onChange:s,caller:Dw});return o.jsx(eC,{...l,children:o.jsx(jle,{scope:t,contentId:jn(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:i,children:r})})};RU.displayName=Dw;var IU="PopoverAnchor",kle=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rc(IU,r),s=Fg(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return w.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(vw,{...s,...n,ref:t})});kle.displayName=IU;var MU="PopoverTrigger",FU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rc(MU,r),s=Fg(r),i=Ot(t,a.triggerRef),l=o.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":WU(a.open),...n,ref:i,onClick:Ke(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(vw,{asChild:!0,...s,children:l})});FU.displayName=MU;var wC="PopoverPortal",[Nle,Ele]=DU(wC,{forceMount:void 0}),LU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Rc(wC,t);return o.jsx(Nle,{scope:t,forceMount:r,children:o.jsx(Yn,{present:r||s.open,children:o.jsx(Ag,{asChild:!0,container:a,children:n})})})};LU.displayName=wC;var dh="PopoverContent",$U=w.forwardRef((e,t)=>{const r=Ele(dh,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Rc(dh,e.__scopePopover);return o.jsx(Yn,{present:n||s.open,children:s.modal?o.jsx(Tle,{...a,ref:t}):o.jsx(Ale,{...a,ref:t})})});$U.displayName=dh;var Cle=yc("PopoverContent.RemoveScroll"),Tle=w.forwardRef((e,t)=>{const r=Rc(dh,e.__scopePopover),n=w.useRef(null),a=Ot(t,n),s=w.useRef(!1);return w.useEffect(()=>{const i=n.current;if(i)return xw(i)},[]),o.jsx(Og,{as:Cle,allowPinchZoom:!0,children:o.jsx(BU,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ale=w.forwardRef((e,t)=>{const r=Rc(dh,e.__scopePopover),n=w.useRef(!1),a=w.useRef(!1);return o.jsx(BU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),BU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Rc(dh,r),m=Fg(r);return hw(),o.jsx(Cg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Eg,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(tC,{"data-state":WU(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),UU="PopoverClose",Ole=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rc(UU,r);return o.jsx(tt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,()=>a.onOpenChange(!1))})});Ole.displayName=UU;var Ple="PopoverArrow",Dle=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fg(r);return o.jsx(rC,{...a,...n,ref:t})});Dle.displayName=Ple;function WU(e){return e?"open":"closed"}var Rle=RU,Ile=FU,Mle=LU,zU=$U;const So=Rle,jo=Ile,Li=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(Mle,{children:o.jsx(zU,{ref:a,align:t,sideOffset:r,className:xe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Li.displayName=zU.displayName;function kt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ra(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ta(e,t){const r=kt(e);return isNaN(t)?Ra(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ei(e,t){const r=kt(e);if(isNaN(t))return Ra(e,NaN);if(!t)return r;const n=r.getDate(),a=Ra(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const bC=6048e5,Fle=864e5,Vv=43200,B4=1440;let Lle={};function om(){return Lle}function so(e,t){var l,c,u,d;const r=om(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=kt(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function qu(e){return so(e,{weekStartsOn:1})}function VU(e){const t=kt(e),r=t.getFullYear(),n=Ra(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=qu(n),s=Ra(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=qu(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function fh(e){const t=kt(e);return t.setHours(0,0,0,0),t}function hh(e){const t=kt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Yi(e,t){const r=fh(e),n=fh(t),a=+r-hh(r),s=+n-hh(n);return Math.round((a-s)/Fle)}function $le(e){const t=VU(e),r=Ra(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qu(r)}function C2(e,t){const r=t*7;return ta(e,r)}function Ble(e,t){return Ei(e,t*12)}function Ule(e){let t;return e.forEach(function(r){const n=kt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Wle(e){let t;return e.forEach(r=>{const n=kt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Ax(e,t){const r=kt(e),n=kt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function zle(e){return Ra(e,Date.now())}function Na(e,t){const r=fh(e),n=fh(t);return+r==+n}function _C(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vle(e){if(!_C(e)&&typeof e!="number")return!1;const t=kt(e);return!isNaN(Number(t))}function mh(e,t){const r=kt(e),n=kt(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Hle(e,t,r){const n=so(e,r),a=so(t,r),s=+n-hh(n),i=+a-hh(a);return Math.round((s-i)/bC)}function Gle(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Kle(e,t){return+kt(e)-+kt(t)}function qle(e){const t=kt(e);return t.setHours(23,59,59,999),t}function Rw(e){const t=kt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Yle(e){const t=kt(e);return+qle(t)==+Rw(t)}function Xle(e,t){const r=kt(e),n=kt(t),a=Ax(r,n),s=Math.abs(mh(r,n));let i;if(s<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*s);let l=Ax(r,n)===-a;Yle(kt(e))&&s===1&&Ax(e,n)===1&&(l=!1),i=a*(s-Number(l))}return i===0?0:i}function Qle(e,t,r){const n=Kle(e,t)/1e3;return Gle(r==null?void 0:r.roundingMethod)(n)}function Da(e){const t=kt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function HU(e){const t=kt(e),r=Ra(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function SC(e,t){var l,c,u,d;const r=om(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=kt(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function GU(e){return SC(e,{weekStartsOn:1})}const Jle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zle=(e,t,r)=>{let n;const a=Jle[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ece={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nce={date:Tf({formats:ece,defaultWidth:"full"}),time:Tf({formats:tce,defaultWidth:"full"}),dateTime:Tf({formats:rce,defaultWidth:"full"})},ace={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sce=(e,t,r,n)=>ace[e];function Hi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const ice={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hce={ordinalNumber:fce,era:Hi({values:ice,defaultWidth:"wide"}),quarter:Hi({values:oce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hi({values:lce,defaultWidth:"wide"}),day:Hi({values:cce,defaultWidth:"wide"}),dayPeriod:Hi({values:uce,defaultWidth:"wide",formattingValues:dce,defaultFormattingWidth:"wide"})};function Gi(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pce(l,f=>f.test(i)):mce(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function mce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function KU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const gce=/^(\d+)(th|st|nd|rd)?/i,vce=/\d+/i,xce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yce={any:[/^b/i,/^(a|c)/i]},wce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bce={any:[/1/i,/2/i,/3/i,/4/i]},_ce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ece={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cce={ordinalNumber:KU({matchPattern:gce,parsePattern:vce,valueCallback:e=>parseInt(e,10)}),era:Gi({matchPatterns:xce,defaultMatchWidth:"wide",parsePatterns:yce,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:wce,defaultMatchWidth:"wide",parsePatterns:bce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gi({matchPatterns:_ce,defaultMatchWidth:"wide",parsePatterns:Sce,defaultParseWidth:"any"}),day:Gi({matchPatterns:jce,defaultMatchWidth:"wide",parsePatterns:kce,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:Nce,defaultMatchWidth:"any",parsePatterns:Ece,defaultParseWidth:"any"})},jC={code:"en-US",formatDistance:Zle,formatLong:nce,formatRelative:sce,localize:hce,match:Cce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tce(e){const t=kt(e);return Yi(t,HU(t))+1}function qU(e){const t=kt(e),r=+qu(t)-+$le(t);return Math.round(r/bC)+1}function YU(e,t){var d,f,h,m;const r=kt(e),n=r.getFullYear(),a=om(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ra(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=so(i,t),c=Ra(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=so(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ace(e,t){var l,c,u,d;const r=om(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=YU(e,t),s=Ra(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),so(s,t)}function XU(e,t){const r=kt(e),n=+so(r,t)-+Ace(r,t);return Math.round(n/bC)+1}function Jt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Tl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jt(r+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jt(a,t.length)}},Fd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U4={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Tl.y(e,t)},Y:function(e,t,r,n){const a=YU(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return Jt(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Jt(s,t.length)},R:function(e,t){const r=VU(e);return Jt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Tl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=XU(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,r){const n=qU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Tl.d(e,t)},D:function(e,t,r){const n=Tce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Jt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Jt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Fd.noon:n===0?a=Fd.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Fd.evening:n>=12?a=Fd.afternoon:n>=4?a=Fd.morning:a=Fd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Tl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Tl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Tl.s(e,t)},S:function(e,t){return Tl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return z4(n);case"XXXX":case"XX":return Xc(n);case"XXXXX":case"XXX":default:return Xc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return z4(n);case"xxxx":case"xx":return Xc(n);case"xxxxx":case"xxx":default:return Xc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+W4(n,":");case"OOOO":default:return"GMT"+Xc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+W4(n,":");case"zzzz":default:return"GMT"+Xc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Jt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Jt(n,t.length)}};function W4(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+Jt(s,2)}function z4(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):Xc(e,t)}function Xc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jt(Math.trunc(n/60),2),s=Jt(n%60,2);return r+a+t+s}const V4=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Oce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return V4(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",V4(n,t)).replace("{{time}}",QU(a,t))},Pce={p:QU,P:Oce},Dce=/^D+$/,Rce=/^Y+$/,Ice=["D","DD","YY","YYYY"];function Mce(e){return Dce.test(e)}function Fce(e){return Rce.test(e)}function Lce(e,t,r){const n=$ce(e,t,r);if(console.warn(n),Ice.includes(e))throw new RangeError(n)}function $ce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wce=/^'([^]*?)'?$/,zce=/''/g,Vce=/[a-zA-Z]/;function yi(e,t,r){var d,f,h,m,g,p,v,x;const n=om(),a=(r==null?void 0:r.locale)??n.locale??jC,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=kt(e);if(!Vle(l))throw new RangeError("Invalid time value");let c=t.match(Uce).map(b=>{const y=b[0];if(y==="p"||y==="P"){const _=Pce[y];return _(b,a.formatLong)}return b}).join("").match(Bce).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const y=b[0];if(y==="'")return{isToken:!1,value:Hce(b)};if(U4[y])return{isToken:!0,value:b};if(y.match(Vce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const y=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Fce(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Mce(y))&&Lce(y,t,String(e));const _=U4[y[0]];return _(l,y,a.localize,u)}).join("")}function Hce(e){const t=e.match(Wce);return t?t[1].replace(zce,"'"):e}function Gce(e,t,r){const n=om(),a=(r==null?void 0:r.locale)??n.locale??jC,s=2520,i=Ax(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i});let c,u;i>0?(c=kt(t),u=kt(e)):(c=kt(e),u=kt(t));const d=Qle(u,c),f=(hh(u)-hh(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<B4){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<s)return a.formatDistance("xDays",1,l);if(h<Vv){const g=Math.round(h/B4);return a.formatDistance("xDays",g,l)}else if(h<Vv*2)return m=Math.round(h/Vv),a.formatDistance("aboutXMonths",m,l)}if(m=Xle(u,c),m<12){const g=Math.round(h/Vv);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Kce(e,t){return Gce(e,zle(e),t)}function qce(e){const t=kt(e),r=t.getFullYear(),n=t.getMonth(),a=Ra(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Yce(e){return Math.trunc(+kt(e)/1e3)}function Xce(e){const t=kt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Qce(e,t){return Hle(Xce(e),Da(e),t)+1}function T2(e,t){const r=kt(e),n=kt(t);return r.getTime()>n.getTime()}function JU(e,t){const r=kt(e),n=kt(t);return+r<+n}function kC(e,t){const r=kt(e),n=kt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Jce(e,t){const r=kt(e),n=kt(t);return r.getFullYear()===n.getFullYear()}function U_(e,t){return ta(e,-t)}function W_(e,t){const r=kt(e),n=r.getFullYear(),a=r.getDate(),s=Ra(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=qce(s);return r.setMonth(t,Math.min(a,i)),r}function H4(e,t){const r=kt(e);return isNaN(+r)?Ra(e,NaN):(r.setFullYear(t),r)}const Zce={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},eue=(e,t,r)=>{const n=Zce[e];let a;return typeof n=="string"?a=n:t===1?a=n.one:t===2?a=n.two:t<=10?a=n.threeToTen.replace("{{count}}",String(t)):a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?" "+a:" "+a:a},tue={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},rue={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},nue={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aue={date:Tf({formats:tue,defaultWidth:"full"}),time:Tf({formats:rue,defaultWidth:"full"}),dateTime:Tf({formats:nue,defaultWidth:"full"})},sue={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},iue=e=>sue[e],oue={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},lue={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},cue={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},uue={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},due={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},fue={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},hue=e=>String(e),mue={ordinalNumber:hue,era:Hi({values:oue,defaultWidth:"wide"}),quarter:Hi({values:lue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Hi({values:cue,defaultWidth:"wide"}),day:Hi({values:uue,defaultWidth:"wide"}),dayPeriod:Hi({values:due,defaultWidth:"wide",formattingValues:fue,defaultFormattingWidth:"wide"})},pue=/^(\d+)(th|st|nd|rd)?/i,gue=/\d+/i,vue={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},xue={any:[//,//]},yue={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},wue={any:[/1/i,/2/i,/3/i,/4/i]},bue={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},_ue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},Sue={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},jue={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},kue={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},Nue={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},Eue={ordinalNumber:KU({matchPattern:pue,parsePattern:gue,valueCallback:e=>parseInt(e,10)}),era:Gi({matchPatterns:vue,defaultMatchWidth:"wide",parsePatterns:xue,defaultParseWidth:"any"}),quarter:Gi({matchPatterns:yue,defaultMatchWidth:"wide",parsePatterns:wue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gi({matchPatterns:bue,defaultMatchWidth:"wide",parsePatterns:_ue,defaultParseWidth:"any"}),day:Gi({matchPatterns:Sue,defaultMatchWidth:"wide",parsePatterns:jue,defaultParseWidth:"any"}),dayPeriod:Gi({matchPatterns:kue,defaultMatchWidth:"any",parsePatterns:Nue,defaultParseWidth:"any"})},Cue={code:"ar",formatDistance:eue,formatLong:aue,formatRelative:iue,localize:mue,match:Eue,options:{weekStartsOn:6,firstWeekContainsDate:1}};var yt=function(){return yt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yt.apply(this,arguments)};function Tue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ZU(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Lg(e){return e.mode==="multiple"}function $g(e){return e.mode==="range"}function Iw(e){return e.mode==="single"}var Aue={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Oue(e,t){return yi(e,"LLLL y",t)}function Pue(e,t){return yi(e,"d",t)}function Due(e,t){return yi(e,"LLLL",t)}function Rue(e){return"".concat(e)}function Iue(e,t){return yi(e,"cccccc",t)}function Mue(e,t){return yi(e,"yyyy",t)}var Fue=Object.freeze({__proto__:null,formatCaption:Oue,formatDay:Pue,formatMonthCaption:Due,formatWeekNumber:Rue,formatWeekdayName:Iue,formatYearCaption:Mue}),Lue=function(e,t,r){return yi(e,"do MMMM (EEEE)",r)},$ue=function(){return"Month: "},Bue=function(){return"Go to next month"},Uue=function(){return"Go to previous month"},Wue=function(e,t){return yi(e,"cccc",t)},zue=function(e){return"Week n. ".concat(e)},Vue=function(){return"Year: "},Hue=Object.freeze({__proto__:null,labelDay:Lue,labelMonthDropdown:$ue,labelNext:Bue,labelPrevious:Uue,labelWeekNumber:zue,labelWeekday:Wue,labelYearDropdown:Vue});function Gue(){var e="buttons",t=Aue,r=jC,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:Fue,labels:Hue,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function Kue(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=Da(n):t&&(s=new Date(t,0,1)),a?i=Rw(a):r&&(i=new Date(r,11,31)),{fromDate:s?fh(s):void 0,toDate:i?fh(i):void 0}}var e9=w.createContext(void 0);function que(e){var t,r=e.initialProps,n=Gue(),a=Kue(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(Iw(r)||Lg(r)||$g(r))&&(c=r.onSelect);var u=yt(yt(yt({},n),r),{captionLayout:l,classNames:yt(yt({},n.classNames),r.classNames),components:yt({},r.components),formatters:yt(yt({},n.formatters),r.formatters),fromDate:s,labels:yt(yt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:yt(yt({},n.modifiers),r.modifiers),modifiersClassNames:yt(yt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:yt(yt({},n.styles),r.styles),toDate:i});return o.jsx(e9.Provider,{value:u,children:e.children})}function fr(){var e=w.useContext(e9);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function t9(e){var t=fr(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function Yue(e){return o.jsx("svg",yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function r9(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=fr(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Yue;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Xue(e){var t,r=fr(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Jce(n,a))for(var h=Da(n),m=n.getMonth();m<=a.getMonth();m++)f.push(W_(h,m));else for(var h=Da(new Date),m=0;m<=11;m++)f.push(W_(h,m));var g=function(v){var x=Number(v.target.value),b=W_(Da(e.displayMonth),x);e.onChange(b)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:r9;return o.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:i})},v.getMonth())})})}function Que(e){var t,r=e.displayMonth,n=fr(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=a.getFullYear(),g=s.getFullYear(),p=m;p<=g;p++)h.push(H4(HU(new Date),p));var v=function(b){var y=H4(Da(r),Number(b.target.value));e.onChange(y)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:r9;return o.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(b){return o.jsx("option",{value:b.getFullYear(),children:d(b,{locale:i})},b.getFullYear())})})}function Jue(e,t){var r=w.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function Zue(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&mh(s,a)<0){var u=-1*(c-1);a=Ei(s,u)}return i&&mh(a,i)<0&&(a=i),Da(a)}function ede(){var e=fr(),t=Zue(e),r=Jue(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=Da(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function tde(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Da(e),s=Da(Ei(a,n)),i=mh(s,a),l=[],c=0;c<i;c++){var u=Ei(a,c);l.push(u)}return r&&(l=l.reverse()),l}function rde(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Da(e);if(!r)return Ei(l,i);var c=mh(r,e);if(!(c<s))return Ei(l,i)}}function nde(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=Da(e);if(!r)return Ei(l,-i);var c=mh(l,r);if(!(c<=0))return Ei(l,-i)}}var n9=w.createContext(void 0);function ade(e){var t=fr(),r=ede(),n=r[0],a=r[1],s=tde(n,t),i=rde(n,t),l=nde(n,t),c=function(f){return s.some(function(h){return kC(f,h)})},u=function(f,h){c(f)||(h&&JU(f,h)?a(Ei(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(n9.Provider,{value:d,children:e.children})}function Bg(){var e=w.useContext(n9);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function G4(e){var t,r=fr(),n=r.classNames,a=r.styles,s=r.components,i=Bg().goToMonth,l=function(d){i(Ei(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:t9,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Xue,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Que,{onChange:l,displayMonth:e.displayMonth})]})}function sde(e){return o.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ide(e){return o.jsx("svg",yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Cy=w.forwardRef(function(e,t){var r=fr(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=yt(yt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",yt({},e,{ref:t,type:"button",className:i,style:l}))});function ode(e){var t,r,n=fr(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:s}),p=[i.nav_button,i.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:ide,x=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:sde;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Cy,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:i.nav_icon,style:l.nav_icon}):o.jsx(x,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Cy,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(x,{className:i.nav_icon,style:l.nav_icon}):o.jsx(v,{className:i.nav_icon,style:l.nav_icon})})]})}function K4(e){var t=fr().numberOfMonths,r=Bg(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(g){return kC(e.displayMonth,g)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return o.jsx(ode,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function lde(e){var t,r=fr(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:t9,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(G4,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(G4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(K4,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(K4,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function cde(e){var t=fr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function ude(e,t,r){for(var n=r?qu(new Date):so(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=ta(n,s);a.push(i)}return a}function dde(){var e=fr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=ude(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function fde(){var e,t=fr(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:dde;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function hde(e){var t=fr(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var NC=w.createContext(void 0);function mde(e){if(!Lg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(NC.Provider,{value:t,children:e.children})}return o.jsx(pde,{initialProps:e.initialProps,children:e.children})}function pde(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var v=n?ZU([],n):[];if(d.selected){var x=v.findIndex(function(b){return Na(u,b)});v.splice(x,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return Na(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(NC.Provider,{value:c,children:r})}function EC(){var e=w.useContext(NC);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function gde(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Na(a,e)&&Na(n,e)?void 0:Na(a,e)?{from:a,to:void 0}:Na(n,e)?void 0:T2(n,e)?{from:e,to:a}:{from:n,to:e}:a?T2(e,a)?{from:a,to:e}:{from:e,to:a}:n?JU(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var CC=w.createContext(void 0);function vde(e){if(!$g(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(CC.Provider,{value:t,children:e.children})}return o.jsx(xde,{initialProps:e.initialProps,children:e.children})}function xde(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var b=gde(m,n);(x=t.onSelect)===null||x===void 0||x.call(t,b,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],Na(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:U_(s,l-1),before:ta(s,l-1)}),s&&i&&d.disabled.push({after:s,before:ta(s,l-1)}),!s&&i&&d.disabled.push({after:U_(i,l-1),before:ta(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:ta(s,-c+1)}),d.disabled.push({after:ta(s,c-1)})),s&&i){var f=Yi(i,s)+1,h=c-f;d.disabled.push({before:U_(s,h)}),d.disabled.push({after:ta(i,h)})}!s&&i&&(d.disabled.push({before:ta(i,-c+1)}),d.disabled.push({after:ta(i,c-1)}))}return o.jsx(CC.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function TC(){var e=w.useContext(CC);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ox(e){return Array.isArray(e)?ZU([],e):e!==void 0?[e]:[]}function yde(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ox(a)}),t}var Ci;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ci||(Ci={}));var wde=Ci.Selected,wo=Ci.Disabled,bde=Ci.Hidden,_de=Ci.Today,z_=Ci.RangeEnd,V_=Ci.RangeMiddle,H_=Ci.RangeStart,Sde=Ci.Outside;function jde(e,t,r){var n,a=(n={},n[wde]=Ox(e.selected),n[wo]=Ox(e.disabled),n[bde]=Ox(e.hidden),n[_de]=[e.today],n[z_]=[],n[V_]=[],n[H_]=[],n[Sde]=[],n);return e.fromDate&&a[wo].push({before:e.fromDate}),e.toDate&&a[wo].push({after:e.toDate}),Lg(e)?a[wo]=a[wo].concat(t.modifiers[wo]):$g(e)&&(a[wo]=a[wo].concat(r.modifiers[wo]),a[H_]=r.modifiers[H_],a[V_]=r.modifiers[V_],a[z_]=r.modifiers[z_]),a}var a9=w.createContext(void 0);function kde(e){var t=fr(),r=EC(),n=TC(),a=jde(t,r,n),s=yde(t.modifiers),i=yt(yt({},a),s);return o.jsx(a9.Provider,{value:i,children:e.children})}function s9(){var e=w.useContext(a9);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Nde(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ede(e){return!!(e&&typeof e=="object"&&"from"in e)}function Cde(e){return!!(e&&typeof e=="object"&&"after"in e)}function Tde(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ade(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Ode(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=Yi(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=Yi(e,n)>=0&&Yi(a,e)>=0;return i}return a?Na(a,e):n?Na(n,e):!1}function Pde(e){return _C(e)}function Dde(e){return Array.isArray(e)&&e.every(_C)}function Rde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Pde(r))return Na(e,r);if(Dde(r))return r.includes(e);if(Ede(r))return Ode(e,r);if(Ade(r))return r.dayOfWeek.includes(e.getDay());if(Nde(r)){var n=Yi(r.before,e),a=Yi(r.after,e),s=n>0,i=a<0,l=T2(r.before,r.after);return l?i&&s:s||i}return Cde(r)?Yi(e,r.after)>0:Tde(r)?Yi(r.before,e)>0:typeof r=="function"?r(e):!1})}function AC(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return Rde(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!kC(e,r)&&(a.outside=!0),a}function Ide(e,t){for(var r=Da(e[0]),n=Rw(e[e.length-1]),a,s,i=r;i<=n;){var l=AC(i,t),c=!l.disabled&&!l.hidden;if(!c){i=ta(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=ta(i,1)}return s||a}var Mde=365;function i9(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:ta,week:C2,month:Ei,year:Ble,startOfWeek:function(v){return a.ISOWeek?qu(v):so(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?GU(v):SC(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Ule([u,m]):n==="after"&&d&&(m=Wle([d,m]));var g=!0;if(s){var p=AC(m,s);g=!p.disabled&&!p.hidden}return g?m:l.count>Mde?l.lastFocused:i9(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:yt(yt({},l),{count:l.count+1})})}var o9=w.createContext(void 0);function Fde(e){var t=Bg(),r=s9(),n=w.useState(),a=n[0],s=n[1],i=w.useState(),l=i[0],c=i[1],u=Ide(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(v){s(v)},m=fr(),g=function(v,x){if(a){var b=i9(a,{moveBy:v,direction:x,context:m,modifiers:r});Na(a,b)||(t.goToDate(b,a),h(b))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(o9.Provider,{value:p,children:e.children})}function OC(){var e=w.useContext(o9);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Lde(e,t){var r=s9(),n=AC(e,r,t);return n}var PC=w.createContext(void 0);function $de(e){if(!Iw(e.initialProps)){var t={selected:void 0};return o.jsx(PC.Provider,{value:t,children:e.children})}return o.jsx(Bde,{initialProps:e.initialProps,children:e.children})}function Bde(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(PC.Provider,{value:a,children:r})}function l9(){var e=w.useContext(PC);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Ude(e,t){var r=fr(),n=l9(),a=EC(),s=TC(),i=OC(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,g=i.focusMonthAfter,p=i.focusYearBefore,v=i.focusYearAfter,x=i.focusStartOfWeek,b=i.focusEndOfWeek,y=function(R){var F,D,V,J;Iw(r)?(F=n.onDayClick)===null||F===void 0||F.call(n,e,t,R):Lg(r)?(D=a.onDayClick)===null||D===void 0||D.call(a,e,t,R):$g(r)?(V=s.onDayClick)===null||V===void 0||V.call(s,e,t,R):(J=r.onDayClick)===null||J===void 0||J.call(r,e,t,R)},_=function(R){var F;h(e),(F=r.onDayFocus)===null||F===void 0||F.call(r,e,t,R)},S=function(R){var F;f(),(F=r.onDayBlur)===null||F===void 0||F.call(r,e,t,R)},k=function(R){var F;(F=r.onDayMouseEnter)===null||F===void 0||F.call(r,e,t,R)},j=function(R){var F;(F=r.onDayMouseLeave)===null||F===void 0||F.call(r,e,t,R)},E=function(R){var F;(F=r.onDayPointerEnter)===null||F===void 0||F.call(r,e,t,R)},N=function(R){var F;(F=r.onDayPointerLeave)===null||F===void 0||F.call(r,e,t,R)},A=function(R){var F;(F=r.onDayTouchCancel)===null||F===void 0||F.call(r,e,t,R)},O=function(R){var F;(F=r.onDayTouchEnd)===null||F===void 0||F.call(r,e,t,R)},P=function(R){var F;(F=r.onDayTouchMove)===null||F===void 0||F.call(r,e,t,R)},U=function(R){var F;(F=r.onDayTouchStart)===null||F===void 0||F.call(r,e,t,R)},z=function(R){var F;(F=r.onDayKeyUp)===null||F===void 0||F.call(r,e,t,R)},W=function(R){var F;switch(R.key){case"ArrowLeft":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":R.preventDefault(),R.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":R.preventDefault(),R.stopPropagation(),u();break;case"ArrowUp":R.preventDefault(),R.stopPropagation(),d();break;case"PageUp":R.preventDefault(),R.stopPropagation(),R.shiftKey?p():m();break;case"PageDown":R.preventDefault(),R.stopPropagation(),R.shiftKey?v():g();break;case"Home":R.preventDefault(),R.stopPropagation(),x();break;case"End":R.preventDefault(),R.stopPropagation(),b();break}(F=r.onDayKeyDown)===null||F===void 0||F.call(r,e,t,R)},I={onClick:y,onFocus:_,onBlur:S,onKeyDown:W,onKeyUp:z,onMouseEnter:k,onMouseLeave:j,onPointerEnter:E,onPointerLeave:N,onTouchCancel:A,onTouchEnd:O,onTouchMove:P,onTouchStart:U};return I}function Wde(){var e=fr(),t=l9(),r=EC(),n=TC(),a=Iw(e)?t.selected:Lg(e)?r.selected:$g(e)?n.selected:void 0;return a}function zde(e){return Object.values(Ci).includes(e)}function Vde(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(zde(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function Hde(e,t){var r=yt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=yt(yt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Gde(e,t,r){var n,a,s,i=fr(),l=OC(),c=Lde(e,t),u=Ude(e,c),d=Wde(),f=!!(i.onDayClick||i.mode!=="default");w.useEffect(function(){var k;c.outside||l.focusedDay&&f&&Na(l.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Vde(i,c).join(" "),m=Hde(i,c),g=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:hde,v=o.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),x={style:m,className:h,children:v,role:"gridcell"},b=l.focusTarget&&Na(l.focusTarget,e)&&!c.outside,y=l.focusedDay&&Na(l.focusedDay,e),_=yt(yt(yt({},x),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=y||b?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function Kde(e){var t=w.useRef(null),r=Gde(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Cy,yt({name:"day",ref:t},r.buttonProps)):o.jsx("div",yt({},r.divProps))}function qde(e){var t=e.number,r=e.dates,n=fr(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return o.jsx(Cy,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function Yde(e){var t,r,n=fr(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Kde,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:qde,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Yce(f))})]})}function q4(e,t,r){for(var n=r!=null&&r.ISOWeek?GU(t):SC(t,r),a=r!=null&&r.ISOWeek?qu(e):so(e,r),s=Yi(n,a),i=[],l=0;l<=s;l++)i.push(ta(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?qU(d):XU(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Xde(e,t){var r=q4(Da(e),Rw(e),t);if(t!=null&&t.useFixedWeeks){var n=Qce(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=C2(s,6-n),l=q4(C2(s,1),i,t);r.push.apply(r,l)}}return r}function Qde(e){var t,r,n,a=fr(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=Xde(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:fde,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Yde,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:cde;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(p,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:g.map(function(b){return o.jsx(v,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function Jde(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Zde=Jde()?w.useLayoutEffect:w.useEffect,G_=!1,efe=0;function Y4(){return"react-day-picker-".concat(++efe)}function tfe(e){var t,r=e??(G_?Y4():null),n=w.useState(r),a=n[0],s=n[1];return Zde(function(){a===null&&s(Y4())},[]),w.useEffect(function(){G_===!1&&(G_=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function rfe(e){var t,r,n=fr(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=Bg().displayMonths,u=tfe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(s.caption_start),h=yt(yt({},h),i.caption_start)),g&&(f.push(s.caption_end),h=yt(yt({},h),i.caption_end)),p&&(f.push(s.caption_between),h=yt(yt({},h),i.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:lde;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Qde,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function nfe(e){var t=fr(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function afe(e){var t,r,n=e.initialProps,a=fr(),s=OC(),i=Bg(),l=w.useState(!1),c=l[0],u=l[1];w.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=yt(yt({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return yt(yt({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:nfe;return o.jsx("div",yt({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(m,{children:i.displayMonths.map(function(g,p){return o.jsx(rfe,{displayIndex:p,displayMonth:g},p)})})}))}function sfe(e){var t=e.children,r=Tue(e,["children"]);return o.jsx(que,{initialProps:r,children:o.jsx(ade,{children:o.jsx($de,{initialProps:r,children:o.jsx(mde,{initialProps:r,children:o.jsx(vde,{initialProps:r,children:o.jsx(kde,{children:o.jsx(Fde,{children:t})})})})})})})}function ife(e){return o.jsx(sfe,yt({},e,{children:o.jsx(afe,{initialProps:e})}))}function c9({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(ife,{showOutsideDays:r,className:xe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xe(sh({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xe(sh({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(C8,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(ih,{className:"h-4 w-4"})},...n})}c9.displayName="Calendar";function DC({onSearch:e,onFilterStatus:t,onFilterAssignee:r,onFilterDateRange:n,users:a=[],statuses:s=[],placeholder:i,className:l}){const{t:c}=Ut(),{currentLanguage:u}=pl(),[d,f]=w.useState(""),[h,m]=w.useState({from:void 0,to:void 0}),g=u==="ar"?Cue:void 0;w.useEffect(()=>{const x=setTimeout(()=>{e(d)},300);return()=>clearTimeout(x)},[d,e]);const p=x=>{m(x),n&&n(x)},v=()=>{f(""),m({from:void 0,to:void 0}),t&&t("all"),r&&r("all"),n&&n({from:void 0,to:void 0})};return o.jsxs("div",{className:xe("flex flex-col sm:flex-row gap-3 mb-6",l),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(co,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),o.jsx(Qe,{placeholder:i||c("common.search","Search..."),value:d,onChange:x=>f(x.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[t&&s.length>0&&o.jsxs(mt,{onValueChange:t,children:[o.jsxs(ut,{className:"w-[140px]",children:[o.jsx(zre,{className:"mr-2 h-4 w-4"}),o.jsx(pt,{placeholder:c("common.status","Status")})]}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),s.map(x=>o.jsx(Ce,{value:x.value,children:x.label},x.value))]})]}),r&&a.length>0&&o.jsxs(mt,{onValueChange:r,children:[o.jsxs(ut,{className:"w-[140px]",children:[o.jsx(ofe,{className:"mr-2 h-4 w-4"}),o.jsx(pt,{placeholder:c("common.assignee","Assignee")})]}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:c("common.all","All")}),a.filter(x=>["employee","admin","manager","team_leader"].includes(x.user_role)).map(x=>o.jsx(Ce,{value:x.user_id.toString(),children:ge(x,"user_name")},x.user_id))]})]}),n&&o.jsxs(So,{children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:xe("w-[240px] justify-start text-left font-normal",!h.from&&"text-muted-foreground"),children:[o.jsx(Si,{className:"mr-2 h-4 w-4"}),h.from?h.to?o.jsxs(o.Fragment,{children:[yi(h.from,"LLL dd, y",{locale:g})," -"," ",yi(h.to,"LLL dd, y",{locale:g})]}):yi(h.from,"LLL dd, y",{locale:g}):o.jsx("span",{children:c("common.pickDate","Pick a date")})]})}),o.jsx(Li,{className:"w-auto p-0",align:"start",children:o.jsx(c9,{initialFocus:!0,mode:"range",defaultMonth:h.from,selected:h,onSelect:p,numberOfMonths:2})})]}),o.jsx(ie,{variant:"ghost",size:"icon",onClick:v,title:c("common.clearFilters","Clear filters"),children:o.jsx(nl,{className:"h-4 w-4"})})]})]})}function ofe(e){return o.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}const K_=1024;function $s(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const r=window.matchMedia(`(max-width: ${K_-1}px)`),n=()=>{t(window.innerWidth<K_)};return r.addEventListener("change",n),t(window.innerWidth<K_),()=>r.removeEventListener("change",n)},[]),!!e}var u9="AlertDialog",[lfe,tWe]=pa(u9,[lU]),gl=lU(),d9=e=>{const{__scopeAlertDialog:t,...r}=e,n=gl(t);return o.jsx(Cw,{...n,...r,modal:!0})};d9.displayName=u9;var cfe="AlertDialogTrigger",f9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gl(r);return o.jsx(gC,{...a,...n,ref:t})});f9.displayName=cfe;var ufe="AlertDialogPortal",h9=e=>{const{__scopeAlertDialog:t,...r}=e,n=gl(t);return o.jsx(Tw,{...n,...r})};h9.displayName=ufe;var dfe="AlertDialogOverlay",m9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gl(r);return o.jsx(sm,{...a,...n,ref:t})});m9.displayName=dfe;var Af="AlertDialogContent",[ffe,hfe]=lfe(Af),mfe=Ute("AlertDialogContent"),p9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=gl(r),i=w.useRef(null),l=Ot(t,i),c=w.useRef(null);return o.jsx(ele,{contentName:Af,titleName:g9,docsSlug:"alert-dialog",children:o.jsx(ffe,{scope:r,cancelRef:c,children:o.jsxs(im,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:Ke(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(mfe,{children:n}),o.jsx(gfe,{contentRef:i})]})})})});p9.displayName=Af;var g9="AlertDialogTitle",v9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gl(r);return o.jsx(Ig,{...a,...n,ref:t})});v9.displayName=g9;var x9="AlertDialogDescription",y9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gl(r);return o.jsx(Mg,{...a,...n,ref:t})});y9.displayName=x9;var pfe="AlertDialogAction",w9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=gl(r);return o.jsx(Aw,{...a,...n,ref:t})});w9.displayName=pfe;var b9="AlertDialogCancel",_9=w.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=hfe(b9,r),s=gl(r),i=Ot(t,a);return o.jsx(Aw,{...s,...n,ref:i})});_9.displayName=b9;var gfe=({contentRef:e})=>{const t=`\`${Af}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Af}\` by passing a \`${x9}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Af}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vfe=d9,xfe=f9,yfe=h9,S9=m9,j9=p9,k9=w9,N9=_9,E9=v9,C9=y9;const Ti=vfe,Yu=xfe,wfe=yfe,T9=w.forwardRef(({className:e,...t},r)=>o.jsx(S9,{className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));T9.displayName=S9.displayName;const As=w.forwardRef(({className:e,...t},r)=>o.jsxs(wfe,{children:[o.jsx(T9,{}),o.jsx(j9,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));As.displayName=j9.displayName;const Os=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Os.displayName="AlertDialogHeader";const Ps=({className:e,...t})=>o.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ps.displayName="AlertDialogFooter";const Ds=w.forwardRef(({className:e,...t},r)=>o.jsx(E9,{ref:r,className:xe("text-lg font-semibold",e),...t}));Ds.displayName=E9.displayName;const Rs=w.forwardRef(({className:e,...t},r)=>o.jsx(C9,{ref:r,className:xe("text-sm text-muted-foreground",e),...t}));Rs.displayName=C9.displayName;const Is=w.forwardRef(({className:e,...t},r)=>o.jsx(k9,{ref:r,className:xe(sh(),e),...t}));Is.displayName=k9.displayName;const Ms=w.forwardRef(({className:e,...t},r)=>o.jsx(N9,{ref:r,className:xe(sh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ms.displayName=N9.displayName;const zn=w.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:xe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));zn.displayName="Textarea";function Mw({stages:e,currentStageId:t,onStageChange:r,children:n}){const a=$s(),s=w.useRef(null),i=e.find(l=>l.id===t)??e[0];return w.useEffect(()=>{a&&s.current&&s.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[i==null?void 0:i.id,a]),a?o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:o.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Zi()?"ltr":"rtl",children:o.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((l,c)=>(Zi(),l.id-c.id)).map(l=>{const c=l.id===i.id;return o.jsxs("button",{ref:c?s:null,onClick:()=>r(l.id),className:xe("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",c?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[o.jsx("span",{className:"truncate max-w-[140px]",children:l.name}),o.jsx(lt,{variant:"secondary",className:xe("h-5 min-w-5 px-1.5 text-xs font-semibold",c?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:l.count})]},l.id)})})})}),o.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:o.jsx("div",{className:"p-2",children:n})})]}):o.jsx(o.Fragment,{children:n})}var Fw="Tabs",[bfe,rWe]=pa(Fw,[Sw]),A9=Sw(),[_fe,RC]=bfe(Fw),O9=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Ng(l),[f,h]=il({prop:n,onChange:a,defaultProp:s??"",caller:Fw});return o.jsx(_fe,{scope:r,baseId:jn(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(tt.div,{dir:d,"data-orientation":i,...u,ref:t})})});O9.displayName=Fw;var P9="TabsList",D9=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=RC(P9,r),i=A9(r);return o.jsx(uB,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(tt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});D9.displayName=P9;var R9="TabsTrigger",I9=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=RC(R9,r),l=A9(r),c=L9(i.baseId,n),u=$9(i.baseId,n),d=n===i.value;return o.jsx(dB,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Ke(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:Ke(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});I9.displayName=R9;var M9="TabsContent",F9=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=RC(M9,r),c=L9(l.baseId,n),u=$9(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Yn,{present:a||d,children:({present:h})=>o.jsx(tt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});F9.displayName=M9;function L9(e,t){return`${e}-trigger-${t}`}function $9(e,t){return`${e}-content-${t}`}var Sfe=O9,B9=D9,U9=I9,W9=F9;const Xu=Sfe,_c=w.forwardRef(({className:e,...t},r)=>o.jsx(B9,{ref:r,className:xe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_c.displayName=B9.displayName;const $n=w.forwardRef(({className:e,...t},r)=>o.jsx(U9,{ref:r,className:xe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));$n.displayName=U9.displayName;const Bn=w.forwardRef(({className:e,...t},r)=>o.jsx(W9,{ref:r,className:xe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Bn.displayName=W9.displayName;function z9({relatedType:e,relatedId:t,notes:r,onNotesChange:n}){const{t:a}=Ut(),{user:s}=xr(),[i,l]=w.useState(""),[c,u]=w.useState(null),[d,f]=w.useState(""),[h,m]=w.useState(null),[g,p]=w.useState(!1),v=async()=>{if(!(!i.trim()||!(s!=null&&s.id))){p(!0);try{await Cp.create({content:i.trim(),related_to_type:e,related_to_id:t,created_by:s.id}),l(""),n()}catch(_){console.error("Failed to create note:",_)}finally{p(!1)}}},x=async _=>{if(d.trim()){p(!0);try{await Cp.update(_,d.trim()),u(null),f(""),n()}catch(S){console.error("Failed to update note:",S)}finally{p(!1)}}},b=async()=>{if(h){p(!0);try{await Cp.delete(h),m(null),n()}catch(_){console.error("Failed to delete note:",_)}finally{p(!1)}}},y=_=>{if(!_)return"";try{return Kce(new Date(_),{addSuffix:!0})}catch{return _}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(zn,{value:i,onChange:_=>l(_.target.value),placeholder:a("notes.placeholder"),rows:3,className:"resize-none"}),o.jsxs(ie,{onClick:v,disabled:!i.trim()||g,className:"w-full",children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),a("notes.save")]})]}),o.jsx("div",{className:"space-y-3",children:r.length===0?o.jsx("p",{className:"text-center text-muted-foreground py-8",children:a("notes.noNotes")}):r.map(_=>{var j;const S=c===_.note_id,k=_.created_by===(s==null?void 0:s.id);return o.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(j=_.user)!=null&&j.avatar?o.jsx("img",{src:_.user.avatar,alt:ge(_.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-xs font-semibold text-primary",children:_.user?ge(_.user,"user_name")[0]:"?"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:_.user?ge(_.user,"user_name"):a("notes.unknown")}),o.jsx("p",{className:"text-xs text-muted-foreground",children:y(_.created_at)})]})]}),k&&!S&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{u(_.note_id),f(_.content)},children:o.jsx(rl,{className:"h-3.5 w-3.5"})}),o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>m(_.note_id),children:o.jsx(br,{className:"h-3.5 w-3.5"})})]})]}),S?o.jsxs("div",{className:"space-y-2",children:[o.jsx(zn,{value:d,onChange:E=>f(E.target.value),rows:3,className:"resize-none"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{size:"sm",onClick:()=>x(_.note_id),disabled:!d.trim()||g,children:[o.jsx(ji,{className:"h-3.5 w-3.5 mr-1"}),a("notes.save")]}),o.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>{u(null),f("")},children:[o.jsx(nl,{className:"h-3.5 w-3.5 mr-1"}),a("buttons.cancel")]})]})]}):o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:_.content})]},_.note_id)})}),o.jsx(Ti,{open:!!h,onOpenChange:()=>m(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:a("notes.delete")}),o.jsx(Rs,{children:a("notes.deleteConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:a("buttons.cancel")}),o.jsx(Is,{onClick:b,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a("buttons.delete")})]})]})})]})}function V9({priority:e=3,size:t="sm",showCount:r=!1,className:n}){const a=e||3,s={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return o.jsxs("div",{className:xe("flex items-center gap-0.5",n),children:[[1,2,3,4,5].map(i=>o.jsx(D8,{className:xe(s[t],i<=a?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},i)),r&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",a,"/5)"]})]})}function jfe({leadId:e}){const{t}=Ut(),{user:r}=xr(),[n,a]=w.useState(null),[s,i]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(""),[m,g]=w.useState([]),[p,v]=w.useState(!0),[x,b]=w.useState(!1),[y,_]=w.useState([]),[S,k]=w.useState([]),[j,E]=w.useState([]),[N,A]=w.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});w.useEffect(()=>{P(),O()},[e]);const O=async()=>{try{const D=await Wn.getAll().then(V=>V.filter(J=>J.user_role==="client"));E(D)}catch(D){console.error("Failed to load clients:",D)}},P=async()=>{var D,V,J;try{v(!0);const[T,G,M]=await Promise.all([Fo.getById(e),sa.getByType("leads"),Wn.getAll()]);if(a(T),_(G),k(M),!T)return;if(A({lead_name:T.lead_name||"",lead_description:T.lead_description||"",client_user_id:T.client_user_id||"",stage:((D=T.stage)==null?void 0:D.toString())||"",assigned_to:T.assigned_to||"",value:((V=T.value)==null?void 0:V.toString())||"",currency:T.currency||"SAR",priority:((J=T.priority)==null?void 0:J.toString())||"3",expected_close_date:T.expected_close_date||""}),T.client_user_id){const B=await Wn.getByAuthId(T.client_user_id);i(B)}if(T.created_by){const B=M.find(ee=>ee.auth_user_id===T.created_by)||null;c(B)}if(T.assigned_to){const B=M.find(ee=>ee.auth_user_id===T.assigned_to)||null;d(B)}if(T.stage){const B=G.find(ee=>ee.stage_id===T.stage);B&&h(ge(B,"stage_name"))}U()}catch(T){console.error("Failed to load lead data:",T)}finally{v(!1)}},U=async()=>{try{const D=await Cp.getByRelated("lead",e);g(D)}catch(D){console.error("Failed to load notes:",D)}},z=async()=>{if(n)try{const D=N.assigned_to&&N.assigned_to!=="unassigned"?N.assigned_to:null,V=Ts({lead_name:N.lead_name,lead_description:N.lead_description||null,client_user_id:N.client_user_id||null,stage:parseInt(N.stage),assigned_to:D,value:N.value?parseFloat(N.value):null,currency:N.currency,priority:parseInt(N.priority),expected_close_date:N.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await Fo.update(n.lead_id,V);const J={...n,...V};if(a(J),N.client_user_id){const G=j.find(M=>M.auth_user_id===N.client_user_id)||null;i(G)}if(D){const G=S.find(M=>M.auth_user_id===D)||null;d(G)}const T=y.find(G=>G.stage_id===parseInt(N.stage));T&&h(ge(T,"stage_name")),b(!1)}catch(D){console.error("Failed to update lead:",D)}},W=()=>{var D,V,J;n&&A({lead_name:n.lead_name||"",lead_description:n.lead_description||"",client_user_id:n.client_user_id||"",stage:((D=n.stage)==null?void 0:D.toString())||"",assigned_to:n.assigned_to||"",value:((V=n.value)==null?void 0:V.toString())||"",currency:n.currency||"SAR",priority:((J=n.priority)==null?void 0:J.toString())||"3",expected_close_date:n.expected_close_date||""}),b(!1)},I=(D,V)=>{if(D===null)return"-";const J=V||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:J==="SAR"?"SAR":J}).format(D)},R=D=>D?new Date(D).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(p)return o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!n)return o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:t("leads.notFound")});const F=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager";return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:t("leads.leadDetails")}),F&&!x&&o.jsxs(ie,{onClick:()=>b(!0),variant:"outline",size:"sm",children:[o.jsx(rl,{className:"h-4 w-4 mr-2"}),t("buttons.edit")]}),x&&o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{onClick:W,variant:"outline",size:"sm",children:[o.jsx(nl,{className:"h-4 w-4 mr-2"}),t("buttons.cancel")]}),o.jsxs(ie,{onClick:z,size:"sm",children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),t("buttons.save")]})]})]}),o.jsxs(Xu,{defaultValue:"overview",className:"w-full",children:[o.jsxs(_c,{className:"grid w-full grid-cols-2",children:[o.jsx($n,{value:"overview",children:t("common.overview")}),o.jsx($n,{value:"notes",children:t("notes.title")})]}),o.jsx(Bn,{value:"overview",className:"space-y-4 mt-4",children:x?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"lead_name",children:[t("leads.leadName")," *"]}),o.jsx(Qe,{id:"lead_name",value:N.lead_name,onChange:D=>A(V=>({...V,lead_name:D.target.value})),placeholder:t("leads.leadName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"lead_description",children:t("leads.description")}),o.jsx(zn,{id:"lead_description",value:N.lead_description,onChange:D=>A(V=>({...V,lead_description:D.target.value})),placeholder:t("leads.description"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("leads.client")}),o.jsxs(mt,{value:N.client_user_id,onValueChange:D=>A(V=>({...V,client_user_id:D})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:t("leads.selectClient")})}),o.jsx(dt,{children:j.filter(D=>D.auth_user_id).map(D=>o.jsx(Ce,{value:D.auth_user_id,children:ge(D,"user_name")},D.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("common.stage")}),o.jsxs(mt,{value:N.stage,onValueChange:D=>A(V=>({...V,stage:D})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:t("leads.selectStage")})}),o.jsx(dt,{children:y.map(D=>o.jsx(Ce,{value:D.stage_id.toString(),children:ge(D,"stage_name")},D.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("leads.value")}),o.jsx(Qe,{type:"number",min:"0",step:"0.01",value:N.value,onChange:D=>A(V=>({...V,value:D.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("leads.currency")}),o.jsxs(mt,{value:N.currency,onValueChange:D=>A(V=>({...V,currency:D})),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("common.priority")}),o.jsxs(mt,{value:N.priority,onValueChange:D=>A(V=>({...V,priority:D})),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsxs(Ce,{value:"1",children:[" ",t("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",t("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",t("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",t("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",t("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("leads.expectedCloseDate")}),o.jsx(Qe,{type:"date",value:N.expected_close_date,onChange:D=>A(V=>({...V,expected_close_date:D.target.value}))})]})]}),((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:t("leads.assignToEmployee")}),o.jsxs(mt,{value:N.assigned_to,onValueChange:D=>A(V=>({...V,assigned_to:D})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:t("leads.selectAssignee")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"unassigned",children:t("common.unassigned")}),S.filter(D=>["employee","admin","manager","team_leader"].includes(D.user_role)&&D.auth_user_id).map(D=>o.jsx(Ce,{value:D.auth_user_id,children:ge(D,"user_name")},D.user_id))]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:ge(n,"lead_name")}),ge(n,"lead_description")&&o.jsx("p",{className:"text-muted-foreground mt-1",children:ge(n,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(d4,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.priority")}),o.jsx(V9,{priority:n.priority,size:"sm"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[o.jsx(Np,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.value")}),o.jsx("p",{className:"text-lg font-semibold",children:I(n.value,n.currency)})]})]}),s&&o.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[o.jsx(Sa,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.client")}),o.jsx("p",{className:"font-medium truncate",children:ge(s,"user_name")}),s.user_email&&o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:s.user_email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(d4,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("common.stage")}),o.jsx(lt,{variant:"secondary",children:f||"-"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Oa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.assignedTo")}),o.jsx("p",{className:"font-medium",children:u?ge(u,"user_name"):t("common.unassigned")})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Si,{className:"h-3.5 w-3.5"}),t("common.created")]}),o.jsx("p",{className:"text-sm font-medium mt-1",children:R(n.created_date)})]}),l&&o.jsxs("div",{className:"p-3 rounded-lg border",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:t("leads.createdBy")}),o.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:ge(l,"user_name")})]})]})]})}),o.jsx(Bn,{value:"notes",className:"mt-4",children:o.jsx(z9,{relatedType:"lead",relatedId:e,notes:m,onNotesChange:U})})]})]})}function Ug({title:e,description:t,icon:r,actions:n,stats:a,className:s=""}){Ut();const i=$s();return o.jsxs("div",{className:xe("mb-6",s),children:[o.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[r&&o.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof r=="function"?te.createElement(r):r}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),t&&o.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:t})]})]}),n&&o.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),a&&a.length>0&&!i&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:a.map((l,c)=>o.jsx(rt,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[l.icon&&o.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof l.icon=="function"?te.createElement(l.icon):l.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:l.label}),o.jsxs("div",{className:"flex items-baseline gap-2",children:[o.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:l.value}),l.trend&&o.jsxs("span",{className:xe("text-xs font-medium",l.trend.isPositive?"text-green-600":"text-red-600"),children:[l.trend.isPositive?"+":"",l.trend.value,"%"]})]})]})]})},c))})]})}function Wg({message:e="Loading...",className:t=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${t}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(A8,{className:"h-16 w-16 text-primary animate-spin"}),o.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),o.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function Ho({icon:e,title:t,description:r,action:n,className:a=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${a}`,children:[e&&o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?te.createElement(e):e}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:t}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n]})}const IC=w.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:xe("w-full caption-bottom text-sm",e),...t})}));IC.displayName="Table";const MC=w.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:xe("[&_tr]:border-b",e),...t}));MC.displayName="TableHeader";const FC=w.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:xe("[&_tr:last-child]:border-0",e),...t}));FC.displayName="TableBody";const kfe=w.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:xe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kfe.displayName="TableFooter";const _0=w.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:xe("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));_0.displayName="TableRow";const ii=w.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:xe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ii.displayName="TableHead";const oi=w.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:xe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));oi.displayName="TableCell";const Nfe=w.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:xe("mt-4 text-sm text-muted-foreground",e),...t}));Nfe.displayName="TableCaption";var Lw="Checkbox",[Efe,nWe]=pa(Lw),[Cfe,LC]=Efe(Lw);function Tfe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:s,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=il({prop:r,defaultProp:a??!1,onChange:c,caller:Lw}),[g,p]=w.useState(null),[v,x]=w.useState(null),b=w.useRef(!1),y=g?!!i||!!g.closest("form"):!0,_={checked:h,disabled:s,setChecked:m,control:g,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:mc(a)?!1:a,isFormControl:y,bubbleInput:v,setBubbleInput:x};return o.jsx(Cfe,{scope:t,..._,children:Afe(f)?f(_):n})}var H9="CheckboxTrigger",G9=w.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:s,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=LC(H9,e),p=Ot(a,d),v=w.useRef(c);return w.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const b=()=>f(v.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[s,f]),o.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":mc(c)?"mixed":c,"aria-required":u,"data-state":Q9(c),"data-disabled":l?"":void 0,disabled:l,value:i,...n,ref:p,onKeyDown:Ke(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Ke(r,x=>{f(b=>mc(b)?!0:!b),g&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});G9.displayName=H9;var $C=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(Tfe,{__scopeCheckbox:r,checked:a,defaultChecked:s,disabled:l,required:i,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(G9,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(X9,{__scopeCheckbox:r})]})})});$C.displayName=Lw;var K9="CheckboxIndicator",q9=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=LC(K9,r);return o.jsx(Yn,{present:n||mc(s.checked)||s.checked===!0,children:o.jsx(tt.span,{"data-state":Q9(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});q9.displayName=K9;var Y9="CheckboxBubbleInput",X9=w.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=LC(Y9,e),g=Ot(r,m),p=nC(s),v=QE(n);w.useEffect(()=>{const b=h;if(!b)return;const y=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(y,"checked").set,k=!a.current;if(p!==s&&S){const j=new Event("click",{bubbles:k});b.indeterminate=mc(s),S.call(b,mc(s)?!1:s),b.dispatchEvent(j)}},[h,p,s,a]);const x=w.useRef(mc(s)?!1:s);return o.jsx(tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});X9.displayName=Y9;function Afe(e){return typeof e=="function"}function mc(e){return e==="indeterminate"}function Q9(e){return mc(e)?"indeterminate":e?"checked":"unchecked"}const A2=w.forwardRef(({className:e,indeterminate:t,...r},n)=>o.jsx($C,{ref:n,className:xe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"bg-primary text-primary-foreground",e),...r,children:o.jsx(q9,{className:xe("flex items-center justify-center text-current"),children:t?o.jsx(Yre,{className:"h-4 w-4"}):o.jsx(LE,{className:"h-4 w-4"})})}));A2.displayName=$C.displayName;function ph({data:e,columns:t,actions:r=[],bulkActions:n=[],keyExtractor:a,onRowClick:s,emptyState:i,mobileCardRender:l,className:c,enableBulkSelect:u=!1,rowHeight:d}){const f=$s(),{t:h}=Ut(),[m,g]=w.useState(new Set),p=j=>{const E=new Set(m);E.has(j)?E.delete(j):E.add(j),g(E)},v=()=>{m.size===e.length?g(new Set):g(new Set(e.map(a)))},x=()=>{g(new Set)},b=()=>e.filter(j=>m.has(a(j))),y=j=>{const E=r.filter(N=>!N.show||N.show(j));return E.length===0?null:o.jsxs(sU,{children:[o.jsx(iU,{asChild:!0,onClick:N=>N.stopPropagation(),children:o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(Ure,{className:"h-4 w-4"})})}),o.jsx(fC,{align:"end",children:E.map((N,A)=>o.jsxs(au,{onClick:O=>{O.stopPropagation(),N.onClick(j)},className:xe(N.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[N.icon&&o.jsx("span",{className:"mr-2",children:N.icon}),N.label]},A))})]})};if(e.length===0)return i||o.jsx("div",{className:"text-center py-12 text-muted-foreground",children:h("common.noData","No data available")});if(f)return o.jsx("div",{className:xe("space-y-3",c),children:e.map((j,E)=>l?o.jsx("div",{onClick:()=>s==null?void 0:s(j),children:l(j,y(j))},a(j)):o.jsx(rt,{className:xe("overflow-hidden transition-all",s&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>s==null?void 0:s(j),children:o.jsx(it,{className:"p-4",children:o.jsxs("div",{className:"space-y-3",children:[t.filter(N=>!N.hideOnMobile).map((N,A)=>o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:N.header}),o.jsx("div",{className:"text-sm text-right",children:N.render(j,E)})]},N.key)),r.length>0&&o.jsx("div",{className:"pt-2 border-t flex justify-end",children:y(j)})]})})},a(j)))});const _=m.size,S=_===e.length&&e.length>0,k=_>0&&_<e.length;return o.jsxs("div",{className:"space-y-4",children:[u&&_>0&&o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("p",{className:"text-sm font-medium",children:[_," ",_===1?h("common.item","item"):h("common.items","items")," ",h("common.selected","selected")]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[n.map((j,E)=>o.jsxs(ie,{variant:j.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>j.onClick(b()),className:xe(j.variant==="destructive"&&"hover:bg-destructive/90"),children:[j.icon&&o.jsx("span",{className:"mr-2",children:j.icon}),j.label]},E)),o.jsx(ie,{variant:"ghost",size:"sm",onClick:x,className:"text-muted-foreground hover:text-foreground",children:o.jsx(nl,{className:"h-4 w-4"})})]})]}),o.jsx(rt,{className:xe("overflow-hidden",c),children:o.jsx(it,{className:"p-0",children:o.jsxs(IC,{children:[o.jsx(MC,{children:o.jsxs(_0,{className:"bg-muted/50 hover:bg-muted/50",children:[u&&o.jsx(ii,{className:"w-12",children:o.jsx(A2,{checked:S,indeterminate:k,onCheckedChange:v,"aria-label":h("common.selectAll","Select all")})}),t.map(j=>o.jsx(ii,{className:xe("font-semibold",j.className),children:j.header},j.key)),r.length>0&&o.jsx(ii,{className:"w-[100px] text-right",children:h("common.actions")})]})}),o.jsx(FC,{children:e.map((j,E)=>{const N=a(j),A=m.has(N);return o.jsxs(_0,{className:xe("group transition-colors",A&&"bg-primary/5",s&&"cursor-pointer hover:bg-muted/50",d),onClick:()=>s==null?void 0:s(j),children:[u&&o.jsx(oi,{onClick:O=>O.stopPropagation(),children:o.jsx(A2,{checked:A,onCheckedChange:()=>p(N),"aria-label":h("common.selectItem","Select item")})}),t.map(O=>o.jsx(oi,{className:xe(O.className,"overflow-hidden"),children:O.render(j,E)},O.key)),r.length>0&&o.jsx(oi,{className:"text-right",children:o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:y(j)})})]},N)})})]})})})]})}function BC({children:e,variant:t="secondary"}){return o.jsx(lt,{variant:t,className:"text-xs font-medium",children:e})}function S0({name:e,fallback:t="Unassigned"}){return o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Oa,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:xe(!e&&"text-muted-foreground"),children:e||t})]})}function gh({date:e,fallback:t="Not set"}){return e?o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Si,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{children:new Date(e).toLocaleDateString()})]}):o.jsx("span",{className:"text-muted-foreground",children:t})}function vh({title:e,subtitle:t,icon:r}){return o.jsxs("div",{className:"flex items-center gap-2",children:[r&&(typeof r=="function"?te.createElement(r):r),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:e}),t&&o.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:t})]})]})}function Ofe({value:e,currency:t="SAR"}){return e==null?o.jsx("span",{className:"text-muted-foreground",children:"-"}):o.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)})}function Pfe({lead:e,client:t,creator:r,assignedUser:n,userRole:a,users:s=[],onDelete:i,onEdit:l,onAssign:c,onClick:u,onDragStart:d,isDragging:f=!1}){const{t:h}=Ut(),m=$s(),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):h("leads.unknown"),p=(v,x)=>{if(v===null)return"-";const b=x||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(v)};return o.jsxs(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",m?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",f&&"opacity-50 rotate-2 scale-105"),onClick:u,draggable:!!d,onDragStart:v=>{d&&(v.dataTransfer.effectAllowed="move",v.dataTransfer.setData("text/plain",e.lead_id.toString()),d(e.lead_id))},children:[o.jsxs(It,{className:"pb-3 px-4 pt-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ge(e,"lead_name")}),ge(e,"lead_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ge(e,"lead_description")})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[l&&(a==="admin"||a==="manager")&&o.jsx(ie,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:v=>{v.stopPropagation(),l()},children:o.jsx(rl,{className:"h-4 w-4"})}),i&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,onClick:v=>v.stopPropagation(),children:o.jsx(ie,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",m?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:v=>v.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:h("leads.deleteLead")}),o.jsx(Rs,{children:h("leads.deleteConfirmation",{name:ge(e,"lead_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:h("buttons.cancel")}),o.jsx(Is,{onClick:v=>{v.stopPropagation(),i(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h("buttons.delete")})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[o.jsx(V9,{priority:e.priority,size:"sm"}),e.expected_close_date&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(Si,{className:"h-3 w-3"}),o.jsx("span",{children:g(e.expected_close_date)})]})]})]}),o.jsxs(it,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:o.jsx(Np,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:h("leads.value")}),o.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:p(e.value,e.currency)})]})]}),t&&o.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Sa,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:h("leads.client")}),o.jsx("p",{className:"text-sm font-semibold truncate",children:ge(t,"user_name")})]})]}),(a==="admin"||a==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Oa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.createdBy")}),o.jsx("p",{className:"text-xs font-medium truncate",children:ge(r,"user_name")})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Oa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:h("leads.assignedTo")}),o.jsx("p",{className:"text-xs font-medium truncate",children:n?ge(n,"user_name"):h("common.all","Unassigned")})]})]})]}),o.jsx("div",{className:"pt-1",children:o.jsxs(mt,{value:e.assigned_to||"unassigned",onValueChange:v=>c&&c(e.lead_id,v==="unassigned"?"":v),children:[o.jsx(ut,{className:"h-7 text-xs",children:o.jsx(pt,{placeholder:h("leads.selectAssignee","Select assignee")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"unassigned",children:h("common.all","Unassigned")}),s.filter(v=>["employee","admin","manager","team_leader"].includes(v.user_role)&&v.auth_user_id).map(v=>o.jsx(Ce,{value:v.auth_user_id,children:ge(v,"user_name")},v.user_id))]})]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Si,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:g(e.created_date)})]}),o.jsx(lt,{variant:"secondary",className:"text-xs",children:h("leads.lead")})]})]})]})}function Dfe(){var St,Pt,Ft;ss();const{hasRole:e,user:t}=xr(),r=$s(),{t:n}=Ut(),{setBreadcrumbs:a}=RE();w.useEffect(()=>{a([{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.leads")}])},[n,a]);const[s,i]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[m,g]=w.useState(!0);w.useState(!1),w.useState("");const[p,v]=w.useState(null),[x,b]=w.useState(""),[y,_]=w.useState(null),[S,k]=w.useState(null),[j,E]=w.useState(!1),[N,A]=w.useState(null),[O,P]=w.useState("kanban"),[U,z]=w.useState(null),[W,I]=w.useState(""),[R,F]=w.useState("all"),[D,V]=w.useState("all"),[J,T]=w.useState({from:void 0,to:void 0}),G=w.useMemo(()=>s.filter(ue=>{const Re=(ue.lead_name||"").toLowerCase().includes(W.toLowerCase())||(ue.lead_description||"").toLowerCase().includes(W.toLowerCase())||(ue.client_name||"").toLowerCase().includes(W.toLowerCase()),He=D==="all"||ue.assigned_to&&ue.assigned_to===D;let ze=!0;if(J.from&&ue.created_date){const ft=new Date(ue.created_date),be=new Date(J.from);be.setHours(0,0,0,0);const _e=new Date(ft);if(_e.setHours(0,0,0,0),ze=_e>=be,ze&&J.to){const le=new Date(J.to);le.setHours(23,59,59,999),ze=_e<=le}}else J.from&&!ue.created_date&&(ze=!1);return Re&&He&&ze}),[s,W,R,D,J]),[M,B]=w.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});w.useEffect(()=>{ee()},[]),w.useEffect(()=>{if(f.length>0&&N===null){const ue=f.find(Re=>Re.stage_id===1);ue&&A(ue.stage_id)}},[f,N]);const ee=async()=>{try{g(!0);const[ue,Re,He,ze]=await Promise.all([Fo.getAll(),Wn.getAll(),vC.getAll(),sa.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:ue.length,clients:He.length,users:Re.length,stages:ze.length}),console.log("[Leads] Leads data:",ue),console.log("[Leads] Stages data:",ze),i(ue),c(He),d(Re),h(ze)}catch(ue){console.error("Failed to load data:",ue)}finally{g(!1)}},ae=async ue=>{if(x.trim())try{await sa.update(ue,{stage_name:x.trim()}),h(f.map(Re=>Re.stage_id===ue?{...Re,stage_name:x.trim()}:Re)),v(null),b("")}catch(Re){console.error("Failed to update stage:",Re)}},de=async ue=>{if(s.filter(He=>He.stage===ue).length>0){_(ue);return}try{await sa.delete(ue),h(f.filter(He=>He.stage_id!==ue))}catch(He){console.error("Failed to delete stage:",He)}},re=async()=>{if(y)try{await sa.delete(y),h(f.filter(ue=>ue.stage_id!==y)),_(null),ee()}catch(ue){console.error("Failed to delete stage:",ue)}},H=ue=>{k(ue)},ce=ue=>{ue.preventDefault(),ue.dataTransfer.dropEffect="move"},C=async ue=>{if(!S)return;const Re=s.find(He=>He.lead_id===S);if(Re&&Re.stage!==ue)try{await Fo.update(S,{stage:ue}),i(s.map(He=>He.lead_id===S?{...He,stage:ue}:He))}catch(He){console.error("Failed to update lead stage:",He)}k(null)},Ne=async ue=>{try{await Fo.delete(ue),i(s.filter(Re=>Re.lead_id!==ue))}catch(Re){console.error("Failed to delete lead:",Re)}},Te=async(ue,Re)=>{const He=Re||null,ze=He?new Date().toISOString():null,ft=s.find(be=>be.lead_id===ue);if(ft){i(s.map(be=>be.lead_id===ue?{...be,assigned_to:He,assigned_at:ze}:be));try{await Fo.update(ue,{assigned_to:He,assigned_at:ze})}catch(be){console.error("Failed to assign lead:",be),i(s.map(_e=>_e.lead_id===ue?{..._e,assigned_to:ft.assigned_to,assigned_at:ft.assigned_at}:_e))}}},Le=ue=>{B(Re=>({...Re,stage:ue.toString()})),E(!0)},Ie=async()=>{if(M.lead_name.trim())try{const ue=M.assigned_to&&M.assigned_to!=="unassigned"?M.assigned_to:null,Re=ue?new Date().toISOString():null,He=Ts({lead_name:M.lead_name.trim(),lead_description:M.lead_description.trim()||null,client_name:M.client_name.trim()||null,client_user_id:M.client_user_id||null,created_by:(t==null?void 0:t.id)||null,stage:parseInt(M.stage),assigned_to:ue,assigned_at:Re,value:M.value?parseFloat(M.value):null,currency:M.currency||"SAR",priority:M.priority?parseInt(M.priority):3,expected_close_date:M.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),ze=await Fo.create(He);i([...s,ze]),B({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),E(!1)}catch(ue){console.error("Failed to create lead:",ue)}},Ee=f.filter(ue=>ue.stage_type==="leads").sort((ue,Re)=>{const He=ue.stager_order_index??0,ze=Re.stager_order_index??0;return He-ze}),ot=Ee.map(ue=>({id:ue.stage_id,name:ge(ue,"stage_name"),color:ue.color,count:G.filter(Re=>Re.stage===ue.stage_id).length}));return m?o.jsx(Wg,{message:n("leads.loading","Loading leads...")}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx(Ug,{title:n("leads.title"),description:n("leads.description","Manage and track all your sales leads"),icon:o.jsx(Pa,{className:"h-6 w-6 text-primary"}),actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:O==="kanban"?"default":"ghost",size:"sm",onClick:()=>P("kanban"),className:"h-8 w-8 p-0",children:o.jsx(fw,{className:"h-4 w-4"})}),o.jsx(ie,{variant:O==="list"?"default":"ghost",size:"sm",onClick:()=>P("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),o.jsxs(ie,{onClick:()=>E(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",n("leads.newLead")]})]}),stats:[{label:n("leads.totalLeads","Total Leads"),value:s.length,icon:o.jsx(Pa,{className:"h-5 w-5 text-primary"})},{label:n("leads.thisMonth","This Month"),value:s.filter(ue=>{const Re=new Date(ue.created_date),He=new Date;return Re.getMonth()===He.getMonth()&&Re.getFullYear()===He.getFullYear()}).length,icon:o.jsx(Si,{className:"h-5 w-5 text-green-500"})},{label:n("leads.totalValue","Total Value"),value:`SAR ${s.reduce((ue,Re)=>ue+(Re.value||0),0).toLocaleString()}`,icon:o.jsx(Np,{className:"h-5 w-5 text-green-600"})},{label:n("leads.avgValue","Avg Value"),value:s.length>0?`SAR ${Math.round(s.reduce((ue,Re)=>ue+(Re.value||0),0)/s.length).toLocaleString()}`:"SAR 0",icon:o.jsx(Np,{className:"h-5 w-5 text-blue-500"})}]}),o.jsx(DC,{onSearch:I,onFilterAssignee:V,onFilterDateRange:T,users:u}),O==="kanban"?o.jsxs(Mw,{stages:ot,currentStageId:N||((St=ot[0])==null?void 0:St.id),onStageChange:A,children:[o.jsx(qr,{open:j,onOpenChange:E,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:n("leads.createLead")}),o.jsx(Kn,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(Qe,{value:M.lead_name,onChange:ue=>B(Re=>({...Re,lead_name:ue.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(zn,{value:M.lead_description,onChange:ue=>B(Re=>({...Re,lead_description:ue.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(Qe,{value:M.client_name,onChange:ue=>B(Re=>({...Re,client_name:ue.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(mt,{value:M.client_user_id,onValueChange:ue=>B(Re=>({...Re,client_user_id:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("leads.selectClient")})}),o.jsx(dt,{children:l.filter(ue=>ue.auth_user_id).map(ue=>o.jsx(Ce,{value:ue.auth_user_id,children:ge(ue,"user_name")},ue.user_id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.value")}),o.jsx(Qe,{type:"number",min:"0",step:"0.01",value:M.value,onChange:ue=>B(Re=>({...Re,value:ue.target.value})),placeholder:"0.00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.currency")}),o.jsxs(mt,{value:M.currency,onValueChange:ue=>B(Re=>({...Re,currency:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"SAR",children:"SAR (.)"}),o.jsx(Ce,{value:"USD",children:"USD ($)"}),o.jsx(Ce,{value:"EUR",children:"EUR ()"}),o.jsx(Ce,{value:"GBP",children:"GBP ()"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("common.priority")}),o.jsxs(mt,{value:M.priority,onValueChange:ue=>B(Re=>({...Re,priority:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsxs(Ce,{value:"1",children:[" ",n("common.veryLow")]}),o.jsxs(Ce,{value:"2",children:[" ",n("common.low")]}),o.jsxs(Ce,{value:"3",children:[" ",n("common.medium")]}),o.jsxs(Ce,{value:"4",children:[" ",n("common.high")]}),o.jsxs(Ce,{value:"5",children:[" ",n("common.veryHigh")]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.expectedCloseDate")}),o.jsx(Qe,{type:"date",value:M.expected_close_date,onChange:ue=>B(Re=>({...Re,expected_close_date:ue.target.value}))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(mt,{value:M.assigned_to,onValueChange:ue=>B(Re=>({...Re,assigned_to:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(ue=>["employee","admin","manager","team_leader"].includes(ue.user_role)&&ue.auth_user_id).map(ue=>o.jsx(Ce,{value:ue.auth_user_id,children:ge(ue,"user_name")},ue.user_id))]})]})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(ie,{onClick:Ie,disabled:!((Pt=M.lead_name)!=null&&Pt.trim()),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:Ee.filter(ue=>{var Re;return r?ue.stage_id===(N||((Re=ot[0])==null?void 0:Re.id)):!0}).map((ue,Re)=>{var le,Se,$e;const He=G.filter(De=>De.stage===ue.stage_id),ze=He.reduce((De,qe)=>De+(qe.value||0),0),ft=new Set(He.filter(De=>De.value!==null&&De.currency).map(De=>De.currency)),be=ft.size===1?Array.from(ft)[0]:((le=He.find(De=>De.currency))==null?void 0:le.currency)||"SAR",_e=(De,qe)=>new Intl.NumberFormat("en-US",{style:"currency",currency:qe}).format(De);return console.log(`[Leads] Stage ${ue.stage_name} (${ue.stage_id}): ${He.length} leads`),console.log("[Leads] Stage leads:",He),o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-full flex flex-col",r?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${Re*.1}s`},onDragOver:ce,onDrop:()=>C(ue.stage_id),children:[o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",ue.color||"border-l-4 border-primary/50","hidden md:block"),children:o.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:p===ue.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(Qe,{value:x,onChange:De=>b(De.target.value),onKeyDown:De=>{De.key==="Enter"&&ae(ue.stage_id),De.key==="Escape"&&(v(null),b(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>ae(ue.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"font-bold text-base",children:ge(ue,"stage_name")})}),o.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:He.length}),o.jsxs(o.Fragment,{children:[o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>Le(ue.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:n("leads.addLead"),children:o.jsx(ar,{className:"h-4 w-4"})}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{v(ue.stage_id),b(ge(ue,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:o.jsx(rl,{className:"h-3 w-3"})}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>de(ue.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:o.jsx(br,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Se=f.sort((De,qe)=>(De.stager_order_index||0)-(qe.stager_order_index||0))[0])==null?void 0:Se.stage_id)===ue.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",r?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Le(ue.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("leads.addNewLeadCard")})]})})}),He.map(De=>{const qe=l.find(xn=>xn.auth_user_id===De.client_user_id),at=u.find(xn=>xn.auth_user_id===De.created_by),Ur=u.find(xn=>xn.auth_user_id===De.assigned_to);return o.jsx("div",{children:o.jsx(Pfe,{lead:De,client:qe||null,creator:at||null,assignedUser:Ur||null,userRole:t==null?void 0:t.role,users:u,onDelete:()=>Ne(De.lead_id),onEdit:()=>z(De.lead_id),onAssign:Te,onClick:()=>z(De.lead_id),onDragStart:H,isDragging:S===De.lead_id})},De.lead_id)}),(($e=f.sort((De,qe)=>(De.stager_order_index||0)-(qe.stager_order_index||0))[0])==null?void 0:$e.stage_id)!==ue.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ie,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Le(ue.stage_id),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})]}),o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Np,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:n("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),o.jsx("span",{className:"text-lg font-bold text-primary",children:_e(ze,be)})]})})]},ue.stage_id)})}),o.jsx(Ti,{open:!!y,onOpenChange:()=>_(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:n("leads.deleteStage")}),o.jsx(Rs,{children:n("leads.deleteStageConfirmation",{count:s.filter(ue=>ue.stage===y).length})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:n("buttons.cancel")}),o.jsx(Is,{onClick:re,className:"bg-destructive text-destructive-foreground",children:n("buttons.delete")})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("leads.title")," (",s.length,")"]}),o.jsx(qr,{open:j,onOpenChange:E,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:n("leads.createLead")}),o.jsx(Kn,{children:n("leads.createLeadDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("leads.leadName")," *"]}),o.jsx(Qe,{value:M.lead_name,onChange:ue=>B(Re=>({...Re,lead_name:ue.target.value})),placeholder:n("leads.leadNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.description")}),o.jsx(zn,{value:M.lead_description,onChange:ue=>B(Re=>({...Re,lead_description:ue.target.value})),placeholder:n("leads.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.clientName")}),o.jsx(Qe,{value:M.client_name,onChange:ue=>B(Re=>({...Re,client_name:ue.target.value})),placeholder:n("leads.clientNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.client")}),o.jsxs(mt,{value:M.client_user_id,onValueChange:ue=>B(Re=>({...Re,client_user_id:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("leads.selectClient")})}),o.jsx(dt,{children:l.filter(ue=>ue.auth_user_id).map(ue=>o.jsx(Ce,{value:ue.auth_user_id,children:ge(ue,"user_name")},ue.user_id))})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("leads.assignToEmployee")}),o.jsxs(mt,{value:M.assigned_to,onValueChange:ue=>B(Re=>({...Re,assigned_to:ue})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("leads.selectAssignee","Select assignee")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"unassigned",children:n("common.all","Unassigned")}),u.filter(ue=>["employee","admin","manager","team_leader"].includes(ue.user_role)&&ue.auth_user_id).map(ue=>o.jsx(Ce,{value:ue.auth_user_id,children:ge(ue,"user_name")},ue.user_id))]})]})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),o.jsxs(ie,{onClick:Ie,disabled:!((Ft=M.lead_name)!=null&&Ft.trim()),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),n("leads.createLead")]})]})]})})]}),(()=>{const ue=[{key:"lead",header:n("leads.leadName"),render:ze=>o.jsx(vh,{title:ge(ze,"lead_name"),subtitle:ge(ze,"lead_description")})},{key:"value",header:n("leads.value","Value"),render:ze=>o.jsx(Ofe,{value:ze.value,currency:ze.currency||"SAR"})},{key:"client",header:n("leads.client"),hideOnMobile:!0,render:ze=>{const ft=l.find(be=>be.auth_user_id===ze.client_user_id);return ft?ge(ft,"user_name"):n("leads.unknown")}},{key:"creator",header:n("leads.createdBy"),hideOnMobile:!0,render:ze=>{const ft=u.find(be=>be.auth_user_id===ze.created_by);return o.jsx(S0,{name:ft?ge(ft,"user_name"):null,fallback:n("leads.unknown")})}},{key:"assignee",header:n("leads.assignedTo"),hideOnMobile:!0,render:ze=>{const ft=u.find(be=>be.auth_user_id===ze.assigned_to);return o.jsx(S0,{name:ft?ge(ft,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:ze=>{const ft=f.find(be=>be.stage_id===ze.stage);return ft?ge(ft,"stage_name"):n("leads.unknown")}},{key:"created",header:n("common.created"),hideOnMobile:!0,render:ze=>o.jsx(gh,{date:ze.created_date,fallback:n("leads.notSet")})}],Re=[{label:n("common.view"),icon:o.jsx(mi,{className:"h-4 w-4"}),onClick:ze=>z(ze.lead_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:ze=>Ne(ze.lead_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"}],He=[{label:n("buttons.delete","Delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:ze=>{ze.forEach(ft=>Ne(ft.lead_id))},variant:"destructive"}];return o.jsx(ph,{data:G,columns:ue,actions:Re,bulkActions:He,keyExtractor:ze=>ze.lead_id,onRowClick:ze=>z(ze.lead_id),enableBulkSelect:!0,emptyState:o.jsx(Ho,{icon:o.jsx(Pa,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("leads.noLeadsYet"),description:n("leads.createFirst","Create a lead to get started"),action:o.jsxs(ie,{onClick:()=>E(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("leads.addLead")]})})})})()]}),o.jsx(ch,{open:!!U,onOpenChange:()=>z(null),children:o.jsxs(Ku,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Zi()?"left":"right",children:[o.jsxs(b0,{children:[o.jsx(uh,{children:n("leads.leadDetails")}),o.jsx(Ow,{children:n("leads.leadDetailsDesc")})]}),o.jsx("div",{className:"mt-6",children:U&&o.jsx(jfe,{leadId:U})})]})})]})}function $w({title:e="Something went wrong",message:t,onRetry:r,className:n=""}){return o.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${n}`,children:[o.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:o.jsx(uw,{className:"h-10 w-10 text-destructive"})}),o.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),o.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:t}),r&&o.jsxs(ie,{onClick:r,variant:"outline",className:"gap-2",children:[o.jsx(Jre,{className:"h-4 w-4"}),"Try Again"]})]})}function Rfe({task:e,assignedUser:t,stages:r=[],onDelete:n,onClick:a,onDragStart:s,onStageChange:i,isDragging:l=!1}){var p,v;const{t:c}=Ut(),u=$s(),d=x=>x?new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",f=x=>{switch(x){case"done":return o.jsx(Zl,{className:"h-3 w-3 text-green-500"});case"in_progress":return o.jsx(du,{className:"h-3 w-3 text-blue-500"});case"todo":default:return o.jsx(uw,{className:"h-3 w-3 text-gray-500"})}},h=x=>{switch(x){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},m=x=>{if(!x)return null;const b=new Date,_=(new Date(x).getTime()-b.getTime())/(1e3*60*60);return _<0?"overdue":_<24?"urgent":_<72?"soon":null},g=x=>{switch(m(x)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",u?"w-full":"w-[280px] h-[180px]",h(e.task_status),g(e.due_date),l&&"opacity-50 rotate-2 scale-105"),draggable:!!s,onDragStart:x=>{s&&(x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",e.task_id.toString()),s(e.task_id))},children:[o.jsx(It,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:a,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),n&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,onClick:x=>x.stopPropagation(),children:o.jsx(ie,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",u?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:x=>x.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:"Delete Task"}),o.jsxs(Rs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:"Cancel"}),o.jsx(Is,{onClick:x=>{x.stopPropagation(),n(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),o.jsxs(it,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(Oa,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t?ge(t,"user_name"):c("common.all","Unassigned")})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-1",children:[f(e.task_status),o.jsx("span",{className:"text-xs font-medium capitalize",children:((p=e.task_status)==null?void 0:p.replace("_"," "))||"Todo"})]})})]}),u&&i&&o.jsx("div",{className:"pt-1",children:o.jsxs(mt,{value:((v=e.stage_id)==null?void 0:v.toString())||"",onValueChange:x=>i(e.task_id,parseInt(x)),children:[o.jsx(ut,{className:"h-7 text-xs",children:o.jsx(pt,{placeholder:c("tasks.selectStage","Select stage")})}),o.jsx(dt,{children:r.map(x=>o.jsx(Ce,{value:x.stage_id.toString(),children:ge(x,"stage_name")},x.stage_id))})]})}),e.due_date&&o.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[o.jsx(Si,{className:"h-3 w-3 flex-shrink-0"}),o.jsxs("span",{children:["Due: ",d(e.due_date)]})]})]})]})}function Ife(){var re;ss();const{hasRole:e,user:t,loading:r}=xr(),{t:n}=Ut(),a=$s(),[s,i]=w.useState(null),[l,c]=w.useState("kanban");w.useState(!1);const u=H=>{switch(H==null?void 0:H.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};w.useState(""),w.useState(null),w.useState(""),w.useState(null);const[d,f]=w.useState(null),[h,m]=w.useState(!1),[g,p]=w.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[v,x]=w.useState(""),[b,y]=w.useState("all"),[_,S]=w.useState("all"),[k,j]=w.useState({from:void 0,to:void 0}),{data:E=[],isLoading:N,error:A}=wle(),{data:O=[],isLoading:P,error:U}=xle(),{data:z=[],isLoading:W,error:I}=ble(),R=w.useMemo(()=>E.filter(H=>{const ce=H.task_name.toLowerCase().includes(v.toLowerCase())||H.description&&H.description.toLowerCase().includes(v.toLowerCase()),C=b==="all"||H.task_status===b,Ne=_==="all"||H.assigned_to&&H.assigned_to.toString()===_;let Te=!0;if(k.from&&H.due_date){const Le=new Date(H.due_date),Ie=new Date(k.from);Ie.setHours(0,0,0,0);const Ee=new Date(Le);if(Ee.setHours(0,0,0,0),Te=Ee>=Ie,Te&&k.to){const ot=new Date(k.to);ot.setHours(23,59,59,999),Te=Ee<=ot}}else k.from&&!H.due_date&&(Te=!1);return ce&&C&&Ne&&Te}),[E,v,b,_,k]),F=z.filter(H=>H.stage_type==="tasks").sort((H,ce)=>{const C=H.stager_order_index??0,Ne=ce.stager_order_index??0;return C-Ne}).map(H=>({id:H.stage_id,name:ge(H,"stage_name"),color:H.color,count:R.filter(ce=>ce.stage_id===H.stage_id).length})),D=N||P||W||r,V=(A==null?void 0:A.message)||(U==null?void 0:U.message)||(I==null?void 0:I.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:t?{id:t.id,email:t.email,role:t.role}:null,authLoading:r,hasUser:!!t,loading:D,data:{tasks:E.length,users:O.length,stages:z.length}});const J=()=>{},T=async H=>{try{await ec.delete(H),J()}catch(ce){console.error("Failed to delete task:",ce)}},G=H=>{f(H)},M=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},B=async H=>{if(!d)return;const ce=E.find(C=>C.task_id===d);if(ce&&ce.stage_id!==H)try{await ec.update(d,{stage_id:H}),J()}catch(C){console.error("Failed to update task stage:",C)}f(null)},ee=async(H,ce)=>{const C=E.find(Ne=>Ne.task_id===H);if(C&&C.stage_id!==ce)try{await ec.update(H,{stage_id:ce}),J()}catch(Ne){console.error("Failed to update task stage:",Ne)}},ae=async()=>{if(g.task_name.trim())try{const H=Ts({task_name:g.task_name.trim(),stage_id:g.stage_id?parseInt(g.stage_id):null,assigned_to:g.assigned_to?parseInt(g.assigned_to):null,task_status:g.task_status,due_date:g.due_date?new Date(g.due_date).toISOString():null,description:g.description.trim()||null,auth_user_id:(t==null?void 0:t.id)||null},{task_name:"task_name",description:"description"});await ec.create(H),J(),p({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),m(!1)}catch(H){console.error("Failed to create task:",H)}},de=!0;return w.useEffect(()=>{if(z.length>0&&s===null){const H=z.filter(ce=>ce.stage_type==="tasks").sort((ce,C)=>(ce.stager_order_index??0)-(C.stager_order_index??0));H.length>0&&i(H[0].stage_id)}},[z,s]),D||r||!t?o.jsx(Wg,{message:n("tasks.loading","Loading tasks...")}):V?o.jsx($w,{message:V}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx(Ug,{title:n("tasks.title"),description:n("tasks.description","Manage and track all your tasks"),icon:o.jsx(Ep,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:n("navigation.dashboard"),href:"/dashboard"},{label:n("navigation.tasks")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:l==="kanban"?"default":"ghost",size:"sm",onClick:()=>c("kanban"),className:"h-8 w-8 p-0",children:o.jsx(fw,{className:"h-4 w-4"})}),o.jsx(ie,{variant:l==="list"?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),o.jsxs(ie,{onClick:()=>m(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",n("tasks.addNewTask")]})]}),stats:[{label:n("tasks.total","Total Tasks"),value:E.length,icon:o.jsx(Ep,{className:"h-4 w-4 text-primary"})},{label:n("tasks.todo","To Do"),value:E.filter(H=>H.task_status==="todo").length,icon:o.jsx(uw,{className:"h-4 w-4 text-gray-500"})},{label:n("tasks.inProgress","In Progress"),value:E.filter(H=>H.task_status==="in_progress").length,icon:o.jsx(du,{className:"h-4 w-4 text-blue-500"})},{label:n("tasks.done","Done"),value:E.filter(H=>H.task_status==="done").length,icon:o.jsx(Zl,{className:"h-4 w-4 text-green-500"})}]}),o.jsx(DC,{onSearch:x,onFilterStatus:y,onFilterAssignee:S,onFilterDateRange:j,users:O,statuses:[{value:"todo",label:n("tasks.todo")},{value:"in_progress",label:n("tasks.inProgress")},{value:"done",label:n("tasks.done")}]}),l==="kanban"?o.jsxs(Mw,{stages:F,currentStageId:s||((re=F[0])==null?void 0:re.id),onStageChange:i,children:[o.jsx(qr,{open:h,onOpenChange:m,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:n("tasks.createTask")}),o.jsx(Kn,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(Qe,{value:g.task_name,onChange:H=>p(ce=>({...ce,task_name:H.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(zn,{value:g.description,onChange:H=>p(ce=>({...ce,description:H.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(mt,{value:g.assigned_to,onValueChange:H=>p(ce=>({...ce,assigned_to:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectUser")})}),o.jsx(dt,{children:O.map(H=>o.jsx(Ce,{value:H.user_id.toString(),children:ge(H,"user_name")},H.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(mt,{value:g.stage_id,onValueChange:H=>p(ce=>({...ce,stage_id:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectStage")})}),o.jsx(dt,{children:z.filter(H=>["New","In Progress","Overdue","Completed"].includes(H.stage_name)).map(H=>o.jsx(Ce,{value:H.stage_id.toString(),children:ge(H,"stage_name")},H.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(mt,{value:g.task_status,onValueChange:H=>p(ce=>({...ce,task_status:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(Qe,{type:"date",value:g.due_date,onChange:H=>p(ce=>({...ce,due_date:H.target.value}))})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ie,{onClick:ae,disabled:!g.task_name.trim(),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})}),o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:z.filter(H=>H.stage_type==="tasks").sort((H,ce)=>{const C=H.stager_order_index??0,Ne=ce.stager_order_index??0;return C-Ne}).filter(H=>{var ce;return a?H.stage_id===(s||((ce=F[0])==null?void 0:ce.id)):!0}).map((H,ce)=>{var Ne,Te;const C=R.filter(Le=>Le.stage_id===H.stage_id);return o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in",a?"w-full":"w-[300px]"),style:{animationDelay:`${ce*.1}s`},onDragOver:M,onDrop:()=>B(H.stage_id),children:[o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",H.color||"border-l-4 border-primary/50"),children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dw,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ge(H,"stage_name")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:C.length})})]})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Ne=z.sort((Le,Ie)=>(Le.stager_order_index||0)-(Ie.stager_order_index||0))[0])==null?void 0:Ne.stage_id)===H.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>m(!0),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:n("tasks.addNewTask")})]})})}),C.map(Le=>{const Ie=O.find(Ee=>Ee.user_id===Le.assigned_to);return o.jsx("div",{draggable:de,onDragStart:()=>G(Le.task_id),className:"cursor-move",children:o.jsx(Rfe,{task:Le,assignedUser:Ie||null,stages:z,onDelete:()=>T(Le.task_id),onClick:()=>{console.log("Task clicked:",Le.task_id)},onDragStart:G,onStageChange:ee,isDragging:d===Le.task_id})},Le.task_id)}),((Te=z.sort((Le,Ie)=>(Le.stager_order_index||0)-(Ie.stager_order_index||0))[0])==null?void 0:Te.stage_id)!==H.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ie,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>m(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("tasks.addTask")]})})]})]},H.stage_id)})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-lg font-semibold",children:[n("tasks.allTasks")," (",E.length,")"]}),o.jsx(qr,{open:h,onOpenChange:m,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:n("tasks.createTask")}),o.jsx(Kn,{children:n("tasks.createTaskDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[n("tasks.taskName")," *"]}),o.jsx(Qe,{value:g.task_name,onChange:H=>p(ce=>({...ce,task_name:H.target.value})),placeholder:n("tasks.taskNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.description")}),o.jsx(zn,{value:g.description,onChange:H=>p(ce=>({...ce,description:H.target.value})),placeholder:n("tasks.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectUser")}),o.jsxs(mt,{value:g.assigned_to,onValueChange:H=>p(ce=>({...ce,assigned_to:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectUser")})}),o.jsx(dt,{children:O.map(H=>o.jsx(Ce,{value:H.user_id.toString(),children:ge(H,"user_name")},H.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStage")}),o.jsxs(mt,{value:g.stage_id,onValueChange:H=>p(ce=>({...ce,stage_id:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectStage")})}),o.jsx(dt,{children:z.map(H=>o.jsx(Ce,{value:H.stage_id.toString(),children:ge(H,"stage_name")},H.stage_id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.selectStatus")}),o.jsxs(mt,{value:g.task_status,onValueChange:H=>p(ce=>({...ce,task_status:H})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:n("tasks.selectStatus")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"todo",children:n("tasks.todo")}),o.jsx(Ce,{value:"in_progress",children:n("tasks.inProgress")}),o.jsx(Ce,{value:"done",children:n("tasks.done")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:n("tasks.dueDate")}),o.jsx(Qe,{type:"date",value:g.due_date,onChange:H=>p(ce=>({...ce,due_date:H.target.value}))})]})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>m(!1),children:n("buttons.cancel")}),o.jsxs(ie,{onClick:ae,disabled:!g.task_name.trim(),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),n("tasks.createTask")]})]})]})})]}),(()=>{const H=[{key:"task",header:n("tasks.taskName"),render:C=>o.jsx(vh,{title:C.task_name,subtitle:C.description})},{key:"assignee",header:n("tasks.assignedTo"),hideOnMobile:!0,render:C=>{const Ne=O.find(Te=>Te.user_id===C.assigned_to);return o.jsx(S0,{name:Ne?ge(Ne,"user_name"):null,fallback:n("common.all","Unassigned")})}},{key:"status",header:n("tasks.status"),render:C=>o.jsx(BC,{variant:u(C.task_status),children:C.task_status||n("leads.unknown")})},{key:"due_date",header:n("tasks.dueDate"),hideOnMobile:!0,render:C=>o.jsx(gh,{date:C.due_date,fallback:n("leads.notSet")})},{key:"stage",header:n("tasks.stage"),hideOnMobile:!0,render:C=>{const Ne=z.find(Te=>Te.stage_id===C.stage_id);return Ne?ge(Ne,"stage_name"):n("leads.unknown")}}],ce=[{label:n("common.view"),icon:o.jsx(mi,{className:"h-4 w-4"}),onClick:C=>console.log("View task:",C.task_id)},{label:n("buttons.delete","Delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:C=>T(C.task_id),variant:"destructive"}];return o.jsx(ph,{data:R,columns:H,actions:ce,keyExtractor:C=>C.task_id,emptyState:o.jsx(Ho,{icon:o.jsx(Ep,{className:"h-12 w-12 text-muted-foreground/50"}),title:n("tasks.noTasksYet"),description:n("tasks.createFirst","Create a task to get started"),action:o.jsxs(ie,{onClick:()=>m(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),n("tasks.addNewTask")]})})})})()]})]})}function X4(e){const[t,r]=w.useState(e),n=w.useCallback((s,i)=>{r(l=>({...l,[s]:i}))},[]),a=w.useCallback(s=>{r(s??e)},[e]);return{values:t,setValues:r,setField:n,reset:a}}const O2=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},Mfe=(e,t)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):t,Ffe=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return o.jsx(f2,{className:"h-3 w-3 text-red-500"});case"high":return o.jsx(f2,{className:"h-3 w-3 text-orange-500"});default:return null}};function Q4({ticket:e,assignedUser:t,userRole:r,onDelete:n,onClick:a,onDragStart:s,onDragEnd:i,isDragging:l=!1,stageName:c}){const{t:u}=Ut(),d=$s();return o.jsxs(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",l&&"opacity-50 rotate-2 scale-105"),onClick:a,draggable:!!s,onDragStart:f=>{s&&(f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("text/plain",e.ticket_id.toString()),s(e.ticket_id))},onDragEnd:()=>{i&&i()},children:[o.jsx(It,{className:"pb-3 px-4 pt-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),Ffe(e.priority)]}),o.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||u("tickets.noSubject","No Subject")}),e.description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),n&&r==="admin"&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,onClick:f=>f.stopPropagation(),children:o.jsx(ie,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:f=>f.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:u("tickets.deleteTicket","Delete Ticket")}),o.jsx(Rs,{children:u("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:u("buttons.cancel")}),o.jsx(Is,{onClick:f=>{f.stopPropagation(),n(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(it,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&o.jsx(lt,{variant:"outline",className:"text-xs",children:c}),o.jsx(lt,{variant:O2(e.priority),className:"text-xs",children:e.priority||u("leads.unknown")}),e.ticket_type&&o.jsx(lt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),t&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Oa,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"text-sm text-muted-foreground truncate",children:ge(t,"user_name")})]}),o.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Si,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:Mfe(e.created_date,u("leads.unknown"))})]})})]})]})}function Lfe(){const[e,t]=w.useState([]),[r,n]=w.useState([]),[a,s]=w.useState([]),[i,l]=w.useState(!0),[c,u]=w.useState(null),[d,f]=w.useState(""),[h,m]=w.useState("all"),[g,p]=w.useState("all"),[v,x]=w.useState("all"),[b,y]=w.useState(!1),[_,S]=w.useState(null),[k,j]=w.useState(!1),[E,N]=w.useState(!1),A=w.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),O=w.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:P,setField:U,reset:z,setValues:W}=X4(A),{values:I,setField:R,reset:F,setValues:D}=X4(O),[V,J]=w.useState(null),[T,G]=w.useState(null),[M,B]=w.useState("kanban"),[ee,ae]=w.useState(""),[de,re]=w.useState(!1),{user:H,loading:ce}=xr(),{t:C}=Ut(),Ne=$s();w.useEffect(()=>{H&&!ce&&Te()},[H,ce]),w.useEffect(()=>{if(a.length>0&&T===null){const le=a.filter(Se=>Se.stage_type==="tickets");le.length>0&&G(le[0].stage_id)}},[a,T]);const Te=async()=>{try{l(!0),u(null);const[le,Se,$e]=await Promise.all([Um.getAll().catch(De=>(console.error("[Tickets] Error fetching tickets:",De),[])),Wn.getAll().catch(De=>(console.error("[Tickets] Error fetching users:",De),[])),sa.getByType("tickets").catch(De=>(console.error("[Tickets] Error fetching stages:",De),[]))]);if(t(le),n(Se),s($e),$e.length>0){const De=[...$e].sort((qe,at)=>(qe.stager_order_index||0)-(at.stager_order_index||0));W(qe=>({...qe,stage_id:qe.stage_id||De[0].stage_id.toString()}))}}catch(le){console.error("[Tickets] Failed to load data:",le),u(le.message||C("common.error"))}finally{l(!1)}},Le=le=>le&&r.find(Se=>Se.user_id===le)||null,Ie=async le=>{var Se;if(le.preventDefault(),!(de||!H)){ae(""),re(!0);try{const $e=P.assigned_to?parseInt(P.assigned_to):null,De=r.find(Vs=>Vs.user_id===$e),qe=(De==null?void 0:De.auth_user_id)||null,at={subject:P.subject,description:P.description||null,priority:P.priority,ticket_type:P.ticket_type,stage_id:P.stage_id?parseInt(P.stage_id):null,created_by:((Se=H.profile)==null?void 0:Se.user_id)||null,created_by_auth_user_id:H.id,assigned_to:$e,assigned_to_auth_user_id:qe,auth_user_id:H.id,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},Ur=await Um.create(at);t([Ur,...e]);const xn=a.length>0?[...a].sort((Vs,bl)=>(Vs.stager_order_index||0)-(bl.stager_order_index||0))[0].stage_id.toString():"";z({...A,stage_id:xn}),y(!1)}catch($e){ae($e.message||C("tickets.createError"))}finally{re(!1)}}},Ee=le=>{var Se,$e;S(le),N(!1),D({...O,subject:le.subject||"",description:le.description||"",priority:le.priority||"medium",ticket_type:le.ticket_type||"request",assigned_to:((Se=le.assigned_to)==null?void 0:Se.toString())||"unassigned",stage_id:(($e=le.stage_id)==null?void 0:$e.toString())||""}),j(!0)},ot=async()=>{if(!(!_||de)){ae(""),re(!0);try{const le=I.assigned_to&&I.assigned_to!=="unassigned"?parseInt(I.assigned_to):null,Se=r.find(De=>De.user_id===le),$e=(Se==null?void 0:Se.auth_user_id)||null;await Um.update(_.ticket_id,{subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:le,assigned_to_auth_user_id:$e,stage_id:I.stage_id?parseInt(I.stage_id):null}),t(e.map(De=>De.ticket_id===_.ticket_id?{...De,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:le,assigned_to_auth_user_id:$e,stage_id:I.stage_id?parseInt(I.stage_id):null}:De)),S(De=>De?{...De,subject:I.subject,description:I.description||null,priority:I.priority,ticket_type:I.ticket_type,assigned_to:le,assigned_to_auth_user_id:$e,stage_id:I.stage_id?parseInt(I.stage_id):null}:null),N(!1)}catch(le){ae(le.message||C("tickets.updateError","Failed to update ticket"))}finally{re(!1)}}},St=async le=>{try{await Um.delete(le),t(e.filter(Se=>Se.ticket_id!==le))}catch(Se){console.error("[Tickets] Failed to delete ticket:",Se)}},Pt=le=>{J(le)},Ft=()=>{J(null)},ue=le=>{le.preventDefault(),le.dataTransfer.dropEffect="move"},Re=async le=>{if(!V)return;const Se=e.find($e=>$e.ticket_id===V);if(Se&&Se.stage_id!==le){t($e=>$e.map(De=>De.ticket_id===V?{...De,stage_id:le}:De));try{await Um.moveToStage(V,le)}catch($e){console.error("Failed to update ticket stage:",$e),t(De=>De.map(qe=>qe.ticket_id===V?{...qe,stage_id:Se.stage_id}:qe))}}J(null)},He=w.useMemo(()=>e.filter(le=>{var at,Ur,xn;const Se=((at=le.subject)==null?void 0:at.toLowerCase().includes(d.toLowerCase()))||((Ur=le.description)==null?void 0:Ur.toLowerCase().includes(d.toLowerCase())),$e=h==="all"||le.priority===h,De=g==="all"||le.ticket_type===g,qe=v==="all"||((xn=le.stage_id)==null?void 0:xn.toString())===v;return Se&&$e&&De&&qe}),[e,d,h,g,v]),ze=w.useMemo(()=>a.filter(le=>le.stage_type==="tickets").sort((le,Se)=>{const $e=le.stager_order_index??0,De=Se.stager_order_index??0;return $e-De}),[a]),ft=w.useMemo(()=>ze.map(le=>({id:le.stage_id,name:ge(le,"stage_name"),color:le.color,count:He.filter(Se=>Se.stage_id===le.stage_id).length})),[ze,He]),be=()=>{var le;return ze.length===0?o.jsx(Ho,{icon:o.jsx(Kd,{className:"h-12 w-12 text-muted-foreground/50"}),title:C("tickets.noStages","No ticket stages found"),description:C("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):o.jsxs(Mw,{stages:ft,currentStageId:T||((le=ft[0])==null?void 0:le.id),onStageChange:G,children:[o.jsx("div",{className:xe("flex gap-4 pb-4 overflow-x-auto",Ne?"hidden":"flex"),children:ze.map(Se=>{const $e=He.filter(at=>at.stage_id===Se.stage_id),De=Se.color||"border-l-4 border-gray-400",qe=ge(Se,"stage_name");return o.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:ue,onDrop:()=>Re(Se.stage_id),children:[o.jsx("div",{className:xe("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",De),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:ge(Se,"stage_name")}),o.jsx(lt,{variant:"secondary",className:"text-xs",children:$e.length})]}),o.jsx(ie,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{W(at=>({...at,stage_id:Se.stage_id.toString()})),y(!0)},children:o.jsx(ar,{className:"h-4 w-4"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:o.jsxs("div",{className:"space-y-3",children:[$e.map(at=>o.jsx(Q4,{ticket:at,assignedUser:Le(at.assigned_to),userRole:H==null?void 0:H.role,onDelete:St,onClick:()=>Ee(at),onDragStart:Pt,onDragEnd:Ft,isDragging:V===at.ticket_id,stageName:qe},at.ticket_id)),$e.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:C("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Se.stage_id)})}),Ne&&T&&o.jsxs("div",{className:"space-y-3 p-2",children:[He.filter(Se=>Se.stage_id===T).map(Se=>{var $e;return o.jsx(Q4,{ticket:Se,assignedUser:Le(Se.assigned_to),userRole:H==null?void 0:H.role,onDelete:St,onClick:()=>Ee(Se),onDragStart:Pt,onDragEnd:Ft,isDragging:V===Se.ticket_id,stageName:(($e=ft.find(De=>De.id===T))==null?void 0:$e.name)||null},Se.ticket_id)}),He.filter(Se=>Se.stage_id===T).length===0&&o.jsx(Ho,{icon:o.jsx(Kd,{className:"h-12 w-12 text-muted-foreground/50"}),title:C("tickets.noTicketsInStage","No tickets in this stage"),description:C("tickets.createFirst","Create a ticket to get started"),action:o.jsxs(ie,{onClick:()=>{W(Se=>({...Se,stage_id:T.toString()})),y(!0)},children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),C("tickets.newTicket")]})})]})]})},_e=()=>{const le=[{key:"ticket",header:C("tickets.subject","Subject"),render:$e=>o.jsx(vh,{title:$e.subject||C("tickets.noSubject","No Subject"),subtitle:$e.description})},{key:"priority",header:C("tickets.priority","Priority"),render:$e=>o.jsx(BC,{variant:O2($e.priority),children:$e.priority||C("leads.unknown")})},{key:"type",header:C("tickets.ticketType","Type"),hideOnMobile:!0,render:$e=>o.jsx(lt,{variant:"outline",className:"text-xs",children:$e.ticket_type||C("leads.unknown")})},{key:"assignee",header:C("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:$e=>{const De=Le($e.assigned_to);return o.jsx(S0,{name:De?ge(De,"user_name"):null,fallback:C("tickets.unassigned","Unassigned")})}},{key:"stage",header:C("tickets.stage","Stage"),hideOnMobile:!0,render:$e=>{const De=ze.find(qe=>qe.stage_id===$e.stage_id);return De?ge(De,"stage_name"):C("tickets.noStage","No stage")}},{key:"created",header:C("tickets.createdDate","Created"),hideOnMobile:!0,render:$e=>o.jsx(gh,{date:$e.created_date,fallback:C("leads.notSet","Not set")})}],Se=[{label:C("common.view","View"),icon:o.jsx(mi,{className:"h-4 w-4"}),onClick:Ee},{label:C("buttons.delete","Delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:$e=>St($e.ticket_id),variant:"destructive",show:()=>(H==null?void 0:H.role)==="admin"}];return o.jsx(ph,{data:He,columns:le,actions:Se,keyExtractor:$e=>$e.ticket_id,onRowClick:Ee,emptyState:o.jsx(Ho,{icon:o.jsx(Kd,{className:"h-12 w-12 text-muted-foreground/50"}),title:C("tickets.noTicketsFound","No tickets found"),description:C("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:o.jsxs(ie,{onClick:()=>y(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),C("tickets.newTicket","New Ticket")]})})})};return i||ce||!H?o.jsx(Wg,{message:C("tickets.loading","Loading tickets...")}):c?o.jsx($w,{title:C("tickets.errorTitle","Error loading tickets"),message:c,onRetry:Te}):o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx(Ug,{title:C("tickets.title"),description:C("tickets.description","Manage and track support tickets"),icon:o.jsx(Kd,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:C("navigation.dashboard"),href:"/dashboard"},{label:C("navigation.tickets")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:M==="kanban"?"default":"ghost",size:"sm",onClick:()=>B("kanban"),className:"h-8 w-8 p-0",children:o.jsx(fw,{className:"h-4 w-4"})}),o.jsx(ie,{variant:M==="list"?"default":"ghost",size:"sm",onClick:()=>B("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),o.jsxs(ie,{onClick:()=>y(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),C("tickets.newTicket")]})]}),stats:[{label:C("tickets.total","Total Tickets"),value:e.length,icon:o.jsx(Kd,{className:"h-4 w-4 text-primary"})},...ze.map(le=>({label:ge(le,"stage_name"),value:e.filter(Se=>Se.stage_id===le.stage_id).length,icon:o.jsx(dw,{className:"h-4 w-4 text-muted-foreground"})}))]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:C("tickets.searchPlaceholder","Search tickets..."),value:d,onChange:le=>f(le.target.value),className:"pl-10 h-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[o.jsxs(mt,{value:v,onValueChange:x,children:[o.jsx(ut,{className:"w-[130px] h-9",children:o.jsx(pt,{placeholder:C("tickets.allStages","All Stages")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:C("tickets.allStages","All Stages")}),ze.map(le=>o.jsx(Ce,{value:le.stage_id.toString(),children:ge(le,"stage_name")},le.stage_id))]})]}),o.jsxs(mt,{value:g,onValueChange:p,children:[o.jsx(ut,{className:"w-[130px] h-9",children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:C("tickets.allTypes","All Types")}),o.jsx(Ce,{value:"issue",children:C("tickets.typeIssue","Issue")}),o.jsx(Ce,{value:"request",children:C("tickets.typeRequest","Request")}),o.jsx(Ce,{value:"follow_up",children:C("tickets.typeFollowUp","Follow Up")}),o.jsx(Ce,{value:"internal_task",children:C("tickets.typeInternalTask","Internal Task")})]})]}),o.jsxs(mt,{value:h,onValueChange:m,children:[o.jsx(ut,{className:"w-[130px] h-9",children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:C("tickets.allPriorities","All Priorities")}),o.jsx(Ce,{value:"low",children:C("tickets.priorityLow","Low")}),o.jsx(Ce,{value:"medium",children:C("tickets.priorityMedium","Medium")}),o.jsx(Ce,{value:"high",children:C("tickets.priorityHigh","High")}),o.jsx(Ce,{value:"urgent",children:C("tickets.priorityUrgent","Urgent")})]})]})]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:M==="kanban"?be():_e()}),o.jsx(qr,{open:b,onOpenChange:y,children:o.jsxs(Fr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:C("tickets.createNewTicket")}),o.jsx(Kn,{children:C("tickets.createTicketDesc")})]}),o.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[ee&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{children:ee})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"subject",children:[C("tickets.subject")," *"]}),o.jsx(Qe,{id:"subject",value:P.subject,onChange:le=>U("subject",le.target.value),placeholder:C("tickets.subjectPlaceholder"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"description",children:C("tickets.description")}),o.jsx(zn,{id:"description",value:P.description,onChange:le=>U("description",le.target.value),placeholder:C("tickets.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"stage",children:C("tickets.stage","Stage")}),o.jsxs(mt,{value:P.stage_id,onValueChange:le=>U("stage_id",le),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:C("tickets.selectStage","Select stage")})}),o.jsx(dt,{children:ze.map(le=>o.jsx(Ce,{value:le.stage_id.toString(),children:ge(le,"stage_name")},le.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"priority",children:[C("tickets.priority")," *"]}),o.jsxs(mt,{value:P.priority,onValueChange:le=>U("priority",le),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"low",children:C("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:C("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:C("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:C("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"ticket_type",children:[C("tickets.ticketType")," *"]}),o.jsxs(mt,{value:P.ticket_type,onValueChange:le=>U("ticket_type",le),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"request",children:C("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:C("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:C("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:C("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"assigned_to",children:C("tickets.assignTo")}),o.jsxs(mt,{value:P.assigned_to,onValueChange:le=>U("assigned_to",le),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:C("tickets.selectAssignee")})}),o.jsx(dt,{children:r.map(le=>o.jsx(Ce,{value:le.user_id.toString(),children:ge(le,"user_name")},le.user_id))})]})]})]}),o.jsxs(Gn,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ie,{type:"button",variant:"outline",onClick:()=>y(!1),className:"w-full sm:w-auto",children:C("buttons.cancel")}),o.jsx(ie,{type:"submit",disabled:de||!P.subject.trim(),className:"w-full sm:w-auto",children:C(de?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),o.jsx(qr,{open:k,onOpenChange:j,children:o.jsxs(Fr,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[o.jsxs(Lr,{children:[o.jsx($r,{className:"text-lg sm:text-xl leading-tight",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("span",{className:"break-words",children:_==null?void 0:_.subject}),o.jsx(lt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(_==null?void 0:_.status)||C("leads.unknown")})]})}),o.jsxs(Kn,{className:"text-sm",children:[C("tickets.ticketId"),": #",_==null?void 0:_.ticket_id]})]}),_&&o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ee&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{children:ee})}),E?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"edit-subject",children:[C("tickets.subject")," *"]}),o.jsx(Qe,{id:"edit-subject",value:I.subject,onChange:le=>R("subject",le.target.value),placeholder:C("tickets.subjectPlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"edit-description",children:C("tickets.description")}),o.jsx(zn,{id:"edit-description",value:I.description,onChange:le=>R("description",le.target.value),rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:C("tickets.stage","Stage")}),o.jsxs(mt,{value:I.stage_id,onValueChange:le=>R("stage_id",le),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:C("tickets.selectStage","Select stage")})}),o.jsx(dt,{children:ze.map(le=>o.jsx(Ce,{value:le.stage_id.toString(),children:ge(le,"stage_name")},le.stage_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:C("tickets.priority")}),o.jsxs(mt,{value:I.priority,onValueChange:le=>R("priority",le),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"low",children:C("tickets.priorityLow")}),o.jsx(Ce,{value:"medium",children:C("tickets.priorityMedium")}),o.jsx(Ce,{value:"high",children:C("tickets.priorityHigh")}),o.jsx(Ce,{value:"urgent",children:C("tickets.priorityUrgent")})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:C("tickets.ticketType")}),o.jsxs(mt,{value:I.ticket_type,onValueChange:le=>R("ticket_type",le),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"request",children:C("tickets.typeRequest")}),o.jsx(Ce,{value:"follow_up",children:C("tickets.typeFollowUp")}),o.jsx(Ce,{value:"issue",children:C("tickets.typeIssue")}),o.jsx(Ce,{value:"internal_task",children:C("tickets.typeInternalTask")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:C("tickets.assignTo")}),o.jsxs(mt,{value:I.assigned_to,onValueChange:le=>R("assigned_to",le),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:C("tickets.selectAssignee")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"unassigned",children:C("tickets.unassigned","Unassigned")}),r.map(le=>o.jsx(Ce,{value:le.user_id.toString(),children:ge(le,"user_name")},le.user_id))]})]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.priority")}),o.jsx("div",{className:"mt-1",children:o.jsx(lt,{variant:O2(_.priority),className:"text-xs",children:_.priority||C("leads.unknown")})})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.ticketType")}),o.jsx("div",{className:"mt-1",children:o.jsx(lt,{variant:"outline",className:"text-xs",children:_.ticket_type||C("leads.unknown")})})]})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.stage","Stage")}),o.jsx("div",{className:"mt-1 text-sm",children:ze.find(le=>le.stage_id===_.stage_id)?ge(ze.find(le=>le.stage_id===_.stage_id),"stage_name"):C("tickets.noStage","No stage")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.assignedTo")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Le(_.assigned_to)?ge(Le(_.assigned_to),"user_name"):C("tickets.unassigned","Unassigned")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.createdDate")}),o.jsx("div",{className:"mt-1 text-sm",children:_.created_date?new Date(_.created_date).toLocaleString():"N/A"})]})]}),_.description&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.description")}),o.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:_.description})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.createdBy")}),o.jsx("div",{className:"mt-1 text-sm break-words",children:Le(_.created_by)?ge(Le(_.created_by),"user_name"):C("leads.unknown")})]}),_.resolved_date&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.resolvedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.resolved_date).toLocaleString()})]}),_.closed_at&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:C("tickets.closedDate")}),o.jsx("div",{className:"mt-1 text-sm",children:new Date(_.closed_at).toLocaleString()})]})]})]}),o.jsx(Gn,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:E?o.jsxs(o.Fragment,{children:[o.jsx(ie,{variant:"outline",onClick:()=>N(!1),className:"w-full sm:w-auto",children:C("buttons.cancel")}),o.jsxs(ie,{onClick:ot,disabled:de||!I.subject.trim(),className:"w-full sm:w-auto",children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),de?C("buttons.saving","Saving..."):C("buttons.save","Save")]})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{variant:"outline",onClick:()=>j(!1),className:"w-full sm:w-auto",children:C("buttons.close","Close")}),o.jsxs(ie,{onClick:()=>N(!0),className:"w-full sm:w-auto",children:[o.jsx(rl,{className:"h-4 w-4 mr-2"}),C("buttons.edit","Edit")]})]})})]})})]})}function J9({projectId:e,onClose:t}){const{id:r}=AJ(),n=ss(),{user:a}=xr(),[s,i]=w.useState([]),[l,c]=w.useState(""),[u,d]=w.useState(!0),[f,h]=w.useState(null),[m,g]=w.useState(null),[p,v]=w.useState(null),[x,b]=w.useState(null),[y,_]=w.useState([]),[S,k]=w.useState([]),j=e||(r?parseInt(r):null),E=!!e;w.useEffect(()=>{(async()=>{if(!(!j||!a)){if(a.role==="admin"||a.role==="manager"){h(!0);return}if(a.role==="employee")try{const R=(await F4.getProjectUsers(j)).some(F=>F.auth_user_id===a.id);h(R)}catch(I){console.error("Failed to check project access:",I),h(!1)}else h(!0)}})()},[j,a]),w.useEffect(()=>{j&&f&&N()},[j,f]);const N=async()=>{if(j)try{d(!0);const W=await zi.getById(j);if(g(W),W){if(W.created_by)try{const I=await Wn.getByAuthId(W.created_by);v(I)}catch(I){console.error("Failed to fetch client:",I)}if(W.created_by)try{const I=await Wn.getByAuthId(W.created_by);b(I)}catch(I){console.error("Failed to fetch manager:",I)}try{const R=(await F4.getProjectUsers(j)).map(D=>D.auth_user_id),F=await Promise.all(R.map(D=>Wn.getByAuthId(D).catch(()=>null)));_(F.filter(D=>D!==null))}catch(I){console.error("Failed to fetch project users:",I)}try{const F=(await sa.getAll()).filter(J=>J.project_id===j).map(J=>J.stage_id),V=(await Promise.all(F.map(J=>ec.getByStage(J)))).flat();k(V)}catch(I){console.error("Failed to fetch tasks:",I)}}}catch(W){console.error("Failed to load project data:",W)}finally{d(!1)}};w.useEffect(()=>{j&&m&&S.length>0&&A()},[j,m,S]);const A=async()=>{if(!(!j||!m||S.length===0))try{const W=[];for(const I of S){const R=await E2.getByTask(I.task_id);W.push(...R)}i(W)}catch(W){console.error("Failed to load comments:",W)}},O=async W=>{if(!(!l.trim()||!a))try{const I=await E2.create({task_id:W,auth_user_id:a.id,message:l.trim()});i(R=>[...R,I]),c("")}catch(I){console.error("Failed to add comment:",I)}},P=()=>{t?t():n("/projects")},U=({children:W})=>E?o.jsx("div",{className:"h-full overflow-y-auto p-1",children:W}):o.jsx(Pn,{children:W});if(f===!1)return o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),o.jsx(ie,{onClick:P,children:"Back to Projects"})]})})});if(f===null||!m||!p||!x)return u?o.jsx(U,{children:o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):o.jsx(U,{children:o.jsx("div",{children:"Project not found"})});const z={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return o.jsx(U,{children:o.jsxs("div",{className:"space-y-6 pb-10",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ie,{variant:"ghost",size:"icon",onClick:P,children:o.jsx(E8,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:ge(m,"project_name")}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:ge(p,"company_name")})]})]}),o.jsx(ie,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),o.jsx(rt,{children:o.jsxs(it,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),o.jsxs("span",{className:"text-sm font-bold",children:[m.progress||0,"%"]})]}),o.jsx(ol,{value:m.progress||0,className:"h-3"})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:o.jsxs(Xu,{defaultValue:"tasks",children:[o.jsxs(_c,{className:"w-full sm:w-auto",children:[o.jsx($n,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),o.jsx($n,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),o.jsx($n,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),o.jsxs(Bn,{value:"tasks",className:"space-y-3",children:[S.map(W=>{var R;const I=y.find(F=>F.user_id===W.assigned_to);return o.jsx(rt,{children:o.jsx(it,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:ge(W,"task_name")}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ge(W,"description")}),o.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[o.jsx(lt,{className:xe("text-xs",z[W.task_status]),children:((R=W.task_status)==null?void 0:R.replace("_"," "))||"todo"}),W.due_date&&o.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[o.jsx(Si,{className:"h-3 w-3"}),"Due: ",new Date(W.due_date).toLocaleDateString()]})]})]}),I&&o.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[o.jsx("div",{className:"text-2xl mb-1",children:I.avatar||""}),ge(I,"user_name")]})]})})},W.task_id)}),o.jsx(ie,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),o.jsx(Bn,{value:"images",children:o.jsx(rt,{children:o.jsxs(it,{className:"pt-6",children:[o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(W=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},W))}),o.jsxs(ie,{variant:"outline",className:"w-full mt-4",children:[o.jsx(UE,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),o.jsxs(Bn,{value:"comments",className:"space-y-3",children:[s.map(W=>{const I=[...y,p,x].find(R=>R&&R.auth_user_id===W.auth_user_id);return o.jsx(rt,{children:o.jsx(it,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-2xl",children:(I==null?void 0:I.avatar)||""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:I?ge(I,"user_name"):"Unknown"}),o.jsx("p",{className:"text-sm mt-1",children:W.message}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(W.created_date||"").toLocaleString()})]})]})})},W.comment_id)}),S.length>0&&o.jsx(rt,{children:o.jsx(it,{className:"pt-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Qe,{placeholder:"Add a comment...",value:l,onChange:W=>c(W.target.value),onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),O(S[0].task_id))}}),o.jsx(ie,{size:"icon",onClick:()=>O(S[0].task_id),children:o.jsx(BE,{className:"h-4 w-4"})})]})})})]})]})}),o.jsxs("div",{className:"space-y-4 lg:order-last",children:[o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{className:"text-base sm:text-lg",children:"Project Summary"})}),o.jsxs(it,{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:p.avatar}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:ge(p,"user_name")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:ge(p,"company_name")})]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:x.avatar}),o.jsx("div",{className:"text-sm",children:ge(x,"user_name")})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),o.jsx("div",{className:"space-y-2",children:y.map(W=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:W.avatar||""}),o.jsx("div",{className:"text-sm",children:ge(W,"user_name")})]},W.user_id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",m.created_date?new Date(m.created_date).toLocaleDateString():"Not set",m.end_date&&o.jsxs("div",{children:["End: ",new Date(m.end_date).toLocaleDateString()]})]})]})]})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{className:"text-base sm:text-lg",children:"Recent Activity"})}),o.jsx(it,{children:o.jsxs("div",{className:"space-y-3 text-xs",children:[o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"Task completed"}),o.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),o.jsxs("div",{className:"pb-2 border-b",children:[o.jsx("div",{className:"font-medium",children:"New comment added"}),o.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Images uploaded"}),o.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function $fe({project:e,client:t,manager:r,stages:n,onDelete:a,onClick:s,onDragStart:i,onStageChange:l,isDragging:c=!1}){const{t:u}=Ut(),d=$s(),f=e.progress||0,h=p=>p?new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):u("leads.notSet","Not set"),m=p=>{if(!p)return null;const v=new Date,b=(new Date(p).getTime()-v.getTime())/(1e3*60*60);return b<0?"overdue":b<24?"urgent":b<72?"soon":null},g=p=>{switch(m(p)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return o.jsxs(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200",d?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!d&&(f===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),g(e.end_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:p=>{i&&(p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("text/plain",e.project_id.toString()),i(e.project_id))},children:[o.jsx(It,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:ge(e,"project_name")}),ge(e,"project_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ge(e,"project_description")})]}),a&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,onClick:p=>p.stopPropagation(),children:o.jsx(ie,{variant:"ghost",size:"sm",className:xe("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:p=>p.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:u("projects.deleteProject")}),o.jsx(Rs,{children:u("projects.deleteConfirmation",{name:ge(e,"project_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:u("buttons.cancel")}),o.jsx(Is,{onClick:p=>{p.stopPropagation(),a(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:u("buttons.delete")})]})]})]})]})}),o.jsxs(it,{className:"px-4 pb-4 space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:u("projects.progress")}),o.jsxs("span",{className:"font-medium",children:[f,"%"]})]}),o.jsx(ol,{value:f,className:"h-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t&&o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Sa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),o.jsx("p",{className:"text-xs font-medium truncate",children:t.user_name})]})]}),o.jsxs("div",{className:"flex items-start gap-1.5",children:[o.jsx(Oa,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),o.jsx("p",{className:"text-xs font-medium truncate",children:r?r.user_name:u("common.all","Unassigned")})]})]})]}),d&&l&&o.jsx("div",{className:"pt-1",children:o.jsxs(mt,{value:e.stage.toString(),onValueChange:p=>l(e.project_id,parseInt(p)),children:[o.jsx(ut,{className:"h-7 text-xs",children:o.jsx(pt,{placeholder:u("projects.selectStage","Select stage")})}),o.jsx(dt,{children:n.filter(p=>["New","In Progress","Overdue","Completed"].includes(p.stage_name)).map(p=>o.jsx(Ce,{value:p.stage_id.toString(),children:ge(p,"stage_name")},p.stage_id))})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[o.jsx(Si,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:h(e.created_date)})]}),f===100?o.jsx(lt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):f>0?o.jsx(lt,{variant:"default",className:"text-xs",children:"In Progress"}):o.jsx(lt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function Bfe(){var ze,ft;ss();const{hasRole:e,user:t}=xr();pl();const{t:r}=Ut(),n=$s(),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState(!0),[g,p]=w.useState(null);w.useState(!1),w.useState("");const[v,x]=w.useState(null),[b,y]=w.useState(""),[_,S]=w.useState(null),[k,j]=w.useState(null),[E,N]=w.useState(!1),[A,O]=w.useState(null),[P,U]=w.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[z,W]=w.useState(!1),[I,R]=w.useState({project_name:"",project_description:"",client_id:""}),[F,D]=w.useState("kanban"),[V,J]=w.useState(null),[T,G]=w.useState(""),[M,B]=w.useState("all"),[ee,ae]=w.useState("all"),[de,re]=w.useState({from:void 0,to:void 0}),H=w.useMemo(()=>a.filter(be=>{const _e=(be.project_name||"").toLowerCase().includes(T.toLowerCase())||(be.project_description||"").toLowerCase().includes(T.toLowerCase());let le=!0;M==="todo"?le=(be.progress||0)===0:M==="in_progress"?le=(be.progress||0)>0&&(be.progress||0)<100:M==="done"&&(le=(be.progress||0)===100);const Se=ee==="all"||be.created_by&&be.created_by.toString()===ee;let $e=!0;if(de.from&&be.end_date){const De=new Date(be.end_date),qe=new Date(de.from);qe.setHours(0,0,0,0);const at=new Date(De);if(at.setHours(0,0,0,0),$e=at>=qe,$e&&de.to){const Ur=new Date(de.to);Ur.setHours(23,59,59,999),$e=at<=Ur}}else de.from&&!be.end_date&&($e=!1);return _e&&le&&Se&&$e}),[a,T,M,ee,de]);w.useEffect(()=>{ce()},[]),w.useEffect(()=>{if(d.length>0&&A===null){const be=d.find(_e=>_e.stage_id===5);be&&O(be.stage_id)}},[d,A]);const ce=async()=>{try{m(!0),p(null);const[be,_e,le,Se]=await Promise.all([zi.getAll(),vC.getAll(),Wn.getAll(),sa.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:be.length,clients:_e.length,users:le.length,stages:Se.length}),console.log("[Projects] Projects data:",be),console.log("[Projects] Stages data:",Se),s(be),l(_e),u(le),f(Se)}catch(be){console.error("Failed to load data:",be),p(r("projects.loadError","Failed to load projects. Please try again."))}finally{m(!1)}},C=async be=>{if(b.trim())try{await sa.update(be,{stage_name:b.trim()}),f(d.map(_e=>_e.stage_id===be?{..._e,stage_name:b.trim()}:_e)),x(null),y("")}catch(_e){console.error("Failed to update stage:",_e)}},Ne=async be=>{if(a.filter(le=>le.stage===be).length>0){S(be);return}try{await sa.delete(be),f(d.filter(le=>le.stage_id!==be))}catch(le){console.error("Failed to delete stage:",le)}},Te=be=>{j(be)},Le=be=>{be.preventDefault(),be.dataTransfer.dropEffect="move"},Ie=async be=>{if(!k)return;const _e=a.find(le=>le.project_id===k);if(_e&&_e.stage!==be)try{await zi.update(k,{stage:be}),s(a.map(le=>le.project_id===k?{...le,stage:be}:le))}catch(le){console.error("Failed to update project stage:",le)}j(null)},Ee=async(be,_e)=>{const le=a.find(Se=>Se.project_id===be);if(le&&le.stage!==_e)try{await zi.update(be,{stage:_e}),s(a.map(Se=>Se.project_id===be?{...Se,stage:_e}:Se))}catch(Se){console.error("Failed to update project stage:",Se)}},ot=async be=>{try{await zi.delete(be),s(a.filter(_e=>_e.project_id!==be))}catch(_e){console.error("Failed to delete project:",_e)}},St=be=>{U(_e=>({..._e,stage:be.toString()})),N(!0)},Pt=async()=>{var be;if(P.project_name.trim())try{const _e=Ts({project_name:P.project_name.trim(),project_description:P.project_description.trim()||null,created_by:((be=t==null?void 0:t.profile)==null?void 0:be.user_id)||1,progress:P.progress,stage:parseInt(P.stage),end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),le=await zi.create(_e);s([...a,le]),U({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),N(!1)}catch(_e){console.error("Failed to create project:",_e)}},Ft=async()=>{var be;if(I.project_name.trim())try{const _e=Ts({project_name:I.project_name.trim(),project_description:I.project_description.trim()||null,created_by:((be=t==null?void 0:t.profile)==null?void 0:be.user_id)||1,progress:0,stage:1,end_date:null,auth_user_id:(t==null?void 0:t.id)||""},{project_name:"project_name",project_description:"project_description"}),le=await zi.create(_e);s([...a,le]),R({project_name:"",project_description:"",client_id:""}),W(!1)}catch(_e){console.error("Failed to create lead:",_e)}},ue=d.filter(be=>be.stage_type==="projects").sort((be,_e)=>{const le=be.stager_order_index??0,Se=_e.stager_order_index??0;return Zi()?Se-le:le-Se}),Re=ue.map(be=>({id:be.stage_id,name:ge(be,"stage_name"),color:be.color,count:H.filter(_e=>_e.stage===be.stage_id).length})),He=()=>{var be;return h?o.jsx(Wg,{message:r("projects.loading","Loading projects...")}):g?o.jsx($w,{title:r("projects.errorTitle","Error loading projects"),message:g,onRetry:ce}):a.length===0&&!T&&M==="all"&&ee==="all"?o.jsx(Ho,{title:r("projects.emptyTitle","No projects found"),description:r("projects.emptyDescription","Get started by creating your first project."),icon:o.jsx(Nf,{className:"h-10 w-10 text-muted-foreground"}),action:o.jsxs(ie,{onClick:()=>W(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",r("projects.createProject")]})}):o.jsxs(o.Fragment,{children:[o.jsx(DC,{onSearch:G,onFilterStatus:B,onFilterAssignee:ae,onFilterDateRange:re,users:c,statuses:[{value:"todo",label:"Not Started"},{value:"in_progress",label:"In Progress"},{value:"done",label:"Completed"}]}),F==="kanban"?o.jsx(o.Fragment,{children:o.jsx(Mw,{stages:Re,currentStageId:A||((be=Re[0])==null?void 0:be.id),onStageChange:O,children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:ue.sort((_e,le)=>_e.stage_id-le.stage_id).filter(_e=>{var Se;return window.innerWidth<1024?_e.stage_id===(A||((Se=Re[0])==null?void 0:Se.id)):!0}).map((_e,le)=>{var $e,De;const Se=H.filter(qe=>qe.stage===_e.stage_id);return console.log(`[Projects] Stage ${_e.stage_name} (${_e.stage_id}): ${Se.length} projects`),console.log("[Projects] Stage projects:",Se),o.jsxs("div",{className:xe("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${le*.1}s`},onDragOver:Le,onDrop:()=>Ie(_e.stage_id),children:[!n&&o.jsx("div",{className:xe("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",_e.color||"border-l-4 border-primary/50"),children:o.jsx("div",{className:"flex items-center justify-between mb-2",children:v===_e.stage_id?o.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[o.jsx(Qe,{value:b,onChange:qe=>y(qe.target.value),onKeyDown:qe=>{qe.key==="Enter"&&C(_e.stage_id),qe.key==="Escape"&&(x(null),y(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>C(_e.stage_id),className:"h-8 w-8 p-0",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dw,{className:"h-4 w-4 text-muted-foreground cursor-move"}),o.jsx("h2",{className:"font-bold text-base",children:ge(_e,"stage_name")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Se.length}),o.jsxs(o.Fragment,{children:[o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{x(_e.stage_id),y(ge(_e,"stage_name"))},className:"h-6 w-6 p-0",title:r("buttons.edit"),children:o.jsx(rl,{className:"h-3 w-3"})}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>Ne(_e.stage_id),className:"h-6 w-6 p-0 text-destructive",title:r("buttons.delete"),children:o.jsx(br,{className:"h-3 w-3"})})]})]})]})})}),o.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[(($e=d.sort((qe,at)=>(qe.stager_order_index||0)-(at.stager_order_index||0))[0])==null?void 0:$e.stage_id)===_e.stage_id&&o.jsx("div",{className:"mb-4",children:o.jsx(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>St(_e.stage_id),children:o.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[o.jsx(ar,{className:"h-8 w-8"}),o.jsx("span",{className:"text-sm font-medium",children:r("projects.addNewProjectCard")})]})})}),Se.map(qe=>{const at=c.find(Ur=>Ur.auth_user_id===qe.created_by);return o.jsx($fe,{project:qe,client:i.find(Ur=>Ur.user_id.toString()===qe.client_id)||null,manager:at||null,stages:d,onDelete:ot,onClick:()=>J(qe.project_id),onDragStart:Te,onStageChange:Ee,isDragging:k===qe.project_id},qe.project_id)}),((De=d.sort((qe,at)=>(qe.stager_order_index||0)-(at.stager_order_index||0))[0])==null?void 0:De.stage_id)!==_e.stage_id&&o.jsx("div",{className:"mt-2",children:o.jsxs(ie,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>St(_e.stage_id),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),r("projects.addProject")]})})]})]},_e.stage_id)})})})}):o.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:o.jsxs(IC,{children:[o.jsx(MC,{children:o.jsxs(_0,{children:[o.jsx(ii,{children:r("projects.projectName")}),o.jsx(ii,{children:r("projects.client")}),o.jsx(ii,{children:r("projects.manager")}),o.jsx(ii,{children:r("projects.stage")}),o.jsx(ii,{children:r("projects.progress")}),o.jsx(ii,{children:r("projects.dueDate")}),o.jsx(ii,{className:"w-[50px]"})]})}),o.jsx(FC,{children:H.map(_e=>{const le=c.find(De=>De.auth_user_id===_e.created_by),Se=i.find(De=>De.user_id.toString()===_e.client_id),$e=d.find(De=>De.stage_id===_e.stage);return o.jsxs(_0,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>J(_e.project_id),children:[o.jsx(oi,{className:"font-medium",children:ge(_e,"project_name")}),o.jsx(oi,{children:Se?ge(Se,"user_name"):"-"}),o.jsx(oi,{children:le?ge(le,"user_name"):"-"}),o.jsx(oi,{children:o.jsx(lt,{variant:"outline",className:"bg-background",children:$e?ge($e,"stage_name"):"-"})}),o.jsx(oi,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ol,{value:_e.progress||0,className:"w-16 h-2"}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[_e.progress,"%"]})]})}),o.jsx(oi,{className:"text-muted-foreground text-sm",children:_e.end_date?new Date(_e.end_date).toLocaleDateString():"-"}),o.jsx(oi,{children:o.jsx(ie,{variant:"ghost",size:"icon",onClick:De=>{De.stopPropagation(),ot(_e.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:o.jsx(br,{className:"h-4 w-4"})})})]},_e.project_id)})})]})})]})};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsx(Ug,{title:r("projects.title"),description:r("projects.description","Manage and track all your projects"),icon:o.jsx(Nf,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:r("navigation.dashboard"),href:"/dashboard"},{label:r("navigation.projects")}],actions:o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:F==="kanban"?"default":"ghost",size:"sm",onClick:()=>D("kanban"),className:"h-8 w-8 p-0",children:o.jsx(fw,{className:"h-4 w-4"})}),o.jsx(ie,{variant:F==="list"?"default":"ghost",size:"sm",onClick:()=>D("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),o.jsxs(ie,{onClick:()=>W(!0),children:[o.jsx(ar,{className:"mr-2 h-4 w-4"})," ",r("projects.newProject")]})]}),stats:[{label:r("projects.total","Total Projects"),value:a.length,icon:o.jsx(Nf,{className:"h-4 w-4 text-primary"})},{label:r("projects.inProgress","In Progress"),value:a.filter(be=>(be.progress||0)>0&&(be.progress||0)<100).length,icon:o.jsx(Si,{className:"h-4 w-4 text-blue-500"})},{label:r("projects.completed","Completed"),value:a.filter(be=>(be.progress||0)===100).length,icon:o.jsx(Sa,{className:"h-4 w-4 text-green-600"})},{label:r("projects.avgProgress","Avg Progress"),value:a.length>0?`${Math.round(a.reduce((be,_e)=>be+(_e.progress||0),0)/a.length)}%`:"0%",icon:o.jsx(ol,{className:"h-4 w-4 text-blue-500"})}]}),He(),o.jsx(qr,{open:E,onOpenChange:N,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:r("projects.createProject")}),o.jsx(Kn,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(Qe,{value:P.project_name,onChange:be=>U(_e=>({..._e,project_name:be.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(zn,{value:P.project_description,onChange:be=>U(_e=>({..._e,project_description:be.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(mt,{value:P.client_id,onValueChange:be=>U(_e=>({..._e,client_id:be})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:r("projects.selectClient")})}),o.jsx(dt,{children:i.map(be=>o.jsx(Ce,{value:be.user_id.toString(),children:ge(be,"user_name")},be.user_id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.initialProgress")}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"range",min:"0",max:"100",value:P.progress,onChange:be=>U(_e=>({..._e,progress:parseInt(be.target.value)})),className:"w-full h-1.5"}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"0%"}),o.jsxs("span",{children:[P.progress,"%"]}),o.jsx("span",{children:"100%"})]})]})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>N(!1),children:r("buttons.cancel")}),o.jsxs(ie,{onClick:Pt,disabled:!((ze=P.project_name)!=null&&ze.trim()),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(qr,{open:z,onOpenChange:W,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:r("projects.createProject")}),o.jsx(Kn,{children:r("projects.createProjectDesc")})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[r("projects.projectName")," *"]}),o.jsx(Qe,{value:I.project_name,onChange:be=>R(_e=>({..._e,project_name:be.target.value})),placeholder:r("projects.projectNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.description")}),o.jsx(zn,{value:I.project_description,onChange:be=>R(_e=>({..._e,project_description:be.target.value})),placeholder:r("projects.descriptionPlaceholder"),rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:r("projects.client")}),o.jsxs(mt,{value:I.client_id,onValueChange:be=>R(_e=>({..._e,client_id:be})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:r("projects.selectClient")})}),o.jsx(dt,{children:i.map(be=>o.jsx(Ce,{value:be.user_id.toString(),children:ge(be,"user_name")},be.user_id))})]})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>W(!1),children:r("buttons.cancel")}),o.jsxs(ie,{onClick:Ft,disabled:!((ft=I.project_name)!=null&&ft.trim()),children:[o.jsx(ji,{className:"h-4 w-4 mr-2"}),r("projects.createProject")]})]})]})}),o.jsx(ch,{open:!!V,onOpenChange:be=>!be&&J(null),children:o.jsxs(Ku,{side:"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[o.jsxs(b0,{className:"sr-only",children:[o.jsx(uh,{children:"Project Details"}),o.jsx(Ow,{children:"View and manage project information"})]}),V&&o.jsx(J9,{projectId:V,onClose:()=>J(null)})]})})]})}function Ufe(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var UC="ScrollArea",[Z9,aWe]=pa(UC),[Wfe,Bs]=Z9(UC),e7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:s=600,...i}=e,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,h]=w.useState(null),[m,g]=w.useState(null),[p,v]=w.useState(null),[x,b]=w.useState(0),[y,_]=w.useState(0),[S,k]=w.useState(!1),[j,E]=w.useState(!1),N=Ot(t,O=>c(O)),A=Ng(a);return o.jsx(Wfe,{scope:r,type:n,dir:A,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:j,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:_,children:o.jsx(tt.div,{dir:A,...i,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});e7.displayName=UC;var t7="ScrollAreaViewport",r7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...s}=e,i=Bs(t7,r),l=w.useRef(null),c=Ot(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(tt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});r7.displayName=t7;var fo="ScrollAreaScrollbar",WC=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Bs(fo,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return w.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),a.type==="hover"?o.jsx(zfe,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Vfe,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(n7,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(zC,{...n,ref:t}):null});WC.displayName=fo;var zfe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Bs(fo,e.__scopeScrollArea),[s,i]=w.useState(!1);return w.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Yn,{present:r||s,children:o.jsx(n7,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Vfe=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Bs(fo,e.__scopeScrollArea),s=e.orientation==="horizontal",i=Uw(()=>c("SCROLL_END"),100),[l,c]=Ufe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),w.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,s,c,i]),o.jsx(Yn,{present:r||l!=="hidden",children:o.jsx(zC,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ke(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ke(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),n7=w.forwardRef((e,t)=>{const r=Bs(fo,e.__scopeScrollArea),{forceMount:n,...a}=e,[s,i]=w.useState(!1),l=e.orientation==="horizontal",c=Uw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return xh(r.viewport,c),xh(r.content,c),o.jsx(Yn,{present:n||s,children:o.jsx(zC,{"data-state":s?"visible":"hidden",...a,ref:t})})}),zC=w.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Bs(fo,e.__scopeScrollArea),s=w.useRef(null),i=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=l7(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,m){return Xfe(h,i.current,l,m)}return r==="horizontal"?o.jsx(Hfe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollLeft,m=J4(h,l,a.dir);s.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(Gfe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const h=a.viewport.scrollTop,m=J4(h,l);s.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Hfe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Bs(fo,e.__scopeScrollArea),[i,l]=w.useState(),c=w.useRef(null),u=Ot(t,c,s.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(s7,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),u7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ay(i.paddingLeft),paddingEnd:Ay(i.paddingRight)}})}})}),Gfe=w.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,s=Bs(fo,e.__scopeScrollArea),[i,l]=w.useState(),c=w.useRef(null),u=Ot(t,c,s.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(s7,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),u7(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&i&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ay(i.paddingTop),paddingEnd:Ay(i.paddingBottom)}})}})}),[Kfe,a7]=Z9(fo),s7=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Bs(fo,r),[g,p]=w.useState(null),v=Ot(t,N=>p(N)),x=w.useRef(null),b=w.useRef(""),y=m.viewport,_=n.content-n.viewport,S=mn(d),k=mn(c),j=Uw(f,10);function E(N){if(x.current){const A=N.clientX-x.current.left,O=N.clientY-x.current.top;u({x:A,y:O})}}return w.useEffect(()=>{const N=A=>{const O=A.target;(g==null?void 0:g.contains(O))&&S(A,_)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[y,g,_,S]),w.useEffect(k,[n,k]),xh(g,j),xh(m.content,j),o.jsx(Kfe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:mn(s),onThumbPointerUp:mn(i),onThumbPositionChange:k,onThumbPointerDown:mn(l),children:o.jsx(tt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:Ke(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),x.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:Ke(e.onPointerMove,E),onPointerUp:Ke(e.onPointerUp,N=>{const A=N.target;A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ty="ScrollAreaThumb",i7=w.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=a7(Ty,e.__scopeScrollArea);return o.jsx(Yn,{present:r||a.hasThumb,children:o.jsx(qfe,{ref:t,...n})})}),qfe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,s=Bs(Ty,r),i=a7(Ty,r),{onThumbPositionChange:l}=i,c=Ot(t,f=>i.onThumbChange(f)),u=w.useRef(void 0),d=Uw(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Qfe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,d,l]),o.jsx(tt.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ke(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ke(e.onPointerUp,i.onThumbPointerUp)})});i7.displayName=Ty;var VC="ScrollAreaCorner",o7=w.forwardRef((e,t)=>{const r=Bs(VC,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Yfe,{...e,ref:t}):null});o7.displayName=VC;var Yfe=w.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Bs(VC,r),[s,i]=w.useState(0),[l,c]=w.useState(0),u=!!(s&&l);return xh(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),xh(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?o.jsx(tt.div,{...n,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ay(e){return e?parseInt(e,10):0}function l7(e,t){const r=e/t;return isNaN(r)?0:r}function Bw(e){const t=l7(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Xfe(e,t,r,n="ltr"){const a=Bw(r),s=a/2,i=t||s,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return c7([c,u],f)(e)}function J4(e,t,r="ltr"){const n=Bw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,i=t.content-t.viewport,l=s-n,c=r==="ltr"?[0,i]:[i*-1,0],u=h2(e,c);return c7([0,i],[0,l])(u)}function c7(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function u7(e,t){return e>0&&e<t}var Qfe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},i=r.left!==s.left,l=r.top!==s.top;(i||l)&&t(),r=s,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Uw(e,t){const r=mn(e),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function xh(e,t){const r=mn(t);Xr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var d7=e7,Jfe=r7,Zfe=o7;const Ja=w.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(d7,{ref:n,className:xe("relative overflow-hidden",e),...r,children:[o.jsx(Jfe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(f7,{}),o.jsx(Zfe,{})]}));Ja.displayName=d7.displayName;const f7=w.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(WC,{ref:n,orientation:t,className:xe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(i7,{className:"relative flex-1 rounded-full bg-border"})}));f7.displayName=WC.displayName;function ehe(){const{user:e,createStaffUser:t,deleteUser:r,updateUserRole:n,updateUser:a}=xr();pl();const{t:s}=Ut(),[i,l]=w.useState([]),[c,u]=w.useState(!0),[d,f]=w.useState(""),[h,m]=w.useState(!1),[g,p]=w.useState(""),[v,x]=w.useState(""),[b,y]=w.useState(""),[_,S]=w.useState("employee"),[k,j]=w.useState(""),[E,N]=w.useState(!1),[A,O]=w.useState("employees"),[P,U]=w.useState(!1),[z,W]=w.useState(null),[I,R]=w.useState(!1),[F,D]=w.useState({user_name:"",user_email:"",user_phone:"",user_role:""}),[V,J]=w.useState(!1),[T,G]=w.useState("");w.useEffect(()=>{M()},[]);const M=async()=>{try{u(!0);const C=await Wn.getAll();l(C)}catch(C){console.error("Failed to load users:",C)}finally{u(!1)}},B=i.filter(C=>{var St,Pt,Ft;const Ne=A==="employees",Te=A==="clients";if(Ne&&C.user_role==="client"||Te&&C.user_role!=="client")return!1;const Le=((St=ge(C,"user_name"))==null?void 0:St.toLowerCase())||"",Ie=((Pt=C.user_email)==null?void 0:Pt.toLowerCase())||"",Ee=((Ft=C.user_role)==null?void 0:Ft.toLowerCase())||"",ot=d.toLowerCase();return Le.includes(ot)||Ie.includes(ot)||Ee.includes(ot)}),ee=C=>{switch(C){case"admin":return"destructive";case"manager":return"default";case"employee":return"secondary";case"client":return"outline";default:return"secondary"}},ae=async C=>{if(C.preventDefault(),!E){j(""),N(!0);try{const Ne=Ts({user_name:g,user_email:v,user_role:_},{user_name:"user_name"});await t(v,b,{name:g,role:_,localizedData:Ne}),m(!1),p(""),x(""),y(""),S("employee"),M()}catch(Ne){j(Ne.message||s("users.addUserError"))}finally{N(!1)}}},de=async(C,Ne)=>{if(confirm(s("users.deleteConfirmation",{name:Ne})))try{await r(C),M()}catch(Te){alert(`${s("users.deleteError")}: ${Te.message}`)}},re=async(C,Ne)=>{try{await n(C,Ne),M()}catch(Te){alert(`${s("users.updateRoleError")}: ${Te.message}`)}},H=async C=>{var Ne;if(C.preventDefault(),!(V||!z)){G(""),J(!0);try{const Te={};F.user_name!==ge(z,"user_name")&&(Te.user_name=F.user_name),F.user_email!==z.user_email&&(Te.user_email=F.user_email),F.user_phone!==((Ne=z.user_phone)==null?void 0:Ne.toString())&&(Te.user_phone=F.user_phone?parseInt(F.user_phone):null),F.user_role!==z.user_role&&(Te.user_role=F.user_role),Object.keys(Te).length>0?(await a(z.auth_user_id||"",Te),R(!1),M()):R(!1)}catch(Te){G(Te.message||s("users.updateUserError"))}finally{J(!1)}}},ce=C=>{var Ne;W(C),D({user_name:ge(C,"user_name")||"",user_email:C.user_email||"",user_phone:((Ne=C.user_phone)==null?void 0:Ne.toString())||"",user_role:C.user_role||""}),R(!1),G(""),U(!0)};return c?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:s("users.title")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pa,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[i.length," ",s("users.totalUsers")]})]}),o.jsx("p",{className:"hidden md:block text-muted-foreground",children:s("users.subtitle")})]}),o.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[o.jsxs(ie,{variant:A==="employees"?"default":"ghost",size:"sm",onClick:()=>O("employees"),className:"h-8 px-3",children:[o.jsx(rne,{className:"h-4 w-4 mr-2"}),s("users.employees")]}),o.jsxs(ie,{variant:A==="clients"?"default":"ghost",size:"sm",onClick:()=>O("clients"),className:"h-8 px-3",children:[o.jsx(Oa,{className:"h-4 w-4 mr-2"}),s("users.clients")]})]}),A==="employees"&&o.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&o.jsxs(qr,{open:h,onOpenChange:m,children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{className:"w-full",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),s("users.addUser")]})}),o.jsxs(Fr,{children:[o.jsxs(Lr,{children:[o.jsx($r,{children:s("users.addNewUser")}),o.jsx(Kn,{children:s("users.addUserDescription")})]}),o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[k&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{children:k})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"formName",children:s("users.fullName")}),o.jsx(Qe,{id:"formName",value:g,onChange:C=>p(C.target.value),placeholder:s("users.fullName"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"formEmail",children:s("users.email")}),o.jsx(Qe,{id:"formEmail",type:"email",value:v,onChange:C=>x(C.target.value),placeholder:s("users.email"),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"formPassword",children:s("users.password")}),o.jsx(Qe,{id:"formPassword",type:"password",value:b,onChange:C=>y(C.target.value),placeholder:s("users.password"),required:!0,minLength:6})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"formRole",children:s("users.role")}),o.jsxs(mt,{value:_,onValueChange:C=>S(C),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"employee",children:s("users.employee")}),o.jsx(Ce,{value:"manager",children:s("users.manager")}),o.jsx(Ce,{value:"admin",children:s("users.admin")})]})]})]}),o.jsx(ie,{type:"submit",className:"w-full",disabled:E,children:s(E?"users.addingUser":"users.addUser")})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:s("users.searchPlaceholder"),value:d,onChange:C=>f(C.target.value),className:"pl-10"})]}),o.jsxs(Ja,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(C=>o.jsxs(rt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(It,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Ss,{className:"h-12 w-12",children:[o.jsx(js,{src:C.avatar||""}),o.jsx(ks,{children:ge(C,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(Yt,{className:"text-lg truncate",children:ge(C,"user_name")}),o.jsx(lt,{variant:ee(C.user_role),className:"mt-1",children:s(`users.${C.user_role}`)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ce(C),children:o.jsx(mi,{className:"h-4 w-4"})}),(e==null?void 0:e.role)==="admin"&&o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>de(C.auth_user_id||"",ge(C,"user_name")),children:o.jsx(br,{className:"h-4 w-4"})})]})]})}),o.jsxs(it,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(l4,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:C.user_email})]}),C.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(d2,{className:"h-4 w-4"}),o.jsx("span",{children:C.client_contact})]}),C.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(i4,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:C.company_name})]}),(C.user_role==="employee"||C.user_role==="manager")&&(e==null?void 0:e.role)==="admin"&&o.jsxs("div",{className:"pt-2 border-t",children:[o.jsx("div",{className:"text-xs font-medium mb-1",children:s("users.changeRole")}),o.jsxs(mt,{value:C.user_role,onValueChange:Ne=>re(C.auth_user_id||"",Ne),children:[o.jsx(ut,{className:"w-full h-8",children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"employee",children:s("users.employee")}),o.jsx(Ce,{value:"manager",children:s("users.manager")})]})]})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[s("users.joined")," ",new Date(C.created_at).toLocaleDateString()]})]})]},C.user_id))}),B.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:s("users.noUsersFound")}),o.jsx("p",{className:"text-muted-foreground",children:s(d?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),A==="clients"&&o.jsx("div",{className:"space-y-6",children:o.jsxs(Ja,{className:"flex-1",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(C=>o.jsxs(rt,{className:"hover:shadow-md transition-shadow",children:[o.jsx(It,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Ss,{className:"h-12 w-12",children:[o.jsx(js,{src:C.avatar||""}),o.jsx(ks,{children:ge(C,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(Yt,{className:"text-lg truncate",children:ge(C,"user_name")}),o.jsx(lt,{variant:"outline",className:"mt-1",children:s("users.client")})]})]})}),o.jsxs(it,{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(l4,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:C.user_email})]}),C.client_contact&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(d2,{className:"h-4 w-4"}),o.jsx("span",{children:C.client_contact})]}),C.company_name&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(i4,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:C.company_name})]}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[s("users.joined")," ",new Date(C.created_at).toLocaleDateString()]})]})]},C.user_id))}),B.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Oa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:s("clients.noClientsFound")}),o.jsx("p",{className:"text-muted-foreground",children:s("clients.noClientsYet")})]})]})}),o.jsx(qr,{open:P,onOpenChange:U,children:o.jsxs(Fr,{className:"max-w-2xl max-h-[80vh]",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:s("users.userDetails")}),o.jsx(Kn,{children:s("users.userDetailsDescription")})]}),z&&o.jsx(Ja,{className:"max-h-[60vh] pr-4",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Ss,{className:"h-16 w-16",children:[o.jsx(js,{src:z.avatar||""}),o.jsx(ks,{className:"text-lg",children:ge(z,"user_name").charAt(0).toUpperCase()})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold",children:ge(z,"user_name")}),o.jsx(lt,{variant:ee(z.user_role),className:"mt-1",children:s(`users.${z.user_role}`)}),z.avatar&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 break-all",children:z.avatar})]})]}),I?o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[T&&o.jsx(Uu,{variant:"destructive",children:o.jsx(Wu,{children:T})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"editName",children:s("users.fullName")}),o.jsx(Qe,{id:"editName",value:F.user_name,onChange:C=>D(Ne=>({...Ne,user_name:C.target.value})),placeholder:s("users.fullName")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"editEmail",children:s("users.email")}),o.jsx(Qe,{id:"editEmail",type:"email",value:F.user_email,onChange:C=>D(Ne=>({...Ne,user_email:C.target.value})),placeholder:s("users.email")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"editRole",children:s("users.role")}),o.jsxs(mt,{value:F.user_role,onValueChange:C=>D(Ne=>({...Ne,user_role:C})),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"employee",children:s("users.employee")}),o.jsx(Ce,{value:"manager",children:s("users.manager")}),o.jsx(Ce,{value:"admin",children:s("users.admin")}),o.jsx(Ce,{value:"client",children:s("users.client")})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ue,{className:"text-sm font-medium",children:s("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(z.created_at).toLocaleDateString()})]}),z.updated_at&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ue,{className:"text-sm font-medium",children:s("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(z.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"editPhone",children:s("users.phone")}),o.jsx(Qe,{id:"editPhone",type:"tel",value:F.user_phone,onChange:C=>D(Ne=>({...Ne,user_phone:C.target.value})),placeholder:s("users.phone")})]}),z.client_contact&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ue,{className:"text-sm font-medium",children:s("users.contact")}),o.jsx("p",{className:"text-sm",children:z.client_contact})]}),z.company_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ue,{className:"text-sm font-medium",children:s("users.company")}),o.jsx("p",{className:"text-sm",children:ge(z,"company_name")})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsx(Ue,{className:"text-sm font-medium",children:s("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:z.user_id})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{type:"button",variant:"outline",onClick:()=>R(!1),children:s("buttons.cancel")}),o.jsx(ie,{type:"submit",disabled:V,children:s(V?"buttons.saving":"buttons.save")})]})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.fullName")}),o.jsx("p",{className:"text-sm",children:ge(z,"user_name")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.email")}),o.jsx("p",{className:"text-sm",children:z.user_email||s("common.na")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.role")}),o.jsx("p",{className:"text-sm",children:s(`users.${z.user_role}`)})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.joined")}),o.jsx("p",{className:"text-sm",children:new Date(z.created_at).toLocaleDateString()})]}),z.updated_at&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.updated")}),o.jsx("p",{className:"text-sm",children:new Date(z.updated_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-3",children:[z.user_phone&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.phone")}),o.jsx("p",{className:"text-sm",children:z.user_phone})]}),z.client_contact&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.contact")}),o.jsx("p",{className:"text-sm",children:z.client_contact})]}),z.company_name&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.company")}),o.jsx("p",{className:"text-sm",children:ge(z,"company_name")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.userId")}),o.jsx("p",{className:"text-sm font-mono text-xs",children:z.user_id})]})]})]}),z.auth_user_id&&o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium text-muted-foreground",children:s("users.authUserId")}),o.jsx("p",{className:"text-sm font-mono text-xs break-all",children:z.auth_user_id})]})]})}),o.jsxs(Gn,{children:[!I&&(e==null?void 0:e.role)==="admin"&&o.jsx(ie,{variant:"outline",onClick:()=>R(!0),children:s("buttons.edit")}),o.jsx(ie,{onClick:()=>U(!1),children:s("buttons.close")})]})]})})]})}function the(){const{user:e}=xr(),{t}=Ut(),{isRTL:r}=pl(),n=ss();console.log("Teams Page - isRTL:",r);const[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState({}),[d,f]=w.useState(!0),[h,m]=w.useState(""),[g,p]=w.useState(!1),[v,x]=w.useState(""),[b,y]=w.useState(""),[_,S]=w.useState(null),k=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager";(e==null?void 0:e.role)==="employee"||(e==null||e.role),w.useEffect(()=>{E(),N()},[]);const j=R=>{n("/chats",{state:{teamId:R}})},E=async()=>{try{f(!0);const R=await Md.getAll(),F=await Md.getAllTeamMembers();s(R),u(F)}catch(R){console.error("Failed to load teams:",R)}finally{f(!1)}},N=async()=>{try{const R=await Wn.getAll();l(R)}catch(R){console.error("Failed to load users:",R)}},A=async()=>{if(v.trim())try{const R=Ts({team_name:v.trim(),team_leader_id:b||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await Md.create(R),x(""),y(""),p(!1),await E()}catch(R){console.error("Failed to create team:",R)}},O=async(R,F)=>{try{await Md.addMember(R,F);const D=i.find(V=>V.auth_user_id===F);D&&u(V=>({...V,[R]:[...V[R]||[],D]}))}catch(D){console.error("Failed to add team member:",D)}},P=async(R,F)=>{try{await Md.removeMember(R,F),u(D=>({...D,[R]:(D[R]||[]).filter(V=>V.auth_user_id!==F)}))}catch(D){console.error("Failed to remove team member:",D)}},U=async R=>{try{await Md.delete(R),s(F=>F.filter(D=>D.team_id!==R)),u(F=>{const D={...F};return delete D[R],D}),S(null)}catch(F){console.error("Failed to delete team:",F)}},z=a.filter(R=>(ge(R,"team_name")||"").toLowerCase().includes(h.toLowerCase())),W=R=>i.find(F=>F.auth_user_id===R),I=i.filter(R=>R.user_role==="employee");return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",dir:r?"rtl":"ltr",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:t("teams.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:t("teams.subtitle")})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pa,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium",children:t("teams.memberCount_plural",{count:a.length})})]}),k&&o.jsxs(qr,{open:g,onOpenChange:p,children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),t("teams.createTeam")]})}),o.jsxs(Fr,{className:"sm:max-w-[425px]",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:t("teams.createTeamTitle")}),o.jsx(Kn,{children:t("teams.createTeamDesc")})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ue,{htmlFor:"team-name",className:"text-right rtl:text-left",children:t("teams.teamName")}),o.jsx(Qe,{id:"team-name",value:v,onChange:R=>x(R.target.value),className:"col-span-3",placeholder:t("teams.teamNamePlaceholder")})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(Ue,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:t("teams.teamLeader")}),o.jsxs(mt,{value:b,onValueChange:y,children:[o.jsx(ut,{className:"col-span-3",children:o.jsx(pt,{placeholder:t("teams.selectTeamLeader")})}),o.jsx(dt,{children:I.map(R=>o.jsx(Ce,{value:R.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:R.avatar||""}),o.jsx("span",{children:ge(R,"user_name")}),o.jsx(lt,{variant:"outline",className:"text-xs",children:R.user_role})]})},R.auth_user_id))})]})]})]}),o.jsx(Gn,{children:o.jsx(ie,{type:"submit",onClick:A,disabled:!v.trim(),children:t("teams.createTeam")})})]})]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:t("teams.searchPlaceholder"),value:h,onChange:R=>m(R.target.value),className:"pl-10"})]}),o.jsxs(Ja,{className:"flex-1",dir:r?"rtl":"ltr",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:z.map(R=>{const F=W(R.team_leader_id||""),D=c[R.team_id]||[];return o.jsxs(rt,{className:"hover:shadow-md transition-shadow",children:[o.jsxs(It,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Yt,{className:"text-lg",children:ge(R,"team_name")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>j(R.team_id),title:t("teams.chat","Chat"),children:o.jsx(kg,{className:"h-4 w-4"})}),o.jsx(lt,{variant:"outline",children:t("teams.memberCount_plural",{count:D.length})}),k&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:V=>{V.stopPropagation(),S(R.team_id)},children:o.jsx(br,{className:"h-3 w-3"})})}),o.jsxs(As,{onClick:V=>V.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:t("teams.deleteTeam")}),o.jsx(Rs,{children:t("teams.deleteConfirmation",{name:ge(R,"team_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:t("buttons.cancel")}),o.jsx(Is,{onClick:V=>{V.stopPropagation(),U(R.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:t("buttons.delete")})]})]})]})]})]}),F&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t("teams.teamLeader"),":"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:F.avatar||""}),o.jsx("span",{children:ge(F,"user_name")})]})]})]}),o.jsxs(it,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:t("teams.members")}),o.jsxs("div",{className:"space-y-2",children:[D.slice(0,4).map(V=>o.jsxs("div",{className:`flex items-center ${k?"justify-between":"gap-2"} bg-muted/50 p-2 rounded`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ss,{className:"h-6 w-6",children:[o.jsx(js,{src:V.avatar||""}),o.jsx(ks,{className:"text-xs",children:ge(V,"user_name").charAt(0).toUpperCase()})]}),o.jsx("span",{className:"text-sm",children:ge(V,"user_name")})]}),k&&o.jsx(ie,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>P(R.team_id,V.auth_user_id),children:o.jsx(ane,{className:"h-3 w-3"})})]},V.auth_user_id)),D.length>4&&o.jsx("div",{className:"text-xs text-muted-foreground text-center",children:t("teams.moreMembers",{count:D.length-4})}),D.length===0&&o.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:t("teams.noMembersYet")})]})]}),k&&o.jsx("div",{children:o.jsxs(mt,{onValueChange:V=>{V&&O(R.team_id,V)},children:[o.jsx(ut,{className:"w-full",children:o.jsx(pt,{placeholder:t("teams.addMember")})}),o.jsx(dt,{children:i.filter(V=>V.auth_user_id&&V.user_role==="employee"&&!D.some(J=>J.auth_user_id===V.auth_user_id)).map(V=>o.jsx(Ce,{value:V.auth_user_id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:V.avatar||""}),o.jsx("span",{children:ge(V,"user_name")}),o.jsx(lt,{variant:"outline",className:"text-xs",children:V.user_role})]})},V.auth_user_id))})]})}),o.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[t("teams.created")," ",R.created_at?new Date(R.created_at).toLocaleDateString():"N/A"]})]})]},R.team_id)})}),z.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Pa,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:t(h?"teams.noTeamsFound":"teams.noTeamsYet")}),o.jsx("p",{className:"text-muted-foreground mb-4",children:t(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&k&&o.jsxs(ie,{onClick:()=>p(!0),children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),t("teams.createFirstTeam")]})]})]})]})}function rhe({rooms:e,selectedRoom:t,onSelectRoom:r,currentUser:n,onNewChannel:a,onNewDM:s,className:i}){const{t:l}=Ut(),[c,u]=w.useState(""),d=e.filter(p=>{const v=p.is_private&&ge(p.other_user||{},"user_name")||p.room_name;return v==null?void 0:v.toLowerCase().includes(c.toLowerCase())}),f=d.filter(p=>!p.is_private&&!p.team_id),h=d.filter(p=>p.is_private),m=d.filter(p=>p.team_id),g=p=>{var S;const v=(t==null?void 0:t.room_id)===p.room_id,x=p.is_private,b=x&&ge(p.other_user||{},"user_name")||p.room_name,y=x?(S=p.other_user)==null?void 0:S.avatar:null,_=(b==null?void 0:b.charAt(0).toUpperCase())||"?";return o.jsxs("button",{onClick:()=>r(p),className:xe("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",v?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[o.jsxs("div",{className:"relative flex-shrink-0",children:[x?o.jsxs(Ss,{className:"h-6 w-6",children:[o.jsx(js,{src:y}),o.jsx(ks,{className:"text-[10px]",children:_})]}):p.team_id?o.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:o.jsx(Pa,{className:"h-3.5 w-3.5"})}):o.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:o.jsx(T8,{className:"h-3.5 w-3.5"})}),x&&o.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),o.jsx("span",{className:"truncate flex-1 text-left",children:b}),p.unreadCount&&p.unreadCount>0?o.jsx(lt,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:p.unreadCount}):null]},p.room_id)};return o.jsxs("div",{className:xe("flex flex-col h-screen bg-background border-r",i),children:[o.jsxs("div",{className:"p-3 border-b",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"font-semibold text-lg",children:l("chat.title","Messages")}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8",children:o.jsx(Bre,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(co,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Qe,{placeholder:l("common.search","Jump to..."),value:c,onChange:p=>u(p.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),o.jsxs(Ja,{className:"flex-1 px-2 py-3",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.channels","Channels")}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&o.jsx(ie,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:a,title:l("chat.createChannel","Create Channel"),children:o.jsx(ar,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[f.map(g),f.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noChannels","No channels")})]})]}),m.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.teams","Teams")})}),o.jsx("div",{className:"space-y-0.5",children:m.map(g)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[o.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l("chat.directMessages","Direct Messages")}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s,children:o.jsx(ar,{className:"h-3 w-3"})})]}),o.jsxs("div",{className:"space-y-0.5",children:[h.map(g),h.length===0&&o.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:l("chat.noMessages","No messages")})]})]})]})]})}function nhe({room:e,messages:t,currentUser:r,onSendMessage:n,onBack:a,loading:s,onLoadMore:i,hasMoreMessages:l,isLoadingMore:c,onEditMessage:u,onDeleteMessage:d,className:f}){var G;const{t:h}=Ut(),[m,g]=w.useState(""),p=w.useRef(null),[v,x]=w.useState(!1),[b,y]=w.useState(null),[_,S]=w.useState(""),[k,j]=w.useState(!1),E=w.useRef(null);w.useEffect(()=>{if(p.current&&!c){const M=p.current.querySelector("[data-radix-scroll-area-viewport]");M&&(M.scrollTop=M.scrollHeight)}},[t,c]);const N=M=>{const B=M.target;if(!B)return;const ae=B.scrollTop<100;x(ae),ae&&l&&i&&!c&&i()};w.useEffect(()=>{var B;const M=(B=p.current)==null?void 0:B.querySelector("[data-radix-scroll-area-viewport]");if(M)return M.addEventListener("scroll",N),()=>M.removeEventListener("scroll",N)},[l,c,i]);const A=M=>{y(M.message_id),S(M.content)},O=()=>{y(null),S("")},P=()=>{b&&_.trim()&&u&&(u(b,_),y(null),S(""))},U=()=>{m.trim()&&(n(m),g(""))},z=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),U())},W=async M=>{var ee;const B=(ee=M.target.files)==null?void 0:ee[0];if(!(!B||!n))try{j(!0);const ae=await messageService.uploadAttachment(B),re=B.type.startsWith("image/")?`![${B.name}](${ae})`:`[${B.name}](${ae})`;n(re)}catch(ae){console.error("Failed to upload file:",ae),alert(h("chat.uploadError","Failed to upload file"))}finally{j(!1),E.current&&(E.current.value="")}},I=()=>{var M;(M=E.current)==null||M.click()},R=M=>{const B=/!\[(.*?)\]\((.*?)\)/g,ee=/\[(.*?)\]\((.*?)\)/g,ae=B.exec(M);if(ae)return o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("img",{src:ae[2],alt:ae[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(ae[2],"_blank")}),M.replace(ae[0],"").trim()&&o.jsx("span",{children:M.replace(ae[0],"").trim()})]});const de=ee.exec(M);return de?o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("a",{href:de[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[o.jsx(c4,{className:"h-4 w-4"}),de[1]]}),M.replace(de[0],"").trim()&&o.jsx("span",{children:M.replace(de[0],"").trim()})]}):M};if(s)return o.jsx("div",{className:xe("flex items-center justify-center h-full bg-background",f),children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return o.jsxs("div",{className:xe("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",f),children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:o.jsx(kg,{className:"h-8 w-8"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",children:h("chat.welcome","Welcome to Chat")}),o.jsx("p",{className:"max-w-xs",children:h("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const F=e.is_private,D=F&&ge(e.other_user||{},"user_name")||e.room_name,V=F?(G=e.other_user)==null?void 0:G.avatar:null,J=(D==null?void 0:D.charAt(0).toUpperCase())||"?",T=t.reduce((M,B)=>{const ee=new Date(B.created_at).toLocaleDateString();return M[ee]||(M[ee]=[]),M[ee].push(B),M},{});return o.jsxs("div",{className:xe("flex flex-col h-full bg-background",f),children:[o.jsxs("div",{className:"h-16 border-b flex items-center justify-between px-4 flex-shrink-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a&&o.jsx(ie,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:a,children:o.jsx(E8,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[F?o.jsxs(Ss,{className:"h-9 w-9",children:[o.jsx(js,{src:V}),o.jsx(ks,{children:J})]}):o.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?o.jsx(Pa,{className:"h-5 w-5"}):o.jsx(T8,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[D,F&&o.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!F&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h("chat.membersCount",{count:3})," "]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(d2,{className:"h-5 w-5"})}),o.jsx(ie,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(ine,{className:"h-5 w-5"})}),o.jsx(ie,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:o.jsx(Hre,{className:"h-5 w-5"})})]})]}),o.jsx(Ja,{className:"flex-1 p-4",ref:p,children:o.jsxs("div",{className:"space-y-6 pb-4",children:[c&&o.jsx("div",{className:"flex justify-center py-4",children:o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!l&&t.length>10&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-xs text-muted-foreground",children:h("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(T).map(([M,B])=>o.jsxs("div",{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:M===new Date().toLocaleDateString()?h("common.today","Today"):M})})]}),o.jsx("div",{className:"space-y-4",children:B.map((ee,ae)=>{var C;const de=ee.auth_user_id===(r==null?void 0:r.id),re=ae===0||B[ae-1].auth_user_id!==ee.auth_user_id,H=ee.sender,ce=b===ee.message_id;return o.jsxs("div",{className:xe("flex gap-3 group",de?"flex-row-reverse":""),children:[re?o.jsxs(Ss,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[o.jsx(js,{src:H==null?void 0:H.avatar}),o.jsx(ks,{children:((C=H==null?void 0:H.user_name)==null?void 0:C.charAt(0))||"?"})]}):o.jsx("div",{className:"w-8 flex-shrink-0"}),o.jsxs("div",{className:xe("flex flex-col max-w-[75%]",de?"items-end":"items-start"),children:[re&&o.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[o.jsx("span",{className:"text-sm font-semibold",children:H==null?void 0:H.user_name}),o.jsx("span",{className:"text-[10px] text-muted-foreground",children:yi(new Date(ee.created_at),"h:mm a")})]}),o.jsx("div",{className:xe("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",de?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",ce?"w-full min-w-[200px]":""),children:ce?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("textarea",{value:_,onChange:Ne=>S(Ne.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(ie,{size:"sm",variant:"ghost",onClick:O,className:"h-6 px-2 text-xs",children:h("common.cancel","Cancel")}),o.jsx(ie,{size:"sm",variant:"secondary",onClick:P,className:"h-6 px-2 text-xs",children:h("common.save","Save")})]})]}):o.jsxs(o.Fragment,{children:[R(ee.content),de&&!ce&&o.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[o.jsxs(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>A(ee),children:[o.jsx("span",{className:"sr-only",children:"Edit"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[o.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),o.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),o.jsxs(ie,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>d&&d(ee.message_id),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:o.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},ee.message_id)})})]},M))]})}),o.jsxs("div",{className:"p-4 bg-background border-t",children:[o.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[o.jsx(ie,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:I,disabled:k,children:k?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):o.jsx(c4,{className:"h-5 w-5"})}),o.jsx("input",{type:"file",ref:E,className:"hidden",onChange:W,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),o.jsx("textarea",{value:m,onChange:M=>g(M.target.value),onKeyDown:z,placeholder:h("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:M=>{const B=M.target;B.style.height="auto",B.style.height=`${Math.min(B.scrollHeight,128)}px`}}),o.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[o.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:o.jsx(Zre,{className:"h-5 w-5"})}),o.jsx(ie,{size:"icon",className:xe("h-8 w-8 transition-all",m.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:U,disabled:!m.trim()&&!k,children:o.jsx(BE,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:o.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function ahe({open:e,onOpenChange:t,onSelectUser:r,currentUserId:n}){const{t:a}=Ut(),[s,i]=w.useState([]),[l,c]=w.useState(""),[u,d]=w.useState(!1);w.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{d(!0);const m=await Wn.getAll();i(m.filter(g=>g.auth_user_id!==n))}catch(m){console.error("Failed to load users:",m)}finally{d(!1)}},h=s.filter(m=>{var g,p;return((g=m.user_name)==null?void 0:g.toLowerCase().includes(l.toLowerCase()))||((p=m.user_email)==null?void 0:p.toLowerCase().includes(l.toLowerCase()))});return o.jsx(qr,{open:e,onOpenChange:t,children:o.jsxs(Fr,{className:"sm:max-w-[425px]",children:[o.jsx(Lr,{children:o.jsx($r,{children:a("chat.newDirectMessage","New Direct Message")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(co,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Qe,{placeholder:a("chat.searchUsers","Search users..."),value:l,onChange:m=>c(m.target.value),className:"pl-8"})]}),o.jsx(Ja,{className:"h-[300px]",children:u?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):h.length===0?o.jsx("div",{className:"text-center text-muted-foreground py-8",children:a("chat.noUsersFound","No users found")}):o.jsx("div",{className:"space-y-1",children:h.map(m=>{var g;return o.jsxs("button",{onClick:()=>{r(m),t(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[o.jsxs(Ss,{children:[o.jsx(js,{src:m.avatar}),o.jsx(ks,{children:((g=m.user_name)==null?void 0:g.charAt(0))||"?"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:m.user_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:m.user_email})]})]},m.user_id)})})})]})]})})}var Ww="Switch",[she,sWe]=pa(Ww),[ihe,ohe]=she(Ww),h7=w.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),g=Ot(t,y=>m(y)),p=w.useRef(!1),v=h?d||!!h.closest("form"):!0,[x,b]=il({prop:a,defaultProp:s??!1,onChange:u,caller:Ww});return o.jsxs(ihe,{scope:r,checked:x,disabled:l,children:[o.jsx(tt.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":v7(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ke(e.onClick,y=>{b(_=>!_),v&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),v&&o.jsx(g7,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});h7.displayName=Ww;var m7="SwitchThumb",p7=w.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=ohe(m7,r);return o.jsx(tt.span,{"data-state":v7(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});p7.displayName=m7;var lhe="SwitchBubbleInput",g7=w.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},s)=>{const i=w.useRef(null),l=Ot(i,s),c=nC(r),u=QE(t);return w.useEffect(()=>{const d=i.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});g7.displayName=lhe;function v7(e){return e?"checked":"unchecked"}var x7=h7,che=p7;const y7=w.forwardRef(({className:e,...t},r)=>o.jsx(x7,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(che,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));y7.displayName=x7.displayName;function uhe({open:e,onOpenChange:t,onCreate:r}){const{t:n}=Ut(),[a,s]=w.useState(""),[i,l]=w.useState(!1),[c,u]=w.useState(!1),d=async f=>{if(f.preventDefault(),!!a.trim())try{u(!0),await r(a,i),t(!1),s(""),l(!1)}catch(h){console.error("Failed to create channel:",h)}finally{u(!1)}};return o.jsx(qr,{open:e,onOpenChange:t,children:o.jsxs(Fr,{children:[o.jsx(Lr,{children:o.jsx($r,{children:n("chat.createRoomTitle","Create New Room")})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"name",children:n("chat.roomName","Room Name")}),o.jsx(Qe,{id:"name",value:a,onChange:f=>s(f.target.value),placeholder:n("chat.roomNamePlaceholder","Enter room name"),disabled:c})]}),o.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[o.jsxs(Ue,{htmlFor:"private",className:"flex flex-col space-y-1",children:[o.jsx("span",{children:n("chat.privateRoom","Private Room")}),o.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:n("chat.privateRoomDesc","Only invited members can view this room.")})]}),o.jsx(y7,{id:"private",checked:i,onCheckedChange:l,disabled:c})]}),o.jsxs(Gn,{children:[o.jsx(ie,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:n("common.cancel","Cancel")}),o.jsx(ie,{type:"submit",disabled:!a.trim()||c,children:c?n("common.creating","Creating..."):n("chat.createRoom","Create Room")})]})]})]})})}function dhe(){const{user:e}=xr(),{t}=Ut(),[r,n]=w.useState([]),[a,s]=w.useState(null),[i,l]=w.useState([]),[c,u]=w.useState(!0),[d,f]=w.useState(!1),[h,m]=w.useState(!0),[g,p]=w.useState(!0),[v,x]=w.useState(!1),[b,y]=w.useState([]),[_,S]=w.useState(!1),[k,j]=w.useState(!1),E=w.useRef(!1),N=w.useRef(null);w.useRef(null);const A=w.useRef(null);w.useEffect(()=>{const V=()=>{const J=window.innerWidth<768;f(J),J||m(!0)};return V(),window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[]),w.useEffect(()=>{e&&!E.current&&U()},[e]),w.useEffect(()=>{var J;const V=(J=window.history.state)==null?void 0:J.usr;if(V!=null&&V.teamId&&r.length>0){const T=r.find(G=>G.team_id===V.teamId);T&&s(T)}},[r]),w.useEffect(()=>{a&&(N.current!==a.room_id&&(p(!0),x(!1),z(a.room_id),e&&(Zs.markAsRead(a.room_id,e.id),n(V=>V.map(J=>J.room_id===a.room_id?{...J,unreadCount:0}:J)))),d&&m(!1))},[a,d,e]),w.useEffect(()=>{if(!e)return;A.current&&we.removeChannel(A.current);const V=we.channel(`room:${(a==null?void 0:a.room_id)||"global"}`);return A.current=V,V.on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async J=>{const T=J.new,G={...T};T.auth_user_id===e.id&&(G.sender=e.profile),(a==null?void 0:a.room_id)===T.room_id&&(l(M=>[...M,G]),document.visibilityState==="visible"&&await Zs.markAsRead(T.room_id,e.id)),n(M=>M.map(B=>B.room_id===T.room_id?{...B,lastMessage:T,unreadCount:(a==null?void 0:a.room_id)===T.room_id?0:(B.unreadCount||0)+1}:B))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},J=>{const T=J.new;l(G=>G.map(M=>M.message_id===T.message_id?{...M,...T,sender:M.sender}:M)),n(G=>G.map(M=>{var B;return((B=M.lastMessage)==null?void 0:B.message_id)===T.message_id?{...M,lastMessage:{...M.lastMessage,...T}}:M}))}).on("postgres_changes",{event:"DELETE",schema:"public",table:"messages"},J=>{const T=J.old.message_id;l(G=>G.filter(M=>M.message_id!==T)),n(G=>G.map(M=>{var B;return((B=M.lastMessage)==null?void 0:B.message_id)===T?{...M,lastMessage:void 0}:M}))}).on("broadcast",{event:"typing"},J=>{J.payload.roomId===(a==null?void 0:a.room_id)&&J.payload.userId!==e.id&&(y(T=>T.includes(J.payload.userName)?T:[...T,J.payload.userName]),setTimeout(()=>{y(T=>T.filter(G=>G!==J.payload.userName))},3e3))}).subscribe(async J=>{J==="SUBSCRIBED"&&await V.track({user_id:e.id,online_at:new Date().toISOString()})}),()=>{A.current&&we.removeChannel(A.current)}},[e,a]);const O=async(V,J)=>{try{await df.update(V,J)}catch(T){console.error("Failed to edit message:",T)}},P=async V=>{if(confirm(t("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await df.delete(V)}catch(J){console.error("Failed to delete message:",J)}},U=async()=>{try{u(!0);const V=await Zs.getUserRooms(e==null?void 0:e.id),J=await Promise.all(V.map(async T=>{if(T.is_private){const M=(await Zs.getRoomMembers(T.room_id)).find(B=>B.auth_user_id!==(e==null?void 0:e.id));return{...T,other_user:M}}return T}));n(J),E.current=!0}catch(V){console.error("Failed to load rooms:",V)}finally{u(!1)}},z=async(V,J=!1)=>{try{J&&x(!0);const T=10,G=J&&i.length>0?i[0].created_at:void 0,M=await df.getByRoom(V,{limit:T,before:G});J?(l(B=>[...M,...B]),p(M.length===T)):(l(M),p(M.length===T),N.current=V)}catch(T){console.error("Failed to load messages:",T)}finally{J&&x(!1)}},W=async()=>{!a||v||!g||await z(a.room_id,!0)},I=async V=>{if(!(!a||!e))try{await df.create({room_id:a.room_id,auth_user_id:e.id,content:V,metadata:{}}),A.current}catch(J){console.error("Failed to send message:",J)}},R=()=>{m(!0)},F=async(V,J)=>{if(e)try{const T=await Zs.createRoom({name:V,is_private:J,created_by:e.profile.user_id||0,auth_user_id:e.id});await Zs.addMember(T.room_id,e.id),await U();const G={...T};s(G)}catch(T){console.error("Failed to create channel:",T)}},D=async V=>{if(!e)return;const J=r.find(T=>{var G;return T.is_private&&((G=T.other_user)==null?void 0:G.auth_user_id)===V.auth_user_id});if(J){s(J);return}try{const T=await Zs.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,auth_user_id:e.id});await Zs.addMember(T.room_id,e.id),await Zs.addMember(T.room_id,V.auth_user_id),await U();const G={...T,other_user:V};s(G)}catch(T){console.error("Failed to create DM:",T)}};return o.jsxs("div",{className:"h-full flex overflow-hidden bg-background",children:[o.jsx("div",{className:xe("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r",h?"translate-x-0":"-translate-x-full md:translate-x-0",d&&!h&&"hidden"),children:o.jsx(rhe,{rooms:r,selectedRoom:a,onSelectRoom:s,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>j(!0)})}),o.jsx("div",{className:xe("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300",d&&h?"hidden":"flex"),children:o.jsx(nhe,{room:a,messages:i,currentUser:e,onSendMessage:I,onBack:R,loading:c,onLoadMore:W,hasMoreMessages:g,isLoadingMore:v,onEditMessage:O,onDeleteMessage:P})}),o.jsx(uhe,{open:_,onOpenChange:S,onCreate:F}),o.jsx(ahe,{open:k,onOpenChange:j,onSelectUser:D,currentUserId:e==null?void 0:e.id})]})}function fhe(){const{user:e}=xr(),{t}=Ut(),[r,n]=w.useState([]),[a,s]=w.useState(null),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState(""),[h,m]=w.useState(!0),[g,p]=w.useState(!1),[v,x]=w.useState(null),[b,y]=w.useState(null),[_,S]=w.useState(!1),[k,j]=w.useState(!0),E=w.useRef(!1),N=w.useRef(null),A=w.useRef(null);w.useEffect(()=>{e&&!E.current&&O()},[e]),w.useEffect(()=>{a&&(A.current!==a.room_id&&U(),N.current!==a.room_id&&P())},[a]),w.useEffect(()=>{a&&(async()=>{try{await we.realtime.setAuth(await La.getFreshJwt());const R=`room:${a.room_id}:messages`,F=we.channel(R,{config:{broadcast:{self:!0,ack:!0},private:!0}});return F.on("broadcast",{event:"*"},D=>{var J;const V=(J=D.payload)==null?void 0:J.record;V&&V.message_id&&l(T=>T.some(M=>M.message_id===V.message_id)?T:[...T.filter(M=>!(M.message_id.startsWith("temp-")&&M.auth_user_id===V.auth_user_id&&M.content===V.content)),V])}),await F.subscribe(),()=>{F.unsubscribe()}}catch(R){console.error("Failed to setup realtime:",R)}})()},[a]),w.useEffect(()=>{p(!1),x(null),y(null),E.current=!1,N.current=null,A.current=null},[e]);const O=async()=>{if(!E.current)try{m(!0);const I=await Zs.getUserRooms((e==null?void 0:e.id)||"");n(I),I.length>0&&s(I[0]),p(!0),E.current=!0}catch(I){console.error("Failed to load rooms:",I)}finally{m(!1)}},P=async()=>{if(!(!a||N.current===a.room_id))try{const I=await df.getByRoom(a.room_id);l(I),x(a.room_id),N.current=a.room_id}catch(I){console.error("Failed to load messages:",I)}},U=async()=>{if(!(!a||A.current===a.room_id))try{const I=await Zs.getRoomMembers(a.room_id);u(I),y(a.room_id),A.current=a.room_id}catch(I){console.error("Failed to load room members:",I)}},z=async()=>{if(!d.trim()||!a||!e)return;const I=d.trim(),R={message_id:`temp-${Date.now()}`,room_id:a.room_id,auth_user_id:e.id,content:I,created_at:new Date().toISOString(),metadata:null};l(F=>[...F,R]),f("");try{await df.create({room_id:a.room_id,auth_user_id:e.id,content:I,metadata:null})}catch(F){console.error("Failed to send message:",F),l(D=>D.filter(V=>V.message_id!==R.message_id)),f(I)}},W=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return h?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[o.jsxs("div",{className:`flex-col border rounded-lg ${k?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[o.jsx("div",{className:"p-4 border-b",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-xl font-semibold",children:t("chats.myChatRooms")})})}),o.jsx(Ja,{className:"flex-1 p-4",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(rt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>s(I),children:o.jsx(it,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Fv,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]}),a&&o.jsx("div",{className:"md:hidden mb-4",children:o.jsxs(ch,{open:_,onOpenChange:S,children:[o.jsx(kU,{asChild:!0,children:o.jsxs(ie,{variant:"outline",className:"w-full justify-between",children:[o.jsx("span",{className:"truncate",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsx(Fv,{className:"h-4 w-4 ml-2"})]})}),o.jsx(Ku,{side:"left",className:"w-80 p-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t("chats.myChatRooms")}),o.jsx(Ja,{className:"h-[60vh]",children:o.jsx("div",{className:"space-y-2",children:r.map(I=>o.jsx(rt,{className:`cursor-pointer transition-colors ${(a==null?void 0:a.room_id)===I.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{s(I),S(!1)},children:o.jsx(it,{className:"p-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Fv,{className:"h-5 w-5 text-muted-foreground"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium truncate",children:I.room_name||`Room ${I.room_id.slice(0,8)}`}),o.jsx("p",{className:"text-xs text-muted-foreground",children:I.is_private?t("chats.private"):t("chats.publicRoom")})]})]})})},I.room_id))})})]})})]})}),o.jsx("div",{className:"flex-1 flex flex-col",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:a.room_name||`Room ${a.room_id.slice(0,8)}`}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Pa,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.length," ",t("chats.members")]}),a.is_private&&o.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:t("chats.private")})]})]}),o.jsx(ie,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>j(!k),children:o.jsx(Qre,{className:"h-4 w-4"})})]}),o.jsx(Ja,{className:"flex-1 mb-4",children:o.jsx("div",{className:"space-y-4 p-4",children:b===a.room_id&&i.map(I=>{var F,D,V,J;let R;return I.auth_user_id===(e==null?void 0:e.id)?R={auth_user_id:e.id,user_name:((F=e.profile)==null?void 0:F.user_name)||e.email||t("chats.you"),avatar:(D=e.profile)==null?void 0:D.avatar,user_id:((V=e.profile)==null?void 0:V.user_id)||0,user_email:e.email}:R=c.find(T=>T.auth_user_id===I.auth_user_id),R||(R={auth_user_id:I.auth_user_id,user_name:t("chats.unknownUser"),avatar:"",user_id:0}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(Ss,{className:"h-8 w-8",children:[o.jsx(js,{src:R.avatar||""}),o.jsx(ks,{children:((J=R.user_name)==null?void 0:J.charAt(0))||"?"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-medium text-sm",children:R.user_name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:W(I.created_at)})]}),o.jsx("p",{className:"text-sm",children:I.content})]})]},I.message_id)})})}),o.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[o.jsx(Qe,{value:d,onChange:I=>f(I.target.value),placeholder:t("chats.typeMessage"),onKeyPress:I=>I.key==="Enter"&&z(),className:"flex-1"}),o.jsx(ie,{onClick:z,disabled:!d.trim(),children:o.jsx(BE,{className:"h-4 w-4"})})]})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(Fv,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:t("chats.selectRoom")})]})})})]})}function hhe(){const[e,t]=w.useState(null),[r,n]=w.useState([]),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState(!0),{user:d,signOut:f}=xr();w.useEffect(()=>{(async()=>{if(d!=null&&d.id)try{u(!0);const g=await zi.getByUserAuthId(d.id);n(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{u(!1)}})()},[d==null?void 0:d.id]),w.useEffect(()=>{(async()=>{if(e)try{const[g,p]=await Promise.all([ec.getAll(),E2.getByTask(0)]),v=g.filter(x=>!0);s(v),l(p)}catch(g){console.error("Failed to fetch project data:",g)}})()},[e]);const h=e?r.find(m=>m.project_id===e):null;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card",children:o.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),o.jsxs(ie,{variant:"ghost",size:"sm",children:[o.jsx(Kre,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",ge((d==null?void 0:d.profile)||{},"user_name"),"! "]}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),h?o.jsxs("div",{children:[o.jsx(ie,{variant:"ghost",className:"mb-4",onClick:()=>t(null),children:" Back to Projects"}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:h.project_name})}),o.jsxs(it,{children:[o.jsx("p",{className:"text-muted-foreground",children:h.project_description||"No description available"}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ol,{value:h.progress||0,className:"h-3"}),o.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[h.progress||0,"% Complete"]})]})]})]}),o.jsxs(Xu,{defaultValue:"tasks",children:[o.jsxs(_c,{children:[o.jsx($n,{value:"tasks",children:"Tasks"}),o.jsx($n,{value:"images",children:"Gallery"}),o.jsx($n,{value:"comments",children:"Comments"})]}),o.jsx(Bn,{value:"tasks",className:"space-y-3",children:a.filter(m=>m.stage_id!==null).map(m=>{var g;return o.jsx(rt,{children:o.jsx(it,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:m.task_name}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.description||"No description"})]}),o.jsxs(lt,{variant:m.task_status==="completed"?"default":"secondary",children:[m.task_status==="completed"?"":""," ",((g=m.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},m.task_id)})}),o.jsx(Bn,{value:"images",children:o.jsx(rt,{children:o.jsx(it,{className:"pt-6",children:o.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(m=>o.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-4xl",children:""})},m))})})})}),o.jsx(Bn,{value:"comments",children:o.jsx(rt,{children:o.jsxs(it,{className:"pt-6 space-y-4",children:[i.map(m=>o.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),o.jsx("p",{className:"text-sm mt-1",children:m.message||"No message"}),o.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:m.created_date?new Date(m.created_date).toLocaleString():"Unknown date"})]})]},m.comment_id)),o.jsxs("div",{className:"flex gap-2 mt-4",children:[o.jsx(Qe,{placeholder:"Add a comment..."}),o.jsx(ie,{children:o.jsx(kg,{className:"h-4 w-4"})})]})]})})})]})]}),o.jsx("div",{children:o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{className:"text-lg",children:"Timeline"})}),o.jsxs(it,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:h.created_date?new Date(h.created_date).toLocaleDateString():"N/A"})]}),h.end_date&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium",children:"End Date"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(h.end_date).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Project Kickoff"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-green-500",children:""}),o.jsx("span",{children:"Design Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-blue-500",children:""}),o.jsx("span",{children:"Development Phase"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):c?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),o.jsx("span",{className:"sr-only",children:"Loading projects..."})]}):r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(m=>o.jsxs(rt,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t(m.project_id),children:[o.jsxs(It,{children:[o.jsx(Yt,{className:"text-lg",children:m.project_name}),o.jsxs(lt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",m.stage||"N/A"]})]}),o.jsx(it,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Progress"}),o.jsxs("span",{className:"font-semibold",children:[m.progress||0,"%"]})]}),o.jsx(ol,{value:m.progress||0,className:"h-2"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",m.created_date?new Date(m.created_date).toLocaleDateString():"N/A"]}),o.jsx(ie,{className:"w-full",variant:"outline",children:"View Details "})]})})]},m.project_id))})]})]})}const mhe=()=>{const e=ss(),{t}=Ut(),r=[{icon:o.jsx(Nf,{className:"h-6 w-6"}),title:t("landing.features.projectManagement.title"),description:t("landing.features.projectManagement.description")},{icon:o.jsx(Pa,{className:"h-6 w-6"}),title:t("landing.features.leadManagement.title"),description:t("landing.features.leadManagement.description")},{icon:o.jsx(Ire,{className:"h-6 w-6"}),title:t("landing.features.analytics.title"),description:t("landing.features.analytics.description")},{icon:o.jsx(kg,{className:"h-6 w-6"}),title:t("landing.features.communication.title"),description:t("landing.features.communication.description")},{icon:o.jsx(Ep,{className:"h-6 w-6"}),title:t("landing.features.taskManagement.title"),description:t("landing.features.taskManagement.description")},{icon:o.jsx(P8,{className:"h-6 w-6"}),title:t("landing.features.security.title"),description:t("landing.features.security.description")}];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"M"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900",children:t("landing.brandName")})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(aB,{}),o.jsx(ie,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:t("buttons.login")})]})]})}),o.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsxs(lt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[o.jsx(D8,{className:"h-3 w-3 mr-1"}),t("landing.badge")]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[t("landing.hero.title.line1"),o.jsx("span",{className:"text-primary block",children:t("landing.hero.title.line2")})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:t("landing.hero.description")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[o.jsxs(ie,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.hero.cta.primary"),o.jsx(Pre,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(ie,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:t("landing.hero.cta.secondary")})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.users")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.usersLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.projects")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.projectsLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.uptime")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.uptimeLabel")})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:t("landing.stats.support")}),o.jsx("div",{className:"text-sm text-gray-600",children:t("landing.stats.supportLabel")})]})]})]})}),o.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:t("landing.features.title")}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t("landing.features.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:r.map((n,a)=>o.jsx(rt,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:o.jsxs(it,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:n.icon}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n.title})]}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]})},a))})]})}),o.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsx(rt,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl",children:o.jsxs(it,{className:"p-8 sm:p-12",children:[o.jsx(one,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),o.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:t("landing.cta.title")}),o.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:t("landing.cta.description")}),o.jsxs(ie,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[t("landing.cta.button"),o.jsx(xy,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})})})}),o.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"M"})}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[t("landing.brandName")," CRM"]})]}),o.jsx("p",{className:"text-sm text-gray-600",children:t("landing.footer.copyright",{brand:t("landing.brandName")})})]})})]})},phe=()=>{const[e,t]=w.useState("loading"),[r,n]=w.useState("Processing authentication..."),a=ss(),{user:s}=xr();return w.useEffect(()=>{let i;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),s){console.log("[AuthCallback] User already authenticated by auth context:",s.role),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{s.role==="client"?a("/client-portal"):s.role==="employee"||s.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let c=0;const u=20,d=async()=>{c++,console.log(`[AuthCallback] Checking session and profile (attempt ${c}/${u})`);try{const{data:{user:f},error:h}=await we.auth.getUser();if(h&&console.error("[AuthCallback] User error:",h),f){console.log("[AuthCallback] Found authenticated user:",f.id);const{data:p}=await we.from("users").select("user_id").eq("auth_user_id",f.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await La.getCurrentUser(f.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:m},error:g}=await we.auth.getSession();if(g&&console.error("[AuthCallback] Session error:",g),m!=null&&m.user){console.log("[AuthCallback] Found session user:",m.user.id);const{data:p}=await we.from("users").select("user_id").eq("auth_user_id",m.user.id).maybeSingle();if(p){console.log("[AuthCallback] User profile exists, fetching user data...");const v=await La.getCurrentUser(m.user.id);if(v){localStorage.removeItem("oauth_intended_role"),t("success"),n("Authentication successful! Redirecting..."),setTimeout(()=>{v.role==="client"?a("/client-portal"):v.role==="employee"||v.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}c<u?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),i=setTimeout(d,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),t("error"),n("Authentication session not established. Please try signing in again."),setTimeout(()=>a("/login"),3e3))}catch(f){console.error("[AuthCallback] Error checking session and profile:",f),c<u?i=setTimeout(d,1e3):(t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3))}};d()}catch(c){console.error("[AuthCallback] Error handling callback:",c),t("error"),n("Authentication failed. Please try again."),setTimeout(()=>a("/login"),3e3)}})(),()=>{i&&clearTimeout(i)}},[s,a]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),o.jsx("p",{className:"text-gray-600",children:r})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),o.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),o.jsx("p",{className:"text-gray-600",children:r})]})]})})};function ghe(){return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:"Partner Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Welcome to your partner portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner experience. Check back soon for updates and new features."})]})})]})}function vhe(){return o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Partner Employee Dashboard"}),o.jsx("p",{className:"text-muted-foreground mt-2 text-base",children:"Welcome to your partner employee portal"})]})}),o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:o.jsx("svg",{className:"w-12 h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),o.jsx("h2",{className:"text-2xl font-semibold",children:"Coming Soon"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"We're working hard to bring you an amazing partner employee experience. Check back soon for updates and new features."})]})})]})}const xhe=1,yhe=1e6;let q_=0;function whe(){return q_=(q_+1)%Number.MAX_SAFE_INTEGER,q_.toString()}const Y_=new Map,Z4=e=>{if(Y_.has(e))return;const t=setTimeout(()=>{Y_.delete(e),Tp({type:"REMOVE_TOAST",toastId:e})},yhe);Y_.set(e,t)},bhe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xhe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Z4(r):e.toasts.forEach(n=>{Z4(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Px=[];let Dx={toasts:[]};function Tp(e){Dx=bhe(Dx,e),Px.forEach(t=>{t(Dx)})}function _he({...e}){const t=whe(),r=a=>Tp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Tp({type:"DISMISS_TOAST",toastId:t});return Tp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function HC(){const[e,t]=w.useState(Dx);return w.useEffect(()=>(Px.push(t),()=>{const r=Px.indexOf(t);r>-1&&Px.splice(r,1)}),[e]),{...e,toast:_he,dismiss:r=>Tp({type:"DISMISS_TOAST",toastId:r})}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var w7=1252,She=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],GC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},KC=function(e){She.indexOf(e)!=-1&&(w7=GC[0]=e)};function jhe(){KC(1252)}var pi=function(e){KC(e)};function b7(){pi(1200),jhe()}function eD(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function khe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function _7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var op=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?khe(e.slice(2)):t==254&&r==255?_7(e.slice(2)):t==65279?e.slice(1):e},Hv=function(t){return String.fromCharCode(t)},tD=function(t){return String.fromCharCode(t)},$l,tc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rD(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),s=r>>2,n=e.charCodeAt(u++),i=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=tc.charAt(s)+tc.charAt(i)+tc.charAt(l)+tc.charAt(c);return t}function rs(e){var t="",r=0,n=0,a=0,s=0,i=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)s=tc.indexOf(e.charAt(u++)),i=tc.indexOf(e.charAt(u++)),r=s<<2|i>>4,t+=String.fromCharCode(r),l=tc.indexOf(e.charAt(u++)),n=(i&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=tc.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var Bt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Sc(e){return Bt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nD(e){return Bt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var fi=function(t){return Bt?hd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function md(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function qC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return qC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Bl=Bt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Nhe(e){for(var t=[],r=0,n=e.length+250,a=Sc(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var l=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|l>>6&15|(i&3)<<4,a[r++]=128|l&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Sc(65535),n=65530)}return t.push(a.slice(0,r)),Bl(t)}var da=/\u0000/g,lp=/[\u0001-\u0006]/g;function Of(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gi(e,t){var r=""+e;return r.length>=t?r:Pr("0",t-r.length)+r}function YC(e,t){var r=""+e;return r.length>=t?r:Pr(" ",t-r.length)+r}function Oy(e,t){var r=""+e;return r.length>=t?r:r+Pr(" ",t-r.length)}function Ehe(e,t){var r=""+Math.round(e);return r.length>=t?r:Pr("0",t-r.length)+r}function Che(e,t){var r=""+e;return r.length>=t?r:Pr("0",t-r.length)+r}var aD=Math.pow(2,32);function Ld(e,t){if(e>aD||e<-aD)return Ehe(e,t);var r=Math.round(e);return Che(r,t)}function Py(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var sD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],X_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function The(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ahe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Dy(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<t&&(f=Math.floor(a),l=f*i+s,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),s=i,i=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=s):(d=u,l=i)),!r)return[0,n*l,d];var h=Math.floor(n*l/d);return[h,n*l-h*d,d]}function hu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),i=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),r&&(s=Mhe(c,i))}return l.y=i[0],l.m=i[1],l.d=i[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=s,l}var S7=new Date(1899,11,31,0,0,0),Ohe=S7.getTime(),Phe=new Date(1900,2,1,0,0,0);function j7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Phe&&(r+=24*60*60*1e3),(r-(Ohe+(e.getTimezoneOffset()-S7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function XC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Dhe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Rhe(e){var t=e<0?12:11,r=XC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Ihe(e){var t=XC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function j0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Rhe(e):t===10?r=e.toFixed(10).substr(0,12):r=Ihe(e),XC(Dhe(r.toUpperCase()))}function Qu(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):j0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fs(14,j7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Mhe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Fhe(e,t,r,n){var a="",s=0,i=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return X_[r.m-1][1];case 5:return X_[r.m-1][0];default:return X_[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return sD[r.q][0];default:return sD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gi(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=gi(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?gi(c,u):"";return d}function rc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var k7=/%/g;function Lhe(e,t,r){var n=t.replace(k7,""),a=t.length-n.length;return Go(e,n,r*Math.pow(10,2*a))+Pr("%",a)}function $he(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function N7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+N7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var E7=/# (\?+)( ?)\/( ?)(\d+)/;function Bhe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,l=n;return r+(s===0?"":""+s)+" "+(i===0?Pr(" ",e[1].length+1+e[4].length):YC(i,e[1].length)+e[2]+"/"+e[3]+gi(l,e[4].length))}function Uhe(e,t,r){return r+(t===0?"":""+t)+Pr(" ",e[1].length+2+e[4].length)}var C7=/^#*0*\.([0#]+)/,T7=/\).*[0#]/,A7=/\(###\) ###\\?-####/;function ra(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function oD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function lD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Whe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function zhe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function fs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(T7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fs("n",n,r):"("+fs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return $he(e,t,r);if(t.indexOf("%")!==-1)return Lhe(e,t,r);if(t.indexOf("E")!==-1)return N7(t,r);if(t.charCodeAt(0)===36)return"$"+fs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Ld(c,t.length);if(t.match(/^[#?]+$/))return a=Ld(r,0),a==="0"&&(a=""),a.length>t.length?a:ra(t.substr(0,t.length-a.length))+a;if(s=t.match(E7))return Bhe(s,c,u);if(t.match(/^#+0+$/))return u+Ld(c,t.length-t.indexOf("0"));if(s=t.match(C7))return a=oD(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ra(s[1])).replace(/\.$/,"."+ra(s[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+Pr("0",ra(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+oD(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+rc(Ld(c,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fs(e,t,-r):rc(""+(Math.floor(r)+Whe(r,s[1].length)))+"."+gi(lD(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return fs(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Of(fs(e,t.replace(/[\\-]/g,""),r)),i=0,Of(Of(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(A7))return a=fs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Dy(c,Math.pow(10,i)-1,!1),a=""+u,d=Go("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Oy(l[2],i),d.length<s[4].length&&(d=ra(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Dy(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?YC(l[1],i)+s[2]+"/"+s[3]+Oy(l[2],i):Pr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Ld(r,0),t.length<=a.length?a:ra(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return ra(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=lD(r,s[1].length),r<0?"-"+fs(e,t,-r):rc(zhe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gi(0,3-g.length):"")+g})+"."+gi(i,s[1].length);switch(t){case"###,##0.00":return fs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=rc(Ld(c,0));return m!=="0"?u+m:"";case"###,###.00":return fs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Vhe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Go(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Hhe(e,t,r){var n=t.replace(k7,""),a=t.length-n.length;return Go(e,n,r*Math.pow(10,2*a))+Pr("%",a)}function O7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+O7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Mi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(T7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mi("n",n,r):"("+Mi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Vhe(e,t,r);if(t.indexOf("%")!==-1)return Hhe(e,t,r);if(t.indexOf("E")!==-1)return O7(t,r);if(t.charCodeAt(0)===36)return"$"+Mi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+gi(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ra(t.substr(0,t.length-a.length))+a;if(s=t.match(E7))return Uhe(s,c,u);if(t.match(/^#+0+$/))return u+gi(c,t.length-t.indexOf("0"));if(s=t.match(C7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ra(s[1])).replace(/\.$/,"."+ra(s[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+Pr("0",ra(s[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return u+rc(""+c);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mi(e,t,-r):rc(""+r)+"."+Pr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Mi(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Of(Mi(e,t.replace(/[\\-]/g,""),r)),i=0,Of(Of(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return i<a.length?a.charAt(i++):g==="0"?"0":""}));if(t.match(A7))return a=Mi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),l=Dy(c,Math.pow(10,i)-1,!1),a=""+u,d=Go("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=Oy(l[2],i),d.length<s[4].length&&(d=ra(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),l=Dy(c,Math.pow(10,i)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?YC(l[1],i)+s[2]+"/"+s[3]+Oy(l[2],i):Pr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ra(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return ra(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Mi(e,t,-r):rc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gi(0,3-g.length):"")+g})+"."+gi(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=rc(""+c);return m!=="0"?u+m:"";default:if(t.match(/\.[0#?]*$/))return Mi(e,t.slice(0,t.lastIndexOf(".")),r)+ra(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Go(e,t,r){return(r|0)===r?Mi(e,t,r):fs(e,t,r)}function Ghe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var P7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Py(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(P7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Khe(e,t,r,n){for(var a=[],s="",i=0,l="",c="t",u,d,f,h="H";i<e.length;)switch(l=e.charAt(i)){case"G":if(!Py(e,i))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var m=e.charAt(++i),g=m==="("||m===")"?m:"t";a[a.length]={t:g,v:m},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(u==null&&(u=hu(t,r,e.charAt(i+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},c=l,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=hu(t,r),u==null))return"";for(s=l;++i<e.length&&e.charAt(i).toLowerCase()===l;)s+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:s},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(u==null&&(u=hu(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",i+=5,h="h"):(p.t="t",++i),u==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(s=l;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(P7)){if(u==null&&(u=hu(t,r),u==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lm(e)||(a[a.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=l;++i<e.length&&(l=e.charAt(i))==="0";)s+=l;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++i<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(i))>-1;)s+=l;a[a.length]={t:"n",v:s};break;case"?":for(s=l;e.charAt(++i)===l;)s+=l;a[a.length]={t:l,v:s},c=l;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:l,v:l},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++i;break}var v=0,x=0,b;for(i=a.length-1,c="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,c="h",v<1&&(v=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[i].t;break;case"m":c==="s"&&(a[i].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[i].v.match(/[Hh]/)&&(v=1),v<2&&a[i].v.match(/[Mm]/)&&(v=2),v<3&&a[i].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Fhe(a[i].t.charCodeAt(0),a[i].v,u,x),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((l=a[_].t)==="?"||l==="D"||(l===" "||l==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=Qu(t,r);break}var S="",k,j;if(y.length>0){y.charCodeAt(0)==40?(k=t<0&&y.charCodeAt(0)===45?-t:t,j=Go("n",y,k)):(k=t<0&&n>1?-t:t,j=Go("n",y,k),k<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),_=j.length-1;var E=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){E=i;break}var N=a.length;if(E===a.length&&j.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=j.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=j.substr(0,_+1),_=-1),a[i].t="t",N=i);_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v)}else if(E!==a.length&&j.indexOf("E")===-1){for(_=j.indexOf(".")-1,i=E;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(S=j.charAt(_--)+S);a[i].v=S,a[i].t="t",N=i}for(_>=0&&N<a.length&&(a[N].v=j.substr(0,_+1)+a[N].v),_=j.indexOf(".")+1,i=E;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==E)){for(d=a[i].v.indexOf(".")>-1&&i===E?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,d);d<a[i].v.length;++d)_<j.length&&(S+=j.charAt(_++));a[i].v=S,a[i].t="t",N=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Go(a[i].t,a[i].v,k),a[i].t="t");var A="";for(i=0;i!==a.length;++i)a[i]!=null&&(A+=a[i].v);return A}var cD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function qhe(e,t){var r=Ghe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(cD),l=r[1].match(cD);return uD(t,i)?[n,r[0]]:uD(t,l)?[n,r[1]]:[n,r[i!=null&&l!=null?2:1]]}return[n,s]}function Fs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tt)[e],n==null&&(n=r.table&&r.table[iD[e]]||Tt[iD[e]]),n==null&&(n=Ahe[e]||"General");break}if(Py(n,0))return Qu(t,r);t instanceof Date&&(t=j7(t,r.date1904));var a=qhe(n,t);if(Py(a[1]))return Qu(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Khe(a[1],t,r,a[0])}function Tu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Tt[r]==null){t<0&&(t=r);continue}if(Tt[r]==e){t=r;break}}t<0&&(t=391)}return Tt[t]=e,t}function D7(){Tt=The()}var Yhe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},R7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Xhe(e){var t=typeof e=="number"?Tt[e]:e;return t=t.replace(R7,"(\\d+)"),new RegExp("^"+t+"$")}function Qhe(e,t,r){var n=-1,a=-1,s=-1,i=-1,l=-1,c=-1;(t.match(R7)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":i=m;break;case"s":c=m;break;case"m":i>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return i==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&s==-1?d:u+"T"+d}var Jhe=function(){var e={};e.version="1.2.0";function t(){for(var j=0,E=new Array(256),N=0;N!=256;++N)j=N,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,E[N]=j;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function n(j){var E=0,N=0,A=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)O[A]=j[A];for(A=0;A!=256;++A)for(N=j[A],E=256+A;E<4096;E+=256)N=O[E]=N>>>8^j[N&255];var P=[];for(A=1;A!=16;++A)P[A-1]=typeof Int32Array<"u"?O.subarray(A*256,A*256+256):O.slice(A*256,A*256+256);return P}var a=n(r),s=a[0],i=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],h=a[7],m=a[8],g=a[9],p=a[10],v=a[11],x=a[12],b=a[13],y=a[14];function _(j,E){for(var N=E^-1,A=0,O=j.length;A<O;)N=N>>>8^r[(N^j.charCodeAt(A++))&255];return~N}function S(j,E){for(var N=E^-1,A=j.length-15,O=0;O<A;)N=y[j[O++]^N&255]^b[j[O++]^N>>8&255]^x[j[O++]^N>>16&255]^v[j[O++]^N>>>24]^p[j[O++]]^g[j[O++]]^m[j[O++]]^h[j[O++]]^f[j[O++]]^d[j[O++]]^u[j[O++]]^c[j[O++]]^l[j[O++]]^i[j[O++]]^s[j[O++]]^r[j[O++]];for(A+=15;O<A;)N=N>>>8^r[(N^j[O++])&255];return~N}function k(j,E){for(var N=E^-1,A=0,O=j.length,P=0,U=0;A<O;)P=j.charCodeAt(A++),P<128?N=N>>>8^r[(N^P)&255]:P<2048?(N=N>>>8^r[(N^(192|P>>6&31))&255],N=N>>>8^r[(N^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,U=j.charCodeAt(A++)&1023,N=N>>>8^r[(N^(240|P>>8&7))&255],N=N>>>8^r[(N^(128|P>>2&63))&255],N=N>>>8^r[(N^(128|U>>6&15|(P&3)<<4))&255],N=N>>>8^r[(N^(128|U&63))&255]):(N=N>>>8^r[(N^(224|P>>12&15))&255],N=N>>>8^r[(N^(128|P>>6&63))&255],N=N>>>8^r[(N^(128|P&63))&255]);return~N}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Wt=function(){var t={};t.version="1.2.1";function r(L,X){for(var K=L.split("/"),Y=X.split("/"),Q=0,Z=0,oe=Math.min(K.length,Y.length);Q<oe;++Q){if(Z=K[Q].length-Y[Q].length)return Z;if(K[Q]!=Y[Q])return K[Q]<Y[Q]?-1:1}return K.length-Y.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var X=L.lastIndexOf("/");return X===-1?L:L.slice(0,X+1)}function a(L){if(L.charAt(L.length-1)=="/")return a(L.slice(0,-1));var X=L.lastIndexOf("/");return X===-1?L:L.slice(X+1)}function s(L,X){typeof X=="string"&&(X=new Date(X));var K=X.getHours();K=K<<6|X.getMinutes(),K=K<<5|X.getSeconds()>>>1,L.write_shift(2,K);var Y=X.getFullYear()-1980;Y=Y<<4|X.getMonth()+1,Y=Y<<5|X.getDate(),L.write_shift(2,Y)}function i(L){var X=L.read_shift(2)&65535,K=L.read_shift(2)&65535,Y=new Date,Q=K&31;K>>>=5;var Z=K&15;K>>>=4,Y.setMilliseconds(0),Y.setFullYear(K+1980),Y.setMonth(Z-1),Y.setDate(Q);var oe=X&31;X>>>=5;var ye=X&63;return X>>>=6,Y.setHours(X),Y.setMinutes(ye),Y.setSeconds(oe<<1),Y}function l(L){bn(L,0);for(var X={},K=0;L.l<=L.length-4;){var Y=L.read_shift(2),Q=L.read_shift(2),Z=L.l+Q,oe={};switch(Y){case 21589:K=L.read_shift(1),K&1&&(oe.mtime=L.read_shift(4)),Q>5&&(K&2&&(oe.atime=L.read_shift(4)),K&4&&(oe.ctime=L.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}L.l=Z,X[Y]=oe}return X}var c;function u(){return c||(c={})}function d(L,X){if(L[0]==80&&L[1]==75)return vo(L,X);if((L[0]|32)==109&&(L[1]|32)==105)return Rt(L,X);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var K=3,Y=512,Q=0,Z=0,oe=0,ye=0,he=0,fe=[],ve=L.slice(0,512);bn(ve,0);var Pe=f(ve);switch(K=Pe[0],K){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Pe[1]==0)return vo(L,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}Y!==512&&(ve=L.slice(0,Y),bn(ve,28));var Oe=L.slice(0,Y);h(ve,K);var Ye=ve.read_shift(4,"i");if(K===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);ve.l+=4,oe=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),ye=ve.read_shift(4,"i"),Q=ve.read_shift(4,"i"),he=ve.read_shift(4,"i"),Z=ve.read_shift(4,"i");for(var Be=-1,Ge=0;Ge<109&&(Be=ve.read_shift(4,"i"),!(Be<0));++Ge)fe[Ge]=Be;var bt=m(L,Y);v(he,Z,bt,Y,fe);var nr=b(bt,oe,fe,Y);nr[oe].name="!Directory",Q>0&&ye!==U&&(nr[ye].name="!MiniFAT"),nr[fe[0]].name="!FAT",nr.fat_addrs=fe,nr.ssz=Y;var tr={},cn=[],Uc=[],_l=[];y(oe,nr,bt,cn,Q,tr,Uc,ye),g(Uc,_l,cn),cn.shift();var Sl={FileIndex:Uc,FullPaths:_l};return X&&X.raw&&(Sl.raw={header:Oe,sectors:bt}),Sl}function f(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(z,"Header Signature: "),L.l+=16;var X=L.read_shift(2,"u");return[L.read_shift(2,"u"),X]}function h(L,X){var K=9;switch(L.l+=2,K=L.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function m(L,X){for(var K=Math.ceil(L.length/X)-1,Y=[],Q=1;Q<K;++Q)Y[Q-1]=L.slice(Q*X,(Q+1)*X);return Y[K-1]=L.slice(K*X),Y}function g(L,X,K){for(var Y=0,Q=0,Z=0,oe=0,ye=0,he=K.length,fe=[],ve=[];Y<he;++Y)fe[Y]=ve[Y]=Y,X[Y]=K[Y];for(;ye<ve.length;++ye)Y=ve[ye],Q=L[Y].L,Z=L[Y].R,oe=L[Y].C,fe[Y]===Y&&(Q!==-1&&fe[Q]!==Q&&(fe[Y]=fe[Q]),Z!==-1&&fe[Z]!==Z&&(fe[Y]=fe[Z])),oe!==-1&&(fe[oe]=Y),Q!==-1&&Y!=fe[Y]&&(fe[Q]=fe[Y],ve.lastIndexOf(Q)<ye&&ve.push(Q)),Z!==-1&&Y!=fe[Y]&&(fe[Z]=fe[Y],ve.lastIndexOf(Z)<ye&&ve.push(Z));for(Y=1;Y<he;++Y)fe[Y]===Y&&(Z!==-1&&fe[Z]!==Z?fe[Y]=fe[Z]:Q!==-1&&fe[Q]!==Q&&(fe[Y]=fe[Q]));for(Y=1;Y<he;++Y)if(L[Y].type!==0){if(ye=Y,ye!=fe[ye])do ye=fe[ye],X[Y]=X[ye]+"/"+X[Y];while(ye!==0&&fe[ye]!==-1&&ye!=fe[ye]);fe[Y]=-1}for(X[0]+="/",Y=1;Y<he;++Y)L[Y].type!==2&&(X[Y]+="/")}function p(L,X,K){for(var Y=L.start,Q=L.size,Z=[],oe=Y;K&&Q>0&&oe>=0;)Z.push(X.slice(oe*P,oe*P+P)),Q-=P,oe=su(K,oe*4);return Z.length===0?en(0):Bl(Z).slice(0,L.size)}function v(L,X,K,Y,Q){var Z=U;if(L===U){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var oe=K[L],ye=(Y>>>2)-1;if(!oe)return;for(var he=0;he<ye&&(Z=su(oe,he*4))!==U;++he)Q.push(Z);v(su(oe,Y-4),X-1,K,Y,Q)}}function x(L,X,K,Y,Q){var Z=[],oe=[];Q||(Q=[]);var ye=Y-1,he=0,fe=0;for(he=X;he>=0;){Q[he]=!0,Z[Z.length]=he,oe.push(L[he]);var ve=K[Math.floor(he*4/Y)];if(fe=he*4&ye,Y<4+fe)throw new Error("FAT boundary crossed: "+he+" 4 "+Y);if(!L[ve])break;he=su(L[ve],fe)}return{nodes:Z,data:wD([oe])}}function b(L,X,K,Y){var Q=L.length,Z=[],oe=[],ye=[],he=[],fe=Y-1,ve=0,Pe=0,Oe=0,Ye=0;for(ve=0;ve<Q;++ve)if(ye=[],Oe=ve+X,Oe>=Q&&(Oe-=Q),!oe[Oe]){he=[];var Be=[];for(Pe=Oe;Pe>=0;){Be[Pe]=!0,oe[Pe]=!0,ye[ye.length]=Pe,he.push(L[Pe]);var Ge=K[Math.floor(Pe*4/Y)];if(Ye=Pe*4&fe,Y<4+Ye)throw new Error("FAT boundary crossed: "+Pe+" 4 "+Y);if(!L[Ge]||(Pe=su(L[Ge],Ye),Be[Pe]))break}Z[Oe]={nodes:ye,data:wD([he])}}return Z}function y(L,X,K,Y,Q,Z,oe,ye){for(var he=0,fe=Y.length?2:0,ve=X[L].data,Pe=0,Oe=0,Ye;Pe<ve.length;Pe+=128){var Be=ve.slice(Pe,Pe+128);bn(Be,64),Oe=Be.read_shift(2),Ye=tT(Be,0,Oe-fe),Y.push(Ye);var Ge={name:Ye,type:Be.read_shift(1),color:Be.read_shift(1),L:Be.read_shift(4,"i"),R:Be.read_shift(4,"i"),C:Be.read_shift(4,"i"),clsid:Be.read_shift(16),state:Be.read_shift(4,"i"),start:0,size:0},bt=Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2);bt!==0&&(Ge.ct=_(Be,Be.l-8));var nr=Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2)+Be.read_shift(2);nr!==0&&(Ge.mt=_(Be,Be.l-8)),Ge.start=Be.read_shift(4,"i"),Ge.size=Be.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=U,Ge.name=""),Ge.type===5?(he=Ge.start,Q>0&&he!==U&&(X[he].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",X[Ge.start]===void 0&&(X[Ge.start]=x(K,Ge.start,X.fat_addrs,X.ssz)),X[Ge.start].name=Ge.name,Ge.content=X[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:he!==U&&Ge.start!==U&&X[he]&&(Ge.content=p(Ge,X[he].data,(X[ye]||{}).data))),Ge.content&&bn(Ge.content,0),Z[Ye]=Ge,oe.push(Ge)}}function _(L,X){return new Date((za(L,X+4)/1e7*Math.pow(2,32)+za(L,X)/1e7-11644473600)*1e3)}function S(L,X){return u(),d(c.readFileSync(L),X)}function k(L,X){var K=X&&X.type;switch(K||Bt&&Buffer.isBuffer(L)&&(K="buffer"),K||"base64"){case"file":return S(L,X);case"base64":return d(fi(rs(L)),X);case"binary":return d(fi(L),X)}return d(L,X)}function j(L,X){var K=X||{},Y=K.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=Y+"/",L.FileIndex[0]={name:Y,type:5}),K.CLSID&&(L.FileIndex[0].clsid=K.CLSID),E(L)}function E(L){var X="Sh33tJ5";if(!Wt.find(L,"/"+X)){var K=en(4);K[0]=55,K[1]=K[3]=50,K[2]=54,L.FileIndex.push({name:X,type:2,content:K,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+X),N(L)}}function N(L,X){j(L);for(var K=!1,Y=!1,Q=L.FullPaths.length-1;Q>=0;--Q){var Z=L.FileIndex[Q];switch(Z.type){case 0:Y?K=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(Z.R*Z.L*Z.C)&&(K=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!X)){var oe=new Date(1987,1,19),ye=0,he=Object.create?Object.create(null):{},fe=[];for(Q=0;Q<L.FullPaths.length;++Q)he[L.FullPaths[Q]]=!0,L.FileIndex[Q].type!==0&&fe.push([L.FullPaths[Q],L.FileIndex[Q]]);for(Q=0;Q<fe.length;++Q){var ve=n(fe[Q][0]);Y=he[ve],Y||(fe.push([ve,{name:a(ve).replace("/",""),type:1,clsid:I,ct:oe,mt:oe,content:null}]),he[ve]=!0)}for(fe.sort(function(Ye,Be){return r(Ye[0],Be[0])}),L.FullPaths=[],L.FileIndex=[],Q=0;Q<fe.length;++Q)L.FullPaths[Q]=fe[Q][0],L.FileIndex[Q]=fe[Q][1];for(Q=0;Q<fe.length;++Q){var Pe=L.FileIndex[Q],Oe=L.FullPaths[Q];if(Pe.name=a(Oe).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||I,Q===0)Pe.C=fe.length>1?1:-1,Pe.size=0,Pe.type=5;else if(Oe.slice(-1)=="/"){for(ye=Q+1;ye<fe.length&&n(L.FullPaths[ye])!=Oe;++ye);for(Pe.C=ye>=fe.length?-1:ye,ye=Q+1;ye<fe.length&&n(L.FullPaths[ye])!=n(Oe);++ye);Pe.R=ye>=fe.length?-1:ye,Pe.type=1}else n(L.FullPaths[Q+1]||"")==n(Oe)&&(Pe.R=Q+1),Pe.type=2}}}function A(L,X){var K=X||{};if(K.fileType=="mad")return yr(L,K);switch(N(L),K.fileType){case"zip":return xo(L,K)}var Y=function(Ye){for(var Be=0,Ge=0,bt=0;bt<Ye.FileIndex.length;++bt){var nr=Ye.FileIndex[bt];if(nr.content){var tr=nr.content.length;tr>0&&(tr<4096?Be+=tr+63>>6:Ge+=tr+511>>9)}}for(var cn=Ye.FullPaths.length+3>>2,Uc=Be+7>>3,_l=Be+127>>7,Sl=Uc+Ge+cn+_l,Di=Sl+127>>7,km=Di<=109?0:Math.ceil((Di-109)/127);Sl+Di+km+127>>7>Di;)km=++Di<=109?0:Math.ceil((Di-109)/127);var Hs=[1,km,Di,_l,cn,Ge,Be,0];return Ye.FileIndex[0].size=Be<<6,Hs[7]=(Ye.FileIndex[0].start=Hs[0]+Hs[1]+Hs[2]+Hs[3]+Hs[4]+Hs[5])+(Hs[6]+7>>3),Hs}(L),Q=en(Y[7]<<9),Z=0,oe=0;{for(Z=0;Z<8;++Z)Q.write_shift(1,W[Z]);for(Z=0;Z<8;++Z)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),Z=0;Z<3;++Z)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,Y[2]),Q.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:U),Q.write_shift(4,Y[3]),Q.write_shift(-4,Y[1]?Y[0]-1:U),Q.write_shift(4,Y[1]),Z=0;Z<109;++Z)Q.write_shift(-4,Z<Y[2]?Y[1]+Z:-1)}if(Y[1])for(oe=0;oe<Y[1];++oe){for(;Z<236+oe*127;++Z)Q.write_shift(-4,Z<Y[2]?Y[1]+Z:-1);Q.write_shift(-4,oe===Y[1]-1?U:oe+1)}var ye=function(Ye){for(oe+=Ye;Z<oe-1;++Z)Q.write_shift(-4,Z+1);Ye&&(++Z,Q.write_shift(-4,U))};for(oe=Z=0,oe+=Y[1];Z<oe;++Z)Q.write_shift(-4,R.DIFSECT);for(oe+=Y[2];Z<oe;++Z)Q.write_shift(-4,R.FATSECT);ye(Y[3]),ye(Y[4]);for(var he=0,fe=0,ve=L.FileIndex[0];he<L.FileIndex.length;++he)ve=L.FileIndex[he],ve.content&&(fe=ve.content.length,!(fe<4096)&&(ve.start=oe,ye(fe+511>>9)));for(ye(Y[6]+7>>3);Q.l&511;)Q.write_shift(-4,R.ENDOFCHAIN);for(oe=Z=0,he=0;he<L.FileIndex.length;++he)ve=L.FileIndex[he],ve.content&&(fe=ve.content.length,!(!fe||fe>=4096)&&(ve.start=oe,ye(fe+63>>6)));for(;Q.l&511;)Q.write_shift(-4,R.ENDOFCHAIN);for(Z=0;Z<Y[4]<<2;++Z){var Pe=L.FullPaths[Z];if(!Pe||Pe.length===0){for(he=0;he<17;++he)Q.write_shift(4,0);for(he=0;he<3;++he)Q.write_shift(4,-1);for(he=0;he<12;++he)Q.write_shift(4,0);continue}ve=L.FileIndex[Z],Z===0&&(ve.start=ve.size?ve.start-1:U);var Oe=Z===0&&K.root||ve.name;if(fe=2*(Oe.length+1),Q.write_shift(64,Oe,"utf16le"),Q.write_shift(2,fe),Q.write_shift(1,ve.type),Q.write_shift(1,ve.color),Q.write_shift(-4,ve.L),Q.write_shift(-4,ve.R),Q.write_shift(-4,ve.C),ve.clsid)Q.write_shift(16,ve.clsid,"hex");else for(he=0;he<4;++he)Q.write_shift(4,0);Q.write_shift(4,ve.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,ve.start),Q.write_shift(4,ve.size),Q.write_shift(4,0)}for(Z=1;Z<L.FileIndex.length;++Z)if(ve=L.FileIndex[Z],ve.size>=4096)if(Q.l=ve.start+1<<9,Bt&&Buffer.isBuffer(ve.content))ve.content.copy(Q,Q.l,0,ve.size),Q.l+=ve.size+511&-512;else{for(he=0;he<ve.size;++he)Q.write_shift(1,ve.content[he]);for(;he&511;++he)Q.write_shift(1,0)}for(Z=1;Z<L.FileIndex.length;++Z)if(ve=L.FileIndex[Z],ve.size>0&&ve.size<4096)if(Bt&&Buffer.isBuffer(ve.content))ve.content.copy(Q,Q.l,0,ve.size),Q.l+=ve.size+63&-64;else{for(he=0;he<ve.size;++he)Q.write_shift(1,ve.content[he]);for(;he&63;++he)Q.write_shift(1,0)}if(Bt)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function O(L,X){var K=L.FullPaths.map(function(he){return he.toUpperCase()}),Y=K.map(function(he){var fe=he.split("/");return fe[fe.length-(he.slice(-1)=="/"?2:1)]}),Q=!1;X.charCodeAt(0)===47?(Q=!0,X=K[0].slice(0,-1)+X):Q=X.indexOf("/")!==-1;var Z=X.toUpperCase(),oe=Q===!0?K.indexOf(Z):Y.indexOf(Z);if(oe!==-1)return L.FileIndex[oe];var ye=!Z.match(lp);for(Z=Z.replace(da,""),ye&&(Z=Z.replace(lp,"!")),oe=0;oe<K.length;++oe)if((ye?K[oe].replace(lp,"!"):K[oe]).replace(da,"")==Z||(ye?Y[oe].replace(lp,"!"):Y[oe]).replace(da,"")==Z)return L.FileIndex[oe];return null}var P=64,U=-2,z="d0cf11e0a1b11ae1",W=[208,207,17,224,161,177,26,225],I="00000000000000000000000000000000",R={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:I,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function F(L,X,K){u();var Y=A(L,K);c.writeFileSync(X,Y)}function D(L){for(var X=new Array(L.length),K=0;K<L.length;++K)X[K]=String.fromCharCode(L[K]);return X.join("")}function V(L,X){var K=A(L,X);switch(X&&X.type||"buffer"){case"file":return u(),c.writeFileSync(X.filename,K),K;case"binary":return typeof K=="string"?K:D(K);case"base64":return rD(typeof K=="string"?K:D(K));case"buffer":if(Bt)return Buffer.isBuffer(K)?K:hd(K);case"array":return typeof K=="string"?fi(K):K}return K}var J;function T(L){try{var X=L.InflateRaw,K=new X;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)J=L;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function G(L,X){if(!J)return bl(L,X);var K=J.InflateRaw,Y=new K,Q=Y._processChunk(L.slice(L.l),Y._finishFlushFlag);return L.l+=Y.bytesRead,Q}function M(L){return J?J.deflateRawSync(L):Se(L)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(L){var X=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(X>>16|X>>8|X)&255}for(var re=typeof Uint8Array<"u",H=re?new Uint8Array(256):[],ce=0;ce<256;++ce)H[ce]=de(ce);function C(L,X){var K=H[L&255];return X<=8?K>>>8-X:(K=K<<8|H[L>>8&255],X<=16?K>>>16-X:(K=K<<8|H[L>>16&255],K>>>24-X))}function Ne(L,X){var K=X&7,Y=X>>>3;return(L[Y]|(K<=6?0:L[Y+1]<<8))>>>K&3}function Te(L,X){var K=X&7,Y=X>>>3;return(L[Y]|(K<=5?0:L[Y+1]<<8))>>>K&7}function Le(L,X){var K=X&7,Y=X>>>3;return(L[Y]|(K<=4?0:L[Y+1]<<8))>>>K&15}function Ie(L,X){var K=X&7,Y=X>>>3;return(L[Y]|(K<=3?0:L[Y+1]<<8))>>>K&31}function Ee(L,X){var K=X&7,Y=X>>>3;return(L[Y]|(K<=1?0:L[Y+1]<<8))>>>K&127}function ot(L,X,K){var Y=X&7,Q=X>>>3,Z=(1<<K)-1,oe=L[Q]>>>Y;return K<8-Y||(oe|=L[Q+1]<<8-Y,K<16-Y)||(oe|=L[Q+2]<<16-Y,K<24-Y)||(oe|=L[Q+3]<<24-Y),oe&Z}function St(L,X,K){var Y=X&7,Q=X>>>3;return Y<=5?L[Q]|=(K&7)<<Y:(L[Q]|=K<<Y&255,L[Q+1]=(K&7)>>8-Y),X+3}function Pt(L,X,K){var Y=X&7,Q=X>>>3;return K=(K&1)<<Y,L[Q]|=K,X+1}function Ft(L,X,K){var Y=X&7,Q=X>>>3;return K<<=Y,L[Q]|=K&255,K>>>=8,L[Q+1]=K,X+8}function ue(L,X,K){var Y=X&7,Q=X>>>3;return K<<=Y,L[Q]|=K&255,K>>>=8,L[Q+1]=K&255,L[Q+2]=K>>>8,X+16}function Re(L,X){var K=L.length,Y=2*K>X?2*K:X+5,Q=0;if(K>=X)return L;if(Bt){var Z=nD(Y);if(L.copy)L.copy(Z);else for(;Q<L.length;++Q)Z[Q]=L[Q];return Z}else if(re){var oe=new Uint8Array(Y);if(oe.set)oe.set(L);else for(;Q<K;++Q)oe[Q]=L[Q];return oe}return L.length=Y,L}function He(L){for(var X=new Array(L),K=0;K<L;++K)X[K]=0;return X}function ze(L,X,K){var Y=1,Q=0,Z=0,oe=0,ye=0,he=L.length,fe=re?new Uint16Array(32):He(32);for(Z=0;Z<32;++Z)fe[Z]=0;for(Z=he;Z<K;++Z)L[Z]=0;he=L.length;var ve=re?new Uint16Array(he):He(he);for(Z=0;Z<he;++Z)fe[Q=L[Z]]++,Y<Q&&(Y=Q),ve[Z]=0;for(fe[0]=0,Z=1;Z<=Y;++Z)fe[Z+16]=ye=ye+fe[Z-1]<<1;for(Z=0;Z<he;++Z)ye=L[Z],ye!=0&&(ve[Z]=fe[ye+16]++);var Pe=0;for(Z=0;Z<he;++Z)if(Pe=L[Z],Pe!=0)for(ye=C(ve[Z],Y)>>Y-Pe,oe=(1<<Y+4-Pe)-1;oe>=0;--oe)X[ye|oe<<Pe]=Pe&15|Z<<4;return Y}var ft=re?new Uint16Array(512):He(512),be=re?new Uint16Array(32):He(32);if(!re){for(var _e=0;_e<512;++_e)ft[_e]=0;for(_e=0;_e<32;++_e)be[_e]=0}(function(){for(var L=[],X=0;X<32;X++)L.push(5);ze(L,be,32);var K=[];for(X=0;X<=143;X++)K.push(8);for(;X<=255;X++)K.push(9);for(;X<=279;X++)K.push(7);for(;X<=287;X++)K.push(8);ze(K,ft,288)})();var le=function(){for(var X=re?new Uint8Array(32768):[],K=0,Y=0;K<ae.length-1;++K)for(;Y<ae[K+1];++Y)X[Y]=K;for(;Y<32768;++Y)X[Y]=29;var Q=re?new Uint8Array(259):[];for(K=0,Y=0;K<ee.length-1;++K)for(;Y<ee[K+1];++Y)Q[Y]=K;function Z(ye,he){for(var fe=0;fe<ye.length;){var ve=Math.min(65535,ye.length-fe),Pe=fe+ve==ye.length;for(he.write_shift(1,+Pe),he.write_shift(2,ve),he.write_shift(2,~ve&65535);ve-- >0;)he[he.l++]=ye[fe++]}return he.l}function oe(ye,he){for(var fe=0,ve=0,Pe=re?new Uint16Array(32768):[];ve<ye.length;){var Oe=Math.min(65535,ye.length-ve);if(Oe<10){for(fe=St(he,fe,+(ve+Oe==ye.length)),fe&7&&(fe+=8-(fe&7)),he.l=fe/8|0,he.write_shift(2,Oe),he.write_shift(2,~Oe&65535);Oe-- >0;)he[he.l++]=ye[ve++];fe=he.l*8;continue}fe=St(he,fe,+(ve+Oe==ye.length)+2);for(var Ye=0;Oe-- >0;){var Be=ye[ve];Ye=(Ye<<5^Be)&32767;var Ge=-1,bt=0;if((Ge=Pe[Ye])&&(Ge|=ve&-32768,Ge>ve&&(Ge-=32768),Ge<ve))for(;ye[Ge+bt]==ye[ve+bt]&&bt<250;)++bt;if(bt>2){Be=Q[bt],Be<=22?fe=Ft(he,fe,H[Be+1]>>1)-1:(Ft(he,fe,3),fe+=5,Ft(he,fe,H[Be-23]>>5),fe+=3);var nr=Be<8?0:Be-4>>2;nr>0&&(ue(he,fe,bt-ee[Be]),fe+=nr),Be=X[ve-Ge],fe=Ft(he,fe,H[Be]>>3),fe-=3;var tr=Be<4?0:Be-2>>1;tr>0&&(ue(he,fe,ve-Ge-ae[Be]),fe+=tr);for(var cn=0;cn<bt;++cn)Pe[Ye]=ve&32767,Ye=(Ye<<5^ye[ve])&32767,++ve;Oe-=bt-1}else Be<=143?Be=Be+48:fe=Pt(he,fe,1),fe=Ft(he,fe,H[Be]),Pe[Ye]=ve&32767,++ve}fe=Ft(he,fe,0)-1}return he.l=(fe+7)/8|0,he.l}return function(he,fe){return he.length<8?Z(he,fe):oe(he,fe)}}();function Se(L){var X=en(50+Math.floor(L.length*1.1)),K=le(L,X);return X.slice(0,K)}var $e=re?new Uint16Array(32768):He(32768),De=re?new Uint16Array(32768):He(32768),qe=re?new Uint16Array(128):He(128),at=1,Ur=1;function xn(L,X){var K=Ie(L,X)+257;X+=5;var Y=Ie(L,X)+1;X+=5;var Q=Le(L,X)+4;X+=4;for(var Z=0,oe=re?new Uint8Array(19):He(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,fe=re?new Uint8Array(8):He(8),ve=re?new Uint8Array(8):He(8),Pe=oe.length,Oe=0;Oe<Q;++Oe)oe[B[Oe]]=Z=Te(L,X),he<Z&&(he=Z),fe[Z]++,X+=3;var Ye=0;for(fe[0]=0,Oe=1;Oe<=he;++Oe)ve[Oe]=Ye=Ye+fe[Oe-1]<<1;for(Oe=0;Oe<Pe;++Oe)(Ye=oe[Oe])!=0&&(ye[Oe]=ve[Ye]++);var Be=0;for(Oe=0;Oe<Pe;++Oe)if(Be=oe[Oe],Be!=0){Ye=H[ye[Oe]]>>8-Be;for(var Ge=(1<<7-Be)-1;Ge>=0;--Ge)qe[Ye|Ge<<Be]=Be&7|Oe<<3}var bt=[];for(he=1;bt.length<K+Y;)switch(Ye=qe[Ee(L,X)],X+=Ye&7,Ye>>>=3){case 16:for(Z=3+Ne(L,X),X+=2,Ye=bt[bt.length-1];Z-- >0;)bt.push(Ye);break;case 17:for(Z=3+Te(L,X),X+=3;Z-- >0;)bt.push(0);break;case 18:for(Z=11+Ee(L,X),X+=7;Z-- >0;)bt.push(0);break;default:bt.push(Ye),he<Ye&&(he=Ye);break}var nr=bt.slice(0,K),tr=bt.slice(K);for(Oe=K;Oe<286;++Oe)nr[Oe]=0;for(Oe=Y;Oe<30;++Oe)tr[Oe]=0;return at=ze(nr,$e,286),Ur=ze(tr,De,30),X}function Vs(L,X){if(L[0]==3&&!(L[1]&3))return[Sc(X),2];for(var K=0,Y=0,Q=nD(X||1<<18),Z=0,oe=Q.length>>>0,ye=0,he=0;!(Y&1);){if(Y=Te(L,K),K+=3,Y>>>1)Y>>1==1?(ye=9,he=5):(K=xn(L,K),ye=at,he=Ur);else{K&7&&(K+=8-(K&7));var fe=L[K>>>3]|L[(K>>>3)+1]<<8;if(K+=32,fe>0)for(!X&&oe<Z+fe&&(Q=Re(Q,Z+fe),oe=Q.length);fe-- >0;)Q[Z++]=L[K>>>3],K+=8;continue}for(;;){!X&&oe<Z+32767&&(Q=Re(Q,Z+32767),oe=Q.length);var ve=ot(L,K,ye),Pe=Y>>>1==1?ft[ve]:$e[ve];if(K+=Pe&15,Pe>>>=4,!(Pe>>>8&255))Q[Z++]=Pe;else{if(Pe==256)break;Pe-=257;var Oe=Pe<8?0:Pe-4>>2;Oe>5&&(Oe=0);var Ye=Z+ee[Pe];Oe>0&&(Ye+=ot(L,K,Oe),K+=Oe),ve=ot(L,K,he),Pe=Y>>>1==1?be[ve]:De[ve],K+=Pe&15,Pe>>>=4;var Be=Pe<4?0:Pe-2>>1,Ge=ae[Pe];for(Be>0&&(Ge+=ot(L,K,Be),K+=Be),!X&&oe<Ye&&(Q=Re(Q,Ye+100),oe=Q.length);Z<Ye;)Q[Z]=Q[Z-Ge],++Z}}}return X?[Q,K+7>>>3]:[Q.slice(0,Z),K+7>>>3]}function bl(L,X){var K=L.slice(L.l||0),Y=Vs(K,X);return L.l+=Y[1],Y[0]}function Bc(L,X){if(L)typeof console<"u"&&console.error(X);else throw new Error(X)}function vo(L,X){var K=L;bn(K,0);var Y=[],Q=[],Z={FileIndex:Y,FullPaths:Q};j(Z,{root:X.root});for(var oe=K.length-4;(K[oe]!=80||K[oe+1]!=75||K[oe+2]!=5||K[oe+3]!=6)&&oe>=0;)--oe;K.l=oe+4,K.l+=4;var ye=K.read_shift(2);K.l+=6;var he=K.read_shift(4);for(K.l=he,oe=0;oe<ye;++oe){K.l+=20;var fe=K.read_shift(4),ve=K.read_shift(4),Pe=K.read_shift(2),Oe=K.read_shift(2),Ye=K.read_shift(2);K.l+=8;var Be=K.read_shift(4),Ge=l(K.slice(K.l+Pe,K.l+Pe+Oe));K.l+=Pe+Oe+Ye;var bt=K.l;K.l=Be+4,jm(K,fe,ve,Z,Ge),K.l=bt}return Z}function jm(L,X,K,Y,Q){L.l+=2;var Z=L.read_shift(2),oe=L.read_shift(2),ye=i(L);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var he=L.read_shift(4),fe=L.read_shift(4),ve=L.read_shift(4),Pe=L.read_shift(2),Oe=L.read_shift(2),Ye="",Be=0;Be<Pe;++Be)Ye+=String.fromCharCode(L[L.l++]);if(Oe){var Ge=l(L.slice(L.l,L.l+Oe));(Ge[21589]||{}).mt&&(ye=Ge[21589].mt),((Q||{})[21589]||{}).mt&&(ye=Q[21589].mt)}L.l+=Oe;var bt=L.slice(L.l,L.l+fe);switch(oe){case 8:bt=G(L,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var nr=!1;Z&8&&(he=L.read_shift(4),he==134695760&&(he=L.read_shift(4),nr=!0),fe=L.read_shift(4),ve=L.read_shift(4)),fe!=X&&Bc(nr,"Bad compressed size: "+X+" != "+fe),ve!=K&&Bc(nr,"Bad uncompressed size: "+K+" != "+ve),is(Y,Ye,bt,{unsafe:!0,mt:ye})}function xo(L,X){var K=X||{},Y=[],Q=[],Z=en(1),oe=K.compression?8:0,ye=0,he=0,fe=0,ve=0,Pe=0,Oe=L.FullPaths[0],Ye=Oe,Be=L.FileIndex[0],Ge=[],bt=0;for(he=1;he<L.FullPaths.length;++he)if(Ye=L.FullPaths[he].slice(Oe.length),Be=L.FileIndex[he],!(!Be.size||!Be.content||Ye=="Sh33tJ5")){var nr=ve,tr=en(Ye.length);for(fe=0;fe<Ye.length;++fe)tr.write_shift(1,Ye.charCodeAt(fe)&127);tr=tr.slice(0,tr.l),Ge[Pe]=Jhe.buf(Be.content,0);var cn=Be.content;oe==8&&(cn=M(cn)),Z=en(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,ye),Z.write_shift(2,oe),Be.mt?s(Z,Be.mt):Z.write_shift(4,0),Z.write_shift(-4,Ge[Pe]),Z.write_shift(4,cn.length),Z.write_shift(4,Be.content.length),Z.write_shift(2,tr.length),Z.write_shift(2,0),ve+=Z.length,Y.push(Z),ve+=tr.length,Y.push(tr),ve+=cn.length,Y.push(cn),Z=en(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,ye),Z.write_shift(2,oe),Z.write_shift(4,0),Z.write_shift(-4,Ge[Pe]),Z.write_shift(4,cn.length),Z.write_shift(4,Be.content.length),Z.write_shift(2,tr.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,nr),bt+=Z.l,Q.push(Z),bt+=tr.length,Q.push(tr),++Pe}return Z=en(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Pe),Z.write_shift(2,Pe),Z.write_shift(4,bt),Z.write_shift(4,ve),Z.write_shift(2,0),Bl([Bl(Y),Bl(Q),Z])}var ne={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pe(L,X){if(L.ctype)return L.ctype;var K=L.name||"",Y=K.match(/\.([^\.]+)$/);return Y&&ne[Y[1]]||X&&(Y=(K=X).match(/[\.\\]([^\.\\])+$/),Y&&ne[Y[1]])?ne[Y[1]]:"application/octet-stream"}function ke(L){for(var X=rD(L),K=[],Y=0;Y<X.length;Y+=76)K.push(X.slice(Y,Y+76));return K.join(`\r
`)+`\r
`}function Ae(L){var X=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var ve=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],Y=X.split(`\r
`),Q=0;Q<Y.length;++Q){var Z=Y[Q];if(Z.length==0){K.push("");continue}for(var oe=0;oe<Z.length;){var ye=76,he=Z.slice(oe,oe+ye);he.charAt(ye-1)=="="?ye--:he.charAt(ye-2)=="="?ye-=2:he.charAt(ye-3)=="="&&(ye-=3),he=Z.slice(oe,oe+ye),oe+=ye,oe<Z.length&&(he+="="),K.push(he)}}return K.join(`\r
`)}function gt(L){for(var X=[],K=0;K<L.length;++K){for(var Y=L[K];K<=L.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+L[++K];X.push(Y)}for(var Q=0;Q<X.length;++Q)X[Q]=X[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return fi(X.join(`\r
`))}function Xe(L,X,K){for(var Y="",Q="",Z="",oe,ye=0;ye<10;++ye){var he=X[ye];if(!he||he.match(/^\s*$/))break;var fe=he.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":Y=fe[2].trim();break;case"content-type":Z=fe[2].trim();break;case"content-transfer-encoding":Q=fe[2].trim();break}}switch(++ye,Q.toLowerCase()){case"base64":oe=fi(rs(X.slice(ye).join("")));break;case"quoted-printable":oe=gt(X.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var ve=is(L,Y.slice(K.length),oe,{unsafe:!0});Z&&(ve.ctype=Z)}function Rt(L,X){if(D(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=X&&X.root||"",Y=(Bt&&Buffer.isBuffer(L)?L.toString("binary"):D(L)).split(`\r
`),Q=0,Z="";for(Q=0;Q<Y.length;++Q)if(Z=Y[Q],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),K||(K=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),Z.slice(0,K.length)!=K););var oe=(Y[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var ye="--"+(oe[1]||""),he=[],fe=[],ve={FileIndex:he,FullPaths:fe};j(ve);var Pe,Oe=0;for(Q=0;Q<Y.length;++Q){var Ye=Y[Q];Ye!==ye&&Ye!==ye+"--"||(Oe++&&Xe(ve,Y.slice(Pe,Q),K),Pe=Q)}return ve}function yr(L,X){var K=X||{},Y=K.boundary||"SheetJS";Y="------="+Y;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],Z=L.FullPaths[0],oe=Z,ye=L.FileIndex[0],he=1;he<L.FullPaths.length;++he)if(oe=L.FullPaths[he].slice(Z.length),ye=L.FileIndex[he],!(!ye.size||!ye.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(bt){return"_x"+bt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(bt){return"_u"+bt.charCodeAt(0).toString(16)+"_"});for(var fe=ye.content,ve=Bt&&Buffer.isBuffer(fe)?fe.toString("binary"):D(fe),Pe=0,Oe=Math.min(1024,ve.length),Ye=0,Be=0;Be<=Oe;++Be)(Ye=ve.charCodeAt(Be))>=32&&Ye<128&&++Pe;var Ge=Pe>=Oe*4/5;Q.push(Y),Q.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+oe),Q.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),Q.push("Content-Type: "+pe(ye,oe)),Q.push(""),Q.push(Ge?Ae(ve):ke(ve))}return Q.push(Y+`--\r
`),Q.join(`\r
`)}function va(L){var X={};return j(X,L),X}function is(L,X,K,Y){var Q=Y&&Y.unsafe;Q||j(L);var Z=!Q&&Wt.find(L,X);if(!Z){var oe=L.FullPaths[0];X.slice(0,oe.length)==oe?oe=X:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+X).replace("//","/")),Z={name:a(X),type:2},L.FileIndex.push(Z),L.FullPaths.push(oe),Q||Wt.utils.cfb_gc(L)}return Z.content=K,Z.size=K?K.length:0,Y&&(Y.CLSID&&(Z.clsid=Y.CLSID),Y.mt&&(Z.mt=Y.mt),Y.ct&&(Z.ct=Y.ct)),Z}function Pi(L,X){j(L);var K=Wt.find(L,X);if(K){for(var Y=0;Y<L.FileIndex.length;++Y)if(L.FileIndex[Y]==K)return L.FileIndex.splice(Y,1),L.FullPaths.splice(Y,1),!0}return!1}function Sd(L,X,K){j(L);var Y=Wt.find(L,X);if(Y){for(var Q=0;Q<L.FileIndex.length;++Q)if(L.FileIndex[Q]==Y)return L.FileIndex[Q].name=a(K),L.FullPaths[Q]=K,!0}return!1}function jd(L){N(L,!0)}return t.find=O,t.read=k,t.parse=d,t.write=V,t.writeFile=F,t.utils={cfb_new:va,cfb_add:is,cfb_del:Pi,cfb_mov:Sd,cfb_gc:jd,ReadShift:Ap,CheckField:rW,prep_blob:bn,bconcat:Bl,use_zlib:T,_deflateRaw:Se,_inflateRaw:bl,consts:R},t}();function Zhe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function io(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function QC(e){for(var t=[],r=io(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Ry=new Date(1899,11,30,0,0,0);function fa(e,t){var r=e.getTime(),n=Ry.getTime()+(e.getTimezoneOffset()-Ry.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var I7=new Date,eme=Ry.getTime()+(I7.getTimezoneOffset()-Ry.getTimezoneOffset())*6e4,dD=I7.getTimezoneOffset();function zw(e){var t=new Date;return t.setTime(e*24*60*60*1e3+eme),t.getTimezoneOffset()!==dD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-dD)*6e4),t}function tme(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var fD=new Date("2017-02-19T19:06:09.000Z"),M7=isNaN(fD.getFullYear())?new Date("2/19/17"):fD,rme=M7.getFullYear()==2017;function gn(e,t){var r=new Date(e);if(rme)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(M7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ju(e,t){if(Bt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return up(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return up(_7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return up(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return up(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function kn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=kn(e[r]));return t}function Pr(e,t){for(var r="";r.length<t;)r+=e;return r}function wi(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var nme=["january","february","march","april","may","june","july","august","september","october","november","december"];function yh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&nme.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var ame=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],l=1;l<s.length;++l)i.push(a),i.push(s[l]);return i}}();function F7(e){return e?e.content&&e.type?Ju(e.content,!0):e.data?op(e.data):e.asNodeBuffer&&Bt?op(e.asNodeBuffer().toString("binary")):e.asBinary?op(e.asBinary()):e._data&&e._data.getContent?op(Ju(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function L7(e){if(!e)return null;if(e.data)return eD(e.data);if(e.asNodeBuffer&&Bt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?eD(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function sme(e){return e&&e.name.slice(-4)===".bin"?L7(e):F7(e)}function hs(e,t){for(var r=e.FullPaths||io(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function JC(e,t){var r=hs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function zr(e,t,r){if(!r)return sme(JC(e,t));if(!t)return null;try{return zr(e,t)}catch{return null}}function Ka(e,t,r){if(!r)return F7(JC(e,t));if(!t)return null;try{return Ka(e,t)}catch{return null}}function ime(e,t,r){return L7(JC(e,t))}function hD(e){for(var t=e.FullPaths||io(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ome(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Bt?n=hd(r):n=Nhe(r),Wt.utils.cfb_add(e,t,n)}Wt.utils.cfb_add(e,t,r)}else e.file(t,r)}function $7(e,t){switch(t.type){case"base64":return Wt.read(e,{type:"base64"});case"binary":return Wt.read(e,{type:"binary"});case"buffer":case"array":return Wt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function cp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var B7=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,lme=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,mD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,cme=/<[^>]*>/g,Xn=B7.match(mD)?mD:cme,ume=/<\w*:/,dme=/<(\/?)\w+:/;function wt(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(lme),l=0,c="",u=0,d="",f="",h=1;if(i)for(u=0;u!=i.length;++u){for(f=i[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,c=f.slice(s+1+h,f.length-h),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var m=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(n[m]&&d.slice(l-3,l)=="ext")continue;n[m]=c,n[m.toLowerCase()]=c}}return n}function ho(e){return e.replace(dme,"<$1")}var U7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fme=QC(U7),Ht=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(l,c){return U7[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),hme=/[&<>'"]/g,mme=/[\u0000-\u001f]/g;function ZC(e){var t=e+"";return t.replace(hme,function(r){return fme[r]}).replace(/\n/g,"<br/>").replace(mme,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var pD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function wr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Q_(e){for(var t="",r=0,n=0,a=0,s=0,i=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function gD(e){var t=Sc(2*e.length),r,n,a=1,s=0,i=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function vD(e){return hd(e,"binary").toString("utf8")}var Gv="foo bar baz",ur=Bt&&(vD(Gv)==Q_(Gv)&&vD||gD(Gv)==Q_(Gv)&&gD)||Q_,up=Bt?function(e){return hd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},k0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),W7=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),pme=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),gme=/<\/?(?:vt:)?variant>/g,vme=/<(?:vt:)([^>]*)>([\s\S]*)</;function xD(e,t){var r=wt(e),n=e.match(pme(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(gme,"").match(vme);i&&a.push({v:ur(i[2]),t:i[1]})}),a}var xme=/(^\s|\s$|\n)/;function yme(e){return io(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wme(e,t,r){return"<"+e+(r!=null?yme(r):"")+(t!=null?(t.match(xme)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function eT(e){if(Bt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return ur(md(qC(e)));throw new Error("Bad input format: expected Buffer or string")}var N0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,bme={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},_me=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Sme(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function jme(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)e[r+l]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var yD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},wD=Bt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hd(t)})):yD(e)}:yD,bD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Bo(e,a)));return n.join("").replace(da,"")},tT=Bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(da,""):bD(e,t,r)}:bD,_D=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},z7=Bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_D(e,t,r)}:_D,SD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(qd(e,a)));return n.join("")},zg=Bt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):SD(t,r,n)}:SD,V7=function(e,t){var r=za(e,t);return r>0?zg(e,t+4,t+4+r-1):""},H7=V7,G7=function(e,t){var r=za(e,t);return r>0?zg(e,t+4,t+4+r-1):""},K7=G7,q7=function(e,t){var r=2*za(e,t);return r>0?zg(e,t+4,t+4+r-1):""},Y7=q7,X7=function(t,r){var n=za(t,r);return n>0?tT(t,r+4,r+4+n):""},Q7=X7,J7=function(e,t){var r=za(e,t);return r>0?zg(e,t+4,t+4+r):""},Z7=J7,eW=function(e,t){return Sme(e,t)},Iy=eW,tW=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Bt&&(H7=function(t,r){if(!Buffer.isBuffer(t))return V7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},K7=function(t,r){if(!Buffer.isBuffer(t))return G7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Y7=function(t,r){if(!Buffer.isBuffer(t))return q7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Q7=function(t,r){if(!Buffer.isBuffer(t))return X7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Z7=function(t,r){if(!Buffer.isBuffer(t))return J7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Iy=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):eW(t,r)},tW=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qd=function(e,t){return e[t]},Bo=function(e,t){return e[t+1]*256+e[t]},kme=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},za=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},su=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Nme=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ap(e,t){var r="",n,a,s=[],i,l,c,u;switch(t){case"dbcs":if(u=this.l,Bt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Bo(this,u)),u+=2;e*=2;break;case"utf8":r=zg(this,this.l,this.l+e);break;case"utf16le":e*=2,r=tT(this,this.l,this.l+e);break;case"wstr":return Ap.call(this,e,"dbcs");case"lpstr-ansi":r=H7(this,this.l),e=4+za(this,this.l);break;case"lpstr-cp":r=K7(this,this.l),e=4+za(this,this.l);break;case"lpwstr":r=Y7(this,this.l),e=4+2*za(this,this.l);break;case"lpp4":e=4+za(this,this.l),r=Q7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+za(this,this.l),r=Z7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=qd(this,this.l+e++))!==0;)s.push(Hv(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Bo(this,this.l+e))!==0;)s.push(Hv(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=qd(this,u),this.l=u+1,l=Ap.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Hv(Bo(this,u))),u+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return i=qd(this,u),this.l=u+1,l=Ap.call(this,e-c,i?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Hv(qd(this,u))),u+=1}r=s.join("");break;default:switch(e){case 1:return n=qd(this,this.l),this.l++,n;case 2:return n=(t==="i"?kme:Bo)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?su:Nme)(this,this.l),this.l+=4,n):(a=za(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Iy(this,this.l):a=Iy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=z7(this,this.l,e);break}}return this.l+=e,r}var Eme=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Cme=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Tme=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Ame(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Tme(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Eme(this,t,this.l);break;case 8:if(n=8,r==="f"){jme(this,t,this.l);break}case 16:break;case-4:n=4,Cme(this,t,this.l);break}return this.l+=n,this}function rW(e,t){var r=z7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function bn(e,t){e.l=t,e.read_shift=Ap,e.chk=rW,e.write_shift=Ame}function qn(e,t){e.l+=t}function en(e){var t=Sc(e);return bn(t,0),t}function vl(e,t,r){if(e){var n,a,s;bn(e,e.l||0);for(var i=e.length,l=0,c=0;e.l<i;){l=e.read_shift(1),l&128&&(l=(l&127)+((e.read_shift(1)&127)<<7));var u=Uy[l]||Uy[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;c=e.l+s;var d=u.f&&u.f(e,s,r);if(e.l=c,t(d,u,l))return}}}function P2(){var e=[],t=Bt?256:2048,r=function(u){var d=en(u);return bn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},i=function(){return a(),Bl(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:l,end:i,_bufs:e}}function Op(e,t,r){var n=kn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function jD(e,t,r){var n=kn(e);return n.s=Op(n.s,t.s,r),n.e=Op(n.e,t.s,r),n}function Pp(e,t){if(e.cRel&&e.c<0)for(e=kn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=kn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Nt(e);return!e.cRel&&e.cRel!=null&&(r=Dme(r)),!e.rRel&&e.rRel!=null&&(r=Ome(r)),r}function J_(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+an(e.s.c)+":"+(e.e.cRel?"":"$")+an(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Nn(e.s.r)+":"+(e.e.rRel?"":"$")+Nn(e.e.r):Pp(e.s,t.biff)+":"+Pp(e.e,t.biff)}function rT(e){return parseInt(Pme(e),10)-1}function Nn(e){return""+(e+1)}function Ome(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Pme(e){return e.replace(/\$(\d+)$/,"$1")}function nT(e){for(var t=Rme(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function an(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Dme(e){return e.replace(/^([A-Z])/,"$$$1")}function Rme(e){return e.replace(/^\$([A-Z])/,"$1")}function Ime(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ia(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Nt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function cm(e){var t=e.indexOf(":");return t==-1?{s:ia(e),e:ia(e)}:{s:ia(e.slice(0,t)),e:ia(e.slice(t+1))}}function zt(e,t){return typeof t>"u"||typeof t=="number"?zt(e.s,e.e):(typeof e!="string"&&(e=Nt(e)),typeof t!="string"&&(t=Nt(t)),e==t?e:e+":"+t)}function Rr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function kD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fs(e.z,r?fa(t):t)}catch{}try{return e.w=Fs((e.XF||{}).numFmtId||(r?14:0),r?fa(t):t)}catch{return""+t}}function ll(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?vd[e.v]||e.v:t==null?kD(e,e.v):kD(e,t))}function Ic(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function nW(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,l=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ia(n.origin):n.origin;i=c.r,l=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Rr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),i==-1&&(u.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},g=i+f,p=l+h;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Tt[14],n.cellDates?(m.t="d",m.w=Fs(m.z,fa(m.v))):(m.t="n",m.v=fa(m.v),m.w=Fs(m.z,m.v))):m.t="s";if(a)s[g]||(s[g]=[]),s[g][p]&&s[g][p].z&&(m.z=s[g][p].z),s[g][p]=m;else{var v=Nt({c:p,r:g});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=zt(u)),s}function um(e,t){return nW(null,e,t)}function Mme(e){return e.read_shift(4,"i")}function Vn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Fme(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function aT(e,t){var r=e.l,n=e.read_shift(1),a=Vn(e),s=[],i={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)s.push(Fme(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var Lme=aT;function Us(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var $me=Vn;function sT(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Bme=Vn,D2=sT;function iT(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Iy([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):su(t,0)>>2;return r?a/100:a}function aW(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var gd=aW;function Ln(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ume(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=Au[a];u&&(t.rgb=C0(u));break;case 2:t.rgb=C0([i,l,c]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Wme(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function sW(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function zme(e){return sW(e,1)}function Vme(e){return sW(e,2)}var oT=2,wa=3,Kv=11,ND=12,My=19,qv=64,Hme=65,Gme=71,Kme=4108,qme=4126,un=80,iW=81,Yme=[un,iW],Xme={1:{n:"CodePage",t:oT},2:{n:"Category",t:un},3:{n:"PresentationFormat",t:un},4:{n:"ByteCount",t:wa},5:{n:"LineCount",t:wa},6:{n:"ParagraphCount",t:wa},7:{n:"SlideCount",t:wa},8:{n:"NoteCount",t:wa},9:{n:"HiddenCount",t:wa},10:{n:"MultimediaClipCount",t:wa},11:{n:"ScaleCrop",t:Kv},12:{n:"HeadingPairs",t:Kme},13:{n:"TitlesOfParts",t:qme},14:{n:"Manager",t:un},15:{n:"Company",t:un},16:{n:"LinksUpToDate",t:Kv},17:{n:"CharacterCount",t:wa},19:{n:"SharedDoc",t:Kv},22:{n:"HyperlinksChanged",t:Kv},23:{n:"AppVersion",t:wa,p:"version"},24:{n:"DigSig",t:Hme},26:{n:"ContentType",t:un},27:{n:"ContentStatus",t:un},28:{n:"Language",t:un},29:{n:"Version",t:un},255:{},2147483648:{n:"Locale",t:My},2147483651:{n:"Behavior",t:My},1919054434:{}},Qme={1:{n:"CodePage",t:oT},2:{n:"Title",t:un},3:{n:"Subject",t:un},4:{n:"Author",t:un},5:{n:"Keywords",t:un},6:{n:"Comments",t:un},7:{n:"Template",t:un},8:{n:"LastAuthor",t:un},9:{n:"RevNumber",t:un},10:{n:"EditTime",t:qv},11:{n:"LastPrinted",t:qv},12:{n:"CreatedDate",t:qv},13:{n:"ModifiedDate",t:qv},14:{n:"PageCount",t:wa},15:{n:"WordCount",t:wa},16:{n:"CharCount",t:wa},17:{n:"Thumbnail",t:Gme},18:{n:"Application",t:un},19:{n:"DocSecurity",t:wa},255:{},2147483648:{n:"Locale",t:My},2147483651:{n:"Behavior",t:My},1919054434:{}},ED={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Jme=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Zme(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var epe=Zme([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Au=kn(epe),vd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},oW={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},CD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function tpe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rpe(e){var t=tpe();if(!e||!e.match)return t;var r={};if((e.match(Xn)||[]).forEach(function(n){var a=wt(n);switch(a[0].replace(ume,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[CD[a.ContentType]]!==void 0&&t[CD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==bme.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var ff={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function R2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Dp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Xn)||[]).forEach(function(a){var s=wt(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:cp(s.Target,t);r[l]=i,n[s.Id]=i}}),r["!id"]=n,r}var npe="application/vnd.oasis.opendocument.spreadsheet";function ape(e,t){for(var r=eT(e),n,a;n=N0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=wt(n[0],!1),a.path=="/"&&a.type!==npe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Rp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],spe=function(){for(var e=new Array(Rp.length),t=0;t<Rp.length;++t){var r=Rp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function lW(e){var t={};e=ur(e);for(var r=0;r<Rp.length;++r){var n=Rp[r],a=e.match(spe[r]);a!=null&&a.length>0&&(t[n[1]]=Ht(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=gn(t[n[1]]))}return t}var ipe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function cW(e,t,r,n){var a=[];if(typeof e=="string")a=xD(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?xD(t,n).map(function(d){return d.v}):t,l=0,c=0;if(i.length>0)for(var u=0;u!==a.length;u+=2){switch(c=+a[u+1].v,a[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=i.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=i.slice(l,l+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=i.slice(l,l+c);break}l+=c}}function ope(e,t,r){var n={};return t||(t={}),e=ur(e),ipe.forEach(function(a){var s=(e.match(k0(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Ht(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&cW(n.HeadingPairs,n.TitlesOfParts,t,r),t}var lpe=/<[^>]+>[^<]*/g;function cpe(e,t){var r={},n="",a=e.match(lpe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],l=wt(i);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ht(l.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var c=i.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Ht(d);break;case"bool":r[n]=wr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=gn(d);break;case"cy":case"error":r[n]=Ht(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,u,c)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var upe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Z_;function dpe(e,t,r){Z_||(Z_=QC(upe)),t=Z_[t]||t,e[t]=r}function lT(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function uW(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function dW(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function fW(e,t,r){return t===31?dW(e):uW(e,t,r)}function I2(e,t,r){return fW(e,t,r===!1?0:4)}function fpe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fW(e,t,0)}function hpe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(da,""),e.l-a&2&&(e.l+=2)}return r}function mpe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(da,"");return r}function ppe(e){var t=e.l,r=Fy(e,iW);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Fy(e,wa);return[r,n]}function gpe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(ppe(e));return r}function TD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(da,"").replace(lp,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function hW(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function vpe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Fy(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==ND&&n!==t&&Yme.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===ND?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return uW(e,n,4).replace(da,"");case 31:return dW(e);case 64:return lT(e);case 65:return hW(e);case 71:return vpe(e);case 80:return I2(e,n,!s.raw).replace(da,"");case 81:return fpe(e,n).replace(da,"");case 4108:return gpe(e);case 4126:case 4127:return n==4127?hpe(e):mpe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function AD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,l=0,c=-1,u={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(b,y){return b[1]-y[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var m=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],m=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(m=!1,e.l=s[i][1]),m)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var g=t[s[i][0]];if(h[g.n]=Fy(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:pi(l=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(s[i][0]===1){if(l=h.CodePage=Fy(e,oT),pi(l),c!==-1){var p=e.l;e.l=s[c][1],u=TD(e,l),e.l=p}}else if(s[i][0]===0){if(l===0){c=i,e.l=s[i+1][1];continue}u=TD(e,l)}else{var v=u[s[i][0]],x;switch(e[e.l]){case 65:e.l+=4,x=hW(e);break;case 30:e.l+=4,x=I2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=I2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=Ir(e,4);break;case 64:e.l+=4,x=gn(lT(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=x}}return e.l=r+n,h}function OD(e,t,r){var n=e.content;if(!n)return{};bn(n,0);var a,s,i,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Wt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),l=n.read_shift(4),a===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);a===2&&(i=n.read_shift(16),c=n.read_shift(4));var f=AD(n,t),h={SystemIdentifier:u};for(var m in f)h[m]=f[m];if(h.FMTID=s,a===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var g;try{g=AD(n,null)}catch{}for(m in g)h[m]=g[m];return h.FMTID=[s,i],h}function Al(e,t){return e.read_shift(t),null}function xpe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Ir(e,t){return e.read_shift(t)===1}function Vr(e){return e.read_shift(2,"u")}function mW(e,t){return xpe(e,t,Vr)}function ype(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Vg(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function wpe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,l,c={};a&&(i=e.read_shift(2)),n&&(l=e.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return a&&(e.l+=4*i),n&&(e.l+=l),c.t=d,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Zu(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Hg(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Zu(e,n,r)}function xd(e,t,r){if(r.biff>5)return Hg(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function bpe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function _pe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(da,"");return n&&(e.l+=24),a}function Spe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(da,"");return r+i}function jpe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _pe(e);case"0303000000000000c000000000000046":return Spe(e);default:throw new Error("Unsupported Moniker "+r)}}function Yv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(da,""):"";return r}function kpe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,l,c,u="",d,f;a&16&&(s=Yv(e,r-e.l)),a&128&&(i=Yv(e,r-e.l)),(a&257)===257&&(l=Yv(e,r-e.l)),(a&257)===1&&(c=jpe(e,r-e.l)),a&8&&(u=Yv(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=lT(e)),e.l=r;var h=i||l||c||"";h&&u&&(h+="#"+u),h||(h="#"+u),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return d&&(m.guid=d),f&&(m.time=f),s&&(m.Tooltip=s),m}function pW(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function gW(e,t){var r=pW(e);return r[3]=0,r}function mo(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Npe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Epe(e,t,r){return t===0?"":xd(e,t,r)}function Cpe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function vW(e){var t=e.read_shift(2),r=iT(e);return[t,r]}function Tpe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Vg(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Vw(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function xW(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Ape=xW;function yW(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Ope(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Ppe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function On(e){e.l+=2,e.l+=e.read_shift(2)}var Dpe={0:On,4:On,5:On,6:On,7:Ppe,8:On,9:On,10:On,11:On,12:On,13:Ope,14:On,15:On,16:On,17:On,18:On,19:On,20:On,21:yW};function Rpe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Dpe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Xv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Ipe(e,t){return t===0||e.read_shift(2),1200}function Mpe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xd(e,0,r);return e.read_shift(t+n-e.l),a}function Fpe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Lpe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Vg(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function $pe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(wpe(e));return s.Count=n,s.Unique=a,s}function Bpe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Upe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Wpe(e){var t=Npe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function zpe(e){return e.read_shift(2),e.read_shift(4)}function PD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Vpe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:l,Selected:c,TabRatio:u}}function Hpe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Gpe(){}function Kpe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Vg(e,0,r),n}function qpe(e){var t=mo(e);return t.isst=e.read_shift(4),t}function Ype(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=mo(e);r.biff==2&&e.l++;var s=Hg(e,n-e.l,r);return a.val=s,a}function Xpe(e,t,r){var n=e.read_shift(2),a=xd(e,0,r);return[n,a]}var Qpe=xd;function DD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),l=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:s,c:l},e:{r:i,c}}}function Jpe(e){var t=e.read_shift(2),r=e.read_shift(2),n=vW(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Zpe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(vW(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function e0e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function t0e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),l=e.read_shift(4),c=e.read_shift(2);return a.patternType=Jme[l>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=l&127,a.icvBottom=l>>7&127,a.icvDiag=l>>14&127,a.dgDiag=l>>21&15,a.icvFore=c&127,a.icvBack=c>>7&127,a.fsxButton=c>>14&1),a}function r0e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=t0e(e,t,n.fStyle,r),n}function n0e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function RD(e,t,r){var n=mo(e);(r.biff==2||t==9)&&++e.l;var a=ype(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function a0e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=mo(e),a=Ln(e);return n.val=a,n}var ID=Epe;function s0e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Zu(e,s),l=[];n>e.l;)l.push(Hg(e));return[s,a,i,l]}function MD(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Tpe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var i0e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FD(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),l=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=Zu(e,i,r);a&32&&(u=i0e[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||l===0||!(d>0)?[]:Uxe(e,d,r,l);return{chKey:s,Name:u,itab:c,rgce:f}}function wW(e,t,r){if(r.biff<8)return o0e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Cpe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function o0e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Vg(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function l0e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Zu(e,n,r),i=Zu(e,a,r);return[s,i]}function c0e(e,t,r){var n=xW(e);e.l++;var a=e.read_shift(1);return t-=8,[Wxe(e,t,r),a,n]}function LD(e,t,r){var n=Ape(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,$xe(e,t,r)]}function u0e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function d0e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),l=xd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},l,i,s]}}function f0e(e,t,r){return d0e(e,t,r)}function h0e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Vw(e));return r}function m0e(e,t,r){if(r&&r.biff<8)return g0e(e,t,r);var n=yW(e),a=Rpe(e,t-22,n[1]);return{cmo:n,ft:a}}var p0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function g0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((p0e[n]||qn)(e,t,r)),{cmo:[a,n,s],ft:i}}function v0e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=bpe(e,6,r);var l=e.read_shift(2);e.read_shift(2),Vr(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],f=Zu(e,e.lens[u+1]-e.lens[u]-1);if(a+=f,a.length>=(d?l:2*l))break}if(a.length!==l&&a.length!==l*2)throw new Error("cchText: "+l+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function x0e(e,t){var r=Vw(e);e.l+=16;var n=kpe(e,t-24);return[r,n]}function y0e(e,t){e.read_shift(2);var r=Vw(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(da,""),[r,n]}function w0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ED[r]||r,r=e.read_shift(2),t[1]=ED[r]||r,t}function b0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gW(e));return r}function _0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(gW(e));return r}function S0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function bW(e,t,r){if(!r.cellStyles)return qn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:s,w:i,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function j0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ln(e),r.footer=Ln(e),e.l+=2),r}function k0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var N0e=mo,E0e=mW,C0e=Hg;function T0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function A0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=mo(e);++e.l;var a=xd(e,t-7,r);return n.t="str",n.val=a,n}function O0e(e){var t=mo(e);++e.l;var r=Ln(e);return t.t="n",t.val=r,t}function P0e(e){var t=mo(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function D0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function R0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function I0e(e,t,r){var n=e.l+t,a=mo(e),s=e.read_shift(2),i=Zu(e,s,r);return e.l=n,a.t="str",a.val=i,a}var M0e=[2,3,48,49,131,139,140,245],$D=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=QC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Sc(1);switch(c.type){case"base64":d=fi(rs(l));break;case"binary":d=fi(l);break;case"buffer":case"array":d=l;break}bn(d,0);var f=d.read_shift(1),h=!!(f&136),m=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=d.read_shift(2)),d.l+=3,f!=2&&(p=d.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=d.read_shift(2));var x=d.read_shift(2),b=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var y=[],_={},S=Math.min(d.length,f==2?521:v-10-(m?264:0)),k=g?32:11;d.l<S&&d[d.l]!=13;)switch(_={},_.name=$l.utils.decode(b,d.slice(d.l,d.l+k)).replace(/[\u0000\r\n].*$/g,""),d.l+=k,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=g?13:14),_.type){case"B":(!m||_.len!=8)&&c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,E=0;for(u[0]=[],E=0;E!=y.length;++E)u[0][E]=y[E].name;for(;p-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++j]=[],E=0,E=0;E!=y.length;++E){var N=d.slice(d.l,d.l+y[E].len);d.l+=y[E].len,bn(N,0);var A=$l.utils.decode(b,N);switch(y[E].type){case"C":A.trim().length&&(u[j][E]=A.replace(/\s+$/,""));break;case"D":A.length===8?u[j][E]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):u[j][E]=A;break;case"F":u[j][E]=parseFloat(A.trim());break;case"+":case"I":u[j][E]=g?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":u[j][E]=!0;break;case"N":case"F":u[j][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[j][E]="##MEMO##"+(g?parseInt(A.trim(),10):N.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(u[j][E]=+A||0);break;case"@":u[j][E]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":u[j][E]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":u[j][E]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][E]=-N.read_shift(-8,"f");break;case"B":if(m&&y[E].len==8){u[j][E]=N.read_shift(8,"f");break}case"G":case"P":N.l+=y[E].len;break;case"0":if(y[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=um(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return Ic(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(l,c){var u=c||{};if(+u.codepage>=0&&pi(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=P2(),f=W2(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),g=l["!cols"]||[],p=0,v=0,x=0,b=1;for(p=0;p<h.length;++p){if(((g[p]||{}).DBF||{}).name){h[p]=g[p].DBF.name,++x;continue}if(h[p]!=null){if(++x,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var y=Rr(l["!ref"]),_=[],S=[],k=[];for(p=0;p<=y.e.c-y.s.c;++p){var j="",E="",N=0,A=[];for(v=0;v<m.length;++v)m[v][p]!=null&&A.push(m[v][p]);if(A.length==0||h[p]==null){_[p]="?";continue}for(v=0;v<A.length;++v){switch(typeof A[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=A[v]instanceof Date?"D":"C";break;default:E="C"}N=Math.max(N,String(A[v]).length),j=j&&j!=E?"C":E}N>250&&(N=250),E=((g[p]||{}).DBF||{}).type,E=="C"&&g[p].DBF.len>N&&(N=g[p].DBF.len),j=="B"&&E=="N"&&(j="N",k[p]=g[p].DBF.dec,N=g[p].DBF.len),S[p]=j=="C"||E=="N"?N:s[j]||0,b+=S[p],_[p]=j}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*x),O.write_shift(2,b),p=0;p<4;++p)O.write_shift(4,0);for(O.write_shift(4,0|(+t[w7]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var P=d.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,U,"sbcs"),P.write_shift(1,_[p]=="?"?"C":_[p],"sbcs"),P.write_shift(4,v),P.write_shift(1,S[p]||s[_[p]]||0),P.write_shift(1,k[p]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),v+=S[p]||s[_[p]]||0}var z=d.next(264);for(z.write_shift(4,13),p=0;p<65;++p)z.write_shift(4,0);for(p=0;p<m.length;++p){var W=d.next(b);for(W.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(_[v]){case"L":W.write_shift(1,m[p][v]==null?63:m[p][v]?84:70);break;case"B":W.write_shift(8,m[p][v]||0,"f");break;case"N":var I="0";for(typeof m[p][v]=="number"&&(I=m[p][v].toFixed(k[v]||0)),x=0;x<S[v]-I.length;++x)W.write_shift(1,32);W.write_shift(1,I,"sbcs");break;case"D":m[p][v]?(W.write_shift(4,("0000"+m[p][v].getFullYear()).slice(-4),"sbcs"),W.write_shift(2,("00"+(m[p][v].getMonth()+1)).slice(-2),"sbcs"),W.write_shift(2,("00"+m[p][v].getDate()).slice(-2),"sbcs")):W.write_shift(8,"00000000","sbcs");break;case"C":var R=String(m[p][v]!=null?m[p][v]:"").slice(0,S[v]);for(W.write_shift(1,R,"sbcs"),x=0;x<S[v]-R.length;++x)W.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),F0e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+io(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var g=e[m];return typeof g=="number"?tD(g):g},n=function(h,m,g){var p=m.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?h:tD(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return s(rs(h),m);case"binary":return s(h,m);case"buffer":return s(Bt&&Buffer.isBuffer(h)?h.toString("binary"):md(h),m);case"array":return s(Ju(h),m)}throw new Error("Unrecognized type "+m.type)}function s(h,m){var g=h.split(/[\n\r]+/),p=-1,v=-1,x=0,b=0,y=[],_=[],S=null,k={},j=[],E=[],N=[],A=0,O;for(+m.codepage>=0&&pi(+m.codepage);x!==g.length;++x){A=0;var P=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=P.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),z=U[0],W;if(P.length>0)switch(z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&_.push(P.slice(3).replace(/;;/g,";"));break;case"C":var I=!1,R=!1,F=!1,D=!1,V=-1,J=-1;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"A":break;case"X":v=parseInt(U[b].slice(1))-1,R=!0;break;case"Y":for(p=parseInt(U[b].slice(1))-1,R||(v=0),O=y.length;O<=p;++O)y[O]=[];break;case"K":W=U[b].slice(1),W.charAt(0)==='"'?W=W.slice(1,W.length-1):W==="TRUE"?W=!0:W==="FALSE"?W=!1:isNaN(wi(W))?isNaN(yh(W).getDate())||(W=gn(W)):(W=wi(W),S!==null&&lm(S)&&(W=zw(W))),I=!0;break;case"E":D=!0;var T=Pf(U[b].slice(1),{r:p,c:v});y[p][v]=[y[p][v],T];break;case"S":F=!0,y[p][v]=[y[p][v],"S5S"];break;case"G":break;case"R":V=parseInt(U[b].slice(1))-1;break;case"C":J=parseInt(U[b].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}if(I&&(y[p][v]&&y[p][v].length==2?y[p][v][0]=W:y[p][v]=W,S=null),F){if(D)throw new Error("SYLK shared formula cannot have own formula");var G=V>-1&&y[V][J];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");y[p][v][1]=OW(G[1],{r:p-V,c:v-J})}break;case"F":var M=0;for(b=1;b<U.length;++b)switch(U[b].charAt(0)){case"X":v=parseInt(U[b].slice(1))-1,++M;break;case"Y":for(p=parseInt(U[b].slice(1))-1,O=y.length;O<=p;++O)y[O]=[];break;case"M":A=parseInt(U[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(U[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=U[b].slice(1).split(" "),O=parseInt(N[0],10);O<=parseInt(N[1],10);++O)A=parseInt(N[2],10),E[O-1]=A===0?{hidden:!0}:{wch:A},wh(E[O-1]);break;case"C":v=parseInt(U[b].slice(1))-1,E[v]||(E[v]={});break;case"R":p=parseInt(U[b].slice(1))-1,j[p]||(j[p]={}),A>0?(j[p].hpt=A,j[p].hpx=T0(A)):A===0&&(j[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}M<1&&(S=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+P)}}return j.length>0&&(k["!rows"]=j),E.length>0&&(k["!cols"]=E),m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),[y,k]}function i(h,m){var g=a(h,m),p=g[0],v=g[1],x=um(p,m);return io(v).forEach(function(b){x[b]=v[b]}),x}function l(h,m){return Ic(i(h,m),m)}function c(h,m,g,p){var v="C;Y"+(g+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+Sve(h.f,{r:g,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(h,m){m.forEach(function(g,p){var v="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=$y(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=By(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function d(h,m){m.forEach(function(g,p){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*CW(g.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,m){var g=["ID;PWXL;N;E"],p=[],v=Rr(h["!ref"]),x,b=Array.isArray(h),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&u(g,h["!cols"]),h["!rows"]&&d(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var S=v.s.c;S<=v.e.c;++S){var k=Nt({r:_,c:S});x=b?(h[_]||[])[S]:h[k],!(!x||x.v==null&&(!x.f||x.F))&&p.push(c(x,h,_,S))}return g.join(y)+y+p.join(y)+y+"E"+y}return{to_workbook:l,to_sheet:i,from_sheet:f}}(),L0e=function(){function e(s,i){switch(i.type){case"base64":return t(rs(s),i);case"binary":return t(s,i);case"buffer":return t(Bt&&Buffer.isBuffer(s)?s.toString("binary"):md(s),i);case"array":return t(Ju(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var l=s.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var h=l[d].trim().split(","),m=h[0],g=h[1];++d;for(var p=l[d]||"";(p.match(/["]/g)||[]).length&1&&d<l.length-1;)p+=`
`+l[++d];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][u]=!0:p==="FALSE"?f[c][u]=!1:isNaN(wi(g))?isNaN(yh(g).getDate())?f[c][u]=g:f[c][u]=gn(g):f[c][u]=wi(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return um(e(s,i),i)}function n(s,i){return Ic(r(s,i),i)}var a=function(){var s=function(c,u,d,f,h){c.push(u),c.push(d+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},i=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=Rr(c["!ref"]),f,h=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){i(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var p=Nt({r:m,c:g});if(f=h?(c[m]||[])[g]:c[p],!f){i(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?i(u,1,0,"="+f.f):i(u,1,0,""):i(u,0,v,"V");break;case"b":i(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Fs(f.z||Tt[14],fa(gn(f.v)))),i(u,0,f.w,"V");break;default:i(u,1,0,"")}}}i(u,-1,0,"EOD");var x=`\r
`,b=u.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),$0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),g=-1,p=-1,v=0,x=[];v!==m.length;++v){var b=m[v].trim().split(":");if(b[0]==="cell"){var y=ia(b[1]);if(x.length<=y.r)for(g=x.length;g<=y.r;++g)x[g]||(x[g]=[]);switch(g=y.r,p=y.c,b[2]){case"t":x[g][p]=e(b[3]);break;case"v":x[g][p]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[g][p]=!!+b[4];break;default:x[g][p]=+b[4];break}b[2]=="vtf"&&(x[g][p]=[x[g][p],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return um(r(f,h),h)}function a(f,h){return Ic(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],g,p="",v=cm(f["!ref"]),x=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var y=v.s.c;y<=v.e.c;++y)if(p=Nt({r:b,c:y}),g=x?(f[b]||[])[y]:f[p],!(!g||g.v==null||g.t==="z")){switch(m=["cell",p,"t"],g.t){case"s":case"str":m.push(t(g.v));break;case"n":g.f?(m[2]="vtf",m[3]="n",m[4]=g.v,m[5]=t(g.f)):(m[2]="v",m[3]=g.v);break;case"b":m[2]="vt"+(g.f?"f":"c"),m[3]="nl",m[4]=g.v?"1":"0",m[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=fa(gn(g.v));m[2]="vtc",m[3]="nd",m[4]=""+_,m[5]=g.w||Fs(g.z||Tt[14],_);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,l,i,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),E0=function(){function e(d,f,h,m,g){g.raw?f[h][m]=d:d===""||(d==="TRUE"?f[h][m]=!0:d==="FALSE"?f[h][m]=!1:isNaN(wi(d))?isNaN(yh(d).getDate())?f[h][m]=d:f[h][m]=gn(d):f[h][m]=wi(d))}function t(d,f){var h=f||{},m=[];if(!d||d.length===0)return m;for(var g=d.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var v=10,x=0,b=0;b<=p;++b)x=g[b].indexOf(" "),x==-1?x=g[b].length:x++,v=Math.max(v,x);for(b=0;b<=p;++b){m[b]=[];var y=0;for(e(g[b].slice(0,v).trim(),m,b,y,h),y=1;y<=(g[b].length-v)/10+1;++y)e(g[b].slice(v+(y-1)*10,v+y*10).trim(),m,b,y,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,m=0,g=0;m<d.length;++m)(g=d.charCodeAt(m))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m]);if(!g.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&g.push([f[m],m])}return g.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,f){var h=f||{},m="",g=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=a(d.slice(0,1024)):h&&h.FS?m=h.FS:m=a(d.slice(0,1024));var v=0,x=0,b=0,y=0,_=0,S=m.charCodeAt(0),k=!1,j=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var N=h.dateNF!=null?Xhe(h.dateNF):null;function A(){var O=d.slice(y,_),P={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)P.t="z";else if(h.raw)P.t="s",P.v=O;else if(O.trim().length===0)P.t="s",P.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(P.t="s",P.v=O.slice(2,-1).replace(/""/g,'"')):kve(O)?(P.t="n",P.f=O.slice(1)):(P.t="s",P.v=O);else if(O=="TRUE")P.t="b",P.v=!0;else if(O=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=wi(O)))P.t="n",h.cellText!==!1&&(P.w=O),P.v=b;else if(!isNaN(yh(O).getDate())||N&&O.match(N)){P.z=h.dateNF||Tt[14];var U=0;N&&O.match(N)&&(O=Qhe(O,h.dateNF,O.match(N)||[]),U=1),h.cellDates?(P.t="d",P.v=gn(O,U)):(P.t="n",P.v=fa(gn(O,U))),h.cellText!==!1&&(P.w=Fs(P.z,P.v instanceof Date?fa(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=O;if(P.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][x]=P):g[Nt({c:x,r:v})]=P),y=_+1,E=d.charCodeAt(y),p.e.c<x&&(p.e.c=x),p.e.r<v&&(p.e.r=v),j==S)++x;else if(x=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(j=d.charCodeAt(_)){case 34:E===34&&(k=!k);break;case S:case 10:case 13:if(!k&&A())break e;break}return _-y>0&&A(),g["!ref"]=zt(p),g}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):um(t(d,f),f)}function l(d,f){var h="",m=f.type=="string"?[0,0,0,0]:gT(d,f);switch(f.type){case"base64":h=rs(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof $l<"u"?h=$l.utils.decode(f.codepage,d):h=Bt&&Buffer.isBuffer(d)?d.toString("binary"):md(d);break;case"array":h=Ju(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=ur(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=ur(h):f.type=="binary"&&typeof $l<"u"&&f.codepage&&(h=$l.utils.decode(f.codepage,$l.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?$0e.to_sheet(f.type=="string"?h:ur(h),f):i(h,f)}function c(d,f){return Ic(l(d,f),f)}function u(d){for(var f=[],h=Rr(d["!ref"]),m,g=Array.isArray(d),p=h.s.r;p<=h.e.r;++p){for(var v=[],x=h.s.c;x<=h.e.c;++x){var b=Nt({r:p,c:x});if(m=g?(d[p]||[])[x]:d[b],!m||m.v==null){v.push("          ");continue}for(var y=(m.w||(ll(m),m.w)||"").slice(0,10);y.length<10;)y+=" ";v.push(y+(x===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}();function B0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=F0e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return E0.to_workbook(e,t)}}var Ip=function(){function e(T,G,M){if(T){bn(T,T.l||0);for(var B=M.Enum||V;T.l<T.length;){var ee=T.read_shift(2),ae=B[ee]||B[65535],de=T.read_shift(2),re=T.l+de,H=ae.f&&ae.f(T,de,M);if(T.l=re,G(H,ae,ee))return}}}function t(T,G){switch(G.type){case"base64":return r(fi(rs(T)),G);case"binary":return r(fi(T),G);case"buffer":case"array":return r(T,G)}throw"Unsupported type "+G.type}function r(T,G){if(!T)return T;var M=G||{},B=M.dense?[]:{},ee="Sheet1",ae="",de=0,re={},H=[],ce=[],C={s:{r:0,c:0},e:{r:0,c:0}},Ne=M.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)M.Enum=V,e(T,function(Ee,ot,St){switch(St){case 0:M.vers=Ee,Ee>=4096&&(M.qpro=!0);break;case 6:C=Ee;break;case 204:Ee&&(ae=Ee);break;case 222:ae=Ee;break;case 15:case 51:M.qpro||(Ee[1].v=Ee[1].v.slice(1));case 13:case 14:case 16:St==14&&(Ee[2]&112)==112&&(Ee[2]&15)>1&&(Ee[2]&15)<15&&(Ee[1].z=M.dateNF||Tt[14],M.cellDates&&(Ee[1].t="d",Ee[1].v=zw(Ee[1].v))),M.qpro&&Ee[3]>de&&(B["!ref"]=zt(C),re[ee]=B,H.push(ee),B=M.dense?[]:{},C={s:{r:0,c:0},e:{r:0,c:0}},de=Ee[3],ee=ae||"Sheet"+(de+1),ae="");var Pt=M.dense?(B[Ee[0].r]||[])[Ee[0].c]:B[Nt(Ee[0])];if(Pt){Pt.t=Ee[1].t,Pt.v=Ee[1].v,Ee[1].z!=null&&(Pt.z=Ee[1].z),Ee[1].f!=null&&(Pt.f=Ee[1].f);break}M.dense?(B[Ee[0].r]||(B[Ee[0].r]=[]),B[Ee[0].r][Ee[0].c]=Ee[1]):B[Nt(Ee[0])]=Ee[1];break}},M);else if(T[2]==26||T[2]==14)M.Enum=J,T[2]==14&&(M.qpro=!0,T.l=0),e(T,function(Ee,ot,St){switch(St){case 204:ee=Ee;break;case 22:Ee[1].v=Ee[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ee[3]>de&&(B["!ref"]=zt(C),re[ee]=B,H.push(ee),B=M.dense?[]:{},C={s:{r:0,c:0},e:{r:0,c:0}},de=Ee[3],ee="Sheet"+(de+1)),Ne>0&&Ee[0].r>=Ne)break;M.dense?(B[Ee[0].r]||(B[Ee[0].r]=[]),B[Ee[0].r][Ee[0].c]=Ee[1]):B[Nt(Ee[0])]=Ee[1],C.e.c<Ee[0].c&&(C.e.c=Ee[0].c),C.e.r<Ee[0].r&&(C.e.r=Ee[0].r);break;case 27:Ee[14e3]&&(ce[Ee[14e3][0]]=Ee[14e3][1]);break;case 1537:ce[Ee[0]]=Ee[1],Ee[0]==de&&(ee=Ee[1]);break}},M);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(B["!ref"]=zt(C),re[ae||ee]=B,H.push(ae||ee),!ce.length)return{SheetNames:H,Sheets:re};for(var Te={},Le=[],Ie=0;Ie<ce.length;++Ie)re[H[Ie]]?(Le.push(ce[Ie]||H[Ie]),Te[ce[Ie]]=re[ce[Ie]]||re[H[Ie]]):(Le.push(ce[Ie]),Te[ce[Ie]]={"!ref":"A1"});return{SheetNames:Le,Sheets:Te}}function n(T,G){var M=G||{};if(+M.codepage>=0&&pi(+M.codepage),M.type=="string")throw new Error("Cannot write WK1 to JS string");var B=P2(),ee=Rr(T["!ref"]),ae=Array.isArray(T),de=[];qs(B,0,s(1030)),qs(B,6,c(ee));for(var re=Math.min(ee.e.r,8191),H=ee.s.r;H<=re;++H)for(var ce=Nn(H),C=ee.s.c;C<=ee.e.c;++C){H===ee.s.r&&(de[C]=an(C));var Ne=de[C]+ce,Te=ae?(T[H]||[])[C]:T[Ne];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?qs(B,13,m(H,C,Te.v)):qs(B,14,p(H,C,Te.v));else{var Le=ll(Te);qs(B,15,f(H,C,Le.slice(0,239)))}}return qs(B,1),B.end()}function a(T,G){var M=G||{};if(+M.codepage>=0&&pi(+M.codepage),M.type=="string")throw new Error("Cannot write WK3 to JS string");var B=P2();qs(B,0,i(T));for(var ee=0,ae=0;ee<T.SheetNames.length;++ee)(T.Sheets[T.SheetNames[ee]]||{})["!ref"]&&qs(B,27,D(T.SheetNames[ee],ae++));var de=0;for(ee=0;ee<T.SheetNames.length;++ee){var re=T.Sheets[T.SheetNames[ee]];if(!(!re||!re["!ref"])){for(var H=Rr(re["!ref"]),ce=Array.isArray(re),C=[],Ne=Math.min(H.e.r,8191),Te=H.s.r;Te<=Ne;++Te)for(var Le=Nn(Te),Ie=H.s.c;Ie<=H.e.c;++Ie){Te===H.s.r&&(C[Ie]=an(Ie));var Ee=C[Ie]+Le,ot=ce?(re[Te]||[])[Ie]:re[Ee];if(!(!ot||ot.t=="z"))if(ot.t=="n")qs(B,23,A(Te,Ie,de,ot.v));else{var St=ll(ot);qs(B,22,j(Te,Ie,de,St.slice(0,239)))}}++de}}return qs(B,1),B.end()}function s(T){var G=en(2);return G.write_shift(2,T),G}function i(T){var G=en(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var M=0,B=0,ee=0,ae=0;ae<T.SheetNames.length;++ae){var de=T.SheetNames[ae],re=T.Sheets[de];if(!(!re||!re["!ref"])){++ee;var H=cm(re["!ref"]);M<H.e.r&&(M=H.e.r),B<H.e.c&&(B=H.e.c)}}return M>8191&&(M=8191),G.write_shift(2,M),G.write_shift(1,ee),G.write_shift(1,B),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function l(T,G,M){var B={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&M.qpro?(B.s.c=T.read_shift(1),T.l++,B.s.r=T.read_shift(2),B.e.c=T.read_shift(1),T.l++,B.e.r=T.read_shift(2),B):(B.s.c=T.read_shift(2),B.s.r=T.read_shift(2),G==12&&M.qpro&&(T.l+=2),B.e.c=T.read_shift(2),B.e.r=T.read_shift(2),G==12&&M.qpro&&(T.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(T){var G=en(8);return G.write_shift(2,T.s.c),G.write_shift(2,T.s.r),G.write_shift(2,T.e.c),G.write_shift(2,T.e.r),G}function u(T,G,M){var B=[{c:0,r:0},{t:"n",v:0},0,0];return M.qpro&&M.vers!=20768?(B[0].c=T.read_shift(1),B[3]=T.read_shift(1),B[0].r=T.read_shift(2),T.l+=2):(B[2]=T.read_shift(1),B[0].c=T.read_shift(2),B[0].r=T.read_shift(2)),B}function d(T,G,M){var B=T.l+G,ee=u(T,G,M);if(ee[1].t="s",M.vers==20768){T.l++;var ae=T.read_shift(1);return ee[1].v=T.read_shift(ae,"utf8"),ee}return M.qpro&&T.l++,ee[1].v=T.read_shift(B-T.l,"cstr"),ee}function f(T,G,M){var B=en(7+M.length);B.write_shift(1,255),B.write_shift(2,G),B.write_shift(2,T),B.write_shift(1,39);for(var ee=0;ee<B.length;++ee){var ae=M.charCodeAt(ee);B.write_shift(1,ae>=128?95:ae)}return B.write_shift(1,0),B}function h(T,G,M){var B=u(T,G,M);return B[1].v=T.read_shift(2,"i"),B}function m(T,G,M){var B=en(7);return B.write_shift(1,255),B.write_shift(2,G),B.write_shift(2,T),B.write_shift(2,M,"i"),B}function g(T,G,M){var B=u(T,G,M);return B[1].v=T.read_shift(8,"f"),B}function p(T,G,M){var B=en(13);return B.write_shift(1,255),B.write_shift(2,G),B.write_shift(2,T),B.write_shift(8,M,"f"),B}function v(T,G,M){var B=T.l+G,ee=u(T,G,M);if(ee[1].v=T.read_shift(8,"f"),M.qpro)T.l=B;else{var ae=T.read_shift(2);_(T.slice(T.l,T.l+ae),ee),T.l+=ae}return ee}function x(T,G,M){var B=G&32768;return G&=-32769,G=(B?T:0)+(G>=8192?G-16384:G),(B?"":"$")+(M?an(G):Nn(G))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(T,G){bn(T,0);for(var M=[],B=0,ee="",ae="",de="",re="";T.l<T.length;){var H=T[T.l++];switch(H){case 0:M.push(T.read_shift(8,"f"));break;case 1:ae=x(G[0].c,T.read_shift(2),!0),ee=x(G[0].r,T.read_shift(2),!1),M.push(ae+ee);break;case 2:{var ce=x(G[0].c,T.read_shift(2),!0),C=x(G[0].r,T.read_shift(2),!1);ae=x(G[0].c,T.read_shift(2),!0),ee=x(G[0].r,T.read_shift(2),!1),M.push(ce+C+":"+ae+ee)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:M.push("("+M.pop()+")");break;case 5:M.push(T.read_shift(2));break;case 6:{for(var Ne="";H=T[T.l++];)Ne+=String.fromCharCode(H);M.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:M.push("-"+M.pop());break;case 23:M.push("+"+M.pop());break;case 22:M.push("NOT("+M.pop()+")");break;case 20:case 21:re=M.pop(),de=M.pop(),M.push(["AND","OR"][H-20]+"("+de+","+re+")");break;default:if(H<32&&y[H])re=M.pop(),de=M.pop(),M.push(de+y[H]+re);else if(b[H]){if(B=b[H][1],B==69&&(B=T[T.l++]),B>M.length){console.error("WK1 bad formula parse 0x"+H.toString(16)+":|"+M.join("|")+"|");return}var Te=M.slice(-B);M.length-=B,M.push(b[H][0]+"("+Te.join(",")+")")}else return H<=7?console.error("WK1 invalid opcode "+H.toString(16)):H<=24?console.error("WK1 unsupported op "+H.toString(16)):H<=30?console.error("WK1 invalid opcode "+H.toString(16)):H<=115?console.error("WK1 unsupported function opcode "+H.toString(16)):console.error("WK1 unrecognized opcode "+H.toString(16))}}M.length==1?G[1].f=""+M[0]:console.error("WK1 bad formula parse |"+M.join("|")+"|")}function S(T){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=T.read_shift(2),G[3]=T[T.l++],G[0].c=T[T.l++],G}function k(T,G){var M=S(T);return M[1].t="s",M[1].v=T.read_shift(G-4,"cstr"),M}function j(T,G,M,B){var ee=en(6+B.length);ee.write_shift(2,T),ee.write_shift(1,M),ee.write_shift(1,G),ee.write_shift(1,39);for(var ae=0;ae<B.length;++ae){var de=B.charCodeAt(ae);ee.write_shift(1,de>=128?95:de)}return ee.write_shift(1,0),ee}function E(T,G){var M=S(T);M[1].v=T.read_shift(2);var B=M[1].v>>1;if(M[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return M[1].v=B,M}function N(T,G){var M=S(T),B=T.read_shift(4),ee=T.read_shift(4),ae=T.read_shift(2);if(ae==65535)return B===0&&ee===3221225472?(M[1].t="e",M[1].v=15):B===0&&ee===3489660928?(M[1].t="e",M[1].v=42):M[1].v=0,M;var de=ae&32768;return ae=(ae&32767)-16446,M[1].v=(1-de*2)*(ee*Math.pow(2,ae+32)+B*Math.pow(2,ae)),M}function A(T,G,M,B){var ee=en(14);if(ee.write_shift(2,T),ee.write_shift(1,M),ee.write_shift(1,G),B==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ae=0,de=0,re=0,H=0;return B<0&&(ae=1,B=-B),de=Math.log2(B)|0,B/=Math.pow(2,de-31),H=B>>>0,H&2147483648||(B/=2,++de,H=B>>>0),B-=H,H|=2147483648,H>>>=0,B*=Math.pow(2,32),re=B>>>0,ee.write_shift(4,re),ee.write_shift(4,H),de+=16383+(ae?32768:0),ee.write_shift(2,de),ee}function O(T,G){var M=N(T);return T.l+=G-14,M}function P(T,G){var M=S(T),B=T.read_shift(4);return M[1].v=B>>6,M}function U(T,G){var M=S(T),B=T.read_shift(8,"f");return M[1].v=B,M}function z(T,G){var M=U(T);return T.l+=G-10,M}function W(T,G){return T[T.l+G-1]==0?T.read_shift(G,"cstr"):""}function I(T,G){var M=T[T.l++];M>G-1&&(M=G-1);for(var B="";B.length<M;)B+=String.fromCharCode(T[T.l++]);return B}function R(T,G,M){if(!(!M.qpro||G<21)){var B=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var ee=T.read_shift(G-21,"cstr");return[B,ee]}}function F(T,G){for(var M={},B=T.l+G;T.l<B;){var ee=T.read_shift(2);if(ee==14e3){for(M[ee]=[0,""],M[ee][0]=T.read_shift(2);T[T.l];)M[ee][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return M}function D(T,G){var M=en(5+T.length);M.write_shift(2,14e3),M.write_shift(2,G);for(var B=0;B<T.length;++B){var ee=T.charCodeAt(B);M[M.l++]=ee>127?95:ee}return M[M.l++]=0,M}var V={0:{n:"BOF",f:Vr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:W},222:{n:"SHEETNAMELP",f:I},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:F},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:W},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:R},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function U0e(e){var t={},r=e.match(Xn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=wt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=GC[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var W0e=function(){var e=k0("t"),t=k0("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var l={t:"s",v:Ht(i[1])},c=s.match(t);return c&&(l.s=U0e(c[1])),l}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(l){return l.v})}}(),z0e=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var l=[];a.u&&l.push("text-decoration: underline;"),a.uval&&l.push("text-underline-style:"+a.uval+";"),a.sz&&l.push("font-size:"+a.sz+"pt;"),a.outline&&l.push("text-effect: outline;"),a.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var c=a.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(s.push("<"+c+">"),i.push("</"+c+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),V0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,H0e=/<(?:\w+:)?r>/,G0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function cT(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ht(ur(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ur(e),r&&(n.h=ZC(n.t))):e.match(H0e)&&(n.r=ur(e),n.t=Ht(ur((e.replace(G0e,"").match(V0e)||[]).join("").replace(Xn,""))),r&&(n.h=z0e(W0e(n.r)))),n):{t:""}}var K0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,q0e=/<(?:\w+:)?(?:si|sstItem)>/g,Y0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function X0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(K0e);if(a){n=a[2].replace(q0e,"").split(Y0e);for(var s=0;s!=n.length;++s){var i=cT(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=wt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Q0e(e){return[e.read_shift(4),e.read_shift(4)]}function J0e(e,t){var r=[],n=!1;return vl(e,function(s,i,l){switch(l){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function _W(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Ko(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Z0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ko(e,4),t.U=Ko(e,4),t.W=Ko(e,4),t}function ege(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function tge(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ege(e));return t}function rge(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function nge(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ko(e,4),t.U=Ko(e,4),t.W=Ko(e,4),t}function age(e){var t=nge(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function SW(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function jW(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function sge(e){var t=Ko(e);switch(t.Minor){case 2:return[t.Minor,ige(e)];case 3:return[t.Minor,oge()];case 4:return[t.Minor,lge(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function ige(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=SW(e,r),a=jW(e,e.length-e.l);return{t:"Std",h:n,v:a}}function oge(){throw new Error("File is password-protected: ECMA-376 Extensible")}function lge(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Xn,function(s){var i=wt(s);switch(ho(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=i[l]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function cge(e,t){var r={},n=r.EncryptionVersionInfo=Ko(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=SW(e,a),t-=a,r.EncryptionVerifier=jW(e,t),r}function uge(e){var t={},r=t.EncryptionVersionInfo=Ko(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function dge(e){var t=0,r,n=_W(e),a=n.length+1,s,i,l,c,u;for(r=Sc(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^i;return t^52811}var kW=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,l){return n(i^l)},s=function(i){for(var l=t[i.length-1],c=104,u=i.length-1;u>=0;--u)for(var d=i[u],f=0;f!=7;++f)d&64&&(l^=r[c]),d*=2,--c;return l};return function(i){for(var l=_W(i),c=s(l),u=l.length,d=Sc(16),f=0;f!=16;++f)d[f]=0;var h,m,g;for((u&1)===1&&(h=c>>8,d[u]=a(e[0],h),--u,h=c&255,m=l[l.length-1],d[u]=a(m,h));u>0;)--u,h=c>>8,d[u]=a(l[u],h),--u,h=c&255,d[u]=a(l[u],h);for(u=15,g=15-l.length;g>0;)h=c>>8,d[u]=a(e[g],h),--u,--g,h=c&255,d[u]=a(l[u],h),--u,--g;return d}}(),fge=function(e,t,r,n,a){a||(a=t),n||(n=kW(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},hge=function(e){var t=0,r=kW(e);return function(n){var a=fge("",n,t,r);return t=a[1],a[0]}};function mge(e,t,r,n){var a={key:Vr(e),verificationBytes:Vr(e)};return r.password&&(a.verifier=dge(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=hge(r.password)),a}function pge(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=uge(e):n.Data=cge(e,t),n}function gge(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?pge(e,t-2,n):mge(e,r.biff>=8?t:t-2,r,n),n}var vge=function(){function e(a,s){switch(s.type){case"base64":return t(rs(a),s);case"binary":return t(a,s);case"buffer":return t(Bt&&Buffer.isBuffer(a)?a.toString("binary"):md(a),s);case"array":return t(Ju(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},l=i.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,g,p=-1;g=h.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(m,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var x={v,t:"s"};Array.isArray(l)?l[f][p]=x:l[Nt({r:f,c:p})]=x}break}m=h.lastIndex}p>u.e.c&&(u.e.c=p)}),l["!ref"]=zt(u),l}function r(a,s){return Ic(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=Rr(a["!ref"]),l,c=Array.isArray(a),u=i.s.r;u<=i.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Nt({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ll(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function xge(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function C0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function yge(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var l=0,c=0,u=a+s;switch(c=i/(u>1?2-u:u),a){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4;break}return[l/6,c,u/2]}function wge(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],l=6*t,c;if(r!==0)switch(l|0){case 0:case 6:c=a*l,i[0]+=a,i[1]+=c;break;case 1:c=a*(2-l),i[0]+=c,i[1]+=a;break;case 2:c=a*(l-2),i[1]+=a,i[2]+=c;break;case 3:c=a*(4-l),i[1]+=c,i[2]+=a;break;case 4:c=a*(l-4),i[2]+=a,i[0]+=c;break;case 5:c=a*(6-l),i[2]+=c,i[0]+=a;break}for(var u=0;u!=3;++u)i[u]=Math.round(i[u]*255);return i}function Ly(e,t){if(t===0)return e;var r=yge(xge(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),C0(wge(r))}var NW=6,bge=15,_ge=1,aa=NW;function $y(e){return Math.floor((e+Math.round(128/aa)/256)*aa)}function By(e){return Math.floor((e-5)/aa*100+.5)/100}function M2(e){return Math.round((e*aa+5)/aa*256)/256}function eS(e){return M2(By($y(e)))}function uT(e){var t=Math.abs(e-eS(e)),r=aa;if(t>.005)for(aa=_ge;aa<bge;++aa)Math.abs(e-eS(e))<=t&&(t=Math.abs(e-eS(e)),r=aa);aa=r}function wh(e){e.width?(e.wpx=$y(e.width),e.wch=By(e.wpx),e.MDW=aa):e.wpx?(e.wch=By(e.wpx),e.width=M2(e.wch),e.MDW=aa):typeof e.wch=="number"&&(e.width=M2(e.wch),e.wpx=$y(e.width),e.MDW=aa),e.customWidth&&delete e.customWidth}var Sge=96,EW=Sge;function CW(e){return e*96/EW}function T0(e){return e*EW/96}var jge={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function kge(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Xn)||[]).forEach(function(i){var l=wt(i);switch(ho(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},l.diagonalUp&&(a.diagonalUp=wr(l.diagonalUp)),l.diagonalDown&&(a.diagonalDown=wr(l.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function Nge(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Xn)||[]).forEach(function(i){var l=wt(i);switch(ho(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":l.patternType&&(a.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),l.indexed&&(a.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(a.bgColor.theme=parseInt(l.theme,10)),l.tint&&(a.bgColor.tint=parseFloat(l.tint)),l.rgb&&(a.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),l.theme&&(a.fgColor.theme=parseInt(l.theme,10)),l.tint&&(a.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(a.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function Ege(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Xn)||[]).forEach(function(i){var l=wt(i);switch(ho(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":l.val&&(a.name=ur(l.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=l.val?wr(l.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=l.val?wr(l.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(l.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=l.val?wr(l.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=l.val?wr(l.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=l.val?wr(l.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=l.val?wr(l.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=l.val?wr(l.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":l.val&&(a.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(a.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(a.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(a.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=GC[parseInt(l.val,10)];break;case"<color":if(a.color||(a.color={}),l.auto&&(a.color.auto=wr(l.auto)),l.rgb)a.color.rgb=l.rgb.slice(-6);else if(l.indexed){a.color.index=parseInt(l.indexed,10);var c=Au[a.color.index];a.color.index==81&&(c=Au[1]),c||(c=Au[1]),a.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(a.color.theme=parseInt(l.theme,10),l.tint&&(a.color.tint=parseFloat(l.tint)),l.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Ly(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function Cge(e,t,r){t.NumberFmt=[];for(var n=io(Tt),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Tt[n[a]];var s=e[0].match(Xn);if(s)for(a=0;a<s.length;++a){var i=wt(s[a]);switch(ho(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Ht(ur(i.formatCode)),c=parseInt(i.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Tu(l,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Qv=["numFmtId","fillId","fontId","borderId","xfId"],Jv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Tge(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Xn)||[]).forEach(function(s){var i=wt(s),l=0;switch(ho(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],l=0;l<Qv.length;++l)n[Qv[l]]&&(n[Qv[l]]=parseInt(n[Qv[l]],10));for(l=0;l<Jv.length;++l)n[Jv[l]]&&(n[Jv[l]]=wr(n[Jv[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};i.vertical&&(c.vertical=i.vertical),i.horizontal&&(c.horizontal=i.horizontal),i.textRotation!=null&&(c.textRotation=i.textRotation),i.indent&&(c.indent=i.indent),i.wrapText&&(c.wrapText=wr(i.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var Age=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,u){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=l.match(t))&&Cge(f,d,u),(f=l.match(a))&&Ege(f,d,c,u),(f=l.match(n))&&Nge(f,d,c,u),(f=l.match(s))&&kge(f,d,c,u),(f=l.match(r))&&Tge(f,d,u),d}}();function Oge(e,t){var r=e.read_shift(2),n=Vn(e);return[r,n]}function Pge(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Wme(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Ume(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vn(e),n}var Dge=qn;function Rge(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Ige=qn;function Mge(e,t,r){var n={};n.NumberFmt=[];for(var a in Tt)n.NumberFmt[a]=Tt[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return vl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Tu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=Ly(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Fge=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Lge(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Xn)||[]).forEach(function(a){var s=wt(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Fge.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $ge(){}function Bge(){}var Uge=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Wge=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,zge=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Vge(e,t,r){t.themeElements={};var n;[["clrScheme",Uge,Lge],["fontScheme",Wge,$ge],["fmtScheme",zge,Bge]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Hge=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function TW(e,t){(!e||e.length===0)&&(e=Gge());var r,n={};if(!(r=e.match(Hge)))throw new Error("themeElements not found in theme");return Vge(r[0],n,t),n.raw=e,n}function Gge(e,t){var r=[B7];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Kge(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=$7(s,{type:"array"})}catch{return}var l=Ka(i,"theme/theme/theme1.xml",!0);if(l)return TW(l,r)}}function qge(e){return e.read_shift(4)}function Yge(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Xge(e,4);break;case 2:t.xclrValue=pW(e);break;case 3:t.xclrValue=qge(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Xge(e,t){return qn(e,t)}function Qge(e,t){return qn(e,t)}function Jge(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Yge(e);break;case 6:n[1]=Qge(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Zge(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Jge(e,r-e.l));return{ixfe:n,ext:s}}function eve(e,t){t.forEach(function(r){switch(r[0]){}})}function tve(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Vn(e)}}function rve(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nve(e){return e.l+=4,e.read_shift(4)!=0}function ave(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,l=2;return vl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(f){l==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):l==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!u.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function sve(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Xn,function(l){var c=wt(l);switch(ho(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(i=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):s==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+c.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function ive(e){var t=[];if(!e)return t;var r=1;return(e.match(Xn)||[]).forEach(function(n){var a=wt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function ove(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Nt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function lve(e,t,r){var n=[];return vl(e,function(s,i,l){switch(l){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function cve(e,t,r,n){if(!e)return e;var a=n||{},s=!1;vl(e,function(l,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!c.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},a)}function uve(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function BD(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var l=ia(i.ref);if(a?(e[l.r]||(e[l.r]=[]),s=e[l.r][l.c]):s=e[i.ref],!s){s={t:"z"},a?e[l.r][l.c]=s:e[i.ref]=s;var c=Rr(e["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var u=zt(c);u!==e["!ref"]&&(e["!ref"]=u)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function dve(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&r.push(l[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var l=i.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=wt(l[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ia(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&cT(f[1])||{r:"",t:"",h:""};u.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),u.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=h.h),n.push(u)}}}}),n}function fve(e,t){var r=[],n=!1,a={},s=0;return e.replace(Xn,function(l,c){var u=wt(l);switch(ho(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=c+l.length;break;case"</text>":a.t=e.slice(s,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return l}),r}function hve(e,t){var r=[],n=!1;return e.replace(Xn,function(s){var i=wt(s);switch(ho(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function mve(e){var t={};t.iauthor=e.read_shift(4);var r=gd(e);return t.rfx=r.s,t.ref=Nt(r.s),e.l+=16,t}var pve=Vn;function gve(e,t){var r=[],n=[],a={},s=!1;return vl(e,function(l,c,u){switch(u){case 632:n.push(l);break;case 635:a=l;break;case 637:a.t=l.t,a.h=l.h,a.r=l.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var vve="application/vnd.ms-office.vbaProject";function xve(e){var t=Wt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Wt.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Wt.write(t)}function yve(){return{"!type":"dialog"}}function wve(){return{"!type":"dialog"}}function bve(){return{"!type":"macro"}}function _ve(){return{"!type":"macro"}}var Pf=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var l=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+an(d)+(c?"":"$")+Nn(u)}return function(a,s){return t=s,a.replace(e,r)}}(),AW=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Sve=function(){return function(t,r){return t.replace(AW,function(n,a,s,i,l,c){var u=nT(i)-(s?0:r.c),d=rT(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",h=u==0?"":s?u+1:"["+u+"]";return a+"R"+f+"C"+h})}}();function OW(e,t){return e.replace(AW,function(r,n,a,s,i,l){return n+(a=="$"?a+s:an(nT(s)+t.c))+(i=="$"?i+l:Nn(rT(l)+t.r))})}function jve(e,t,r){var n=cm(t),a=n.s,s=ia(r),i={r:s.r-a.r,c:s.c-a.c};return OW(e,i)}function kve(e){return e.length!=1}function UD(e){return e.replace(/_xlfn\./g,"")}function Wr(e){e.l+=1}function jc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function PW(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return DW(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=jc(e),l=jc(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function DW(e){var t=jc(e),r=jc(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Nve(e,t,r){if(r.biff<8)return DW(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=jc(e),i=jc(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function RW(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Eve(e);var n=e.read_shift(r&&r.biff==12?4:2),a=jc(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Eve(e){var t=jc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Cve(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Tve(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Ave(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:l}}function Ave(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Ove(e,t,r){var n=(e[e.l++]&96)>>5,a=PW(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Pve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=PW(e,s,r);return[n,a,i]}function Dve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Rve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function Ive(e,t,r){var n=(e[e.l++]&96)>>5,a=Nve(e,t-1,r);return[n,a]}function Mve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function WD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Fve(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Lve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $ve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Bve(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Uve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function IW(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Wve(e){return e.read_shift(2),IW(e)}function zve(e){return e.read_shift(2),IW(e)}function Vve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=RW(e,0,r);return[n,a]}function Hve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Tve(e,0,r);return[n,a]}function Gve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=RW(e,0,r);return[n,a,s]}function Kve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[qxe[a],LW[a],n]}function qve(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Yve(e);return[a,(s[0]===0?LW:Kxe)[s[1]]]}function Yve(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Xve(e,t,r){e.l+=r&&r.biff==2?3:4}function Qve(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Jve(e){return e.l++,vd[e.read_shift(1)]}function Zve(e){return e.l++,e.read_shift(2)}function exe(e){return e.l++,e.read_shift(1)!==0}function txe(e){return e.l++,Ln(e)}function rxe(e,t,r){return e.l++,Vg(e,t-1,r)}function nxe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ir(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=vd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ln(e);break;case 2:r[1]=xd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function axe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?gd:Vw)(e));return a}function sxe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var l=0;l!=a;++l)i[s][l]=nxe(e,r.biff);return i}function ixe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function oxe(e,t,r){if(r.biff==5)return lxe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function lxe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cxe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uxe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dxe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function fxe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var hxe=qn,mxe=qn,pxe=qn;function Gg(e,t,r){return e.l+=2,[Cve(e)]}function dT(e){return e.l+=6,[]}var gxe=Gg,vxe=dT,xxe=dT,yxe=Gg;function MW(e){return e.l+=2,[Vr(e),e.read_shift(2)&1]}var wxe=Gg,bxe=MW,_xe=dT,Sxe=Gg,jxe=Gg,kxe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Nxe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=kxe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Exe(e){return e.l+=2,[e.read_shift(4)]}function Cxe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Txe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Axe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Oxe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Pxe(e){return e.l+=4,[0,0]}var zD={1:{n:"PtgExp",f:Qve},2:{n:"PtgTbl",f:pxe},3:{n:"PtgAdd",f:Wr},4:{n:"PtgSub",f:Wr},5:{n:"PtgMul",f:Wr},6:{n:"PtgDiv",f:Wr},7:{n:"PtgPower",f:Wr},8:{n:"PtgConcat",f:Wr},9:{n:"PtgLt",f:Wr},10:{n:"PtgLe",f:Wr},11:{n:"PtgEq",f:Wr},12:{n:"PtgGe",f:Wr},13:{n:"PtgGt",f:Wr},14:{n:"PtgNe",f:Wr},15:{n:"PtgIsect",f:Wr},16:{n:"PtgUnion",f:Wr},17:{n:"PtgRange",f:Wr},18:{n:"PtgUplus",f:Wr},19:{n:"PtgUminus",f:Wr},20:{n:"PtgPercent",f:Wr},21:{n:"PtgParen",f:Wr},22:{n:"PtgMissArg",f:Wr},23:{n:"PtgStr",f:rxe},26:{n:"PtgSheet",f:Cxe},27:{n:"PtgEndSheet",f:Txe},28:{n:"PtgErr",f:Jve},29:{n:"PtgBool",f:exe},30:{n:"PtgInt",f:Zve},31:{n:"PtgNum",f:txe},32:{n:"PtgArray",f:Mve},33:{n:"PtgFunc",f:Kve},34:{n:"PtgFuncVar",f:qve},35:{n:"PtgName",f:ixe},36:{n:"PtgRef",f:Vve},37:{n:"PtgArea",f:Ove},38:{n:"PtgMemArea",f:cxe},39:{n:"PtgMemErr",f:hxe},40:{n:"PtgMemNoMem",f:mxe},41:{n:"PtgMemFunc",f:uxe},42:{n:"PtgRefErr",f:dxe},43:{n:"PtgAreaErr",f:Dve},44:{n:"PtgRefN",f:Hve},45:{n:"PtgAreaN",f:Ive},46:{n:"PtgMemAreaN",f:Axe},47:{n:"PtgMemNoMemN",f:Oxe},57:{n:"PtgNameX",f:oxe},58:{n:"PtgRef3d",f:Gve},59:{n:"PtgArea3d",f:Pve},60:{n:"PtgRefErr3d",f:fxe},61:{n:"PtgAreaErr3d",f:Rve},255:{}},Dxe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Rxe={1:{n:"PtgElfLel",f:MW},2:{n:"PtgElfRw",f:Sxe},3:{n:"PtgElfCol",f:gxe},6:{n:"PtgElfRwV",f:jxe},7:{n:"PtgElfColV",f:yxe},10:{n:"PtgElfRadical",f:wxe},11:{n:"PtgElfRadicalS",f:_xe},13:{n:"PtgElfColS",f:vxe},15:{n:"PtgElfColSV",f:xxe},16:{n:"PtgElfRadicalLel",f:bxe},25:{n:"PtgList",f:Nxe},29:{n:"PtgSxName",f:Exe},255:{}},Ixe={0:{n:"PtgAttrNoop",f:Pxe},1:{n:"PtgAttrSemi",f:Uve},2:{n:"PtgAttrIf",f:$ve},4:{n:"PtgAttrChoose",f:Fve},8:{n:"PtgAttrGoto",f:Lve},16:{n:"PtgAttrSum",f:Xve},32:{n:"PtgAttrBaxcel",f:WD},33:{n:"PtgAttrBaxcel",f:WD},64:{n:"PtgAttrSpace",f:Wve},65:{n:"PtgAttrSpaceSemi",f:zve},128:{n:"PtgAttrIfError",f:Bve},255:{}};function Kg(e,t,r,n){if(n.biff<8)return qn(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=sxe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=axe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(qn(e,t)),s}function qg(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=zD[s]||zD[Dxe[s]],(s===24||s===25)&&(a=(s===24?Rxe:Ixe)[e[e.l+1]]),!a||!a.f?qn(e,t):i.push([a.n,a.f(e,t,r)]);return i}function Mxe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Fxe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Lxe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function FW(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function VD(e,t,r){var n=FW(e,t,r);return n=="#REF"?n:Lxe(n,r)}function In(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,d,f=0,h=0,m,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Pr(" ",e[0][p][1][1]);break;case 1:v=Pr("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+v,p=-1}l.push(u+Fxe[y[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Op(y[1][1],i,a),l.push(Pp(d,s));break;case"PtgRefN":d=r?Op(y[1][1],r,a):y[1][1],l.push(Pp(d,s));break;case"PtgRef3d":f=y[1][1],d=Op(y[1][2],i,a),g=VD(n,f,a),l.push(g+"!"+Pp(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],S=y[1][1];_||(_=0),_&=127;var k=_==0?[]:l.slice(-_);l.length-=_,S==="User"&&(S=k.shift()),l.push(S+"("+k.join(",")+")");break;case"PtgBool":l.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(y[1]);break;case"PtgNum":l.push(String(y[1]));break;case"PtgStr":l.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(y[1]);break;case"PtgAreaN":m=jD(y[1][1],r?{s:r}:i,a),l.push(J_(m,a));break;case"PtgArea":m=jD(y[1][1],i,a),l.push(J_(m,a));break;case"PtgArea3d":f=y[1][1],m=y[1][2],g=VD(n,f,a),l.push(g+"!"+J_(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var j=(n.names||[])[h-1]||(n[0]||[])[h],E=j?j.Name:"SH33TJSNAME"+String(h);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var N=y[1][1];h=y[1][2];var A;if(a.biff<=5)N<0&&(N=-N),n[N]&&(A=n[N][h]);else{var O="";if(((n[N]||[])[0]||[])[0]==14849||(((n[N]||[])[0]||[])[0]==1025?n[N][h]&&n[N][h].itab>0&&(O=n.SheetNames[n[N][h].itab-1]+"!"):O=n.SheetNames[h-1]+"!"),n[N]&&n[N][h])O+=n[N][h].Name;else if(n[0]&&n[0][h])O+=n[0][h].Name;else{var P=(FW(n,N,a)||"").split(";;");P[h-1]?O=P[h-1]:O+="SH33TJSERRX"}l.push(O);break}A||(A={Name:"SH33TJSERRY"}),l.push(A.Name);break;case"PtgParen":var U="(",z=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:U=Pr(" ",e[0][p][1][1])+U;break;case 3:U=Pr("\r",e[0][p][1][1])+U;break;case 4:z=Pr(" ",e[0][p][1][1])+z;break;case 5:z=Pr("\r",e[0][p][1][1])+z;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+z);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var W={c:r.c,r:r.r};if(n.sharedf[Nt(d)]){var I=n.sharedf[Nt(d)];l.push(In(I,i,W,n,a))}else{var R=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(In(u[1],i,W,n,a)),R=!0;break}R||l.push(y[1])}break;case"PtgArray":l.push("{"+Mxe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var F=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&F.indexOf(e[0][x][0])==-1){y=e[0][p];var D=!0;switch(y[1][0]){case 4:D=!1;case 0:v=Pr(" ",y[1][1]);break;case 5:D=!1;case 1:v=Pr("\r",y[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}l.push((D?v:"")+l.pop()+(D?"":v)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function $xe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],qn(e,t-2)];var l=qg(e,i,r);return t!==i+a&&(s=Kg(e,t-i-a,l,r)),e.l=n,[l,s]}function Bxe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],qn(e,t-2)];var l=qg(e,i,r);return t!==i+a&&(s=Kg(e,t-i-a,l,r)),e.l=n,[l,s]}function Uxe(e,t,r,n){var a=e.l+t,s=qg(e,n,r),i;return a!==e.l&&(i=Kg(e,a-e.l,s,r)),[s,i]}function Wxe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=qg(e,s,r);return s==65535?[[],qn(e,t-2)]:(t!==s+2&&(a=Kg(e,n-s-2,i,r)),[i,a])}function zxe(e){var t;if(Bo(e,e.l+6)!==65535)return[Ln(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function tS(e,t,r){var n=e.l+t,a=mo(e);r.biff==2&&++e.l;var s=zxe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var l=Bxe(e,n-e.l,r);return{cell:a,val:s[0],formula:l,shared:i>>3&1,tt:s[1]}}function Hw(e,t,r){var n=e.read_shift(4),a=qg(e,n,r),s=e.read_shift(4),i=s>0?Kg(e,s,a,r):null;return[a,i]}var Vxe=Hw,Gw=Hw,Hxe=Hw,Gxe=Hw,Kxe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},LW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},qxe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function rS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Mp={},Df={};function Fp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $W(e,t,r,n,a,s){try{n.cellNF&&(e.z=Tt[t])}catch(l){if(n.WTF)throw l}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=gn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Tt[t]==null&&Tu(Yhe[t]||"General",t),e.t==="e")e.w=e.w||vd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v);else if(e.t==="d"){var i=fa(e.v);(i|0)===i?e.w=i.toString(10):e.w=j0(i)}else{if(e.v===void 0)return"";e.w=Qu(e.v,Df)}else e.t==="d"?e.w=Fs(t,fa(e.v),Df):e.w=Fs(t,e.v,Df)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Ly(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Ly(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&s.Fills)throw l}}}function Yxe(e,t){var r=Rr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=zt(r))}var Xxe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Qxe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Jxe=/<(?:\w:)?hyperlink [^>]*>/mg,Zxe=/"(\w*:\w*)"/,eye=/<(?:\w:)?col\b[^>]*[\/]?>/g,tye=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,rye=/<(?:\w:)?pageMargins[^>]*\/>/g,BW=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,nye=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aye=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function sye(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=e.match(Qxe);f?(u=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):u=d=e;var h=u.match(BW);h?fT(h[0],l,a,r):(h=u.match(nye))&&iye(h[0],h[1]||"",l,a,r);var m=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var g=u.slice(m,m+50).match(Zxe);g&&Yxe(l,g[1])}var p=u.match(aye);p&&p[1]&&fye(p[1],a);var v=[];if(t.cellStyles){var x=u.match(eye);x&&cye(v,x)}f&&hye(f[1],l,t,c,s,i);var b=d.match(tye);b&&(l["!autofilter"]=uye(b[0]));var y=[],_=d.match(Xxe);if(_)for(m=0;m!=_.length;++m)y[m]=Rr(_[m].slice(_[m].indexOf('"')+1));var S=d.match(Jxe);S&&oye(l,S,n);var k=d.match(rye);if(k&&(l["!margins"]=lye(wt(k[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=zt(c)),t.sheetRows>0&&l["!ref"]){var j=Rr(l["!ref"]);t.sheetRows<=+j.e.r&&(j.e.r=t.sheetRows-1,j.e.r>c.e.r&&(j.e.r=c.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>c.e.c&&(j.e.c=c.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),l["!fullref"]=l["!ref"],l["!ref"]=zt(j))}return v.length>0&&(l["!cols"]=v),y.length>0&&(l["!merges"]=y),l}function fT(e,t,r,n){var a=wt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Ht(ur(a.codeName)))}function iye(e,t,r,n,a){fT(e.slice(0,e.indexOf(">")),r,n,a)}function oye(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=wt(ur(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Ht(s.location))):(s.Target="#"+Ht(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=Rr(s.ref),c=l.s.r;c<=l.e.r;++c)for(var u=l.s.c;u<=l.e.c;++u){var d=Nt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function lye(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function cye(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=wt(t[n],!0);a.hidden&&(a.hidden=wr(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,uT(a.width)),wh(a);s<=i;)e[s++]=kn(a)}}function uye(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var dye=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function fye(e,t){t.Views||(t.Views=[{}]),(e.match(dye)||[]).forEach(function(r,n){var a=wt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),wr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var hye=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=k0("v"),i=k0("f");return function(c,u,d,f,h,m){for(var g=0,p="",v=[],x=[],b=0,y=0,_=0,S="",k,j,E=0,N=0,A,O,P=0,U=0,z=Array.isArray(m.CellXf),W,I=[],R=[],F=Array.isArray(u),D=[],V={},J=!1,T=!!d.sheetStubs,G=c.split(t),M=0,B=G.length;M!=B;++M){p=G[M].trim();var ee=p.length;if(ee!==0){var ae=0;e:for(g=0;g<ee;++g)switch(p[g]){case">":if(p[g-1]!="/"){++g;break e}if(d&&d.cellStyles){if(j=wt(p.slice(ae,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,d.sheetRows&&d.sheetRows<E)continue;V={},J=!1,j.ht&&(J=!0,V.hpt=parseFloat(j.ht),V.hpx=T0(V.hpt)),j.hidden=="1"&&(J=!0,V.hidden=!0),j.outlineLevel!=null&&(J=!0,V.level=+j.outlineLevel),J&&(D[E-1]=V)}break;case"<":ae=g;break}if(ae>=g)break;if(j=wt(p.slice(ae,g),!0),E=j.r!=null?parseInt(j.r,10):E+1,N=-1,!(d.sheetRows&&d.sheetRows<E)){f.s.r>E-1&&(f.s.r=E-1),f.e.r<E-1&&(f.e.r=E-1),d&&d.cellStyles&&(V={},J=!1,j.ht&&(J=!0,V.hpt=parseFloat(j.ht),V.hpx=T0(V.hpt)),j.hidden=="1"&&(J=!0,V.hidden=!0),j.outlineLevel!=null&&(J=!0,V.level=+j.outlineLevel),J&&(D[E-1]=V)),v=p.slice(g).split(e);for(var de=0;de!=v.length&&v[de].trim().charAt(0)=="<";++de);for(v=v.slice(de),g=0;g!=v.length;++g)if(p=v[g].trim(),p.length!==0){if(x=p.match(r),b=g,y=0,_=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,x!=null&&x.length===2){for(b=0,S=x[1],y=0;y!=S.length&&!((_=S.charCodeAt(y)-64)<1||_>26);++y)b=26*b+_;--b,N=b}else++N;for(y=0;y!=p.length&&p.charCodeAt(y)!==62;++y);if(++y,j=wt(p.slice(0,y),!0),j.r||(j.r=Nt({r:E-1,c:N})),S=p.slice(y),k={t:""},(x=S.match(s))!=null&&x[1]!==""&&(k.v=Ht(x[1])),d.cellFormula){if((x=S.match(i))!=null&&x[1]!==""){if(k.f=Ht(ur(x[1])).replace(/\r\n/g,`
`),d.xlfn||(k.f=UD(k.f)),x[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&I.push([Rr(k.F),k.F]);else if(x[0].indexOf('t="shared"')>-1){O=wt(x[0]);var re=Ht(ur(x[1]));d.xlfn||(re=UD(re)),R[parseInt(O.si,10)]=[O,re,j.r]}}else(x=S.match(/<f[^>]*\/>/))&&(O=wt(x[0]),R[O.si]&&(k.f=jve(R[O.si][1],R[O.si][2],j.r)));var H=ia(j.r);for(y=0;y<I.length;++y)H.r>=I[y][0].s.r&&H.r<=I[y][0].e.r&&H.c>=I[y][0].s.c&&H.c<=I[y][0].e.c&&(k.F=I[y][1])}if(j.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(T)k.t="z";else continue;else k.t=j.t||"n";switch(f.s.c>N&&(f.s.c=N),f.e.c<N&&(f.e.c=N),k.t){case"n":if(k.v==""||k.v==null){if(!T)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!T)continue;k.t="z"}else A=Mp[parseInt(k.v,10)],k.v=A.t,k.r=A.r,d.cellHTML&&(k.h=A.h);break;case"str":k.t="s",k.v=k.v!=null?ur(k.v):"",d.cellHTML&&(k.h=ZC(k.v));break;case"inlineStr":x=S.match(n),k.t="s",x!=null&&(A=cT(x[1]))?(k.v=A.t,d.cellHTML&&(k.h=A.h)):k.v="";break;case"b":k.v=wr(k.v);break;case"d":d.cellDates?k.v=gn(k.v,1):(k.v=fa(gn(k.v,1)),k.t="n");break;case"e":(!d||d.cellText!==!1)&&(k.w=k.v),k.v=oW[k.v];break}if(P=U=0,W=null,z&&j.s!==void 0&&(W=m.CellXf[j.s],W!=null&&(W.numFmtId!=null&&(P=W.numFmtId),d.cellStyles&&W.fillId!=null&&(U=W.fillId))),$W(k,P,U,d,h,m),d.cellDates&&z&&k.t=="n"&&lm(Tt[P])&&(k.t="d",k.v=zw(k.v)),j.cm&&d.xlmeta){var ce=(d.xlmeta.Cell||[])[+j.cm-1];ce&&ce.type=="XLDAPR"&&(k.D=!0)}if(F){var C=ia(j.r);u[C.r]||(u[C.r]=[]),u[C.r][C.c]=k}else u[j.r]=k}}}}D.length>0&&(u["!rows"]=D)}}();function mye(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var pye=gd;function gye(){}function vye(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=$me(e),r}function xye(e){var t=Us(e);return[t]}function yye(e){var t=pd(e);return[t]}function wye(e){var t=Us(e),r=e.read_shift(1);return[t,r,"b"]}function bye(e){var t=pd(e),r=e.read_shift(1);return[t,r,"b"]}function _ye(e){var t=Us(e),r=e.read_shift(1);return[t,r,"e"]}function Sye(e){var t=pd(e),r=e.read_shift(1);return[t,r,"e"]}function jye(e){var t=Us(e),r=e.read_shift(4);return[t,r,"s"]}function kye(e){var t=pd(e),r=e.read_shift(4);return[t,r,"s"]}function Nye(e){var t=Us(e),r=Ln(e);return[t,r,"n"]}function UW(e){var t=pd(e),r=Ln(e);return[t,r,"n"]}function Eye(e){var t=Us(e),r=iT(e);return[t,r,"n"]}function Cye(e){var t=pd(e),r=iT(e);return[t,r,"n"]}function Tye(e){var t=Us(e),r=aT(e);return[t,r,"is"]}function Aye(e){var t=Us(e),r=Vn(e);return[t,r,"str"]}function Oye(e){var t=pd(e),r=Vn(e);return[t,r,"str"]}function Pye(e,t,r){var n=e.l+t,a=Us(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var l=Gw(e,n-e.l,r);i[3]=In(l,null,a,r.supbooks,r)}else e.l=n;return i}function Dye(e,t,r){var n=e.l+t,a=Us(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var l=Gw(e,n-e.l,r);i[3]=In(l,null,a,r.supbooks,r)}else e.l=n;return i}function Rye(e,t,r){var n=e.l+t,a=Us(e);a.r=r["!row"];var s=Ln(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var l=Gw(e,n-e.l,r);i[3]=In(l,null,a,r.supbooks,r)}else e.l=n;return i}function Iye(e,t,r){var n=e.l+t,a=Us(e);a.r=r["!row"];var s=Vn(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var l=Gw(e,n-e.l,r);i[3]=In(l,null,a,r.supbooks,r)}else e.l=n;return i}var Mye=gd;function Fye(e,t){var r=e.l+t,n=gd(e),a=sT(e),s=Vn(e),i=Vn(e),l=Vn(e);e.l=r;var c={rfx:n,relId:a,loc:s,display:l};return i&&(c.Tooltip=i),c}function Lye(){}function $ye(e,t,r){var n=e.l+t,a=aW(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var l=Vxe(e,n-e.l,r);i[1]=l}else e.l=n;return i}function Bye(e,t,r){var n=e.l+t,a=gd(e),s=[a];if(r.cellFormula){var i=Gxe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var Uye=["left","right","top","bottom","header","footer"];function Wye(e){var t={};return Uye.forEach(function(r){t[r]=Ln(e)}),t}function zye(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Vye(){}function Hye(){}function Gye(e,t,r,n,a,s,i){if(!e)return e;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,g,p,v,x,b,y,_,S,k=[];l.biff=12,l["!row"]=0;var j=0,E=!1,N=[],A={},O=l.supbooks||a.supbooks||[[]];if(O.sharedf=A,O.arrayf=N,O.SheetNames=a.SheetNames||a.Sheets.map(function(F){return F.name}),!l.supbooks&&(l.supbooks=O,a.Names))for(var P=0;P<a.Names.length;++P)O[0][P+1]=a.Names[P];var U=[],z=[],W=!1;Uy[16]={n:"BrtShortReal",f:UW};var I;if(vl(e,function(D,V,J){if(!h)switch(J){case 148:u=D;break;case 0:m=D,l.sheetRows&&l.sheetRows<=m.r&&(h=!0),_=Nn(v=m.r),l["!row"]=m.r,(D.hidden||D.hpt||D.level!=null)&&(D.hpt&&(D.hpx=T0(D.hpt)),z[D.r]=D);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:D[2]},D[2]){case"n":g.v=D[1];break;case"s":y=Mp[D[1]],g.v=y.t,g.r=y.r;break;case"b":g.v=!!D[1];break;case"e":g.v=D[1],l.cellText!==!1&&(g.w=vd[g.v]);break;case"str":g.t="s",g.v=D[1];break;case"is":g.t="s",g.v=D[1].t;break}if((p=i.CellXf[D[0].iStyleRef])&&$W(g,p.numFmtId,null,l,s,i),x=D[0].c==-1?x+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][x]=g):c[an(x)+_]=g,l.cellFormula){for(E=!1,j=0;j<N.length;++j){var T=N[j];m.r>=T[0].s.r&&m.r<=T[0].e.r&&x>=T[0].s.c&&x<=T[0].e.c&&(g.F=zt(T[0]),E=!0)}!E&&D.length>3&&(g.f=D[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),l.cellDates&&p&&g.t=="n"&&lm(Tt[p.numFmtId])){var G=hu(g.v);G&&(g.t="d",g.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 1:case 12:if(!l.sheetStubs||f)break;g={t:"z",v:void 0},x=D[0].c==-1?x+1:D[0].c,l.dense?(c[v]||(c[v]=[]),c[v][x]=g):c[an(x)+_]=g,d.s.r>m.r&&(d.s.r=m.r),d.s.c>x&&(d.s.c=x),d.e.r<m.r&&(d.e.r=m.r),d.e.c<x&&(d.e.c=x),I&&(I.type=="XLDAPR"&&(g.D=!0),I=void 0);break;case 176:k.push(D);break;case 49:I=((l.xlmeta||{}).Cell||[])[D-1];break;case 494:var M=n["!id"][D.relId];for(M?(D.Target=M.Target,D.loc&&(D.Target+="#"+D.loc),D.Rel=M):D.relId==""&&(D.Target="#"+D.loc),v=D.rfx.s.r;v<=D.rfx.e.r;++v)for(x=D.rfx.s.c;x<=D.rfx.e.c;++x)l.dense?(c[v]||(c[v]=[]),c[v][x]||(c[v][x]={t:"z",v:void 0}),c[v][x].l=D):(b=Nt({c:x,r:v}),c[b]||(c[b]={t:"z",v:void 0}),c[b].l=D);break;case 426:if(!l.cellFormula)break;N.push(D),S=l.dense?c[v][x]:c[an(x)+_],S.f=In(D[1],d,{r:m.r,c:x},O,l),S.F=zt(D[0]);break;case 427:if(!l.cellFormula)break;A[Nt(D[0].s)]=D[1],S=l.dense?c[v][x]:c[an(x)+_],S.f=In(D[1],d,{r:m.r,c:x},O,l);break;case 60:if(!l.cellStyles)break;for(;D.e>=D.s;)U[D.e--]={width:D.w/256,hidden:!!(D.flags&1),level:D.level},W||(W=!0,uT(D.w/256)),wh(U[D.e+1]);break;case 161:c["!autofilter"]={ref:zt(D)};break;case 476:c["!margins"]=D;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),D.name&&(a.Sheets[r].CodeName=D.name),(D.above||D.left)&&(c["!outline"]={above:D.above,left:D.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),D.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!V.T){if(!f||l.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=zt(u||d)),l.sheetRows&&c["!ref"]){var R=Rr(c["!ref"]);l.sheetRows<=+R.e.r&&(R.e.r=l.sheetRows-1,R.e.r>d.e.r&&(R.e.r=d.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>d.e.c&&(R.e.c=d.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=zt(R))}return k.length>0&&(c["!merges"]=k),U.length>0&&(c["!cols"]=U),z.length>0&&(c["!rows"]=z),c}function Kye(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Ht((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function qye(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var l=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Kye(f);d.s.r=d.s.c=0,d.e.c=l,u=an(l),h[0].forEach(function(m,g){i[u+Nn(g)]={t:"n",v:m,z:h[1]},c=g}),d.e.r<c&&(d.e.r=c),++l}),l>0&&(i["!ref"]=zt(d)),i}function Yye(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,l=e.match(BW);return l&&fT(l[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Xye(e,t){e.l+=10;var r=Vn(e);return{name:r}}function Qye(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return vl(e,function(c,u,d){switch(d){case 550:s["!rel"]=c;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),c.name&&(a.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var WW=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Jye=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Zye=[],e1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function GD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=wr(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function KD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=wr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function zW(e){KD(e.WBProps,WW),KD(e.CalcPr,e1e),GD(e.WBView,Jye),GD(e.Sheets,Zye),Df.date1904=wr(e.WBProps.date1904)}var t1e="][*?/\\".split("");function r1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return t1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var n1e=/<\w+:workbook/;function a1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Xn,function(c,u){var d=wt(c);switch(ho(d[0])){case"<?xml":break;case"<workbook":c.match(n1e)&&(a="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":WW.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=wr(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=ur(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Ht(ur(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=ur(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),wr(d.hidden||"0")&&(s.Hidden=!0),i=u+c.length;break;case"</definedName>":s.Ref=Ht(ur(e.slice(i,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),_me.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return zW(r),r}function s1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=D2(e),r.name=Vn(e),r}function i1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Vn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function o1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function l1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Bme(e),i=Hxe(e,0,r),l=sT(e);e.l=n;var c={Name:s,Ptg:i};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function c1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],Uy[16]={n:"BrtFRTArchID$",f:o1e},vl(e,function(c,u,d){switch(d){case 156:i.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=In(c.Ptg,null,null,i,t),delete t.SID,delete c.Ptg,s.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,c]):i[0]=[d,c],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(c),i.XTI=i.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!u.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),zW(r),r.Names=s,r.supbooks=i,r}function u1e(e,t,r){return t.slice(-4)===".bin"?c1e(e,r):a1e(e,r)}function d1e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Gye(e,n,r,a,s,i,l):sye(e,n,r,a,s,i,l)}function f1e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?Qye(e,n,r,a,s):Yye(e,n,r,a,s)}function h1e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?bve():_ve()}function m1e(e,t,r,n,a,s,i,l){return t.slice(-4)===".bin"?yve():wve()}function p1e(e,t,r,n){return t.slice(-4)===".bin"?Mge(e,r,n):Age(e,r,n)}function g1e(e,t,r){return TW(e,r)}function v1e(e,t,r){return t.slice(-4)===".bin"?J0e(e,r):X0e(e,r)}function x1e(e,t,r){return t.slice(-4)===".bin"?gve(e,r):dve(e,r)}function y1e(e,t,r){return t.slice(-4)===".bin"?lve(e):ive(e)}function w1e(e,t,r,n){return r.slice(-4)===".bin"?cve(e,t,r,n):void 0}function b1e(e,t,r){return t.slice(-4)===".bin"?ave(e,t,r):sve(e,t,r)}var VW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,HW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ks(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(VW),s,i,l,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(HW),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(i+1),n[l]=s[2].slice(1,s[2].length-1));return n}function _1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(VW),a,s,i,l;if(n)for(l=0;l!=n.length;++l)a=n[l].match(HW),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Lp;function S1e(e,t){var r=Lp[e]||Ht(e);return r==="General"?Qu(t):Fs(r,t)}function j1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=wr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=gn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ht(t)]=a}function k1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||vd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v):e.w=Qu(e.v):e.w=S1e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Lp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&lm(n)){var a=hu(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function N1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=jge[n.Pattern]||n.Pattern)}e[t.ID]=t}function E1e(e,t,r,n,a,s,i,l,c,u){var d="General",f=n.StyleID,h={};u=u||{};var m=[],g=0;for(f===void 0&&l&&(f=l.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&m.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=wr(e);break;case"String":n.t="s",n.r=pD(Ht(e)),n.v=e.indexOf("<")>-1?Ht(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(gn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Ht(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=oW[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=pD(t||e));break}if(k1e(n,d,u),u.cellFormula!==!1)if(n.Formula){var p=Ht(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=Pf(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Pf("RC:RC",a):n.ArrayRange&&(n.F=Pf(n.ArrayRange,a),c.push([Rr(n.F),n.F]))}else for(g=0;g<c.length;++g)a.r>=c[g][0].s.r&&a.r<=c[g][0].e.r&&a.c>=c[g][0].s.c&&a.c<=c[g][0].e.c&&(n.F=c[g][1]);u.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function C1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function nS(e,t){var r=t||{};D7();var n=op(eT(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ur(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=kn(r);return i.type="string",E0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ot){a.indexOf("<"+ot)>=0&&(s=!0)}),s)return F1e(n,r);Lp={"General Number":"General","General Date":Tt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Tt[15],"Short Date":Tt[14],"Long Time":Tt[19],"Medium Time":Tt[18],"Short Time":Tt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Tt[2],Standard:Tt[4],Percent:Tt[10],Scientific:Tt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],u,d={},f=[],h=r.dense?[]:{},m="",g={},p={},v=Ks('<Data ss:Type="String">'),x=0,b=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},j="",E=0,N=[],A={},O={},P=0,U=[],z=[],W={},I=[],R,F=!1,D=[],V=[],J={},T=0,G=0,M={Sheets:[],WBProps:{date1904:!1}},B={};N0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";l=N0.exec(n);)switch(l[3]=(ee=l[3]).toLowerCase()){case"data":if(ee=="data"){if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?E1e(n.slice(x,l.index),j,v,c[c.length-1][0]=="comment"?W:g,{c:b,r:y},S,I[b],p,D,r):(j="",v=Ks(l[0]),x=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(z.length>0&&(g.c=z),(!r.sheetRows||r.sheetRows>y)&&g.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=g):h[an(b)+Nn(y)]=g),g.HRef&&(g.l={Target:Ht(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(T=b+(parseInt(g.MergeAcross,10)|0),G=y+(parseInt(g.MergeDown,10)|0),N.push({s:{c:b,r:y},e:{c:T,r:G}})),!r.sheetStubs)g.MergeAcross?b=T+1:++b;else if(g.MergeAcross||g.MergeDown){for(var ae=b;ae<=T;++ae)for(var de=y;de<=G;++de)(ae>b||de>y)&&(r.dense?(h[de]||(h[de]=[]),h[de][ae]={t:"z"}):h[an(ae)+Nn(de)]={t:"z"});b=T+1}else++b;else g=_1e(l[0]),g.Index&&(b=+g.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),l[0].slice(-2)==="/>"&&++b,z=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),l[0].slice(-2)==="/>"&&(p=Ks(l[0]),p.Index&&(y=+p.Index-1)),b=0,++y):(p=Ks(l[0]),p.Index&&(y=+p.Index-1),J={},(p.AutoFitHeight=="0"||p.Height)&&(J.hpx=parseInt(p.Height,10),J.hpt=CW(J.hpx),V[y]=J),p.Hidden=="1"&&(J.hidden=!0,V[y]=J));break;case"worksheet":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));f.push(m),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=zt(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=zt(_))),N.length&&(h["!merges"]=N),I.length>0&&(h["!cols"]=I),V.length>0&&(h["!rows"]=V),d[m]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,c.push([l[3],!1]),u=Ks(l[0]),m=Ht(u.Name),h=r.dense?[]:{},N=[],D=[],V=[],B={name:m,Hidden:0},M.Sheets.push(B);break;case"table":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),I=[],F=!1}break;case"style":l[1]==="/"?N1e(S,k,r):k=Ks(l[0]);break;case"numberformat":k.nf=Ht(Ks(l[0]).Format||"General"),Lp[k.nf]&&(k.nf=Lp[k.nf]);for(var re=0;re!=392&&Tt[re]!=k.nf;++re);if(re==392){for(re=57;re!=392;++re)if(Tt[re]==null){Tu(k.nf,re);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(R=Ks(l[0]),R.Hidden&&(R.hidden=!0,delete R.Hidden),R.Width&&(R.wpx=parseInt(R.Width,10)),!F&&R.wpx>10){F=!0,aa=NW;for(var H=0;H<I.length;++H)I[H]&&wh(I[H])}F&&wh(R),I[R.Index-1||I.length]=R;for(var ce=0;ce<+R.Span;++ce)I[I.length]=kn(R);break;case"namedrange":if(l[1]==="/")break;M.Names||(M.Names=[]);var C=wt(l[0]),Ne={Name:C.Name,Ref:Pf(C.RefersTo.slice(1),{r:0,c:0})};M.Sheets.length>0&&(Ne.Sheet=M.Sheets.length-1),M.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?j+=n.slice(E,l.index):E=l.index+l[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=Ks(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?dpe(A,ee,n.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"));C1e(W),z.push(W)}else c.push([l[3],!1]),u=Ks(l[0]),W={a:u.Author};break;case"autofilter":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Te=Ks(l[0]);h["!autofilter"]={ref:Pf(Te.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((u=c.pop())[0]!==l[3])throw new Error("Bad state: "+u.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return ZD(n,r);var Le=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Le=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Le=!1}break;case"excelworkbook":switch(l[3]){case"date1904":M.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Le=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Le=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(P,l.index)){case"SheetHidden":B.Hidden=1;break;case"SheetVeryHidden":B.Hidden=2;break}else P=l.index+l[0].length;break;case"header":h["!margins"]||Fp(h["!margins"]={},"xlml"),isNaN(+wt(l[0]).Margin)||(h["!margins"].header=+wt(l[0]).Margin);break;case"footer":h["!margins"]||Fp(h["!margins"]={},"xlml"),isNaN(+wt(l[0]).Margin)||(h["!margins"].footer=+wt(l[0]).Margin);break;case"pagemargins":var Ie=wt(l[0]);h["!margins"]||Fp(h["!margins"]={},"xlml"),isNaN(+Ie.Top)||(h["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(h["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(h["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(h["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":M.Views||(M.Views=[]),M.Views[0]||(M.Views[0]={}),M.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Le=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Le=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Le=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Le=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Le=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Le=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Le=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Le=!1}break;case"smarttags":break;default:Le=!1;break}if(Le||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?j1e(O,ee,U,n.slice(P,l.index)):(U=l,P=l.index+l[0].length);break}if(r.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var Ee={};return!r.bookSheets&&!r.bookProps&&(Ee.Sheets=d),Ee.SheetNames=f,Ee.Workbook=M,Ee.SSF=kn(Tt),Ee.Props=A,Ee.Custprops=O,Ee}function F2(e,t){switch(pT(t=t||{}),t.type||"base64"){case"base64":return nS(rs(e),t);case"binary":case"buffer":case"file":return nS(e,t);case"array":return nS(md(e),t)}}function T1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=zme(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Vme(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var A1e=[60,1084,2066,2165,2175];function O1e(e,t,r,n,a){var s=n,i=[],l=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&l.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(l)}i.push(l),r.l+=s;for(var c=Bo(r,r.l),u=L2[c],d=0;u!=null&&A1e.indexOf(c)>-1;)s=Bo(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),l=r.slice(d,r.l+4+s),i.push(l),r.l+=4+s,u=L2[c=Bo(r,r.l)];var f=Bl(i);bn(f,0);var h=0;f.lens=[];for(var m=0;m<i.length;++m)f.lens.push(h),h+=i[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ii(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Tt[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||vd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v):e.w=Qu(e.v):e.w=Fs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&lm(Tt[n]||String(n))){var a=hu(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Zv(e,t,r){return{v:e,ixfe:t,t:r}}function P1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},l=null,c=[],u="",d={},f,h="",m,g,p,v,x={},b=[],y,_,S=[],k=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},N=function(Se){return Se<8?Au[Se]:Se<64&&k[Se-8]||Au[Se]},A=function(Se,$e,De){var qe=$e.XF.data;if(!(!qe||!qe.patternType||!De||!De.cellStyles)){$e.s={},$e.s.patternType=qe.patternType;var at;(at=C0(N(qe.icvFore)))&&($e.s.fgColor={rgb:at}),(at=C0(N(qe.icvBack)))&&($e.s.bgColor={rgb:at})}},O=function(Se,$e,De){if(!(J>1)&&!(De.sheetRows&&Se.r>=De.sheetRows)){if(De.cellStyles&&$e.XF&&$e.XF.data&&A(Se,$e,De),delete $e.ixfe,delete $e.XF,f=Se,h=Nt(Se),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Se.r<i.s.r&&(i.s.r=Se.r),Se.c<i.s.c&&(i.s.c=Se.c),Se.r+1>i.e.r&&(i.e.r=Se.r+1),Se.c+1>i.e.c&&(i.e.c=Se.c+1),De.cellFormula&&$e.f){for(var qe=0;qe<b.length;++qe)if(!(b[qe][0].s.c>Se.c||b[qe][0].s.r>Se.r)&&!(b[qe][0].e.c<Se.c||b[qe][0].e.r<Se.r)){$e.F=zt(b[qe][0]),(b[qe][0].s.c!=Se.c||b[qe][0].s.r!=Se.r)&&delete $e.f,$e.f&&($e.f=""+In(b[qe][1],i,Se,D,P));break}}De.dense?(a[Se.r]||(a[Se.r]=[]),a[Se.r][Se.c]=$e):a[h]=$e}},P={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var U,z=[],W=[],I=[],R=[],F=!1,D=[];D.SheetNames=P.snames,D.sharedf=P.sharedf,D.arrayf=P.arrayf,D.names=[],D.XTI=[];var V=0,J=0,T=0,G=[],M=[],B;P.codepage=1200,pi(1200);for(var ee=!1;e.l<e.length-1;){var ae=e.l,de=e.read_shift(2);if(de===0&&V===10)break;var re=e.l===e.length?0:e.read_shift(2),H=L2[de];if(H&&H.f){if(t.bookSheets&&V===133&&de!==133)break;if(V=de,H.r===2||H.r==12){var ce=e.read_shift(2);if(re-=2,!P.enc&&ce!==de&&((ce&255)<<8|ce>>8)!==de)throw new Error("rt mismatch: "+ce+"!="+de);H.r==12&&(e.l+=10,re-=10)}var C={};if(de===10?C=H.f(e,re,P):C=O1e(de,H,e,re,P),J==0&&[9,521,1033,2057].indexOf(V)===-1)continue;switch(de){case 34:r.opts.Date1904=j.WBProps.date1904=C;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=C,!t.password)throw new Error("File is password-protected");if(C.valid==null)throw new Error("Encryption scheme unsupported");if(!C.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=C;break;case 66:var Ne=Number(C);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}pi(P.codepage=Ne),ee=!0;break;case 317:P.rrtabid=C;break;case 25:P.winlocked=C;break;case 439:r.opts.RefreshAll=C;break;case 12:r.opts.CalcCount=C;break;case 16:r.opts.CalcDelta=C;break;case 17:r.opts.CalcIter=C;break;case 13:r.opts.CalcMode=C;break;case 14:r.opts.CalcPrecision=C;break;case 95:r.opts.CalcSaveRecalc=C;break;case 15:P.CalcRefMode=C;break;case 2211:r.opts.FullCalc=C;break;case 129:C.fDialog&&(a["!type"]="dialog"),C.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),C.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(C);break;case 430:D.push([C]),D[D.length-1].XTI=[];break;case 35:case 547:D[D.length-1].push(C);break;case 24:case 536:B={Name:C.Name,Ref:In(C.rgce,i,null,D,P)},C.itab>0&&(B.Sheet=C.itab-1),D.names.push(B),D[0]||(D[0]=[],D[0].XTI=[]),D[D.length-1].push(C),C.Name=="_xlnm._FilterDatabase"&&C.itab>0&&C.rgce&&C.rgce[0]&&C.rgce[0][0]&&C.rgce[0][0][0]=="PtgArea3d"&&(M[C.itab-1]={ref:zt(C.rgce[0][0][1][2])});break;case 22:P.ExternCount=C;break;case 23:D.length==0&&(D[0]=[],D[0].XTI=[]),D[D.length-1].XTI=D[D.length-1].XTI.concat(C),D.XTI=D.XTI.concat(C);break;case 2196:if(P.biff<8)break;B!=null&&(B.Comment=C[1]);break;case 18:a["!protect"]=C;break;case 19:C!==0&&P.WTF&&console.error("Password verifier: "+C);break;case 133:s[C.pos]=C,P.snames.push(C.name);break;case 10:{if(--J)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=zt(i),t.sheetRows&&t.sheetRows<=i.e.r){var Te=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=zt(i),i.e.r=Te}i.e.r++,i.e.c++}z.length>0&&(a["!merges"]=z),W.length>0&&(a["!objects"]=W),I.length>0&&(a["!cols"]=I),R.length>0&&(a["!rows"]=R),j.Sheets.push(E)}u===""?d=a:n[u]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[C.BIFFVer]||8),P.biffguess=C.BIFFVer==0,C.BIFFVer==0&&C.dt==4096&&(P.biff=5,ee=!0,pi(P.codepage=28591)),P.biff==8&&C.BIFFVer==0&&C.dt==16&&(P.biff=2),J++)break;if(a=t.dense?[]:{},P.biff<8&&!ee&&(ee=!0,pi(P.codepage=t.codepage||1252)),P.biff<5||C.BIFFVer==0&&C.dt==4096){u===""&&(u="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Le={pos:e.l-re,name:u};s[Le.pos]=Le,P.snames.push(u)}else u=(s[ae]||{name:""}).name;C.dt==32&&(a["!type"]="chart"),C.dt==64&&(a["!type"]="macro"),z=[],W=[],P.arrayf=b=[],I=[],R=[],F=!1,E={Hidden:(s[ae]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[C.r]||[])[C.c]:a[Nt({c:C.c,r:C.r})])&&++C.c,y={ixfe:C.ixfe,XF:S[C.ixfe]||{},v:C.val,t:"n"},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t);break;case 5:case 517:y={ixfe:C.ixfe,XF:S[C.ixfe],v:C.val,t:C.t},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t);break;case 638:y={ixfe:C.ixfe,XF:S[C.ixfe],v:C.rknum,t:"n"},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t);break;case 189:for(var Ie=C.c;Ie<=C.C;++Ie){var Ee=C.rkrec[Ie-C.c][0];y={ixfe:Ee,XF:S[Ee],v:C.rkrec[Ie-C.c][1],t:"n"},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:Ie,r:C.r},y,t)}break;case 6:case 518:case 1030:{if(C.val=="String"){l=C;break}if(y=Zv(C.val,C.cell.ixfe,C.tt),y.XF=S[y.ixfe],t.cellFormula){var ot=C.formula;if(ot&&ot[0]&&ot[0][0]&&ot[0][0][0]=="PtgExp"){var St=ot[0][0][1][0],Pt=ot[0][0][1][1],Ft=Nt({r:St,c:Pt});x[Ft]?y.f=""+In(C.formula,i,C.cell,D,P):y.F=((t.dense?(a[St]||[])[Pt]:a[Ft])||{}).F}else y.f=""+In(C.formula,i,C.cell,D,P)}T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O(C.cell,y,t),l=C}break;case 7:case 519:if(l)l.val=C,y=Zv(C,l.cell.ixfe,"s"),y.XF=S[y.ixfe],t.cellFormula&&(y.f=""+In(l.formula,i,l.cell,D,P)),T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O(l.cell,y,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(C);var ue=Nt(C[0].s);if(m=t.dense?(a[C[0].s.r]||[])[C[0].s.c]:a[ue],t.cellFormula&&m){if(!l||!ue||!m)break;m.f=""+In(C[1],i,C[0],D,P),m.F=zt(C[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;x[Nt(l.cell)]=C[0],m=t.dense?(a[l.cell.r]||[])[l.cell.c]:a[Nt(l.cell)],(m||{}).f=""+In(C[0],i,f,D,P)}}break;case 253:y=Zv(c[C.isst].t,C.ixfe,"s"),c[C.isst].h&&(y.h=c[C.isst].h),y.XF=S[y.ixfe],T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:C.ixfe,XF:S[C.ixfe],t:"z"},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t));break;case 190:if(t.sheetStubs)for(var Re=C.c;Re<=C.C;++Re){var He=C.ixfe[Re-C.c];y={ixfe:He,XF:S[He],t:"z"},T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:Re,r:C.r},y,t)}break;case 214:case 516:case 4:y=Zv(C.val,C.ixfe,"s"),y.XF=S[y.ixfe],T>0&&(y.z=G[y.ixfe>>8&63]),Ii(y,t,r.opts.Date1904),O({c:C.c,r:C.r},y,t);break;case 0:case 512:J===1&&(i=C);break;case 252:c=C;break;case 1054:if(P.biff==4){G[T++]=C[1];for(var ze=0;ze<T+163&&Tt[ze]!=C[1];++ze);ze>=163&&Tu(C[1],T+163)}else Tu(C[1],C[0]);break;case 30:{G[T++]=C;for(var ft=0;ft<T+163&&Tt[ft]!=C;++ft);ft>=163&&Tu(C,T+163)}break;case 229:z=z.concat(C);break;case 93:W[C.cmo[0]]=P.lastobj=C;break;case 438:P.lastobj.TxO=C;break;case 127:P.lastobj.ImData=C;break;case 440:for(v=C[0].s.r;v<=C[0].e.r;++v)for(p=C[0].s.c;p<=C[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Nt({c:p,r:v})],m&&(m.l=C[1]);break;case 2048:for(v=C[0].s.r;v<=C[0].e.r;++v)for(p=C[0].s.c;p<=C[0].e.c;++p)m=t.dense?(a[v]||[])[p]:a[Nt({c:p,r:v})],m&&m.l&&(m.l.Tooltip=C[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;m=t.dense?(a[C[0].r]||[])[C[0].c]:a[Nt(C[0])];var be=W[C[2]];m||(t.dense?(a[C[0].r]||(a[C[0].r]=[]),m=a[C[0].r][C[0].c]={t:"z"}):m=a[Nt(C[0])]={t:"z"},i.e.r=Math.max(i.e.r,C[0].r),i.s.r=Math.min(i.s.r,C[0].r),i.e.c=Math.max(i.e.c,C[0].c),i.s.c=Math.min(i.s.c,C[0].c)),m.c||(m.c=[]),g={a:C[1],t:be.TxO.t},m.c.push(g)}break;case 2173:eve(S[C.ixfe],C.ext);break;case 125:{if(!P.cellStyles)break;for(;C.e>=C.s;)I[C.e--]={width:C.w/256,level:C.level||0,hidden:!!(C.flags&1)},F||(F=!0,uT(C.w/256)),wh(I[C.e+1])}break;case 520:{var _e={};C.level!=null&&(R[C.r]=_e,_e.level=C.level),C.hidden&&(R[C.r]=_e,_e.hidden=!0),C.hpt&&(R[C.r]=_e,_e.hpt=C.hpt,_e.hpx=T0(C.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Fp(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=C;break;case 161:a["!margins"]||Fp(a["!margins"]={}),a["!margins"].header=C.header,a["!margins"].footer=C.footer;break;case 574:C.RTL&&(j.Views[0].RTL=!0);break;case 146:k=C;break;case 2198:U=C;break;case 140:_=C;break;case 442:u?E.CodeName=C||E.name:j.WBProps.CodeName=C||"ThisWorkbook";break}}else H||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=re}return r.SheetNames=io(s).sort(function(le,Se){return Number(le)-Number(Se)}).map(function(le){return s[le].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&M.forEach(function(le,Se){r.Sheets[r.SheetNames[Se]]["!autofilter"]=le}),r.Strings=c,r.SSF=kn(Tt),P.enc&&(r.Encryption=P.enc),U&&(r.Themes=U),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),D.names.length>0&&(j.Names=D.names),r.Workbook=j,r}var qD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function D1e(e,t,r){var n=Wt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=OD(n,Xme,qD.DSI);for(var s in a)t[s]=a[s]}catch(u){if(r.WTF)throw u}var i=Wt.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var l=OD(i,Qme,qD.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(cW(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function GW(e,t){t||(t={}),pT(t),b7(),t.codepage&&KC(t.codepage);var r,n;if(e.FullPaths){if(Wt.find(e,"/encryption"))throw new Error("File is password-protected");r=Wt.find(e,"!CompObj"),n=Wt.find(e,"/Workbook")||Wt.find(e,"/Book")}else{switch(t.type){case"base64":e=fi(rs(e));break;case"binary":e=fi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}bn(e,0),n={content:e}}var a,s;if(r&&T1e(r),t.bookProps&&!t.bookSheets)a={};else{var i=Bt?"buffer":"array";if(n&&n.content)a=P1e(n.content,t);else if((s=Wt.find(e,"PerfectOffice_MAIN"))&&s.content)a=Ip.to_workbook(s.content,(t.type=i,t));else if((s=Wt.find(e,"NativeContent_MAIN"))&&s.content)a=Ip.to_workbook(s.content,(t.type=i,t));else throw(s=Wt.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Wt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=xve(e))}var l={};return e.FullPaths&&D1e(e,l,t),a.Props=a.Custprops=l,t.bookFiles&&(a.cfb=e),a}var Uy={0:{f:mye},1:{f:xye},2:{f:Eye},3:{f:_ye},4:{f:wye},5:{f:Nye},6:{f:Aye},7:{f:jye},8:{f:Iye},9:{f:Rye},10:{f:Pye},11:{f:Dye},12:{f:yye},13:{f:Cye},14:{f:Sye},15:{f:bye},16:{f:UW},17:{f:Oye},18:{f:kye},19:{f:aT},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:l1e},40:{},42:{},43:{f:Pge},44:{f:Oge},45:{f:Dge},46:{f:Ige},47:{f:Rge},48:{},49:{f:Mme},50:{},51:{f:rve},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bW},62:{f:Tye},63:{f:ove},64:{f:Vye},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:zye},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vye},148:{f:pye,p:16},151:{f:Lye},152:{},153:{f:i1e},154:{},155:{},156:{f:s1e},157:{},158:{},159:{T:1,f:Q0e},160:{T:-1},161:{T:1,f:gd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Mye},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tve},336:{T:-1},337:{f:nve,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:D2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$ye},427:{f:Bye},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Wye},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:gye},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Fye},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:D2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:pve},633:{T:1},634:{T:-1},635:{T:1,f:mve},636:{T:-1},637:{f:Lme},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Xye},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Hye},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},L2={6:{f:tS},10:{f:Al},12:{f:Vr},13:{f:Vr},14:{f:Ir},15:{f:Ir},16:{f:Ln},17:{f:Ir},18:{f:Ir},19:{f:Vr},20:{f:ID},21:{f:ID},23:{f:wW},24:{f:FD},25:{f:Ir},26:{},27:{},28:{f:f0e},29:{},34:{f:Ir},35:{f:MD},38:{f:Ln},39:{f:Ln},40:{f:Ln},41:{f:Ln},42:{f:Ir},43:{f:Ir},47:{f:gge},49:{f:Kpe},51:{f:Vr},60:{},61:{f:Vpe},64:{f:Ir},65:{f:Gpe},66:{f:Vr},77:{},80:{},81:{},82:{},85:{f:Vr},89:{},90:{},91:{},92:{f:Mpe},93:{f:m0e},94:{},95:{f:Ir},96:{},97:{},99:{f:Ir},125:{f:bW},128:{f:n0e},129:{f:Fpe},130:{f:Vr},131:{f:Ir},132:{f:Ir},133:{f:Lpe},134:{},140:{f:w0e},141:{f:Vr},144:{},146:{f:_0e},151:{},152:{},153:{},154:{},155:{},156:{f:Vr},157:{},158:{},160:{f:E0e},161:{f:j0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Zpe},190:{f:e0e},193:{f:Al},197:{},198:{},199:{},200:{},201:{},202:{f:Ir},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vr},220:{},221:{f:Ir},222:{},224:{f:r0e},225:{f:Ipe},226:{f:Al},227:{},229:{f:h0e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$pe},253:{f:qpe},255:{f:Bpe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ir},353:{f:Al},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:s0e},431:{f:Ir},432:{},433:{},434:{},437:{},438:{f:v0e},439:{f:Ir},440:{f:x0e},441:{},442:{f:Hg},443:{},444:{f:Vr},445:{},446:{},448:{f:Al},449:{f:zpe,r:2},450:{f:Al},512:{f:DD},513:{f:N0e},515:{f:a0e},516:{f:Ype},517:{f:RD},519:{f:C0e},520:{f:Upe},523:{},545:{f:LD},549:{f:PD},566:{},574:{f:Hpe},638:{f:Jpe},659:{},1048:{},1054:{f:Xpe},1084:{},1212:{f:c0e},2048:{f:y0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Xv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Al},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:S0e,r:12},2173:{f:Zge,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ir,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:l0e,r:12},2197:{},2198:{f:Kge,r:12},2199:{},2200:{},2201:{},2202:{f:u0e,r:12},2203:{f:Al},2204:{},2205:{},2206:{},2207:{},2211:{f:Wpe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:k0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:b0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DD},1:{},2:{f:P0e},3:{f:O0e},4:{f:A0e},5:{f:RD},7:{f:D0e},8:{},9:{f:Xv},11:{},22:{f:Vr},30:{f:Qpe},31:{},32:{},33:{f:LD},36:{},37:{f:PD},50:{f:R0e},62:{},52:{},67:{},68:{f:Vr},69:{},86:{},126:{},127:{f:T0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:I0e},223:{},234:{},354:{},421:{},518:{f:tS},521:{f:Xv},536:{f:FD},547:{f:MD},561:{},579:{},1030:{f:tS},1033:{f:Xv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function qs(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&tW(r)&&e.push(r)}}function YD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,l=s&&s.index||e.length,c=ame(e.slice(i,l),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(i=0;i<c.length;++i){var p=c[i].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(v!="<td"&&v!="<th")){var x=p.split(/<\/t[dh]>/i);for(l=0;l<x.length;++l){var b=x[l].trim();if(b.match(/<t[dh]/i)){for(var y=b,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var S=0;S<g.length;++S){var k=g[S];k.s.c==d&&k.s.r<u&&u<=k.e.r&&(d=k.e.c+1,S=-1)}var j=wt(b.slice(0,b.indexOf(">")));h=j.colspan?+j.colspan:1,((f=+j.rowspan)>1||h>1)&&g.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+h-1}});var E=j.t||j["data-t"]||"";if(!y.length){d+=h;continue}if(y=W7(y),m.s.r>u&&(m.s.r=u),m.e.r<u&&(m.e.r=u),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!y.length){d+=h;continue}var N={t:"s",v:y};r.raw||!y.trim().length||E=="s"||(y==="TRUE"?N={t:"b",v:!0}:y==="FALSE"?N={t:"b",v:!1}:isNaN(wi(y))?isNaN(yh(y).getDate())||(N={t:"d",v:gn(y)},r.cellDates||(N={t:"n",v:fa(N.v)}),N.z=r.dateNF||Tt[14]):N={t:"n",v:wi(y)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=N):n[Nt({r:u,c:d})]=N,d+=h}}}}return n["!ref"]=zt(m),g.length&&(n["!merges"]=g),n}function R1e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>i)&&!(a[u].e.r<r||a[u].e.c<i)){if(a[u].s.r<r||a[u].s.c<i){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Nt({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||ZC(f.w||(ll(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push(wme("td",h,m))}}var g="<tr>";return g+s.join("")+"</tr>"}var I1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',M1e="</body></html>";function F1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Ic(YD(r[0],t),t);var n=vT();return r.forEach(function(a,s){xT(n,YD(a,t),"Sheet"+(s+1))}),n}function L1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $1e(e,t){var r=t||{},n=r.header!=null?r.header:I1e,a=r.footer!=null?r.footer:M1e,s=[n],i=cm(e["!ref"]);r.dense=Array.isArray(e),s.push(L1e(e,i,r));for(var l=i.s.r;l<=i.e.r;++l)s.push(R1e(e,i,l,r));return s.push("</table>"+a),s.join("")}function KW(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?ia(n.origin):n.origin;a=i.r,s=i.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=cm(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),g=0,p=0,v=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);g<l.length&&p<c;++g){var _=l[g];if(XD(_)){if(n.display)continue;m[p]={hidden:!0}}var S=_.children;for(v=x=0;v<S.length;++v){var k=S[v];if(!(n.display&&XD(k))){var j=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):W7(k.innerHTML),E=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var N=f[h];N.s.c==x+s&&N.s.r<p+a&&p+a<=N.e.r&&(x=N.e.c+1-s,h=-1)}y=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:p+a,c:x+s},e:{r:p+a+(b||1)-1,c:x+s+(y||1)-1}});var A={t:"s",v:j},O=k.getAttribute("data-t")||k.getAttribute("t")||"";j!=null&&(j.length==0?A.t=O||"z":n.raw||j.trim().length==0||O=="s"||(j==="TRUE"?A={t:"b",v:!0}:j==="FALSE"?A={t:"b",v:!1}:isNaN(wi(j))?isNaN(yh(j).getDate())||(A={t:"d",v:gn(j)},n.cellDates||(A={t:"n",v:fa(A.v)}),A.z=n.dateNF||Tt[14]):A={t:"n",v:wi(j)})),A.z===void 0&&E!=null&&(A.z=E);var P="",U=k.getElementsByTagName("A");if(U&&U.length)for(var z=0;z<U.length&&!(U[z].hasAttribute("href")&&(P=U[z].getAttribute("href"),P.charAt(0)!="#"));++z);P&&P.charAt(0)!="#"&&(A.l={Target:P}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][x+s]=A):e[Nt({c:x+s,r:p+a})]=A,u.e.c<x+s&&(u.e.c=x+s),x+=y}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=zt(u),p>=c&&(e["!fullref"]=zt((u.e.r=l.length-g+p-1+a,u))),e}function qW(e,t){var r=t||{},n=r.dense?[]:{};return KW(n,e,t)}function B1e(e,t){return Ic(qW(e,t),t)}function XD(e){var t="",r=U1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function U1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function W1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ht(t.replace(/<[^>]*>/g,""));return[r]}var QD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function YW(e,t){var r=t||{},n=eT(e),a=[],s,i,l={name:""},c="",u=0,d,f,h={},m=[],g=r.dense?[]:{},p,v,x={value:""},b="",y=0,_=[],S=-1,k=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,N={},A=[],O={},P=0,U=0,z=[],W=1,I=1,R=[],F={Names:[]},D={},V=["",""],J=[],T={},G="",M=0,B=!1,ee=!1,ae=0;for(N0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=N0.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?g["!ref"]=zt(j):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(g["!fullref"]=g["!ref"],j.e.r=r.sheetRows-1,g["!ref"]=zt(j)),A.length&&(g["!merges"]=A),z.length&&(g["!rows"]=z),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),h[d.name]=g,ee=!1):p[0].charAt(p[0].length-2)!=="/"&&(d=wt(p[0],!1),S=k=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,g=r.dense?[]:{},A=[],z=[],ee=!0);break;case"table-row-group":p[1]==="/"?--E:++E;break;case"table-row":case"":if(p[1]==="/"){S+=W,W=1;break}if(f=wt(p[0],!1),f.?S=f.-1:S==-1&&(S=0),W=+f["number-rows-repeated"]||1,W<10)for(ae=0;ae<W;++ae)E>0&&(z[S+ae]={level:E});k=-1;break;case"covered-table-cell":p[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(g[S]||(g[S]=[]),g[S][k]={t:"z"}):g[Nt({r:S,c:k})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++k,x=wt(p[0],!1),I=parseInt(x["number-columns-repeated"]||"1",10),v={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(v.f=HD(Ht(x.formula))),(x.||x["value-type"])=="string"&&(v.t="s",v.v=Ht(x["string-value"]||""),r.dense?(g[S]||(g[S]=[]),g[S][k]=v):g[Nt({r:S,c:k})]=v),k+=I-1;else if(p[1]!=="/"){++k,b="",y=0,_=[],I=1;var de=W?S+W-1:S;if(k>j.e.c&&(j.e.c=k),k<j.s.c&&(j.s.c=k),S<j.s.r&&(j.s.r=S),de>j.e.r&&(j.e.r=de),x=wt(p[0],!1),J=[],T={},v={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Ht(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(P=parseInt(x["number-matrix-rows-spanned"],10)||0,U=parseInt(x["number-matrix-columns-spanned"],10)||0,O={s:{r:S,c:k},e:{r:S+P-1,c:k+U-1}},v.F=zt(O),R.push([O,v.F])),x.formula)v.f=HD(x.formula);else for(ae=0;ae<R.length;++ae)S>=R[ae][0].s.r&&S<=R[ae][0].e.r&&k>=R[ae][0].s.c&&k<=R[ae][0].e.c&&(v.F=R[ae][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(P=parseInt(x["number-rows-spanned"],10)||0,U=parseInt(x["number-columns-spanned"],10)||0,O={s:{r:S,c:k},e:{r:S+P-1,c:k+U-1}},A.push(O)),x["number-columns-repeated"]&&(I=parseInt(x["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=wr(x["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(x.value);break;case"percentage":v.t="n",v.v=parseFloat(x.value);break;case"currency":v.t="n",v.v=parseFloat(x.value);break;case"date":v.t="d",v.v=gn(x["date-value"]),r.cellDates||(v.t="n",v.v=fa(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=tme(x["time-value"])/86400,r.cellDates&&(v.t="d",v.v=zw(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(x.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",x["string-value"]!=null&&(b=Ht(x["string-value"]),_=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(B=!1,v.t==="s"&&(v.v=b||"",_.length&&(v.R=_),B=y==0),D.Target&&(v.l=D),J.length>0&&(v.c=J,J=[]),b&&r.cellText!==!1&&(v.w=b),B&&(v.t="z",delete v.v),(!B||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var re=0;re<W;++re){if(I=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(g[S+re]||(g[S+re]=[]),g[S+re][k]=re==0?v:kn(v);--I>0;)g[S+re][k+I]=kn(v);else for(g[Nt({r:S+re,c:k})]=v;--I>0;)g[Nt({r:S+re,c:k+I})]=kn(v);j.e.c<=k&&(j.e.c=k)}I=parseInt(x["number-columns-repeated"]||"1",10),k+=I-1,I=0,v={},b="",_=[]}D={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s;T.t=b,_.length&&(T.R=_),T.a=G,J.push(T)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);G="",M=0,b="",y=0,_=[];break;case"creator":p[1]==="/"?G=n.slice(M,p.index):M=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);b="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(N[l.name]=c,(s=a.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(c="",l=wt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=wt(p[0],!1),c+=QD[p[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=wt(p[0],!1),c+=QD[p[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,p.index);break}else u=p.index+p[0].length;break;case"named-range":i=wt(p[0],!1),V=rS(i["cell-range-address"]);var H={Name:i.name,Ref:V[0]+"!"+V[1]};ee&&(H.Sheet=m.length),F.Names.push(H);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!x||!x["string-value"])){var ce=W1e(n.slice(y,p.index));b=(b.length>0?b+`
`:"")+ce[0]}else wt(p[0],!1),y=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{V=rS(wt(p[0])["target-range-address"]),h[V[0]]["!autofilter"]={ref:V[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(D=wt(p[0],!1),!D.href)break;D.Target=Ht(D.href),delete D.href,D.Target.charAt(0)=="#"&&D.Target.indexOf(".")>-1?(V=rS(D.Target.slice(1)),D.Target="#"+V[0]+"!"+V[1]):D.Target.match(/^\.\.[\\\/]/)&&(D.Target=D.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(p)}}var C={Sheets:h,SheetNames:m,Workbook:F};return r.bookSheets&&delete C.Sheets,C}function JD(e,t){t=t||{},hs(e,"META-INF/manifest.xml")&&ape(zr(e,"META-INF/manifest.xml"),t);var r=Ka(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=YW(ur(r),t);return hs(e,"meta.xml")&&(n.Props=lW(zr(e,"meta.xml"))),n}function ZD(e,t){return YW(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function hT(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):ur(md(e))}function B2(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function eR(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function z1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function A0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function on(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Un(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=A0(e,r),s=a&7;a=Math.floor(a/8);var i=0,l;if(a==0)break;switch(s){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:i=4,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=A0(e,r),l=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:s};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function mT(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function V1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=A0(e,n),s=Un(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:on(s[1][0].data),messages:[]};s[2].forEach(function(l){var c=Un(l.data),u=on(c[3][0].data);i.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=s[3])!=null&&t[0]&&(i.merge=on(s[3][0].data)>>>0>0),r.push(i)}return r}function H1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=A0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var l=i-59;i=t[r[0]],l>1&&(i|=t[r[0]+1]<<8),l>2&&(i|=t[r[0]+2]<<16),l>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=l}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var c=0,u=0;if(s==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,s==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[B2(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=B2(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function G1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(H1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return B2(t)}function K1e(e,t,r,n){var a=hT(e),s=a.getUint32(4,!0),i=(n>1?12:8)+eR(s&(n>1?3470:398))*4,l=-1,c=-1,u=NaN,d=new Date(2001,0,1);s&512&&(l=a.getUint32(i,!0),i+=4),i+=eR(s&(n>1?12288:4096))*4,s&16&&(c=a.getUint32(i,!0),i+=4),s&32&&(u=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:t[c]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(l>-1)f={t:"s",v:r[l]};else if(c>-1)f={t:"s",v:t[c]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function q1e(e,t,r){var n=hT(e),a=n.getUint32(8,!0),s=12,i=-1,l=-1,c=NaN,u=NaN,d=new Date(2001,0,1);a&1&&(c=z1e(e,s),s+=16),a&2&&(u=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(l=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Y1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return K1e(e,t,r,e[0]);case 5:return q1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function pc(e){var t=Un(e);return A0(t[1][0].data)}function tR(e,t){var r=Un(t.data),n=on(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var l=Un(i.data),c=on(l[1][0].data)>>>0;switch(n){case 1:s[c]=$2(l[3][0].data);break;case 8:{var u=e[pc(l[9][0].data)][0],d=Un(u.data),f=e[pc(d[1][0].data)][0],h=on(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Un(f.data);s[c]=m[3].map(function(g){return $2(g.data)}).join("")}break}}),s}function X1e(e,t){var r,n,a,s,i,l,c,u,d,f,h,m,g,p,v=Un(e),x=on(v[1][0].data)>>>0,b=on(v[2][0].data)>>>0,y=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&on(v[8][0].data)>0||!1,_,S;if((s=(a=v[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(l=(i=v[7])==null?void 0:i[0])==null?void 0:l.data,S=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((f=(d=v[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,S=(p=(g=v[3])==null?void 0:g[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=y?4:1,j=hT(_),E=[],N=0;N<_.length/2;++N){var A=j.getUint16(N*2,!0);A<65535&&E.push([N,A])}if(E.length!=b)throw"Expected ".concat(b," cells, found ").concat(E.length);var O=[];for(N=0;N<E.length-1;++N)O[E[N][0]]=S.subarray(E[N][1]*k,E[N+1][1]*k);return E.length>=1&&(O[E[E.length-1][0]]=S.subarray(E[E.length-1][1]*k)),{R:x,cells:O}}function Q1e(e,t){var r,n=Un(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?on(n[7][0].data)>>>0>0?1:0:-1,s=mT(n[5],function(i){return X1e(i,a)});return{nrows:on(n[4][0].data)>>>0,data:s.reduce(function(i,l){return i[l.R]||(i[l.R]=[]),l.cells.forEach(function(c,u){if(i[l.R][u])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(u));i[l.R][u]=c}),i},[])}}function J1e(e,t,r){var n,a=Un(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(on(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(on(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=zt(s);var i=Un(a[4][0].data),l=tR(e,e[pc(i[4][0].data)][0]),c=(n=i[17])!=null&&n[0]?tR(e,e[pc(i[17][0].data)][0]):[],u=Un(i[3][0].data),d=0;u[1].forEach(function(f){var h=Un(f.data),m=e[pc(h[2][0].data)][0],g=on(m.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var p=Q1e(e,m);p.data.forEach(function(v,x){v.forEach(function(b,y){var _=Nt({r:d+x,c:y}),S=Y1e(b,l,c);S&&(r[_]=S)})}),d+=p.nrows})}function Z1e(e,t){var r=Un(t.data),n={"!ref":"A1"},a=e[pc(r[2][0].data)],s=on(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return J1e(e,a[0],n),n}function ewe(e,t){var r,n=Un(t.data),a={name:(r=n[1])!=null&&r[0]?$2(n[1][0].data):"",sheets:[]},s=mT(n[2],pc);return s.forEach(function(i){e[i].forEach(function(l){var c=on(l.meta[1][0].data);c==6e3&&a.sheets.push(Z1e(e,l))})}),a}function twe(e,t){var r=vT(),n=Un(t.data),a=mT(n[1],pc);if(a.forEach(function(s){e[s].forEach(function(i){var l=on(i.meta[1][0].data);if(l==2){var c=ewe(e,i);c.sheets.forEach(function(u,d){xT(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function aS(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=G1e(c.content)}catch(f){return console.log("?? "+c.content.length+" "+(f.message||f))}var d;try{d=V1e(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var l=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&on(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||i.forEach(function(c){s[c].forEach(function(u){var d=on(u.meta[1][0].data)>>>0;if(d==1)if(!l)l=u;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return twe(s,l)}function rwe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function pT(e){rwe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function nwe(e){return ff.WS.indexOf(e)>-1?"sheet":e==ff.CS?"chart":e==ff.DS?"dialog":e==ff.MS?"macro":e&&e.length?e:"sheet"}function awe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,nwe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function swe(e,t,r,n,a,s,i,l,c,u,d,f){try{s[n]=Dp(Ka(e,r,!0),t);var h=zr(e,t),m;switch(l){case"sheet":m=d1e(h,t,a,c,s[n],u,d,f);break;case"chart":if(m=f1e(h,t,a,c,s[n],u,d,f),!m||!m["!drawel"])break;var g=cp(m["!drawel"].Target,t),p=R2(g),v=uve(Ka(e,g,!0),Dp(Ka(e,p,!0),g)),x=cp(v,g),b=R2(x);m=qye(Ka(e,x,!0),x,c,Dp(Ka(e,b,!0),x),u,m);break;case"macro":m=h1e(h,t,a,c,s[n],u,d,f);break;case"dialog":m=m1e(h,t,a,c,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+l)}i[n]=m;var y=[];s&&s[n]&&io(s[n]).forEach(function(_){var S="";if(s[n][_].Type==ff.CMNT){S=cp(s[n][_].Target,t);var k=x1e(zr(e,S,!0),S,c);if(!k||!k.length)return;BD(m,k,!1)}s[n][_].Type==ff.TCMNT&&(S=cp(s[n][_].Target,t),y=y.concat(fve(zr(e,S,!0),c)))}),y&&y.length&&BD(m,y,!0,c.people||[])}catch(_){if(c.WTF)throw _}}function ls(e){return e.charAt(0)=="/"?e.slice(1):e}function iwe(e,t){if(D7(),t=t||{},pT(t),hs(e,"META-INF/manifest.xml")||hs(e,"objectdata.xml"))return JD(e,t);if(hs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof aS<"u"){if(e.FileIndex)return aS(e);var r=Wt.utils.cfb_new();return hD(e).forEach(function(z){ome(r,z,ime(e,z))}),aS(r)}throw new Error("Unsupported NUMBERS file")}if(!hs(e,"[Content_Types].xml"))throw hs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):hs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=hD(e),a=rpe(Ka(e,"[Content_Types].xml")),s=!1,i,l;if(a.workbooks.length===0&&(l="xl/workbook.xml",zr(e,l,!0)&&a.workbooks.push(l)),a.workbooks.length===0){if(l="xl/workbook.bin",!zr(e,l,!0))throw new Error("Could not find workbook");a.workbooks.push(l),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Mp=[],a.sst)try{Mp=v1e(zr(e,ls(a.sst)),a.sst,t)}catch(z){if(t.WTF)throw z}t.cellStyles&&a.themes.length&&(c=g1e(Ka(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(u=p1e(zr(e,ls(a.style)),a.style,c,t))}a.links.map(function(z){try{var W=Dp(Ka(e,R2(ls(z))),z);return w1e(zr(e,ls(z)),W,z,t)}catch{}});var d=u1e(zr(e,ls(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=zr(e,ls(a.coreprops[0]),!0),h&&(f=lW(h)),a.extprops.length!==0&&(h=zr(e,ls(a.extprops[0]),!0),h&&ope(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Ka(e,ls(a.custprops[0]),!0),h&&(m=cpe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(W){return W.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=m),t.bookSheets&&typeof i<"u"&&(g.SheetNames=i),t.bookSheets?g.SheetNames:t.bookProps))return g;i={};var p={};t.bookDeps&&a.calcchain&&(p=y1e(zr(e,ls(a.calcchain)),a.calcchain));var v=0,x={},b,y;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",j=a.workbooks[0].lastIndexOf("/"),E=(a.workbooks[0].slice(0,j+1)+"_rels/"+a.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");hs(e,E)||(E="xl/_rels/workbook."+k+".rels");var N=Dp(Ka(e,E,!0),E.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=b1e(zr(e,ls(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=hve(zr(e,ls(a.people[0])),t)),N&&(N=awe(N,d.Sheets));var A=zr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var O="sheet";if(N&&N[v]?(b="xl/"+N[v][1].replace(/[\/]?xl\//,""),hs(e,b)||(b=N[v][1]),hs(e,b)||(b=E.replace(/_rels\/.*$/,"")+N[v][1]),O=N[v][2]):(b="xl/worksheets/sheet"+(v+1-A)+"."+k,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,U=0;U!=t.sheets.length;++U)typeof t.sheets[U]=="number"&&t.sheets[U]==v&&(P=1),typeof t.sheets[U]=="string"&&t.sheets[U].toLowerCase()==f.SheetNames[v].toLowerCase()&&(P=1);if(!P)continue e}}swe(e,b,y,f.SheetNames[v],v,x,i,O,t,d,c,u)}return g={Directory:a,Workbook:d,Props:f,Custprops:m,Deps:p,Sheets:i,SheetNames:f.SheetNames,Strings:Mp,Styles:u,Themes:c,SSF:kn(Tt)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(z,W){z=z.replace(/^Root Entry[\/]/,""),g.keys.push(z),g.files[z]=e.FileIndex[W]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=zr(e,ls(a.vba[0]),!0):a.defaults&&a.defaults.bin===vve&&(g.vbaraw=zr(e,"xl/vbaProject.bin",!0))),g}function owe(e,t){var r=t||{},n="Workbook",a=Wt.find(e,n);try{if(n="/!DataSpaces/Version",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Z0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=tge(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=rge(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);age(a.content)}catch{}if(n="/EncryptionInfo",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=sge(a.content);if(n="/EncryptedPackage",a=Wt.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],a.content,r.password||"",r);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function gT(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=rs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function lwe(e,t){return Wt.find(e,"EncryptedPackage")?owe(e,t):GW(e,t)}function cwe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Bt&&Buffer.isBuffer(e)?"buffer":"base64"),r=$7(n,a),iwe(r,a)}function XW(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return F2(e.slice(r),t);default:break e}return E0.to_workbook(e,t)}function uwe(e,t){var r="",n=gT(e,t);switch(t.type){case"base64":r=rs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Ju(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ur(r)),t.type="binary",XW(r,t)}function dwe(e,t){var r=e;return t.type=="base64"&&(r=rs(r)),r=$l.utils.decode(1200,r.slice(2),"str"),t.type="binary",XW(r,t)}function fwe(e){return e.match(/[^\x00-\x7F]/)?up(e):e}function sS(e,t,r,n){return n?(r.type="string",E0.to_workbook(e,r)):E0.to_workbook(t,r)}function U2(e,t){b7();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return U2(new Uint8Array(e),(r=kn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Df={},r.dateNF&&(Df.dateNF=r.dateNF),r.type||(r.type=Bt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Bt?"buffer":"binary",n=Zhe(e),typeof Uint8Array<"u"&&!Bt&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=fwe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),l=new Uint8Array(i);if(l.foo="bar",!l.foo)return r=kn(r),r.type="array",U2(qC(n),r)}switch((a=gT(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return lwe(Wt.read(n,r),r);break;case 9:if(a[1]<=8)return GW(n,r);break;case 60:return F2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return B0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return L0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?cwe(n,r):sS(e,n,r,s);case 239:return a[3]===60?F2(n,r):sS(e,n,r,s);case 255:if(a[1]===254)return dwe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Ip.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Ip.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return $D.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return vge.to_workbook(n,r);break;case 10:case 13:case 32:return uwe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return M0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?$D.to_workbook(n,r):sS(e,n,r,s)}function hwe(e,t,r,n,a,s,i,l){var c=Nn(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var m=t.s.c;m<=t.e.c;++m){var g=i?e[r][m]:e[n[m]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[m]!=null&&(h[s[m]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[m]!=null){if(p==null)if(g.t=="e"&&p===null)h[s[m]]=null;else if(u!==void 0)h[s[m]]=u;else if(d&&p===null)h[s[m]]=null;else continue;else h[s[m]]=d&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:ll(g,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function W2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=Rr(d);break;case"number":c=Rr(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=Nn(c.s.r),h=[],m=[],g=0,p=0,v=Array.isArray(e),x=c.s.r,b=0,y={};v&&!e[x]&&(e[x]=[]);var _=u.skipHidden&&e["!cols"]||[],S=u.skipHidden&&e["!rows"]||[];for(b=c.s.c;b<=c.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=an(b),r=v?e[x][b]:e[h[b]+f],n){case 1:s[b]=b-c.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=u.header[b-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=i=ll(r,null,u),p=y[i]||0,!p)y[i]=1;else{do l=i+"_"+p++;while(y[l]);y[i]=p,y[l]=1}s[b]=l}for(x=c.s.r+a;x<=c.e.r;++x)if(!(S[x]||{}).hidden){var k=hwe(e,c,x,h,n,s,v,u);(k.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[g++]=k.row)}return m.length=g,m}var rR=/"/g;function mwe(e,t,r,n,a,s,i,l){for(var c=!0,u=[],d="",f=Nn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)d="";else if(m.v!=null){c=!1,d=""+(l.rawNumbers&&m.t=="n"?m.v:ll(m,null,l));for(var g=0,p=0;g!==d.length;++g)if((p=d.charCodeAt(g))===a||p===s||p===34||l.forceQuotes){d='"'+d.replace(rR,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(c=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(rR,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(i)}function QW(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Rr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=an(g));for(var p=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(d=mwe(e,a,v,f,i,c,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((p++?l:"")+d)));return delete n.dense,r.join("")}function pwe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=QW(e,t);return r}function gwe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Rr(e["!ref"]),s="",i=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)i[l]=an(l);for(var d=a.s.r;d<=a.e.r;++d)for(s=Nn(d),l=a.s.c;l<=a.e.c;++l)if(t=i[l]+s,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function JW(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,l=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var c=typeof n.origin=="string"?ia(n.origin):n.origin;i=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:i+t.length-1+a}};if(s["!ref"]){var f=Rr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,v){io(p).forEach(function(x){(m=h.indexOf(x))==-1&&(h[m=h.length]=x);var b=p[x],y="z",_="",S=Nt({c:l+m,r:i+v+a});u=O0(s,S),b&&typeof b=="object"&&!(b instanceof Date)?s[S]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=fa(b)),_=n.dateNF||Tt[14]):b===null&&n.nullError&&(y="e",b=0),u?(u.t=y,u.v=b,delete u.w,delete u.R,_&&(u.z=_)):s[S]=u={t:y,v:b},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,l+h.length-1);var g=Nn(i);if(a)for(m=0;m<h.length;++m)s[an(m+l)+g]={t:"s",v:h[m]};return s["!ref"]=zt(d),s}function vwe(e,t){return JW(null,e,t)}function O0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ia(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?O0(e,Nt(t)):O0(e,Nt({r:t,c:r||0}))}function xwe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function vT(){return{SheetNames:[],Sheets:{}}}function xT(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(r1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function ywe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=xwe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function wwe(e,t){return e.z=t,e}function ZW(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function bwe(e,t,r){return ZW(e,"#"+t,r)}function _we(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Swe(e,t,r,n){for(var a=typeof t!="string"?t:Rr(t),s=typeof t=="string"?t:zt(t),i=a.s.r;i<=a.e.r;++i)for(var l=a.s.c;l<=a.e.c;++l){var c=O0(e,i,l);c.t="n",c.F=s,delete c.v,i==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var jwe={encode_col:an,encode_row:Nn,encode_cell:Nt,encode_range:zt,decode_col:nT,decode_row:rT,split_cell:Ime,decode_cell:ia,decode_range:cm,format_cell:ll,sheet_add_aoa:nW,sheet_add_json:JW,sheet_add_dom:KW,aoa_to_sheet:um,json_to_sheet:vwe,table_to_sheet:qW,table_to_book:B1e,sheet_to_csv:QW,sheet_to_txt:pwe,sheet_to_json:W2,sheet_to_html:$1e,sheet_to_formulae:gwe,sheet_to_row_object_array:W2,sheet_get_cell:O0,book_new:vT,book_append_sheet:xT,book_set_sheet_visibility:ywe,cell_set_number_format:wwe,cell_set_hyperlink:ZW,cell_set_internal_link:bwe,cell_add_comment:_we,sheet_set_array_formula:Swe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function kwe({templates:e,templateFields:t,onImportComplete:r,onClose:n}){var N,A;Ut();const{user:a}=xr(),{toast:s}=HC(),[i,l]=w.useState("template"),[c,u]=w.useState(null),[d,f]=w.useState([]),[h,m]=w.useState({}),[g,p]=w.useState([]),[v,x]=w.useState(!1),[b,y]=w.useState(0),_=async O=>{var U;const P=(U=O.target.files)==null?void 0:U[0];if(P)try{const z=await P.arrayBuffer(),W=U2(z,{type:"array"}),I=W.Sheets[W.SheetNames[0]],R=jwe.sheet_to_json(I);if(R.length===0){s({title:"Error",description:"File is empty",variant:"destructive"});return}f(R),S(R),l("preview")}catch(z){console.error("Error parsing file:",z),s({title:"Error",description:"Failed to parse file",variant:"destructive"})}},S=O=>{if(!c)return;const P=t[c.template_id]||[],U=Object.keys(O[0]||{}),z=[],W={};for(const I of P){const R=I.field_label||"",F=U.find(D=>D.toLowerCase().trim()===R.toLowerCase().trim());F?W[R]=F:I.is_required&&z.push(`Required field not found: "${R}"`)}m(W),p(z)},k=()=>d.slice(0,5),j=async()=>{if(!c||!a)return;const O=t[c.template_id]||[],P=[];for(const U of O)U.is_required&&!h[U.field_label||""]&&P.push(`Required field not mapped: "${U.field_label}"`);if(P.length>0){p(P);return}l("importing"),x(!0);try{const U=d.length,z=[];for(let I=0;I<d.length;I++){const R=d[I],F={};for(const V of O){const J=V.field_label||"",T=h[J];T&&R[T]!==void 0&&R[T]!==null&&R[T]!==""&&(F[J]=R[T])}const D={template_id:c.template_id,survey_name:R.survey_name||R["Survey Name"]||`Bulk Import ${I+1}`,survey_description:R.survey_description||R["Survey Description"]||null,client_name:R.client_name||R["Client Name"]||`Client ${I+1}`,client_name_ar:R.client_name_ar||R["Client Name AR"]||null,client_contact:R.client_contact||R["Client Contact"]||null,client_email:R.client_email||R["Client Email"]||null,client_address:R.client_address||R["Client Address"]||null,client_company:R.client_company||R["Client Company"]||null,client_company_ar:R.client_company_ar||R["Client Company AR"]||null,survey_responses:F,location_latitude:parseFloat(R.location_latitude||R.Latitude||"0"),location_longitude:parseFloat(R.location_longitude||R.Longitude||"0"),location_accuracy:R.location_accuracy?parseFloat(R.location_accuracy):null,location_address:R.location_address||R["Location Address"]||null,created_by:a.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:R.notes||null,notes_ar:R.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};z.push(D),y(Math.round((I+1)/U*50))}y(50);const W=await fu.createBatch(z);y(100),s({title:"Success",description:`Imported ${W.length} surveys successfully`}),r(W),E()}catch(U){console.error("Error importing surveys:",U),s({title:"Error",description:U.message||"Import failed",variant:"destructive"}),l("preview")}finally{x(!1)}},E=()=>{l("template"),u(null),f([]),m({}),p([]),y(0),n()};return o.jsxs(o.Fragment,{children:[o.jsxs(Lr,{children:[o.jsx($r,{children:"Bulk Import Surveys"}),o.jsxs(Kn,{children:[i==="template"&&"Select a template for import",i==="upload"&&"Upload your Excel or CSV file",i==="preview"&&"Review data before importing",i==="importing"&&"Importing data..."]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[i==="template"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ue,{className:"text-base font-medium",children:"Select Template"}),o.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(O=>O.is_active).map(O=>o.jsx(rt,{className:`cursor-pointer transition-all ${(c==null?void 0:c.template_id)===O.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>u(O),children:o.jsxs(it,{className:"p-4",children:[o.jsx("h4",{className:"font-medium text-sm",children:O.template_name}),O.template_description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:O.template_description}),O.category&&o.jsx(lt,{variant:"outline",className:"mt-2 text-xs",children:O.category})]})},O.template_id))})]}),i==="upload"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(uw,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("p",{className:"font-medium mb-1",children:"Import Instructions"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[o.jsx("li",{children:"Column headers must match field names exactly"}),o.jsx("li",{children:"All required fields must have values"}),o.jsx("li",{children:"Supported formats: Excel (.xlsx, .xls) and CSV"})]})]})]})}),o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(UE,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),o.jsx(Ue,{className:"block text-sm font-medium mb-2",children:"Drag and drop your file here"}),o.jsx(Qe,{type:"file",accept:".xlsx,.xls,.csv",onChange:_,className:"hidden",id:"file-upload"}),o.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:o.jsx(ie,{variant:"outline",asChild:!0,children:o.jsx("span",{children:"Select File"})})})]})]}),i==="preview"&&o.jsxs("div",{className:"space-y-4",children:[g.length>0&&o.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(f2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[o.jsx("p",{className:"font-medium mb-2",children:"Validation Errors"}),o.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((O,P)=>o.jsx("li",{children:O},P))})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Column Mapping"}),o.jsxs(lt,{variant:"secondary",children:[Object.keys(h).length," / ",((N=t[(c==null?void 0:c.template_id)||0])==null?void 0:N.length)||0]})]}),o.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:(A=t[(c==null?void 0:c.template_id)||0])==null?void 0:A.map(O=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:O.field_label}),O.is_required&&o.jsx(lt,{variant:"destructive",className:"text-xs mt-1",children:"Required"})]}),h[O.field_label||""]?o.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[o.jsx(Zl,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs font-medium",children:h[O.field_label||""]})]}):o.jsx("div",{className:"text-xs text-muted-foreground",children:O.is_required?o.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Not Mapped"}):o.jsx("span",{children:"Optional"})})]},O.field_id))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium text-sm",children:"Preview (First 5 Rows)"}),o.jsx("div",{className:"border rounded-lg overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted border-b",children:o.jsx("tr",{children:Object.keys(k()[0]||{}).map(O=>o.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:O},O))})}),o.jsx("tbody",{children:k().map((O,P)=>o.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.values(O).map((U,z)=>o.jsx("td",{className:"px-3 py-2 text-xs",children:String(U).substring(0,50)},z))},P))})]})}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Showing first ",Math.min(5,d.length)," of ",d.length," rows"]})]})]}),i==="importing"&&o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx(A8,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),o.jsx("p",{className:"font-medium mb-2",children:"Importing Data"}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Processing rows: ",b,"%"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]})})})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:E,disabled:v,children:"Cancel"}),i==="template"&&o.jsx(ie,{onClick:()=>l("upload"),disabled:!c,children:"Next"}),i==="upload"&&o.jsx(ie,{onClick:()=>l("template"),variant:"outline",children:"Back"}),i==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(ie,{onClick:()=>l("upload"),variant:"outline",children:"Back"}),o.jsx(ie,{onClick:j,disabled:g.length>0||v,children:"Start Import"})]})]})]})}function Nwe(){var xo;const{t:e}=Ut(),{user:t}=xr(),{isRTL:r}=pl(),{toast:n}=HC(),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState({}),[d,f]=w.useState(!0),[h,m]=w.useState(""),[g,p]=w.useState(null),[v,x]=w.useState(null),[b,y]=w.useState([]);w.useState(!1);const[_,S]=w.useState(!1),[k,j]=w.useState(null),[E,N]=w.useState({}),[A,O]=w.useState({}),[P,U]=w.useState([]),[z,W]=w.useState(!1),[I,R]=w.useState(null),[F,D]=w.useState(null),[V,J]=w.useState(null),[T,G]=w.useState("card"),[M,B]=w.useState("card"),[ee,ae]=w.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[de,re]=w.useState([]);w.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[H,ce]=w.useState({}),[C,Ne]=w.useState(!1),[Te,Le]=w.useState(!1),[Ie,Ee]=w.useState(new Set);w.useState(!1),w.useEffect(()=>{ot()},[]);const ot=async()=>{try{f(!0);const[ne,pe,ke]=await Promise.all([fu.getAll().catch(Rt=>(console.error("[Surveys] Error fetching surveys:",Rt),[])),os.getAll().catch(Rt=>(console.error("[Surveys] Error fetching templates:",Rt),[])),Wn.getAll().catch(Rt=>(console.error("[Surveys] Error fetching users:",Rt),[]))]),Ae=pe.map(async Rt=>{try{const yr=await os.getFields(Rt.template_id);return{templateId:Rt.template_id,fields:yr}}catch(yr){return console.error(`[Surveys] Error fetching fields for template ${Rt.template_id}:`,yr),{templateId:Rt.template_id,fields:[]}}}),gt=await Promise.all(Ae),Xe={};gt.forEach(Rt=>{Xe[Rt.templateId]=Rt.fields}),s(ne),l(pe),U(ke),u(Xe)}catch(ne){console.error("Failed to load surveys data:",ne)}finally{f(!1)}},St=a.filter(ne=>{var pe,ke;return ne.client_name.toLowerCase().includes(h.toLowerCase())||((pe=ne.client_company)==null?void 0:pe.toLowerCase().includes(h.toLowerCase()))||((ke=ne.survey_name)==null?void 0:ke.toLowerCase().includes(h.toLowerCase()))}),Pt=i.filter(ne=>{var pe;return ge(ne,"template_name").toLowerCase().includes(h.toLowerCase())||((pe=ne.category)==null?void 0:pe.toLowerCase().includes(h.toLowerCase()))}),Ft=ne=>{if(!ne)return e("surveys.unknownCreator");const pe=P.find(ke=>ke.auth_user_id===ne);return pe?ge(pe,"user_name"):e("surveys.unknownCreator")},ue=ne=>{switch(ne.toLowerCase()){case"completed":return o.jsxs(lt,{variant:"default",className:"bg-green-500",children:[o.jsx(Zl,{className:"h-3 w-3 mr-1"}),e("surveys.completed")]});case"in_progress":return o.jsxs(lt,{variant:"secondary",children:[o.jsx(du,{className:"h-3 w-3 mr-1"}),e("surveys.inProgress")]});case"pending":return o.jsxs(lt,{variant:"outline",children:[o.jsx(du,{className:"h-3 w-3 mr-1"}),e("surveys.pending")]});default:return o.jsx(lt,{variant:"outline",children:ne})}},Re=ne=>{s([...ne,...a])},He=async ne=>{if(x(ne),c[ne.template_id])y(c[ne.template_id]);else try{const pe=await os.getFields(ne.template_id);u(ke=>({...ke,[ne.template_id]:pe})),y(pe)}catch(pe){console.error("Failed to load template fields:",pe),y([])}},ze=()=>{const ne={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};re(pe=>[...pe,ne])},ft=ne=>{re(pe=>pe.filter((ke,Ae)=>Ae!==ne))},be=(ne,pe)=>{re(ke=>ke.map((Ae,gt)=>gt===ne?{...Ae,...pe}:Ae))},_e=(ne,pe)=>{re(ke=>{const Ae=[...ke],[gt]=Ae.splice(ne,1);return Ae.splice(pe,0,gt),Ae})},le=()=>{ae({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),re([]),R(null)},Se=async ne=>{ae({template_name:ne.template_name||"",template_name_ar:ne.template_name_ar||"",template_description:ne.template_description||"",template_description_ar:ne.template_description_ar||"",category:ne.category||"",is_active:ne.is_active,is_default:ne.is_default||!1});const ke=(c[ne.template_id]||[]).map(Ae=>({field_type:Ae.field_type,field_label:Ae.field_label||"",field_label_ar:Ae.field_label_ar||"",help_text:Ae.help_text||"",help_text_ar:Ae.help_text_ar||"",is_required:Ae.is_required||!1,field_options:Ae.field_options,validation_rules:Ae.validation_rules,default_value:Ae.default_value,conditional_logic:Ae.conditional_logic,image_path:Ae.image_path}));re(ke),R(ne.template_id),W(!0)},$e=()=>{const ne={};return ee.template_name.trim()||(ne.template_name=e("surveys.templateNameRequired")),de.length===0?ne.fields=e("surveys.atLeastOneFieldRequired"):de.forEach((pe,ke)=>{pe.field_label.trim()||(ne[`field_${ke}`]=e("surveys.fieldLabelRequired",{number:ke+1}))}),ce(ne),Object.keys(ne).length===0},De=async()=>{if(!$e()){n({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Ne(!0);try{if(I){await os.update(I,ee);const ne=c[I]||[];for(const pe of ne)pe.field_id&&await os.deleteField(pe.field_id);for(let pe=0;pe<de.length;pe++){const ke=de[pe];await os.createField({template_id:I,field_order:pe+1,field_type:ke.field_type,field_label:ke.field_label,field_label_ar:ke.field_label_ar||"",help_text:ke.help_text||null,help_text_ar:ke.help_text_ar||null,is_required:ke.is_required,field_options:ke.field_options,validation_rules:ke.validation_rules,default_value:ke.default_value||null,conditional_logic:ke.conditional_logic,image_path:ke.image_path||null})}n({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const ne={...ee,created_by:t==null?void 0:t.id},pe=await os.create(ne);for(let ke=0;ke<de.length;ke++){const Ae=de[ke];await os.createField({template_id:pe.template_id,field_order:ke+1,field_type:Ae.field_type,field_label:Ae.field_label,field_label_ar:Ae.field_label_ar||"",help_text:Ae.help_text||null,help_text_ar:Ae.help_text_ar||null,is_required:Ae.is_required,field_options:Ae.field_options,validation_rules:Ae.validation_rules,default_value:Ae.default_value||null,conditional_logic:Ae.conditional_logic,image_path:Ae.image_path||null})}n({title:e("common.success"),description:e("surveys.templateCreated")})}le(),W(!1),ot()}catch(ne){console.error("Failed to save template:",ne),n({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(I?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Ne(!1)}},qe=async ne=>{if(j(ne),!c[ne.template_id])try{const Ae=await os.getFields(ne.template_id);u(gt=>({...gt,[ne.template_id]:Ae}))}catch(Ae){console.error("Failed to load template fields:",Ae)}const pe={};(c[ne.template_id]||[]).forEach(Ae=>{Ae.default_value!==null&&Ae.default_value!==void 0&&(pe[Ae.field_id.toString()]=Ae.default_value)}),N(pe)},at=async ne=>{try{await os.delete(ne),l(pe=>pe.filter(ke=>ke.template_id!==ne)),D(null),u(pe=>{const ke={...pe};return delete ke[ne],ke})}catch(pe){console.error("Failed to delete template:",pe),alert("Failed to delete template. Please try again.")}},Ur=async ne=>{try{await fu.delete(ne),s(pe=>pe.filter(ke=>ke.survey_id!==ne)),J(null)}catch(pe){console.error("Failed to delete survey:",pe),alert("Failed to delete survey. Please try again.")}},xn=async ne=>{try{const pe=i.filter(ke=>ke.is_default&&ke.template_id!==ne);for(const ke of pe)await os.update(ke.template_id,{is_default:!1});await os.update(ne,{is_default:!0}),l(ke=>ke.map(Ae=>({...Ae,is_default:Ae.template_id===ne}))),n({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(pe){console.error("Failed to set default template:",pe),n({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},Vs=()=>new Promise((ne,pe)=>{if(!navigator.geolocation){pe(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(ke=>{ne({latitude:ke.coords.latitude,longitude:ke.coords.longitude,accuracy:ke.coords.accuracy})},ke=>{pe(ke)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),bl=async()=>{if(!(!k||!t))try{let ne={latitude:0,longitude:0,accuracy:0};try{ne=await Vs()}catch(X){console.warn("Could not get location:",X)}const pe=c[k.template_id]||[],ke=new Map(pe.map(X=>[X.field_id.toString(),X.field_label])),Ae={};for(const[X,K]of Object.entries(E)){const Y=ke.get(X)||X;Ae[Y]=K}const gt=Ae["Customer Name"]||Ae["Client Name"]||Ae.client_name||Ae.customer_name||"Anonymous",Xe=Ae["Customer Company"]||Ae["Client Company"]||Ae.Company||Ae.company||Ae.client_company||null,Rt=Ae["Contact Number"]||Ae["Contact Email"]||Ae.Contact||Ae.contact||Ae.phone||null,yr=Ae["Contact Email"]||Ae.Email||Ae.email||Ae.client_email||null,va=Ae.Address||Ae.address||Ae.client_address||null,is=Ae["Additional Notes"]||Ae.Notes||Ae.notes||null,Pi={},Sd=Object.keys(A);for(const[X,K]of Object.entries(E))if(!Sd.includes(X)){const Y=ke.get(X)||X;Pi[Y]=K}const jd={template_id:k.template_id,survey_name:`${ge(k,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:ge(k,"template_description")||null,client_name:gt,client_name_ar:null,client_contact:Rt,client_email:yr,client_address:va,client_company:Xe,client_company_ar:null,survey_responses:Pi,location_latitude:ne.latitude,location_longitude:ne.longitude,location_accuracy:ne.accuracy,location_address:va,status:"collected",created_by:t.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:is,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null};console.log("[Survey] Creating survey...");const L=await fu.create(jd);if(console.log("[Survey] Survey created with ID:",L.survey_id),Object.keys(A).length>0){console.log("[Survey] Uploading images...",Object.keys(A));const X={...Pi};for(const[Q,Z]of Object.entries(A))try{const oe=Z.name.split(".").pop(),ye=`${Q.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${oe}`,he=`surveys/survey_${L.survey_id}/${ye}`;console.log(`[Survey] Uploading image for field "${Q}" to path: ${he}`);const{data:fe,error:ve}=await we.storage.from("survey-uploads").upload(he,Z,{cacheControl:"3600",upsert:!0,contentType:Z.type});if(ve)throw console.error(`[Survey] Failed to upload image for field ${Q}:`,ve),ve;console.log(`[Survey] Upload successful for field "${Q}":`,fe);const{data:{publicUrl:Pe}}=we.storage.from("survey-uploads").getPublicUrl(he);console.log(`[Survey] Public URL for field "${Q}":`,Pe);const Oe=ke.get(Q)||Q;X[Oe]={bucket:"survey-uploads",path:he,url:Pe}}catch(oe){throw console.error(`[Survey] Error processing image for field ${Q}:`,oe),oe}console.log("[Survey] Updating survey with image references...");const{data:K,error:Y}=await we.from("surveys").update({survey_responses:X}).eq("survey_id",L.survey_id).select().single();if(Y)throw console.error("[Survey] Failed to update survey with images:",Y),Y;console.log("[Survey] Survey updated successfully with images"),L.survey_responses=X}s([L,...a]),j(null),N({}),O({}),S(!1),console.log("[Survey] Survey creation complete:",L)}catch(ne){console.error("[Survey] Failed to create survey:",ne),alert(`Failed to create survey: ${ne.message}`)}},Bc=ne=>{const pe=ne.field_id.toString(),ke=E[pe]||"";switch(ne.field_type.toLowerCase()){case"text":return o.jsx(Qe,{id:pe,value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required});case"textarea":return o.jsx(zn,{id:pe,value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required,rows:3});case"number":return o.jsx(Qe,{id:pe,type:"number",value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required});case"email":return o.jsx(Qe,{id:pe,type:"email",value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required});case"date":return o.jsx(Qe,{id:pe,type:"date",value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),required:ne.is_required});case"select":if(ne.field_options&&typeof ne.field_options=="object"&&!Array.isArray(ne.field_options)&&"options"in ne.field_options&&Array.isArray(ne.field_options.options)){const gt=ne.field_options.options.filter(Xe=>typeof Xe=="string");return o.jsxs(mt,{value:ke,onValueChange:Xe=>N(Rt=>({...Rt,[pe]:Xe})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:ge(ne,"help_text")||`${e("common.select")} ${ge(ne,"field_label")}`})}),o.jsx(dt,{children:gt.map((Xe,Rt)=>o.jsx(Ce,{value:Xe,children:Xe},Rt))})]})}return o.jsx(Qe,{id:pe,value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required});case"radio":if(ne.field_options&&typeof ne.field_options=="object"&&!Array.isArray(ne.field_options)&&"options"in ne.field_options&&Array.isArray(ne.field_options.options)){const gt=ne.field_options.options.filter(Xe=>typeof Xe=="string");return o.jsx("div",{className:"space-y-2",children:gt.map((Xe,Rt)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:pe,value:Xe,checked:ke===Xe,onChange:yr=>N(va=>({...va,[pe]:yr.target.value}))}),o.jsx("span",{className:"text-sm",children:Xe})]},Rt))})}return o.jsx(Qe,{id:pe,value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required});case"multiselect":case"checkbox":if(ne.field_options&&typeof ne.field_options=="object"&&!Array.isArray(ne.field_options)&&"options"in ne.field_options&&Array.isArray(ne.field_options.options)){const gt=ne.field_options.options.filter(Xe=>typeof Xe=="string");return o.jsx("div",{className:"space-y-2",children:gt.map((Xe,Rt)=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:Array.isArray(ke)?ke.includes(Xe):!1,onChange:yr=>{const va=Array.isArray(ke)?ke:[];yr.target.checked?N(is=>({...is,[pe]:[...va,Xe]})):N(is=>({...is,[pe]:va.filter(Pi=>Pi!==Xe)}))}}),o.jsx("span",{className:"text-sm",children:Xe})]},Rt))})}return o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:!!ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.checked}))}),o.jsx("span",{className:"text-sm",children:ge(ne,"field_label")})]});case"image":const Ae=E[pe];return o.jsxs("div",{className:"space-y-2",children:[o.jsx(Qe,{id:pe,type:"file",accept:"image/*",onChange:gt=>{var Rt;const Xe=(Rt=gt.target.files)==null?void 0:Rt[0];Xe&&(O(yr=>({...yr,[pe]:Xe})),N(yr=>({...yr,[pe]:{preview:URL.createObjectURL(Xe),filename:Xe.name}})))},required:ne.is_required}),(Ae==null?void 0:Ae.preview)&&o.jsxs("div",{className:"relative w-full",children:[o.jsx("img",{src:Ae.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),o.jsx(ie,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{O(gt=>{const Xe={...gt};return delete Xe[pe],Xe}),N(gt=>{const Xe={...gt};return delete Xe[pe],Xe})},children:o.jsx(br,{className:"h-4 w-4"})})]})]});default:return o.jsx(Qe,{id:pe,value:ke,onChange:gt=>N(Xe=>({...Xe,[pe]:gt.target.value})),placeholder:ge(ne,"help_text")||ne.field_label,required:ne.is_required})}},vo=()=>{const ne=[{key:"survey",header:e("surveys.surveyName"),render:Ae=>o.jsx(vh,{title:Ae.survey_name||`${e("surveys.survey")} #${Ae.survey_id}`,subtitle:ge(Ae,"client_name")})},{key:"status",header:e("surveys.status"),render:Ae=>o.jsx(BC,{variant:"outline",children:ue(Ae.status)})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Ae=>Ae.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Ae=>o.jsx(S0,{name:Ft(Ae.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Ae=>o.jsx(gh,{date:Ae.created_at,fallback:e("leads.notSet")})}],pe=[{label:e("common.view"),icon:o.jsx(mi,{className:"h-4 w-4"}),onClick:Ae=>p(Ae)},{label:e("buttons.delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:Ae=>J(Ae.survey_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}],ke=[{label:e("buttons.delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:async Ae=>{if(Ae.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Ae.length})))try{const Xe=Ae.map(Rt=>fu.delete(Rt.survey_id));await Promise.all(Xe),s(Rt=>Rt.filter(yr=>!Ae.find(va=>va.survey_id===yr.survey_id))),Ee(new Set),n({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Ae.length})})}catch(Xe){console.error("Failed to bulk delete surveys:",Xe),n({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return o.jsx(ph,{data:St,columns:ne,actions:pe,bulkActions:ke,keyExtractor:Ae=>Ae.survey_id,onRowClick:Ae=>p(Ae),enableBulkSelect:(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager",emptyState:o.jsx(Ho,{icon:o.jsx($i,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},jm=()=>{const ne=[{key:"template",header:e("surveys.templateName"),render:ke=>o.jsx(vh,{title:ge(ke,"template_name"),subtitle:ge(ke,"template_description")})},{key:"category",header:e("surveys.category"),render:ke=>ke.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:ke=>o.jsxs("div",{className:"flex items-center gap-2",children:[ke.is_active?o.jsx(lt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(lt,{variant:"secondary",children:e("surveys.inactive")}),ke.is_default&&o.jsx(lt,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:ke=>o.jsx(gh,{date:ke.created_at,fallback:e("leads.notSet")})}],pe=[{label:e("common.view"),icon:o.jsx(mi,{className:"h-4 w-4"}),onClick:ke=>He(ke)},{label:e("surveys.setAsDefault"),icon:o.jsx(Zl,{className:"h-4 w-4"}),onClick:ke=>xn(ke.template_id),show:ke=>((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&!ke.is_default},{label:e("buttons.edit"),icon:o.jsx(u4,{className:"h-4 w-4"}),onClick:ke=>Se(ke),show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"},{label:e("buttons.delete"),icon:o.jsx(br,{className:"h-4 w-4"}),onClick:ke=>D(ke.template_id),variant:"destructive",show:()=>(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"}];return o.jsx(ph,{data:Pt,columns:ne,actions:pe,keyExtractor:ke=>ke.template_id,onRowClick:ke=>He(ke),emptyState:o.jsx(Ho,{icon:o.jsx($i,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return d?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:`h-full flex flex-col space-y-6 ${r?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("surveys.title")}),o.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("surveys.subtitle")})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($i,{className:"h-5 w-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[a.length," ",e("surveys.totalSurveys")]})]})})]}),o.jsxs("div",{className:"relative",children:[o.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Qe,{placeholder:e("surveys.searchPlaceholder"),value:h,onChange:ne=>m(ne.target.value),className:"pl-10"})]}),o.jsxs(Xu,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",children:[o.jsxs(_c,{className:"grid w-full grid-cols-2",children:[o.jsxs($n,{value:"surveys",children:[e("surveys.surveys")," (",St.length,")"]}),o.jsxs($n,{value:"templates",children:[e("surveys.templates")," (",Pt.length,")"]})]}),o.jsxs(Bn,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:T==="card"?"default":"ghost",size:"sm",onClick:()=>G("card"),className:"h-8 w-8 p-0",children:o.jsx($i,{className:"h-4 w-4"})}),o.jsx(ie,{variant:T==="list"?"default":"ghost",size:"sm",onClick:()=>G("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(qr,{open:_,onOpenChange:S,children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{size:"lg",className:"w-full shadow-lg hover:shadow-xl transition-all",children:[o.jsx(ar,{className:"h-5 w-5 mr-2"}),e("surveys.newSurvey")]})}),o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(Lr,{children:o.jsx($r,{children:e("surveys.createNewSurvey")})}),o.jsx("div",{className:"space-y-6 py-4",children:k?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:ge(k,"template_name")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),o.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{j(null),N({})},children:e("surveys.changeTemplate")})]}),o.jsx("div",{className:"space-y-4",children:(xo=c[k.template_id])==null?void 0:xo.map(ne=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:ne.field_label,className:"text-sm font-medium",children:[ge(ne,"field_label"),ne.is_required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),Bc(ne),ge(ne,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ge(ne,"help_text")})]},ne.field_id))}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",children:[o.jsx(vy,{className:"h-4 w-4"}),o.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):o.jsxs("div",{children:[o.jsx(Ue,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),o.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",children:i.filter(ne=>ne.is_active).map(ne=>o.jsx(rt,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(k==null?void 0:k.template_id)===ne.template_id?"ring-2 ring-primary":""}`,onClick:()=>qe(ne),children:o.jsx(it,{className:"p-4",children:o.jsx("div",{className:"flex items-start gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-medium text-sm truncate",children:ge(ne,"template_name")}),ne.category&&o.jsx(lt,{variant:"outline",className:"mt-1 text-xs",children:ne.category}),ge(ne,"template_description")&&o.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:ge(ne,"template_description")})]})})})},ne.template_id))})]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",children:[o.jsx(ie,{variant:"outline",onClick:()=>{S(!1),j(null),N({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),k&&o.jsx(ie,{onClick:bl,disabled:!k,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),o.jsxs(qr,{open:Te,onOpenChange:Le,children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"lg",className:"w-full shadow-lg hover:shadow-xl transition-all",children:[o.jsx(UE,{className:"h-5 w-5 mr-2"}),"Bulk Import"]})}),o.jsx(Fr,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:o.jsx(kwe,{templates:i,templateFields:c,onImportComplete:Re,onClose:()=>Le(!1)})})]})]})]}),o.jsx(Ja,{className:"flex-1",children:St.length===0?o.jsx(rt,{children:o.jsxs(it,{className:"text-center py-12",children:[o.jsx($i,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):T==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:St.map(ne=>o.jsxs(rt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer",children:[o.jsx(It,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ne.survey_name||`${e("surveys.survey")} #${ne.survey_id}`}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:ge(ne,"client_name")})]}),ue(ne.status)]})}),o.jsxs(it,{className:"pt-0 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Sa,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ne.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(vy,{className:"h-4 w-4"}),o.jsx("span",{className:"truncate",children:ne.location_address||`${ne.location_latitude.toFixed(4)}, ${ne.location_longitude.toFixed(4)}`})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Oa,{className:"h-4 w-4"}),o.jsxs("span",{children:[e("surveys.createdBy"),": ",Ft(ne.created_by)]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(du,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ne.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(qr,{children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>p(ne),children:[o.jsx(mi,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(Lr,{children:o.jsx($r,{children:ne.survey_name||`${e("surveys.survey")} #${ne.survey_id}`})}),g&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.clientName")}),o.jsx("p",{className:"text-sm",children:ge(g,"client_name")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),o.jsx("p",{className:"text-sm",children:g.client_company||e("surveys.noCompany")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.contact")}),o.jsx("p",{className:"text-sm",children:g.client_contact||e("surveys.noContact")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.email")}),o.jsx("p",{className:"text-sm",children:g.client_email||e("surveys.noEmail")})]})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.location")}),o.jsx("p",{className:"text-sm",children:o.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${g.location_latitude},${g.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",g.location_address||`${g.location_latitude.toFixed(6)}, ${g.location_longitude.toFixed(6)}`]})})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.responses")}),o.jsx("div",{className:"mt-2 space-y-2",children:g.survey_responses&&Object.keys(g.survey_responses).length>0?Object.entries(g.survey_responses).map(([pe,ke])=>{const Ae=typeof ke=="object"&&ke!==null&&"bucket"in ke&&"path"in ke&&"url"in ke;return o.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[o.jsxs("div",{className:"font-medium text-sm text-primary",children:[pe,":"]}),Ae?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:ke.url,alt:pe,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):o.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(ke)?ke.join(", "):typeof ke=="object"?JSON.stringify(ke):String(ke||"N/A")})]},pe)}):o.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,children:o.jsx(ie,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:pe=>{pe.stopPropagation(),J(ne.survey_id)},children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:pe=>pe.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("surveys.deleteSurvey")}),o.jsx(Rs,{children:e("surveys.deleteSurveyConfirmation",{name:ne.survey_name||`${e("surveys.survey")} #${ne.survey_id}`})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:pe=>{pe.stopPropagation(),Ur(ne.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ne.survey_id))}):vo()})]}),o.jsxs(Bn,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[o.jsx(ie,{variant:M==="card"?"default":"ghost",size:"sm",onClick:()=>B("card"),className:"h-8 w-8 p-0",children:o.jsx($i,{className:"h-4 w-4"})}),o.jsx(ie,{variant:M==="list"?"default":"ghost",size:"sm",onClick:()=>B("list"),className:"h-8 w-8 p-0",children:o.jsx(oh,{className:"h-4 w-4"})})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(ie,{onClick:()=>{le(),W(!0)},size:"lg",className:"shadow-lg hover:shadow-xl transition-all",children:[o.jsx(ar,{className:"h-5 w-5 mr-2"}),e("surveys.createTemplate")]})]}),o.jsx(Ja,{className:"flex-1",children:Pt.length===0?o.jsx(rt,{children:o.jsxs(it,{className:"text-center py-12",children:[o.jsx($i,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),o.jsx("p",{className:"text-muted-foreground",children:e(h?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):M==="card"?o.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${r?"rtl":""}`,children:Pt.map(ne=>o.jsxs(rt,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[o.jsx(It,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-base truncate",children:ge(ne,"template_name")}),ne.category&&o.jsx(lt,{variant:"outline",className:"mt-1 text-xs",children:ne.category})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[ne.is_default&&o.jsx(lt,{variant:"default",className:"text-xs",children:e("surveys.default")}),ne.is_active?o.jsx(Zl,{className:"h-4 w-4 text-green-500"}):o.jsx(Lre,{className:"h-4 w-4 text-red-500"})]})]})}),o.jsxs(it,{className:"pt-0 space-y-3",children:[ge(ne,"template_description")&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ge(ne,"template_description")}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(du,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:new Date(ne.created_at).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(qr,{children:[o.jsx(uf,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>He(ne),children:[o.jsx(mi,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsx(Lr,{children:o.jsx($r,{children:ge(v||ne,"template_name")})}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.category")}),o.jsx("p",{className:"text-sm",children:v.category||e("surveys.noCategory")})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.status")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v.is_active?o.jsx(lt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):o.jsx(lt,{variant:"secondary",children:e("surveys.inactive")}),v.is_default&&o.jsx(lt,{variant:"default",children:e("surveys.default")})]})]})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.description")}),o.jsx("p",{className:"text-sm mt-1",children:ge(v,"template_description")||e("surveys.noDescription")})]}),o.jsxs("div",{children:[o.jsxs(Ue,{className:"text-sm font-medium",children:[e("surveys.fields")," (",b.length,")"]}),o.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?o.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):b.sort((pe,ke)=>pe.field_order-ke.field_order).map(pe=>o.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(lt,{variant:"outline",className:"text-xs",children:pe.field_type}),o.jsx("span",{className:"text-sm font-medium",children:ge(pe,"field_label")}),pe.is_required&&o.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),ge(pe,"help_text")&&o.jsx("p",{className:"text-xs text-muted-foreground",children:ge(pe,"help_text")})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",pe.field_order]})]})},pe.field_id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.created")}),o.jsx("p",{children:new Date(v.created_at).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx(Ue,{className:"text-sm font-medium",children:e("surveys.updated")}),o.jsx("p",{children:new Date(v.updated_at).toLocaleString()})]})]})]})]})]}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager")&&o.jsxs(o.Fragment,{children:[!ne.is_default&&o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50",onClick:pe=>{pe.stopPropagation(),xn(ne.template_id)},title:e("surveys.setAsDefault"),children:o.jsx(Zl,{className:"h-4 w-4 text-green-500"})}),o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:pe=>{pe.stopPropagation(),Se(ne)},children:o.jsx(u4,{className:"h-4 w-4"})}),o.jsxs(Ti,{children:[o.jsx(Yu,{asChild:!0,children:o.jsx(ie,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:pe=>{pe.stopPropagation(),D(ne.template_id)},children:o.jsx(br,{className:"h-4 w-4"})})}),o.jsxs(As,{onClick:pe=>pe.stopPropagation(),children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("surveys.deleteTemplate")}),o.jsx(Rs,{children:e("surveys.deleteTemplateConfirmation",{name:ge(ne,"template_name")})})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:pe=>{pe.stopPropagation(),at(ne.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},ne.template_id))}):jm()})]})]}),o.jsx(qr,{open:z,onOpenChange:W,children:o.jsxs(Fr,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[o.jsxs(Lr,{children:[o.jsx($r,{children:e(I?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),o.jsx(Kn,{children:e("surveys.createTemplateDesc")})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),o.jsx(Qe,{id:"template_name",value:ee.template_name,onChange:ne=>ae(pe=>({...pe,template_name:ne.target.value})),placeholder:e("surveys.templateName"),className:H.template_name?"border-red-500":""}),H.template_name&&o.jsx("p",{className:"text-sm text-red-500",children:H.template_name})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"category",children:e("surveys.category")}),o.jsxs(mt,{value:ee.category,onValueChange:ne=>ae(pe=>({...pe,category:ne})),children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("surveys.selectCategory")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),o.jsx(Ce,{value:"product_feedback",children:e("surveys.productFeedback")}),o.jsx(Ce,{value:"service_quality",children:e("surveys.serviceQuality")}),o.jsx(Ce,{value:"general",children:e("surveys.general")})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"template_description",children:e("surveys.description")}),o.jsx(zn,{id:"template_description",value:ee.template_description,onChange:ne=>ae(pe=>({...pe,template_description:ne.target.value})),placeholder:e("surveys.description"),rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"is_active",checked:ee.is_active,onChange:ne=>ae(pe=>({...pe,is_active:ne.target.checked})),className:"rounded"}),o.jsx(Ue,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),H.fields&&o.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsx("p",{className:"text-sm text-red-600",children:H.fields})}),o.jsx("div",{className:"space-y-3",children:de.map((ne,pe)=>{var ke,Ae,gt;return o.jsx(rt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>_e(pe,Math.max(0,pe-1)),disabled:pe===0,children:o.jsx(Dre,{className:"h-4 w-4"})}),o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>_e(pe,Math.min(de.length-1,pe+1)),disabled:pe===de.length-1,children:o.jsx(Ore,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{children:[e("surveys.fieldLabel")," *"]}),o.jsx(Qe,{value:ne.field_label,onChange:Xe=>be(pe,{field_label:Xe.target.value}),placeholder:e("surveys.fieldLabel"),className:H[`field_${pe}`]?"border-red-500":""}),H[`field_${pe}`]&&o.jsx("p",{className:"text-sm text-red-500",children:H[`field_${pe}`]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ue,{children:[e("surveys.fieldType")," *"]}),o.jsxs(mt,{value:ne.field_type,onValueChange:Xe=>be(pe,{field_type:Xe}),children:[o.jsx(ut,{children:o.jsx(pt,{})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"text",children:e("surveys.text")}),o.jsx(Ce,{value:"textarea",children:e("surveys.textarea")}),o.jsx(Ce,{value:"email",children:e("surveys.email")}),o.jsx(Ce,{value:"date",children:e("surveys.date")}),o.jsx(Ce,{value:"select",children:e("surveys.select")}),o.jsx(Ce,{value:"multiselect",children:e("surveys.multiselect")}),o.jsx(Ce,{value:"radio",children:e("surveys.radio")}),o.jsx(Ce,{value:"checkbox",children:e("surveys.checkbox")}),o.jsx(Ce,{value:"image",children:e("surveys.image")})]})]})]})]}),(ne.field_type==="select"||ne.field_type==="multiselect"||ne.field_type==="radio")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{children:e("surveys.options")}),o.jsx(zn,{defaultValue:((Ae=(ke=ne.field_options)==null?void 0:ke.options)==null?void 0:Ae.join(`
`))||"",onBlur:Xe=>{const Rt=Xe.target.value.split(/[\n\s]+/).filter(yr=>yr.trim()).map(yr=>yr.trim());be(pe,{field_options:{options:Rt,allow_multiple:ne.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((gt=ne.field_options)==null?void 0:gt.options)&&ne.field_options.options.length>0&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ne.field_options.options.length," option(s): ",ne.field_options.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:`required-${pe}`,checked:ne.is_required,onChange:Xe=>be(pe,{is_required:Xe.target.checked}),className:"rounded"}),o.jsx(Ue,{htmlFor:`required-${pe}`,children:e("surveys.isRequired")})]})]}),o.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>ft(pe),className:"text-red-500 hover:text-red-700",children:o.jsx(br,{className:"h-4 w-4"})})]})},pe)})}),o.jsx("div",{className:"flex justify-center pt-4",children:o.jsxs(ie,{onClick:ze,size:"sm",variant:"outline",children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("surveys.addField")]})})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>W(!1),disabled:C,children:e("buttons.cancel")}),o.jsx(ie,{onClick:De,disabled:!ee.template_name.trim()||C,children:e(C?"buttons.saving":I?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function Ewe(){const{t:e}=Ut(),{user:t}=xr(),[r,n]=w.useState([]),[a,s]=w.useState(!0),[i,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState(null),[h,m]=w.useState(!1),[g,p]=w.useState("leads"),[v,x]=w.useState(""),[b,y]=w.useState("");if((t==null?void 0:t.role)!=="admin")return o.jsx(Kj,{to:"/",replace:!0});w.useEffect(()=>{_()},[]);const _=async()=>{try{s(!0);const A=await sa.getAll();n(A)}catch(A){console.error("Failed to load stages:",A)}finally{s(!1)}},S=A=>r.filter(O=>O.stage_type===A).sort((O,P)=>(O.stager_order_index??0)-(P.stager_order_index??0)),k=async()=>{if(v.trim())try{const A=S(g),O=A.length>0?Math.max(...A.map(U=>U.stager_order_index||0)):-1,P={stage_name:v.trim(),stage_name_ar:b.trim()||null,stage_type:g,stager_order_index:O+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await sa.create(P),await _(),x(""),y(""),m(!1)}catch(A){console.error("Failed to create stage:",A)}},j=async(A,O)=>{try{await sa.update(A.stage_id,O),await _(),l(null),u("")}catch(P){console.error("Failed to update stage:",P)}},E=async A=>{try{await sa.delete(A),await _(),f(null)}catch(O){console.error("Failed to delete stage:",O)}},N=A=>{const O=S(A);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:e(`settings.${A}`)}),o.jsxs(ie,{size:"sm",onClick:()=>{p(A),m(!0)},children:[o.jsx(ar,{className:"h-4 w-4 mr-2"}),e("settings.addStage")]})]}),O.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):o.jsx("div",{className:"space-y-2",children:O.map((P,U)=>o.jsx(rt,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(dw,{className:"h-5 w-5 text-muted-foreground cursor-move"}),(i==null?void 0:i.stage_id)===P.stage_id?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Qe,{value:i.stage_name,onChange:z=>l({...i,stage_name:z.target.value}),placeholder:e("settings.englishName"),autoFocus:!0}),o.jsx(Qe,{value:c,onChange:z=>u(z.target.value),placeholder:e("settings.arabicName"),dir:"rtl"})]}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>j(P,{stage_name:i.stage_name,stage_name_ar:c||null}),children:o.jsx(ji,{className:"h-4 w-4"})}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{l(null),u("")},children:o.jsx(nl,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:ge(P,"stage_name")}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",P.stager_order_index]})]}),o.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>{l(P),u(P.stage_name_ar||"")},children:o.jsx(rl,{className:"h-4 w-4"})}),o.jsx(ie,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>f(P.stage_id),children:o.jsx(br,{className:"h-4 w-4"})})]})]})},P.stage_id))})]})};return a?o.jsx("div",{className:"flex items-center justify-center h-full py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("settings.title")}),o.jsx("p",{className:"text-muted-foreground",children:e("settings.description")})]}),o.jsxs(Xu,{defaultValue:"stages",className:"space-y-4",children:[o.jsx(_c,{children:o.jsx($n,{value:"stages",children:e("settings.stageManagement")})}),o.jsx(Bn,{value:"stages",className:"space-y-6",children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("settings.leads")})}),o.jsx(it,{children:N("leads")})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("settings.projects")})}),o.jsx(it,{children:N("projects")})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("settings.tasks")})}),o.jsx(it,{children:N("tasks")})]}),o.jsxs(rt,{children:[o.jsx(It,{children:o.jsx(Yt,{children:e("settings.tickets")})}),o.jsx(it,{children:N("tickets")})]})]})})]}),o.jsx(qr,{open:h,onOpenChange:m,children:o.jsxs(Fr,{children:[o.jsxs(Lr,{children:[o.jsx($r,{children:e("settings.addStage")}),o.jsx(Kn,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"stage-name",children:e("settings.englishName")}),o.jsx(Qe,{id:"stage-name",value:v,onChange:A=>x(A.target.value),placeholder:e("settings.stageNamePlaceholder")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ue,{htmlFor:"stage-name-ar",children:e("settings.arabicName")}),o.jsx(Qe,{id:"stage-name-ar",value:b,onChange:A=>y(A.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl"})]})]}),o.jsxs(Gn,{children:[o.jsx(ie,{variant:"outline",onClick:()=>m(!1),children:e("buttons.cancel")}),o.jsx(ie,{onClick:k,disabled:!v.trim(),children:e("buttons.create")})]})]})}),o.jsx(Ti,{open:!!d,onOpenChange:A=>!A&&f(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("settings.deleteStage")}),o.jsx(Rs,{children:e("settings.deleteStageConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("buttons.cancel")}),o.jsx(Is,{onClick:()=>d&&E(d),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const ez=({className:e,...t})=>o.jsx("nav",{role:"navigation","aria-label":"pagination",className:xe("mx-auto flex w-full justify-center",e),...t});ez.displayName="Pagination";const tz=w.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,className:xe("flex flex-row items-center gap-1",e),...t}));tz.displayName="PaginationContent";const Rx=w.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,className:xe("",e),...t}));Rx.displayName="PaginationItem";const yT=({className:e,isActive:t,size:r="icon",...n})=>o.jsx("a",{"aria-current":t?"page":void 0,className:xe(sh({variant:t?"outline":"ghost",size:r}),e),...n});yT.displayName="PaginationLink";const rz=({className:e,...t})=>o.jsxs(yT,{"aria-label":"Go to previous page",size:"default",className:xe("gap-1 pl-2.5",e),...t,children:[o.jsx(C8,{className:"h-4 w-4"}),o.jsx("span",{children:"Previous"})]});rz.displayName="PaginationPrevious";const nz=({className:e,...t})=>o.jsxs(yT,{"aria-label":"Go to next page",size:"default",className:xe("gap-1 pr-2.5",e),...t,children:[o.jsx("span",{children:"Next"}),o.jsx(ih,{className:"h-4 w-4"})]});nz.displayName="PaginationNext";var nR=1,Cwe=.9,Twe=.8,Awe=.17,iS=.1,oS=.999,Owe=.9999,Pwe=.99,Dwe=/[\\\/_+.#"@\[\(\{&]/,Rwe=/[\\\/_+.#"@\[\(\{&]/g,Iwe=/[\s-]/,az=/[\s-]/g;function z2(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?nR:Pwe;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,g;u>=0;)f=z2(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=nR:Dwe.test(e.charAt(u-1))?(f*=Twe,m=e.slice(a,u-1).match(Rwe),m&&a>0&&(f*=Math.pow(oS,m.length))):Iwe.test(e.charAt(u-1))?(f*=Cwe,g=e.slice(a,u-1).match(az),g&&a>0&&(f*=Math.pow(oS,g.length))):(f*=Awe,a>0&&(f*=Math.pow(oS,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=Owe)),(f<iS&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=z2(e,t,r,n,u+1,s+2,i),h*iS>f&&(f=h*iS)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function aR(e){return e.toLowerCase().replace(az," ")}function Mwe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,z2(e,t,aR(e),aR(t),0,0,{})}var Wm='[cmdk-group=""]',lS='[cmdk-group-items=""]',Fwe='[cmdk-group-heading=""]',sz='[cmdk-item=""]',sR=`${sz}:not([aria-disabled="true"])`,V2="cmdk-item-select",Yd="data-value",Lwe=(e,t,r)=>Mwe(e,t,r),iz=w.createContext(void 0),Yg=()=>w.useContext(iz),oz=w.createContext(void 0),wT=()=>w.useContext(oz),lz=w.createContext(void 0),cz=w.forwardRef((e,t)=>{let r=Xd(()=>{var T,G;return{search:"",value:(G=(T=e.value)!=null?T:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Xd(()=>new Set),a=Xd(()=>new Map),s=Xd(()=>new Map),i=Xd(()=>new Set),l=uz(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:v=!0,...x}=e,b=jn(),y=jn(),_=jn(),S=w.useRef(null),k=Ywe();ed(()=>{if(d!==void 0){let T=d.trim();r.current.value=T,j.emit()}},[d]),ed(()=>{k(6,U)},[]);let j=w.useMemo(()=>({subscribe:T=>(i.current.add(T),()=>i.current.delete(T)),snapshot:()=>r.current,setState:(T,G,M)=>{var B,ee,ae,de;if(!Object.is(r.current[T],G)){if(r.current[T]=G,T==="search")P(),A(),k(1,O);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let re=document.getElementById(_);re?re.focus():(B=document.getElementById(b))==null||B.focus()}if(k(7,()=>{var re;r.current.selectedItemId=(re=z())==null?void 0:re.id,j.emit()}),M||k(5,U),((ee=l.current)==null?void 0:ee.value)!==void 0){let re=G??"";(de=(ae=l.current).onValueChange)==null||de.call(ae,re);return}}j.emit()}},emit:()=>{i.current.forEach(T=>T())}}),[]),E=w.useMemo(()=>({value:(T,G,M)=>{var B;G!==((B=s.current.get(T))==null?void 0:B.value)&&(s.current.set(T,{value:G,keywords:M}),r.current.filtered.items.set(T,N(G,M)),k(2,()=>{A(),j.emit()}))},item:(T,G)=>(n.current.add(T),G&&(a.current.has(G)?a.current.get(G).add(T):a.current.set(G,new Set([T]))),k(3,()=>{P(),A(),r.current.value||O(),j.emit()}),()=>{s.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let M=z();k(4,()=>{P(),(M==null?void 0:M.getAttribute("id"))===T&&O(),j.emit()})}),group:T=>(a.current.has(T)||a.current.set(T,new Set),()=>{s.current.delete(T),a.current.delete(T)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:b,inputId:_,labelId:y,listInnerRef:S}),[]);function N(T,G){var M,B;let ee=(B=(M=l.current)==null?void 0:M.filter)!=null?B:Lwe;return T?ee(T,r.current.search,G):0}function A(){if(!r.current.search||l.current.shouldFilter===!1)return;let T=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(B=>{let ee=a.current.get(B),ae=0;ee.forEach(de=>{let re=T.get(de);ae=Math.max(re,ae)}),G.push([B,ae])});let M=S.current;W().sort((B,ee)=>{var ae,de;let re=B.getAttribute("id"),H=ee.getAttribute("id");return((ae=T.get(H))!=null?ae:0)-((de=T.get(re))!=null?de:0)}).forEach(B=>{let ee=B.closest(lS);ee?ee.appendChild(B.parentElement===ee?B:B.closest(`${lS} > *`)):M.appendChild(B.parentElement===M?B:B.closest(`${lS} > *`))}),G.sort((B,ee)=>ee[1]-B[1]).forEach(B=>{var ee;let ae=(ee=S.current)==null?void 0:ee.querySelector(`${Wm}[${Yd}="${encodeURIComponent(B[0])}"]`);ae==null||ae.parentElement.appendChild(ae)})}function O(){let T=W().find(M=>M.getAttribute("aria-disabled")!=="true"),G=T==null?void 0:T.getAttribute(Yd);j.setState("value",G||void 0)}function P(){var T,G,M,B;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let ae of n.current){let de=(G=(T=s.current.get(ae))==null?void 0:T.value)!=null?G:"",re=(B=(M=s.current.get(ae))==null?void 0:M.keywords)!=null?B:[],H=N(de,re);r.current.filtered.items.set(ae,H),H>0&&ee++}for(let[ae,de]of a.current)for(let re of de)if(r.current.filtered.items.get(re)>0){r.current.filtered.groups.add(ae);break}r.current.filtered.count=ee}function U(){var T,G,M;let B=z();B&&(((T=B.parentElement)==null?void 0:T.firstChild)===B&&((M=(G=B.closest(Wm))==null?void 0:G.querySelector(Fwe))==null||M.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function z(){var T;return(T=S.current)==null?void 0:T.querySelector(`${sz}[aria-selected="true"]`)}function W(){var T;return Array.from(((T=S.current)==null?void 0:T.querySelectorAll(sR))||[])}function I(T){let G=W()[T];G&&j.setState("value",G.getAttribute(Yd))}function R(T){var G;let M=z(),B=W(),ee=B.findIndex(de=>de===M),ae=B[ee+T];(G=l.current)!=null&&G.loop&&(ae=ee+T<0?B[B.length-1]:ee+T===B.length?B[0]:B[ee+T]),ae&&j.setState("value",ae.getAttribute(Yd))}function F(T){let G=z(),M=G==null?void 0:G.closest(Wm),B;for(;M&&!B;)M=T>0?Kwe(M,Wm):qwe(M,Wm),B=M==null?void 0:M.querySelector(sR);B?j.setState("value",B.getAttribute(Yd)):R(T)}let D=()=>I(W().length-1),V=T=>{T.preventDefault(),T.metaKey?D():T.altKey?F(1):R(1)},J=T=>{T.preventDefault(),T.metaKey?I(0):T.altKey?F(-1):R(-1)};return w.createElement(tt.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:T=>{var G;(G=x.onKeyDown)==null||G.call(x,T);let M=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||M))switch(T.key){case"n":case"j":{v&&T.ctrlKey&&V(T);break}case"ArrowDown":{V(T);break}case"p":case"k":{v&&T.ctrlKey&&J(T);break}case"ArrowUp":{J(T);break}case"Home":{T.preventDefault(),I(0);break}case"End":{T.preventDefault(),D();break}case"Enter":{T.preventDefault();let B=z();if(B){let ee=new Event(V2);B.dispatchEvent(ee)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Qwe},c),Kw(e,T=>w.createElement(oz.Provider,{value:j},w.createElement(iz.Provider,{value:E},T))))}),$we=w.forwardRef((e,t)=>{var r,n;let a=jn(),s=w.useRef(null),i=w.useContext(lz),l=Yg(),c=uz(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;ed(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=dz(a,s,[e.value,e.children,s],e.keywords),f=wT(),h=kc(k=>k.value&&k.value===d.current),m=kc(k=>u||l.filter()===!1?!0:k.search?k.filtered.items.get(a)>0:!0);w.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(V2,g),()=>k.removeEventListener(V2,g)},[m,e.onSelect,e.disabled]);function g(){var k,j;p(),(j=(k=c.current).onSelect)==null||j.call(k,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:x,onSelect:b,forceMount:y,keywords:_,...S}=e;return w.createElement(tt.div,{ref:tl(s,t),...S,id:a,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:p,onClick:v?void 0:g},e.children)}),Bwe=w.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=jn(),l=w.useRef(null),c=w.useRef(null),u=jn(),d=Yg(),f=kc(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);ed(()=>d.group(i),[]),dz(i,l,[e.value,e.heading,c]);let h=w.useMemo(()=>({id:i,forceMount:a}),[a]);return w.createElement(tt.div,{ref:tl(l,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Kw(e,m=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},w.createElement(lz.Provider,{value:h},m))))}),Uwe=w.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=w.useRef(null),s=kc(i=>!i.search);return!r&&!s?null:w.createElement(tt.div,{ref:tl(a,t),...n,"cmdk-separator":"",role:"separator"})}),Wwe=w.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=wT(),i=kc(u=>u.search),l=kc(u=>u.selectedItemId),c=Yg();return w.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),w.createElement(tt.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:i,onChange:u=>{a||s.setState("search",u.target.value),r==null||r(u.target.value)}})}),zwe=w.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=w.useRef(null),i=w.useRef(null),l=kc(u=>u.selectedItemId),c=Yg();return w.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),w.createElement(tt.div,{ref:tl(s,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Kw(e,u=>w.createElement("div",{ref:tl(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Vwe=w.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return w.createElement(Cw,{open:r,onOpenChange:n},w.createElement(Tw,{container:i},w.createElement(sm,{"cmdk-overlay":"",className:a}),w.createElement(im,{"aria-label":e.label,"cmdk-dialog":"",className:s},w.createElement(cz,{ref:t,...l}))))}),Hwe=w.forwardRef((e,t)=>kc(r=>r.filtered.count===0)?w.createElement(tt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Gwe=w.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return w.createElement(tt.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Kw(e,i=>w.createElement("div",{"aria-hidden":!0},i)))}),Ia=Object.assign(cz,{List:zwe,Item:$we,Input:Wwe,Group:Bwe,Separator:Uwe,Dialog:Vwe,Empty:Hwe,Loading:Gwe});function Kwe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function qwe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function uz(e){let t=w.useRef(e);return ed(()=>{t.current=e}),t}var ed=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Xd(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function kc(e){let t=wT(),r=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,r,r)}function dz(e,t,r,n=[]){let a=w.useRef(),s=Yg();return ed(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(Yd,l),a.current=l}),a}var Ywe=()=>{let[e,t]=w.useState(),r=Xd(()=>new Map);return ed(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Xwe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Kw({asChild:e,children:t},r){return e&&w.isValidElement(t)?w.cloneElement(Xwe(t),{ref:t.ref},r(t.props.children)):r(t)}var Qwe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ko=w.forwardRef(({className:e,...t},r)=>o.jsx(Ia,{ref:r,className:xe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ko.displayName=Ia.displayName;const No=w.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(co,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Ia.Input,{ref:r,className:xe("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));No.displayName=Ia.Input.displayName;const Eo=w.forwardRef(({className:e,...t},r)=>o.jsx(Ia.List,{ref:r,className:xe("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Eo.displayName=Ia.List.displayName;const Co=w.forwardRef((e,t)=>o.jsx(Ia.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));Co.displayName=Ia.Empty.displayName;const To=w.forwardRef(({className:e,...t},r)=>o.jsx(Ia.Group,{ref:r,className:xe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));To.displayName=Ia.Group.displayName;const Jwe=w.forwardRef(({className:e,...t},r)=>o.jsx(Ia.Separator,{ref:r,className:xe("-mx-1 h-px bg-border",e),...t}));Jwe.displayName=Ia.Separator.displayName;const Ao=w.forwardRef(({className:e,...t},r)=>o.jsx(Ia.Item,{ref:r,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));Ao.displayName=Ia.Item.displayName;var Zwe=Array.isArray,Ma=Zwe,ebe=typeof lv=="object"&&lv&&lv.Object===Object&&lv,fz=ebe,tbe=fz,rbe=typeof self=="object"&&self&&self.Object===Object&&self,nbe=tbe||rbe||Function("return this")(),po=nbe,abe=po,sbe=abe.Symbol,Xg=sbe,iR=Xg,hz=Object.prototype,ibe=hz.hasOwnProperty,obe=hz.toString,zm=iR?iR.toStringTag:void 0;function lbe(e){var t=ibe.call(e,zm),r=e[zm];try{e[zm]=void 0;var n=!0}catch{}var a=obe.call(e);return n&&(t?e[zm]=r:delete e[zm]),a}var cbe=lbe,ube=Object.prototype,dbe=ube.toString;function fbe(e){return dbe.call(e)}var hbe=fbe,oR=Xg,mbe=cbe,pbe=hbe,gbe="[object Null]",vbe="[object Undefined]",lR=oR?oR.toStringTag:void 0;function xbe(e){return e==null?e===void 0?vbe:gbe:lR&&lR in Object(e)?mbe(e):pbe(e)}var xl=xbe;function ybe(e){return e!=null&&typeof e=="object"}var yl=ybe,wbe=xl,bbe=yl,_be="[object Symbol]";function Sbe(e){return typeof e=="symbol"||bbe(e)&&wbe(e)==_be}var dm=Sbe,jbe=Ma,kbe=dm,Nbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ebe=/^\w*$/;function Cbe(e,t){if(jbe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||kbe(e)?!0:Ebe.test(e)||!Nbe.test(e)||t!=null&&e in Object(t)}var bT=Cbe;function Tbe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mc=Tbe;const fm=Qt(Mc);var Abe=xl,Obe=Mc,Pbe="[object AsyncFunction]",Dbe="[object Function]",Rbe="[object GeneratorFunction]",Ibe="[object Proxy]";function Mbe(e){if(!Obe(e))return!1;var t=Abe(e);return t==Dbe||t==Rbe||t==Pbe||t==Ibe}var _T=Mbe;const _t=Qt(_T);var Fbe=po,Lbe=Fbe["__core-js_shared__"],$be=Lbe,cS=$be,cR=function(){var e=/[^.]+$/.exec(cS&&cS.keys&&cS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Bbe(e){return!!cR&&cR in e}var Ube=Bbe,Wbe=Function.prototype,zbe=Wbe.toString;function Vbe(e){if(e!=null){try{return zbe.call(e)}catch{}try{return e+""}catch{}}return""}var mz=Vbe,Hbe=_T,Gbe=Ube,Kbe=Mc,qbe=mz,Ybe=/[\\^$.*+?()[\]{}|]/g,Xbe=/^\[object .+?Constructor\]$/,Qbe=Function.prototype,Jbe=Object.prototype,Zbe=Qbe.toString,e_e=Jbe.hasOwnProperty,t_e=RegExp("^"+Zbe.call(e_e).replace(Ybe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function r_e(e){if(!Kbe(e)||Gbe(e))return!1;var t=Hbe(e)?t_e:Xbe;return t.test(qbe(e))}var n_e=r_e;function a_e(e,t){return e==null?void 0:e[t]}var s_e=a_e,i_e=n_e,o_e=s_e;function l_e(e,t){var r=o_e(e,t);return i_e(r)?r:void 0}var yd=l_e,c_e=yd,u_e=c_e(Object,"create"),qw=u_e,uR=qw;function d_e(){this.__data__=uR?uR(null):{},this.size=0}var f_e=d_e;function h_e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var m_e=h_e,p_e=qw,g_e="__lodash_hash_undefined__",v_e=Object.prototype,x_e=v_e.hasOwnProperty;function y_e(e){var t=this.__data__;if(p_e){var r=t[e];return r===g_e?void 0:r}return x_e.call(t,e)?t[e]:void 0}var w_e=y_e,b_e=qw,__e=Object.prototype,S_e=__e.hasOwnProperty;function j_e(e){var t=this.__data__;return b_e?t[e]!==void 0:S_e.call(t,e)}var k_e=j_e,N_e=qw,E_e="__lodash_hash_undefined__";function C_e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=N_e&&t===void 0?E_e:t,this}var T_e=C_e,A_e=f_e,O_e=m_e,P_e=w_e,D_e=k_e,R_e=T_e;function hm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hm.prototype.clear=A_e;hm.prototype.delete=O_e;hm.prototype.get=P_e;hm.prototype.has=D_e;hm.prototype.set=R_e;var I_e=hm;function M_e(){this.__data__=[],this.size=0}var F_e=M_e;function L_e(e,t){return e===t||e!==e&&t!==t}var ST=L_e,$_e=ST;function B_e(e,t){for(var r=e.length;r--;)if($_e(e[r][0],t))return r;return-1}var Yw=B_e,U_e=Yw,W_e=Array.prototype,z_e=W_e.splice;function V_e(e){var t=this.__data__,r=U_e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():z_e.call(t,r,1),--this.size,!0}var H_e=V_e,G_e=Yw;function K_e(e){var t=this.__data__,r=G_e(t,e);return r<0?void 0:t[r][1]}var q_e=K_e,Y_e=Yw;function X_e(e){return Y_e(this.__data__,e)>-1}var Q_e=X_e,J_e=Yw;function Z_e(e,t){var r=this.__data__,n=J_e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var eSe=Z_e,tSe=F_e,rSe=H_e,nSe=q_e,aSe=Q_e,sSe=eSe;function mm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mm.prototype.clear=tSe;mm.prototype.delete=rSe;mm.prototype.get=nSe;mm.prototype.has=aSe;mm.prototype.set=sSe;var Xw=mm,iSe=yd,oSe=po,lSe=iSe(oSe,"Map"),jT=lSe,dR=I_e,cSe=Xw,uSe=jT;function dSe(){this.size=0,this.__data__={hash:new dR,map:new(uSe||cSe),string:new dR}}var fSe=dSe;function hSe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var mSe=hSe,pSe=mSe;function gSe(e,t){var r=e.__data__;return pSe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qw=gSe,vSe=Qw;function xSe(e){var t=vSe(this,e).delete(e);return this.size-=t?1:0,t}var ySe=xSe,wSe=Qw;function bSe(e){return wSe(this,e).get(e)}var _Se=bSe,SSe=Qw;function jSe(e){return SSe(this,e).has(e)}var kSe=jSe,NSe=Qw;function ESe(e,t){var r=NSe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var CSe=ESe,TSe=fSe,ASe=ySe,OSe=_Se,PSe=kSe,DSe=CSe;function pm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pm.prototype.clear=TSe;pm.prototype.delete=ASe;pm.prototype.get=OSe;pm.prototype.has=PSe;pm.prototype.set=DSe;var kT=pm,pz=kT,RSe="Expected a function";function NT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RSe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(NT.Cache||pz),r}NT.Cache=pz;var gz=NT;const ISe=Qt(gz);var MSe=gz,FSe=500;function LSe(e){var t=MSe(e,function(n){return r.size===FSe&&r.clear(),n}),r=t.cache;return t}var $Se=LSe,BSe=$Se,USe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WSe=/\\(\\)?/g,zSe=BSe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(USe,function(r,n,a,s){t.push(a?s.replace(WSe,"$1"):n||r)}),t}),VSe=zSe;function HSe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var ET=HSe,fR=Xg,GSe=ET,KSe=Ma,qSe=dm,YSe=1/0,hR=fR?fR.prototype:void 0,mR=hR?hR.toString:void 0;function vz(e){if(typeof e=="string")return e;if(KSe(e))return GSe(e,vz)+"";if(qSe(e))return mR?mR.call(e):"";var t=e+"";return t=="0"&&1/e==-YSe?"-0":t}var XSe=vz,QSe=XSe;function JSe(e){return e==null?"":QSe(e)}var xz=JSe,ZSe=Ma,eje=bT,tje=VSe,rje=xz;function nje(e,t){return ZSe(e)?e:eje(e,t)?[e]:tje(rje(e))}var yz=nje,aje=dm,sje=1/0;function ije(e){if(typeof e=="string"||aje(e))return e;var t=e+"";return t=="0"&&1/e==-sje?"-0":t}var Jw=ije,oje=yz,lje=Jw;function cje(e,t){t=oje(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[lje(t[r++])];return r&&r==n?e:void 0}var CT=cje,uje=CT;function dje(e,t,r){var n=e==null?void 0:uje(e,t);return n===void 0?r:n}var wz=dje;const Za=Qt(wz);function fje(e){return e==null}var hje=fje;const Et=Qt(hje);var mje=xl,pje=Ma,gje=yl,vje="[object String]";function xje(e){return typeof e=="string"||!pje(e)&&gje(e)&&mje(e)==vje}var yje=xje;const td=Qt(yje);var bz={exports:{}},er={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=Symbol.for("react.element"),AT=Symbol.for("react.portal"),Zw=Symbol.for("react.fragment"),eb=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),rb=Symbol.for("react.provider"),nb=Symbol.for("react.context"),wje=Symbol.for("react.server_context"),ab=Symbol.for("react.forward_ref"),sb=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),ob=Symbol.for("react.memo"),lb=Symbol.for("react.lazy"),bje=Symbol.for("react.offscreen"),_z;_z=Symbol.for("react.module.reference");function Ws(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case TT:switch(e=e.type,e){case Zw:case tb:case eb:case sb:case ib:return e;default:switch(e=e&&e.$$typeof,e){case wje:case nb:case ab:case lb:case ob:case rb:return e;default:return t}}case AT:return t}}}er.ContextConsumer=nb;er.ContextProvider=rb;er.Element=TT;er.ForwardRef=ab;er.Fragment=Zw;er.Lazy=lb;er.Memo=ob;er.Portal=AT;er.Profiler=tb;er.StrictMode=eb;er.Suspense=sb;er.SuspenseList=ib;er.isAsyncMode=function(){return!1};er.isConcurrentMode=function(){return!1};er.isContextConsumer=function(e){return Ws(e)===nb};er.isContextProvider=function(e){return Ws(e)===rb};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===TT};er.isForwardRef=function(e){return Ws(e)===ab};er.isFragment=function(e){return Ws(e)===Zw};er.isLazy=function(e){return Ws(e)===lb};er.isMemo=function(e){return Ws(e)===ob};er.isPortal=function(e){return Ws(e)===AT};er.isProfiler=function(e){return Ws(e)===tb};er.isStrictMode=function(e){return Ws(e)===eb};er.isSuspense=function(e){return Ws(e)===sb};er.isSuspenseList=function(e){return Ws(e)===ib};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zw||e===tb||e===eb||e===sb||e===ib||e===bje||typeof e=="object"&&e!==null&&(e.$$typeof===lb||e.$$typeof===ob||e.$$typeof===rb||e.$$typeof===nb||e.$$typeof===ab||e.$$typeof===_z||e.getModuleId!==void 0)};er.typeOf=Ws;bz.exports=er;var _je=bz.exports,Sje=xl,jje=yl,kje="[object Number]";function Nje(e){return typeof e=="number"||jje(e)&&Sje(e)==kje}var Sz=Nje;const Eje=Qt(Sz);var Cje=Sz;function Tje(e){return Cje(e)&&e!=+e}var Aje=Tje;const Qg=Qt(Aje);var oa=function(t){return t===0?0:t>0?1:-1},mu=function(t){return td(t)&&t.indexOf("%")===t.length-1},We=function(t){return Eje(t)&&!Qg(t)},Oje=function(t){return Et(t)},sn=function(t){return We(t)||td(t)},Pje=0,gm=function(t){var r=++Pje;return"".concat(t||"").concat(r)},la=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&!td(t))return n;var s;if(mu(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Qg(s)&&(s=n),a&&s>r&&(s=r),s},Ul=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Dje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Va=function(t,r){return We(t)&&We(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wy(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Za(n,t))===r})}var Rje=function(t,r){return We(t)&&We(r)?t-r:td(t)&&td(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Rf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function H2(e){"@babel/helpers - typeof";return H2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H2(e)}var Ije=["viewBox","children"],Mje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pR=["points","pathLength"],uS={svg:Ije,polygon:pR,polyline:pR},OT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zy=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!fm(n))return null;var a={};return Object.keys(n).forEach(function(s){OT.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},Fje=function(t,r,n){return function(a){return t(r,n,a),null}},rd=function(t,r,n){if(!fm(t)||H2(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];OT.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=Fje(i,r,n))}),a},Lje=["children"],$je=["children"];function gR(e,t){if(e==null)return{};var r=Bje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G2(e){"@babel/helpers - typeof";return G2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G2(e)}var vR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},xR=null,dS=null,PT=function e(t){if(t===xR&&Array.isArray(dS))return dS;var r=[];return w.Children.forEach(t,function(n){Et(n)||(_je.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dS=r,xR=t,r};function es(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qo(a)}):n=[qo(t)],PT(e).forEach(function(a){var s=Za(a,"type.displayName")||Za(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ua(e,t){var r=es(e,t);return r&&r[0]}var yR=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!We(n)||n<=0||!We(a)||a<=0)},Uje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wje=function(t){return t&&t.type&&td(t.type)&&Uje.indexOf(t.type)>=0},zje=function(t){return t&&G2(t)==="object"&&"clipDot"in t},Vje=function(t,r,n,a){var s,i=(s=uS==null?void 0:uS[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!_t(t)&&(a&&i.includes(r)||Mje.includes(r))||n&&OT.includes(r)},ct=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(w.isValidElement(t)&&(a=t.props),!fm(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;Vje((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},K2=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!wR(s,i))return!1}return!0},wR=function(t,r){if(Et(t)&&Et(r))return!0;if(!Et(t)&&!Et(r)){var n=t.props||{},a=n.children,s=gR(n,Lje),i=r.props||{},l=i.children,c=gR(i,$je);return a&&l?Rf(s,c)&&K2(a,l):!a&&!l?Rf(s,c):!1}return!1},bR=function(t,r){var n=[],a={};return PT(t).forEach(function(s,i){if(Wje(s))n.push(s);else if(s){var l=qo(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},Hje=function(t){var r=t&&t.type;return r&&vR[r]?vR[r]:null},Gje=function(t,r){return PT(r).indexOf(t)},Kje=["children","width","height","viewBox","className","style","title","desc"];function q2(){return q2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q2.apply(this,arguments)}function qje(e,t){if(e==null)return{};var r=Yje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Y2(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=qje(e,Kje),d=a||{width:r,height:n,x:0,y:0},f=Ct("recharts-surface",s);return te.createElement("svg",q2({},ct(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,l),te.createElement("desc",null,c),t)}var Xje=["children","className"];function X2(){return X2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X2.apply(this,arguments)}function Qje(e,t){if(e==null)return{};var r=Jje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Gt=te.forwardRef(function(e,t){var r=e.children,n=e.className,a=Qje(e,Xje),s=Ct("recharts-layer",n);return te.createElement("g",X2({className:s},ct(a,!0),{ref:t}),r)}),bi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function Zje(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var e2e=Zje,t2e=e2e;function r2e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:t2e(e,t,r)}var n2e=r2e,a2e="\\ud800-\\udfff",s2e="\\u0300-\\u036f",i2e="\\ufe20-\\ufe2f",o2e="\\u20d0-\\u20ff",l2e=s2e+i2e+o2e,c2e="\\ufe0e\\ufe0f",u2e="\\u200d",d2e=RegExp("["+u2e+a2e+l2e+c2e+"]");function f2e(e){return d2e.test(e)}var jz=f2e;function h2e(e){return e.split("")}var m2e=h2e,kz="\\ud800-\\udfff",p2e="\\u0300-\\u036f",g2e="\\ufe20-\\ufe2f",v2e="\\u20d0-\\u20ff",x2e=p2e+g2e+v2e,y2e="\\ufe0e\\ufe0f",w2e="["+kz+"]",Q2="["+x2e+"]",J2="\\ud83c[\\udffb-\\udfff]",b2e="(?:"+Q2+"|"+J2+")",Nz="[^"+kz+"]",Ez="(?:\\ud83c[\\udde6-\\uddff]){2}",Cz="[\\ud800-\\udbff][\\udc00-\\udfff]",_2e="\\u200d",Tz=b2e+"?",Az="["+y2e+"]?",S2e="(?:"+_2e+"(?:"+[Nz,Ez,Cz].join("|")+")"+Az+Tz+")*",j2e=Az+Tz+S2e,k2e="(?:"+[Nz+Q2+"?",Q2,Ez,Cz,w2e].join("|")+")",N2e=RegExp(J2+"(?="+J2+")|"+k2e+j2e,"g");function E2e(e){return e.match(N2e)||[]}var C2e=E2e,T2e=m2e,A2e=jz,O2e=C2e;function P2e(e){return A2e(e)?O2e(e):T2e(e)}var D2e=P2e,R2e=n2e,I2e=jz,M2e=D2e,F2e=xz;function L2e(e){return function(t){t=F2e(t);var r=I2e(t)?M2e(t):void 0,n=r?r[0]:t.charAt(0),a=r?R2e(r,1).join(""):t.slice(1);return n[e]()+a}}var $2e=L2e,B2e=$2e,U2e=B2e("toUpperCase"),W2e=U2e;const cb=Qt(W2e);function lr(e){return function(){return e}}const Oz=Math.cos,Vy=Math.sin,Oi=Math.sqrt,Hy=Math.PI,ub=2*Hy,Z2=Math.PI,ek=2*Z2,Qc=1e-6,z2e=ek-Qc;function Pz(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function V2e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Pz;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class H2e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Pz:V2e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Qc)if(!(Math.abs(f*c-u*d)>Qc)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,g=a-l,p=c*c+u*u,v=m*m+g*g,x=Math.sqrt(p),b=Math.sqrt(h),y=s*Math.tan((Z2-Math.acos((p+h-v)/(2*x*b)))/2),_=y/b,S=y/x;Math.abs(_-1)>Qc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Qc||Math.abs(this._y1-d)>Qc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ek+ek),h>z2e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Qc&&this._append`A${n},${n},0,${+(h>=Z2)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function DT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new H2e(t)}function RT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Dz(e){this._context=e}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function db(e){return new Dz(e)}function Rz(e){return e[0]}function Iz(e){return e[1]}function Mz(e,t){var r=lr(!0),n=null,a=db,s=null,i=DT(l);e=typeof e=="function"?e:e===void 0?Rz:lr(e),t=typeof t=="function"?t:t===void 0?Iz:lr(t);function l(c){var u,d=(c=RT(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:lr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:lr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:lr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function ex(e,t,r){var n=null,a=lr(!0),s=null,i=db,l=null,c=DT(u);e=typeof e=="function"?e:e===void 0?Rz:lr(+e),t=typeof t=="function"?t:lr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Iz:lr(+r);function u(f){var h,m,g,p=(f=RT(f)).length,v,x=!1,b,y=new Array(p),_=new Array(p);for(s==null&&(l=i(b=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(y[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(y[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):y[h],r?+r(v,h,f):_[h]))}if(b)return l=null,b+""||null}function d(){return Mz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:lr(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:lr(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:lr(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:lr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:lr(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class Fz{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function G2e(e){return new Fz(e,!0)}function K2e(e){return new Fz(e,!1)}const IT={draw(e,t){const r=Oi(t/Hy);e.moveTo(r,0),e.arc(0,0,r,0,ub)}},q2e={draw(e,t){const r=Oi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Lz=Oi(1/3),Y2e=Lz*2,X2e={draw(e,t){const r=Oi(t/Y2e),n=r*Lz;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Q2e={draw(e,t){const r=Oi(t),n=-r/2;e.rect(n,n,r,r)}},J2e=.8908130915292852,$z=Vy(Hy/10)/Vy(7*Hy/10),Z2e=Vy(ub/10)*$z,eke=-Oz(ub/10)*$z,tke={draw(e,t){const r=Oi(t*J2e),n=Z2e*r,a=eke*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=ub*s/5,l=Oz(i),c=Vy(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},fS=Oi(3),rke={draw(e,t){const r=-Oi(t/(fS*3));e.moveTo(0,r*2),e.lineTo(-fS*r,-r),e.lineTo(fS*r,-r),e.closePath()}},cs=-.5,us=Oi(3)/2,tk=1/Oi(12),nke=(tk/2+1)*3,ake={draw(e,t){const r=Oi(t/nke),n=r/2,a=r*tk,s=n,i=r*tk+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(cs*n-us*a,us*n+cs*a),e.lineTo(cs*s-us*i,us*s+cs*i),e.lineTo(cs*l-us*c,us*l+cs*c),e.lineTo(cs*n+us*a,cs*a-us*n),e.lineTo(cs*s+us*i,cs*i-us*s),e.lineTo(cs*l+us*c,cs*c-us*l),e.closePath()}};function ske(e,t){let r=null,n=DT(a);e=typeof e=="function"?e:lr(e||IT),t=typeof t=="function"?t:lr(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:lr(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:lr(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Gy(){}function Ky(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Bz(e){this._context=e}Bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ky(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ike(e){return new Bz(e)}function Uz(e){this._context=e}Uz.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oke(e){return new Uz(e)}function Wz(e){this._context=e}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ky(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lke(e){return new Wz(e)}function zz(e){this._context=e}zz.prototype={areaStart:Gy,areaEnd:Gy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cke(e){return new zz(e)}function _R(e){return e<0?-1:1}function SR(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(_R(s)+_R(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function jR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hS(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function qy(e){this._context=e}qy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hS(this,this._t0,jR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hS(this,jR(this,r=SR(this,e,t)),r);break;default:hS(this,this._t0,r=SR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function Vz(e){this._context=new Hz(e)}(Vz.prototype=Object.create(qy.prototype)).point=function(e,t){qy.prototype.point.call(this,t,e)};function Hz(e){this._context=e}Hz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function uke(e){return new qy(e)}function dke(e){return new Vz(e)}function Gz(e){this._context=e}Gz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=kR(e),a=kR(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kR(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function fke(e){return new Gz(e)}function fb(e,t){this._context=e,this._t=t}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hke(e){return new fb(e,.5)}function mke(e){return new fb(e,0)}function pke(e){return new fb(e,1)}function bh(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function rk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function gke(e,t){return e[t]}function vke(e){const t=[];return t.key=e,t}function xke(){var e=lr([]),t=rk,r=bh,n=gke;function a(s){var i=Array.from(e.apply(this,arguments),vke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=RT(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:lr(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:lr(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?rk:typeof s=="function"?s:lr(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??bh,a):r},a}function yke(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}bh(e,t)}}function wke(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}bh(e,t)}}function bke(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,x=p[n-1][1]||0;m+=v-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,bh(e,t)}}function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}var _ke=["type","size","sizeType"];function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nk.apply(this,arguments)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){Ske(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ske(e,t,r){return t=jke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=kke(e,"string");return P0(t)=="symbol"?t:t+""}function kke(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){if(e==null)return{};var r=Eke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Kz={symbolCircle:IT,symbolCross:q2e,symbolDiamond:X2e,symbolSquare:Q2e,symbolStar:tke,symbolTriangle:rke,symbolWye:ake},Cke=Math.PI/180,Tke=function(t){var r="symbol".concat(cb(t));return Kz[r]||IT},Ake=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Cke;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Oke=function(t,r){Kz["symbol".concat(cb(t))]=r},MT=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=Nke(t,_ke),u=ER(ER({},c),{},{type:n,size:s,sizeType:l}),d=function(){var v=Tke(n),x=ske().type(v).size(Ake(s,l,n));return x()},f=u.className,h=u.cx,m=u.cy,g=ct(u,!0);return h===+h&&m===+m&&s===+s?te.createElement("path",nk({},g,{className:Ct("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};MT.registerSymbol=Oke;function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){D0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yz(n.key),n)}}function Ike(e,t,r){return t&&Rke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mke(e,t,r){return t=Yy(t),Fke(e,qz()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function Fke(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lke(e)}function Lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function $ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function D0(e,t,r){return t=Yz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Bke(e,"string");return _h(t)=="symbol"?t:t+""}function Bke(e,t){if(_h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ds=32,FT=function(e){function t(){return Dke(this,t),Mke(this,t,arguments)}return $ke(t,e),Ike(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ds/2,i=ds/6,l=ds/3,c=n.inactive?a:n.color;if(n.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ds,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ds,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return te.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ds/8,"h").concat(ds,"v").concat(ds*3/4,"h").concat(-ds,"z"),className:"recharts-legend-icon"});if(te.isValidElement(n.legendIcon)){var u=Pke({},n);return delete u.legendIcon,te.cloneElement(n.legendIcon,u)}return te.createElement(MT,{fill:c,cx:s,cy:s,size:ds,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ds,height:ds},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,g){var p=m.formatter||c,v=Ct(D0(D0({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var x=_t(m.value)?null:m.value;bi(!_t(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?u:m.color;return te.createElement("li",ak({className:v,style:f,key:"legend-item-".concat(g)},rd(n.props,m,g)),te.createElement(Y2,{width:i,height:i,viewBox:d,style:h},n.renderIcon(m)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(x,m,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);D0(FT,"displayName","Legend");D0(FT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Uke=Xw;function Wke(){this.__data__=new Uke,this.size=0}var zke=Wke;function Vke(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Hke=Vke;function Gke(e){return this.__data__.get(e)}var Kke=Gke;function qke(e){return this.__data__.has(e)}var Yke=qke,Xke=Xw,Qke=jT,Jke=kT,Zke=200;function eNe(e,t){var r=this.__data__;if(r instanceof Xke){var n=r.__data__;if(!Qke||n.length<Zke-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Jke(n)}return r.set(e,t),this.size=r.size,this}var tNe=eNe,rNe=Xw,nNe=zke,aNe=Hke,sNe=Kke,iNe=Yke,oNe=tNe;function vm(e){var t=this.__data__=new rNe(e);this.size=t.size}vm.prototype.clear=nNe;vm.prototype.delete=aNe;vm.prototype.get=sNe;vm.prototype.has=iNe;vm.prototype.set=oNe;var Xz=vm,lNe="__lodash_hash_undefined__";function cNe(e){return this.__data__.set(e,lNe),this}var uNe=cNe;function dNe(e){return this.__data__.has(e)}var fNe=dNe,hNe=kT,mNe=uNe,pNe=fNe;function Xy(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hNe;++t<r;)this.add(e[t])}Xy.prototype.add=Xy.prototype.push=mNe;Xy.prototype.has=pNe;var Qz=Xy;function gNe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Jz=gNe;function vNe(e,t){return e.has(t)}var Zz=vNe,xNe=Qz,yNe=Jz,wNe=Zz,bNe=1,_Ne=2;function SNe(e,t,r,n,a,s){var i=r&bNe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&_Ne?new xNe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=i?n(p,g,f,t,e,s):n(g,p,f,e,t,s);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!yNe(t,function(x,b){if(!wNe(m,b)&&(g===x||a(g,x,r,n,s)))return m.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var eV=SNe,jNe=po,kNe=jNe.Uint8Array,NNe=kNe;function ENe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var CNe=ENe;function TNe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var LT=TNe,TR=Xg,AR=NNe,ANe=ST,ONe=eV,PNe=CNe,DNe=LT,RNe=1,INe=2,MNe="[object Boolean]",FNe="[object Date]",LNe="[object Error]",$Ne="[object Map]",BNe="[object Number]",UNe="[object RegExp]",WNe="[object Set]",zNe="[object String]",VNe="[object Symbol]",HNe="[object ArrayBuffer]",GNe="[object DataView]",OR=TR?TR.prototype:void 0,mS=OR?OR.valueOf:void 0;function KNe(e,t,r,n,a,s,i){switch(r){case GNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case HNe:return!(e.byteLength!=t.byteLength||!s(new AR(e),new AR(t)));case MNe:case FNe:case BNe:return ANe(+e,+t);case LNe:return e.name==t.name&&e.message==t.message;case UNe:case zNe:return e==t+"";case $Ne:var l=PNe;case WNe:var c=n&RNe;if(l||(l=DNe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=INe,i.set(e,t);var d=ONe(l(e),l(t),n,a,s,i);return i.delete(e),d;case VNe:if(mS)return mS.call(e)==mS.call(t)}return!1}var qNe=KNe;function YNe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var tV=YNe,XNe=tV,QNe=Ma;function JNe(e,t,r){var n=t(e);return QNe(e)?n:XNe(n,r(e))}var ZNe=JNe;function eEe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var tEe=eEe;function rEe(){return[]}var nEe=rEe,aEe=tEe,sEe=nEe,iEe=Object.prototype,oEe=iEe.propertyIsEnumerable,PR=Object.getOwnPropertySymbols,lEe=PR?function(e){return e==null?[]:(e=Object(e),aEe(PR(e),function(t){return oEe.call(e,t)}))}:sEe,cEe=lEe;function uEe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var dEe=uEe,fEe=xl,hEe=yl,mEe="[object Arguments]";function pEe(e){return hEe(e)&&fEe(e)==mEe}var gEe=pEe,DR=gEe,vEe=yl,rV=Object.prototype,xEe=rV.hasOwnProperty,yEe=rV.propertyIsEnumerable,wEe=DR(function(){return arguments}())?DR:function(e){return vEe(e)&&xEe.call(e,"callee")&&!yEe.call(e,"callee")},$T=wEe,Qy={exports:{}};function bEe(){return!1}var _Ee=bEe;Qy.exports;(function(e,t){var r=po,n=_Ee,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Qy,Qy.exports);var nV=Qy.exports,SEe=9007199254740991,jEe=/^(?:0|[1-9]\d*)$/;function kEe(e,t){var r=typeof e;return t=t??SEe,!!t&&(r=="number"||r!="symbol"&&jEe.test(e))&&e>-1&&e%1==0&&e<t}var BT=kEe,NEe=9007199254740991;function EEe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NEe}var UT=EEe,CEe=xl,TEe=UT,AEe=yl,OEe="[object Arguments]",PEe="[object Array]",DEe="[object Boolean]",REe="[object Date]",IEe="[object Error]",MEe="[object Function]",FEe="[object Map]",LEe="[object Number]",$Ee="[object Object]",BEe="[object RegExp]",UEe="[object Set]",WEe="[object String]",zEe="[object WeakMap]",VEe="[object ArrayBuffer]",HEe="[object DataView]",GEe="[object Float32Array]",KEe="[object Float64Array]",qEe="[object Int8Array]",YEe="[object Int16Array]",XEe="[object Int32Array]",QEe="[object Uint8Array]",JEe="[object Uint8ClampedArray]",ZEe="[object Uint16Array]",eCe="[object Uint32Array]",pr={};pr[GEe]=pr[KEe]=pr[qEe]=pr[YEe]=pr[XEe]=pr[QEe]=pr[JEe]=pr[ZEe]=pr[eCe]=!0;pr[OEe]=pr[PEe]=pr[VEe]=pr[DEe]=pr[HEe]=pr[REe]=pr[IEe]=pr[MEe]=pr[FEe]=pr[LEe]=pr[$Ee]=pr[BEe]=pr[UEe]=pr[WEe]=pr[zEe]=!1;function tCe(e){return AEe(e)&&TEe(e.length)&&!!pr[CEe(e)]}var rCe=tCe;function nCe(e){return function(t){return e(t)}}var aV=nCe,Jy={exports:{}};Jy.exports;(function(e,t){var r=fz,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Jy,Jy.exports);var aCe=Jy.exports,sCe=rCe,iCe=aV,RR=aCe,IR=RR&&RR.isTypedArray,oCe=IR?iCe(IR):sCe,sV=oCe,lCe=dEe,cCe=$T,uCe=Ma,dCe=nV,fCe=BT,hCe=sV,mCe=Object.prototype,pCe=mCe.hasOwnProperty;function gCe(e,t){var r=uCe(e),n=!r&&cCe(e),a=!r&&!n&&dCe(e),s=!r&&!n&&!a&&hCe(e),i=r||n||a||s,l=i?lCe(e.length,String):[],c=l.length;for(var u in e)(t||pCe.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fCe(u,c)))&&l.push(u);return l}var vCe=gCe,xCe=Object.prototype;function yCe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||xCe;return e===r}var wCe=yCe;function bCe(e,t){return function(r){return e(t(r))}}var iV=bCe,_Ce=iV,SCe=_Ce(Object.keys,Object),jCe=SCe,kCe=wCe,NCe=jCe,ECe=Object.prototype,CCe=ECe.hasOwnProperty;function TCe(e){if(!kCe(e))return NCe(e);var t=[];for(var r in Object(e))CCe.call(e,r)&&r!="constructor"&&t.push(r);return t}var ACe=TCe,OCe=_T,PCe=UT;function DCe(e){return e!=null&&PCe(e.length)&&!OCe(e)}var Jg=DCe,RCe=vCe,ICe=ACe,MCe=Jg;function FCe(e){return MCe(e)?RCe(e):ICe(e)}var hb=FCe,LCe=ZNe,$Ce=cEe,BCe=hb;function UCe(e){return LCe(e,BCe,$Ce)}var WCe=UCe,MR=WCe,zCe=1,VCe=Object.prototype,HCe=VCe.hasOwnProperty;function GCe(e,t,r,n,a,s){var i=r&zCe,l=MR(e),c=l.length,u=MR(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:HCe.call(t,h)))return!1}var m=s.get(e),g=s.get(t);if(m&&g)return m==t&&g==e;var p=!0;s.set(e,t),s.set(t,e);for(var v=i;++f<c;){h=l[f];var x=e[h],b=t[h];if(n)var y=i?n(b,x,h,t,e,s):n(x,b,h,e,t,s);if(!(y===void 0?x===b||a(x,b,r,n,s):y)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return s.delete(e),s.delete(t),p}var KCe=GCe,qCe=yd,YCe=po,XCe=qCe(YCe,"DataView"),QCe=XCe,JCe=yd,ZCe=po,eTe=JCe(ZCe,"Promise"),tTe=eTe,rTe=yd,nTe=po,aTe=rTe(nTe,"Set"),oV=aTe,sTe=yd,iTe=po,oTe=sTe(iTe,"WeakMap"),lTe=oTe,ik=QCe,ok=jT,lk=tTe,ck=oV,uk=lTe,lV=xl,xm=mz,FR="[object Map]",cTe="[object Object]",LR="[object Promise]",$R="[object Set]",BR="[object WeakMap]",UR="[object DataView]",uTe=xm(ik),dTe=xm(ok),fTe=xm(lk),hTe=xm(ck),mTe=xm(uk),Jc=lV;(ik&&Jc(new ik(new ArrayBuffer(1)))!=UR||ok&&Jc(new ok)!=FR||lk&&Jc(lk.resolve())!=LR||ck&&Jc(new ck)!=$R||uk&&Jc(new uk)!=BR)&&(Jc=function(e){var t=lV(e),r=t==cTe?e.constructor:void 0,n=r?xm(r):"";if(n)switch(n){case uTe:return UR;case dTe:return FR;case fTe:return LR;case hTe:return $R;case mTe:return BR}return t});var pTe=Jc,pS=Xz,gTe=eV,vTe=qNe,xTe=KCe,WR=pTe,zR=Ma,VR=nV,yTe=sV,wTe=1,HR="[object Arguments]",GR="[object Array]",tx="[object Object]",bTe=Object.prototype,KR=bTe.hasOwnProperty;function _Te(e,t,r,n,a,s){var i=zR(e),l=zR(t),c=i?GR:WR(e),u=l?GR:WR(t);c=c==HR?tx:c,u=u==HR?tx:u;var d=c==tx,f=u==tx,h=c==u;if(h&&VR(e)){if(!VR(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new pS),i||yTe(e)?gTe(e,t,r,n,a,s):vTe(e,t,c,r,n,a,s);if(!(r&wTe)){var m=d&&KR.call(e,"__wrapped__"),g=f&&KR.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return s||(s=new pS),a(p,v,r,n,s)}}return h?(s||(s=new pS),xTe(e,t,r,n,a,s)):!1}var STe=_Te,jTe=STe,qR=yl;function cV(e,t,r,n,a){return e===t?!0:e==null||t==null||!qR(e)&&!qR(t)?e!==e&&t!==t:jTe(e,t,r,n,cV,a)}var WT=cV,kTe=Xz,NTe=WT,ETe=1,CTe=2;function TTe(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new kTe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?NTe(d,u,ETe|CTe,n,f):h))return!1}}return!0}var ATe=TTe,OTe=Mc;function PTe(e){return e===e&&!OTe(e)}var uV=PTe,DTe=uV,RTe=hb;function ITe(e){for(var t=RTe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,DTe(a)]}return t}var MTe=ITe;function FTe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var dV=FTe,LTe=ATe,$Te=MTe,BTe=dV;function UTe(e){var t=$Te(e);return t.length==1&&t[0][2]?BTe(t[0][0],t[0][1]):function(r){return r===e||LTe(r,e,t)}}var WTe=UTe;function zTe(e,t){return e!=null&&t in Object(e)}var VTe=zTe,HTe=yz,GTe=$T,KTe=Ma,qTe=BT,YTe=UT,XTe=Jw;function QTe(e,t,r){t=HTe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=XTe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&YTe(a)&&qTe(i,a)&&(KTe(e)||GTe(e)))}var JTe=QTe,ZTe=VTe,eAe=JTe;function tAe(e,t){return e!=null&&eAe(e,t,ZTe)}var rAe=tAe,nAe=WT,aAe=wz,sAe=rAe,iAe=bT,oAe=uV,lAe=dV,cAe=Jw,uAe=1,dAe=2;function fAe(e,t){return iAe(e)&&oAe(t)?lAe(cAe(e),t):function(r){var n=aAe(r,e);return n===void 0&&n===t?sAe(r,e):nAe(t,n,uAe|dAe)}}var hAe=fAe;function mAe(e){return e}var ym=mAe;function pAe(e){return function(t){return t==null?void 0:t[e]}}var gAe=pAe,vAe=CT;function xAe(e){return function(t){return vAe(t,e)}}var yAe=xAe,wAe=gAe,bAe=yAe,_Ae=bT,SAe=Jw;function jAe(e){return _Ae(e)?wAe(SAe(e)):bAe(e)}var kAe=jAe,NAe=WTe,EAe=hAe,CAe=ym,TAe=Ma,AAe=kAe;function OAe(e){return typeof e=="function"?e:e==null?CAe:typeof e=="object"?TAe(e)?EAe(e[0],e[1]):NAe(e):AAe(e)}var go=OAe;function PAe(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var fV=PAe;function DAe(e){return e!==e}var RAe=DAe;function IAe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var MAe=IAe,FAe=fV,LAe=RAe,$Ae=MAe;function BAe(e,t,r){return t===t?$Ae(e,t,r):FAe(e,LAe,r)}var UAe=BAe,WAe=UAe;function zAe(e,t){var r=e==null?0:e.length;return!!r&&WAe(e,t,0)>-1}var VAe=zAe;function HAe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var GAe=HAe;function KAe(){}var qAe=KAe,gS=oV,YAe=qAe,XAe=LT,QAe=1/0,JAe=gS&&1/XAe(new gS([,-0]))[1]==QAe?function(e){return new gS(e)}:YAe,ZAe=JAe,eOe=Qz,tOe=VAe,rOe=GAe,nOe=Zz,aOe=ZAe,sOe=LT,iOe=200;function oOe(e,t,r){var n=-1,a=tOe,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=rOe;else if(s>=iOe){var u=t?null:aOe(e);if(u)return sOe(u);i=!1,a=nOe,c=new eOe}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var lOe=oOe,cOe=go,uOe=lOe;function dOe(e,t){return e&&e.length?uOe(e,cOe(t)):[]}var fOe=dOe;const YR=Qt(fOe);function hV(e,t,r){return t===!0?YR(e,r):_t(t)?YR(e,t):e}function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}var hOe=["ref"];function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pV(n.key),n)}}function pOe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gOe(e,t,r){return t=Zy(t),vOe(e,mV()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function vOe(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(e)}function xOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function yOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(e,t)}function mb(e,t,r){return t=pV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=wOe(e,"string");return Sh(t)=="symbol"?t:t+""}function wOe(e,t){if(Sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bOe(e,t){if(e==null)return{};var r=_Oe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SOe(e){return e.value}function jOe(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var r=bOe(t,hOe);return te.createElement(FT,r)}var JR=1,Ou=function(e){function t(){var r;mOe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=gOe(this,t,[].concat(a)),mb(r,"lastBoundingBox",{width:-1,height:-1}),r}return yOe(t,e),pOe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>JR||Math.abs(a.height-this.lastBoundingBox.height)>JR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return bo(bo({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=bo(bo({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return te.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},jOe(s,bo(bo({},this.props),{},{payload:hV(d,u,SOe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=bo(bo({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&We(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);mb(Ou,"displayName","Legend");mb(Ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZR=Xg,kOe=$T,NOe=Ma,eI=ZR?ZR.isConcatSpreadable:void 0;function EOe(e){return NOe(e)||kOe(e)||!!(eI&&e&&e[eI])}var COe=EOe,TOe=tV,AOe=COe;function gV(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=AOe),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?gV(l,t-1,r,n,a):TOe(a,l):n||(a[a.length]=l)}return a}var vV=gV;function OOe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var POe=OOe,DOe=POe,ROe=DOe(),IOe=ROe,MOe=IOe,FOe=hb;function LOe(e,t){return e&&MOe(e,t,FOe)}var xV=LOe,$Oe=Jg;function BOe(e,t){return function(r,n){if(r==null)return r;if(!$Oe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var UOe=BOe,WOe=xV,zOe=UOe,VOe=zOe(WOe),zT=VOe,HOe=zT,GOe=Jg;function KOe(e,t){var r=-1,n=GOe(e)?Array(e.length):[];return HOe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var yV=KOe;function qOe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var YOe=qOe,tI=dm;function XOe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=tI(e),i=t!==void 0,l=t===null,c=t===t,u=tI(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var QOe=XOe,JOe=QOe;function ZOe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=JOe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var ePe=ZOe,vS=ET,tPe=CT,rPe=go,nPe=yV,aPe=YOe,sPe=aV,iPe=ePe,oPe=ym,lPe=Ma;function cPe(e,t,r){t.length?t=vS(t,function(s){return lPe(s)?function(i){return tPe(i,s.length===1?s[0]:s)}:s}):t=[oPe];var n=-1;t=vS(t,sPe(rPe));var a=nPe(e,function(s,i,l){var c=vS(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return aPe(a,function(s,i){return iPe(s,i,r)})}var uPe=cPe;function dPe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var fPe=dPe,hPe=fPe,rI=Math.max;function mPe(e,t,r){return t=rI(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=rI(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),hPe(e,this,l)}}var pPe=mPe;function gPe(e){return function(){return e}}var vPe=gPe,xPe=yd,yPe=function(){try{var e=xPe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wV=yPe,wPe=vPe,nI=wV,bPe=ym,_Pe=nI?function(e,t){return nI(e,"toString",{configurable:!0,enumerable:!1,value:wPe(t),writable:!0})}:bPe,SPe=_Pe,jPe=800,kPe=16,NPe=Date.now;function EPe(e){var t=0,r=0;return function(){var n=NPe(),a=kPe-(n-r);if(r=n,a>0){if(++t>=jPe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var CPe=EPe,TPe=SPe,APe=CPe,OPe=APe(TPe),PPe=OPe,DPe=ym,RPe=pPe,IPe=PPe;function MPe(e,t){return IPe(RPe(e,t,DPe),e+"")}var FPe=MPe,LPe=ST,$Pe=Jg,BPe=BT,UPe=Mc;function WPe(e,t,r){if(!UPe(r))return!1;var n=typeof t;return(n=="number"?$Pe(r)&&BPe(t,r.length):n=="string"&&t in r)?LPe(r[t],e):!1}var pb=WPe,zPe=vV,VPe=uPe,HPe=FPe,aI=pb,GPe=HPe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&aI(e,t[0],t[1])?t=[]:r>2&&aI(t[0],t[1],t[2])&&(t=[t[0]]),VPe(e,zPe(t,1),[])}),KPe=GPe;const VT=Qt(KPe);function R0(e){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R0(e)}function fk(){return fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fk.apply(this,arguments)}function qPe(e,t){return JPe(e)||QPe(e,t)||XPe(e,t)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XPe(e,t){if(e){if(typeof e=="string")return sI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sI(e,t)}}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function JPe(e){if(Array.isArray(e))return e}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){ZPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZPe(e,t,r){return t=e4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e4e(e){var t=t4e(e,"string");return R0(t)=="symbol"?t:t+""}function t4e(e,t){if(R0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r4e(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var n4e=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,x=t.accessibilityLayer,b=x===void 0?!1:x,y=function(){if(d&&d.length){var P={padding:0,margin:0},U=(h?VT(d,h):d).map(function(z,W){if(z.type==="none")return null;var I=xS({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),R=z.formatter||f||r4e,F=z.value,D=z.name,V=F,J=D;if(R&&V!=null&&J!=null){var T=R(F,D,z,W,d);if(Array.isArray(T)){var G=qPe(T,2);V=G[0],J=G[1]}else V=T}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:I},sn(J)?te.createElement("span",{className:"recharts-tooltip-item-name"},J):null,sn(J)?te.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,te.createElement("span",{className:"recharts-tooltip-item-value"},V),te.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:P},U)}return null},_=xS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=xS({margin:0},u),k=!Et(p),j=k?p:"",E=Ct("recharts-default-tooltip",m),N=Ct("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(j=v(p,d));var A=b?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",fk({className:E,style:_},A),te.createElement("p",{className:N,style:S},te.isValidElement(j)?j:"".concat(j)),y())};function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function rx(e,t,r){return t=a4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4e(e){var t=s4e(e,"string");return I0(t)=="symbol"?t:t+""}function s4e(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vm="recharts-tooltip-wrapper",i4e={visibility:"hidden"};function o4e(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ct(Vm,rx(rx(rx(rx({},"".concat(Vm,"-right"),We(r)&&t&&We(t.x)&&r>=t.x),"".concat(Vm,"-left"),We(r)&&t&&We(t.x)&&r<t.x),"".concat(Vm,"-bottom"),We(n)&&t&&We(t.y)&&n>=t.y),"".concat(Vm,"-top"),We(n)&&t&&We(t.y)&&n<t.y))}function oI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&We(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function l4e(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function c4e(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=oI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=oI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=l4e({translateX:d,translateY:f,useTranslate3d:l})):u=i4e,{cssProperties:u,cssClasses:o4e({translateX:d,translateY:f,coordinate:r})}}function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_V(n.key),n)}}function f4e(e,t,r){return t&&d4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h4e(e,t,r){return t=e1(t),m4e(e,bV()?Reflect.construct(t,r||[],e1(e).constructor):t.apply(e,r))}function m4e(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p4e(e)}function p4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bV=function(){return!!e})()}function e1(e){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(e)}function g4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function mk(e,t,r){return t=_V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _V(e){var t=v4e(e,"string");return jh(t)=="symbol"?t:t+""}function v4e(e,t){if(jh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uI=1,x4e=function(e){function t(){var r;u4e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=h4e(this,t,[].concat(a)),mk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mk(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return g4e(t,e),f4e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uI||Math.abs(n.height-this.state.lastBoundingBox.height)>uI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,x=a.viewBox,b=a.wrapperStyle,y=c4e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=y.cssClasses,S=y.cssProperties,k=cI(cI({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return te.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])}(w.PureComponent),y4e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},to={isSsr:y4e(),get:function(t){return to[t]},set:function(t,r){if(typeof t=="string")to[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){to[a]=t[a]})}}};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){HT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jV(n.key),n)}}function _4e(e,t,r){return t&&b4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,r){return t=t1(t),j4e(e,SV()?Reflect.construct(t,r||[],t1(e).constructor):t.apply(e,r))}function j4e(e,t){if(t&&(kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k4e(e)}function k4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!e})()}function t1(e){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(e)}function N4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(e,t)}function HT(e,t,r){return t=jV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=E4e(e,"string");return kh(t)=="symbol"?t:t+""}function E4e(e,t){if(kh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4e(e){return e.dataKey}function T4e(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(n4e,t)}var li=function(e){function t(){return w4e(this,t),S4e(this,t,arguments)}return N4e(t,e),_4e(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=hV(g.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),p,C4e));var k=S.length>0;return te.createElement(x4e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:k,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:y,wrapperStyle:_},T4e(u,fI(fI({},this.props),{},{payload:S})))}}])}(w.PureComponent);HT(li,"displayName","Tooltip");HT(li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!to.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var A4e=po,O4e=function(){return A4e.Date.now()},P4e=O4e,D4e=/\s/;function R4e(e){for(var t=e.length;t--&&D4e.test(e.charAt(t)););return t}var I4e=R4e,M4e=I4e,F4e=/^\s+/;function L4e(e){return e&&e.slice(0,M4e(e)+1).replace(F4e,"")}var $4e=L4e,B4e=$4e,hI=Mc,U4e=dm,mI=NaN,W4e=/^[-+]0x[0-9a-f]+$/i,z4e=/^0b[01]+$/i,V4e=/^0o[0-7]+$/i,H4e=parseInt;function G4e(e){if(typeof e=="number")return e;if(U4e(e))return mI;if(hI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=B4e(e);var r=z4e.test(e);return r||V4e.test(e)?H4e(e.slice(2),r?2:8):W4e.test(e)?mI:+e}var kV=G4e,K4e=Mc,yS=P4e,pI=kV,q4e="Expected a function",Y4e=Math.max,X4e=Math.min;function Q4e(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(q4e);t=pI(t)||0,K4e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Y4e(pI(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(k){var j=n,E=a;return n=a=void 0,u=k,i=e.apply(E,j),i}function g(k){return u=k,l=setTimeout(x,t),d?m(k):i}function p(k){var j=k-c,E=k-u,N=t-j;return f?X4e(N,s-E):N}function v(k){var j=k-c,E=k-u;return c===void 0||j>=t||j<0||f&&E>=s}function x(){var k=yS();if(v(k))return b(k);l=setTimeout(x,p(k))}function b(k){return l=void 0,h&&n?m(k):(n=a=void 0,i)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:b(yS())}function S(){var k=yS(),j=v(k);if(n=arguments,a=this,c=k,j){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),i}return S.cancel=y,S.flush=_,S}var J4e=Q4e,Z4e=J4e,eDe=Mc,tDe="Expected a function";function rDe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(tDe);return eDe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Z4e(e,t,{leading:n,maxWait:t,trailing:a})}var nDe=rDe;const NV=Qt(nDe);function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){aDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aDe(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=iDe(e,"string");return M0(t)=="symbol"?t:t+""}function iDe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oDe(e,t){return dDe(e)||uDe(e,t)||cDe(e,t)||lDe()}function lDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cDe(e,t){if(e){if(typeof e=="string")return vI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(e,t)}}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function dDe(e){if(Array.isArray(e))return e}var EV=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,x=e.className,b=e.onResize,y=e.style,_=y===void 0?{}:y,S=w.useRef(null),k=w.useRef();k.current=b,w.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var j=w.useState({containerWidth:a.width,containerHeight:a.height}),E=oDe(j,2),N=E[0],A=E[1],O=w.useCallback(function(U,z){A(function(W){var I=Math.round(U),R=Math.round(z);return W.containerWidth===I&&W.containerHeight===R?W:{containerWidth:I,containerHeight:R}})},[]);w.useEffect(function(){var U=function(D){var V,J=D[0].contentRect,T=J.width,G=J.height;O(T,G),(V=k.current)===null||V===void 0||V.call(k,T,G)};p>0&&(U=NV(U,p,{trailing:!0,leading:!1}));var z=new ResizeObserver(U),W=S.current.getBoundingClientRect(),I=W.width,R=W.height;return O(I,R),z.observe(S.current),function(){z.disconnect()}},[O,p]);var P=w.useMemo(function(){var U=N.containerWidth,z=N.containerHeight;if(U<0||z<0)return null;bi(mu(i)||mu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=mu(i)?U:i,I=mu(c)?z:c;r&&r>0&&(W?I=W/r:I&&(W=I*r),h&&I>h&&(I=h)),bi(W>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,I,i,c,d,f,r);var R=!Array.isArray(m)&&qo(m.type).endsWith("Chart");return te.Children.map(m,function(F){return te.isValidElement(F)?w.cloneElement(F,nx({width:W,height:I},R?{style:nx({height:"100%",width:"100%",maxHeight:I,maxWidth:W},F.props.style)}:{})):F})},[r,m,c,h,f,d,N,i]);return te.createElement("div",{id:v?"".concat(v):void 0,className:Ct("recharts-responsive-container",x),style:nx(nx({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},P)}),Io=function(t){return null};Io.displayName="Cell";function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){fDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fDe(e,t,r){return t=hDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hDe(e){var t=mDe(e,"string");return F0(t)=="symbol"?t:t+""}function mDe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d={widthCache:{},cacheCount:0},pDe=2e3,gDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yI="recharts_measurement_span";function vDe(e){var t=gk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var $p=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||to.isSsr)return{width:0,height:0};var n=vDe(r),a=JSON.stringify({text:t,copyStyle:n});if($d.widthCache[a])return $d.widthCache[a];try{var s=document.getElementById(yI);s||(s=document.createElement("span"),s.setAttribute("id",yI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=gk(gk({},gDe),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return $d.widthCache[a]=c,++$d.cacheCount>pDe&&($d.cacheCount=0,$d.widthCache={}),c}catch{return{width:0,height:0}}},xDe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function r1(e,t){return _De(e)||bDe(e,t)||wDe(e,t)||yDe()}function yDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(e,t){if(e){if(typeof e=="string")return wI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(e,t)}}function wI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _De(e){if(Array.isArray(e))return e}function SDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kDe(n.key),n)}}function jDe(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kDe(e){var t=NDe(e,"string");return L0(t)=="symbol"?t:t+""}function NDe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,EDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TDe=Object.keys(CV),hf="NaN";function ADe(e,t){return e*CV[t]}var ax=function(){function e(t,r){SDe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!EDe.test(r)&&(this.num=NaN,this.unit=""),TDe.includes(r)&&(this.num=ADe(t,r),this.unit="px")}return jDe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=CDe.exec(r))!==null&&n!==void 0?n:[],s=r1(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function TV(e){if(e.includes(hf))return hf;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_I.exec(t))!==null&&r!==void 0?r:[],a=r1(n,4),s=a[1],i=a[2],l=a[3],c=ax.parse(s??""),u=ax.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return hf;t=t.replace(_I,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=SI.exec(t))!==null&&f!==void 0?f:[],m=r1(h,4),g=m[1],p=m[2],v=m[3],x=ax.parse(g??""),b=ax.parse(v??""),y=p==="+"?x.add(b):x.subtract(b);if(y.isNaN())return hf;t=t.replace(SI,y.toString())}return t}var jI=/\(([^()]*)\)/;function ODe(e){for(var t=e;t.includes("(");){var r=jI.exec(t),n=r1(r,2),a=n[1];t=t.replace(jI,TV(a))}return t}function PDe(e){var t=e.replace(/\s+/g,"");return t=ODe(t),t=TV(t),t}function DDe(e){try{return PDe(e)}catch{return hf}}function wS(e){var t=DDe(e.slice(5,-1));return t===hf?"":t}var RDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IDe=["dx","dy","angle","className","breakAll"];function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}function kI(e,t){if(e==null)return{};var r=MDe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NI(e,t){return BDe(e)||$De(e,t)||LDe(e,t)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LDe(e,t){if(e){if(typeof e=="string")return EI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(e,t)}}function EI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $De(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function BDe(e){if(Array.isArray(e))return e}var AV=/[ \f\n\r\t\v\u2028\u2029]+/,OV=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];Et(r)||(n?s=r.toString().split(""):s=r.toString().split(AV));var i=s.map(function(c){return{word:c,width:$p(c,a).width}}),l=n?0:$p("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},UDe=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=We(i),f=l,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(I,R){var F=R.word,D=R.width,V=I[I.length-1];if(V&&(a==null||s||V.width+D+n<Number(a)))V.words.push(F),V.width+=D+n;else{var J={words:[F],width:D};I.push(J)}return I},[])},m=h(r),g=function(W){return W.reduce(function(I,R){return I.width>R.width?I:R})};if(!d)return m;for(var p="",v=function(W){var I=f.slice(0,W),R=OV({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,F=h(R),D=F.length>i||g(F).width>Number(a);return[D,F]},x=0,b=f.length-1,y=0,_;x<=b&&y<=f.length-1;){var S=Math.floor((x+b)/2),k=S-1,j=v(k),E=NI(j,2),N=E[0],A=E[1],O=v(S),P=NI(O,1),U=P[0];if(!N&&!U&&(x=S+1),N&&U&&(b=S-1),!N&&U){_=A;break}y++}return _||m},CI=function(t){var r=Et(t)?[]:t.toString().split(AV);return[{words:r}]},WDe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!to.isSsr){var c,u,d=OV({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return CI(a);return UDe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return CI(a)},TI="#808080",nd=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,x=v===void 0?TI:v,b=kI(t,RDe),y=w.useMemo(function(){return WDe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),_=b.dx,S=b.dy,k=b.angle,j=b.className,E=b.breakAll,N=kI(b,IDe);if(!sn(n)||!sn(s))return null;var A=n+(We(_)?_:0),O=s+(We(S)?S:0),P;switch(p){case"start":P=wS("calc(".concat(u,")"));break;case"middle":P=wS("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=wS("calc(".concat(y.length-1," * -").concat(l,")"));break}var U=[];if(f){var z=y[0].width,W=b.width;U.push("scale(".concat((We(W)?W/z:1)/z,")"))}return k&&U.push("rotate(".concat(k,", ").concat(A,", ").concat(O,")")),U.length&&(N.transform=U.join(" ")),te.createElement("text",vk({},ct(N,!0),{x:A,y:O,className:Ct("recharts-text",j),textAnchor:m,fill:x.includes("url")?TI:x}),y.map(function(I,R){var F=I.words.join(E?"":" ");return te.createElement("tspan",{x:A,dy:R===0?P:l,key:"".concat(F,"-").concat(R)},F)}))};function gc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zDe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GT(e){let t,r,n;e.length!==2?(t=gc,r=(l,c)=>gc(e(l),c),n=(l,c)=>e(l)-c):(t=e===gc||e===zDe?e:VDe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function VDe(){return 0}function PV(e){return e===null?NaN:+e}function*HDe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const GDe=GT(gc),Zg=GDe.right;GT(PV).center;class AI extends Map{constructor(t,r=YDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(OI(this,t))}has(t){return super.has(OI(this,t))}set(t,r){return super.set(KDe(this,t),r)}delete(t){return super.delete(qDe(this,t))}}function OI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function KDe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qDe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YDe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XDe(e=gc){if(e===gc)return DV;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DV(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QDe=Math.sqrt(50),JDe=Math.sqrt(10),ZDe=Math.sqrt(2);function n1(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=QDe?10:s>=JDe?5:s>=ZDe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?n1(e,t,r*2):[l,c,u]}function xk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?n1(t,e,r):n1(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function yk(e,t,r){return t=+t,e=+e,r=+r,n1(e,t,r)[2]}function wk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yk(t,e,r):yk(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function PI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function DI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RV(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?DV:XDe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));RV(e,t,m,g,a)}const s=e[t];let i=r,l=n;for(Hm(e,r,t),a(e[n],s)>0&&Hm(e,r,n);i<l;){for(Hm(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Hm(e,r,l):(++l,Hm(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Hm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function eRe(e,t,r){if(e=Float64Array.from(HDe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return DI(e);if(t>=1)return PI(e);var n,a=(n-1)*t,s=Math.floor(a),i=PI(RV(e,s).subarray(0,s+1)),l=DI(e.subarray(s+1));return i+(l-i)*(a-s)}}function tRe(e,t,r=PV){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function rRe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bk=Symbol("implicit");function KT(){var e=new AI,t=[],r=[],n=bk;function a(s){let i=e.get(s);if(i===void 0){if(n!==bk)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new AI;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return KT(t,r).unknown(n)},zs.apply(a,arguments),a}function $0(){var e=KT().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;s=(p-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(p-g-s*(h-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var v=rRe(h).map(function(x){return g+s*x});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $0(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},zs.apply(f(),arguments)}function IV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IV(t())},e}function Bp(){return IV($0.apply(null,arguments).paddingInner(1))}function qT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MV(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ev(){}var B0=.7,a1=1/B0,If="\\s*([+-]?\\d+)\\s*",U0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nRe=/^#([0-9a-f]{3,8})$/,aRe=new RegExp(`^rgb\\(${If},${If},${If}\\)$`),sRe=new RegExp(`^rgb\\(${ro},${ro},${ro}\\)$`),iRe=new RegExp(`^rgba\\(${If},${If},${If},${U0}\\)$`),oRe=new RegExp(`^rgba\\(${ro},${ro},${ro},${U0}\\)$`),lRe=new RegExp(`^hsl\\(${U0},${ro},${ro}\\)$`),cRe=new RegExp(`^hsla\\(${U0},${ro},${ro},${U0}\\)$`),RI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qT(ev,W0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:II,formatHex:II,formatHex8:uRe,formatHsl:dRe,formatRgb:MI,toString:MI});function II(){return this.rgb().formatHex()}function uRe(){return this.rgb().formatHex8()}function dRe(){return FV(this).formatHsl()}function MI(){return this.rgb().formatRgb()}function W0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nRe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?FI(t):r===3?new Ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aRe.exec(e))?new Ea(t[1],t[2],t[3],1):(t=sRe.exec(e))?new Ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=iRe.exec(e))?sx(t[1],t[2],t[3],t[4]):(t=oRe.exec(e))?sx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=lRe.exec(e))?BI(t[1],t[2]/100,t[3]/100,1):(t=cRe.exec(e))?BI(t[1],t[2]/100,t[3]/100,t[4]):RI.hasOwnProperty(e)?FI(RI[e]):e==="transparent"?new Ea(NaN,NaN,NaN,0):null}function FI(e){return new Ea(e>>16&255,e>>8&255,e&255,1)}function sx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ea(e,t,r,n)}function fRe(e){return e instanceof ev||(e=W0(e)),e?(e=e.rgb(),new Ea(e.r,e.g,e.b,e.opacity)):new Ea}function _k(e,t,r,n){return arguments.length===1?fRe(e):new Ea(e,t,r,n??1)}function Ea(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qT(Ea,_k,MV(ev,{brighter(e){return e=e==null?a1:Math.pow(a1,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ea(Pu(this.r),Pu(this.g),Pu(this.b),s1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LI,formatHex:LI,formatHex8:hRe,formatRgb:$I,toString:$I}));function LI(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}`}function hRe(){return`#${pu(this.r)}${pu(this.g)}${pu(this.b)}${pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function $I(){const e=s1(this.opacity);return`${e===1?"rgb(":"rgba("}${Pu(this.r)}, ${Pu(this.g)}, ${Pu(this.b)}${e===1?")":`, ${e})`}`}function s1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pu(e){return e=Pu(e),(e<16?"0":"")+e.toString(16)}function BI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,r,n)}function FV(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof ev||(e=W0(e)),!e)return new hi;if(e instanceof hi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new hi(i,l,c,e.opacity)}function mRe(e,t,r,n){return arguments.length===1?FV(e):new hi(e,t,r,n??1)}function hi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qT(hi,mRe,MV(ev,{brighter(e){return e=e==null?a1:Math.pow(a1,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ea(bS(e>=240?e-240:e+120,a,n),bS(e,a,n),bS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hi(UI(this.h),ix(this.s),ix(this.l),s1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=s1(this.opacity);return`${e===1?"hsl(":"hsla("}${UI(this.h)}, ${ix(this.s)*100}%, ${ix(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UI(e){return e=(e||0)%360,e<0?e+360:e}function ix(e){return Math.max(0,Math.min(1,e||0))}function bS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const YT=e=>()=>e;function pRe(e,t){return function(r){return e+r*t}}function gRe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vRe(e){return(e=+e)==1?LV:function(t,r){return r-t?gRe(t,r,e):YT(isNaN(t)?r:t)}}function LV(e,t){var r=t-e;return r?pRe(e,r):YT(isNaN(e)?t:e)}const WI=function e(t){var r=vRe(t);function n(a,s){var i=r((a=_k(a)).r,(s=_k(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=LV(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function xRe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function yRe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wRe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=wm(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function bRe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function i1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _Re(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=wm(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Sk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_S=new RegExp(Sk.source,"g");function SRe(e){return function(){return e}}function jRe(e){return function(t){return e(t)+""}}function kRe(e,t){var r=Sk.lastIndex=_S.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Sk.exec(e))&&(a=_S.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:i1(n,a)})),r=_S.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?jRe(c[0].x):SRe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function wm(e,t){var r=typeof t,n;return t==null||r==="boolean"?YT(t):(r==="number"?i1:r==="string"?(n=W0(t))?(t=n,WI):kRe:t instanceof W0?WI:t instanceof Date?bRe:yRe(t)?xRe:Array.isArray(t)?wRe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_Re:i1)(e,t)}function XT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function NRe(e,t){t===void 0&&(t=e,e=wm);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function ERe(e){return function(){return e}}function o1(e){return+e}var zI=[0,1];function ca(e){return e}function jk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ERe(isNaN(t)?NaN:.5)}function CRe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TRe(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=jk(a,n),s=r(i,s)):(n=jk(n,a),s=r(s,i)),function(l){return s(n(l))}}function ARe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=jk(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=Zg(e,l,1,n)-1;return s[c](a[c](l))}}function tv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gb(){var e=zI,t=zI,r=wm,n,a,s,i=ca,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==ca&&(i=CRe(e[0],e[h-1])),l=h>2?ARe:TRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),i1)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,o1),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=XT,d()},f.clamp=function(h){return arguments.length?(i=h?!0:ca,d()):i!==ca},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function QT(){return gb()(ca,ca)}function ORe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nh(e){return e=l1(Math.abs(e)),e?e[1]:NaN}function PRe(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function DRe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var RRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z0(e){if(!(t=RRe.exec(e)))throw new Error("invalid format: "+e);var t;return new JT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}z0.prototype=JT.prototype;function JT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}JT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IRe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var $V;function MRe(e,t){var r=l1(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-($V=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+l1(e,Math.max(0,t+s-1))[0]}function VI(e,t){var r=l1(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const HI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ORe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VI(e*100,t),r:VI,s:MRe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function GI(e){return e}var KI=Array.prototype.map,qI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FRe(e){var t=e.grouping===void 0||e.thousands===void 0?GI:PRe(KI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?GI:DRe(KI.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=z0(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,v=f.zero,x=f.width,b=f.comma,y=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):HI[S]||(y===void 0&&(y=12),_=!0,S="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var k=p==="$"?r:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",j=p==="$"?n:/[%p]/.test(S)?i:"",E=HI[S],N=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(O){var P=k,U=j,z,W,I;if(S==="c")U=E(O)+U,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),y),_&&(O=IRe(O)),R&&+O==0&&g!=="+"&&(R=!1),P=(R?g==="("?g:l:g==="-"||g==="("?"":g)+P,U=(S==="s"?qI[8+$V/3]:"")+U+(R&&g==="("?")":""),N){for(z=-1,W=O.length;++z<W;)if(I=O.charCodeAt(z),48>I||I>57){U=(I===46?a+O.slice(z+1):O.slice(z))+U,O=O.slice(0,z);break}}}b&&!v&&(O=t(O,1/0));var F=P.length+O.length+U.length,D=F<x?new Array(x-F+1).join(h):"";switch(b&&v&&(O=t(D+O,D.length?x-U.length:1/0),D=""),m){case"<":O=P+O+U+D;break;case"=":O=P+D+O+U;break;case"^":O=D.slice(0,F=D.length>>1)+P+O+U+D.slice(F);break;default:O=D+P+O+U;break}return s(O)}return A.toString=function(){return f+""},A}function d(f,h){var m=u((f=z0(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Nh(h)/3)))*3,p=Math.pow(10,-g),v=qI[8+g/3];return function(x){return m(p*x)+v}}return{format:u,formatPrefix:d}}var ox,ZT,BV;LRe({thousands:",",grouping:[3],currency:["$",""]});function LRe(e){return ox=FRe(e),ZT=ox.format,BV=ox.formatPrefix,ox}function $Re(e){return Math.max(0,-Nh(Math.abs(e)))}function BRe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nh(t)/3)))*3-Nh(Math.abs(e)))}function URe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nh(t)-Nh(e))+1}function UV(e,t,r,n){var a=wk(e,t,r),s;switch(n=z0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=BRe(a,i))&&(n.precision=s),BV(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=URe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=$Re(a))&&(n.precision=s-(n.type==="%")*2);break}}return ZT(n)}function Fc(e){var t=e.domain;return e.ticks=function(r){var n=t();return xk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return UV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=yk(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function c1(){var e=QT();return e.copy=function(){return tv(e,c1())},zs.apply(e,arguments),Fc(e)}function WV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,o1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WV(e).unknown(t)},e=arguments.length?Array.from(e,o1):[0,1],Fc(r)}function zV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function YI(e){return Math.log(e)}function XI(e){return Math.exp(e)}function WRe(e){return-Math.log(-e)}function zRe(e){return-Math.exp(-e)}function VRe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HRe(e){return e===10?VRe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GRe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QI(e){return(t,r)=>-e(-t,r)}function eA(e){const t=e(YI,XI),r=t.domain;let n=10,a,s;function i(){return a=GRe(n),s=HRe(n),r()[0]<0?(a=QI(a),s=QI(s),e(WRe,zRe)):e(YI,XI),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let x=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/s(-h):g*s(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<v&&(x=xk(u,d,v))}else x=xk(h,m,Math.min(m-h,v)).map(s);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=z0(c)).precision==null&&(c.trim=!0),c=ZT(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(zV(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function VV(){const e=eA(gb()).domain([1,10]);return e.copy=()=>tv(e,VV()).base(e.base()),zs.apply(e,arguments),e}function JI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tA(e){var t=1,r=e(JI(t),ZI(t));return r.constant=function(n){return arguments.length?e(JI(t=+n),ZI(t)):t},Fc(r)}function HV(){var e=tA(gb());return e.copy=function(){return tv(e,HV()).constant(e.constant())},zs.apply(e,arguments)}function eM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KRe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qRe(e){return e<0?-e*e:e*e}function rA(e){var t=e(ca,ca),r=1;function n(){return r===1?e(ca,ca):r===.5?e(KRe,qRe):e(eM(r),eM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fc(t)}function nA(){var e=rA(gb());return e.copy=function(){return tv(e,nA()).exponent(e.exponent())},zs.apply(e,arguments),e}function YRe(){return nA.apply(null,arguments).exponent(.5)}function tM(e){return Math.sign(e)*e*e}function XRe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GV(){var e=QT(),t=[0,1],r=!1,n;function a(s){var i=XRe(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(tM(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,o1)).map(tM)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return GV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zs.apply(a,arguments),Fc(a)}function KV(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=tRe(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Zg(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(gc),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return KV().domain(e).range(t).unknown(n)},zs.apply(s,arguments)}function qV(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Zg(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return qV().domain([e,t]).range(a).unknown(s)},zs.apply(Fc(i),arguments)}function YV(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Zg(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return YV().domain(e).range(t).unknown(r)},zs.apply(a,arguments)}const SS=new Date,jS=new Date;function ln(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>ln(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(SS.setTime(+s),jS.setTime(+i),e(SS),e(jS),Math.floor(r(SS,jS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const u1=ln(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);u1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ln(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):u1);u1.range;const Uo=1e3,bs=Uo*60,Wo=bs*60,cl=Wo*24,aA=cl*7,rM=cl*30,kS=cl*365,gu=ln(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Uo)},(e,t)=>(t-e)/Uo,e=>e.getUTCSeconds());gu.range;const sA=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getMinutes());sA.range;const iA=ln(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCMinutes());iA.range;const oA=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Uo-e.getMinutes()*bs)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getHours());oA.range;const lA=ln(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wo)},(e,t)=>(t-e)/Wo,e=>e.getUTCHours());lA.range;const rv=ln(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bs)/cl,e=>e.getDate()-1);rv.range;const vb=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cl,e=>e.getUTCDate()-1);vb.range;const XV=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cl,e=>Math.floor(e/cl));XV.range;function wd(e){return ln(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*bs)/aA)}const xb=wd(0),d1=wd(1),QRe=wd(2),JRe=wd(3),Eh=wd(4),ZRe=wd(5),eIe=wd(6);xb.range;d1.range;QRe.range;JRe.range;Eh.range;ZRe.range;eIe.range;function bd(e){return ln(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/aA)}const yb=bd(0),f1=bd(1),tIe=bd(2),rIe=bd(3),Ch=bd(4),nIe=bd(5),aIe=bd(6);yb.range;f1.range;tIe.range;rIe.range;Ch.range;nIe.range;aIe.range;const cA=ln(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cA.range;const uA=ln(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());uA.range;const ul=ln(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ul.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ul.range;const dl=ln(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});dl.range;function QV(e,t,r,n,a,s){const i=[[gu,1,Uo],[gu,5,5*Uo],[gu,15,15*Uo],[gu,30,30*Uo],[s,1,bs],[s,5,5*bs],[s,15,15*bs],[s,30,30*bs],[a,1,Wo],[a,3,3*Wo],[a,6,6*Wo],[a,12,12*Wo],[n,1,cl],[n,2,2*cl],[r,1,aA],[t,1,rM],[t,3,3*rM],[e,1,kS]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=GT(([,,v])=>v).right(i,h);if(m===i.length)return e.every(wk(u/kS,d/kS,f));if(m===0)return u1.every(Math.max(wk(u,d,f),1));const[g,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[sIe,iIe]=QV(dl,uA,yb,XV,lA,iA),[oIe,lIe]=QV(ul,cA,xb,rv,oA,sA);function NS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ES(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function cIe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Km(a),d=qm(a),f=Km(s),h=qm(s),m=Km(i),g=qm(i),p=Km(l),v=qm(l),x=Km(c),b=qm(c),y={a:R,A:F,b:D,B:V,c:null,d:lM,e:lM,f:PIe,g:WIe,G:VIe,H:TIe,I:AIe,j:OIe,L:JV,m:DIe,M:RIe,p:J,q:T,Q:dM,s:fM,S:IIe,u:MIe,U:FIe,V:LIe,w:$Ie,W:BIe,x:null,X:null,y:UIe,Y:zIe,Z:HIe,"%":uM},_={a:G,A:M,b:B,B:ee,c:null,d:cM,e:cM,f:YIe,g:sMe,G:oMe,H:GIe,I:KIe,j:qIe,L:eH,m:XIe,M:QIe,p:ae,q:de,Q:dM,s:fM,S:JIe,u:ZIe,U:eMe,V:tMe,w:rMe,W:nMe,x:null,X:null,y:aMe,Y:iMe,Z:lMe,"%":uM},S={a:A,A:O,b:P,B:U,c:z,d:iM,e:iM,f:kIe,g:sM,G:aM,H:oM,I:oM,j:bIe,L:jIe,m:wIe,M:_Ie,p:N,q:yIe,Q:EIe,s:CIe,S:SIe,u:mIe,U:pIe,V:gIe,w:hIe,W:vIe,x:W,X:I,y:sM,Y:aM,Z:xIe,"%":NIe};y.x=k(r,y),y.X=k(n,y),y.c=k(t,y),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(re,H){return function(ce){var C=[],Ne=-1,Te=0,Le=re.length,Ie,Ee,ot;for(ce instanceof Date||(ce=new Date(+ce));++Ne<Le;)re.charCodeAt(Ne)===37&&(C.push(re.slice(Te,Ne)),(Ee=nM[Ie=re.charAt(++Ne)])!=null?Ie=re.charAt(++Ne):Ee=Ie==="e"?" ":"0",(ot=H[Ie])&&(Ie=ot(ce,Ee)),C.push(Ie),Te=Ne+1);return C.push(re.slice(Te,Ne)),C.join("")}}function j(re,H){return function(ce){var C=Gm(1900,void 0,1),Ne=E(C,re,ce+="",0),Te,Le;if(Ne!=ce.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(H&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(Te=ES(Gm(C.y,0,1)),Le=Te.getUTCDay(),Te=Le>4||Le===0?f1.ceil(Te):f1(Te),Te=vb.offset(Te,(C.V-1)*7),C.y=Te.getUTCFullYear(),C.m=Te.getUTCMonth(),C.d=Te.getUTCDate()+(C.w+6)%7):(Te=NS(Gm(C.y,0,1)),Le=Te.getDay(),Te=Le>4||Le===0?d1.ceil(Te):d1(Te),Te=rv.offset(Te,(C.V-1)*7),C.y=Te.getFullYear(),C.m=Te.getMonth(),C.d=Te.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),Le="Z"in C?ES(Gm(C.y,0,1)).getUTCDay():NS(Gm(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(Le+5)%7:C.w+C.U*7-(Le+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,ES(C)):NS(C)}}function E(re,H,ce,C){for(var Ne=0,Te=H.length,Le=ce.length,Ie,Ee;Ne<Te;){if(C>=Le)return-1;if(Ie=H.charCodeAt(Ne++),Ie===37){if(Ie=H.charAt(Ne++),Ee=S[Ie in nM?H.charAt(Ne++):Ie],!Ee||(C=Ee(re,ce,C))<0)return-1}else if(Ie!=ce.charCodeAt(C++))return-1}return C}function N(re,H,ce){var C=u.exec(H.slice(ce));return C?(re.p=d.get(C[0].toLowerCase()),ce+C[0].length):-1}function A(re,H,ce){var C=m.exec(H.slice(ce));return C?(re.w=g.get(C[0].toLowerCase()),ce+C[0].length):-1}function O(re,H,ce){var C=f.exec(H.slice(ce));return C?(re.w=h.get(C[0].toLowerCase()),ce+C[0].length):-1}function P(re,H,ce){var C=x.exec(H.slice(ce));return C?(re.m=b.get(C[0].toLowerCase()),ce+C[0].length):-1}function U(re,H,ce){var C=p.exec(H.slice(ce));return C?(re.m=v.get(C[0].toLowerCase()),ce+C[0].length):-1}function z(re,H,ce){return E(re,t,H,ce)}function W(re,H,ce){return E(re,r,H,ce)}function I(re,H,ce){return E(re,n,H,ce)}function R(re){return i[re.getDay()]}function F(re){return s[re.getDay()]}function D(re){return c[re.getMonth()]}function V(re){return l[re.getMonth()]}function J(re){return a[+(re.getHours()>=12)]}function T(re){return 1+~~(re.getMonth()/3)}function G(re){return i[re.getUTCDay()]}function M(re){return s[re.getUTCDay()]}function B(re){return c[re.getUTCMonth()]}function ee(re){return l[re.getUTCMonth()]}function ae(re){return a[+(re.getUTCHours()>=12)]}function de(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var H=k(re+="",y);return H.toString=function(){return re},H},parse:function(re){var H=j(re+="",!1);return H.toString=function(){return re},H},utcFormat:function(re){var H=k(re+="",_);return H.toString=function(){return re},H},utcParse:function(re){var H=j(re+="",!0);return H.toString=function(){return re},H}}}var nM={"-":"",_:" ",0:"0"},vn=/^\s*\d+/,uIe=/^%/,dIe=/[\\^$*+?|[\]().{}]/g;function Kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function fIe(e){return e.replace(dIe,"\\$&")}function Km(e){return new RegExp("^(?:"+e.map(fIe).join("|")+")","i")}function qm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function hIe(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function mIe(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function pIe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function gIe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function vIe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aM(e,t,r){var n=vn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function xIe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function yIe(e,t,r){var n=vn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wIe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function bIe(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oM(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function _Ie(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function SIe(e,t,r){var n=vn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function jIe(e,t,r){var n=vn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function kIe(e,t,r){var n=vn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function NIe(e,t,r){var n=uIe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function EIe(e,t,r){var n=vn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function CIe(e,t,r){var n=vn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lM(e,t){return Kt(e.getDate(),t,2)}function TIe(e,t){return Kt(e.getHours(),t,2)}function AIe(e,t){return Kt(e.getHours()%12||12,t,2)}function OIe(e,t){return Kt(1+rv.count(ul(e),e),t,3)}function JV(e,t){return Kt(e.getMilliseconds(),t,3)}function PIe(e,t){return JV(e,t)+"000"}function DIe(e,t){return Kt(e.getMonth()+1,t,2)}function RIe(e,t){return Kt(e.getMinutes(),t,2)}function IIe(e,t){return Kt(e.getSeconds(),t,2)}function MIe(e){var t=e.getDay();return t===0?7:t}function FIe(e,t){return Kt(xb.count(ul(e)-1,e),t,2)}function ZV(e){var t=e.getDay();return t>=4||t===0?Eh(e):Eh.ceil(e)}function LIe(e,t){return e=ZV(e),Kt(Eh.count(ul(e),e)+(ul(e).getDay()===4),t,2)}function $Ie(e){return e.getDay()}function BIe(e,t){return Kt(d1.count(ul(e)-1,e),t,2)}function UIe(e,t){return Kt(e.getFullYear()%100,t,2)}function WIe(e,t){return e=ZV(e),Kt(e.getFullYear()%100,t,2)}function zIe(e,t){return Kt(e.getFullYear()%1e4,t,4)}function VIe(e,t){var r=e.getDay();return e=r>=4||r===0?Eh(e):Eh.ceil(e),Kt(e.getFullYear()%1e4,t,4)}function HIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Kt(t/60|0,"0",2)+Kt(t%60,"0",2)}function cM(e,t){return Kt(e.getUTCDate(),t,2)}function GIe(e,t){return Kt(e.getUTCHours(),t,2)}function KIe(e,t){return Kt(e.getUTCHours()%12||12,t,2)}function qIe(e,t){return Kt(1+vb.count(dl(e),e),t,3)}function eH(e,t){return Kt(e.getUTCMilliseconds(),t,3)}function YIe(e,t){return eH(e,t)+"000"}function XIe(e,t){return Kt(e.getUTCMonth()+1,t,2)}function QIe(e,t){return Kt(e.getUTCMinutes(),t,2)}function JIe(e,t){return Kt(e.getUTCSeconds(),t,2)}function ZIe(e){var t=e.getUTCDay();return t===0?7:t}function eMe(e,t){return Kt(yb.count(dl(e)-1,e),t,2)}function tH(e){var t=e.getUTCDay();return t>=4||t===0?Ch(e):Ch.ceil(e)}function tMe(e,t){return e=tH(e),Kt(Ch.count(dl(e),e)+(dl(e).getUTCDay()===4),t,2)}function rMe(e){return e.getUTCDay()}function nMe(e,t){return Kt(f1.count(dl(e)-1,e),t,2)}function aMe(e,t){return Kt(e.getUTCFullYear()%100,t,2)}function sMe(e,t){return e=tH(e),Kt(e.getUTCFullYear()%100,t,2)}function iMe(e,t){return Kt(e.getUTCFullYear()%1e4,t,4)}function oMe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ch(e):Ch.ceil(e),Kt(e.getUTCFullYear()%1e4,t,4)}function lMe(){return"+0000"}function uM(){return"%"}function dM(e){return+e}function fM(e){return Math.floor(+e/1e3)}var Bd,rH,nH;cMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cMe(e){return Bd=cIe(e),rH=Bd.format,Bd.parse,nH=Bd.utcFormat,Bd.utcParse,Bd}function uMe(e){return new Date(e)}function dMe(e){return e instanceof Date?+e:+new Date(+e)}function dA(e,t,r,n,a,s,i,l,c,u){var d=QT(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),b=u("%b %d"),y=u("%B"),_=u("%Y");function S(k){return(c(k)<k?m:l(k)<k?g:i(k)<k?p:s(k)<k?v:n(k)<k?a(k)<k?x:b:r(k)<k?y:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,dMe)):h().map(uMe)},d.ticks=function(k){var j=h();return e(j[0],j[j.length-1],k??10)},d.tickFormat=function(k,j){return j==null?S:u(j)},d.nice=function(k){var j=h();return(!k||typeof k.range!="function")&&(k=t(j[0],j[j.length-1],k??10)),k?h(zV(j,k)):d},d.copy=function(){return tv(d,dA(e,t,r,n,a,s,i,l,c,u))},d}function fMe(){return zs.apply(dA(oIe,lIe,ul,cA,xb,rv,oA,sA,gu,rH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hMe(){return zs.apply(dA(sIe,iIe,dl,uA,yb,vb,lA,iA,gu,nH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wb(){var e=0,t=1,r,n,a,s,i=ca,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,i=f(m,g),u):[i(0),i(1)]}}return u.range=d(wm),u.rangeRound=d(XT),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Lc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aH(){var e=Fc(wb()(ca));return e.copy=function(){return Lc(e,aH())},wl.apply(e,arguments)}function sH(){var e=eA(wb()).domain([1,10]);return e.copy=function(){return Lc(e,sH()).base(e.base())},wl.apply(e,arguments)}function iH(){var e=tA(wb());return e.copy=function(){return Lc(e,iH()).constant(e.constant())},wl.apply(e,arguments)}function fA(){var e=rA(wb());return e.copy=function(){return Lc(e,fA()).exponent(e.exponent())},wl.apply(e,arguments)}function mMe(){return fA.apply(null,arguments).exponent(.5)}function oH(){var e=[],t=ca;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(gc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>eRe(e,s/n))},r.copy=function(){return oH(t).domain(e)},wl.apply(r,arguments)}function bb(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=ca,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var x,b,y;return arguments.length?([x,b,y]=v,u=NRe(p,[x,b,y]),m):[u(0),u(.5),u(1)]}}return m.range=g(wm),m.rangeRound=g(XT),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function lH(){var e=Fc(bb()(ca));return e.copy=function(){return Lc(e,lH())},wl.apply(e,arguments)}function cH(){var e=eA(bb()).domain([.1,1,10]);return e.copy=function(){return Lc(e,cH()).base(e.base())},wl.apply(e,arguments)}function uH(){var e=tA(bb());return e.copy=function(){return Lc(e,uH()).constant(e.constant())},wl.apply(e,arguments)}function hA(){var e=rA(bb());return e.copy=function(){return Lc(e,hA()).exponent(e.exponent())},wl.apply(e,arguments)}function pMe(){return hA.apply(null,arguments).exponent(.5)}const hM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$0,scaleDiverging:lH,scaleDivergingLog:cH,scaleDivergingPow:hA,scaleDivergingSqrt:pMe,scaleDivergingSymlog:uH,scaleIdentity:WV,scaleImplicit:bk,scaleLinear:c1,scaleLog:VV,scaleOrdinal:KT,scalePoint:Bp,scalePow:nA,scaleQuantile:KV,scaleQuantize:qV,scaleRadial:GV,scaleSequential:aH,scaleSequentialLog:sH,scaleSequentialPow:fA,scaleSequentialQuantile:oH,scaleSequentialSqrt:mMe,scaleSequentialSymlog:iH,scaleSqrt:YRe,scaleSymlog:HV,scaleThreshold:YV,scaleTime:fMe,scaleUtc:hMe,tickFormat:UV},Symbol.toStringTag,{value:"Module"}));var gMe=dm;function vMe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!gMe(i):r(i,l)))var l=i,c=s}return c}var _b=vMe;function xMe(e,t){return e>t}var dH=xMe,yMe=_b,wMe=dH,bMe=ym;function _Me(e){return e&&e.length?yMe(e,bMe,wMe):void 0}var SMe=_Me;const Sb=Qt(SMe);function jMe(e,t){return e<t}var fH=jMe,kMe=_b,NMe=fH,EMe=ym;function CMe(e){return e&&e.length?kMe(e,EMe,NMe):void 0}var TMe=CMe;const jb=Qt(TMe);var AMe=ET,OMe=go,PMe=yV,DMe=Ma;function RMe(e,t){var r=DMe(e)?AMe:PMe;return r(e,OMe(t))}var IMe=RMe,MMe=vV,FMe=IMe;function LMe(e,t){return MMe(FMe(e,t),1)}var $Me=LMe;const BMe=Qt($Me);var UMe=WT;function WMe(e,t){return UMe(e,t)}var zMe=WMe;const nv=Qt(zMe);var bm=1e9,VMe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pA,Sr=!0,Ls="[DecimalError] ",Du=Ls+"Invalid argument: ",mA=Ls+"Exponent out of range: ",_m=Math.floor,Zc=Math.pow,HMe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,dn=1e7,gr=7,hH=9007199254740991,h1=_m(hH/gr),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*gr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ze.dividedBy=Ze.div=function(e){return Yo(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,r=t.constructor;return sr(Yo(t,new r(e),0,1),r.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return Yr(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(qa))throw Error(Ls+"NaN");if(r.s<1)throw Error(Ls+(r.s?"NaN":"-Infinity"));return r.eq(qa)?new n(0):(Sr=!1,t=Yo(V0(r,s),V0(e,s),s),Sr=!0,sr(t,a))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gH(t,e):mH(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ls+"NaN");return r.s?(Sr=!1,t=Yo(r,e,0,1).times(e),Sr=!0,r.minus(t)):sr(new n(r),a)};Ze.naturalExponential=Ze.exp=function(){return pH(this)};Ze.naturalLogarithm=Ze.ln=function(){return V0(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mH(t,e):gH(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Du+e);if(t=Yr(a)+1,n=a.d.length-1,r=n*gr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ze.squareRoot=Ze.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ls+"NaN")}for(e=Yr(l),Sr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Xi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_m((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Yo(l,s,i+2)).times(.5),Xi(s.d).slice(0,i)===(t=Xi(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(sr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Sr=!0,sr(n,r)};Ze.times=Ze.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%dn|0,t=l/dn|0;s[a]=(s[a]+t)%dn|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Sr?sr(e,f.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oo(e,0,bm),t===void 0?t=n.rounding:oo(t,0,8),sr(r,e+Yr(r)+1,t))};Ze.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ad(n,!0):(oo(e,0,bm),t===void 0?t=a.rounding:oo(t,0,8),n=sr(new a(n),e+1,t),r=ad(n,!0,e+1)),r};Ze.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ad(a):(oo(e,0,bm),t===void 0?t=s.rounding:oo(t,0,8),n=sr(new s(a),e+Yr(a)+1,t),r=ad(n.abs(),!1,e+Yr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return sr(new t(e),Yr(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(qa);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ls+"Infinity");return l}if(l.eq(qa))return l;if(n=c.precision,e.eq(qa))return sr(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=hH){for(a=new c(qa),t=Math.ceil(n/gr+4),Sr=!1;r%2&&(a=a.times(l),pM(a.d,t)),r=_m(r/2),r!==0;)l=l.times(l),pM(l.d,t);return Sr=!0,e.s<0?new c(qa).div(a):sr(a,n)}}else if(s<0)throw Error(Ls+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Sr=!1,a=e.times(V0(l,n+u)),Sr=!0,a=pH(a),a.s=s,a};Ze.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Yr(a),n=ad(a,r<=s.toExpNeg||r>=s.toExpPos)):(oo(e,1,bm),t===void 0?t=s.rounding:oo(t,0,8),a=sr(new s(a),e,t),r=Yr(a),n=ad(a,e<=r||r<=s.toExpNeg,e)),n};Ze.toSignificantDigits=Ze.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oo(e,1,bm),t===void 0?t=n.rounding:oo(t,0,8)),sr(new n(r),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yr(e),r=e.constructor;return ad(e,t<=r.toExpNeg||t>=r.toExpPos)};function mH(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Sr?sr(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/gr),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/dn|0,c[s]%=dn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Sr?sr(t,f):t}function oo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Du+e)}function Xi(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=gr-n.length,r&&(s+=Il(r)),s+=n;i=e[t],n=i+"",r=gr-n.length,r&&(s+=Il(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Yo=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%dn|0,i=s/dn|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*dn+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,g,p,v,x,b,y,_,S,k,j,E,N=n.constructor,A=n.s==a.s?1:-1,O=n.d,P=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(Ls+"Division by zero");for(c=n.e-a.e,j=P.length,S=O.length,m=new N(A),g=m.d=[],u=0;P[u]==(O[u]||0);)++u;if(P[u]>(O[u]||0)&&--c,s==null?b=s=N.precision:i?b=s+(Yr(n)-Yr(a))+1:b=s,b<0)return new N(0);if(b=b/gr+2|0,u=0,j==1)for(d=0,P=P[0],b++;(u<S||d)&&b--;u++)y=d*dn+(O[u]||0),g[u]=y/P|0,d=y%P|0;else{for(d=dn/(P[0]+1)|0,d>1&&(P=e(P,d),O=e(O,d),j=P.length,S=O.length),_=j,p=O.slice(0,j),v=p.length;v<j;)p[v++]=0;E=P.slice(),E.unshift(0),k=P[0],P[1]>=dn/2&&++k;do d=0,l=t(P,p,j,v),l<0?(x=p[0],j!=v&&(x=x*dn+(p[1]||0)),d=x/k|0,d>1?(d>=dn&&(d=dn-1),f=e(P,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,j<h?E:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(P,p,j,v),l<1&&(d++,r(p,j<v?E:P,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=O[_]||0:(p=[O[_]],v=1);while((_++<S||p[0]!==void 0)&&b--)}return g[0]||g.shift(),m.e=c,sr(m,i?s+Yr(m)+1:s)}}();function pH(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(Yr(e)>16)throw Error(mA+Yr(e));if(!e.s)return new d(qa);for(t==null?(Sr=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Zc(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(qa),d.precision=l;;){if(a=sr(a.times(e),l),r=r.times(++c),i=s.plus(Yo(a,r,l)),Xi(i.d).slice(0,l)===Xi(s.d).slice(0,l)){for(;u--;)s=sr(s.times(s),l);return d.precision=f,t==null?(Sr=!0,sr(s,f)):s}s=i}}function Yr(e){for(var t=e.e*gr,r=e.d[0];r>=10;r/=10)t++;return t}function CS(e,t,r){if(t>e.LN10.sd())throw Sr=!0,r&&(e.precision=r),Error(Ls+"LN10 precision limit exceeded");return sr(new e(e.LN10),t)}function Il(e){for(var t="";e--;)t+="0";return t}function V0(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(Ls+(m.s?"NaN":"-Infinity"));if(m.eq(qa))return new p(0);if(t==null?(Sr=!1,u=v):u=t,m.eq(10))return t==null&&(Sr=!0),CS(p,u);if(u+=h,p.precision=u,r=Xi(g),n=r.charAt(0),s=Yr(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Xi(m.d),n=r.charAt(0),f++;s=Yr(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=CS(p,u+2,v).times(s+""),m=V0(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(Sr=!0,sr(m,v)):m;for(l=i=m=Yo(m.minus(qa),m.plus(qa),u),d=sr(m.times(m),u),a=3;;){if(i=sr(i.times(d),u),c=l.plus(Yo(i,new p(a),u)),Xi(c.d).slice(0,u)===Xi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(CS(p,u+2,v).times(s+""))),l=Yo(l,new p(f),u),p.precision=v,t==null?(Sr=!0,sr(l,v)):l;l=c,a+=2}}function mM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=_m(r/gr),e.d=[],n=(r+1)%gr,r<0&&(n+=gr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=gr;n<a;)e.d.push(+t.slice(n,n+=gr));t=t.slice(n),n=gr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Sr&&(e.e>h1||e.e<-h1))throw Error(mA+r)}else e.s=0,e.e=0,e.d=[0];return e}function sr(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=gr,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/gr),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=gr,a=n-gr+i}if(r!==void 0&&(s=Zc(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Zc(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Yr(e),f.length=1,t=t-s-1,f[0]=Zc(10,(gr-t%gr)%gr),e.e=_m(-t/gr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Zc(10,gr-n),f[d]=a>0?(u/Zc(10,i-a)%Zc(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==dn&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=dn)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Sr&&(e.e>h1||e.e<-h1))throw Error(mA+Yr(e));return e}function gH(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Sr?sr(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/gr),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=dn-1;--c[s],c[a]+=dn}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Sr?sr(t,m):t):new h(0)}function ad(e,t,r){var n,a=Yr(e),s=Xi(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Il(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Il(-a-1)+s,r&&(n=r-i)>0&&(s+=Il(n))):a>=i?(s+=Il(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Il(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Il(n))),e.s<0?"-"+s:s}function pM(e,t){if(e.length>t)return e.length=t,!0}function vH(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Du+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return mM(i,s.toString())}else if(typeof s!="string")throw Error(Du+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,HMe.test(s))mM(i,s);else throw Error(Du+s)}if(a.prototype=Ze,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vH,a.config=a.set=GMe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GMe(e){if(!e||typeof e!="object")throw Error(Ls+"Object expected");var t,r,n,a=["precision",1,bm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(_m(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Du+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Du+r+": "+n);return this}var pA=vH(VMe);qa=new pA(1);const rr=pA;function KMe(e){return QMe(e)||XMe(e)||YMe(e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(e,t){if(e){if(typeof e=="string")return kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(e,t)}}function XMe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QMe(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JMe=function(t){return t},xH={"@@functional/placeholder":!0},yH=function(t){return t===xH},gM=function(t){return function r(){return arguments.length===0||arguments.length===1&&yH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},ZMe=function e(t,r){return t===1?r:gM(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==xH}).length;return i>=t?r.apply(void 0,a):e(t-i,gM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return yH(f)?c.shift():f});return r.apply(void 0,KMe(d).concat(c))}))})},kb=function(t){return ZMe(t.length,t)},Nk=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},e3e=kb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),t3e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return JMe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Ek=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},wH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function r3e(e){var t;return e===0?t=1:t=Math.floor(new rr(e).abs().log(10).toNumber())+1,t}function n3e(e,t,r){for(var n=new rr(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var a3e=kb(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),s3e=kb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),i3e=kb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Nb={rangeStep:n3e,getDigitCount:r3e,interpolateNumber:a3e,uninterpolateNumber:s3e,uninterpolateTruncation:i3e};function Ck(e){return c3e(e)||l3e(e)||bH(e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function c3e(e){if(Array.isArray(e))return Tk(e)}function H0(e,t){return f3e(e)||d3e(e,t)||bH(e,t)||u3e()}function u3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d3e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function f3e(e){if(Array.isArray(e))return e}function _H(e){var t=H0(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function SH(e,t,r){if(e.lte(0))return new rr(0);var n=Nb.getDigitCount(e.toNumber()),a=new rr(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new rr(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new rr(Math.ceil(c))}function h3e(e,t,r){var n=1,a=new rr(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new rr(10).pow(Nb.getDigitCount(e)-1),a=new rr(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new rr(Math.floor(e)))}else e===0?a=new rr(Math.floor((t-1)/2)):r||(a=new rr(Math.floor(e)));var i=Math.floor((t-1)/2),l=t3e(e3e(function(c){return a.add(new rr(c-i).mul(n)).toNumber()}),Nk);return l(0,t)}function jH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new rr(0),tickMin:new rr(0),tickMax:new rr(0)};var s=SH(new rr(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new rr(0):(i=new rr(e).add(t).div(2),i=i.sub(new rr(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new rr(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?jH(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new rr(l).mul(s)),tickMax:i.add(new rr(c).mul(s))})}function m3e(e){var t=H0(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=_H([r,n]),c=H0(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ck(Nk(0,a-1).map(function(){return 1/0}))):[].concat(Ck(Nk(0,a-1).map(function(){return-1/0})),[d]);return r>n?Ek(f):f}if(u===d)return h3e(u,a,s);var h=jH(u,d,i,s),m=h.step,g=h.tickMin,p=h.tickMax,v=Nb.rangeStep(g,p.add(new rr(.1).mul(m)),m);return r>n?Ek(v):v}function p3e(e,t){var r=H0(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=_H([n,a]),l=H0(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=SH(new rr(u).sub(c).div(d-1),s,0),h=[].concat(Ck(Nb.rangeStep(new rr(c),new rr(u).sub(new rr(.99).mul(f)),f)),[u]);return n>a?Ek(h):h}var g3e=wH(m3e),v3e=wH(p3e),x3e="Invariant failed";function sd(e,t){throw new Error(x3e)}var y3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}function w3e(e,t){return j3e(e)||S3e(e,t)||_3e(e,t)||b3e()}function b3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(e,t){if(e){if(typeof e=="string")return vM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vM(e,t)}}function vM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function j3e(e){if(Array.isArray(e))return e}function k3e(e,t){if(e==null)return{};var r=N3e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EH(n.key),n)}}function T3e(e,t,r){return t&&C3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A3e(e,t,r){return t=p1(t),O3e(e,kH()?Reflect.construct(t,r||[],p1(e).constructor):t.apply(e,r))}function O3e(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P3e(e)}function P3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function p1(e){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(e)}function D3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(e,t)}function NH(e,t,r){return t=EH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=R3e(e,"string");return Th(t)=="symbol"?t:t+""}function R3e(e,t){if(Th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var av=function(e){function t(){return E3e(this,t),A3e(this,t,arguments)}return D3e(t,e),T3e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=k3e(n,y3e),m=ct(h,!1);this.props.direction==="x"&&d.type!=="number"&&sd();var g=c.map(function(p){var v=u(p,l),x=v.x,b=v.y,y=v.value,_=v.errorVal;if(!_)return null;var S=[],k,j;if(Array.isArray(_)){var E=w3e(_,2);k=E[0],j=E[1]}else k=j=_;if(s==="vertical"){var N=d.scale,A=b+a,O=A+i,P=A-i,U=N(y-k),z=N(y+j);S.push({x1:z,y1:O,x2:z,y2:P}),S.push({x1:U,y1:A,x2:z,y2:A}),S.push({x1:U,y1:O,x2:U,y2:P})}else if(s==="horizontal"){var W=f.scale,I=x+a,R=I-i,F=I+i,D=W(y-k),V=W(y+j);S.push({x1:R,y1:V,x2:F,y2:V}),S.push({x1:I,y1:D,x2:I,y2:V}),S.push({x1:R,y1:D,x2:F,y2:D})}return te.createElement(Gt,m1({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),S.map(function(J){return te.createElement("line",m1({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return te.createElement(Gt,{className:"recharts-errorBars"},g)}}])}(te.Component);NH(av,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NH(av,"displayName","ErrorBar");function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){I3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I3e(e,t,r){return t=M3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M3e(e){var t=F3e(e,"string");return G0(t)=="symbol"?t:t+""}function F3e(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CH=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Ua(r,Ou);if(!i)return null;var l=Ou.defaultProps,c=l!==void 0?Vc(Vc({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Vc(Vc({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,x=m.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:gA(f),value:p||g,payload:m}}),Vc(Vc(Vc({},c),Ou.getWithHeight(i,a)),{},{payload:u,item:i})};function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function yM(e){return U3e(e)||B3e(e)||$3e(e)||L3e()}function L3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function B3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U3e(e){if(Array.isArray(e))return Ok(e)}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){Mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mf(e,t,r){return t=W3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3e(e){var t=z3e(e,"string");return K0(t)=="symbol"?t:t+""}function z3e(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(K0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t,r){return Et(e)||Et(t)?r:sn(t)?Za(e,t,r):_t(t)?t(e):r}function Up(e,t,r,n){var a=BMe(e,function(l){return rn(l,t)});if(r==="number"){var s=a.filter(function(l){return We(l)||parseFloat(l)});return s.length?[jb(s),Sb(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Et(l)}):a;return i.map(function(l){return sn(l)||l instanceof Date?l:""})}var V3e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(oa(f-d)!==oa(h-f)){var g=[];if(oa(h-f)===oa(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){i=a[u].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(t>(b+f)/2&&t<=(y+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},gA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Dr(Dr({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},H3e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,x=p.filter(function(j){return qo(j.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,y=b!==void 0?Dr(Dr({},b),x[0].props):x[0].props,_=y.barSize,S=y[v];i[S]||(i[S]=[]);var k=Et(_)?r:_;i[S].push({item:x[0],stackList:x.slice(1),barSize:Et(k)?void 0:la(k,n,0)})}}return i},G3e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=la(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,g=i.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=i.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},j=[].concat(yM(_),[k]);return v=j[j.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:v})}),j},f)}else{var x=la(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var b=(a-2*x-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;d=i.reduce(function(_,S,k){var j=[].concat(yM(_),[{item:S.item,position:{offset:x+(b+u)*k+(b-y)/2,size:y}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){j.push({item:E,position:j[j.length-1].position})}),j},f)}return d},K3e=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=CH({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&We(t[m]))return Dr(Dr({},t),{},Mf({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&We(t[g]))return Dr(Dr({},t),{},Mf({},g,t[g]+(h||0)))}return t},q3e=function(t,r,n){return Et(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TH=function(t,r,n,a,s){var i=r.props.children,l=es(i,av).filter(function(u){return q3e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=rn(d,n);if(Et(f))return u;var h=Array.isArray(f)?[jb(f),Sb(f)]:[f,f],m=c.reduce(function(g,p){var v=rn(d,p,0),x=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Y3e=function(t,r,n,a,s){var i=r.map(function(l){return TH(t,l,n,s,a)}).filter(function(l){return!Et(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},AH=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&TH(t,c,u,a)||Up(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},OH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},PH=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},zo=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?oa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!Qg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},TS=new WeakMap,lx=function(t,r){if(typeof r!="function")return t;TS.has(t)||TS.set(t,new WeakMap);var n=TS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},DH=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:$0(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:c1(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Bp(),realScaleType:"point"}:s==="category"?{scale:$0(),realScaleType:"band"}:{scale:c1(),realScaleType:"linear"};if(td(a)){var c="scale".concat(cb(a));return{scale:(hM[c]||Bp)(),realScaleType:hM[c]?c:"point"}}return _t(a)?{scale:a}:{scale:Bp(),realScaleType:"point"}},bM=1e-4,RH=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-bM,i=Math.max(a[0],a[1])+bM,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},X3e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Q3e=function(t,r){if(!r||r.length!==2||!We(r[0])||!We(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!We(t[0])||t[0]<n)&&(s[0]=n),(!We(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},J3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Qg(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},Z3e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Qg(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},eFe={sign:J3e,expand:yke,none:bh,silhouette:wke,wiggle:bke,positive:Z3e},tFe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=eFe[n],i=xke().keys(a).value(function(l,c){return+rn(l,c,0)}).order(rk).offset(s);return i(t)},rFe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Dr(Dr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var x=g[n],b=f[x]||{hasStack:!1,stackGroups:{}};if(sn(p)){var y=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[p]=y}else b.stackGroups[gm("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Dr(Dr({},f),{},Mf({},x,b))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var x=m.stackGroups[v];return Dr(Dr({},p),{},Mf({},v,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:tFe(t,x.items,s)}))},g)}return Dr(Dr({},f),{},Mf({},h,m))},d)},IH=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=g3e(u,s,l);return t.domain([jb(d),Sb(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=v3e(f,s,l);return{niceTicks:h}}return null};function _M(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Et(a[t.dataKey])){var l=Wy(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=rn(a,Et(i)?t.dataKey:i);return Et(c)?null:t.scale(c)}var SM=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=rn(i,r.dataKey,r.domain[l]);return Et(c)?null:r.scale(c)-s/2+a},nFe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},aFe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Dr(Dr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(sn(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},sFe=function(t){return t.reduce(function(r,n){return[jb(n.concat([r[0]]).filter(We)),Sb(n.concat([r[1]]).filter(We))]},[1/0,-1/0])},MH=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=sFe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pk=function(t,r,n){if(_t(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(We(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jM.test(t[0])){var s=+jM.exec(t[0])[1];a[0]=r[0]-s}else _t(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(We(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(kM.test(t[1])){var i=+kM.exec(t[1])[1];a[1]=r[1]+i}else _t(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},g1=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=VT(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},NM=function(t,r,n){return!t||!t.length||nv(t,Za(n,"type.defaultProps.domain"))?r:t},FH=function(t,r){var n=t.type.defaultProps?Dr(Dr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Dr(Dr({},ct(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:gA(t),value:rn(r,a),type:c,payload:r,chartType:u,hide:d})};function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){LH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LH(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=oFe(e,"string");return q0(t)=="symbol"?t:t+""}function oFe(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lFe(e,t){return fFe(e)||dFe(e,t)||uFe(e,t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(e,t){if(e){if(typeof e=="string")return CM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(e,t)}}function CM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function fFe(e){if(Array.isArray(e))return e}var v1=Math.PI/180,hFe=function(t){return t*180/Math.PI},dr=function(t,r,n,a){return{x:t+Math.cos(-v1*a)*n,y:r+Math.sin(-v1*a)*n}},$H=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},mFe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=la(t.cx,i,i/2),f=la(t.cy,l,l/2),h=$H(i,l,n),m=la(t.innerRadius,h,0),g=la(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,x){var b=r[x],y=b.domain,_=b.reversed,S;if(Et(b.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),_&&(S=[S[1],S[0]]);else{S=b.range;var k=S,j=lFe(k,2);c=j[0],u=j[1]}var E=DH(b,s),N=E.realScaleType,A=E.scale;A.domain(y).range(S),RH(A);var O=IH(A,Do(Do({},b),{},{realScaleType:N})),P=Do(Do(Do({},b),O),{},{range:S,radius:g,realScaleType:N,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Do(Do({},v),{},LH({},x,P))},{})},pFe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},gFe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=pFe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:hFe(u),angleInRadian:u}},vFe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},xFe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},TM=function(t,r){var n=t.x,a=t.y,s=gFe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=vFe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Do(Do({},r),{},{radius:i,angle:xFe(m,r)}):null},BH=function(t){return!w.isValidElement(t)&&!_t(t)&&typeof t!="boolean"?t.className:""};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var yFe=["offset"];function wFe(e){return jFe(e)||SFe(e)||_Fe(e)||bFe()}function bFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Fe(e,t){if(e){if(typeof e=="string")return Dk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(e,t)}}function SFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jFe(e){if(Array.isArray(e))return Dk(e)}function Dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kFe(e,t){if(e==null)return{};var r=NFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){EFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EFe(e,t,r){return t=CFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CFe(e){var t=TFe(e,"string");return Y0(t)=="symbol"?t:t+""}function TFe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}var AFe=function(t){var r=t.value,n=t.formatter,a=Et(t.children)?r:t.children;return _t(n)?n(a):a},OFe=function(t,r){var n=oa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},PFe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,x=OFe(m,g),b=x>=0?1:-1,y,_;a==="insideStart"?(y=m+b*i,_=p):a==="insideEnd"?(y=g-b*i,_=!p):a==="end"&&(y=g+b*i,_=p),_=x<=0?_:!_;var S=dr(u,d,v,y),k=dr(u,d,v,y+(_?1:-1)*359),j="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=Et(t.id)?gm("recharts-radial-line-"):t.id;return te.createElement("text",X0({},n,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),te.createElement("defs",null,te.createElement("path",{id:E,d:j})),te.createElement("textPath",{xlinkHref:"#".concat(E)},r))},DFe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=dr(i,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=dr(i,l,v,h),b=x.x,y=x.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},RFe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,x=p>0?"end":"start",b=p>0?"start":"end";if(s==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Jr(Jr({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Jr(Jr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Jr(Jr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Jr(Jr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var j=n?{width:u,height:d}:{};return s==="insideLeft"?Jr({x:l+v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},j):s==="insideRight"?Jr({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?Jr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},j):s==="insideBottom"?Jr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},j):s==="insideTopLeft"?Jr({x:l+v,y:c+h,textAnchor:b,verticalAnchor:g},j):s==="insideTopRight"?Jr({x:l+u-v,y:c+h,textAnchor:x,verticalAnchor:g},j):s==="insideBottomLeft"?Jr({x:l+v,y:c+d-h,textAnchor:b,verticalAnchor:m},j):s==="insideBottomRight"?Jr({x:l+u-v,y:c+d-h,textAnchor:x,verticalAnchor:m},j):fm(s)&&(We(s.x)||mu(s.x))&&(We(s.y)||mu(s.y))?Jr({x:l+la(s.x,u),y:c+la(s.y,d),textAnchor:"end",verticalAnchor:"end"},j):Jr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},IFe=function(t){return"cx"in t&&We(t.cx)};function hn(e){var t=e.offset,r=t===void 0?5:t,n=kFe(e,yFe),a=Jr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||Et(l)&&Et(c)&&!w.isValidElement(u)&&!_t(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var m;if(_t(u)){if(m=w.createElement(u,a),w.isValidElement(m))return m}else m=AFe(a);var g=IFe(s),p=ct(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return PFe(a,m,p);var v=g?DFe(a):RFe(a);return te.createElement(nd,X0({className:Ct("recharts-label",f)},p,v,{breakAll:h}),m)}hn.displayName="Label";var UH=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,x=t.clockWise,b=t.labelViewBox;if(b)return b;if(We(p)&&We(v)){if(We(f)&&We(h))return{x:f,y:h,width:p,height:v};if(We(m)&&We(g))return{x:m,y:g,width:p,height:v}}return We(f)&&We(h)?{x:f,y:h,width:0,height:0}:We(r)&&We(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},MFe=function(t,r){return t?t===!0?te.createElement(hn,{key:"label-implicit",viewBox:r}):sn(t)?te.createElement(hn,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===hn?w.cloneElement(t,{key:"label-implicit",viewBox:r}):te.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):_t(t)?te.createElement(hn,{key:"label-implicit",content:t,viewBox:r}):fm(t)?te.createElement(hn,X0({viewBox:r},t,{key:"label-implicit"})):null:null},FFe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=UH(t),i=es(a,hn).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=MFe(t.label,r||s);return[l].concat(wFe(i))};hn.parseViewBox=UH;hn.renderCallByParent=FFe;function LFe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $Fe=LFe;const BFe=Qt($Fe);function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}var UFe=["valueAccessor"],WFe=["data","dataKey","clockWise","id","textBreakAll"];function zFe(e){return KFe(e)||GFe(e)||HFe(e)||VFe()}function VFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HFe(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function GFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KFe(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){qFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qFe(e,t,r){return t=YFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YFe(e){var t=XFe(e,"string");return Q0(t)=="symbol"?t:t+""}function XFe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DM(e,t){if(e==null)return{};var r=QFe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JFe=function(t){return Array.isArray(t.value)?BFe(t.value):t.value};function Xo(e){var t=e.valueAccessor,r=t===void 0?JFe:t,n=DM(e,UFe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=DM(n,WFe);return!a||!a.length?null:te.createElement(Gt,{className:"recharts-label-list"},a.map(function(d,f){var h=Et(s)?r(d,f):rn(d&&d.payload,s),m=Et(l)?{}:{id:"".concat(l,"-").concat(f)};return te.createElement(hn,x1({},ct(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:hn.parseViewBox(Et(i)?d:PM(PM({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Xo.displayName="LabelList";function ZFe(e,t){return e?e===!0?te.createElement(Xo,{key:"labelList-implicit",data:t}):te.isValidElement(e)||_t(e)?te.createElement(Xo,{key:"labelList-implicit",data:t,content:e}):fm(e)?te.createElement(Xo,x1({data:t},e,{key:"labelList-implicit"})):null:null}function eLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=es(n,Xo).map(function(i,l){return w.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=ZFe(e.label,t);return[s].concat(zFe(a))}Xo.renderCallByParent=eLe;function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function Ik(){return Ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ik.apply(this,arguments)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){tLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tLe(e,t,r){return t=rLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rLe(e){var t=nLe(e,"string");return J0(t)=="symbol"?t:t+""}function nLe(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aLe=function(t,r){var n=oa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},cx=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/v1,h=u?s:s+i*f,m=dr(r,n,d,h),g=dr(r,n,a,h),p=u?s-i*f:s,v=dr(r,n,d*Math.cos(f*v1),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},WH=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=aLe(i,l),u=i+c,d=dr(r,n,s,i),f=dr(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=dr(r,n,a,i),g=dr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},sLe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=oa(d-u),h=cx({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=cx({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=v.circleTangency,b=v.lineTangency,y=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-y;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):WH({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var k=cx({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),j=k.circleTangency,E=k.lineTangency,N=k.theta,A=cx({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),O=A.circleTangency,P=A.lineTangency,U=A.theta,z=c?Math.abs(u-d):Math.abs(u-d)-N-U;if(z<0&&i===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},iLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zH=function(t){var r=IM(IM({},iLe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var m=Ct("recharts-sector",h),g=i-s,p=la(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=sLe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=WH({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),te.createElement("path",Ik({},ct(r,!0),{className:m,d:v,role:"img"}))};function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mk.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){oLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oLe(e,t,r){return t=lLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lLe(e){var t=cLe(e,"string");return Z0(t)=="symbol"?t:t+""}function cLe(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM={curveBasisClosed:oke,curveBasisOpen:lke,curveBasis:ike,curveBumpX:G2e,curveBumpY:K2e,curveLinearClosed:cke,curveLinear:db,curveMonotoneX:uke,curveMonotoneY:dke,curveNatural:fke,curveStep:hke,curveStepAfter:pke,curveStepBefore:mke},ux=function(t){return t.x===+t.x&&t.y===+t.y},Ym=function(t){return t.x},Xm=function(t){return t.y},uLe=function(t,r){if(_t(t))return t;var n="curve".concat(cb(t));return(n==="curveMonotone"||n==="curveBump")&&r?LM["".concat(n).concat(r==="vertical"?"Y":"X")]:LM[n]||db},dLe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=uLe(n,l),f=u?s.filter(function(p){return ux(p)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return ux(p)}):i,g=f.map(function(p,v){return FM(FM({},p),{},{base:m[v]})});return l==="vertical"?h=ex().y(Xm).x1(Ym).x0(function(p){return p.base.x}):h=ex().x(Ym).y1(Xm).y0(function(p){return p.base.y}),h.defined(ux).curve(d),h(g)}return l==="vertical"&&We(i)?h=ex().y(Xm).x1(Ym).x0(i):We(i)?h=ex().x(Ym).y1(Xm).y0(i):h=Mz().x(Ym).y(Xm),h.defined(ux).curve(d),h(f)},y1=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?dLe(t):a;return w.createElement("path",Mk({},ct(t,!1),zy(t),{className:Ct("recharts-curve",r),d:i,ref:s}))},VH={exports:{}},fLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hLe=fLe,mLe=hLe;function HH(){}function GH(){}GH.resetWarningCache=HH;var pLe=function(){function e(n,a,s,i,l,c){if(c!==mLe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GH,resetWarningCache:HH};return r.PropTypes=r,r};VH.exports=pLe();var gLe=VH.exports;const qt=Qt(gLe);var vLe=Object.getOwnPropertyNames,xLe=Object.getOwnPropertySymbols,yLe=Object.prototype.hasOwnProperty;function $M(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function dx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function BM(e){return vLe(e).concat(xLe(e))}var wLe=Object.hasOwn||function(e,t){return yLe.call(e,t)};function _d(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var bLe="__v",_Le="__o",SLe="_owner",UM=Object.getOwnPropertyDescriptor,WM=Object.keys;function jLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function kLe(e,t){return _d(e.getTime(),t.getTime())}function NLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ELe(e,t){return e===t}function zM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var CLe=_d;function TLe(e,t,r){var n=WM(e),a=n.length;if(WM(t).length!==a)return!1;for(;a-- >0;)if(!KH(e,t,r,n[a]))return!1;return!0}function Qm(e,t,r){var n=BM(e),a=n.length;if(BM(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!KH(e,t,r,s)||(i=UM(e,s),l=UM(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function ALe(e,t){return _d(e.valueOf(),t.valueOf())}function OLe(e,t){return e.source===t.source&&e.flags===t.flags}function VM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function PLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function DLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function KH(e,t,r,n){return(n===SLe||n===_Le||n===bLe)&&(e.$$typeof||t.$$typeof)?!0:wLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var RLe="[object Arguments]",ILe="[object Boolean]",MLe="[object Date]",FLe="[object Error]",LLe="[object Map]",$Le="[object Number]",BLe="[object Object]",ULe="[object RegExp]",WLe="[object Set]",zLe="[object String]",VLe="[object URL]",HLe=Array.isArray,HM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,GM=Object.assign,GLe=Object.prototype.toString.call.bind(Object.prototype.toString);function KLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,v){if(g===p)return!0;if(g==null||p==null)return!1;var x=typeof g;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?i(g,p,v):x==="function"?a(g,p,v):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,v);if(HLe(g))return t(g,p,v);if(HM!=null&&HM(g))return f(g,p,v);if(b===Date)return r(g,p,v);if(b===RegExp)return u(g,p,v);if(b===Map)return s(g,p,v);if(b===Set)return d(g,p,v);var y=GLe(g);return y===MLe?r(g,p,v):y===ULe?u(g,p,v):y===LLe?s(g,p,v):y===WLe?d(g,p,v):y===BLe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,v):y===VLe?h(g,p,v):y===FLe?n(g,p,v):y===RLe?l(g,p,v):y===ILe||y===$Le||y===zLe?c(g,p,v):!1}}function qLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Qm:jLe,areDatesEqual:kLe,areErrorsEqual:NLe,areFunctionsEqual:ELe,areMapsEqual:n?$M(zM,Qm):zM,areNumbersEqual:CLe,areObjectsEqual:n?Qm:TLe,arePrimitiveWrappersEqual:ALe,areRegExpsEqual:OLe,areSetsEqual:n?$M(VM,Qm):VM,areTypedArraysEqual:n?Qm:PLe,areUrlsEqual:DLe};if(r&&(a=GM({},a,r(a))),t){var s=dx(a.areArraysEqual),i=dx(a.areMapsEqual),l=dx(a.areObjectsEqual),c=dx(a.areSetsEqual);a=GM({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function YLe(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function XLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var QLe=$c();$c({strict:!0});$c({circular:!0});$c({circular:!0,strict:!0});$c({createInternalComparator:function(){return _d}});$c({strict:!0,createInternalComparator:function(){return _d}});$c({circular:!0,createInternalComparator:function(){return _d}});$c({circular:!0,createInternalComparator:function(){return _d},strict:!0});function $c(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=qLe(e),c=KLe(l),u=n?n(c):YLe(c);return XLe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function JLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function KM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):JLe(a)};requestAnimationFrame(n)}function Fk(e){"@babel/helpers - typeof";return Fk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fk(e)}function ZLe(e){return n$e(e)||r$e(e)||t$e(e)||e$e()}function e$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t$e(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n$e(e){if(Array.isArray(e))return e}function a$e(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=ZLe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){KM(a.bind(null,u),c);return}a(c),KM(a.bind(null,u));return}Fk(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return t=s$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$e(e){var t=i$e(e,"string");return eg(t)==="symbol"?t:String(t)}function i$e(e,t){if(eg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},l$e=function(t){return t},c$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wp=function(t,r){return Object.keys(r).reduce(function(n,a){return XM(XM({},n),{},qH({},a,t(a,r[a])))},{})},QM=function(t,r,n){return t.map(function(a){return"".concat(c$e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function u$e(e,t){return h$e(e)||f$e(e,t)||YH(e,t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function h$e(e){if(Array.isArray(e))return e}function m$e(e){return v$e(e)||g$e(e)||YH(e)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return Lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lk(e,t)}}function g$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v$e(e){if(Array.isArray(e))return Lk(e)}function Lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w1=1e-4,XH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},QH=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},JM=function(t,r){return function(n){var a=XH(t,r);return QH(a,n)}},x$e=function(t,r){return function(n){var a=XH(t,r),s=[].concat(m$e(a.map(function(i,l){return i*l}).slice(1)),[0]);return QH(s,n)}},ZM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=u$e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=JM(a,i),h=JM(s,l),m=x$e(a,i),g=function(x){return x>1?1:x<0?0:x},p=function(x){for(var b=x>1?1:x,y=b,_=0;_<8;++_){var S=f(y)-b,k=m(y);if(Math.abs(S-b)<w1||k<w1)return h(y);y=g(y-S/k)}return h(y)};return p.isStepper=!1,p},y$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var m=-(d-f)*n,g=h*s,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<w1&&Math.abs(p)<w1?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},w$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZM(a);case"spring":return y$e();default:if(a.split("(")[0]==="cubic-bezier")return ZM(a)}return typeof a=="function"?a:null};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function e3(e){return S$e(e)||_$e(e)||JH(e)||b$e()}function b$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S$e(e){if(Array.isArray(e))return Bk(e)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(n){$k(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $k(e,t,r){return t=j$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$e(e){var t=k$e(e,"string");return tg(t)==="symbol"?t:String(t)}function k$e(e,t){if(tg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$e(e,t){return T$e(e)||C$e(e,t)||JH(e,t)||E$e()}function E$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JH(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function T$e(e){if(Array.isArray(e))return e}var b1=function(t,r,n){return t+(r-t)*n},Uk=function(t){var r=t.from,n=t.to;return r!==n},A$e=function e(t,r,n){var a=Wp(function(s,i){if(Uk(i)){var l=t(i.from,i.to,i.velocity),c=N$e(l,2),u=c[0],d=c[1];return yn(yn({},i),{},{from:u,velocity:d})}return i},r);return n<1?Wp(function(s,i){return Uk(i)?yn(yn({},i),{},{velocity:b1(i.velocity,a[s].velocity,n),from:b1(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const O$e=function(e,t,r,n,a){var s=o$e(e,t),i=s.reduce(function(v,x){return yn(yn({},v),{},$k({},x,[e[x],t[x]]))},{}),l=s.reduce(function(v,x){return yn(yn({},v),{},$k({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Wp(function(x,b){return b.from},l)},m=function(){return!Object.values(l).filter(Uk).length},g=function(x){u||(u=x);var b=x-u,y=b/r.dt;l=A$e(r,l,y),a(yn(yn(yn({},e),t),h())),u=x,m()||(c=requestAnimationFrame(f))},p=function(x){d||(d=x);var b=(x-d)/n,y=Wp(function(S,k){return b1.apply(void 0,e3(k).concat([r(b)]))},i);if(a(yn(yn(yn({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var _=Wp(function(S,k){return b1.apply(void 0,e3(k).concat([r(1)]))},i);a(yn(yn(yn({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ah(e){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ah(e)}var P$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function D$e(e,t){if(e==null)return{};var r=R$e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function AS(e){return L$e(e)||F$e(e)||M$e(e)||I$e()}function I$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$e(e,t){if(e){if(typeof e=="string")return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}}function F$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L$e(e){if(Array.isArray(e))return Wk(e)}function Wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dp(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZH(n.key),n)}}function U$e(e,t,r){return t&&B$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZH(e){var t=W$e(e,"string");return Ah(t)==="symbol"?t:String(t)}function W$e(e,t){if(Ah(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ah(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zk(e,t)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zk(e,t)}function V$e(e){var t=H$e();return function(){var n=_1(e),a;if(t){var s=_1(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return Vk(this,a)}}function Vk(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hk(e)}function Hk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _1(e){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(e)}var lo=function(e){z$e(r,e);var t=V$e(r);function r(n,a){var s;$$e(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Hk(s)),s.changeStyle=s.changeStyle.bind(Hk(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),Vk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},Vk(s);s.state={style:c?dp({},c,u):u}}else s.state={style:{}};return s}return U$e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var m={style:c?dp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(QLe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?dp({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(Ys(Ys({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=O$e(i,l,w$e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,x){if(x===0)return p;var b=v.duration,y=v.easing,_=y===void 0?"ease":y,S=v.style,k=v.properties,j=v.onAnimationEnd,E=x>0?i[x-1]:v,N=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(AS(p),[s.runJSAnimation.bind(s,{from:E.style,to:S,duration:b,easing:_}),b]);var A=QM(N,b,_),O=Ys(Ys(Ys({},E.style),S),{},{transition:A});return[].concat(AS(p),[O,b,j]).filter(l$e)};return this.manager.start([c].concat(AS(i.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=a$e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?dp({},l,c):c,v=QM(Object.keys(p),i,u);g.start([d,s,Ys(Ys({},p),{},{transition:v}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=D$e(a,P$e),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,x=g.className,b=w.cloneElement(m,Ys(Ys({},c),{},{style:Ys(Ys({},v),d),className:x}));return b};return u===1?f(w.Children.only(s)):te.createElement("div",null,w.Children.map(s,function(h){return f(h)}))}}]),r}(w.PureComponent);lo.displayName="Animate";lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lo.propTypes={from:qt.oneOfType([qt.object,qt.string]),to:qt.oneOfType([qt.object,qt.string]),attributeName:qt.string,duration:qt.number,begin:qt.number,easing:qt.oneOfType([qt.string,qt.func]),steps:qt.arrayOf(qt.shape({duration:qt.number.isRequired,style:qt.object.isRequired,easing:qt.oneOfType([qt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qt.func]),properties:qt.arrayOf("string"),onAnimationEnd:qt.func})),children:qt.oneOfType([qt.node,qt.func]),isActive:qt.bool,canBegin:qt.bool,onAnimationEnd:qt.func,shouldReAnimate:qt.bool,onAnimationStart:qt.func,onAnimationReStart:qt.func};function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}function G$e(e,t){return X$e(e)||Y$e(e,t)||q$e(e,t)||K$e()}function K$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$e(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function X$e(e){if(Array.isArray(e))return e}function a3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a3(Object(r),!0).forEach(function(n){Q$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q$e(e,t,r){return t=J$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$e(e){var t=Z$e(e,"string");return rg(t)=="symbol"?t:t+""}function Z$e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i3=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},e5e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},t5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vA=function(t){var r=s3(s3({},t5e),t),n=w.useRef(),a=w.useState(-1),s=G$e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=Ct("recharts-rectangle",m);return b?te.createElement(lo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(_){var S=_.width,k=_.height,j=_.x,E=_.y;return te.createElement(lo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:x,easing:g},te.createElement("path",S1({},ct(r,!0),{className:y,d:i3(j,E,S,k,h),ref:n})))}):te.createElement("path",S1({},ct(r,!0),{className:y,d:i3(c,u,d,f,h)}))},r5e=["points","className","baseLinePoints","connectNulls"];function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}function n5e(e,t){if(e==null)return{};var r=a5e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function a5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function o3(e){return l5e(e)||o5e(e)||i5e(e)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(e,t){if(e){if(typeof e=="string")return Gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gk(e,t)}}function o5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l5e(e){if(Array.isArray(e))return Gk(e)}function Gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l3=function(t){return t&&t.x===+t.x&&t.y===+t.y},c5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){l3(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),l3(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},zp=function(t,r){var n=c5e(t);r&&(n=[n.reduce(function(s,i){return[].concat(o3(s),o3(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},u5e=function(t,r,n){var a=zp(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(zp(r.reverse(),n).slice(1))},d5e=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=n5e(t,r5e);if(!r||!r.length)return null;var l=Ct("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=u5e(r,a,s);return te.createElement("g",{className:l},te.createElement("path",mf({},ct(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?te.createElement("path",mf({},ct(i,!0),{fill:"none",d:zp(r,s)})):null,c?te.createElement("path",mf({},ct(i,!0),{fill:"none",d:zp(a,s)})):null)}var d=zp(r,s);return te.createElement("path",mf({},ct(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(this,arguments)}var Eb=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Ct("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",Kk({},ct(t,!1),zy(t),{className:i,cx:r,cy:n,r:a})):null};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var f5e=["x","y","top","left","width","height","className"];function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}function c3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h5e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c3(Object(r),!0).forEach(function(n){m5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m5e(e,t,r){return t=p5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p5e(e){var t=g5e(e,"string");return ng(t)=="symbol"?t:t+""}function g5e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v5e(e,t){if(e==null)return{};var r=x5e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var y5e=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},w5e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=v5e(t,f5e),v=h5e({x:n,y:s,top:l,left:u,width:f,height:m},p);return!We(n)||!We(s)||!We(f)||!We(m)||!We(l)||!We(u)?null:te.createElement("path",qk({},ct(v,!0),{className:Ct("recharts-cross",g),d:y5e(n,s,f,m,l,u)}))},b5e=_b,_5e=dH,S5e=go;function j5e(e,t){return e&&e.length?b5e(e,S5e(t),_5e):void 0}var k5e=j5e;const N5e=Qt(k5e);var E5e=_b,C5e=go,T5e=fH;function A5e(e,t){return e&&e.length?E5e(e,C5e(t),T5e):void 0}var O5e=A5e;const P5e=Qt(O5e);var D5e=["cx","cy","angle","ticks","axisLine"],R5e=["ticks","tick","angle","tickFormatter","stroke"];function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(this,arguments)}function u3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(r),!0).forEach(function(n){Cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d3(e,t){if(e==null)return{};var r=I5e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tG(n.key),n)}}function F5e(e,t,r){return t&&f3(e.prototype,t),r&&f3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L5e(e,t,r){return t=j1(t),$5e(e,eG()?Reflect.construct(t,r||[],j1(e).constructor):t.apply(e,r))}function $5e(e,t){if(t&&(Oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B5e(e)}function B5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eG=function(){return!!e})()}function j1(e){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(e)}function U5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yk(e,t)}function Cb(e,t,r){return t=tG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=W5e(e,"string");return Oh(t)=="symbol"?t:t+""}function W5e(e,t){if(Oh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=function(e){function t(){return M5e(this,t),L5e(this,t,arguments)}return U5e(t,e),F5e(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return dr(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=N5e(l,function(d){return d.coordinate||0}),u=P5e(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=d3(n,D5e),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=dr(a,s,d[0],i),h=dr(a,s,d[1],i),m=Hc(Hc(Hc({},ct(u,!1)),{},{fill:"none"},ct(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return te.createElement("line",Vp({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=d3(a,R5e),f=this.getTickTextAnchor(),h=ct(d,!1),m=ct(i,!1),g=s.map(function(p,v){var x=n.getTickValueCoord(p),b=Hc(Hc(Hc(Hc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},x),{},{payload:p});return te.createElement(Gt,Vp({className:Ct("recharts-polar-radius-axis-tick",BH(i)),key:"tick-".concat(p.coordinate)},rd(n.props,p,v)),t.renderTickItem(i,b,c?c(p.value,v):p.value))});return te.createElement(Gt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:te.createElement(Gt,{className:Ct("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),hn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):_t(n)?i=n(a):i=te.createElement(nd,Vp({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);Cb(Tb,"displayName","PolarRadiusAxis");Cb(Tb,"axisType","radiusAxis");Cb(Tb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}function h3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h3(Object(r),!0).forEach(function(n){Ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nG(n.key),n)}}function V5e(e,t,r){return t&&m3(e.prototype,t),r&&m3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H5e(e,t,r){return t=k1(t),G5e(e,rG()?Reflect.construct(t,r||[],k1(e).constructor):t.apply(e,r))}function G5e(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K5e(e)}function K5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rG=function(){return!!e})()}function k1(e){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(e)}function q5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}function Xk(e,t){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xk(e,t)}function Ab(e,t,r){return t=nG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nG(e){var t=Y5e(e,"string");return Ph(t)=="symbol"?t:t+""}function Y5e(e,t){if(Ph(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X5e=Math.PI/180,p3=1e-5,Ob=function(e){function t(){return z5e(this,t),H5e(this,t,arguments)}return q5e(t,e),V5e(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=dr(s,i,l,n.coordinate),h=dr(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*X5e),i;return s>p3?i=a==="outer"?"start":"end":s<-p3?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=Gc(Gc({},ct(this.props,!1)),{},{fill:"none"},ct(l,!1));if(c==="circle")return te.createElement(Eb,iu({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return dr(a,s,i,h.coordinate)});return te.createElement(d5e,iu({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ct(this.props,!1),f=ct(i,!1),h=Gc(Gc({},d),{},{fill:"none"},ct(l,!1)),m=s.map(function(g,p){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),b=Gc(Gc(Gc({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return te.createElement(Gt,iu({className:Ct("recharts-polar-angle-axis-tick",BH(i)),key:"tick-".concat(g.coordinate)},rd(n.props,g,p)),l&&te.createElement("line",iu({className:"recharts-polar-angle-axis-tick-line"},h,v)),i&&t.renderTickItem(i,b,c?c(g.value,p):g.value))});return te.createElement(Gt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:te.createElement(Gt,{className:Ct("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return te.isValidElement(n)?i=te.cloneElement(n,a):_t(n)?i=n(a):i=te.createElement(nd,iu({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);Ab(Ob,"displayName","PolarAngleAxis");Ab(Ob,"axisType","angleAxis");Ab(Ob,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Q5e=iV,J5e=Q5e(Object.getPrototypeOf,Object),Z5e=J5e,e8e=xl,t8e=Z5e,r8e=yl,n8e="[object Object]",a8e=Function.prototype,s8e=Object.prototype,aG=a8e.toString,i8e=s8e.hasOwnProperty,o8e=aG.call(Object);function l8e(e){if(!r8e(e)||e8e(e)!=n8e)return!1;var t=t8e(e);if(t===null)return!0;var r=i8e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&aG.call(r)==o8e}var c8e=l8e;const u8e=Qt(c8e);var d8e=xl,f8e=yl,h8e="[object Boolean]";function m8e(e){return e===!0||e===!1||f8e(e)&&d8e(e)==h8e}var p8e=m8e;const g8e=Qt(p8e);function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function v8e(e,t){return b8e(e)||w8e(e,t)||y8e(e,t)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8e(e,t){if(e){if(typeof e=="string")return g3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g3(e,t)}}function g3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function b8e(e){if(Array.isArray(e))return e}function v3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(r),!0).forEach(function(n){_8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _8e(e,t,r){return t=S8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S8e(e){var t=j8e(e,"string");return ag(t)=="symbol"?t:t+""}function j8e(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y3=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},k8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N8e=function(t){var r=x3(x3({},k8e),t),n=w.useRef(),a=w.useState(-1),s=v8e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=Ct("recharts-trapezoid",m);return x?te.createElement(lo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(y){var _=y.upperWidth,S=y.lowerWidth,k=y.height,j=y.x,E=y.y;return te.createElement(lo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},te.createElement("path",N1({},ct(r,!0),{className:b,d:y3(j,E,_,S,k),ref:n})))}):te.createElement("g",null,te.createElement("path",N1({},ct(r,!0),{className:b,d:y3(c,u,d,f,h)})))},E8e=["option","shapeType","propTransformer","activeClassName","isActive"];function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function C8e(e,t){if(e==null)return{};var r=T8e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(r),!0).forEach(function(n){A8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A8e(e,t,r){return t=O8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O8e(e){var t=P8e(e,"string");return sg(t)=="symbol"?t:t+""}function P8e(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D8e(e,t){return E1(E1({},t),e)}function R8e(e,t){return e==="symbols"}function b3(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return te.createElement(vA,r);case"trapezoid":return te.createElement(N8e,r);case"sector":return te.createElement(zH,r);case"symbols":if(R8e(t))return te.createElement(MT,r);break;default:return null}}function I8e(e){return w.isValidElement(e)?e.props:e}function sG(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?D8e:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=C8e(e,E8e),u;if(w.isValidElement(t))u=w.cloneElement(t,E1(E1({},c),I8e(t)));else if(_t(t))u=t(c);else if(u8e(t)&&!g8e(t)){var d=a(t,c);u=te.createElement(b3,{shapeType:r,elementProps:d})}else{var f=c;u=te.createElement(b3,{shapeType:r,elementProps:f})}return l?te.createElement(Gt,{className:i},u):u}function Pb(e,t){return t!=null&&"trapezoids"in e.props}function Db(e,t){return t!=null&&"sectors"in e.props}function ig(e,t){return t!=null&&"points"in e.props}function M8e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function F8e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function L8e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function $8e(e,t){var r;return Pb(e,t)?r=M8e:Db(e,t)?r=F8e:ig(e,t)&&(r=L8e),r}function B8e(e,t){var r;return Pb(e,t)?r="trapezoids":Db(e,t)?r="sectors":ig(e,t)&&(r="points"),r}function U8e(e,t){if(Pb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Db(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ig(e,t)?t.payload:{}}function W8e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=B8e(r,t),s=U8e(r,t),i=n.filter(function(c,u){var d=nv(s,c),f=r.props[a].filter(function(g){var p=$8e(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(i[i.length-1]);return l}var Ix;function Dh(e){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dh(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(this,arguments)}function _3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_3(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oG(n.key),n)}}function V8e(e,t,r){return t&&S3(e.prototype,t),r&&S3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function H8e(e,t,r){return t=C1(t),G8e(e,iG()?Reflect.construct(t,r||[],C1(e).constructor):t.apply(e,r))}function G8e(e,t){if(t&&(Dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K8e(e)}function K8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!e})()}function C1(e){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(e)}function q8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qk(e,t)}function ys(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=Y8e(e,"string");return Dh(t)=="symbol"?t:t+""}function Y8e(e,t){if(Dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ja=function(e){function t(r){var n;return z8e(this,t),n=H8e(this,t,[r]),ys(n,"pieRef",null),ys(n,"sectorRefs",[]),ys(n,"id",gm("recharts-pie-")),ys(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_t(a)&&a()}),ys(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_t(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return q8e(t,e),V8e(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ct(this.props,!1),f=ct(i,!1),h=ct(l,!1),m=i&&i.offsetRadius||20,g=n.map(function(p,v){var x=(p.startAngle+p.endAngle)/2,b=dr(p.cx,p.cy,p.outerRadius+m,x),y=or(or(or(or({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),_=or(or(or(or({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[dr(p.cx,p.cy,p.outerRadius,x),b]}),S=c;return Et(c)&&Et(u)?S="value":Et(c)&&(S=u),te.createElement(Gt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,y,rn(p,S)))});return te.createElement(Gt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?i:h,g=or(or({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return te.createElement(Gt,pf({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},rd(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),te.createElement(sG,pf({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return te.createElement(lo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],x=s&&s[0],b=x.startAngle;return s.forEach(function(y,_){var S=h&&h[_],k=_>0?Za(y,"paddingAngle",0):0;if(S){var j=Va(S.endAngle-S.startAngle,y.endAngle-y.startAngle),E=or(or({},y),{},{startAngle:b+k,endAngle:b+j(p)+k});v.push(E),b=E.endAngle}else{var N=y.endAngle,A=y.startAngle,O=Va(0,N-A),P=O(p),U=or(or({},y),{},{startAngle:b+k,endAngle:b+P+k});v.push(U),b=U.endAngle}}),te.createElement(Gt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!nv(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!We(u)||!We(d)||!We(f)||!We(h))return null;var p=Ct("recharts-pie",l);return te.createElement(Gt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),hn.renderCallByParent(this.props,null,!1),(!m||g)&&Xo.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);if(_t(n))return n(a);var i=Ct("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return te.createElement(y1,pf({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(te.isValidElement(n))return te.cloneElement(n,a);var i=s;if(_t(n)&&(i=n(a),te.isValidElement(i)))return i;var l=Ct("recharts-pie-label-text",typeof n!="boolean"&&!_t(n)?n.className:"");return te.createElement(nd,pf({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);Ix=ja;ys(ja,"displayName","Pie");ys(ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!to.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ys(ja,"parseDeltaAngle",function(e,t){var r=oa(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ys(ja,"getRealPieData",function(e){var t=e.data,r=e.children,n=ct(e,!1),a=es(r,Io);return t&&t.length?t.map(function(s,i){return or(or(or({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return or(or({},n),s.props)}):[]});ys(ja,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=$H(a,s),l=n+la(e.cx,a,a/2),c=r+la(e.cy,s,s/2),u=la(e.innerRadius,i,0),d=la(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ys(ja,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?or(or({},t.type.defaultProps),t.props):t.props,a=Ix.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Ix.parseCoordinateOfPie(n,r),p=Ix.parseDeltaAngle(i,l),v=Math.abs(p),x=u;Et(u)&&Et(f)?(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Et(u)&&(bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var b=a.filter(function(E){return rn(E,x,0)!==0}).length,y=(v>=360?b:b-1)*c,_=v-b*m-y,S=a.reduce(function(E,N){var A=rn(N,x,0);return E+(We(A)?A:0)},0),k;if(S>0){var j;k=a.map(function(E,N){var A=rn(E,x,0),O=rn(E,d,N),P=(We(A)?A:0)/S,U;N?U=j.endAngle+oa(p)*c*(A!==0?1:0):U=i;var z=U+oa(p)*((A!==0?m:0)+P*_),W=(U+z)/2,I=(g.innerRadius+g.outerRadius)/2,R=[{name:O,value:A,payload:E,dataKey:x,type:h}],F=dr(g.cx,g.cy,I,W);return j=or(or(or({percent:P,cornerRadius:s,name:O,tooltipPayload:R,midAngle:W,middleRadius:I,tooltipPosition:F},E),g),{},{value:rn(E,x),startAngle:U,endAngle:z,payload:E,paddingAngle:oa(p)*c}),j})}return or(or({},g),{},{sectors:k,data:a})});var X8e=Math.ceil,Q8e=Math.max;function J8e(e,t,r,n){for(var a=-1,s=Q8e(X8e((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var Z8e=J8e,e6e=kV,j3=1/0,t6e=17976931348623157e292;function r6e(e){if(!e)return e===0?e:0;if(e=e6e(e),e===j3||e===-j3){var t=e<0?-1:1;return t*t6e}return e===e?e:0}var lG=r6e,n6e=Z8e,a6e=pb,OS=lG;function s6e(e){return function(t,r,n){return n&&typeof n!="number"&&a6e(t,r,n)&&(r=n=void 0),t=OS(t),r===void 0?(r=t,t=0):r=OS(r),n=n===void 0?t<r?1:-1:OS(n),n6e(t,r,n,e)}}var i6e=s6e,o6e=i6e,l6e=o6e(),c6e=l6e;const T1=Qt(c6e);function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function k3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return t=u6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6e(e){var t=d6e(e,"string");return og(t)=="symbol"?t:t+""}function d6e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f6e=["Webkit","Moz","O","ms"],h6e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=f6e.reduce(function(s,i){return N3(N3({},s),{},cG({},i+n,r))},{});return a[t]=r,a};function Rh(e){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(e)}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function E3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(r),!0).forEach(function(n){$a(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dG(n.key),n)}}function p6e(e,t,r){return t&&C3(e.prototype,t),r&&C3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g6e(e,t,r){return t=O1(t),v6e(e,uG()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function v6e(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x6e(e)}function x6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function y6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jk(e,t)}function Jk(e,t){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jk(e,t)}function $a(e,t,r){return t=dG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=w6e(e,"string");return Rh(t)=="symbol"?t:t+""}function w6e(e,t){if(Rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b6e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Bp().domain(T1(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},T3=function(t){return t.changedTouches&&!!t.changedTouches.length},Ih=function(e){function t(r){var n;return m6e(this,t),n=g6e(this,t,[r]),$a(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),$a(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),$a(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),$a(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$a(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$a(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$a(n,"handleSlideDragStart",function(a){var s=T3(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return y6e(t,e),p6e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,f),g=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=rn(s[n],l,n);return _t(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var v=this.getIndex({startX:i+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=T3(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+h-m-u):b<0&&(b=Math.max(b,f-u)),x[i]=u+b;var y=this.getIndex(x),_=y.startIndex,S=y.endIndex,k=function(){var E=v.length-1;return i==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===E||i==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===E};this.setState($a($a({},i,u+b),"brushMoveStartX",n.pageX),function(){g&&k()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState($a({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return te.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?te.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,x=Math.max(n,this.props.x),b=PS(PS({},ct(this.props,!1)),{},{x,y:u,width:d,height:f}),y=m||"Min value: ".concat((s=g[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[v])===null||i===void 0?void 0:i.name);return te.createElement(Gt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return te.createElement(Gt,{className:"recharts-brush-texts"},te.createElement(nd,A1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:i+l/2},g),this.getTextOfTick(a)),te.createElement(nd,A1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!We(l)||!We(c)||!We(u)||!We(d)||u<=0||d<=0)return null;var y=Ct("recharts-brush",s),_=te.Children.count(i)===1,S=h6e("userSelect","none");return te.createElement(Gt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||x||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),te.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return te.isValidElement(n)?s=te.cloneElement(n,a):_t(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return PS({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?b6e({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);$a(Ih,"displayName","Brush");$a(Ih,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _6e=zT;function S6e(e,t){var r;return _6e(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var j6e=S6e,k6e=Jz,N6e=go,E6e=j6e,C6e=Ma,T6e=pb;function A6e(e,t,r){var n=C6e(e)?k6e:E6e;return r&&T6e(e,t,r)&&(t=void 0),n(e,N6e(t))}var O6e=A6e;const P6e=Qt(O6e);var no=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},A3=wV;function D6e(e,t,r){t=="__proto__"&&A3?A3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var R6e=D6e,I6e=R6e,M6e=xV,F6e=go;function L6e(e,t){var r={};return t=F6e(t),M6e(e,function(n,a,s){I6e(r,a,t(n,a,s))}),r}var $6e=L6e;const B6e=Qt($6e);function U6e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var W6e=U6e,z6e=zT;function V6e(e,t){var r=!0;return z6e(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var H6e=V6e,G6e=W6e,K6e=H6e,q6e=go,Y6e=Ma,X6e=pb;function Q6e(e,t,r){var n=Y6e(e)?G6e:K6e;return r&&X6e(e,t,r)&&(t=void 0),n(e,q6e(t))}var J6e=Q6e;const fG=Qt(J6e);var Z6e=["x","y"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){eBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eBe(e,t,r){return t=tBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tBe(e){var t=rBe(e,"string");return lg(t)=="symbol"?t:t+""}function rBe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nBe(e,t){if(e==null)return{};var r=aBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sBe(e,t){var r=e.x,n=e.y,a=nBe(e,Z6e),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Jm(Jm(Jm(Jm(Jm({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function P3(e){return te.createElement(sG,Zk({shapeType:"rectangle",propTransformer:sBe,activeClassName:"recharts-active-bar"},e))}var iBe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=We(n)||Oje(n);return s?t(n,a):(s||sd(),r)}},oBe=["value","background"],hG;function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function lBe(e,t){if(e==null)return{};var r=cBe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(this,arguments)}function D3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pG(n.key),n)}}function dBe(e,t,r){return t&&R3(e.prototype,t),r&&R3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fBe(e,t,r){return t=D1(t),hBe(e,mG()?Reflect.construct(t,r||[],D1(e).constructor):t.apply(e,r))}function hBe(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mBe(e)}function mBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function D1(e){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(e)}function pBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eN(e,t)}function nc(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gBe(e,"string");return Mh(t)=="symbol"?t:t+""}function gBe(e,t){if(Mh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sv=function(e){function t(){var r;uBe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=fBe(this,t,[].concat(a)),nc(r,"state",{isAnimationFinished:!1}),nc(r,"id",gm("recharts-bar-")),nc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),nc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return pBe(t,e),dBe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ct(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:i,p=Hr(Hr(Hr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return te.createElement(Gt,P1({className:"recharts-bar-rectangle"},rd(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),te.createElement(P3,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return te.createElement(lo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=s.map(function(v,x){var b=h&&h[x];if(b){var y=Va(b.x,v.x),_=Va(b.y,v.y),S=Va(b.width,v.width),k=Va(b.height,v.height);return Hr(Hr({},v),{},{x:y(g),y:_(g),width:S(g),height:k(g)})}if(i==="horizontal"){var j=Va(0,v.height),E=j(g);return Hr(Hr({},v),{},{y:v.y+v.height-E,height:E})}var N=Va(0,v.width),A=N(g);return Hr(Hr({},v),{},{width:A})});return te.createElement(Gt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!nv(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=ct(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=lBe(u,oBe);if(!f)return null;var m=Hr(Hr(Hr(Hr(Hr({},h),{},{fill:"#eee"},f),c),rd(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return te.createElement(P3,P1({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=es(d,av);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(v,x){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:rn(v,x)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(Gt,g,f.map(function(p){return te.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=Ct("recharts-bar",i),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,_=b||y,S=Et(p)?this.id:p;return te.createElement(Gt,{className:x},b||y?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(S)},te.createElement("rect",{x:b?u:u-f/2,y:y?d:d-h/2,width:b?f:f*2,height:y?h:h*2}))):null,te.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&Xo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(w.PureComponent);hG=sv;nc(sv,"displayName","Bar");nc(sv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!to.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});nc(sv,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=X3e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Hr(Hr({},p),r.props):r.props,x=v.dataKey,b=v.children,y=v.minPointSize,_=g==="horizontal"?i:s,S=u?_.scale.domain():null,k=nFe({numericAxis:_}),j=es(b,Io),E=f.map(function(N,A){var O,P,U,z,W,I;u?O=Q3e(u[d+A],S):(O=rn(N,x),Array.isArray(O)||(O=[k,O]));var R=iBe(y,hG.defaultProps.minPointSize)(O[1],A);if(g==="horizontal"){var F,D=[i.scale(O[0]),i.scale(O[1])],V=D[0],J=D[1];P=SM({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:N,index:A}),U=(F=J??V)!==null&&F!==void 0?F:void 0,z=m.size;var T=V-J;if(W=Number.isNaN(T)?0:T,I={x:P,y:i.y,width:z,height:i.height},Math.abs(R)>0&&Math.abs(W)<Math.abs(R)){var G=oa(W||R)*(Math.abs(R)-Math.abs(W));U-=G,W+=G}}else{var M=[s.scale(O[0]),s.scale(O[1])],B=M[0],ee=M[1];if(P=B,U=SM({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:N,index:A}),z=ee-B,W=m.size,I={x:s.x,y:U,width:s.width,height:W},Math.abs(R)>0&&Math.abs(z)<Math.abs(R)){var ae=oa(z||R)*(Math.abs(R)-Math.abs(z));z+=ae}}return Hr(Hr(Hr({},N),{},{x:P,y:U,width:z,height:W,value:u?O:O[1],payload:N,background:I},j&&j[A]&&j[A].props),{},{tooltipPayload:[FH(r,N)],tooltipPosition:{x:P+z/2,y:U+W/2}})});return Hr({data:E,layout:g},h)});function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function vBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gG(n.key),n)}}function xBe(e,t,r){return t&&I3(e.prototype,t),r&&I3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function M3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M3(Object(r),!0).forEach(function(n){Rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rb(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=yBe(e,"string");return cg(t)=="symbol"?t:t+""}function yBe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wBe=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Ua(u,sv);return d.reduce(function(m,g){var p=r[g],v=p.orientation,x=p.domain,b=p.padding,y=b===void 0?{}:b,_=p.mirror,S=p.reversed,k="".concat(v).concat(_?"Mirror":""),j,E,N,A,O;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=x[1]-x[0],U=1/0,z=p.categoricalDomain.sort(Rje);if(z.forEach(function(M,B){B>0&&(U=Math.min((M||0)-(z[B-1]||0),U))}),Number.isFinite(U)){var W=U/P,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(j=W*I/2),p.padding==="no-gap"){var R=la(t.barCategoryGap,W*I),F=W*I/2;j=F-R-(F-R)/I*R}}}a==="xAxis"?E=[n.left+(y.left||0)+(j||0),n.left+n.width-(y.right||0)-(j||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(j||0),n.top+n.height-(y.bottom||0)-(j||0)]:E=p.range,S&&(E=[E[1],E[0]]);var D=DH(p,s,h),V=D.scale,J=D.realScaleType;V.domain(x).range(E),RH(V);var T=IH(V,ci(ci({},p),{},{realScaleType:J}));a==="xAxis"?(O=v==="top"&&!_||v==="bottom"&&_,N=n.left,A=f[k]-O*p.height):a==="yAxis"&&(O=v==="left"&&!_||v==="right"&&_,N=f[k]-O*p.width,A=n.top);var G=ci(ci(ci({},p),T),{},{realScaleType:J,x:N,y:A,scale:V,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return G.bandSize=g1(G,T),!p.hide&&a==="xAxis"?f[k]+=(O?-1:1)*G.height:p.hide||(f[k]+=(O?-1:1)*G.width),ci(ci({},m),{},Rb({},g,G))},{})},vG=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},bBe=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return vG({x:r,y:n},{x:a,y:s})},xG=function(){function e(t){vBe(this,e),this.scale=t}return xBe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Rb(xG,"EPS",1e-4);var xA=function(t){var r=Object.keys(t).reduce(function(n,a){return ci(ci({},n),{},Rb({},a,xG.create(t[a])))},{});return ci(ci({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return B6e(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return fG(a,function(s,i){return r[i].isInRange(s)})}})};function _Be(e){return(e%180+180)%180}var SBe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_Be(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},jBe=go,kBe=Jg,NBe=hb;function EBe(e){return function(t,r,n){var a=Object(t);if(!kBe(t)){var s=jBe(r);t=NBe(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var CBe=EBe,TBe=lG;function ABe(e){var t=TBe(e),r=t%1;return t===t?r?t-r:t:0}var OBe=ABe,PBe=fV,DBe=go,RBe=OBe,IBe=Math.max;function MBe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:RBe(r);return a<0&&(a=IBe(n+a,0)),PBe(e,DBe(t),a)}var FBe=MBe,LBe=CBe,$Be=FBe,BBe=LBe($Be),UBe=BBe;const WBe=Qt(UBe);var zBe=ISe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yA=w.createContext(void 0),wA=w.createContext(void 0),yG=w.createContext(void 0),wG=w.createContext({}),bG=w.createContext(void 0),_G=w.createContext(0),SG=w.createContext(0),F3=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=zBe(s);return te.createElement(yA.Provider,{value:n},te.createElement(wA.Provider,{value:a},te.createElement(wG.Provider,{value:s},te.createElement(yG.Provider,{value:d},te.createElement(bG.Provider,{value:i},te.createElement(_G.Provider,{value:u},te.createElement(SG.Provider,{value:c},l)))))))},VBe=function(){return w.useContext(bG)},jG=function(t){var r=w.useContext(yA);r==null&&sd();var n=r[t];return n==null&&sd(),n},HBe=function(){var t=w.useContext(yA);return Ul(t)},GBe=function(){var t=w.useContext(wA),r=WBe(t,function(n){return fG(n.domain,Number.isFinite)});return r||Ul(t)},kG=function(t){var r=w.useContext(wA);r==null&&sd();var n=r[t];return n==null&&sd(),n},KBe=function(){var t=w.useContext(yG);return t},qBe=function(){return w.useContext(wG)},bA=function(){return w.useContext(SG)},_A=function(){return w.useContext(_G)};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}function YBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EG(n.key),n)}}function QBe(e,t,r){return t&&XBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JBe(e,t,r){return t=R1(t),ZBe(e,NG()?Reflect.construct(t,r||[],R1(e).constructor):t.apply(e,r))}function ZBe(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eUe(e)}function eUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!e})()}function R1(e){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(e)}function tUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}function tN(e,t){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tN(e,t)}function L3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(r),!0).forEach(function(n){SA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SA(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=rUe(e,"string");return Fh(t)=="symbol"?t:t+""}function rUe(e,t){if(Fh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nUe(e,t){return oUe(e)||iUe(e,t)||sUe(e,t)||aUe()}function aUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sUe(e,t){if(e){if(typeof e=="string")return B3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(e,t)}}function B3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iUe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function oUe(e){if(Array.isArray(e))return e}function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(this,arguments)}var lUe=function(t,r){var n;return te.isValidElement(t)?n=te.cloneElement(t,r):_t(t)?n=t(r):n=te.createElement("line",rN({},r,{className:"recharts-reference-line-line"})),n},cUe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var g=u.y,p=t.y.apply(g,{position:i});if(no(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var x=u.x,b=t.x.apply(x,{position:i});if(no(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+m},{x:b,y:f}];return l==="top"?y.reverse():y}if(a){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:i})});return no(u,"discard")&&P6e(S,function(k){return!t.isInRange(k)})?null:S}return null};function uUe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=VBe(),d=jG(a),f=kG(s),h=KBe();if(!u||!h)return null;bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=xA({x:d.scale,y:f.scale}),g=sn(t),p=sn(r),v=n&&n.length===2,x=cUe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var b=nUe(x,2),y=b[0],_=y.x,S=y.y,k=b[1],j=k.x,E=k.y,N=no(e,"hidden")?"url(#".concat(u,")"):void 0,A=$3($3({clipPath:N},ct(e,!0)),{},{x1:_,y1:S,x2:j,y2:E});return te.createElement(Gt,{className:Ct("recharts-reference-line",l)},lUe(i,A),hn.renderCallByParent(e,bBe({x1:_,y1:S,x2:j,y2:E})))}var jA=function(e){function t(){return YBe(this,t),JBe(this,t,arguments)}return tUe(t,e),QBe(t,[{key:"render",value:function(){return te.createElement(uUe,this.props)}}])}(te.Component);SA(jA,"displayName","ReferenceLine");SA(jA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nN.apply(this,arguments)}function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){Ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TG(n.key),n)}}function hUe(e,t,r){return t&&fUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mUe(e,t,r){return t=I1(t),pUe(e,CG()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function pUe(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gUe(e)}function gUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function vUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aN(e,t)}function Ib(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=xUe(e,"string");return Lh(t)=="symbol"?t:t+""}function xUe(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yUe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=xA({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return no(t,"discard")&&!i.isInRange(l)?null:l},Mb=function(e){function t(){return dUe(this,t),mUe(this,t,arguments)}return vUe(t,e),hUe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=sn(a),d=sn(s);if(bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=yUe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,x=no(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=W3(W3({clipPath:x},ct(this.props,!0)),{},{cx:h,cy:m});return te.createElement(Gt,{className:Ct("recharts-reference-dot",v)},t.renderDot(p,b),hn.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(te.Component);Ib(Mb,"displayName","ReferenceDot");Ib(Mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ib(Mb,"renderDot",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):_t(e)?r=e(t):r=te.createElement(Eb,nN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}function $h(e){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$h(e)}function z3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function V3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(r),!0).forEach(function(n){Fb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OG(n.key),n)}}function _Ue(e,t,r){return t&&bUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SUe(e,t,r){return t=M1(t),jUe(e,AG()?Reflect.construct(t,r||[],M1(e).constructor):t.apply(e,r))}function jUe(e,t){if(t&&($h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kUe(e)}function kUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!e})()}function M1(e){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(e)}function NUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iN(e,t)}function iN(e,t){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iN(e,t)}function Fb(e,t,r){return t=OG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=EUe(e,"string");return $h(t)=="symbol"?t:t+""}function EUe(e,t){if($h(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CUe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=xA({x:d.scale,y:f.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return no(s,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:vG(m,g)},Lb=function(e){function t(){return wUe(this,t),SUe(this,t,arguments)}return NUe(t,e),_Ue(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=sn(a),h=sn(s),m=sn(i),g=sn(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=CUe(f,h,m,g,this.props);if(!v&&!p)return null;var x=no(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(Gt,{className:Ct("recharts-reference-area",c)},t.renderRect(p,V3(V3({clipPath:x},ct(this.props,!0)),v)),hn.renderCallByParent(this.props,v))}}])}(te.Component);Fb(Lb,"displayName","ReferenceArea");Fb(Lb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fb(Lb,"renderRect",function(e,t){var r;return te.isValidElement(e)?r=te.cloneElement(e,t):_t(e)?r=e(t):r=te.createElement(vA,sN({},t,{className:"recharts-reference-area-rect"})),r});function PG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function TUe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return SBe(n,r)}function AUe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function F1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function OUe(e,t){return PG(e,t+1)}function PUe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:PG(n,u)};var p=c,v,x=function(){return v===void 0&&(v=r(g,p)),v},b=g.coordinate,y=c===0||F1(e,b,x,d,l);y||(c=0,d=i,u+=1),y&&(d=b+e*(x()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){DUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DUe(e,t,r){return t=RUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RUe(e){var t=IUe(e,"string");return ug(t)=="symbol"?t:t+""}function IUe(e,t){if(ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MUe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===i-1){var v=e*(m.coordinate+e*p()/2-c);s[h]=m=Rn(Rn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else s[h]=m=Rn(Rn({},m),{},{tickCoord:m.coordinate});var x=F1(e,m.tickCoord,p,l,c);x&&(c=m.tickCoord-e*(p()/2+a),s[h]=Rn(Rn({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function FUe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Rn(Rn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=F1(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=Rn(Rn({},d),{},{isShow:!0}))}for(var g=s?l-1:l,p=function(b){var y=i[b],_,S=function(){return _===void 0&&(_=r(y,b)),_};if(b===0){var k=e*(y.coordinate-e*S()/2-c);i[b]=y=Rn(Rn({},y),{},{tickCoord:k<0?y.coordinate-k*e:y.coordinate})}else i[b]=y=Rn(Rn({},y),{},{tickCoord:y.coordinate});var j=F1(e,y.tickCoord,S,c,u);j&&(c=y.tickCoord+e*(S()/2+a),i[b]=Rn(Rn({},y),{},{isShow:!0}))},v=0;v<g;v++)p(v);return i}function kA(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(We(c)||to.isSsr)return OUe(a,typeof c=="number"&&We(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?$p(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(y,_){var S=_t(u)?u(y.value,_):y.value;return m==="width"?TUe($p(S,{fontSize:t,letterSpacing:r}),g,f):$p(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?oa(a[1].coordinate-a[0].coordinate):1,x=AUe(s,v,m);return c==="equidistantPreserveStart"?PUe(v,x,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=FUe(v,x,p,a,i,c==="preserveStartEnd"):h=MUe(v,x,p,a,i),h.filter(function(b){return b.isShow}))}var LUe=["viewBox"],$Ue=["viewBox"],BUe=["ticks"];function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function G3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G3(Object(r),!0).forEach(function(n){NA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DS(e,t){if(e==null)return{};var r=UUe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UUe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function zUe(e,t,r){return t&&K3(e.prototype,t),r&&K3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VUe(e,t,r){return t=L1(t),HUe(e,DG()?Reflect.construct(t,r||[],L1(e).constructor):t.apply(e,r))}function HUe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GUe(e)}function GUe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!e})()}function L1(e){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(e)}function KUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oN(e,t)}function NA(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=qUe(e,"string");return Bh(t)=="symbol"?t:t+""}function qUe(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sm=function(e){function t(r){var n;return WUe(this,t),n=VUe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return KUe(t,e),zUe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=DS(n,LUe),l=this.props,c=l.viewBox,u=DS(l,$Ue);return!Rf(s,c)||!Rf(i,u)||!Rf(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,x,b,y=f?-1:1,_=n.tickSize||d,S=We(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=i+ +!f*c,p=v-y*_,b=p-y*h,x=S;break;case"left":p=v=n.coordinate,g=s+ +!f*l,m=g-y*_,x=m-y*h,b=S;break;case"right":p=v=n.coordinate,g=s+ +f*l,m=g+y*_,x=m+y*h,b=S;break;default:m=g=n.coordinate,v=i+ +f*c,p=v+y*_,b=p+y*h,x=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Qr(Qr(Qr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Qr(Qr({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Qr(Qr({},f),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return te.createElement("line",gf({},f,{className:Ct("recharts-cartesian-axis-line",Za(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=kA(Qr(Qr({},this.props),{},{ticks:n}),a,s),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=ct(this.props,!1),x=ct(d,!1),b=Qr(Qr({},v),{},{fill:"none"},ct(c,!1)),y=m.map(function(_,S){var k=i.getTickLineCoord(_),j=k.line,E=k.tick,N=Qr(Qr(Qr(Qr({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},x),E),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return te.createElement(Gt,gf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},rd(i.props,_,S)),c&&te.createElement("line",gf({},b,j,{className:Ct("recharts-cartesian-axis-tick-line",Za(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(_t(f)?f(_.value,S):_.value).concat(h||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=DS(f,BUe),g=h;return _t(c)&&(g=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!g||!g.length?null:te.createElement(Gt,{className:Ct("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),hn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Ct(a.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(n)?i=te.cloneElement(n,Qr(Qr({},a),{},{className:l})):_t(n)?i=n(Qr(Qr({},a),{},{className:l})):i=te.createElement(nd,gf({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(w.Component);NA(Sm,"displayName","CartesianAxis");NA(Sm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var YUe=["x1","y1","x2","y2","key"],XUe=["offset"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){QUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QUe(e,t,r){return t=JUe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JUe(e){var t=ZUe(e,"string");return id(t)=="symbol"?t:t+""}function ZUe(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vu.apply(this,arguments)}function Y3(e,t){if(e==null)return{};var r=e9e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function e9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var t9e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return te.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function IG(e,t){var r;if(te.isValidElement(e))r=te.cloneElement(e,t);else if(_t(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=Y3(t,YUe),u=ct(c,!1);u.offset;var d=Y3(u,XUe);r=te.createElement("line",vu({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function r9e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Fn(Fn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return IG(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function n9e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Fn(Fn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return IG(a,u)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function a9e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+i-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return te.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function s9e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return te.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var i9e=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return PH(kA(Fn(Fn(Fn({},Sm.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},o9e=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return PH(kA(Fn(Fn(Fn({},Sm.defaultProps),n),{},{ticks:zo(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Ud={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function MG(e){var t,r,n,a,s,i,l=bA(),c=_A(),u=qBe(),d=Fn(Fn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ud.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Ud.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Ud.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ud.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Ud.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Ud.verticalFill,x:We(e.x)?e.x:u.left,y:We(e.y)?e.y:u.top,width:We(e.width)?e.width:u.width,height:We(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,b=HBe(),y=GBe();if(!We(m)||m<=0||!We(g)||g<=0||!We(f)||f!==+f||!We(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||i9e,S=d.horizontalCoordinatesGenerator||o9e,k=d.horizontalPoints,j=d.verticalPoints;if((!k||!k.length)&&_t(S)){var E=v&&v.length,N=S({yAxis:y?Fn(Fn({},y),{},{ticks:E?v:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);bi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(id(N),"]")),Array.isArray(N)&&(k=N)}if((!j||!j.length)&&_t(_)){var A=x&&x.length,O=_({xAxis:b?Fn(Fn({},b),{},{ticks:A?x:b.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);bi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(id(O),"]")),Array.isArray(O)&&(j=O)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(t9e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),te.createElement(r9e,vu({},d,{offset:u,horizontalPoints:k,xAxis:b,yAxis:y})),te.createElement(n9e,vu({},d,{offset:u,verticalPoints:j,xAxis:b,yAxis:y})),te.createElement(a9e,vu({},d,{horizontalPoints:k})),te.createElement(s9e,vu({},d,{verticalPoints:j})))}MG.displayName="CartesianGrid";var l9e=["type","layout","connectNulls","ref"],c9e=["key"];function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function X3(e,t){if(e==null)return{};var r=u9e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}function Q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q3(Object(r),!0).forEach(function(n){ui(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wd(e){return m9e(e)||h9e(e)||f9e(e)||d9e()}function d9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f9e(e,t){if(e){if(typeof e=="string")return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}}function h9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m9e(e){if(Array.isArray(e))return lN(e)}function lN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LG(n.key),n)}}function g9e(e,t,r){return t&&J3(e.prototype,t),r&&J3(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9e(e,t,r){return t=$1(t),x9e(e,FG()?Reflect.construct(t,r||[],$1(e).constructor):t.apply(e,r))}function x9e(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y9e(e)}function y9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!e})()}function $1(e){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(e)}function w9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cN(e,t)}function cN(e,t){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cN(e,t)}function ui(e,t,r){return t=LG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=b9e(e,"string");return Uh(t)=="symbol"?t:t+""}function b9e(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv=function(e){function t(){var r;p9e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=v9e(this,t,[].concat(a)),ui(r,"state",{isAnimationFinished:!0,totalLength:0}),ui(r,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),ui(r,"getStrokeDasharray",function(i,l,c){var u=c.reduce(function(x,b){return x+b});if(!u)return r.generateSimpleStrokeDasharray(l,i);for(var d=Math.floor(i/u),f=i%u,h=l-i,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Wd(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Wd(t.repeat(c,d)),Wd(m),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ui(r,"id",gm("recharts-line-")),ui(r,"pathRef",function(i){r.mainCurve=i}),ui(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ui(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return w9e(t,e),g9e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=es(d,av);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:rn(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return te.createElement(Gt,m,f.map(function(g){return te.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,s){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ct(this.props,!1),h=ct(c,!0),m=u.map(function(p,v){var x=Fa(Fa(Fa({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return te.createElement(Gt,Hp({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,s,i){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=X3(l,l9e),h=Fa(Fa(Fa({},ct(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},i),{},{type:c,layout:u,connectNulls:d});return te.createElement(y1,Hp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,i=this.props,l=i.points,c=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,g=i.animateNewValues,p=i.width,v=i.height,x=this.state,b=x.prevPoints,y=x.totalLength;return te.createElement(lo,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(b){var k=b.length/l.length,j=l.map(function(P,U){var z=Math.floor(U*k);if(b[z]){var W=b[z],I=Va(W.x,P.x),R=Va(W.y,P.y);return Fa(Fa({},P),{},{x:I(S),y:R(S)})}if(g){var F=Va(p*2,P.x),D=Va(v/2,P.y);return Fa(Fa({},P),{},{x:F(S),y:D(S)})}return Fa(Fa({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(j,n,a)}var E=Va(0,y),N=E(S),A;if(c){var O="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});A=s.getStrokeDasharray(N,y,O)}else A=s.generateSimpleStrokeDasharray(y,N);return s.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var s=this.props,i=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&i&&i.length&&(!u&&d>0||!nv(u,i))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(i,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,i=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(s||!l||!l.length)return null;var x=this.state.isAnimationFinished,b=l.length===1,y=Ct("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,j=Et(v)?this.id:v,E=(n=ct(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=E.r,A=N===void 0?3:N,O=E.strokeWidth,P=O===void 0?2:O,U=zje(i)?i:{},z=U.clipDot,W=z===void 0?!0:z,I=A*2+P;return te.createElement(Gt,{className:y},_||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(j)},te.createElement("rect",{x:_?h:h-m/2,y:S?f:f-g/2,width:_?m:m*2,height:S?g:g*2})),!W&&te.createElement("clipPath",{id:"clipPath-dots-".concat(j)},te.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!b&&this.renderCurve(k,j),this.renderErrorBar(k,j),(b||i)&&this.renderDots(k,W,j),(!p||x)&&Xo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Wd(n),[0]):n,i=[],l=0;l<a;++l)i=[].concat(Wd(i),Wd(s));return i}},{key:"renderDotItem",value:function(n,a){var s;if(te.isValidElement(n))s=te.cloneElement(n,a);else if(_t(n))s=n(a);else{var i=a.key,l=X3(a,c9e),c=Ct("recharts-line-dot",typeof n!="boolean"?n.className:"");s=te.createElement(Eb,Hp({key:i},l,{className:c}))}return s}}])}(w.PureComponent);ui(iv,"displayName","Line");ui(iv,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!to.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ui(iv,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=rn(h,i);return d==="horizontal"?{x:_M({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Et(g)?null:n.scale(g),value:g,payload:h}:{x:Et(g)?null:r.scale(g),y:_M({axis:n,ticks:s,bandSize:l,entry:h,index:m}),value:g,payload:h}});return Fa({points:f,layout:d},u)});function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function _9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function j9e(e,t,r){return t&&S9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function k9e(e,t,r){return t=B1(t),N9e(e,$G()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function N9e(e,t){if(t&&(Wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9e(e)}function E9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function C9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uN(e,t)}function uN(e,t){return uN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uN(e,t)}function BG(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=T9e(e,"string");return Wh(t)=="symbol"?t:t+""}function T9e(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}function A9e(e){var t=e.xAxisId,r=bA(),n=_A(),a=jG(t);return a==null?null:w.createElement(Sm,dN({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return zo(i,!0)}}))}var $b=function(e){function t(){return _9e(this,t),k9e(this,t,arguments)}return C9e(t,e),j9e(t,[{key:"render",value:function(){return w.createElement(A9e,this.props)}}])}(w.Component);BG($b,"displayName","XAxis");BG($b,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function O9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VG(n.key),n)}}function D9e(e,t,r){return t&&P9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R9e(e,t,r){return t=U1(t),I9e(e,WG()?Reflect.construct(t,r||[],U1(e).constructor):t.apply(e,r))}function I9e(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M9e(e)}function M9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!e})()}function U1(e){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U1(e)}function F9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fN(e,t)}function fN(e,t){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fN(e,t)}function zG(e,t,r){return t=VG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VG(e){var t=L9e(e,"string");return zh(t)=="symbol"?t:t+""}function L9e(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(this,arguments)}var $9e=function(t){var r=t.yAxisId,n=bA(),a=_A(),s=kG(r);return s==null?null:w.createElement(Sm,hN({},s,{className:Ct("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return zo(l,!0)}}))},Bb=function(e){function t(){return O9e(this,t),R9e(this,t,arguments)}return F9e(t,e),D9e(t,[{key:"render",value:function(){return w.createElement($9e,this.props)}}])}(w.Component);zG(Bb,"displayName","YAxis");zG(Bb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z3(e){return z9e(e)||W9e(e)||U9e(e)||B9e()}function B9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9e(e,t){if(e){if(typeof e=="string")return mN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mN(e,t)}}function W9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z9e(e){if(Array.isArray(e))return mN(e)}function mN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pN=function(t,r,n,a,s){var i=es(t,jA),l=es(t,Mb),c=[].concat(Z3(i),Z3(l)),u=es(t,Lb),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&no(v.props,"extendDomain")&&We(v.props[f])){var x=v.props[f];return[Math.min(p[0],x),Math.max(p[1],x)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&no(v.props,"extendDomain")&&We(v.props[m])&&We(v.props[g])){var x=v.props[m],b=v.props[g];return[Math.min(p[0],x,b),Math.max(p[1],x,b)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,v){return We(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},HG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],x=arguments.length,b,y;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];v.fn.apply(v.context,b)}else{var _=v.length,S;for(y=0;y<_;y++)switch(v[y].once&&this.removeListener(u,v[y].fn,void 0,!0),x){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,d);break;case 3:v[y].fn.call(v[y].context,d,f);break;case 4:v[y].fn.call(v[y].context,d,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];v[y].fn.apply(v[y].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&i(this,m);else{for(var p=0,v=[],x=g.length;p<x;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(HG);var V9e=HG.exports;const H9e=Qt(V9e);var RS=new H9e,IS="recharts.syncMouseEvents";function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function G9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function q9e(e,t,r){return t&&K9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MS(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=Y9e(e,"string");return dg(t)=="symbol"?t:t+""}function Y9e(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var X9e=function(){function e(){G9e(this,e),MS(this,"activeIndex",0),MS(this,"coordinateList",[]),MS(this,"layout","horizontal")}return q9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Q9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&We(n)&&We(a))return!0}return!1}function J9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function KG(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=dr(t,r,n,a),l=dr(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Z9e(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=dr(l,c,u,f),m=dr(l,c,d,f);n=h.x,a=h.y,s=m.x,i=m.y}else return KG(t);return[{x:n,y:a},{x:s,y:i}]}function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){e7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7e(e,t,r){return t=t7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7e(e){var t=r7e(e,"string");return fg(t)=="symbol"?t:t+""}function r7e(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7e(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var g,p=y1;if(h==="ScatterChart")g=i,p=w5e;else if(h==="BarChart")g=J9e(f,i,c,d),p=vA;else if(f==="radial"){var v=KG(i),x=v.cx,b=v.cy,y=v.radius,_=v.startAngle,S=v.endAngle;g={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:y,outerRadius:y},p=zH}else g={points:Z9e(f,i,c)},p=y1;var k=fx(fx(fx(fx({stroke:"#ccc",pointerEvents:"none"},c),g),ct(m,!1)),{},{payload:l,payloadIndex:u,className:Ct("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,k):w.createElement(p,k)}var a7e=["item"],s7e=["children","className","width","height","style","compact","title","desc"];function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function tF(e,t){return l7e(e)||o7e(e,t)||YG(e,t)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function l7e(e){if(Array.isArray(e))return e}function rF(e,t){if(e==null)return{};var r=c7e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function f7e(e,t,r){return t&&d7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h7e(e,t,r){return t=W1(t),m7e(e,qG()?Reflect.construct(t,r||[],W1(e).constructor):t.apply(e,r))}function m7e(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p7e(e)}function p7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function W1(e){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(e)}function g7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gN(e,t)}function Hh(e){return y7e(e)||x7e(e)||YG(e)||v7e()}function v7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(e,t){if(e){if(typeof e=="string")return vN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(e,t)}}function x7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y7e(e){if(Array.isArray(e))return vN(e)}function vN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){ht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ht(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=w7e(e,"string");return Vh(t)=="symbol"?t:t+""}function w7e(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b7e={xAxis:["bottom","top"],yAxis:["left","right"]},_7e={width:"100%",height:"100%"},QG={x:0,y:0};function hx(e){return e}var S7e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},j7e=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return je(je(je({},a),dr(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return je(je(je({},a),dr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return QG},Ub=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hh(l),Hh(u)):l},[]);return i.length>0?i:t&&t.length&&We(a)&&We(s)?t.slice(a,s+1):[]};function JG(e){return e==="number"?[0,"auto"]:void 0}var xN=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=Ub(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=f===void 0?l:f;h=Wy(m,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Hh(c),[FH(u,h)]):c},[])},aF=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=S7e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=V3e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=xN(t,r,d,f),m=j7e(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},k7e=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=OH(d,s);return n.reduce(function(g,p){var v,x=p.type.defaultProps!==void 0?je(je({},p.type.defaultProps),p.props):p.props,b=x.type,y=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,j=x.ticks,E=x.includeHidden,N=x[i];if(g[N])return g;var A=Ub(t.data,{graphicalItems:a.filter(function(T){var G,M=i in T.props?T.props[i]:(G=T.type.defaultProps)===null||G===void 0?void 0:G[i];return M===N}),dataStartIndex:c,dataEndIndex:u}),O=A.length,P,U,z;Q9e(x.domain,_,b)&&(P=Pk(x.domain,null,_),m&&(b==="number"||k!=="auto")&&(z=Up(A,y,"category")));var W=JG(b);if(!P||P.length===0){var I,R=(I=x.domain)!==null&&I!==void 0?I:W;if(y){if(P=Up(A,y,b),b==="category"&&m){var F=Dje(P);S&&F?(U=P,P=T1(0,O)):S||(P=NM(R,P,p).reduce(function(T,G){return T.indexOf(G)>=0?T:[].concat(Hh(T),[G])},[]))}else if(b==="category")S?P=P.filter(function(T){return T!==""&&!Et(T)}):P=NM(R,P,p).reduce(function(T,G){return T.indexOf(G)>=0||G===""||Et(G)?T:[].concat(Hh(T),[G])},[]);else if(b==="number"){var D=Y3e(A,a.filter(function(T){var G,M,B=i in T.props?T.props[i]:(G=T.type.defaultProps)===null||G===void 0?void 0:G[i],ee="hide"in T.props?T.props.hide:(M=T.type.defaultProps)===null||M===void 0?void 0:M.hide;return B===N&&(E||!ee)}),y,s,d);D&&(P=D)}m&&(b==="number"||k!=="auto")&&(z=Up(A,y,"category"))}else m?P=T1(0,O):l&&l[N]&&l[N].hasStack&&b==="number"?P=h==="expand"?[0,1]:MH(l[N].stackGroups,c,u):P=AH(A,a.filter(function(T){var G=i in T.props?T.props[i]:T.type.defaultProps[i],M="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return G===N&&(E||!M)}),b,d,!0);if(b==="number")P=pN(f,P,N,s,j),R&&(P=Pk(R,P,_));else if(b==="category"&&R){var V=R,J=P.every(function(T){return V.indexOf(T)>=0});J&&(P=V)}}return je(je({},g),{},ht({},N,je(je({},x),{},{axisType:s,domain:P,categoricalDomain:z,duplicateDomain:U,originalDomain:(v=x.domain)!==null&&v!==void 0?v:W,isCategorical:m,layout:d})))},{})},N7e=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Ub(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=OH(d,s),p=-1;return n.reduce(function(v,x){var b=x.type.defaultProps!==void 0?je(je({},x.type.defaultProps),x.props):x.props,y=b[i],_=JG("number");if(!v[y]){p++;var S;return g?S=T1(0,m):l&&l[y]&&l[y].hasStack?(S=MH(l[y].stackGroups,c,u),S=pN(f,S,y,s)):(S=Pk(_,AH(h,n.filter(function(k){var j,E,N=i in k.props?k.props[i]:(j=k.type.defaultProps)===null||j===void 0?void 0:j[i],A="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===y&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=pN(f,S,y,s)),je(je({},v),{},ht({},y,je(je({axisType:s},a.defaultProps),{},{hide:!0,orientation:Za(b7e,"".concat(s,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},E7e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=es(d,s),m={};return h&&h.length?m=k7e(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=N7e(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},C7e=function(t){var r=Ul(t),n=zo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:VT(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:g1(r,n)}},sF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ua(r,Ih),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},T7e=function(t){return!t||!t.length?!1:t.some(function(r){var n=qo(r&&r.type);return n&&n.indexOf("Bar")>=0})},iF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},A7e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Ua(f,Ih),g=Ua(f,Ou),p=Object.keys(c).reduce(function(S,k){var j=c[k],E=j.orientation;return!j.mirror&&!j.hide?je(je({},S),{},ht({},E,S[E]+j.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(i).reduce(function(S,k){var j=i[k],E=j.orientation;return!j.mirror&&!j.hide?je(je({},S),{},ht({},E,Za(S,"".concat(E))+j.height)):S},{top:h.top||0,bottom:h.bottom||0}),x=je(je({},v),p),b=x.bottom;m&&(x.bottom+=m.props.height||Ih.defaultProps.height),g&&r&&(x=K3e(x,a,n,r));var y=u-x.left-x.right,_=d-x.top-x.bottom;return je(je({brushBottom:b},x),{},{width:Math.max(y,0),height:Math.max(_,0)})},O7e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ZG=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(x,b){var y=b.graphicalItems,_=b.stackGroups,S=b.offset,k=b.updateId,j=b.dataStartIndex,E=b.dataEndIndex,N=x.barSize,A=x.layout,O=x.barGap,P=x.barCategoryGap,U=x.maxBarSize,z=iF(A),W=z.numericAxisName,I=z.cateAxisName,R=T7e(y),F=[];return y.forEach(function(D,V){var J=Ub(x.data,{graphicalItems:[D],dataStartIndex:j,dataEndIndex:E}),T=D.type.defaultProps!==void 0?je(je({},D.type.defaultProps),D.props):D.props,G=T.dataKey,M=T.maxBarSize,B=T["".concat(W,"Id")],ee=T["".concat(I,"Id")],ae={},de=c.reduce(function(Ft,ue){var Re=b["".concat(ue.axisType,"Map")],He=T["".concat(ue.axisType,"Id")];Re&&Re[He]||ue.axisType==="zAxis"||sd();var ze=Re[He];return je(je({},Ft),{},ht(ht({},ue.axisType,ze),"".concat(ue.axisType,"Ticks"),zo(ze)))},ae),re=de[I],H=de["".concat(I,"Ticks")],ce=_&&_[B]&&_[B].hasStack&&aFe(D,_[B].stackGroups),C=qo(D.type).indexOf("Bar")>=0,Ne=g1(re,H),Te=[],Le=R&&H3e({barSize:N,stackGroups:_,totalSize:O7e(de,I)});if(C){var Ie,Ee,ot=Et(M)?U:M,St=(Ie=(Ee=g1(re,H,!0))!==null&&Ee!==void 0?Ee:ot)!==null&&Ie!==void 0?Ie:0;Te=G3e({barGap:O,barCategoryGap:P,bandSize:St!==Ne?St:Ne,sizeList:Le[ee],maxBarSize:ot}),St!==Ne&&(Te=Te.map(function(Ft){return je(je({},Ft),{},{position:je(je({},Ft.position),{},{offset:Ft.position.offset-St/2})})}))}var Pt=D&&D.type&&D.type.getComposedData;Pt&&F.push({props:je(je({},Pt(je(je({},de),{},{displayedData:J,props:x,dataKey:G,item:D,bandSize:Ne,barPosition:Te,offset:S,stackedData:ce,layout:A,dataStartIndex:j,dataEndIndex:E}))),{},ht(ht(ht({key:D.key||"item-".concat(V)},W,de[W]),I,de[I]),"animationId",k)),childIndex:Gje(D,x.children),item:D})}),F},m=function(x,b){var y=x.props,_=x.dataStartIndex,S=x.dataEndIndex,k=x.updateId;if(!yR({props:y}))return null;var j=y.children,E=y.layout,N=y.stackOffset,A=y.data,O=y.reverseStackOrder,P=iF(E),U=P.numericAxisName,z=P.cateAxisName,W=es(j,n),I=rFe(A,W,"".concat(U,"Id"),"".concat(z,"Id"),N,O),R=c.reduce(function(T,G){var M="".concat(G.axisType,"Map");return je(je({},T),{},ht({},M,E7e(y,je(je({},G),{},{graphicalItems:W,stackGroups:G.axisType===U&&I,dataStartIndex:_,dataEndIndex:S}))))},{}),F=A7e(je(je({},R),{},{props:y,graphicalItems:W}),b==null?void 0:b.legendBBox);Object.keys(R).forEach(function(T){R[T]=d(y,R[T],F,T.replace("Map",""),r)});var D=R["".concat(z,"Map")],V=C7e(D),J=h(y,je(je({},R),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:W,stackGroups:I,offset:F}));return je(je({formattedGraphicalItems:J,graphicalItems:W,offset:F,stackGroups:I},V),R)},g=function(v){function x(b){var y,_,S;return u7e(this,x),S=h7e(this,x,[b]),ht(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ht(S,"accessibilityManager",new X9e),ht(S,"handleLegendBBoxUpdate",function(k){if(k){var j=S.state,E=j.dataStartIndex,N=j.dataEndIndex,A=j.updateId;S.setState(je({legendBBox:k},m({props:S.props,dataStartIndex:E,dataEndIndex:N,updateId:A},je(je({},S.state),{},{legendBBox:k}))))}}),ht(S,"handleReceiveSyncEvent",function(k,j,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(j)}}),ht(S,"handleBrushChange",function(k){var j=k.startIndex,E=k.endIndex;if(j!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return je({dataStartIndex:j,dataEndIndex:E},m({props:S.props,dataStartIndex:j,dataEndIndex:E,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:j,dataEndIndex:E})}}),ht(S,"handleMouseEnter",function(k){var j=S.getMouseInfo(k);if(j){var E=je(je({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseEnter;_t(N)&&N(E,k)}}),ht(S,"triggeredAfterMouseMove",function(k){var j=S.getMouseInfo(k),E=j?je(je({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var N=S.props.onMouseMove;_t(N)&&N(E,k)}),ht(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),ht(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ht(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),ht(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};S.setState(j),S.triggerSyncEvent(j);var E=S.props.onMouseLeave;_t(E)&&E(j,k)}),ht(S,"handleOuterEvent",function(k){var j=Hje(k),E=Za(S.props,"".concat(j));if(j&&_t(E)){var N,A;/.*touch.*/i.test(j)?A=S.getMouseInfo(k.changedTouches[0]):A=S.getMouseInfo(k),E((N=A)!==null&&N!==void 0?N:{},k)}}),ht(S,"handleClick",function(k){var j=S.getMouseInfo(k);if(j){var E=je(je({},j),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var N=S.props.onClick;_t(N)&&N(E,k)}}),ht(S,"handleMouseDown",function(k){var j=S.props.onMouseDown;if(_t(j)){var E=S.getMouseInfo(k);j(E,k)}}),ht(S,"handleMouseUp",function(k){var j=S.props.onMouseUp;if(_t(j)){var E=S.getMouseInfo(k);j(E,k)}}),ht(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),ht(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),ht(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),ht(S,"handleDoubleClick",function(k){var j=S.props.onDoubleClick;if(_t(j)){var E=S.getMouseInfo(k);j(E,k)}}),ht(S,"handleContextMenu",function(k){var j=S.props.onContextMenu;if(_t(j)){var E=S.getMouseInfo(k);j(E,k)}}),ht(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&RS.emit(IS,S.props.syncId,k,S.eventEmitterSymbol)}),ht(S,"applySyncEvent",function(k){var j=S.props,E=j.layout,N=j.syncMethod,A=S.state.updateId,O=k.dataStartIndex,P=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(je({dataStartIndex:O,dataEndIndex:P},m({props:S.props,dataStartIndex:O,dataEndIndex:P,updateId:A},S.state)));else if(k.activeTooltipIndex!==void 0){var U=k.chartX,z=k.chartY,W=k.activeTooltipIndex,I=S.state,R=I.offset,F=I.tooltipTicks;if(!R)return;if(typeof N=="function")W=N(F,k);else if(N==="value"){W=-1;for(var D=0;D<F.length;D++)if(F[D].value===k.activeLabel){W=D;break}}var V=je(je({},R),{},{x:R.left,y:R.top}),J=Math.min(U,V.x+V.width),T=Math.min(z,V.y+V.height),G=F[W]&&F[W].value,M=xN(S.state,S.props.data,W),B=F[W]?{x:E==="horizontal"?F[W].coordinate:J,y:E==="horizontal"?T:F[W].coordinate}:QG;S.setState(je(je({},k),{},{activeLabel:G,activeCoordinate:B,activePayload:M,activeTooltipIndex:W}))}else S.setState(k)}),ht(S,"renderCursor",function(k){var j,E=S.state,N=E.isTooltipActive,A=E.activeCoordinate,O=E.activePayload,P=E.offset,U=E.activeTooltipIndex,z=E.tooltipAxisBandSize,W=S.getTooltipEventType(),I=(j=k.props.active)!==null&&j!==void 0?j:N,R=S.props.layout,F=k.key||"_recharts-cursor";return te.createElement(n7e,{key:F,activeCoordinate:A,activePayload:O,activeTooltipIndex:U,chartName:r,element:k,isActive:I,layout:R,offset:P,tooltipAxisBandSize:z,tooltipEventType:W})}),ht(S,"renderPolarAxis",function(k,j,E){var N=Za(k,"type.axisType"),A=Za(S.state,"".concat(N,"Map")),O=k.type.defaultProps,P=O!==void 0?je(je({},O),k.props):k.props,U=A&&A[P["".concat(N,"Id")]];return w.cloneElement(k,je(je({},U),{},{className:Ct(N,U.className),key:k.key||"".concat(j,"-").concat(E),ticks:zo(U,!0)}))}),ht(S,"renderPolarGrid",function(k){var j=k.props,E=j.radialLines,N=j.polarAngles,A=j.polarRadius,O=S.state,P=O.radiusAxisMap,U=O.angleAxisMap,z=Ul(P),W=Ul(U),I=W.cx,R=W.cy,F=W.innerRadius,D=W.outerRadius;return w.cloneElement(k,{polarAngles:Array.isArray(N)?N:zo(W,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(A)?A:zo(z,!0).map(function(V){return V.coordinate}),cx:I,cy:R,innerRadius:F,outerRadius:D,key:k.key||"polar-grid",radialLines:E})}),ht(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,j=S.props,E=j.children,N=j.width,A=j.height,O=S.props.margin||{},P=N-(O.left||0)-(O.right||0),U=CH({children:E,formattedGraphicalItems:k,legendWidth:P,legendContent:u});if(!U)return null;var z=U.item,W=rF(U,a7e);return w.cloneElement(z,je(je({},W),{},{chartWidth:N,chartHeight:A,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ht(S,"renderTooltip",function(){var k,j=S.props,E=j.children,N=j.accessibilityLayer,A=Ua(E,li);if(!A)return null;var O=S.state,P=O.isTooltipActive,U=O.activeCoordinate,z=O.activePayload,W=O.activeLabel,I=O.offset,R=(k=A.props.active)!==null&&k!==void 0?k:P;return w.cloneElement(A,{viewBox:je(je({},I),{},{x:I.left,y:I.top}),active:R,label:W,payload:R?z:[],coordinate:U,accessibilityLayer:N})}),ht(S,"renderBrush",function(k){var j=S.props,E=j.margin,N=j.data,A=S.state,O=A.offset,P=A.dataStartIndex,U=A.dataEndIndex,z=A.updateId;return w.cloneElement(k,{key:k.key||"_recharts-brush",onChange:lx(S.handleBrushChange,k.props.onChange),data:N,x:We(k.props.x)?k.props.x:O.left,y:We(k.props.y)?k.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:We(k.props.width)?k.props.width:O.width,startIndex:P,endIndex:U,updateId:"brush-".concat(z)})}),ht(S,"renderReferenceElement",function(k,j,E){if(!k)return null;var N=S,A=N.clipPathId,O=S.state,P=O.xAxisMap,U=O.yAxisMap,z=O.offset,W=k.type.defaultProps||{},I=k.props,R=I.xAxisId,F=R===void 0?W.xAxisId:R,D=I.yAxisId,V=D===void 0?W.yAxisId:D;return w.cloneElement(k,{key:k.key||"".concat(j,"-").concat(E),xAxis:P[F],yAxis:U[V],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),ht(S,"renderActivePoints",function(k){var j=k.item,E=k.activePoint,N=k.basePoint,A=k.childIndex,O=k.isRange,P=[],U=j.props.key,z=j.item.type.defaultProps!==void 0?je(je({},j.item.type.defaultProps),j.item.props):j.item.props,W=z.activeDot,I=z.dataKey,R=je(je({index:A,dataKey:I,cx:E.x,cy:E.y,r:4,fill:gA(j.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ct(W,!1)),zy(W));return P.push(x.renderActiveDot(W,R,"".concat(U,"-activePoint-").concat(A))),N?P.push(x.renderActiveDot(W,je(je({},R),{},{cx:N.x,cy:N.y}),"".concat(U,"-basePoint-").concat(A))):O&&P.push(null),P}),ht(S,"renderGraphicChild",function(k,j,E){var N=S.filterFormatItem(k,j,E);if(!N)return null;var A=S.getTooltipEventType(),O=S.state,P=O.isTooltipActive,U=O.tooltipAxis,z=O.activeTooltipIndex,W=O.activeLabel,I=S.props.children,R=Ua(I,li),F=N.props,D=F.points,V=F.isRange,J=F.baseLine,T=N.item.type.defaultProps!==void 0?je(je({},N.item.type.defaultProps),N.item.props):N.item.props,G=T.activeDot,M=T.hide,B=T.activeBar,ee=T.activeShape,ae=!!(!M&&P&&R&&(G||B||ee)),de={};A!=="axis"&&R&&R.props.trigger==="click"?de={onClick:lx(S.handleItemMouseEnter,k.props.onClick)}:A!=="axis"&&(de={onMouseLeave:lx(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:lx(S.handleItemMouseEnter,k.props.onMouseEnter)});var re=w.cloneElement(k,je(je({},N.props),de));function H(ue){return typeof U.dataKey=="function"?U.dataKey(ue.payload):null}if(ae)if(z>=0){var ce,C;if(U.dataKey&&!U.allowDuplicatedCategory){var Ne=typeof U.dataKey=="function"?H:"payload.".concat(U.dataKey.toString());ce=Wy(D,Ne,W),C=V&&J&&Wy(J,Ne,W)}else ce=D==null?void 0:D[z],C=V&&J&&J[z];if(ee||B){var Te=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[w.cloneElement(k,je(je(je({},N.props),de),{},{activeIndex:Te})),null,null]}if(!Et(ce))return[re].concat(Hh(S.renderActivePoints({item:N,activePoint:ce,basePoint:C,childIndex:z,isRange:V})))}else{var Le,Ie=(Le=S.getItemByXY(S.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:re},Ee=Ie.graphicalItem,ot=Ee.item,St=ot===void 0?k:ot,Pt=Ee.childIndex,Ft=je(je(je({},N.props),de),{},{activeIndex:Pt});return[w.cloneElement(St,Ft),null,null]}return V?[re,null,null]:[re,null]}),ht(S,"renderCustomized",function(k,j,E){return w.cloneElement(k,je(je({key:"recharts-customized-".concat(E)},S.props),S.state))}),ht(S,"renderMap",{CartesianGrid:{handler:hx,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:hx},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:hx},YAxis:{handler:hx},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:gm("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=NV(S.triggeredAfterMouseMove,(_=b.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return g7e(x,v),f7e(x,[{key:"componentDidMount",value:function(){var y,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,_=y.children,S=y.data,k=y.height,j=y.layout,E=Ua(_,li);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,O=xN(this.state,S,N,A),P=this.state.tooltipTicks[N].coordinate,U=(this.state.offset.top+k)/2,z=j==="horizontal",W=z?{x:P,y:U}:{y:P,x:U},I=this.state.formattedGraphicalItems.find(function(F){var D=F.item;return D.type.name==="Scatter"});I&&(W=je(je({},W),I.props.points[N].tooltipPosition),O=I.props.points[N].tooltipPayload);var R={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:A,activePayload:O,activeCoordinate:W};this.setState(R),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(y){K2([Ua(y.children,li)],[Ua(this.props.children,li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Ua(this.props.children,li);if(y&&typeof y.props.shared=="boolean"){var _=y.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=xDe(S),j={chartX:Math.round(y.pageX-k.left),chartY:Math.round(y.pageY-k.top)},E=S.width/_.offsetWidth||1,N=this.inRange(j.chartX,j.chartY,E);if(!N)return null;var A=this.state,O=A.xAxisMap,P=A.yAxisMap,U=this.getTooltipEventType(),z=aF(this.state,this.props.data,this.props.layout,N);if(U!=="axis"&&O&&P){var W=Ul(O).scale,I=Ul(P).scale,R=W&&W.invert?W.invert(j.chartX):null,F=I&&I.invert?I.invert(j.chartY):null;return je(je({},j),{},{xValue:R,yValue:F},z)}return z?je(je({},j),z):null}},{key:"inRange",value:function(y,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,j=y/S,E=_/S;if(k==="horizontal"||k==="vertical"){var N=this.state.offset,A=j>=N.left&&j<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return A?{x:j,y:E}:null}var O=this.state,P=O.angleAxisMap,U=O.radiusAxisMap;if(P&&U){var z=Ul(P);return TM({x:j,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,_=this.getTooltipEventType(),S=Ua(y,li),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=zy(this.props,this.handleOuterEvent);return je(je({},j),k)}},{key:"addListener",value:function(){RS.on(IS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RS.removeListener(IS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,_,S){for(var k=this.state.formattedGraphicalItems,j=0,E=k.length;j<E;j++){var N=k[j];if(N.item===y||N.props.key===y.key||_===qo(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,j=_.height,E=_.width;return te.createElement("defs",null,te.createElement("clipPath",{id:y},te.createElement("rect",{x:S,y:k,height:j,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(_,S){var k=tF(S,2),j=k[0],E=k[1];return je(je({},_),{},ht({},j,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(_,S){var k=tF(S,2),j=k[0],E=k[1];return je(je({},_),{},ht({},j,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(y){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[y])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(y){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var j=0,E=S.length;j<E;j++){var N=S[j],A=N.props,O=N.item,P=O.type.defaultProps!==void 0?je(je({},O.type.defaultProps),O.props):O.props,U=qo(O.type);if(U==="Bar"){var z=(A.data||[]).find(function(F){return e5e(y,F)});if(z)return{graphicalItem:N,payload:z}}else if(U==="RadialBar"){var W=(A.data||[]).find(function(F){return TM(y,F)});if(W)return{graphicalItem:N,payload:W}}else if(Pb(N,k)||Db(N,k)||ig(N,k)){var I=W8e({graphicalItem:N,activeTooltipItem:k,itemData:P.data}),R=P.activeIndex===void 0?I:P.activeIndex;return{graphicalItem:je(je({},N),{},{childIndex:R}),payload:ig(N,k)?P.data[I]:N.props.data[I]}}}return null}},{key:"render",value:function(){var y=this;if(!yR(this))return null;var _=this.props,S=_.children,k=_.className,j=_.width,E=_.height,N=_.style,A=_.compact,O=_.title,P=_.desc,U=rF(_,s7e),z=ct(U,!1);if(A)return te.createElement(F3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(Y2,vf({},z,{width:j,height:E,title:O,desc:P}),this.renderClipPath(),bR(S,this.renderMap)));if(this.props.accessibilityLayer){var W,I;z.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,z.role=(I=this.props.role)!==null&&I!==void 0?I:"application",z.onKeyDown=function(F){y.accessibilityManager.keyboardEvent(F)},z.onFocus=function(){y.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return te.createElement(F3,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",vf({className:Ct("recharts-wrapper",k),style:je({position:"relative",cursor:"default",width:j,height:E},N)},R,{ref:function(D){y.container=D}}),te.createElement(Y2,vf({},z,{width:j,height:E,title:O,desc:P,style:_7e}),this.renderClipPath(),bR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);ht(g,"displayName",r),ht(g,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ht(g,"getDerivedStateFromProps",function(v,x){var b=v.dataKey,y=v.data,_=v.children,S=v.width,k=v.height,j=v.layout,E=v.stackOffset,N=v.margin,A=x.dataStartIndex,O=x.dataEndIndex;if(x.updateId===void 0){var P=sF(v);return je(je(je({},P),{},{updateId:0},m(je(je({props:v},P),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:y,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(b!==x.prevDataKey||y!==x.prevData||S!==x.prevWidth||k!==x.prevHeight||j!==x.prevLayout||E!==x.prevStackOffset||!Rf(N,x.prevMargin)){var U=sF(v),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},W=je(je({},aF(x,y,j)),{},{updateId:x.updateId+1}),I=je(je(je({},U),z),W);return je(je(je({},I),m(je({props:v},I),x)),{},{prevDataKey:b,prevData:y,prevWidth:S,prevHeight:k,prevLayout:j,prevStackOffset:E,prevMargin:N,prevChildren:_})}if(!K2(_,x.prevChildren)){var R,F,D,V,J=Ua(_,Ih),T=J&&(R=(F=J.props)===null||F===void 0?void 0:F.startIndex)!==null&&R!==void 0?R:A,G=J&&(D=(V=J.props)===null||V===void 0?void 0:V.endIndex)!==null&&D!==void 0?D:O,M=T!==A||G!==O,B=!Et(y),ee=B&&!M?x.updateId:x.updateId+1;return je(je({updateId:ee},m(je(je({props:v},x),{},{updateId:ee,dataStartIndex:T,dataEndIndex:G}),x)),{},{prevChildren:_,dataStartIndex:T,dataEndIndex:G})}return null}),ht(g,"renderActiveDot",function(v,x,b){var y;return w.isValidElement(v)?y=w.cloneElement(v,x):_t(v)?y=v(x):y=te.createElement(Eb,x),te.createElement(Gt,{className:"recharts-active-dot",key:b},y)});var p=w.forwardRef(function(x,b){return te.createElement(g,vf({},x,{ref:b}))});return p.displayName=g.displayName,p},P7e=ZG({chartName:"LineChart",GraphicalChild:iv,axisComponents:[{axisType:"xAxis",AxisComp:$b},{axisType:"yAxis",AxisComp:Bb}],formatAxisMap:wBe}),zd=ZG({chartName:"PieChart",GraphicalChild:ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ob},{axisType:"radiusAxis",AxisComp:Tb}],formatAxisMap:mFe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const D7e={light:"",dark:".dark"},eK=w.createContext(null);function tK(){const e=w.useContext(eK);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const eu=w.forwardRef(({id:e,className:t,children:r,config:n,...a},s)=>{const i=w.useId(),l=`chart-${e||i.replace(/:/g,"")}`;return o.jsx(eK.Provider,{value:{config:n},children:o.jsxs("div",{"data-chart":l,ref:s,className:xe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[o.jsx(R7e,{id:l,config:n}),o.jsx(EV,{children:r})]})})});eu.displayName="Chart";const R7e=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?o.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(D7e).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([s,i])=>{var c;const l=((c=i.theme)==null?void 0:c[n])||i.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Vd=li,tu=w.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:s=!1,label:i,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:h},m)=>{const{config:g}=tK(),p=w.useMemo(()=>{var S;if(a||!(t!=null&&t.length))return null;const[x]=t,b=`${h||x.dataKey||x.name||"value"}`,y=yN(g,x,b),_=!h&&typeof i=="string"?((S=g[i])==null?void 0:S.label)||i:y==null?void 0:y.label;return l?o.jsx("div",{className:xe("font-medium",c),children:l(_,t)}):_?o.jsx("div",{className:xe("font-medium",c),children:_}):null},[i,l,t,a,c,g,h]);if(!e||!(t!=null&&t.length))return null;const v=t.length===1&&n!=="dot";return o.jsxs("div",{ref:m,className:xe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:p,o.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const y=`${f||x.name||x.dataKey||"value"}`,_=yN(g,x,y),S=d||x.payload.fill||x.color;return o.jsx("div",{className:xe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):o.jsxs(o.Fragment,{children:[_!=null&&_.icon?o.jsx(_.icon,{}):!s&&o.jsx("div",{className:xe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),o.jsxs("div",{className:xe("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[o.jsxs("div",{className:"grid gap-1.5",children:[v?p:null,o.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&o.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});tu.displayName="ChartTooltip";const I7e=w.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},s)=>{const{config:i}=tK();return r!=null&&r.length?o.jsx("div",{ref:s,className:xe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=yN(i,l,c);return o.jsxs("div",{className:xe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?o.jsx(u.icon,{}):o.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});I7e.displayName="ChartLegend";function yN(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}function M7e(){var CA,TA;const{t:e}=Ut(),{user:t}=xr(),{currentLanguage:r}=pl(),{toast:n}=HC();$s();const{setBreadcrumbs:a}=RE();ss();const[s,i]=w.useState([]),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState([]),[m,g]=w.useState([]),[p,v]=w.useState([]),[x,b]=w.useState([]),[y,_]=w.useState([]),[S,k]=w.useState([]),[j,E]=w.useState([]),[N,A]=w.useState(!0),[O,P]=w.useState(null),[U,z]=w.useState(""),[W,I]=w.useState(1),[R]=w.useState(9);w.useState(0);const[F,D]=w.useState(""),[V,J]=w.useState(""),[T,G]=w.useState(""),[M,B]=w.useState(""),[ee,ae]=w.useState(""),[de,re]=w.useState(null),[H,ce]=w.useState(null),[C,Ne]=w.useState(!1),[Te,Le]=w.useState(!1),[Ie,Ee]=w.useState({city_name_en:"",city_name_ar:"",country_id:null}),[ot,St]=w.useState(!1),[Pt,Ft]=w.useState({system_name_en:"",system_name_ar:""}),[ue,Re]=w.useState(!1),[He,ze]=w.useState({activity_name_en:"",activity_name_ar:""}),[ft,be]=w.useState([]),[_e,le]=w.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[Se,$e]=w.useState(!1),[De,qe]=w.useState(null),[at,Ur]=w.useState(null),[xn,Vs]=w.useState(!1),[bl,Bc]=w.useState([]),[vo,jm]=w.useState(!1),[xo,ne]=w.useState("list"),[pe,ke]=w.useState(!1),[Ae,gt]=w.useState(!1),[Xe,Rt]=w.useState(!1),[yr,va]=w.useState(!1),[is,Pi]=w.useState(!1),[Sd,jd]=w.useState(!1),[L,X]=w.useState(!1),[K,Y]=w.useState(!1),[Q,Z]=w.useState(null),[oe,ye]=w.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});w.useEffect(()=>{a([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[a,e]),w.useEffect(()=>{he()},[]);const he=async()=>{try{A(!0),P(null);const[q,me,Me,Dt,xa,Nm,Em,Cm,Tm,kd]=await Promise.all([we.from("m_leads").select("*"),we.from("m_city").select("*"),we.from("m_activity").select("*"),we.from("m_status").select("*"),we.from("m_system").select("*"),we.from("stages").select("*").eq("stage_type","leads").order("stager_order_index",{ascending:!0}),we.from("m_contacts").select("*"),we.from("users").select("*"),we.from("m_country").select("*"),we.from("m_jobtitle").select("*")]);if(q.error)throw q.error;if(me.error)throw me.error;if(Me.error)throw Me.error;if(Dt.error)throw Dt.error;if(xa.error)throw xa.error;if(Nm.error)throw Nm.error;if(Em.error)throw Em.error;if(Cm.error)throw Cm.error;if(Tm.error)throw Tm.error;if(kd.error)throw kd.error;i(q.data||[]),c(me.data||[]),d(Me.data||[]),h(Dt.data||[]),g(xa.data||[]),v(Nm.data||[]),b(Em.data||[]),_(Cm.data||[]),k(Tm.data||[]),E(kd.data||[])}catch(q){const me=q instanceof Error?q.message:"Failed to load data";P(me),n({title:"Error",description:me,variant:"destructive"})}finally{A(!1)}},fe=w.useMemo(()=>s.filter(q=>{var kd,AA,OA,PA,DA,RA;const me=U.toLowerCase(),Me=(kd=q.company_name)==null?void 0:kd.toLowerCase().includes(me),Dt=(AA=q.address)==null?void 0:AA.toLowerCase().includes(me),xa=!F||((OA=q.city_id)==null?void 0:OA.toString())===F,Nm=!T||((PA=q.system_id)==null?void 0:PA.toString())===T,Em=!M||((DA=q.status_id)==null?void 0:DA.toString())===M,Cm=!ee||((RA=q.activity_id)==null?void 0:RA.toString())===ee,Tm=!V||(()=>{var IA;const Wb=l.find(fK=>fK.city_id===q.city_id);return((IA=Wb==null?void 0:Wb.country_id)==null?void 0:IA.toString())===V})();return(Me||Dt)&&xa&&Nm&&Em&&Cm&&Tm}),[s,U,F,V,T,M,ee,l]),ve=w.useMemo(()=>{const q=(W-1)*R,me=q+R;return fe.slice(q,me)},[fe,W,R]),Pe=Math.ceil(fe.length/R);w.useEffect(()=>{W>Pe&&Pe>0&&I(Pe)},[W,Pe]);const Oe=(q,me,Me)=>r==="ar"&&(q==null?void 0:q[Me])||(q==null?void 0:q[me]),Ye=q=>{if(!q)return"-";const me=l.find(Me=>Me.city_id===q);return Oe(me,"city_name_en","city_name_ar")},Be=q=>{if(!q)return"-";const me=u.find(Me=>Me.activity_id===q);return Oe(me,"activity_name_en","activity_name_ar")},Ge=q=>{if(!q)return"-";const me=f.find(Me=>Me.status_id===q);return Oe(me,"status_name_en","status_name_ar")},bt=q=>{if(!q)return"-";const me=m.find(Me=>Me.system_id===q);return Oe(me,"system_name_en","system_name_ar")},nr=q=>{if(!q)return"-";const me=p.find(Me=>Me.stage_id===q);return(me==null?void 0:me.stage_name)||"-"},tr=q=>{if(!q)return"-";const me=y.find(Me=>Me.auth_user_id===q);return(me==null?void 0:me.user_name)||"-"},cn=async()=>{try{let q;if(H){const{error:me}=await we.from("m_leads").update(oe).eq("leads_id",H);if(me)throw me;q=H,n({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")})}else{const me={...oe,created_by:t==null?void 0:t.id},{data:Me,error:Dt}=await we.from("m_leads").insert([me]).select();if(Dt)throw Dt;if(Me&&Me.length>0)q=Me[0].leads_id;else throw new Error("Failed to create lead");n({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}H?(await we.from("m_contacts").delete().eq("leads_id",H),ft.length>0&&await EA(q)):ft.length>0&&await EA(q),Ne(!1),ce(null),ye({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),be([]),await he()}catch(q){const me=q instanceof Error?q.message:"Failed to save";n({title:"Error",description:me,variant:"destructive"})}},Uc=async q=>{try{const{error:me}=await we.from("m_leads").delete().eq("leads_id",q);if(me)throw me;n({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),re(null),await he()}catch(me){const Me=me instanceof Error?me.message:"Failed to delete";n({title:"Error",description:Me,variant:"destructive"})}},_l=q=>{Ur(q),Sl(q.leads_id),Vs(!0)},Sl=async q=>{try{const me=await Cp.getByRelated("mlead",q);Bc(me)}catch(me){console.error("Failed to load notes:",me),Bc([])}},Di=q=>{ce(q.leads_id),ye(q);const me=x.filter(Me=>Me.leads_id===q.leads_id);be(me.map(Me=>{var Dt;return{contact_name:Me.contact_name||"",contact_email:Me.contact_email||"",contact_mobile:((Dt=Me.contact_mobile)==null?void 0:Dt.toString())||"",jobtitle_id:Me.jobtitle_id}})),Ne(!0)},km=async q=>{try{const{error:me}=await we.from("m_leads").delete().in("leads_id",q);if(me)throw me;n({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await he()}catch(me){const Me=me instanceof Error?me.message:"Failed to delete";n({title:"Error",description:Me,variant:"destructive"})}},Hs=async()=>{try{if(!Ie.city_name_en&&!Ie.city_name_ar){n({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const{data:q,error:me}=await we.from("m_city").insert([Ie]).select();if(me)throw me;if(q&&q.length>0){const Me=q[0];c([...l,Me]),ye({...oe,city_id:Me.city_id}),Le(!1),Ee({city_name_en:"",city_name_ar:"",country_id:null}),n({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")})}}catch(q){const me=q instanceof Error?q.message:"Failed to create city";n({title:"Error",description:me,variant:"destructive"})}},rK=async()=>{try{if(!Pt.system_name_en&&!Pt.system_name_ar){n({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const{data:q,error:me}=await we.from("m_system").insert([Pt]).select();if(me)throw me;if(q&&q.length>0){const Me=q[0];g([...m,Me]),ye({...oe,system_id:Me.system_id}),St(!1),Ft({system_name_en:"",system_name_ar:""}),n({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")})}}catch(q){const me=q instanceof Error?q.message:"Failed to create system";n({title:"Error",description:me,variant:"destructive"})}},nK=async()=>{try{if(!He.activity_name_en&&!He.activity_name_ar){n({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const{data:q,error:me}=await we.from("m_activity").insert([He]).select();if(me)throw me;if(q&&q.length>0){const Me=q[0];d([...u,Me]),ye({...oe,activity_id:Me.activity_id}),Re(!1),ze({activity_name_en:"",activity_name_ar:""}),n({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")})}}catch(q){const me=q instanceof Error?q.message:"Failed to create activity";n({title:"Error",description:me,variant:"destructive"})}},aK=()=>{if(!_e.contact_name.trim()){n({title:"Error",description:"Please enter contact name",variant:"destructive"});return}be([...ft,{..._e}]),le({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),$e(!1)},sK=q=>{be(ft.filter((me,Me)=>Me!==q))},EA=async q=>{try{const me=ft.map(Me=>({...Me,leads_id:q,contact_mobile:Me.contact_mobile?parseInt(Me.contact_mobile):null}));if(me.length>0){const{error:Me}=await we.from("m_contacts").insert(me);if(Me)throw Me}}catch(me){const Me=me instanceof Error?me.message:"Failed to save contacts";n({title:"Error",description:Me,variant:"destructive"})}},iK=q=>{Z(q)},oK=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},lK=async q=>{if(!Q)return;const me=s.find(Me=>Me.leads_id===Q);if(me&&me.stage_id!==q)try{const{error:Me}=await we.from("m_leads").update({stage_id:q}).eq("leads_id",Q);if(Me)throw Me;n({title:e("common.success"),description:"Lead stage updated successfully"}),await he()}catch(Me){console.error("Failed to update lead stage:",Me),n({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Z(null)};if(N)return o.jsx(Wg,{});if(O)return o.jsx($w,{message:O,onRetry:he});const cK=[{label:e("common.delete"),icon:o.jsx(br,{}),onClick:q=>{window.confirm(`Delete ${q.length} leads?`)&&km(q.map(me=>me.leads_id))},variant:"destructive"}],uK=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:q=>o.jsx(vh,{title:q.company_name||"-",subtitle:q.address||"",icon:o.jsx(Sa,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:q=>o.jsx("span",{className:"text-sm text-foreground",children:Ye(q.city_id)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:q=>o.jsx(lt,{variant:"outline",className:"text-xs",children:Be(q.activity_id)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:q=>{const me=Ge(q.status_id),Me=q.status_id===1?"default":q.status_id===2?"secondary":"outline";return o.jsx(lt,{variant:Me,className:"text-xs",children:me})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:q=>o.jsx(lt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:nr(q.stage_id)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:q=>o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:bt(q.system_id)})},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:q=>o.jsx(gh,{date:q.created_at})}],dK=[{icon:o.jsx(rl,{}),label:e("common.edit"),onClick:q=>Di(q)},{icon:o.jsx(br,{}),label:e("common.delete"),onClick:q=>re(q.leads_id),variant:"destructive"}];return o.jsxs("div",{className:`space-y-4 ${Zi()?"rtl":"ltr"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ug,{title:e("mleads.masterLeads"),description:e("mleads.manageMasterLeadsData"),icon:o.jsx(Sa,{className:"h-6 w-6"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>ne(xo==="list"?"kanban":"list"),className:"flex items-center gap-2",children:[xo==="list"?o.jsx(mi,{className:"h-4 w-4"}):o.jsx(Sa,{className:"h-4 w-4"}),xo==="list"?"Kanban View":"List View"]}),o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>jm(!vo),className:"flex items-center gap-2",children:[o.jsx(mi,{className:"h-4 w-4"}),e("mleads.showChart"),o.jsx($E,{className:`h-4 w-4 transition-transform ${vo?"rotate-180":""}`})]}),o.jsxs(ch,{open:C,onOpenChange:Ne,children:[o.jsx(kU,{asChild:!0,children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{ce(null),ye({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),be([]),qe(null),Le(!1),St(!1),Re(!1),Ee({city_name_en:"",city_name_ar:"",country_id:null}),Ft({system_name_en:"",system_name_ar:""}),ze({activity_name_en:"",activity_name_ar:""})},children:[o.jsx(ar,{className:"w-4 h-4 mr-2"}),e("common.add")]})}),o.jsxs(Ku,{className:"w-full sm:max-w-[540px]",children:[o.jsx(b0,{children:o.jsx(uh,{children:e(H?"mleads.editLead":"mleads.createNewLead")})}),o.jsxs("div",{className:"mt-6 space-y-4 px-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),o.jsx(Qe,{value:oe.company_name||"",onChange:q=>ye({...oe,company_name:q.target.value}),placeholder:e("mleads.companyName")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),o.jsx(zn,{value:oe.address||"",onChange:q=>ye({...oe,address:q.target.value}),placeholder:e("mleads.address")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>$e(!Se),className:"h-6 px-2 text-xs",children:e(Se?"mleads.cancel":"mleads.addContact")})]}),o.jsxs(mt,{value:(De==null?void 0:De.toString())||"",onValueChange:q=>{var Dt;const me=parseInt(q),Me=x.find(xa=>xa.contact_id===me);Me&&!ft.some(xa=>xa.contact_name===Me.contact_name)&&(be([...ft,{contact_name:Me.contact_name||"",contact_email:Me.contact_email||"",contact_mobile:((Dt=Me.contact_mobile)==null?void 0:Dt.toString())||"",jobtitle_id:Me.jobtitle_id}]),qe(null))},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.selectContact")})}),o.jsx(dt,{children:x.length===0?o.jsx("div",{className:"p-2 text-sm text-muted-foreground",children:"No contacts available"}):x.map(q=>o.jsx(Ce,{value:q.contact_id.toString(),children:q.contact_name},q.contact_id))})]}),ft.length>0&&o.jsx("div",{className:"space-y-2 mb-3",children:ft.map((q,me)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("div",{className:"font-medium",children:q.contact_name}),o.jsxs("div",{className:"text-muted-foreground",children:[q.contact_email&&`${q.contact_email}  `,q.contact_mobile&&`${q.contact_mobile}`]})]}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>sK(me),className:"h-6 w-6 p-0",children:o.jsx(nl,{className:"h-3 w-3"})})]},me))}),Se&&o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Qe,{placeholder:e("mleads.contactName"),value:_e.contact_name,onChange:q=>le({..._e,contact_name:q.target.value})}),o.jsx(Qe,{placeholder:e("mleads.email"),type:"email",value:_e.contact_email,onChange:q=>le({..._e,contact_email:q.target.value})}),o.jsx(Qe,{placeholder:e("mleads.mobile"),value:_e.contact_mobile,onChange:q=>le({..._e,contact_mobile:q.target.value})}),o.jsxs(So,{open:L,onOpenChange:X,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":L,className:"w-full justify-between",children:[_e.jobtitle_id?(CA=j.find(q=>q.jobtitle_id===_e.jobtitle_id))==null?void 0:CA.jobtitle_name_en:e("mleads.selectJobTitle"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchJobTitle")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:j.map(q=>o.jsx(Ao,{value:Oe(q,"jobtitle_name_en","jobtitle_name_ar"),onSelect:()=>{le({..._e,jobtitle_id:q.jobtitle_id}),X(!1)},children:Oe(q,"jobtitle_name_en","jobtitle_name_ar")},q.jobtitle_id))})]})]})})]}),o.jsx(ie,{type:"button",onClick:aK,className:"w-full",children:e("mleads.addContactTitle")})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>Le(!Te),className:"h-6 px-2 text-xs",children:e(Te?"mleads.cancel":"mleads.addNew")})]}),Te?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Qe,{placeholder:e("mleads.cityNameEn"),value:Ie.city_name_en,onChange:q=>Ee({...Ie,city_name_en:q.target.value})}),o.jsx(Qe,{placeholder:e("mleads.cityNameAr"),value:Ie.city_name_ar,onChange:q=>Ee({...Ie,city_name_ar:q.target.value})}),o.jsxs(So,{open:K,onOpenChange:Y,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":K,className:"w-full justify-between",children:[Ie.country_id?(TA=S.find(q=>q.country_id===Ie.country_id))==null?void 0:TA.country_name_en:e("mleads.selectCountry"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchCountry")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:S.map(q=>o.jsx(Ao,{value:Oe(q,"country_name_en","country_name_ar"),onSelect:()=>{Ee({...Ie,country_id:q.country_id}),Y(!1)},children:Oe(q,"country_name_en","country_name_ar")},q.country_id))})]})]})})]}),o.jsx(ie,{type:"button",onClick:Hs,className:"w-full",children:e("mleads.createCity")})]}):o.jsxs(So,{open:pe,onOpenChange:ke,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":pe,className:"w-full justify-between",children:[oe.city_id?Ye(oe.city_id):e("mleads.city"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchCity")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:l.map(q=>o.jsx(Ao,{value:Oe(q,"city_name_en","city_name_ar"),onSelect:()=>{ye({...oe,city_id:q.city_id}),ke(!1)},children:Oe(q,"city_name_en","city_name_ar")},q.city_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>Re(!ue),className:"h-6 px-2 text-xs",children:e(ue?"mleads.cancel":"mleads.addNew")})]}),ue?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Qe,{placeholder:e("mleads.activityNameEn"),value:He.activity_name_en,onChange:q=>ze({...He,activity_name_en:q.target.value})}),o.jsx(Qe,{placeholder:e("mleads.activityNameAr"),value:He.activity_name_ar,onChange:q=>ze({...He,activity_name_ar:q.target.value})}),o.jsx(ie,{type:"button",onClick:nK,className:"w-full",children:e("mleads.createActivity")})]}):o.jsxs(So,{open:Ae,onOpenChange:gt,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":Ae,className:"w-full justify-between",children:[oe.activity_id?Be(oe.activity_id):e("mleads.selectActivity"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchActivity")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:u.map(q=>o.jsx(Ao,{value:Oe(q,"activity_name_en","activity_name_ar"),onSelect:()=>{ye({...oe,activity_id:q.activity_id}),gt(!1)},children:Oe(q,"activity_name_en","activity_name_ar")},q.activity_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),o.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>St(!ot),className:"h-6 px-2 text-xs",children:e(ot?"mleads.cancel":"mleads.addNew")})]}),ot?o.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[o.jsx(Qe,{placeholder:e("mleads.systemNameEn"),value:Pt.system_name_en,onChange:q=>Ft({...Pt,system_name_en:q.target.value})}),o.jsx(Qe,{placeholder:e("mleads.systemNameAr"),value:Pt.system_name_ar,onChange:q=>Ft({...Pt,system_name_ar:q.target.value})}),o.jsx(ie,{type:"button",onClick:rK,className:"w-full",children:e("mleads.createSystem")})]}):o.jsxs(So,{open:Xe,onOpenChange:Rt,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":Xe,className:"w-full justify-between",children:[oe.system_id?bt(oe.system_id):e("mleads.selectSystem"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchSystem")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:m.map(q=>o.jsx(Ao,{value:Oe(q,"system_name_en","system_name_ar"),onSelect:()=>{ye({...oe,system_id:q.system_id}),Rt(!1)},children:Oe(q,"system_name_en","system_name_ar")},q.system_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),o.jsxs(So,{open:yr,onOpenChange:va,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":yr,className:"w-full justify-between",children:[oe.status_id?Ge(oe.status_id):e("mleads.selectStatus"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchStatus")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:f.map(q=>o.jsx(Ao,{value:Oe(q,"status_name_en","status_name_ar"),onSelect:()=>{ye({...oe,status_id:q.status_id}),va(!1)},children:Oe(q,"status_name_en","status_name_ar")},q.status_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),o.jsxs(So,{open:is,onOpenChange:Pi,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":is,className:"w-full justify-between",children:[oe.stage_id?nr(oe.stage_id):e("mleads.selectStage"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchStage")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:p.map(q=>o.jsx(Ao,{value:q.stage_name,onSelect:()=>{ye({...oe,stage_id:q.stage_id}),Pi(!1)},children:q.stage_name},q.stage_id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),o.jsxs(So,{open:Sd,onOpenChange:jd,children:[o.jsx(jo,{asChild:!0,children:o.jsxs(ie,{variant:"outline",role:"combobox","aria-expanded":Sd,className:"w-full justify-between",children:[oe.assigned_to?tr(oe.assigned_to):e("mleads.selectUser"),o.jsx(Cl,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Li,{className:"w-full p-0",children:o.jsxs(ko,{children:[o.jsx(No,{placeholder:e("mleads.searchUser")}),o.jsxs(Eo,{children:[o.jsx(Co,{children:e("common.noResults")}),o.jsx(To,{children:y.map(q=>o.jsx(Ao,{value:q.user_name,onSelect:()=>{ye({...oe,assigned_to:q.auth_user_id}),jd(!1)},children:q.user_name},q.user_id))})]})]})})]})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[o.jsx(ie,{variant:"outline",onClick:()=>Ne(!1),children:e("common.cancel")}),o.jsx(ie,{onClick:cn,children:e("common.save")})]})]})]})]})]}),vo&&o.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),o.jsxs(Xu,{defaultValue:"pie",className:"w-full",children:[o.jsxs(_c,{className:"grid w-full grid-cols-2",children:[o.jsx($n,{value:"pie",children:"Distribution Charts"}),o.jsx($n,{value:"timeline",children:"Timeline"})]}),o.jsx(Bn,{value:"pie",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=f.map(me=>({name:Oe(me,"status_name_en","status_name_ar"),value:fe.filter(Me=>Me.status_id===me.status_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Stage"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=p.map(me=>({name:me.stage_name,value:fe.filter(Me=>Me.stage_id===me.stage_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=m.map(me=>({name:Oe(me,"system_name_en","system_name_ar"),value:fe.filter(Me=>Me.system_id===me.system_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=u.map(me=>({name:Oe(me,"activity_name_en","activity_name_ar"),value:fe.filter(Me=>Me.activity_id===me.activity_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=l.map(me=>({name:Oe(me,"city_name_en","city_name_ar"),value:fe.filter(Me=>Me.city_id===me.city_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),o.jsx(eu,{config:{},className:"h-[350px]",children:o.jsxs(zd,{children:[o.jsx(ja,{data:(()=>{const q=y.map(me=>({name:me.user_name,value:fe.filter(Me=>Me.assigned_to===me.auth_user_id).length})).filter(me=>me.value>0);return q.length>0?q:[{name:"Unassigned",value:fe.filter(me=>!me.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:q,value:me})=>`${q}: ${me}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((q,me)=>o.jsx(Io,{fill:q},`cell-${me}`))}),o.jsx(Vd,{content:o.jsx(tu,{})})]})})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),o.jsx("div",{className:"text-5xl font-bold text-primary",children:fe.length}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),o.jsx(Bn,{value:"timeline",className:"mt-4",children:o.jsx("div",{className:"w-full h-[400px]",children:o.jsx(EV,{width:"100%",height:"100%",children:o.jsxs(P7e,{data:(()=>{const q=new Map;return fe.forEach(Me=>{const Dt=new Date(Me.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});q.set(Dt,(q.get(Dt)||0)+1)}),Array.from(q.entries()).sort((Me,Dt)=>new Date(Me[0]).getTime()-new Date(Dt[0]).getTime()).map(([Me,Dt])=>({date:Me,count:Dt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[o.jsx(MG,{strokeDasharray:"3 3"}),o.jsx($b,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),o.jsx(Bb,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),o.jsx(li,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:q=>[`${q} leads`,"Total"]}),o.jsx(Ou,{}),o.jsx(iv,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]}),o.jsx(rt,{children:o.jsx(it,{children:xo==="kanban"?o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4",children:p.map((q,me)=>{const Me=fe.filter(Dt=>Dt.stage_id===q.stage_id);return o.jsxs("div",{className:"flex-shrink-0 w-[300px] animate-fade-in",style:{animationDelay:`${me*.1}s`},onDragOver:oK,onDrop:()=>lK(q.stage_id),children:[o.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50",children:o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"font-bold text-base",children:q.stage_name}),o.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Me.length})]})}),o.jsx("div",{className:"space-y-4 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:Me.map(Dt=>o.jsxs(rt,{className:xe("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500 w-[300px] h-[180px]",Q===Dt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>_l(Dt),draggable:!0,onDragStart:xa=>{xa.dataTransfer.effectAllowed="move",xa.dataTransfer.setData("text/plain",Dt.leads_id.toString()),iK(Dt.leads_id)},children:[o.jsx(It,{className:"pb-2 px-4 pt-3",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:Dt.company_name||"No Company"}),Dt.address&&o.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:Dt.address})]})})}),o.jsxs(it,{className:"px-4 pb-3 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(vy,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("p",{className:"text-xs font-medium truncate",children:Ye(Dt.city_id)})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(s4,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("p",{className:"text-xs truncate",children:Be(Dt.activity_id)})]})]}),o.jsx("div",{children:o.jsx(lt,{variant:"outline",className:"text-xs",children:Ge(Dt.status_id)})})]}),o.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:o.jsx("div",{className:"flex-1 min-w-0",children:o.jsxs("span",{children:["Created: ",new Date(Dt.created_at).toLocaleDateString()]})})})]})]},Dt.leads_id))})]},q.stage_id)})})}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 pt-4",children:[o.jsxs(mt,{value:M||"all",onValueChange:q=>{B(q==="all"?"":q),I(1)},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.status")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:e("mleads.allStatuses")}),f.map(q=>o.jsx(Ce,{value:q.status_id.toString(),children:Oe(q,"status_name_en","status_name_ar")},q.status_id))]})]}),o.jsxs(mt,{value:ee||"all",onValueChange:q=>{ae(q==="all"?"":q),I(1)},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.activity")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:e("mleads.allActivities")}),u.map(q=>o.jsx(Ce,{value:q.activity_id.toString(),children:Oe(q,"activity_name_en","activity_name_ar")},q.activity_id))]})]}),o.jsxs(mt,{value:T||"all",onValueChange:q=>{G(q==="all"?"":q),I(1)},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.system")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:e("mleads.allSystems")}),m.map(q=>o.jsx(Ce,{value:q.system_id.toString(),children:Oe(q,"system_name_en","system_name_ar")},q.system_id))]})]}),o.jsxs(mt,{value:V||"all",onValueChange:q=>{J(q==="all"?"":q),I(1)},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.country")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:e("mleads.allCountries")}),S.map(q=>o.jsx(Ce,{value:q.country_id.toString(),children:Oe(q,"country_name_en","country_name_ar")},q.country_id))]})]}),o.jsxs(mt,{value:F||"all",onValueChange:q=>{D(q==="all"?"":q),I(1)},children:[o.jsx(ut,{children:o.jsx(pt,{placeholder:e("mleads.city")})}),o.jsxs(dt,{children:[o.jsx(Ce,{value:"all",children:e("mleads.allCities")}),l.map(q=>o.jsx(Ce,{value:q.city_id.toString(),children:Oe(q,"city_name_en","city_name_ar")},q.city_id))]})]})]}),(F||V||T||M||ee)&&o.jsx("div",{className:"flex justify-end",children:o.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{D(""),J(""),G(""),B(""),ae(""),I(1)},children:[o.jsx(nl,{className:"h-4 w-4 mr-2"}),e("mleads.clearFilters")]})}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(co,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(Qe,{placeholder:"Search by company or address...",value:U,onChange:q=>{z(q.target.value),I(1)},className:"pl-8"})]})}),fe.length===0?o.jsx(Ho,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:o.jsx(Sa,{className:"h-12 w-12"})}):o.jsx(ph,{data:ve,columns:uK,actions:dK,bulkActions:cK,enableBulkSelect:!0,keyExtractor:q=>q.leads_id.toString(),onRowClick:q=>_l(q),rowHeight:"h-26"}),Pe>0&&o.jsx("div",{className:"flex justify-center mt-4",children:o.jsx(ez,{children:o.jsxs(tz,{children:[o.jsx(Rx,{children:o.jsx(rz,{onClick:()=>I(Math.max(1,W-1)),className:W===1?"pointer-events-none opacity-50":"cursor-pointer"})}),o.jsx(Rx,{children:o.jsxs("span",{className:"px-3 py-2 text-sm",children:["Page ",W," of ",Pe]})}),o.jsx(Rx,{children:o.jsx(nz,{onClick:()=>I(Math.min(Pe,W+1)),className:W===Pe?"pointer-events-none opacity-50":"cursor-pointer"})})]})})})]})})}),o.jsx(Ti,{open:de!==null,onOpenChange:()=>re(null),children:o.jsxs(As,{children:[o.jsxs(Os,{children:[o.jsx(Ds,{children:e("mleads.deleteLead")}),o.jsx(Rs,{children:e("mleads.deleteLeadConfirmation")})]}),o.jsxs(Ps,{children:[o.jsx(Ms,{children:e("common.cancel")}),o.jsx(Is,{onClick:()=>de&&Uc(de),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),o.jsx(ch,{open:xn,onOpenChange:Vs,children:o.jsxs(Ku,{side:Zi()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[o.jsx(b0,{children:o.jsxs(uh,{className:"flex items-center gap-2 min-w-0",children:[o.jsx(Sa,{className:"h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:at==null?void 0:at.company_name})]})}),at&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),o.jsxs(ie,{onClick:()=>{Di(at),Vs(!1)},variant:"outline",size:"sm",children:[o.jsx(rl,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),o.jsxs(Xu,{defaultValue:"overview",className:"w-full",children:[o.jsxs(_c,{className:"grid w-full grid-cols-2",children:[o.jsx($n,{value:"overview",children:e("common.overview")}),o.jsx($n,{value:"notes",children:e("notes.title")})]}),o.jsxs(Bn,{value:"overview",className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-bold",children:at.company_name||"-"}),at.address&&o.jsx("p",{className:"text-muted-foreground mt-1",children:at.address})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(vy,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),o.jsx("p",{className:"font-medium",children:Ye(at.city_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(s4,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),o.jsx("p",{className:"font-medium",children:Be(at.activity_id)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),o.jsx(lt,{variant:"outline",className:"text-xs",children:Ge(at.status_id)})]})}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),o.jsx(lt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:nr(at.stage_id)})]})}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Sa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),o.jsx("p",{className:"font-medium",children:bt(at.system_id)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Oa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:tr(at.assigned_to)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Oa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),o.jsx("p",{className:"font-medium",children:tr(at.created_by)})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[o.jsx(Oa,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),o.jsx("p",{className:"font-medium",children:tr(at.assigned_to)})]})]}),o.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),o.jsx("p",{className:"text-sm font-medium",children:new Date(at.created_at).toLocaleDateString()})]})}),o.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),o.jsx("p",{className:"text-sm mt-1",children:at.notes||"-"})]})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const q=x.filter(me=>me.leads_id===at.leads_id);return q.length>0?o.jsx("div",{className:"space-y-2",children:q.map((me,Me)=>{var Dt;return o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:me.contact_name||"-"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[me.contact_email&&`${me.contact_email}  `,me.contact_mobile&&`${me.contact_mobile}`]})]}),o.jsx(lt,{variant:"outline",className:"text-xs",children:((Dt=j.find(xa=>xa.jobtitle_id===me.jobtitle_id))==null?void 0:Dt.jobtitle_name_en)||"-"})]},me.contact_id||Me)})}):o.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),o.jsx(Bn,{value:"notes",className:"mt-4",children:o.jsx(z9,{relatedType:"mlead",relatedId:at.leads_id,notes:bl,onNotesChange:()=>Sl(at.leads_id)})})]})]})]})})]})}const F7e=()=>o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),o.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),o.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})});console.log(" SUPABASE URL (runtime):","https://studio.middar.com/");const L7e=()=>{const{user:e}=xr();return(e==null?void 0:e.role)==="client"?o.jsx(fhe,{}):o.jsx(dhe,{})},oF=({children:e})=>o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function $7e(){return o.jsx(JJ,{children:o.jsx(p8,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx(Tte,{children:o.jsx(Ete,{children:o.jsx(Ate,{children:o.jsx(B7e,{})})})})})})}function B7e(){const{isRTL:e}=pl(),t=ml(),{t:r}=Ut();return w.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),w.useEffect(()=>{const n=t.pathname.split("/").filter(c=>c),a="Middar CRM";if(n.length===0){document.title=a;return}const s=n[n.length-1],i={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"};let l="";if(i[s])l=r(i[s]);else if(/^\d+$/.test(s)||s.length>20)if(n.length>1){const c=n[n.length-2];i[c]?l=`${r(i[c])} - ${s}`:l=s}else l=s;else l=s.split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ");document.title=`${l} | ${a}`},[t,r]),o.jsxs(HJ,{children:[o.jsx(jr,{path:"/login",element:o.jsx(oF,{children:o.jsx(lne,{})})}),o.jsx(jr,{path:"/signup",element:o.jsx(oF,{children:o.jsx(cne,{})})}),o.jsx(jr,{path:"/unauthorized",element:o.jsx(F7e,{})}),o.jsx(jr,{path:"/auth/callback",element:o.jsx(phe,{})}),o.jsx(jr,{path:"/",element:o.jsx(mhe,{})}),o.jsx(jr,{path:"/dashboard",element:o.jsx(An,{allowedRoles:["admin","manager"],children:o.jsx(Pn,{children:o.jsx(vle,{})})})}),o.jsx(jr,{path:"/employee_dashboard",element:o.jsx(An,{allowedRoles:["employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(Sle,{})})})}),o.jsx(jr,{path:"/leads",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(Dfe,{})})})}),o.jsx(jr,{path:"/projects",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(Bfe,{})})})}),o.jsx(jr,{path:"/tasks",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(Ife,{})})})}),o.jsx(jr,{path:"/tickets",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader","client"],children:o.jsx(Pn,{children:o.jsx(Lfe,{})})})}),o.jsx(jr,{path:"/users",element:o.jsx(An,{allowedRoles:["admin"],children:o.jsx(Pn,{children:o.jsx(ehe,{})})})}),o.jsx(jr,{path:"/settings",element:o.jsx(An,{allowedRoles:["admin"],children:o.jsx(Pn,{children:o.jsx(Ewe,{})})})}),o.jsx(jr,{path:"/teams",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(the,{})})})}),o.jsx(jr,{path:"/chats",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader","client"],children:o.jsx(Pn,{children:o.jsx(L7e,{})})})}),o.jsx(jr,{path:"/client-portal",element:o.jsx(An,{allowedRoles:["client"],children:o.jsx(Pn,{children:o.jsx(hhe,{})})})}),o.jsx(jr,{path:"/partner-dashboard",element:o.jsx(An,{allowedRoles:["partner"],children:o.jsx(Pn,{children:o.jsx(ghe,{})})})}),o.jsx(jr,{path:"/partner-employee-dashboard",element:o.jsx(An,{allowedRoles:["partner_employee"],children:o.jsx(Pn,{children:o.jsx(vhe,{})})})}),o.jsx(jr,{path:"/project/:id",element:o.jsx(An,{allowedRoles:["admin","manager"],children:o.jsx(J9,{})})}),o.jsx(jr,{path:"/surveys",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(Nwe,{})})})}),o.jsx(jr,{path:"/mleads",element:o.jsx(An,{allowedRoles:["admin","manager","employee","team_leader"],children:o.jsx(Pn,{children:o.jsx(M7e,{})})})}),o.jsx(jr,{path:"*",element:o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("h1",{children:"404 - Page Not Found"})})})]})}const U7e=new rX({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});O$(document.getElementById("root")).render(o.jsx(uQ,{i18n:Er,children:o.jsx(oX,{client:U7e,children:o.jsx(p8,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:o.jsx($7e,{})})})}));
