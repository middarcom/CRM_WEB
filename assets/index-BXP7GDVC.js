var xD=e=>{throw TypeError(e)};var Ej=(e,r,n)=>r.has(e)||xD("Cannot "+n);var ge=(e,r,n)=>(Ej(e,r,"read from private field"),n?n.call(e):r.get(e)),Ct=(e,r,n)=>r.has(e)?xD("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),ct=(e,r,n,a)=>(Ej(e,r,"write to private field"),a?a.call(e,n):r.set(e,n),n),Zt=(e,r,n)=>(Ej(e,r,"access private method"),n);var oy=(e,r,n,a)=>({set _(s){ct(e,r,s,n)},get _(){return ge(e,r,a)}});function K8(e,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G8(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var Y8={exports:{}},f_={},X8={exports:{}},Jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.element"),FQ=Symbol.for("react.portal"),LQ=Symbol.for("react.fragment"),$Q=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),UQ=Symbol.for("react.provider"),VQ=Symbol.for("react.context"),zQ=Symbol.for("react.forward_ref"),WQ=Symbol.for("react.suspense"),HQ=Symbol.for("react.memo"),qQ=Symbol.for("react.lazy"),yD=Symbol.iterator;function KQ(e){return e===null||typeof e!="object"?null:(e=yD&&e[yD]||e["@@iterator"],typeof e=="function"?e:null)}var J8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q8=Object.assign,Z8={};function Np(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}Np.prototype.isReactComponent={};Np.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Np.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e6(){}e6.prototype=Np.prototype;function _T(e,r,n){this.props=e,this.context=r,this.refs=Z8,this.updater=n||J8}var ST=_T.prototype=new e6;ST.constructor=_T;Q8(ST,Np.prototype);ST.isPureReactComponent=!0;var wD=Array.isArray,t6=Object.prototype.hasOwnProperty,jT={current:null},r6={key:!0,ref:!0,__self:!0,__source:!0};function n6(e,r,n){var a,s={},i=null,o=null;if(r!=null)for(a in r.ref!==void 0&&(o=r.ref),r.key!==void 0&&(i=""+r.key),r)t6.call(r,a)&&!r6.hasOwnProperty(a)&&(s[a]=r[a]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps,c)s[a]===void 0&&(s[a]=c[a]);return{$$typeof:ix,type:e,key:i,ref:o,props:s,_owner:jT.current}}function GQ(e,r){return{$$typeof:ix,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function kT(e){return typeof e=="object"&&e!==null&&e.$$typeof===ix}function YQ(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return r[n]})}var bD=/\/+/g;function Cj(e,r){return typeof e=="object"&&e!==null&&e.key!=null?YQ(""+e.key):r.toString(36)}function w1(e,r,n,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ix:case FQ:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+Cj(o,0):a,wD(s)?(n="",e!=null&&(n=e.replace(bD,"$&/")+"/"),w1(s,r,n,"",function(d){return d})):s!=null&&(kT(s)&&(s=GQ(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bD,"$&/")+"/")+e)),r.push(s)),1;if(o=0,a=a===""?".":a+":",wD(e))for(var c=0;c<e.length;c++){i=e[c];var u=a+Cj(i,c);o+=w1(i,r,n,u,s)}else if(u=KQ(e),typeof u=="function")for(e=u.call(e),c=0;!(i=e.next()).done;)i=i.value,u=a+Cj(i,c++),o+=w1(i,r,n,u,s);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function cy(e,r,n){if(e==null)return e;var a=[],s=0;return w1(e,a,"","",function(i){return r.call(n,i,s++)}),a}function XQ(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var fs={current:null},b1={transition:null},JQ={ReactCurrentDispatcher:fs,ReactCurrentBatchConfig:b1,ReactCurrentOwner:jT};function a6(){throw Error("act(...) is not supported in production builds of React.")}Jt.Children={map:cy,forEach:function(e,r,n){cy(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return cy(e,function(){r++}),r},toArray:function(e){return cy(e,function(r){return r})||[]},only:function(e){if(!kT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Jt.Component=Np;Jt.Fragment=LQ;Jt.Profiler=BQ;Jt.PureComponent=_T;Jt.StrictMode=$Q;Jt.Suspense=WQ;Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JQ;Jt.act=a6;Jt.cloneElement=function(e,r,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Q8({},e.props),s=e.key,i=e.ref,o=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,o=jT.current),r.key!==void 0&&(s=""+r.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in r)t6.call(r,u)&&!r6.hasOwnProperty(u)&&(a[u]=r[u]===void 0&&c!==void 0?c[u]:r[u])}var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:ix,type:e.type,key:s,ref:i,props:a,_owner:o}};Jt.createContext=function(e){return e={$$typeof:VQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UQ,_context:e},e.Consumer=e};Jt.createElement=n6;Jt.createFactory=function(e){var r=n6.bind(null,e);return r.type=e,r};Jt.createRef=function(){return{current:null}};Jt.forwardRef=function(e){return{$$typeof:zQ,render:e}};Jt.isValidElement=kT;Jt.lazy=function(e){return{$$typeof:qQ,_payload:{_status:-1,_result:e},_init:XQ}};Jt.memo=function(e,r){return{$$typeof:HQ,type:e,compare:r===void 0?null:r}};Jt.startTransition=function(e){var r=b1.transition;b1.transition={};try{e()}finally{b1.transition=r}};Jt.unstable_act=a6;Jt.useCallback=function(e,r){return fs.current.useCallback(e,r)};Jt.useContext=function(e){return fs.current.useContext(e)};Jt.useDebugValue=function(){};Jt.useDeferredValue=function(e){return fs.current.useDeferredValue(e)};Jt.useEffect=function(e,r){return fs.current.useEffect(e,r)};Jt.useId=function(){return fs.current.useId()};Jt.useImperativeHandle=function(e,r,n){return fs.current.useImperativeHandle(e,r,n)};Jt.useInsertionEffect=function(e,r){return fs.current.useInsertionEffect(e,r)};Jt.useLayoutEffect=function(e,r){return fs.current.useLayoutEffect(e,r)};Jt.useMemo=function(e,r){return fs.current.useMemo(e,r)};Jt.useReducer=function(e,r,n){return fs.current.useReducer(e,r,n)};Jt.useRef=function(e){return fs.current.useRef(e)};Jt.useState=function(e){return fs.current.useState(e)};Jt.useSyncExternalStore=function(e,r,n){return fs.current.useSyncExternalStore(e,r,n)};Jt.useTransition=function(){return fs.current.useTransition()};Jt.version="18.3.1";X8.exports=Jt;var y=X8.exports;const ne=xr(y),NT=K8({__proto__:null,default:ne},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QQ=y,ZQ=Symbol.for("react.element"),eZ=Symbol.for("react.fragment"),tZ=Object.prototype.hasOwnProperty,rZ=QQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nZ={key:!0,ref:!0,__self:!0,__source:!0};function s6(e,r,n){var a,s={},i=null,o=null;n!==void 0&&(i=""+n),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(o=r.ref);for(a in r)tZ.call(r,a)&&!nZ.hasOwnProperty(a)&&(s[a]=r[a]);if(e&&e.defaultProps)for(a in r=e.defaultProps,r)s[a]===void 0&&(s[a]=r[a]);return{$$typeof:ZQ,type:e,key:i,ref:o,props:s,_owner:rZ.current}}f_.Fragment=eZ;f_.jsx=s6;f_.jsxs=s6;Y8.exports=f_;var l=Y8.exports,i6={exports:{}},pi={},o6={exports:{}},l6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(L,R){var J=L.length;L.push(R);e:for(;0<J;){var te=J-1>>>1,A=L[te];if(0<s(A,R))L[te]=R,L[J]=A,J=te;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var R=L[0],J=L.pop();if(J!==R){L[0]=J;e:for(var te=0,A=L.length,X=A>>>1;te<X;){var V=2*(te+1)-1,q=L[V],ae=V+1,ce=L[ae];if(0>s(q,J))ae<A&&0>s(ce,q)?(L[te]=ce,L[ae]=J,te=ae):(L[te]=q,L[V]=J,te=V);else if(ae<A&&0>s(ce,J))L[te]=ce,L[ae]=J,te=ae;else break e}}return R}function s(L,R){var J=L.sortIndex-R.sortIndex;return J!==0?J:L.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,h=null,m=3,p=!1,v=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var R=n(d);R!==null;){if(R.callback===null)a(d);else if(R.startTime<=L)a(d),R.sortIndex=R.expirationTime,r(u,R);else break;R=n(d)}}function S(L){if(g=!1,_(L),!v)if(n(u)!==null)v=!0,M(j);else{var R=n(d);R!==null&&z(S,R.startTime-L)}}function j(L,R){v=!1,g&&(g=!1,b(C),C=-1),p=!0;var J=m;try{for(_(R),h=n(u);h!==null&&(!(h.expirationTime>R)||L&&!I());){var te=h.callback;if(typeof te=="function"){h.callback=null,m=h.priorityLevel;var A=te(h.expirationTime<=R);R=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(u)&&a(u),_(R)}else a(u);h=n(u)}if(h!==null)var X=!0;else{var V=n(d);V!==null&&z(S,V.startTime-R),X=!1}return X}finally{h=null,m=J,p=!1}}var N=!1,k=null,C=-1,E=5,P=-1;function I(){return!(e.unstable_now()-P<E)}function T(){if(k!==null){var L=e.unstable_now();P=L;var R=!0;try{R=k(!0,L)}finally{R?U():(N=!1,k=null)}}else N=!1}var U;if(typeof w=="function")U=function(){w(T)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=T,U=function(){F.postMessage(null)}}else U=function(){x(T,0)};function M(L){k=L,N||(N=!0,U())}function z(L,R){C=x(function(){L(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,M(j))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var J=m;m=R;try{return L()}finally{m=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,R){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=m;m=L;try{return R()}finally{m=J}},e.unstable_scheduleCallback=function(L,R,J){var te=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,L){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,L={id:f++,callback:R,priorityLevel:L,startTime:J,expirationTime:A,sortIndex:-1},J>te?(L.sortIndex=J,r(d,L),n(u)===null&&L===n(d)&&(g?(b(C),C=-1):g=!0,z(S,J-te))):(L.sortIndex=A,r(u,L),v||p||(v=!0,M(j))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var R=m;return function(){var J=m;m=R;try{return L.apply(this,arguments)}finally{m=J}}}})(l6);o6.exports=l6;var aZ=o6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sZ=y,di=aZ;function Ke(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c6=new Set,Dg={};function If(e,r){Em(e,r),Em(e+"Capture",r)}function Em(e,r){for(Dg[e]=r,e=0;e<r.length;e++)c6.add(r[e])}var uc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TN=Object.prototype.hasOwnProperty,iZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_D={},SD={};function oZ(e){return TN.call(SD,e)?!0:TN.call(_D,e)?!1:iZ.test(e)?SD[e]=!0:(_D[e]=!0,!1)}function lZ(e,r,n,a){if(n!==null&&n.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cZ(e,r,n,a){if(r===null||typeof r>"u"||lZ(e,r,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function hs(e,r,n,a,s,i,o){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=o}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ma[e]=new hs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ma[r]=new hs(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ma[e]=new hs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ma[e]=new hs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ma[e]=new hs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ma[e]=new hs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ma[e]=new hs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ma[e]=new hs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ma[e]=new hs(e,5,!1,e.toLowerCase(),null,!1,!1)});var ET=/[\-:]([a-z])/g;function CT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(ET,CT);ma[r]=new hs(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(ET,CT);ma[r]=new hs(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(ET,CT);ma[r]=new hs(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ma[e]=new hs(e,1,!1,e.toLowerCase(),null,!1,!1)});ma.xlinkHref=new hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ma[e]=new hs(e,1,!1,e.toLowerCase(),null,!0,!0)});function TT(e,r,n,a){var s=ma.hasOwnProperty(r)?ma[r]:null;(s!==null?s.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(cZ(r,n,s,a)&&(n=null),a||s===null?oZ(r)&&(n===null?e.removeAttribute(r):e.setAttribute(r,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(r=s.attributeName,a=s.attributeNamespace,n===null?e.removeAttribute(r):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,a?e.setAttributeNS(a,r,n):e.setAttribute(r,n))))}var Nc=sZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uy=Symbol.for("react.element"),Th=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),AT=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),u6=Symbol.for("react.provider"),d6=Symbol.for("react.context"),OT=Symbol.for("react.forward_ref"),ON=Symbol.for("react.suspense"),PN=Symbol.for("react.suspense_list"),PT=Symbol.for("react.memo"),Wc=Symbol.for("react.lazy"),f6=Symbol.for("react.offscreen"),jD=Symbol.iterator;function c0(e){return e===null||typeof e!="object"?null:(e=jD&&e[jD]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,Tj;function F0(e){if(Tj===void 0)try{throw Error()}catch(n){var r=n.stack.trim().match(/\n( *(at )?)/);Tj=r&&r[1]||""}return`
`+Tj+e}var Aj=!1;function Oj(e,r){if(!e||Aj)return"";Aj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var a=d}Reflect.construct(e,[],r)}else{try{r.call()}catch(d){a=d}e.call(r.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,c=i.length-1;1<=o&&0<=c&&s[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==i[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{Aj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F0(e):""}function uZ(e){switch(e.tag){case 5:return F0(e.type);case 16:return F0("Lazy");case 13:return F0("Suspense");case 19:return F0("SuspenseList");case 0:case 2:case 15:return e=Oj(e.type,!1),e;case 11:return e=Oj(e.type.render,!1),e;case 1:return e=Oj(e.type,!0),e;default:return""}}function DN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ah:return"Fragment";case Th:return"Portal";case AN:return"Profiler";case AT:return"StrictMode";case ON:return"Suspense";case PN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d6:return(e.displayName||"Context")+".Consumer";case u6:return(e._context.displayName||"Context")+".Provider";case OT:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case PT:return r=e.displayName||null,r!==null?r:DN(e.type)||"Memo";case Wc:r=e._payload,e=e._init;try{return DN(e(r))}catch{}}return null}function dZ(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DN(r);case 8:return r===AT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ru(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h6(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fZ(e){var r=h6(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,r,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function dy(e){e._valueTracker||(e._valueTracker=fZ(e))}function m6(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var n=r.getValue(),a="";return e&&(a=h6(e)?e.checked?"true":"false":e.value),e=a,e!==n?(r.setValue(e),!0):!1}function q1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RN(e,r){var n=r.checked;return rn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kD(e,r){var n=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;n=Ru(r.value!=null?r.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function p6(e,r){r=r.checked,r!=null&&TT(e,"checked",r,!1)}function IN(e,r){p6(e,r);var n=Ru(r.value),a=r.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?MN(e,r.type,n):r.hasOwnProperty("defaultValue")&&MN(e,r.type,Ru(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function ND(e,r,n){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,n||r===e.value||(e.value=r),e.defaultValue=r}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function MN(e,r,n){(r!=="number"||q1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var L0=Array.isArray;function Gh(e,r,n,a){if(e=e.options,r){r={};for(var s=0;s<n.length;s++)r["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=r.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Ru(n),r=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}r!==null||e[s].disabled||(r=e[s])}r!==null&&(r.selected=!0)}}function FN(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return rn({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ED(e,r){var n=r.value;if(n==null){if(n=r.children,r=r.defaultValue,n!=null){if(r!=null)throw Error(Ke(92));if(L0(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}r=n}r==null&&(r=""),n=r}e._wrapperState={initialValue:Ru(n)}}function g6(e,r){var n=Ru(r.value),a=Ru(r.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),r.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function CD(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function v6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function LN(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?v6(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fy,x6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,n,a,s){MSApp.execUnsafeLocalFunction(function(){return e(r,n,a,s)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(fy=fy||document.createElement("div"),fy.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=fy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Rg(e,r){if(r){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=r;return}}e.textContent=r}var Q0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hZ=["Webkit","ms","Moz","O"];Object.keys(Q0).forEach(function(e){hZ.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Q0[r]=Q0[e]})});function y6(e,r,n){return r==null||typeof r=="boolean"||r===""?"":n||typeof r!="number"||r===0||Q0.hasOwnProperty(e)&&Q0[e]?(""+r).trim():r+"px"}function w6(e,r){e=e.style;for(var n in r)if(r.hasOwnProperty(n)){var a=n.indexOf("--")===0,s=y6(n,r[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}var mZ=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $N(e,r){if(r){if(mZ[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Ke(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Ke(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Ke(62))}}function BN(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UN=null;function DT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var VN=null,Yh=null,Xh=null;function TD(e){if(e=cx(e)){if(typeof VN!="function")throw Error(Ke(280));var r=e.stateNode;r&&(r=v_(r),VN(e.stateNode,e.type,r))}}function b6(e){Yh?Xh?Xh.push(e):Xh=[e]:Yh=e}function _6(){if(Yh){var e=Yh,r=Xh;if(Xh=Yh=null,TD(e),r)for(e=0;e<r.length;e++)TD(r[e])}}function S6(e,r){return e(r)}function j6(){}var Pj=!1;function k6(e,r,n){if(Pj)return e(r,n);Pj=!0;try{return S6(e,r,n)}finally{Pj=!1,(Yh!==null||Xh!==null)&&(j6(),_6())}}function Ig(e,r){var n=e.stateNode;if(n===null)return null;var a=v_(n);if(a===null)return null;n=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ke(231,r,typeof n));return n}var zN=!1;if(uc)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){zN=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{zN=!1}function pZ(e,r,n,a,s,i,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{r.apply(n,d)}catch(f){this.onError(f)}}var Z0=!1,K1=null,G1=!1,WN=null,gZ={onError:function(e){Z0=!0,K1=e}};function vZ(e,r,n,a,s,i,o,c,u){Z0=!1,K1=null,pZ.apply(gZ,arguments)}function xZ(e,r,n,a,s,i,o,c,u){if(vZ.apply(this,arguments),Z0){if(Z0){var d=K1;Z0=!1,K1=null}else throw Error(Ke(198));G1||(G1=!0,WN=d)}}function Mf(e){var r=e,n=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(n=r.return),e=r.return;while(e)}return r.tag===3?n:null}function N6(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function AD(e){if(Mf(e)!==e)throw Error(Ke(188))}function yZ(e){var r=e.alternate;if(!r){if(r=Mf(e),r===null)throw Error(Ke(188));return r!==e?null:e}for(var n=e,a=r;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){n=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return AD(s),e;if(i===a)return AD(s),r;i=i.sibling}throw Error(Ke(188))}if(n.return!==a.return)n=s,a=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,a=i;break}if(c===a){o=!0,a=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,a=s;break}if(c===a){o=!0,a=i,n=s;break}c=c.sibling}if(!o)throw Error(Ke(189))}}if(n.alternate!==a)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?e:r}function E6(e){return e=yZ(e),e!==null?C6(e):null}function C6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=C6(e);if(r!==null)return r;e=e.sibling}return null}var T6=di.unstable_scheduleCallback,OD=di.unstable_cancelCallback,wZ=di.unstable_shouldYield,bZ=di.unstable_requestPaint,hn=di.unstable_now,_Z=di.unstable_getCurrentPriorityLevel,RT=di.unstable_ImmediatePriority,A6=di.unstable_UserBlockingPriority,Y1=di.unstable_NormalPriority,SZ=di.unstable_LowPriority,O6=di.unstable_IdlePriority,h_=null,fl=null;function jZ(e){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(h_,e,void 0,(e.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:EZ,kZ=Math.log,NZ=Math.LN2;function EZ(e){return e>>>=0,e===0?32:31-(kZ(e)/NZ|0)|0}var hy=64,my=4194304;function $0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function X1(e,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?a=$0(c):(i&=o,i!==0&&(a=$0(i)))}else o=n&~s,o!==0?a=$0(o):i!==0&&(a=$0(i));if(a===0)return 0;if(r!==0&&r!==a&&!(r&s)&&(s=a&-a,i=r&-r,s>=i||s===16&&(i&4194240)!==0))return r;if(a&4&&(a|=n&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)n=31-So(r),s=1<<n,a|=e[n],r&=~s;return a}function CZ(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TZ(e,r){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-So(i),c=1<<o,u=s[o];u===-1?(!(c&n)||c&a)&&(s[o]=CZ(c,r)):u<=r&&(e.expiredLanes|=c),i&=~c}}function HN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function P6(){var e=hy;return hy<<=1,!(hy&4194240)&&(hy=64),e}function Dj(e){for(var r=[],n=0;31>n;n++)r.push(e);return r}function ox(e,r,n){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-So(r),e[r]=n}function AZ(e,r){var n=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-So(n),i=1<<s;r[s]=0,a[s]=-1,e[s]=-1,n&=~i}}function IT(e,r){var n=e.entangledLanes|=r;for(e=e.entanglements;n;){var a=31-So(n),s=1<<a;s&r|e[a]&r&&(e[a]|=r),n&=~s}}var _r=0;function D6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var R6,MT,I6,M6,F6,qN=!1,py=[],yu=null,wu=null,bu=null,Mg=new Map,Fg=new Map,Xc=[],OZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PD(e,r){switch(e){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":wu=null;break;case"mouseover":case"mouseout":bu=null;break;case"pointerover":case"pointerout":Mg.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fg.delete(r.pointerId)}}function d0(e,r,n,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},r!==null&&(r=cx(r),r!==null&&MT(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,s!==null&&r.indexOf(s)===-1&&r.push(s),e)}function PZ(e,r,n,a,s){switch(r){case"focusin":return yu=d0(yu,e,r,n,a,s),!0;case"dragenter":return wu=d0(wu,e,r,n,a,s),!0;case"mouseover":return bu=d0(bu,e,r,n,a,s),!0;case"pointerover":var i=s.pointerId;return Mg.set(i,d0(Mg.get(i)||null,e,r,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Fg.set(i,d0(Fg.get(i)||null,e,r,n,a,s)),!0}return!1}function L6(e){var r=Ad(e.target);if(r!==null){var n=Mf(r);if(n!==null){if(r=n.tag,r===13){if(r=N6(n),r!==null){e.blockedOn=r,F6(e.priority,function(){I6(n)});return}}else if(r===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _1(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var n=KN(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);UN=a,n.target.dispatchEvent(a),UN=null}else return r=cx(n),r!==null&&MT(r),e.blockedOn=n,!1;r.shift()}return!0}function DD(e,r,n){_1(e)&&n.delete(r)}function DZ(){qN=!1,yu!==null&&_1(yu)&&(yu=null),wu!==null&&_1(wu)&&(wu=null),bu!==null&&_1(bu)&&(bu=null),Mg.forEach(DD),Fg.forEach(DD)}function f0(e,r){e.blockedOn===r&&(e.blockedOn=null,qN||(qN=!0,di.unstable_scheduleCallback(di.unstable_NormalPriority,DZ)))}function Lg(e){function r(s){return f0(s,e)}if(0<py.length){f0(py[0],e);for(var n=1;n<py.length;n++){var a=py[n];a.blockedOn===e&&(a.blockedOn=null)}}for(yu!==null&&f0(yu,e),wu!==null&&f0(wu,e),bu!==null&&f0(bu,e),Mg.forEach(r),Fg.forEach(r),n=0;n<Xc.length;n++)a=Xc[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Xc.length&&(n=Xc[0],n.blockedOn===null);)L6(n),n.blockedOn===null&&Xc.shift()}var Jh=Nc.ReactCurrentBatchConfig,J1=!0;function RZ(e,r,n,a){var s=_r,i=Jh.transition;Jh.transition=null;try{_r=1,FT(e,r,n,a)}finally{_r=s,Jh.transition=i}}function IZ(e,r,n,a){var s=_r,i=Jh.transition;Jh.transition=null;try{_r=4,FT(e,r,n,a)}finally{_r=s,Jh.transition=i}}function FT(e,r,n,a){if(J1){var s=KN(e,r,n,a);if(s===null)zj(e,r,a,Q1,n),PD(e,a);else if(PZ(s,e,r,n,a))a.stopPropagation();else if(PD(e,a),r&4&&-1<OZ.indexOf(e)){for(;s!==null;){var i=cx(s);if(i!==null&&R6(i),i=KN(e,r,n,a),i===null&&zj(e,r,a,Q1,n),i===s)break;s=i}s!==null&&a.stopPropagation()}else zj(e,r,a,null,n)}}var Q1=null;function KN(e,r,n,a){if(Q1=null,e=DT(a),e=Ad(e),e!==null)if(r=Mf(e),r===null)e=null;else if(n=r.tag,n===13){if(e=N6(r),e!==null)return e;e=null}else if(n===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Q1=e,null}function $6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_Z()){case RT:return 1;case A6:return 4;case Y1:case SZ:return 16;case O6:return 536870912;default:return 16}default:return 16}}var fu=null,LT=null,S1=null;function B6(){if(S1)return S1;var e,r=LT,n=r.length,a,s="value"in fu?fu.value:fu.textContent,i=s.length;for(e=0;e<n&&r[e]===s[e];e++);var o=n-e;for(a=1;a<=o&&r[n-a]===s[i-a];a++);return S1=s.slice(e,1<a?1-a:void 0)}function j1(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function gy(){return!0}function RD(){return!1}function gi(e){function r(n,a,s,i,o){this._reactName=n,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gy:RD,this.isPropagationStopped=RD,this}return rn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gy)},persist:function(){},isPersistent:gy}),r}var Ep={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$T=gi(Ep),lx=rn({},Ep,{view:0,detail:0}),MZ=gi(lx),Rj,Ij,h0,m_=rn({},lx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==h0&&(h0&&e.type==="mousemove"?(Rj=e.screenX-h0.screenX,Ij=e.screenY-h0.screenY):Ij=Rj=0,h0=e),Rj)},movementY:function(e){return"movementY"in e?e.movementY:Ij}}),ID=gi(m_),FZ=rn({},m_,{dataTransfer:0}),LZ=gi(FZ),$Z=rn({},lx,{relatedTarget:0}),Mj=gi($Z),BZ=rn({},Ep,{animationName:0,elapsedTime:0,pseudoElement:0}),UZ=gi(BZ),VZ=rn({},Ep,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zZ=gi(VZ),WZ=rn({},Ep,{data:0}),MD=gi(WZ),HZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GZ(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=KZ[e])?!!r[e]:!1}function BT(){return GZ}var YZ=rn({},lx,{key:function(e){if(e.key){var r=HZ[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=j1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BT,charCode:function(e){return e.type==="keypress"?j1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?j1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XZ=gi(YZ),JZ=rn({},m_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),FD=gi(JZ),QZ=rn({},lx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BT}),ZZ=gi(QZ),eee=rn({},Ep,{propertyName:0,elapsedTime:0,pseudoElement:0}),tee=gi(eee),ree=rn({},m_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nee=gi(ree),aee=[9,13,27,32],UT=uc&&"CompositionEvent"in window,eg=null;uc&&"documentMode"in document&&(eg=document.documentMode);var see=uc&&"TextEvent"in window&&!eg,U6=uc&&(!UT||eg&&8<eg&&11>=eg),LD=" ",$D=!1;function V6(e,r){switch(e){case"keyup":return aee.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oh=!1;function iee(e,r){switch(e){case"compositionend":return z6(r);case"keypress":return r.which!==32?null:($D=!0,LD);case"textInput":return e=r.data,e===LD&&$D?null:e;default:return null}}function oee(e,r){if(Oh)return e==="compositionend"||!UT&&V6(e,r)?(e=B6(),S1=LT=fu=null,Oh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return U6&&r.locale!=="ko"?null:r.data;default:return null}}var lee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BD(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!lee[e.type]:r==="textarea"}function W6(e,r,n,a){b6(a),r=Z1(r,"onChange"),0<r.length&&(n=new $T("onChange","change",null,n,a),e.push({event:n,listeners:r}))}var tg=null,$g=null;function cee(e){tB(e,0)}function p_(e){var r=Rh(e);if(m6(r))return e}function uee(e,r){if(e==="change")return r}var H6=!1;if(uc){var Fj;if(uc){var Lj="oninput"in document;if(!Lj){var UD=document.createElement("div");UD.setAttribute("oninput","return;"),Lj=typeof UD.oninput=="function"}Fj=Lj}else Fj=!1;H6=Fj&&(!document.documentMode||9<document.documentMode)}function VD(){tg&&(tg.detachEvent("onpropertychange",q6),$g=tg=null)}function q6(e){if(e.propertyName==="value"&&p_($g)){var r=[];W6(r,$g,e,DT(e)),k6(cee,r)}}function dee(e,r,n){e==="focusin"?(VD(),tg=r,$g=n,tg.attachEvent("onpropertychange",q6)):e==="focusout"&&VD()}function fee(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return p_($g)}function hee(e,r){if(e==="click")return p_(r)}function mee(e,r){if(e==="input"||e==="change")return p_(r)}function pee(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Eo=typeof Object.is=="function"?Object.is:pee;function Bg(e,r){if(Eo(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var n=Object.keys(e),a=Object.keys(r);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!TN.call(r,s)||!Eo(e[s],r[s]))return!1}return!0}function zD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function WD(e,r){var n=zD(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=r&&a>=r)return{node:n,offset:r-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zD(n)}}function K6(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?K6(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function G6(){for(var e=window,r=q1();r instanceof e.HTMLIFrameElement;){try{var n=typeof r.contentWindow.location.href=="string"}catch{n=!1}if(n)e=r.contentWindow;else break;r=q1(e.document)}return r}function VT(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function gee(e){var r=G6(),n=e.focusedElem,a=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&K6(n.ownerDocument.documentElement,n)){if(a!==null&&VT(n)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in n)n.selectionStart=r,n.selectionEnd=Math.min(e,n.value.length);else if(e=(r=n.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=WD(n,i);var o=WD(n,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(r=r.createRange(),r.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(r),e.extend(o.node,o.offset)):(r.setEnd(o.node,o.offset),e.addRange(r)))}}for(r=[],e=n;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<r.length;n++)e=r[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vee=uc&&"documentMode"in document&&11>=document.documentMode,Ph=null,GN=null,rg=null,YN=!1;function HD(e,r,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YN||Ph==null||Ph!==q1(a)||(a=Ph,"selectionStart"in a&&VT(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),rg&&Bg(rg,a)||(rg=a,a=Z1(GN,"onSelect"),0<a.length&&(r=new $T("onSelect","select",null,r,n),e.push({event:r,listeners:a}),r.target=Ph)))}function vy(e,r){var n={};return n[e.toLowerCase()]=r.toLowerCase(),n["Webkit"+e]="webkit"+r,n["Moz"+e]="moz"+r,n}var Dh={animationend:vy("Animation","AnimationEnd"),animationiteration:vy("Animation","AnimationIteration"),animationstart:vy("Animation","AnimationStart"),transitionend:vy("Transition","TransitionEnd")},$j={},Y6={};uc&&(Y6=document.createElement("div").style,"AnimationEvent"in window||(delete Dh.animationend.animation,delete Dh.animationiteration.animation,delete Dh.animationstart.animation),"TransitionEvent"in window||delete Dh.transitionend.transition);function g_(e){if($j[e])return $j[e];if(!Dh[e])return e;var r=Dh[e],n;for(n in r)if(r.hasOwnProperty(n)&&n in Y6)return $j[e]=r[n];return e}var X6=g_("animationend"),J6=g_("animationiteration"),Q6=g_("animationstart"),Z6=g_("transitionend"),eB=new Map,qD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qu(e,r){eB.set(e,r),If(r,[e])}for(var Bj=0;Bj<qD.length;Bj++){var Uj=qD[Bj],xee=Uj.toLowerCase(),yee=Uj[0].toUpperCase()+Uj.slice(1);qu(xee,"on"+yee)}qu(X6,"onAnimationEnd");qu(J6,"onAnimationIteration");qu(Q6,"onAnimationStart");qu("dblclick","onDoubleClick");qu("focusin","onFocus");qu("focusout","onBlur");qu(Z6,"onTransitionEnd");Em("onMouseEnter",["mouseout","mouseover"]);Em("onMouseLeave",["mouseout","mouseover"]);Em("onPointerEnter",["pointerout","pointerover"]);Em("onPointerLeave",["pointerout","pointerover"]);If("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));If("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));If("onBeforeInput",["compositionend","keypress","textInput","paste"]);If("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));If("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));If("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wee=new Set("cancel close invalid load scroll toggle".split(" ").concat(B0));function KD(e,r,n){var a=e.type||"unknown-event";e.currentTarget=n,xZ(a,r,void 0,e),e.currentTarget=null}function tB(e,r){r=(r&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(r)for(var o=a.length-1;0<=o;o--){var c=a[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}else for(o=0;o<a.length;o++){if(c=a[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;KD(s,c,d),i=u}}}if(G1)throw e=WN,G1=!1,WN=null,e}function Vr(e,r){var n=r[e2];n===void 0&&(n=r[e2]=new Set);var a=e+"__bubble";n.has(a)||(rB(r,e,2,!1),n.add(a))}function Vj(e,r,n){var a=0;r&&(a|=4),rB(n,e,a,r)}var xy="_reactListening"+Math.random().toString(36).slice(2);function Ug(e){if(!e[xy]){e[xy]=!0,c6.forEach(function(n){n!=="selectionchange"&&(wee.has(n)||Vj(n,!1,e),Vj(n,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[xy]||(r[xy]=!0,Vj("selectionchange",!1,r))}}function rB(e,r,n,a){switch($6(r)){case 1:var s=RZ;break;case 4:s=IZ;break;default:s=FT}n=s.bind(null,r,n,e),s=void 0,!zN||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(r,n,{capture:!0,passive:s}):e.addEventListener(r,n,!0):s!==void 0?e.addEventListener(r,n,{passive:s}):e.addEventListener(r,n,!1)}function zj(e,r,n,a,s){var i=a;if(!(r&1)&&!(r&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var c=a.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=Ad(c),o===null)return;if(u=o.tag,u===5||u===6){a=i=o;continue e}c=c.parentNode}}a=a.return}k6(function(){var d=i,f=DT(n),h=[];e:{var m=eB.get(e);if(m!==void 0){var p=$T,v=e;switch(e){case"keypress":if(j1(n)===0)break e;case"keydown":case"keyup":p=XZ;break;case"focusin":v="focus",p=Mj;break;case"focusout":v="blur",p=Mj;break;case"beforeblur":case"afterblur":p=Mj;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ID;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZZ;break;case X6:case J6:case Q6:p=UZ;break;case Z6:p=tee;break;case"scroll":p=MZ;break;case"wheel":p=nee;break;case"copy":case"cut":case"paste":p=zZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=FD}var g=(r&4)!==0,x=!g&&e==="scroll",b=g?m!==null?m+"Capture":null:m;g=[];for(var w=d,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,b!==null&&(S=Ig(w,b),S!=null&&g.push(Vg(w,S,_)))),x)break;w=w.return}0<g.length&&(m=new p(m,v,null,n,f),h.push({event:m,listeners:g}))}}if(!(r&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==UN&&(v=n.relatedTarget||n.fromElement)&&(Ad(v)||v[dc]))break e;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=d,v=v?Ad(v):null,v!==null&&(x=Mf(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(g=ID,S="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=FD,S="onPointerLeave",b="onPointerEnter",w="pointer"),x=p==null?m:Rh(p),_=v==null?m:Rh(v),m=new g(S,w+"leave",p,n,f),m.target=x,m.relatedTarget=_,S=null,Ad(f)===d&&(g=new g(b,w+"enter",v,n,f),g.target=_,g.relatedTarget=x,S=g),x=S,p&&v)t:{for(g=p,b=v,w=0,_=g;_;_=Qf(_))w++;for(_=0,S=b;S;S=Qf(S))_++;for(;0<w-_;)g=Qf(g),w--;for(;0<_-w;)b=Qf(b),_--;for(;w--;){if(g===b||b!==null&&g===b.alternate)break t;g=Qf(g),b=Qf(b)}g=null}else g=null;p!==null&&GD(h,m,p,g,!1),v!==null&&x!==null&&GD(h,x,v,g,!0)}}e:{if(m=d?Rh(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=uee;else if(BD(m))if(H6)j=mee;else{j=fee;var N=dee}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=hee);if(j&&(j=j(e,d))){W6(h,j,n,f);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&MN(m,"number",m.value)}switch(N=d?Rh(d):window,e){case"focusin":(BD(N)||N.contentEditable==="true")&&(Ph=N,GN=d,rg=null);break;case"focusout":rg=GN=Ph=null;break;case"mousedown":YN=!0;break;case"contextmenu":case"mouseup":case"dragend":YN=!1,HD(h,n,f);break;case"selectionchange":if(vee)break;case"keydown":case"keyup":HD(h,n,f)}var k;if(UT)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Oh?V6(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(U6&&n.locale!=="ko"&&(Oh||C!=="onCompositionStart"?C==="onCompositionEnd"&&Oh&&(k=B6()):(fu=f,LT="value"in fu?fu.value:fu.textContent,Oh=!0)),N=Z1(d,C),0<N.length&&(C=new MD(C,e,null,n,f),h.push({event:C,listeners:N}),k?C.data=k:(k=z6(n),k!==null&&(C.data=k)))),(k=see?iee(e,n):oee(e,n))&&(d=Z1(d,"onBeforeInput"),0<d.length&&(f=new MD("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=k))}tB(h,r)})}function Vg(e,r,n){return{instance:e,listener:r,currentTarget:n}}function Z1(e,r){for(var n=r+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ig(e,n),i!=null&&a.unshift(Vg(e,i,s)),i=Ig(e,r),i!=null&&a.push(Vg(e,i,s))),e=e.return}return a}function Qf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function GD(e,r,n,a,s){for(var i=r._reactName,o=[];n!==null&&n!==a;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===a)break;c.tag===5&&d!==null&&(c=d,s?(u=Ig(n,i),u!=null&&o.unshift(Vg(n,u,c))):s||(u=Ig(n,i),u!=null&&o.push(Vg(n,u,c)))),n=n.return}o.length!==0&&e.push({event:r,listeners:o})}var bee=/\r\n?/g,_ee=/\u0000|\uFFFD/g;function YD(e){return(typeof e=="string"?e:""+e).replace(bee,`
`).replace(_ee,"")}function yy(e,r,n){if(r=YD(r),YD(e)!==r&&n)throw Error(Ke(425))}function ew(){}var XN=null,JN=null;function QN(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ZN=typeof setTimeout=="function"?setTimeout:void 0,See=typeof clearTimeout=="function"?clearTimeout:void 0,XD=typeof Promise=="function"?Promise:void 0,jee=typeof queueMicrotask=="function"?queueMicrotask:typeof XD<"u"?function(e){return XD.resolve(null).then(e).catch(kee)}:ZN;function kee(e){setTimeout(function(){throw e})}function Wj(e,r){var n=r,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(a===0){e.removeChild(s),Lg(r);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=s}while(n);Lg(r)}function _u(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function JD(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(r===0)return e;r--}else n==="/$"&&r++}e=e.previousSibling}return null}var Cp=Math.random().toString(36).slice(2),rl="__reactFiber$"+Cp,zg="__reactProps$"+Cp,dc="__reactContainer$"+Cp,e2="__reactEvents$"+Cp,Nee="__reactListeners$"+Cp,Eee="__reactHandles$"+Cp;function Ad(e){var r=e[rl];if(r)return r;for(var n=e.parentNode;n;){if(r=n[dc]||n[rl]){if(n=r.alternate,r.child!==null||n!==null&&n.child!==null)for(e=JD(e);e!==null;){if(n=e[rl])return n;e=JD(e)}return r}e=n,n=e.parentNode}return null}function cx(e){return e=e[rl]||e[dc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function v_(e){return e[zg]||null}var t2=[],Ih=-1;function Ku(e){return{current:e}}function Hr(e){0>Ih||(e.current=t2[Ih],t2[Ih]=null,Ih--)}function Fr(e,r){Ih++,t2[Ih]=e.current,e.current=r}var Iu={},Fa=Ku(Iu),Es=Ku(!1),lf=Iu;function Cm(e,r){var n=e.type.contextTypes;if(!n)return Iu;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=r[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cs(e){return e=e.childContextTypes,e!=null}function tw(){Hr(Es),Hr(Fa)}function QD(e,r,n){if(Fa.current!==Iu)throw Error(Ke(168));Fr(Fa,r),Fr(Es,n)}function nB(e,r,n){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var s in a)if(!(s in r))throw Error(Ke(108,dZ(e)||"Unknown",s));return rn({},n,a)}function rw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Iu,lf=Fa.current,Fr(Fa,e),Fr(Es,Es.current),!0}function ZD(e,r,n){var a=e.stateNode;if(!a)throw Error(Ke(169));n?(e=nB(e,r,lf),a.__reactInternalMemoizedMergedChildContext=e,Hr(Es),Hr(Fa),Fr(Fa,e)):Hr(Es),Fr(Es,n)}var Kl=null,x_=!1,Hj=!1;function aB(e){Kl===null?Kl=[e]:Kl.push(e)}function Cee(e){x_=!0,aB(e)}function Gu(){if(!Hj&&Kl!==null){Hj=!0;var e=0,r=_r;try{var n=Kl;for(_r=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Kl=null,x_=!1}catch(s){throw Kl!==null&&(Kl=Kl.slice(e+1)),T6(RT,Gu),s}finally{_r=r,Hj=!1}}return null}var Mh=[],Fh=0,nw=null,aw=0,Ai=[],Oi=0,cf=null,Jl=1,Ql="";function pd(e,r){Mh[Fh++]=aw,Mh[Fh++]=nw,nw=e,aw=r}function sB(e,r,n){Ai[Oi++]=Jl,Ai[Oi++]=Ql,Ai[Oi++]=cf,cf=e;var a=Jl;e=Ql;var s=32-So(a)-1;a&=~(1<<s),n+=1;var i=32-So(r)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,Jl=1<<32-So(r)+s|n<<s|a,Ql=i+e}else Jl=1<<i|n<<s|a,Ql=e}function zT(e){e.return!==null&&(pd(e,1),sB(e,1,0))}function WT(e){for(;e===nw;)nw=Mh[--Fh],Mh[Fh]=null,aw=Mh[--Fh],Mh[Fh]=null;for(;e===cf;)cf=Ai[--Oi],Ai[Oi]=null,Ql=Ai[--Oi],Ai[Oi]=null,Jl=Ai[--Oi],Ai[Oi]=null}var oi=null,ii=null,Gr=!1,go=null;function iB(e,r){var n=Ii(5,null,null,0);n.elementType="DELETED",n.stateNode=r,n.return=e,r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)}function eR(e,r){switch(e.tag){case 5:var n=e.type;return r=r.nodeType!==1||n.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,oi=e,ii=_u(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,oi=e,ii=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(n=cf!==null?{id:Jl,overflow:Ql}:null,e.memoizedState={dehydrated:r,treeContext:n,retryLane:1073741824},n=Ii(18,null,null,0),n.stateNode=r,n.return=e,e.child=n,oi=e,ii=null,!0):!1;default:return!1}}function r2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n2(e){if(Gr){var r=ii;if(r){var n=r;if(!eR(e,r)){if(r2(e))throw Error(Ke(418));r=_u(n.nextSibling);var a=oi;r&&eR(e,r)?iB(a,n):(e.flags=e.flags&-4097|2,Gr=!1,oi=e)}}else{if(r2(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,Gr=!1,oi=e}}}function tR(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;oi=e}function wy(e){if(e!==oi)return!1;if(!Gr)return tR(e),Gr=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!QN(e.type,e.memoizedProps)),r&&(r=ii)){if(r2(e))throw oB(),Error(Ke(418));for(;r;)iB(e,r),r=_u(r.nextSibling)}if(tR(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(r===0){ii=_u(e.nextSibling);break e}r--}else n!=="$"&&n!=="$!"&&n!=="$?"||r++}e=e.nextSibling}ii=null}}else ii=oi?_u(e.stateNode.nextSibling):null;return!0}function oB(){for(var e=ii;e;)e=_u(e.nextSibling)}function Tm(){ii=oi=null,Gr=!1}function HT(e){go===null?go=[e]:go.push(e)}var Tee=Nc.ReactCurrentBatchConfig;function m0(e,r,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var a=n.stateNode}if(!a)throw Error(Ke(147,e));var s=a,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(o){var c=s.refs;o===null?delete c[i]:c[i]=o},r._stringRef=i,r)}if(typeof e!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,e))}return e}function by(e,r){throw e=Object.prototype.toString.call(r),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function rR(e){var r=e._init;return r(e._payload)}function lB(e){function r(b,w){if(e){var _=b.deletions;_===null?(b.deletions=[w],b.flags|=16):_.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function a(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Nu(b,w),b.index=0,b.sibling=null,b}function i(b,w,_){return b.index=_,e?(_=b.alternate,_!==null?(_=_.index,_<w?(b.flags|=2,w):_):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,w,_,S){return w===null||w.tag!==6?(w=Qj(_,b.mode,S),w.return=b,w):(w=s(w,_),w.return=b,w)}function u(b,w,_,S){var j=_.type;return j===Ah?f(b,w,_.props.children,S,_.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wc&&rR(j)===w.type)?(S=s(w,_.props),S.ref=m0(b,w,_),S.return=b,S):(S=O1(_.type,_.key,_.props,null,b.mode,S),S.ref=m0(b,w,_),S.return=b,S)}function d(b,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Zj(_,b.mode,S),w.return=b,w):(w=s(w,_.children||[]),w.return=b,w)}function f(b,w,_,S,j){return w===null||w.tag!==7?(w=Zd(_,b.mode,S,j),w.return=b,w):(w=s(w,_),w.return=b,w)}function h(b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Qj(""+w,b.mode,_),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uy:return _=O1(w.type,w.key,w.props,null,b.mode,_),_.ref=m0(b,null,w),_.return=b,_;case Th:return w=Zj(w,b.mode,_),w.return=b,w;case Wc:var S=w._init;return h(b,S(w._payload),_)}if(L0(w)||c0(w))return w=Zd(w,b.mode,_,null),w.return=b,w;by(b,w)}return null}function m(b,w,_,S){var j=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return j!==null?null:c(b,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uy:return _.key===j?u(b,w,_,S):null;case Th:return _.key===j?d(b,w,_,S):null;case Wc:return j=_._init,m(b,w,j(_._payload),S)}if(L0(_)||c0(_))return j!==null?null:f(b,w,_,S,null);by(b,_)}return null}function p(b,w,_,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(_)||null,c(w,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uy:return b=b.get(S.key===null?_:S.key)||null,u(w,b,S,j);case Th:return b=b.get(S.key===null?_:S.key)||null,d(w,b,S,j);case Wc:var N=S._init;return p(b,w,_,N(S._payload),j)}if(L0(S)||c0(S))return b=b.get(_)||null,f(w,b,S,j,null);by(w,S)}return null}function v(b,w,_,S){for(var j=null,N=null,k=w,C=w=0,E=null;k!==null&&C<_.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var P=m(b,k,_[C],S);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&r(b,k),w=i(P,w,C),N===null?j=P:N.sibling=P,N=P,k=E}if(C===_.length)return n(b,k),Gr&&pd(b,C),j;if(k===null){for(;C<_.length;C++)k=h(b,_[C],S),k!==null&&(w=i(k,w,C),N===null?j=k:N.sibling=k,N=k);return Gr&&pd(b,C),j}for(k=a(b,k);C<_.length;C++)E=p(k,b,C,_[C],S),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),w=i(E,w,C),N===null?j=E:N.sibling=E,N=E);return e&&k.forEach(function(I){return r(b,I)}),Gr&&pd(b,C),j}function g(b,w,_,S){var j=c0(_);if(typeof j!="function")throw Error(Ke(150));if(_=j.call(_),_==null)throw Error(Ke(151));for(var N=j=null,k=w,C=w=0,E=null,P=_.next();k!==null&&!P.done;C++,P=_.next()){k.index>C?(E=k,k=null):E=k.sibling;var I=m(b,k,P.value,S);if(I===null){k===null&&(k=E);break}e&&k&&I.alternate===null&&r(b,k),w=i(I,w,C),N===null?j=I:N.sibling=I,N=I,k=E}if(P.done)return n(b,k),Gr&&pd(b,C),j;if(k===null){for(;!P.done;C++,P=_.next())P=h(b,P.value,S),P!==null&&(w=i(P,w,C),N===null?j=P:N.sibling=P,N=P);return Gr&&pd(b,C),j}for(k=a(b,k);!P.done;C++,P=_.next())P=p(k,b,C,P.value,S),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?C:P.key),w=i(P,w,C),N===null?j=P:N.sibling=P,N=P);return e&&k.forEach(function(T){return r(b,T)}),Gr&&pd(b,C),j}function x(b,w,_,S){if(typeof _=="object"&&_!==null&&_.type===Ah&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case uy:e:{for(var j=_.key,N=w;N!==null;){if(N.key===j){if(j=_.type,j===Ah){if(N.tag===7){n(b,N.sibling),w=s(N,_.props.children),w.return=b,b=w;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wc&&rR(j)===N.type){n(b,N.sibling),w=s(N,_.props),w.ref=m0(b,N,_),w.return=b,b=w;break e}n(b,N);break}else r(b,N);N=N.sibling}_.type===Ah?(w=Zd(_.props.children,b.mode,S,_.key),w.return=b,b=w):(S=O1(_.type,_.key,_.props,null,b.mode,S),S.ref=m0(b,w,_),S.return=b,b=S)}return o(b);case Th:e:{for(N=_.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(b,w.sibling),w=s(w,_.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else r(b,w);w=w.sibling}w=Zj(_,b.mode,S),w.return=b,b=w}return o(b);case Wc:return N=_._init,x(b,w,N(_._payload),S)}if(L0(_))return v(b,w,_,S);if(c0(_))return g(b,w,_,S);by(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,_),w.return=b,b=w):(n(b,w),w=Qj(_,b.mode,S),w.return=b,b=w),o(b)):n(b,w)}return x}var Am=lB(!0),cB=lB(!1),sw=Ku(null),iw=null,Lh=null,qT=null;function KT(){qT=Lh=iw=null}function GT(e){var r=sw.current;Hr(sw),e._currentValue=r}function a2(e,r,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===n)break;e=e.return}}function Qh(e,r){iw=e,qT=Lh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(js=!0),e.firstContext=null)}function Bi(e){var r=e._currentValue;if(qT!==e)if(e={context:e,memoizedValue:r,next:null},Lh===null){if(iw===null)throw Error(Ke(308));Lh=e,iw.dependencies={lanes:0,firstContext:e}}else Lh=Lh.next=e;return r}var Od=null;function YT(e){Od===null?Od=[e]:Od.push(e)}function uB(e,r,n,a){var s=r.interleaved;return s===null?(n.next=n,YT(r)):(n.next=s.next,s.next=n),r.interleaved=n,fc(e,a)}function fc(e,r){e.lanes|=r;var n=e.alternate;for(n!==null&&(n.lanes|=r),n=e,e=e.return;e!==null;)e.childLanes|=r,n=e.alternate,n!==null&&(n.childLanes|=r),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hc=!1;function XT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dB(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ac(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Su(e,r,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ir&2){var s=a.pending;return s===null?r.next=r:(r.next=s.next,s.next=r),a.pending=r,fc(e,n)}return s=a.interleaved,s===null?(r.next=r,YT(a)):(r.next=s.next,s.next=r),a.interleaved=r,fc(e,n)}function k1(e,r,n){if(r=r.updateQueue,r!==null&&(r=r.shared,(n&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,IT(e,n)}}function nR(e,r){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=r:i=i.next=r}else s=i=r;n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=r:e.next=r,n.lastBaseUpdate=r}function ow(e,r,n,a){var s=e.updateQueue;Hc=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,f=d=u=null,c=i;do{var m=c.lane,p=c.eventTime;if((a&m)===m){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,g=c;switch(m=r,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,m=typeof v=="function"?v.call(p,h,m):v,m==null)break e;h=rn({},h,m);break e;case 2:Hc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else p={eventTime:p,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=p,u=h):f=f.next=p,o|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,r=s.shared.interleaved,r!==null){s=r;do o|=s.lane,s=s.next;while(s!==r)}else i===null&&(s.shared.lanes=0);df|=o,e.lanes=o,e.memoizedState=h}}function aR(e,r,n){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],s=a.callback;if(s!==null){if(a.callback=null,a=n,typeof s!="function")throw Error(Ke(191,s));s.call(a)}}}var ux={},hl=Ku(ux),Wg=Ku(ux),Hg=Ku(ux);function Pd(e){if(e===ux)throw Error(Ke(174));return e}function JT(e,r){switch(Fr(Hg,r),Fr(Wg,e),Fr(hl,ux),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:LN(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=LN(r,e)}Hr(hl),Fr(hl,r)}function Om(){Hr(hl),Hr(Wg),Hr(Hg)}function fB(e){Pd(Hg.current);var r=Pd(hl.current),n=LN(r,e.type);r!==n&&(Fr(Wg,e),Fr(hl,n))}function QT(e){Wg.current===e&&(Hr(hl),Hr(Wg))}var Qr=Ku(0);function lw(e){for(var r=e;r!==null;){if(r.tag===13){var n=r.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var qj=[];function ZT(){for(var e=0;e<qj.length;e++)qj[e]._workInProgressVersionPrimary=null;qj.length=0}var N1=Nc.ReactCurrentDispatcher,Kj=Nc.ReactCurrentBatchConfig,uf=0,tn=null,$n=null,Yn=null,cw=!1,ng=!1,qg=0,Aee=0;function va(){throw Error(Ke(321))}function eA(e,r){if(r===null)return!1;for(var n=0;n<r.length&&n<e.length;n++)if(!Eo(e[n],r[n]))return!1;return!0}function tA(e,r,n,a,s,i){if(uf=i,tn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,N1.current=e===null||e.memoizedState===null?Ree:Iee,e=n(a,s),ng){i=0;do{if(ng=!1,qg=0,25<=i)throw Error(Ke(301));i+=1,Yn=$n=null,r.updateQueue=null,N1.current=Mee,e=n(a,s)}while(ng)}if(N1.current=uw,r=$n!==null&&$n.next!==null,uf=0,Yn=$n=tn=null,cw=!1,r)throw Error(Ke(300));return e}function rA(){var e=qg!==0;return qg=0,e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?tn.memoizedState=Yn=e:Yn=Yn.next=e,Yn}function Ui(){if($n===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=$n.next;var r=Yn===null?tn.memoizedState:Yn.next;if(r!==null)Yn=r,$n=e;else{if(e===null)throw Error(Ke(310));$n=e,e={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Yn===null?tn.memoizedState=Yn=e:Yn=Yn.next=e}return Yn}function Kg(e,r){return typeof r=="function"?r(e):r}function Gj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=$n,s=a.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,a=a.baseState;var c=o=null,u=null,d=i;do{var f=d.lane;if((uf&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=h,o=a):u=u.next=h,tn.lanes|=f,df|=f}d=d.next}while(d!==null&&d!==i);u===null?o=a:u.next=c,Eo(a,r.memoizedState)||(js=!0),r.memoizedState=a,r.baseState=o,r.baseQueue=u,n.lastRenderedState=a}if(e=n.interleaved,e!==null){s=e;do i=s.lane,tn.lanes|=i,df|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[r.memoizedState,n.dispatch]}function Yj(e){var r=Ui(),n=r.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,i=r.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Eo(i,r.memoizedState)||(js=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),n.lastRenderedState=i}return[i,a]}function hB(){}function mB(e,r){var n=tn,a=Ui(),s=r(),i=!Eo(a.memoizedState,s);if(i&&(a.memoizedState=s,js=!0),a=a.queue,nA(vB.bind(null,n,a,e),[e]),a.getSnapshot!==r||i||Yn!==null&&Yn.memoizedState.tag&1){if(n.flags|=2048,Gg(9,gB.bind(null,n,a,s,r),void 0,null),Zn===null)throw Error(Ke(349));uf&30||pB(n,r,s)}return s}function pB(e,r,n){e.flags|=16384,e={getSnapshot:r,value:n},r=tn.updateQueue,r===null?(r={lastEffect:null,stores:null},tn.updateQueue=r,r.stores=[e]):(n=r.stores,n===null?r.stores=[e]:n.push(e))}function gB(e,r,n,a){r.value=n,r.getSnapshot=a,xB(r)&&yB(e)}function vB(e,r,n){return n(function(){xB(r)&&yB(e)})}function xB(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Eo(e,n)}catch{return!0}}function yB(e){var r=fc(e,1);r!==null&&jo(r,e,1,-1)}function sR(e){var r=Yo();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kg,lastRenderedState:e},r.queue=e,e=e.dispatch=Dee.bind(null,tn,e),[r.memoizedState,e]}function Gg(e,r,n,a){return e={tag:e,create:r,destroy:n,deps:a,next:null},r=tn.updateQueue,r===null?(r={lastEffect:null,stores:null},tn.updateQueue=r,r.lastEffect=e.next=e):(n=r.lastEffect,n===null?r.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,r.lastEffect=e)),e}function wB(){return Ui().memoizedState}function E1(e,r,n,a){var s=Yo();tn.flags|=e,s.memoizedState=Gg(1|r,n,void 0,a===void 0?null:a)}function y_(e,r,n,a){var s=Ui();a=a===void 0?null:a;var i=void 0;if($n!==null){var o=$n.memoizedState;if(i=o.destroy,a!==null&&eA(a,o.deps)){s.memoizedState=Gg(r,n,i,a);return}}tn.flags|=e,s.memoizedState=Gg(1|r,n,i,a)}function iR(e,r){return E1(8390656,8,e,r)}function nA(e,r){return y_(2048,8,e,r)}function bB(e,r){return y_(4,2,e,r)}function _B(e,r){return y_(4,4,e,r)}function SB(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function jB(e,r,n){return n=n!=null?n.concat([e]):null,y_(4,4,SB.bind(null,r,e),n)}function aA(){}function kB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&eA(r,a[1])?a[0]:(n.memoizedState=[e,r],e)}function NB(e,r){var n=Ui();r=r===void 0?null:r;var a=n.memoizedState;return a!==null&&r!==null&&eA(r,a[1])?a[0]:(e=e(),n.memoizedState=[e,r],e)}function EB(e,r,n){return uf&21?(Eo(n,r)||(n=P6(),tn.lanes|=n,df|=n,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,js=!0),e.memoizedState=n)}function Oee(e,r){var n=_r;_r=n!==0&&4>n?n:4,e(!0);var a=Kj.transition;Kj.transition={};try{e(!1),r()}finally{_r=n,Kj.transition=a}}function CB(){return Ui().memoizedState}function Pee(e,r,n){var a=ku(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},TB(e))AB(r,n);else if(n=uB(e,r,n,a),n!==null){var s=ls();jo(n,e,a,s),OB(n,r,a)}}function Dee(e,r,n){var a=ku(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(TB(e))AB(r,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var o=r.lastRenderedState,c=i(o,n);if(s.hasEagerState=!0,s.eagerState=c,Eo(c,o)){var u=r.interleaved;u===null?(s.next=s,YT(r)):(s.next=u.next,u.next=s),r.interleaved=s;return}}catch{}finally{}n=uB(e,r,s,a),n!==null&&(s=ls(),jo(n,e,a,s),OB(n,r,a))}}function TB(e){var r=e.alternate;return e===tn||r!==null&&r===tn}function AB(e,r){ng=cw=!0;var n=e.pending;n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r}function OB(e,r,n){if(n&4194240){var a=r.lanes;a&=e.pendingLanes,n|=a,r.lanes=n,IT(e,n)}}var uw={readContext:Bi,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},Ree={readContext:Bi,useCallback:function(e,r){return Yo().memoizedState=[e,r===void 0?null:r],e},useContext:Bi,useEffect:iR,useImperativeHandle:function(e,r,n){return n=n!=null?n.concat([e]):null,E1(4194308,4,SB.bind(null,r,e),n)},useLayoutEffect:function(e,r){return E1(4194308,4,e,r)},useInsertionEffect:function(e,r){return E1(4,2,e,r)},useMemo:function(e,r){var n=Yo();return r=r===void 0?null:r,e=e(),n.memoizedState=[e,r],e},useReducer:function(e,r,n){var a=Yo();return r=n!==void 0?n(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Pee.bind(null,tn,e),[a.memoizedState,e]},useRef:function(e){var r=Yo();return e={current:e},r.memoizedState=e},useState:sR,useDebugValue:aA,useDeferredValue:function(e){return Yo().memoizedState=e},useTransition:function(){var e=sR(!1),r=e[0];return e=Oee.bind(null,e[1]),Yo().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,n){var a=tn,s=Yo();if(Gr){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=r(),Zn===null)throw Error(Ke(349));uf&30||pB(a,r,n)}s.memoizedState=n;var i={value:n,getSnapshot:r};return s.queue=i,iR(vB.bind(null,a,i,e),[e]),a.flags|=2048,Gg(9,gB.bind(null,a,i,n,r),void 0,null),n},useId:function(){var e=Yo(),r=Zn.identifierPrefix;if(Gr){var n=Ql,a=Jl;n=(a&~(1<<32-So(a)-1)).toString(32)+n,r=":"+r+"R"+n,n=qg++,0<n&&(r+="H"+n.toString(32)),r+=":"}else n=Aee++,r=":"+r+"r"+n.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Iee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:nA,useImperativeHandle:jB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:NB,useReducer:Gj,useRef:wB,useState:function(){return Gj(Kg)},useDebugValue:aA,useDeferredValue:function(e){var r=Ui();return EB(r,$n.memoizedState,e)},useTransition:function(){var e=Gj(Kg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:CB,unstable_isNewReconciler:!1},Mee={readContext:Bi,useCallback:kB,useContext:Bi,useEffect:nA,useImperativeHandle:jB,useInsertionEffect:bB,useLayoutEffect:_B,useMemo:NB,useReducer:Yj,useRef:wB,useState:function(){return Yj(Kg)},useDebugValue:aA,useDeferredValue:function(e){var r=Ui();return $n===null?r.memoizedState=e:EB(r,$n.memoizedState,e)},useTransition:function(){var e=Yj(Kg)[0],r=Ui().memoizedState;return[e,r]},useMutableSource:hB,useSyncExternalStore:mB,useId:CB,unstable_isNewReconciler:!1};function so(e,r){if(e&&e.defaultProps){r=rn({},r),e=e.defaultProps;for(var n in e)r[n]===void 0&&(r[n]=e[n]);return r}return r}function s2(e,r,n,a){r=e.memoizedState,n=n(a,r),n=n==null?r:rn({},r,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var w_={isMounted:function(e){return(e=e._reactInternals)?Mf(e)===e:!1},enqueueSetState:function(e,r,n){e=e._reactInternals;var a=ls(),s=ku(e),i=ac(a,s);i.payload=r,n!=null&&(i.callback=n),r=Su(e,i,s),r!==null&&(jo(r,e,s,a),k1(r,e,s))},enqueueReplaceState:function(e,r,n){e=e._reactInternals;var a=ls(),s=ku(e),i=ac(a,s);i.tag=1,i.payload=r,n!=null&&(i.callback=n),r=Su(e,i,s),r!==null&&(jo(r,e,s,a),k1(r,e,s))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var n=ls(),a=ku(e),s=ac(n,a);s.tag=2,r!=null&&(s.callback=r),r=Su(e,s,a),r!==null&&(jo(r,e,a,n),k1(r,e,a))}};function oR(e,r,n,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):r.prototype&&r.prototype.isPureReactComponent?!Bg(n,a)||!Bg(s,i):!0}function PB(e,r,n){var a=!1,s=Iu,i=r.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(s=Cs(r)?lf:Fa.current,a=r.contextTypes,i=(a=a!=null)?Cm(e,s):Iu),r=new r(n,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=w_,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),r}function lR(e,r,n,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(n,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(n,a),r.state!==e&&w_.enqueueReplaceState(r,r.state,null)}function i2(e,r,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},XT(e);var i=r.contextType;typeof i=="object"&&i!==null?s.context=Bi(i):(i=Cs(r)?lf:Fa.current,s.context=Cm(e,i)),s.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(s2(e,r,i,n),s.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&w_.enqueueReplaceState(s,s.state,null),ow(e,n,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Pm(e,r){try{var n="",a=r;do n+=uZ(a),a=a.return;while(a);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:s,digest:null}}function Xj(e,r,n){return{value:e,source:null,stack:n??null,digest:r??null}}function o2(e,r){try{console.error(r.value)}catch(n){setTimeout(function(){throw n})}}var Fee=typeof WeakMap=="function"?WeakMap:Map;function DB(e,r,n){n=ac(-1,n),n.tag=3,n.payload={element:null};var a=r.value;return n.callback=function(){fw||(fw=!0,v2=a),o2(e,r)},n}function RB(e,r,n){n=ac(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=r.value;n.payload=function(){return a(s)},n.callback=function(){o2(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){o2(e,r),typeof a!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})}),n}function cR(e,r,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Fee;var s=new Set;a.set(r,s)}else s=a.get(r),s===void 0&&(s=new Set,a.set(r,s));s.has(n)||(s.add(n),e=Jee.bind(null,e,r,n),r.then(e,e))}function uR(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function dR(e,r,n,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===r?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(r=ac(-1,1),r.tag=2,Su(n,r,1))),n.lanes|=1),e)}var Lee=Nc.ReactCurrentOwner,js=!1;function Xa(e,r,n,a){r.child=e===null?cB(r,null,n,a):Am(r,e.child,n,a)}function fR(e,r,n,a,s){n=n.render;var i=r.ref;return Qh(r,s),a=tA(e,r,n,a,i,s),n=rA(),e!==null&&!js?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,hc(e,r,s)):(Gr&&n&&zT(r),r.flags|=1,Xa(e,r,a,s),r.child)}function hR(e,r,n,a,s){if(e===null){var i=n.type;return typeof i=="function"&&!fA(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(r.tag=15,r.type=i,IB(e,r,i,a,s)):(e=O1(n.type,null,a,r,r.mode,s),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bg,n(o,a)&&e.ref===r.ref)return hc(e,r,s)}return r.flags|=1,e=Nu(i,a),e.ref=r.ref,e.return=r,r.child=e}function IB(e,r,n,a,s){if(e!==null){var i=e.memoizedProps;if(Bg(i,a)&&e.ref===r.ref)if(js=!1,r.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(js=!0);else return r.lanes=e.lanes,hc(e,r,s)}return l2(e,r,n,a,s)}function MB(e,r,n){var a=r.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Bh,Ys),Ys|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Fr(Bh,Ys),Ys|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:n,Fr(Bh,Ys),Ys|=a}else i!==null?(a=i.baseLanes|n,r.memoizedState=null):a=n,Fr(Bh,Ys),Ys|=a;return Xa(e,r,s,n),r.child}function FB(e,r){var n=r.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(r.flags|=512,r.flags|=2097152)}function l2(e,r,n,a,s){var i=Cs(n)?lf:Fa.current;return i=Cm(r,i),Qh(r,s),n=tA(e,r,n,a,i,s),a=rA(),e!==null&&!js?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~s,hc(e,r,s)):(Gr&&a&&zT(r),r.flags|=1,Xa(e,r,n,s),r.child)}function mR(e,r,n,a,s){if(Cs(n)){var i=!0;rw(r)}else i=!1;if(Qh(r,s),r.stateNode===null)C1(e,r),PB(r,n,a),i2(r,n,a,s),a=!0;else if(e===null){var o=r.stateNode,c=r.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Bi(d):(d=Cs(n)?lf:Fa.current,d=Cm(r,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==a||u!==d)&&lR(r,o,a,d),Hc=!1;var m=r.memoizedState;o.state=m,ow(r,a,o,s),u=r.memoizedState,c!==a||m!==u||Es.current||Hc?(typeof f=="function"&&(s2(r,n,f,a),u=r.memoizedState),(c=Hc||oR(r,n,c,a,m,u,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(r.flags|=4194308)):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=u),o.props=a,o.state=u,o.context=d,a=c):(typeof o.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{o=r.stateNode,dB(e,r),c=r.memoizedProps,d=r.type===r.elementType?c:so(r.type,c),o.props=d,h=r.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bi(u):(u=Cs(n)?lf:Fa.current,u=Cm(r,u));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||m!==u)&&lR(r,o,a,u),Hc=!1,m=r.memoizedState,o.state=m,ow(r,a,o,s);var v=r.memoizedState;c!==h||m!==v||Es.current||Hc?(typeof p=="function"&&(s2(r,n,p,a),v=r.memoizedState),(d=Hc||oR(r,n,d,a,m,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,v,u)),typeof o.componentDidUpdate=="function"&&(r.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=v),o.props=a,o.state=v,o.context=u,a=d):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(r.flags|=1024),a=!1)}return c2(e,r,n,a,i,s)}function c2(e,r,n,a,s,i){FB(e,r);var o=(r.flags&128)!==0;if(!a&&!o)return s&&ZD(r,n,!1),hc(e,r,i);a=r.stateNode,Lee.current=r;var c=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&o?(r.child=Am(r,e.child,null,i),r.child=Am(r,null,c,i)):Xa(e,r,c,i),r.memoizedState=a.state,s&&ZD(r,n,!0),r.child}function LB(e){var r=e.stateNode;r.pendingContext?QD(e,r.pendingContext,r.pendingContext!==r.context):r.context&&QD(e,r.context,!1),JT(e,r.containerInfo)}function pR(e,r,n,a,s){return Tm(),HT(s),r.flags|=256,Xa(e,r,n,a),r.child}var u2={dehydrated:null,treeContext:null,retryLane:0};function d2(e){return{baseLanes:e,cachePool:null,transitions:null}}function $B(e,r,n){var a=r.pendingProps,s=Qr.current,i=!1,o=(r.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Fr(Qr,s&1),e===null)return n2(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(o=a.children,e=a.fallback,i?(a=r.mode,i=r.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=S_(o,a,0,null),e=Zd(e,a,n,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=d2(n),r.memoizedState=u2,e):sA(r,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return $ee(e,r,o,a,c,s,n);if(i){i=a.fallback,o=r.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:a.children};return!(o&1)&&r.child!==s?(a=r.child,a.childLanes=0,a.pendingProps=u,r.deletions=null):(a=Nu(s,u),a.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Nu(c,i):(i=Zd(i,o,n,null),i.flags|=2),i.return=r,a.return=r,a.sibling=i,r.child=a,a=i,i=r.child,o=e.child.memoizedState,o=o===null?d2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,r.memoizedState=u2,a}return i=e.child,e=i.sibling,a=Nu(i,{mode:"visible",children:a.children}),!(r.mode&1)&&(a.lanes=n),a.return=r,a.sibling=null,e!==null&&(n=r.deletions,n===null?(r.deletions=[e],r.flags|=16):n.push(e)),r.child=a,r.memoizedState=null,a}function sA(e,r){return r=S_({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function _y(e,r,n,a){return a!==null&&HT(a),Am(r,e.child,null,n),e=sA(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function $ee(e,r,n,a,s,i,o){if(n)return r.flags&256?(r.flags&=-257,a=Xj(Error(Ke(422))),_y(e,r,o,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=a.fallback,s=r.mode,a=S_({mode:"visible",children:a.children},s,0,null),i=Zd(i,s,o,null),i.flags|=2,a.return=r,i.return=r,a.sibling=i,r.child=a,r.mode&1&&Am(r,e.child,null,o),r.child.memoizedState=d2(o),r.memoizedState=u2,i);if(!(r.mode&1))return _y(e,r,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var c=a.dgst;return a=c,i=Error(Ke(419)),a=Xj(i,a,void 0),_y(e,r,o,a)}if(c=(o&e.childLanes)!==0,js||c){if(a=Zn,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fc(e,s),jo(a,e,s,-1))}return dA(),a=Xj(Error(Ke(421))),_y(e,r,o,a)}return s.data==="$?"?(r.flags|=128,r.child=e.child,r=Qee.bind(null,e),s._reactRetry=r,null):(e=i.treeContext,ii=_u(s.nextSibling),oi=r,Gr=!0,go=null,e!==null&&(Ai[Oi++]=Jl,Ai[Oi++]=Ql,Ai[Oi++]=cf,Jl=e.id,Ql=e.overflow,cf=r),r=sA(r,a.children),r.flags|=4096,r)}function gR(e,r,n){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),a2(e.return,r,n)}function Jj(e,r,n,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function BB(e,r,n){var a=r.pendingProps,s=a.revealOrder,i=a.tail;if(Xa(e,r,a.children,n),a=Qr.current,a&2)a=a&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gR(e,n,r);else if(e.tag===19)gR(e,n,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Fr(Qr,a),!(r.mode&1))r.memoizedState=null;else switch(s){case"forwards":for(n=r.child,s=null;n!==null;)e=n.alternate,e!==null&&lw(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=r.child,r.child=null):(s=n.sibling,n.sibling=null),Jj(r,!1,s,n,i);break;case"backwards":for(n=null,s=r.child,r.child=null;s!==null;){if(e=s.alternate,e!==null&&lw(e)===null){r.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jj(r,!0,n,null,i);break;case"together":Jj(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function C1(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function hc(e,r,n){if(e!==null&&(r.dependencies=e.dependencies),df|=r.lanes,!(n&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(Ke(153));if(r.child!==null){for(e=r.child,n=Nu(e,e.pendingProps),r.child=n,n.return=r;e.sibling!==null;)e=e.sibling,n=n.sibling=Nu(e,e.pendingProps),n.return=r;n.sibling=null}return r.child}function Bee(e,r,n){switch(r.tag){case 3:LB(r),Tm();break;case 5:fB(r);break;case 1:Cs(r.type)&&rw(r);break;case 4:JT(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,s=r.memoizedProps.value;Fr(sw,a._currentValue),a._currentValue=s;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(Fr(Qr,Qr.current&1),r.flags|=128,null):n&r.child.childLanes?$B(e,r,n):(Fr(Qr,Qr.current&1),e=hc(e,r,n),e!==null?e.sibling:null);Fr(Qr,Qr.current&1);break;case 19:if(a=(n&r.childLanes)!==0,e.flags&128){if(a)return BB(e,r,n);r.flags|=128}if(s=r.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Fr(Qr,Qr.current),a)break;return null;case 22:case 23:return r.lanes=0,MB(e,r,n)}return hc(e,r,n)}var UB,f2,VB,zB;UB=function(e,r){for(var n=r.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break;for(;n.sibling===null;){if(n.return===null||n.return===r)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f2=function(){};VB=function(e,r,n,a){var s=e.memoizedProps;if(s!==a){e=r.stateNode,Pd(hl.current);var i=null;switch(n){case"input":s=RN(e,s),a=RN(e,a),i=[];break;case"select":s=rn({},s,{value:void 0}),a=rn({},a,{value:void 0}),i=[];break;case"textarea":s=FN(e,s),a=FN(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ew)}$N(n,a);var o;n=null;for(d in s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Dg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var u=a[d];if(c=s!=null?s[d]:void 0,a.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Dg.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Vr("scroll",e),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};zB=function(e,r,n,a){n!==a&&(r.flags|=4)};function p0(e,r){if(!Gr)switch(e.tailMode){case"hidden":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function xa(e){var r=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(r)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,r}function Uee(e,r,n){var a=r.pendingProps;switch(WT(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(r),null;case 1:return Cs(r.type)&&tw(),xa(r),null;case 3:return a=r.stateNode,Om(),Hr(Es),Hr(Fa),ZT(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wy(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,go!==null&&(w2(go),go=null))),f2(e,r),xa(r),null;case 5:QT(r);var s=Pd(Hg.current);if(n=r.type,e!==null&&r.stateNode!=null)VB(e,r,n,a,s),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(Ke(166));return xa(r),null}if(e=Pd(hl.current),wy(r)){a=r.stateNode,n=r.type;var i=r.memoizedProps;switch(a[rl]=r,a[zg]=i,e=(r.mode&1)!==0,n){case"dialog":Vr("cancel",a),Vr("close",a);break;case"iframe":case"object":case"embed":Vr("load",a);break;case"video":case"audio":for(s=0;s<B0.length;s++)Vr(B0[s],a);break;case"source":Vr("error",a);break;case"img":case"image":case"link":Vr("error",a),Vr("load",a);break;case"details":Vr("toggle",a);break;case"input":kD(a,i),Vr("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Vr("invalid",a);break;case"textarea":ED(a,i),Vr("invalid",a)}$N(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?a.textContent!==c&&(i.suppressHydrationWarning!==!0&&yy(a.textContent,c,e),s=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&yy(a.textContent,c,e),s=["children",""+c]):Dg.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Vr("scroll",a)}switch(n){case"input":dy(a),ND(a,i,!0);break;case"textarea":dy(a),CD(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=ew)}a=s,r.updateQueue=a,a!==null&&(r.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v6(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),n==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[rl]=r,e[zg]=a,UB(e,r,!1,!1),r.stateNode=e;e:{switch(o=BN(n,a),n){case"dialog":Vr("cancel",e),Vr("close",e),s=a;break;case"iframe":case"object":case"embed":Vr("load",e),s=a;break;case"video":case"audio":for(s=0;s<B0.length;s++)Vr(B0[s],e);s=a;break;case"source":Vr("error",e),s=a;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),s=a;break;case"details":Vr("toggle",e),s=a;break;case"input":kD(e,a),s=RN(e,a),Vr("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=rn({},a,{value:void 0}),Vr("invalid",e);break;case"textarea":ED(e,a),s=FN(e,a),Vr("invalid",e);break;default:s=a}$N(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?w6(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&x6(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Rg(e,u):typeof u=="number"&&Rg(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dg.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Vr("scroll",e):u!=null&&TT(e,i,u,o))}switch(n){case"input":dy(e),ND(e,a,!1);break;case"textarea":dy(e),CD(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Ru(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?Gh(e,!!a.multiple,i,!1):a.defaultValue!=null&&Gh(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ew)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return xa(r),null;case 6:if(e&&r.stateNode!=null)zB(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(Ke(166));if(n=Pd(Hg.current),Pd(hl.current),wy(r)){if(a=r.stateNode,n=r.memoizedProps,a[rl]=r,(i=a.nodeValue!==n)&&(e=oi,e!==null))switch(e.tag){case 3:yy(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yy(a.nodeValue,n,(e.mode&1)!==0)}i&&(r.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[rl]=r,r.stateNode=a}return xa(r),null;case 13:if(Hr(Qr),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&ii!==null&&r.mode&1&&!(r.flags&128))oB(),Tm(),r.flags|=98560,i=!1;else if(i=wy(r),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[rl]=r}else Tm(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;xa(r),i=!1}else go!==null&&(w2(go),go=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=n,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,r.mode&1&&(e===null||Qr.current&1?Un===0&&(Un=3):dA())),r.updateQueue!==null&&(r.flags|=4),xa(r),null);case 4:return Om(),f2(e,r),e===null&&Ug(r.stateNode.containerInfo),xa(r),null;case 10:return GT(r.type._context),xa(r),null;case 17:return Cs(r.type)&&tw(),xa(r),null;case 19:if(Hr(Qr),i=r.memoizedState,i===null)return xa(r),null;if(a=(r.flags&128)!==0,o=i.rendering,o===null)if(a)p0(i,!1);else{if(Un!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(o=lw(e),o!==null){for(r.flags|=128,p0(i,!1),a=o.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=n,n=r.child;n!==null;)i=n,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fr(Qr,Qr.current&1|2),r.child}e=e.sibling}i.tail!==null&&hn()>Dm&&(r.flags|=128,a=!0,p0(i,!1),r.lanes=4194304)}else{if(!a)if(e=lw(o),e!==null){if(r.flags|=128,a=!0,n=e.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),p0(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Gr)return xa(r),null}else 2*hn()-i.renderingStartTime>Dm&&n!==1073741824&&(r.flags|=128,a=!0,p0(i,!1),r.lanes=4194304);i.isBackwards?(o.sibling=r.child,r.child=o):(n=i.last,n!==null?n.sibling=o:r.child=o,i.last=o)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=hn(),r.sibling=null,n=Qr.current,Fr(Qr,a?n&1|2:n&1),r):(xa(r),null);case 22:case 23:return uA(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&r.mode&1?Ys&1073741824&&(xa(r),r.subtreeFlags&6&&(r.flags|=8192)):xa(r),null;case 24:return null;case 25:return null}throw Error(Ke(156,r.tag))}function Vee(e,r){switch(WT(r),r.tag){case 1:return Cs(r.type)&&tw(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Om(),Hr(Es),Hr(Fa),ZT(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return QT(r),null;case 13:if(Hr(Qr),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(Ke(340));Tm()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Hr(Qr),null;case 4:return Om(),null;case 10:return GT(r.type._context),null;case 22:case 23:return uA(),null;case 24:return null;default:return null}}var Sy=!1,Aa=!1,zee=typeof WeakSet=="function"?WeakSet:Set,it=null;function $h(e,r){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){sn(e,r,a)}else n.current=null}function h2(e,r,n){try{n()}catch(a){sn(e,r,a)}}var vR=!1;function Wee(e,r){if(XN=J1,e=G6(),VT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,f=0,h=e,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(c=o+s),h!==i||a!==0&&h.nodeType!==3||(u=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(c=o),m===i&&++f===a&&(u=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(JN={focusedElem:e,selectionRange:n},J1=!1,it=r;it!==null;)if(r=it,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,it=e;else for(;it!==null;){r=it;try{var v=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,x=v.memoizedState,b=r.stateNode,w=b.getSnapshotBeforeUpdate(r.elementType===r.type?g:so(r.type,g),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=r.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(S){sn(r,r.return,S)}if(e=r.sibling,e!==null){e.return=r.return,it=e;break}it=r.return}return v=vR,vR=!1,v}function ag(e,r,n){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&h2(r,n,i)}s=s.next}while(s!==a)}}function b_(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==r)}}function m2(e){var r=e.ref;if(r!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof r=="function"?r(e):r.current=e}}function WB(e){var r=e.alternate;r!==null&&(e.alternate=null,WB(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[rl],delete r[zg],delete r[e2],delete r[Nee],delete r[Eee])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HB(e){return e.tag===5||e.tag===3||e.tag===4}function xR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function p2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.nodeType===8?n.parentNode.insertBefore(e,r):n.insertBefore(e,r):(n.nodeType===8?(r=n.parentNode,r.insertBefore(e,n)):(r=n,r.appendChild(e)),n=n._reactRootContainer,n!=null||r.onclick!==null||(r.onclick=ew));else if(a!==4&&(e=e.child,e!==null))for(p2(e,r,n),e=e.sibling;e!==null;)p2(e,r,n),e=e.sibling}function g2(e,r,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?n.insertBefore(e,r):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(g2(e,r,n),e=e.sibling;e!==null;)g2(e,r,n),e=e.sibling}var sa=null,co=!1;function Mc(e,r,n){for(n=n.child;n!==null;)qB(e,r,n),n=n.sibling}function qB(e,r,n){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(h_,n)}catch{}switch(n.tag){case 5:Aa||$h(n,r);case 6:var a=sa,s=co;sa=null,Mc(e,r,n),sa=a,co=s,sa!==null&&(co?(e=sa,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sa.removeChild(n.stateNode));break;case 18:sa!==null&&(co?(e=sa,n=n.stateNode,e.nodeType===8?Wj(e.parentNode,n):e.nodeType===1&&Wj(e,n),Lg(e)):Wj(sa,n.stateNode));break;case 4:a=sa,s=co,sa=n.stateNode.containerInfo,co=!0,Mc(e,r,n),sa=a,co=s;break;case 0:case 11:case 14:case 15:if(!Aa&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&h2(n,r,o),s=s.next}while(s!==a)}Mc(e,r,n);break;case 1:if(!Aa&&($h(n,r),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(c){sn(n,r,c)}Mc(e,r,n);break;case 21:Mc(e,r,n);break;case 22:n.mode&1?(Aa=(a=Aa)||n.memoizedState!==null,Mc(e,r,n),Aa=a):Mc(e,r,n);break;default:Mc(e,r,n)}}function yR(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new zee),r.forEach(function(a){var s=Zee.bind(null,e,a);n.has(a)||(n.add(a),a.then(s,s))})}}function Qi(e,r){var n=r.deletions;if(n!==null)for(var a=0;a<n.length;a++){var s=n[a];try{var i=e,o=r,c=o;e:for(;c!==null;){switch(c.tag){case 5:sa=c.stateNode,co=!1;break e;case 3:sa=c.stateNode.containerInfo,co=!0;break e;case 4:sa=c.stateNode.containerInfo,co=!0;break e}c=c.return}if(sa===null)throw Error(Ke(160));qB(i,o,s),sa=null,co=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){sn(s,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)KB(r,e),r=r.sibling}function KB(e,r){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qi(r,e),Vo(e),a&4){try{ag(3,e,e.return),b_(3,e)}catch(g){sn(e,e.return,g)}try{ag(5,e,e.return)}catch(g){sn(e,e.return,g)}}break;case 1:Qi(r,e),Vo(e),a&512&&n!==null&&$h(n,n.return);break;case 5:if(Qi(r,e),Vo(e),a&512&&n!==null&&$h(n,n.return),e.flags&32){var s=e.stateNode;try{Rg(s,"")}catch(g){sn(e,e.return,g)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&p6(s,i),BN(c,o);var d=BN(c,i);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?w6(s,h):f==="dangerouslySetInnerHTML"?x6(s,h):f==="children"?Rg(s,h):TT(s,f,h,d)}switch(c){case"input":IN(s,i);break;case"textarea":g6(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gh(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gh(s,!!i.multiple,i.defaultValue,!0):Gh(s,!!i.multiple,i.multiple?[]:"",!1))}s[zg]=i}catch(g){sn(e,e.return,g)}}break;case 6:if(Qi(r,e),Vo(e),a&4){if(e.stateNode===null)throw Error(Ke(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){sn(e,e.return,g)}}break;case 3:if(Qi(r,e),Vo(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Lg(r.containerInfo)}catch(g){sn(e,e.return,g)}break;case 4:Qi(r,e),Vo(e);break;case 13:Qi(r,e),Vo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lA=hn())),a&4&&yR(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Aa=(d=Aa)||f,Qi(r,e),Aa=d):Qi(r,e),Vo(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(it=e,f=e.child;f!==null;){for(h=it=f;it!==null;){switch(m=it,p=m.child,m.tag){case 0:case 11:case 14:case 15:ag(4,m,m.return);break;case 1:$h(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){a=m,n=m.return;try{r=a,v.props=r.memoizedProps,v.state=r.memoizedState,v.componentWillUnmount()}catch(g){sn(a,n,g)}}break;case 5:$h(m,m.return);break;case 22:if(m.memoizedState!==null){bR(h);continue}}p!==null?(p.return=m,it=p):bR(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=y6("display",o))}catch(g){sn(e,e.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){sn(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qi(r,e),Vo(e),a&4&&yR(e);break;case 21:break;default:Qi(r,e),Vo(e)}}function Vo(e){var r=e.flags;if(r&2){try{e:{for(var n=e.return;n!==null;){if(HB(n)){var a=n;break e}n=n.return}throw Error(Ke(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Rg(s,""),a.flags&=-33);var i=xR(e);g2(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,c=xR(e);p2(e,c,o);break;default:throw Error(Ke(161))}}catch(u){sn(e,e.return,u)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Hee(e,r,n){it=e,GB(e)}function GB(e,r,n){for(var a=(e.mode&1)!==0;it!==null;){var s=it,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||Sy;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Aa;c=Sy;var d=Aa;if(Sy=o,(Aa=u)&&!d)for(it=s;it!==null;)o=it,u=o.child,o.tag===22&&o.memoizedState!==null?_R(s):u!==null?(u.return=o,it=u):_R(s);for(;i!==null;)it=i,GB(i),i=i.sibling;it=s,Sy=c,Aa=d}wR(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,it=i):wR(e)}}function wR(e){for(;it!==null;){var r=it;if(r.flags&8772){var n=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Aa||b_(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!Aa)if(n===null)a.componentDidMount();else{var s=r.elementType===r.type?n.memoizedProps:so(r.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&aR(r,i,a);break;case 3:var o=r.updateQueue;if(o!==null){if(n=null,r.child!==null)switch(r.child.tag){case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}aR(r,o,n)}break;case 5:var c=r.stateNode;if(n===null&&r.flags&4){n=c;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Lg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Aa||r.flags&512&&m2(r)}catch(m){sn(r,r.return,m)}}if(r===e){it=null;break}if(n=r.sibling,n!==null){n.return=r.return,it=n;break}it=r.return}}function bR(e){for(;it!==null;){var r=it;if(r===e){it=null;break}var n=r.sibling;if(n!==null){n.return=r.return,it=n;break}it=r.return}}function _R(e){for(;it!==null;){var r=it;try{switch(r.tag){case 0:case 11:case 15:var n=r.return;try{b_(4,r)}catch(u){sn(r,n,u)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var s=r.return;try{a.componentDidMount()}catch(u){sn(r,s,u)}}var i=r.return;try{m2(r)}catch(u){sn(r,i,u)}break;case 5:var o=r.return;try{m2(r)}catch(u){sn(r,o,u)}}}catch(u){sn(r,r.return,u)}if(r===e){it=null;break}var c=r.sibling;if(c!==null){c.return=r.return,it=c;break}it=r.return}}var qee=Math.ceil,dw=Nc.ReactCurrentDispatcher,iA=Nc.ReactCurrentOwner,Li=Nc.ReactCurrentBatchConfig,ir=0,Zn=null,Cn=null,ca=0,Ys=0,Bh=Ku(0),Un=0,Yg=null,df=0,__=0,oA=0,sg=null,Ss=null,lA=0,Dm=1/0,Wl=null,fw=!1,v2=null,ju=null,jy=!1,hu=null,hw=0,ig=0,x2=null,T1=-1,A1=0;function ls(){return ir&6?hn():T1!==-1?T1:T1=hn()}function ku(e){return e.mode&1?ir&2&&ca!==0?ca&-ca:Tee.transition!==null?(A1===0&&(A1=P6()),A1):(e=_r,e!==0||(e=window.event,e=e===void 0?16:$6(e.type)),e):1}function jo(e,r,n,a){if(50<ig)throw ig=0,x2=null,Error(Ke(185));ox(e,n,a),(!(ir&2)||e!==Zn)&&(e===Zn&&(!(ir&2)&&(__|=n),Un===4&&Jc(e,ca)),Ts(e,a),n===1&&ir===0&&!(r.mode&1)&&(Dm=hn()+500,x_&&Gu()))}function Ts(e,r){var n=e.callbackNode;TZ(e,r);var a=X1(e,e===Zn?ca:0);if(a===0)n!==null&&OD(n),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(n!=null&&OD(n),r===1)e.tag===0?Cee(SR.bind(null,e)):aB(SR.bind(null,e)),jee(function(){!(ir&6)&&Gu()}),n=null;else{switch(D6(a)){case 1:n=RT;break;case 4:n=A6;break;case 16:n=Y1;break;case 536870912:n=O6;break;default:n=Y1}n=rU(n,YB.bind(null,e))}e.callbackPriority=r,e.callbackNode=n}}function YB(e,r){if(T1=-1,A1=0,ir&6)throw Error(Ke(327));var n=e.callbackNode;if(Zh()&&e.callbackNode!==n)return null;var a=X1(e,e===Zn?ca:0);if(a===0)return null;if(a&30||a&e.expiredLanes||r)r=mw(e,a);else{r=a;var s=ir;ir|=2;var i=JB();(Zn!==e||ca!==r)&&(Wl=null,Dm=hn()+500,Qd(e,r));do try{Yee();break}catch(c){XB(e,c)}while(!0);KT(),dw.current=i,ir=s,Cn!==null?r=0:(Zn=null,ca=0,r=Un)}if(r!==0){if(r===2&&(s=HN(e),s!==0&&(a=s,r=y2(e,s))),r===1)throw n=Yg,Qd(e,0),Jc(e,a),Ts(e,hn()),n;if(r===6)Jc(e,a);else{if(s=e.current.alternate,!(a&30)&&!Kee(s)&&(r=mw(e,a),r===2&&(i=HN(e),i!==0&&(a=i,r=y2(e,i))),r===1))throw n=Yg,Qd(e,0),Jc(e,a),Ts(e,hn()),n;switch(e.finishedWork=s,e.finishedLanes=a,r){case 0:case 1:throw Error(Ke(345));case 2:gd(e,Ss,Wl);break;case 3:if(Jc(e,a),(a&130023424)===a&&(r=lA+500-hn(),10<r)){if(X1(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){ls(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ZN(gd.bind(null,e,Ss,Wl),r);break}gd(e,Ss,Wl);break;case 4:if(Jc(e,a),(a&4194240)===a)break;for(r=e.eventTimes,s=-1;0<a;){var o=31-So(a);i=1<<o,o=r[o],o>s&&(s=o),a&=~i}if(a=s,a=hn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*qee(a/1960))-a,10<a){e.timeoutHandle=ZN(gd.bind(null,e,Ss,Wl),a);break}gd(e,Ss,Wl);break;case 5:gd(e,Ss,Wl);break;default:throw Error(Ke(329))}}}return Ts(e,hn()),e.callbackNode===n?YB.bind(null,e):null}function y2(e,r){var n=sg;return e.current.memoizedState.isDehydrated&&(Qd(e,r).flags|=256),e=mw(e,r),e!==2&&(r=Ss,Ss=n,r!==null&&w2(r)),e}function w2(e){Ss===null?Ss=e:Ss.push.apply(Ss,e)}function Kee(e){for(var r=e;;){if(r.flags&16384){var n=r.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!Eo(i(),s))return!1}catch{return!1}}}if(n=r.child,r.subtreeFlags&16384&&n!==null)n.return=r,r=n;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Jc(e,r){for(r&=~oA,r&=~__,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var n=31-So(r),a=1<<n;e[n]=-1,r&=~a}}function SR(e){if(ir&6)throw Error(Ke(327));Zh();var r=X1(e,0);if(!(r&1))return Ts(e,hn()),null;var n=mw(e,r);if(e.tag!==0&&n===2){var a=HN(e);a!==0&&(r=a,n=y2(e,a))}if(n===1)throw n=Yg,Qd(e,0),Jc(e,r),Ts(e,hn()),n;if(n===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,gd(e,Ss,Wl),Ts(e,hn()),null}function cA(e,r){var n=ir;ir|=1;try{return e(r)}finally{ir=n,ir===0&&(Dm=hn()+500,x_&&Gu())}}function ff(e){hu!==null&&hu.tag===0&&!(ir&6)&&Zh();var r=ir;ir|=1;var n=Li.transition,a=_r;try{if(Li.transition=null,_r=1,e)return e()}finally{_r=a,Li.transition=n,ir=r,!(ir&6)&&Gu()}}function uA(){Ys=Bh.current,Hr(Bh)}function Qd(e,r){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,See(n)),Cn!==null)for(n=Cn.return;n!==null;){var a=n;switch(WT(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&tw();break;case 3:Om(),Hr(Es),Hr(Fa),ZT();break;case 5:QT(a);break;case 4:Om();break;case 13:Hr(Qr);break;case 19:Hr(Qr);break;case 10:GT(a.type._context);break;case 22:case 23:uA()}n=n.return}if(Zn=e,Cn=e=Nu(e.current,null),ca=Ys=r,Un=0,Yg=null,oA=__=df=0,Ss=sg=null,Od!==null){for(r=0;r<Od.length;r++)if(n=Od[r],a=n.interleaved,a!==null){n.interleaved=null;var s=a.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}n.pending=a}Od=null}return e}function XB(e,r){do{var n=Cn;try{if(KT(),N1.current=uw,cw){for(var a=tn.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}cw=!1}if(uf=0,Yn=$n=tn=null,ng=!1,qg=0,iA.current=null,n===null||n.return===null){Un=1,Yg=r,Cn=null;break}e:{var i=e,o=n.return,c=n,u=r;if(r=ca,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=uR(o);if(p!==null){p.flags&=-257,dR(p,o,c,i,r),p.mode&1&&cR(i,d,r),r=p,u=d;var v=r.updateQueue;if(v===null){var g=new Set;g.add(u),r.updateQueue=g}else v.add(u);break e}else{if(!(r&1)){cR(i,d,r),dA();break e}u=Error(Ke(426))}}else if(Gr&&c.mode&1){var x=uR(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dR(x,o,c,i,r),HT(Pm(u,c));break e}}i=u=Pm(u,c),Un!==4&&(Un=2),sg===null?sg=[i]:sg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var b=DB(i,u,r);nR(i,b);break e;case 1:c=u;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ju===null||!ju.has(_)))){i.flags|=65536,r&=-r,i.lanes|=r;var S=RB(i,c,r);nR(i,S);break e}}i=i.return}while(i!==null)}ZB(n)}catch(j){r=j,Cn===n&&n!==null&&(Cn=n=n.return);continue}break}while(!0)}function JB(){var e=dw.current;return dw.current=uw,e===null?uw:e}function dA(){(Un===0||Un===3||Un===2)&&(Un=4),Zn===null||!(df&268435455)&&!(__&268435455)||Jc(Zn,ca)}function mw(e,r){var n=ir;ir|=2;var a=JB();(Zn!==e||ca!==r)&&(Wl=null,Qd(e,r));do try{Gee();break}catch(s){XB(e,s)}while(!0);if(KT(),ir=n,dw.current=a,Cn!==null)throw Error(Ke(261));return Zn=null,ca=0,Un}function Gee(){for(;Cn!==null;)QB(Cn)}function Yee(){for(;Cn!==null&&!wZ();)QB(Cn)}function QB(e){var r=tU(e.alternate,e,Ys);e.memoizedProps=e.pendingProps,r===null?ZB(e):Cn=r,iA.current=null}function ZB(e){var r=e;do{var n=r.alternate;if(e=r.return,r.flags&32768){if(n=Vee(n,r),n!==null){n.flags&=32767,Cn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Un=6,Cn=null;return}}else if(n=Uee(n,r,Ys),n!==null){Cn=n;return}if(r=r.sibling,r!==null){Cn=r;return}Cn=r=e}while(r!==null);Un===0&&(Un=5)}function gd(e,r,n){var a=_r,s=Li.transition;try{Li.transition=null,_r=1,Xee(e,r,n,a)}finally{Li.transition=s,_r=a}return null}function Xee(e,r,n,a){do Zh();while(hu!==null);if(ir&6)throw Error(Ke(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AZ(e,i),e===Zn&&(Cn=Zn=null,ca=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jy||(jy=!0,rU(Y1,function(){return Zh(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Li.transition,Li.transition=null;var o=_r;_r=1;var c=ir;ir|=4,iA.current=null,Wee(e,n),KB(n,e),gee(JN),J1=!!XN,JN=XN=null,e.current=n,Hee(n),bZ(),ir=c,_r=o,Li.transition=i}else e.current=n;if(jy&&(jy=!1,hu=e,hw=s),i=e.pendingLanes,i===0&&(ju=null),jZ(n.stateNode),Ts(e,hn()),r!==null)for(a=e.onRecoverableError,n=0;n<r.length;n++)s=r[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(fw)throw fw=!1,e=v2,v2=null,e;return hw&1&&e.tag!==0&&Zh(),i=e.pendingLanes,i&1?e===x2?ig++:(ig=0,x2=e):ig=0,Gu(),null}function Zh(){if(hu!==null){var e=D6(hw),r=Li.transition,n=_r;try{if(Li.transition=null,_r=16>e?16:e,hu===null)var a=!1;else{if(e=hu,hu=null,hw=0,ir&6)throw Error(Ke(331));var s=ir;for(ir|=4,it=e.current;it!==null;){var i=it,o=i.child;if(it.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(it=d;it!==null;){var f=it;switch(f.tag){case 0:case 11:case 15:ag(8,f,i)}var h=f.child;if(h!==null)h.return=f,it=h;else for(;it!==null;){f=it;var m=f.sibling,p=f.return;if(WB(f),f===d){it=null;break}if(m!==null){m.return=p,it=m;break}it=p}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}it=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,it=o;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ag(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,it=b;break e}it=i.return}}var w=e.current;for(it=w;it!==null;){o=it;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,it=_;else e:for(o=w;it!==null;){if(c=it,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:b_(9,c)}}catch(j){sn(c,c.return,j)}if(c===o){it=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,it=S;break e}it=c.return}}if(ir=s,Gu(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(h_,e)}catch{}a=!0}return a}finally{_r=n,Li.transition=r}}return!1}function jR(e,r,n){r=Pm(n,r),r=DB(e,r,1),e=Su(e,r,1),r=ls(),e!==null&&(ox(e,1,r),Ts(e,r))}function sn(e,r,n){if(e.tag===3)jR(e,e,n);else for(;r!==null;){if(r.tag===3){jR(r,e,n);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ju===null||!ju.has(a))){e=Pm(n,e),e=RB(r,e,1),r=Su(r,e,1),e=ls(),r!==null&&(ox(r,1,e),Ts(r,e));break}}r=r.return}}function Jee(e,r,n){var a=e.pingCache;a!==null&&a.delete(r),r=ls(),e.pingedLanes|=e.suspendedLanes&n,Zn===e&&(ca&n)===n&&(Un===4||Un===3&&(ca&130023424)===ca&&500>hn()-lA?Qd(e,0):oA|=n),Ts(e,r)}function eU(e,r){r===0&&(e.mode&1?(r=my,my<<=1,!(my&130023424)&&(my=4194304)):r=1);var n=ls();e=fc(e,r),e!==null&&(ox(e,r,n),Ts(e,n))}function Qee(e){var r=e.memoizedState,n=0;r!==null&&(n=r.retryLane),eU(e,n)}function Zee(e,r){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(Ke(314))}a!==null&&a.delete(r),eU(e,n)}var tU;tU=function(e,r,n){if(e!==null)if(e.memoizedProps!==r.pendingProps||Es.current)js=!0;else{if(!(e.lanes&n)&&!(r.flags&128))return js=!1,Bee(e,r,n);js=!!(e.flags&131072)}else js=!1,Gr&&r.flags&1048576&&sB(r,aw,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;C1(e,r),e=r.pendingProps;var s=Cm(r,Fa.current);Qh(r,n),s=tA(null,r,a,e,s,n);var i=rA();return r.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Cs(a)?(i=!0,rw(r)):i=!1,r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,XT(r),s.updater=w_,r.stateNode=s,s._reactInternals=r,i2(r,a,e,n),r=c2(null,r,a,!0,i,n)):(r.tag=0,Gr&&i&&zT(r),Xa(null,r,s,n),r=r.child),r;case 16:a=r.elementType;e:{switch(C1(e,r),e=r.pendingProps,s=a._init,a=s(a._payload),r.type=a,s=r.tag=tte(a),e=so(a,e),s){case 0:r=l2(null,r,a,e,n);break e;case 1:r=mR(null,r,a,e,n);break e;case 11:r=fR(null,r,a,e,n);break e;case 14:r=hR(null,r,a,so(a.type,e),n);break e}throw Error(Ke(306,a,""))}return r;case 0:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),l2(e,r,a,s,n);case 1:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),mR(e,r,a,s,n);case 3:e:{if(LB(r),e===null)throw Error(Ke(387));a=r.pendingProps,i=r.memoizedState,s=i.element,dB(e,r),ow(r,a,null,n);var o=r.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){s=Pm(Error(Ke(423)),r),r=pR(e,r,a,n,s);break e}else if(a!==s){s=Pm(Error(Ke(424)),r),r=pR(e,r,a,n,s);break e}else for(ii=_u(r.stateNode.containerInfo.firstChild),oi=r,Gr=!0,go=null,n=cB(r,null,a,n),r.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tm(),a===s){r=hc(e,r,n);break e}Xa(e,r,a,n)}r=r.child}return r;case 5:return fB(r),e===null&&n2(r),a=r.type,s=r.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,QN(a,s)?o=null:i!==null&&QN(a,i)&&(r.flags|=32),FB(e,r),Xa(e,r,o,n),r.child;case 6:return e===null&&n2(r),null;case 13:return $B(e,r,n);case 4:return JT(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Am(r,null,a,n):Xa(e,r,a,n),r.child;case 11:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),fR(e,r,a,s,n);case 7:return Xa(e,r,r.pendingProps,n),r.child;case 8:return Xa(e,r,r.pendingProps.children,n),r.child;case 12:return Xa(e,r,r.pendingProps.children,n),r.child;case 10:e:{if(a=r.type._context,s=r.pendingProps,i=r.memoizedProps,o=s.value,Fr(sw,a._currentValue),a._currentValue=o,i!==null)if(Eo(i.value,o)){if(i.children===s.children&&!Es.current){r=hc(e,r,n);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var u=c.firstContext;u!==null;){if(u.context===a){if(i.tag===1){u=ac(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),a2(i.return,n,r),c.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===r.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),a2(o,n,r),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===r){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xa(e,r,s.children,n),r=r.child}return r;case 9:return s=r.type,a=r.pendingProps.children,Qh(r,n),s=Bi(s),a=a(s),r.flags|=1,Xa(e,r,a,n),r.child;case 14:return a=r.type,s=so(a,r.pendingProps),s=so(a.type,s),hR(e,r,a,s,n);case 15:return IB(e,r,r.type,r.pendingProps,n);case 17:return a=r.type,s=r.pendingProps,s=r.elementType===a?s:so(a,s),C1(e,r),r.tag=1,Cs(a)?(e=!0,rw(r)):e=!1,Qh(r,n),PB(r,a,s),i2(r,a,s,n),c2(null,r,a,!0,e,n);case 19:return BB(e,r,n);case 22:return MB(e,r,n)}throw Error(Ke(156,r.tag))};function rU(e,r){return T6(e,r)}function ete(e,r,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ii(e,r,n,a){return new ete(e,r,n,a)}function fA(e){return e=e.prototype,!(!e||!e.isReactComponent)}function tte(e){if(typeof e=="function")return fA(e)?1:0;if(e!=null){if(e=e.$$typeof,e===OT)return 11;if(e===PT)return 14}return 2}function Nu(e,r){var n=e.alternate;return n===null?(n=Ii(e.tag,r,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=r,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,r=e.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function O1(e,r,n,a,s,i){var o=2;if(a=e,typeof e=="function")fA(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ah:return Zd(n.children,s,i,r);case AT:o=8,s|=8;break;case AN:return e=Ii(12,n,r,s|2),e.elementType=AN,e.lanes=i,e;case ON:return e=Ii(13,n,r,s),e.elementType=ON,e.lanes=i,e;case PN:return e=Ii(19,n,r,s),e.elementType=PN,e.lanes=i,e;case f6:return S_(n,s,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u6:o=10;break e;case d6:o=9;break e;case OT:o=11;break e;case PT:o=14;break e;case Wc:o=16,a=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return r=Ii(o,n,r,s),r.elementType=e,r.type=a,r.lanes=i,r}function Zd(e,r,n,a){return e=Ii(7,e,a,r),e.lanes=n,e}function S_(e,r,n,a){return e=Ii(22,e,a,r),e.elementType=f6,e.lanes=n,e.stateNode={isHidden:!1},e}function Qj(e,r,n){return e=Ii(6,e,null,r),e.lanes=n,e}function Zj(e,r,n){return r=Ii(4,e.children!==null?e.children:[],e.key,r),r.lanes=n,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function rte(e,r,n,a,s){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dj(0),this.expirationTimes=Dj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dj(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hA(e,r,n,a,s,i,o,c,u){return e=new rte(e,r,n,c,u),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Ii(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},XT(i),e}function nte(e,r,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Th,key:a==null?null:""+a,children:e,containerInfo:r,implementation:n}}function nU(e){if(!e)return Iu;e=e._reactInternals;e:{if(Mf(e)!==e||e.tag!==1)throw Error(Ke(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Cs(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(Ke(171))}if(e.tag===1){var n=e.type;if(Cs(n))return nB(e,n,r)}return r}function aU(e,r,n,a,s,i,o,c,u){return e=hA(n,a,!0,e,s,i,o,c,u),e.context=nU(null),n=e.current,a=ls(),s=ku(n),i=ac(a,s),i.callback=r??null,Su(n,i,s),e.current.lanes=s,ox(e,s,a),Ts(e,a),e}function j_(e,r,n,a){var s=r.current,i=ls(),o=ku(s);return n=nU(n),r.context===null?r.context=n:r.pendingContext=n,r=ac(i,o),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Su(s,r,o),e!==null&&(jo(e,s,o,i),k1(e,s,o)),o}function pw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kR(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<r?n:r}}function mA(e,r){kR(e,r),(e=e.alternate)&&kR(e,r)}function ate(){return null}var sU=typeof reportError=="function"?reportError:function(e){console.error(e)};function pA(e){this._internalRoot=e}k_.prototype.render=pA.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(Ke(409));j_(e,r,null,null)};k_.prototype.unmount=pA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ff(function(){j_(null,e,null,null)}),r[dc]=null}};function k_(e){this._internalRoot=e}k_.prototype.unstable_scheduleHydration=function(e){if(e){var r=M6();e={blockedOn:null,target:e,priority:r};for(var n=0;n<Xc.length&&r!==0&&r<Xc[n].priority;n++);Xc.splice(n,0,e),n===0&&L6(e)}};function gA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function N_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function NR(){}function ste(e,r,n,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var d=pw(o);i.call(d)}}var o=aU(r,a,e,0,null,!1,!1,"",NR);return e._reactRootContainer=o,e[dc]=o.current,Ug(e.nodeType===8?e.parentNode:e),ff(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var c=a;a=function(){var d=pw(u);c.call(d)}}var u=hA(e,0,!1,null,null,!1,!1,"",NR);return e._reactRootContainer=u,e[dc]=u.current,Ug(e.nodeType===8?e.parentNode:e),ff(function(){j_(r,u,n,a)}),u}function E_(e,r,n,a,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var c=s;s=function(){var u=pw(o);c.call(u)}}j_(r,o,e,s)}else o=ste(n,r,e,s,a);return pw(o)}R6=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var n=$0(r.pendingLanes);n!==0&&(IT(r,n|1),Ts(r,hn()),!(ir&6)&&(Dm=hn()+500,Gu()))}break;case 13:ff(function(){var a=fc(e,1);if(a!==null){var s=ls();jo(a,e,1,s)}}),mA(e,1)}};MT=function(e){if(e.tag===13){var r=fc(e,134217728);if(r!==null){var n=ls();jo(r,e,134217728,n)}mA(e,134217728)}};I6=function(e){if(e.tag===13){var r=ku(e),n=fc(e,r);if(n!==null){var a=ls();jo(n,e,r,a)}mA(e,r)}};M6=function(){return _r};F6=function(e,r){var n=_r;try{return _r=e,r()}finally{_r=n}};VN=function(e,r,n){switch(r){case"input":if(IN(e,n),r=n.name,n.type==="radio"&&r!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<n.length;r++){var a=n[r];if(a!==e&&a.form===e.form){var s=v_(a);if(!s)throw Error(Ke(90));m6(a),IN(a,s)}}}break;case"textarea":g6(e,n);break;case"select":r=n.value,r!=null&&Gh(e,!!n.multiple,r,!1)}};S6=cA;j6=ff;var ite={usingClientEntryPoint:!1,Events:[cx,Rh,v_,b6,_6,cA]},g0={findFiberByHostInstance:Ad,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ote={bundleType:g0.bundleType,version:g0.version,rendererPackageName:g0.rendererPackageName,rendererConfig:g0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E6(e),e===null?null:e.stateNode},findFiberByHostInstance:g0.findFiberByHostInstance||ate,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ky.isDisabled&&ky.supportsFiber)try{h_=ky.inject(ote),fl=ky}catch{}}pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ite;pi.createPortal=function(e,r){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gA(r))throw Error(Ke(200));return nte(e,r,null,n)};pi.createRoot=function(e,r){if(!gA(e))throw Error(Ke(299));var n=!1,a="",s=sU;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),r=hA(e,1,!1,null,null,n,!1,a,s),e[dc]=r.current,Ug(e.nodeType===8?e.parentNode:e),new pA(r)};pi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=E6(r),e=e===null?null:e.stateNode,e};pi.flushSync=function(e){return ff(e)};pi.hydrate=function(e,r,n){if(!N_(r))throw Error(Ke(200));return E_(null,e,r,!0,n)};pi.hydrateRoot=function(e,r,n){if(!gA(e))throw Error(Ke(405));var a=n!=null&&n.hydratedSources||null,s=!1,i="",o=sU;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),r=aU(r,null,e,1,n??null,s,!1,i,o),e[dc]=r.current,Ug(e),a)for(e=0;e<a.length;e++)n=a[e],s=n._getVersion,s=s(n._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[n,s]:r.mutableSourceEagerHydrationData.push(n,s);return new k_(r)};pi.render=function(e,r,n){if(!N_(r))throw Error(Ke(200));return E_(null,e,r,!1,n)};pi.unmountComponentAtNode=function(e){if(!N_(e))throw Error(Ke(40));return e._reactRootContainer?(ff(function(){E_(null,null,e,!1,function(){e._reactRootContainer=null,e[dc]=null})}),!0):!1};pi.unstable_batchedUpdates=cA;pi.unstable_renderSubtreeIntoContainer=function(e,r,n,a){if(!N_(n))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return E_(e,r,n,!1,a)};pi.version="18.3.1-next-f1338f8080-20240426";function iU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iU)}catch(e){console.error(e)}}iU(),i6.exports=pi;var Tp=i6.exports;const lte=xr(Tp);var oU,ER=Tp;oU=ER.createRoot,ER.hydrateRoot;var dx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hf=typeof window>"u"||"Deno"in globalThis;function _s(){}function cte(e,r){return typeof e=="function"?e(r):e}function b2(e){return typeof e=="number"&&e>=0&&e!==1/0}function lU(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Eu(e,r){return typeof e=="function"?e(r):e}function Ci(e,r){return typeof e=="function"?e(r):e}function CR(e,r){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:c}=e;if(o){if(a){if(r.queryHash!==vA(o,r.options))return!1}else if(!Jg(r.queryKey,o))return!1}if(n!=="all"){const u=r.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof c=="boolean"&&r.isStale()!==c||s&&s!==r.state.fetchStatus||i&&!i(r))}function TR(e,r){const{exact:n,status:a,predicate:s,mutationKey:i}=e;if(i){if(!r.options.mutationKey)return!1;if(n){if(Xg(r.options.mutationKey)!==Xg(i))return!1}else if(!Jg(r.options.mutationKey,i))return!1}return!(a&&r.state.status!==a||s&&!s(r))}function vA(e,r){return((r==null?void 0:r.queryKeyHashFn)||Xg)(e)}function Xg(e){return JSON.stringify(e,(r,n)=>S2(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function Jg(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(n=>Jg(e[n],r[n])):!1}function cU(e,r){if(e===r)return e;const n=AR(e)&&AR(r);if(n||S2(e)&&S2(r)){const a=n?e:Object.keys(e),s=a.length,i=n?r:Object.keys(r),o=i.length,c=n?[]:{},u=new Set(a);let d=0;for(let f=0;f<o;f++){const h=n?f:i[f];(!n&&u.has(h)||n)&&e[h]===void 0&&r[h]===void 0?(c[h]=void 0,d++):(c[h]=cU(e[h],r[h]),c[h]===e[h]&&e[h]!==void 0&&d++)}return s===o&&d===s?e:c}return r}function _2(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}function AR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function S2(e){if(!OR(e))return!1;const r=e.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!OR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function OR(e){return Object.prototype.toString.call(e)==="[object Object]"}function ute(e){return new Promise(r=>{setTimeout(r,e)})}function j2(e,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,r):n.structuralSharing!==!1?cU(e,r):r}function dte(e,r,n=0){const a=[...e,r];return n&&a.length>n?a.slice(1):a}function fte(e,r,n=0){const a=[r,...e];return n&&a.length>n?a.slice(0,-1):a}var xA=Symbol();function uU(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===xA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function hte(e,r){return typeof e=="function"?e(...r):!!e}var zd,au,pm,L8,mte=(L8=class extends dx{constructor(){super();Ct(this,zd);Ct(this,au);Ct(this,pm);ct(this,pm,r=>{if(!hf&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,au)||this.setEventListener(ge(this,pm))}onUnsubscribe(){var r;this.hasListeners()||((r=ge(this,au))==null||r.call(this),ct(this,au,void 0))}setEventListener(r){var n;ct(this,pm,r),(n=ge(this,au))==null||n.call(this),ct(this,au,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){ge(this,zd)!==r&&(ct(this,zd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof ge(this,zd)=="boolean"?ge(this,zd):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},zd=new WeakMap,au=new WeakMap,pm=new WeakMap,L8),yA=new mte,gm,su,vm,$8,pte=($8=class extends dx{constructor(){super();Ct(this,gm,!0);Ct(this,su);Ct(this,vm);ct(this,vm,r=>{if(!hf&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){ge(this,su)||this.setEventListener(ge(this,vm))}onUnsubscribe(){var r;this.hasListeners()||((r=ge(this,su))==null||r.call(this),ct(this,su,void 0))}setEventListener(r){var n;ct(this,vm,r),(n=ge(this,su))==null||n.call(this),ct(this,su,r(this.setOnline.bind(this)))}setOnline(r){ge(this,gm)!==r&&(ct(this,gm,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return ge(this,gm)}},gm=new WeakMap,su=new WeakMap,vm=new WeakMap,$8),gw=new pte;function k2(){let e,r;const n=new Promise((s,i)=>{e=s,r=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},n.reject=s=>{a({status:"rejected",reason:s}),r(s)},n}function gte(e){return Math.min(1e3*2**e,3e4)}function dU(e){return(e??"online")==="online"?gw.isOnline():!0}var fU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ek(e){return e instanceof fU}function hU(e){let r=!1,n=0,a=!1,s;const i=k2(),o=g=>{var x;a||(m(new fU(g)),(x=e.abort)==null||x.call(e))},c=()=>{r=!0},u=()=>{r=!1},d=()=>yA.isFocused()&&(e.networkMode==="always"||gw.isOnline())&&e.canRun(),f=()=>dU(e.networkMode)&&e.canRun(),h=g=>{var x;a||(a=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),i.resolve(g))},m=g=>{var x;a||(a=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var x;s=b=>{(a||d())&&g(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,a||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(a)return;let g;const x=n===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var N;if(a)return;const w=e.retry??(hf?0:3),_=e.retryDelay??gte,S=typeof _=="function"?_(n,b):_,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(r||!j){m(b);return}n++,(N=e.onFail)==null||N.call(e,n,b),ute(S).then(()=>d()?void 0:p()).then(()=>{r?m(b):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?v():p().then(v),i)}}var vte=e=>setTimeout(e,0);function xte(){let e=[],r=0,n=c=>{c()},a=c=>{c()},s=vte;const i=c=>{r?e.push(c):s(()=>{n(c)})},o=()=>{const c=e;e=[],c.length&&s(()=>{a(()=>{c.forEach(u=>{n(u)})})})};return{batch:c=>{let u;r++;try{u=c()}finally{r--,r||o()}return u},batchCalls:c=>(...u)=>{i(()=>{c(...u)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{s=c}}}var oa=xte(),Wd,B8,mU=(B8=class{constructor(){Ct(this,Wd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b2(this.gcTime)&&ct(this,Wd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(hf?1/0:5*60*1e3))}clearGcTimeout(){ge(this,Wd)&&(clearTimeout(ge(this,Wd)),ct(this,Wd,void 0))}},Wd=new WeakMap,B8),xm,Hd,Ei,qd,Ea,rx,Kd,oo,zl,U8,yte=(U8=class extends mU{constructor(r){super();Ct(this,oo);Ct(this,xm);Ct(this,Hd);Ct(this,Ei);Ct(this,qd);Ct(this,Ea);Ct(this,rx);Ct(this,Kd);ct(this,Kd,!1),ct(this,rx,r.defaultOptions),this.setOptions(r.options),this.observers=[],ct(this,qd,r.client),ct(this,Ei,ge(this,qd).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,ct(this,xm,wte(this.options)),this.state=r.state??ge(this,xm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=ge(this,Ea))==null?void 0:r.promise}setOptions(r){this.options={...ge(this,rx),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Ei).remove(this)}setData(r,n){const a=j2(this.state.data,r,this.options);return Zt(this,oo,zl).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Zt(this,oo,zl).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,s;const n=(a=ge(this,Ea))==null?void 0:a.promise;return(s=ge(this,Ea))==null||s.cancel(r),n?n.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,xm))}isActive(){return this.observers.some(r=>Ci(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Eu(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!lU(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Ea))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=ge(this,Ea))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),ge(this,Ei).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(ge(this,Ea)&&(ge(this,Kd)?ge(this,Ea).cancel({revert:!0}):ge(this,Ea).cancelRetry()),this.scheduleGc()),ge(this,Ei).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,oo,zl).call(this,{type:"invalidate"})}fetch(r,n){var d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Ea))return ge(this,Ea).continueRetry(),ge(this,Ea).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ct(this,Kd,!0),a.signal)})},i=()=>{const m=uU(this.options,n),v=(()=>{const g={client:ge(this,qd),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return ct(this,Kd,!1),this.options.persister?this.options.persister(m,v,this):m(v)},c=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ge(this,qd),state:this.state,fetchFn:i};return s(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),ct(this,Hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Zt(this,oo,zl).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const u=m=>{var p,v,g,x;ek(m)&&m.silent||Zt(this,oo,zl).call(this,{type:"error",error:m}),ek(m)||((v=(p=ge(this,Ei).config).onError)==null||v.call(p,m,this),(x=(g=ge(this,Ei).config).onSettled)==null||x.call(g,this.state.data,m,this)),this.scheduleGc()};return ct(this,Ea,hU({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var p,v,g,x;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){u(b);return}(v=(p=ge(this,Ei).config).onSuccess)==null||v.call(p,m,this),(x=(g=ge(this,Ei).config).onSettled)==null||x.call(g,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,p)=>{Zt(this,oo,zl).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{Zt(this,oo,zl).call(this,{type:"pause"})},onContinue:()=>{Zt(this,oo,zl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ge(this,Ea).start()}},xm=new WeakMap,Hd=new WeakMap,Ei=new WeakMap,qd=new WeakMap,Ea=new WeakMap,rx=new WeakMap,Kd=new WeakMap,oo=new WeakSet,zl=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...pU(a.data,this.options),fetchMeta:r.meta??null};case"success":return ct(this,Hd,void 0),{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return ek(s)&&s.revert&&ge(this,Hd)?{...ge(this,Hd),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),oa.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),ge(this,Ei).notify({query:this,type:"updated",action:r})})},U8);function pU(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dU(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wte(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,n=r!==void 0,a=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zo,V8,bte=(V8=class extends dx{constructor(r={}){super();Ct(this,Zo);this.config=r,ct(this,Zo,new Map)}build(r,n,a){const s=n.queryKey,i=n.queryHash??vA(s,n);let o=this.get(i);return o||(o=new yte({client:r,queryKey:s,queryHash:i,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(s)}),this.add(o)),o}add(r){ge(this,Zo).has(r.queryHash)||(ge(this,Zo).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=ge(this,Zo).get(r.queryHash);n&&(r.destroy(),n===r&&ge(this,Zo).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){oa.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return ge(this,Zo).get(r)}getAll(){return[...ge(this,Zo).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>CR(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>CR(r,a)):n}notify(r){oa.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){oa.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){oa.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Zo=new WeakMap,V8),el,Ga,Gd,tl,Vc,z8,_te=(z8=class extends mU{constructor(r){super();Ct(this,tl);Ct(this,el);Ct(this,Ga);Ct(this,Gd);this.mutationId=r.mutationId,ct(this,Ga,r.mutationCache),ct(this,el,[]),this.state=r.state||Ste(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){ge(this,el).includes(r)||(ge(this,el).push(r),this.clearGcTimeout(),ge(this,Ga).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){ct(this,el,ge(this,el).filter(n=>n!==r)),this.scheduleGc(),ge(this,Ga).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){ge(this,el).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Ga).remove(this))}continue(){var r;return((r=ge(this,Gd))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var i,o,c,u,d,f,h,m,p,v,g,x,b,w,_,S,j,N,k,C;const n=()=>{Zt(this,tl,Vc).call(this,{type:"continue"})};ct(this,Gd,hU({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{Zt(this,tl,Vc).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{Zt(this,tl,Vc).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Ga).canRun(this)}));const a=this.state.status==="pending",s=!ge(this,Gd).canStart();try{if(a)n();else{Zt(this,tl,Vc).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(i=ge(this,Ga).config).onMutate)==null?void 0:o.call(i,r,this));const P=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));P!==this.state.context&&Zt(this,tl,Vc).call(this,{type:"pending",context:P,variables:r,isPaused:s})}const E=await ge(this,Gd).start();return await((f=(d=ge(this,Ga).config).onSuccess)==null?void 0:f.call(d,E,r,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,E,r,this.state.context)),await((v=(p=ge(this,Ga).config).onSettled)==null?void 0:v.call(p,E,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,E,null,r,this.state.context)),Zt(this,tl,Vc).call(this,{type:"success",data:E}),E}catch(E){try{throw await((w=(b=ge(this,Ga).config).onError)==null?void 0:w.call(b,E,r,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,E,r,this.state.context)),await((N=(j=ge(this,Ga).config).onSettled)==null?void 0:N.call(j,void 0,E,this.state.variables,this.state.context,this)),await((C=(k=this.options).onSettled)==null?void 0:C.call(k,void 0,E,r,this.state.context)),E}finally{Zt(this,tl,Vc).call(this,{type:"error",error:E})}}finally{ge(this,Ga).runNext(this)}}},el=new WeakMap,Ga=new WeakMap,Gd=new WeakMap,tl=new WeakSet,Vc=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),oa.batch(()=>{ge(this,el).forEach(a=>{a.onMutationUpdate(r)}),ge(this,Ga).notify({mutation:this,type:"updated",action:r})})},z8);function Ste(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gl,lo,nx,W8,jte=(W8=class extends dx{constructor(r={}){super();Ct(this,Gl);Ct(this,lo);Ct(this,nx);this.config=r,ct(this,Gl,new Set),ct(this,lo,new Map),ct(this,nx,0)}build(r,n,a){const s=new _te({mutationCache:this,mutationId:++oy(this,nx)._,options:r.defaultMutationOptions(n),state:a});return this.add(s),s}add(r){ge(this,Gl).add(r);const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n);a?a.push(r):ge(this,lo).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(ge(this,Gl).delete(r)){const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n);if(a)if(a.length>1){const s=a.indexOf(r);s!==-1&&a.splice(s,1)}else a[0]===r&&ge(this,lo).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=Ny(r);if(typeof n=="string"){const a=ge(this,lo).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===r}else return!0}runNext(r){var a;const n=Ny(r);if(typeof n=="string"){const s=(a=ge(this,lo).get(n))==null?void 0:a.find(i=>i!==r&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oa.batch(()=>{ge(this,Gl).forEach(r=>{this.notify({type:"removed",mutation:r})}),ge(this,Gl).clear(),ge(this,lo).clear()})}getAll(){return Array.from(ge(this,Gl))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>TR(n,a))}findAll(r={}){return this.getAll().filter(n=>TR(r,n))}notify(r){oa.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return oa.batch(()=>Promise.all(r.map(n=>n.continue().catch(_s))))}},Gl=new WeakMap,lo=new WeakMap,nx=new WeakMap,W8);function Ny(e){var r;return(r=e.options.scope)==null?void 0:r.id}function PR(e){return{onFetch:(r,n)=>{var f,h,m,p,v;const a=r.options,s=(m=(h=(f=r.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((p=r.state.data)==null?void 0:p.pages)||[],o=((v=r.state.data)==null?void 0:v.pageParams)||[];let c={pages:[],pageParams:[]},u=0;const d=async()=>{let g=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(r.signal.aborted?g=!0:r.signal.addEventListener("abort",()=>{g=!0}),r.signal)})},b=uU(r.options,r.fetchOptions),w=async(_,S,j)=>{if(g)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const I={client:r.client,queryKey:r.queryKey,pageParam:S,direction:j?"backward":"forward",meta:r.options.meta};return x(I),I})(),C=await b(k),{maxPages:E}=r.options,P=j?fte:dte;return{pages:P(_.pages,C,E),pageParams:P(_.pageParams,S,E)}};if(s&&i.length){const _=s==="backward",S=_?kte:DR,j={pages:i,pageParams:o},N=S(a,j);c=await w(j,N,_)}else{const _=e??i.length;do{const S=u===0?o[0]??a.initialPageParam:DR(a,c);if(u>0&&S==null)break;c=await w(c,S),u++}while(u<_)}return c};r.options.persister?r.fetchFn=()=>{var g,x;return(x=(g=r.options).persister)==null?void 0:x.call(g,d,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=d}}}function DR(e,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?e.getNextPageParam(r[a],r,n[a],n):void 0}function kte(e,{pages:r,pageParams:n}){var a;return r.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,r[0],r,n[0],n):void 0}var nn,iu,ou,ym,wm,lu,bm,_m,H8,Nte=(H8=class{constructor(e={}){Ct(this,nn);Ct(this,iu);Ct(this,ou);Ct(this,ym);Ct(this,wm);Ct(this,lu);Ct(this,bm);Ct(this,_m);ct(this,nn,e.queryCache||new bte),ct(this,iu,e.mutationCache||new jte),ct(this,ou,e.defaultOptions||{}),ct(this,ym,new Map),ct(this,wm,new Map),ct(this,lu,0)}mount(){oy(this,lu)._++,ge(this,lu)===1&&(ct(this,bm,yA.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,nn).onFocus())})),ct(this,_m,gw.subscribe(async e=>{e&&(await this.resumePausedMutations(),ge(this,nn).onOnline())})))}unmount(){var e,r;oy(this,lu)._--,ge(this,lu)===0&&((e=ge(this,bm))==null||e.call(this),ct(this,bm,void 0),(r=ge(this,_m))==null||r.call(this),ct(this,_m,void 0))}isFetching(e){return ge(this,nn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ge(this,iu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=ge(this,nn).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),n=ge(this,nn).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Eu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(e){return ge(this,nn).findAll(e).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(e,r,n){const a=this.defaultQueryOptions({queryKey:e}),s=ge(this,nn).get(a.queryHash),i=s==null?void 0:s.state.data,o=cte(r,i);if(o!==void 0)return ge(this,nn).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return oa.batch(()=>ge(this,nn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(e){var n;const r=this.defaultQueryOptions({queryKey:e});return(n=ge(this,nn).get(r.queryHash))==null?void 0:n.state}removeQueries(e){const r=ge(this,nn);oa.batch(()=>{r.findAll(e).forEach(n=>{r.remove(n)})})}resetQueries(e,r){const n=ge(this,nn);return oa.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const n={revert:!0,...r},a=oa.batch(()=>ge(this,nn).findAll(e).map(s=>s.cancel(n)));return Promise.all(a).then(_s).catch(_s)}invalidateQueries(e,r={}){return oa.batch(()=>(ge(this,nn).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=oa.batch(()=>ge(this,nn).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_s)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(_s)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const n=ge(this,nn).build(this,r);return n.isStaleByTime(Eu(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_s).catch(_s)}fetchInfiniteQuery(e){return e.behavior=PR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_s).catch(_s)}ensureInfiniteQueryData(e){return e.behavior=PR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gw.isOnline()?ge(this,iu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,nn)}getMutationCache(){return ge(this,iu)}getDefaultOptions(){return ge(this,ou)}setDefaultOptions(e){ct(this,ou,e)}setQueryDefaults(e,r){ge(this,ym).set(Xg(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...ge(this,ym).values()],n={};return r.forEach(a=>{Jg(e,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(e,r){ge(this,wm).set(Xg(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...ge(this,wm).values()],n={};return r.forEach(a=>{Jg(e,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const r={...ge(this,ou).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=vA(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===xA&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ge(this,ou).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ge(this,nn).clear(),ge(this,iu).clear()}},nn=new WeakMap,iu=new WeakMap,ou=new WeakMap,ym=new WeakMap,wm=new WeakMap,lu=new WeakMap,bm=new WeakMap,_m=new WeakMap,H8),ys,er,ax,Ya,Yd,Sm,cu,uu,sx,jm,km,Xd,Jd,du,Nm,vr,U0,N2,E2,C2,T2,A2,O2,P2,gU,q8,Ete=(q8=class extends dx{constructor(r,n){super();Ct(this,vr);Ct(this,ys);Ct(this,er);Ct(this,ax);Ct(this,Ya);Ct(this,Yd);Ct(this,Sm);Ct(this,cu);Ct(this,uu);Ct(this,sx);Ct(this,jm);Ct(this,km);Ct(this,Xd);Ct(this,Jd);Ct(this,du);Ct(this,Nm,new Set);this.options=n,ct(this,ys,r),ct(this,uu,null),ct(this,cu,k2()),this.options.experimental_prefetchInRender||ge(this,cu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,er).addObserver(this),RR(ge(this,er),this.options)?Zt(this,vr,U0).call(this):this.updateResult(),Zt(this,vr,T2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return D2(ge(this,er),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return D2(ge(this,er),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,vr,A2).call(this),Zt(this,vr,O2).call(this),ge(this,er).removeObserver(this)}setOptions(r){const n=this.options,a=ge(this,er);if(this.options=ge(this,ys).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ci(this.options.enabled,ge(this,er))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,vr,P2).call(this),ge(this,er).setOptions(this.options),n._defaulted&&!_2(this.options,n)&&ge(this,ys).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,er),observer:this});const s=this.hasListeners();s&&IR(ge(this,er),a,this.options,n)&&Zt(this,vr,U0).call(this),this.updateResult(),s&&(ge(this,er)!==a||Ci(this.options.enabled,ge(this,er))!==Ci(n.enabled,ge(this,er))||Eu(this.options.staleTime,ge(this,er))!==Eu(n.staleTime,ge(this,er)))&&Zt(this,vr,N2).call(this);const i=Zt(this,vr,E2).call(this);s&&(ge(this,er)!==a||Ci(this.options.enabled,ge(this,er))!==Ci(n.enabled,ge(this,er))||i!==ge(this,du))&&Zt(this,vr,C2).call(this,i)}getOptimisticResult(r){const n=ge(this,ys).getQueryCache().build(ge(this,ys),r),a=this.createResult(n,r);return Tte(this,a)&&(ct(this,Ya,a),ct(this,Sm,this.options),ct(this,Yd,ge(this,er).state)),a}getCurrentResult(){return ge(this,Ya)}trackResult(r,n){return new Proxy(r,{get:(a,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(a,s))})}trackProp(r){ge(this,Nm).add(r)}getCurrentQuery(){return ge(this,er)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const n=ge(this,ys).defaultQueryOptions(r),a=ge(this,ys).getQueryCache().build(ge(this,ys),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(r){return Zt(this,vr,U0).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Ya)))}createResult(r,n){var E;const a=ge(this,er),s=this.options,i=ge(this,Ya),o=ge(this,Yd),c=ge(this,Sm),d=r!==a?r.state:ge(this,ax),{state:f}=r;let h={...f},m=!1,p;if(n._optimisticResults){const P=this.hasListeners(),I=!P&&RR(r,n),T=P&&IR(r,a,n,s);(I||T)&&(h={...h,...pU(f.data,r.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:x}=h;p=h.data;let b=!1;if(n.placeholderData!==void 0&&p===void 0&&x==="pending"){let P;i!=null&&i.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData)?(P=i.data,b=!0):P=typeof n.placeholderData=="function"?n.placeholderData((E=ge(this,km))==null?void 0:E.state.data,ge(this,km)):n.placeholderData,P!==void 0&&(x="success",p=j2(i==null?void 0:i.data,P,n),m=!0)}if(n.select&&p!==void 0&&!b)if(i&&p===(o==null?void 0:o.data)&&n.select===ge(this,sx))p=ge(this,jm);else try{ct(this,sx,n.select),p=n.select(p),p=j2(i==null?void 0:i.data,p,n),ct(this,jm,p),ct(this,uu,null)}catch(P){ct(this,uu,P)}ge(this,uu)&&(v=ge(this,uu),p=ge(this,jm),g=Date.now(),x="error");const w=h.fetchStatus==="fetching",_=x==="pending",S=x==="error",j=_&&w,N=p!==void 0,C={status:x,fetchStatus:h.fetchStatus,isPending:_,isSuccess:x==="success",isError:S,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!_,isLoadingError:S&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&N,isStale:wA(r,n),refetch:this.refetch,promise:ge(this,cu),isEnabled:Ci(n.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const P=U=>{C.status==="error"?U.reject(C.error):C.data!==void 0&&U.resolve(C.data)},I=()=>{const U=ct(this,cu,C.promise=k2());P(U)},T=ge(this,cu);switch(T.status){case"pending":r.queryHash===a.queryHash&&P(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&I();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&I();break}}return C}updateResult(){const r=ge(this,Ya),n=this.createResult(ge(this,er),this.options);if(ct(this,Yd,ge(this,er).state),ct(this,Sm,this.options),ge(this,Yd).data!==void 0&&ct(this,km,ge(this,er)),_2(n,r))return;ct(this,Ya,n);const a=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!ge(this,Nm).size)return!0;const o=new Set(i??ge(this,Nm));return this.options.throwOnError&&o.add("error"),Object.keys(ge(this,Ya)).some(c=>{const u=c;return ge(this,Ya)[u]!==r[u]&&o.has(u)})};Zt(this,vr,gU).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,vr,T2).call(this)}},ys=new WeakMap,er=new WeakMap,ax=new WeakMap,Ya=new WeakMap,Yd=new WeakMap,Sm=new WeakMap,cu=new WeakMap,uu=new WeakMap,sx=new WeakMap,jm=new WeakMap,km=new WeakMap,Xd=new WeakMap,Jd=new WeakMap,du=new WeakMap,Nm=new WeakMap,vr=new WeakSet,U0=function(r){Zt(this,vr,P2).call(this);let n=ge(this,er).fetch(this.options,r);return r!=null&&r.throwOnError||(n=n.catch(_s)),n},N2=function(){Zt(this,vr,A2).call(this);const r=Eu(this.options.staleTime,ge(this,er));if(hf||ge(this,Ya).isStale||!b2(r))return;const a=lU(ge(this,Ya).dataUpdatedAt,r)+1;ct(this,Xd,setTimeout(()=>{ge(this,Ya).isStale||this.updateResult()},a))},E2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,er)):this.options.refetchInterval)??!1},C2=function(r){Zt(this,vr,O2).call(this),ct(this,du,r),!(hf||Ci(this.options.enabled,ge(this,er))===!1||!b2(ge(this,du))||ge(this,du)===0)&&ct(this,Jd,setInterval(()=>{(this.options.refetchIntervalInBackground||yA.isFocused())&&Zt(this,vr,U0).call(this)},ge(this,du)))},T2=function(){Zt(this,vr,N2).call(this),Zt(this,vr,C2).call(this,Zt(this,vr,E2).call(this))},A2=function(){ge(this,Xd)&&(clearTimeout(ge(this,Xd)),ct(this,Xd,void 0))},O2=function(){ge(this,Jd)&&(clearInterval(ge(this,Jd)),ct(this,Jd,void 0))},P2=function(){const r=ge(this,ys).getQueryCache().build(ge(this,ys),this.options);if(r===ge(this,er))return;const n=ge(this,er);ct(this,er,r),ct(this,ax,r.state),this.hasListeners()&&(n==null||n.removeObserver(this),r.addObserver(this))},gU=function(r){oa.batch(()=>{r.listeners&&this.listeners.forEach(n=>{n(ge(this,Ya))}),ge(this,ys).getQueryCache().notify({query:ge(this,er),type:"observerResultsUpdated"})})},q8);function Cte(e,r){return Ci(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function RR(e,r){return Cte(e,r)||e.state.data!==void 0&&D2(e,r,r.refetchOnMount)}function D2(e,r,n){if(Ci(r.enabled,e)!==!1&&Eu(r.staleTime,e)!=="static"){const a=typeof n=="function"?n(e):n;return a==="always"||a!==!1&&wA(e,r)}return!1}function IR(e,r,n,a){return(e!==r||Ci(a.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&wA(e,n)}function wA(e,r){return Ci(r.enabled,e)!==!1&&e.isStaleByTime(Eu(r.staleTime,e))}function Tte(e,r){return!_2(e.getCurrentResult(),r)}var vU=y.createContext(void 0),Ate=e=>{const r=y.useContext(vU);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Ote=({client:e,children:r})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(vU.Provider,{value:e,children:r})),xU=y.createContext(!1),Pte=()=>y.useContext(xU);xU.Provider;function Dte(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Rte=y.createContext(Dte()),Ite=()=>y.useContext(Rte),Mte=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},Fte=e=>{y.useEffect(()=>{e.clearReset()},[e])},Lte=({result:e,errorResetBoundary:r,throwOnError:n,query:a,suspense:s})=>e.isError&&!r.isReset()&&!e.isFetching&&a&&(s&&e.data===void 0||hte(n,[e.error,a])),$te=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Bte=(e,r)=>e.isLoading&&e.isFetching&&!r,Ute=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,MR=(e,r,n)=>r.fetchOptimistic(e).catch(()=>{n.clearReset()});function Vte(e,r,n){var h,m,p,v,g;const a=Pte(),s=Ite(),i=Ate(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=a?"isRestoring":"optimistic",$te(o),Mte(o,s),Fte(s);const c=!i.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new r(i,o)),d=u.getOptimisticResult(o),f=!a&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const b=f?u.subscribe(oa.batchCalls(x)):_s;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),Ute(o,d))throw MR(o,u,s);if(Lte({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,o,d),o.experimental_prefetchInRender&&!hf&&Bte(d,a)){const x=c?MR(o,u,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;x==null||x.catch(_s).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function bA(e,r){return Vte(e,Ete)}const Rt=e=>typeof e=="string",v0=()=>{let e,r;const n=new Promise((a,s)=>{e=a,r=s});return n.resolve=e,n.reject=r,n},FR=e=>e==null?"":""+e,zte=(e,r,n)=>{e.forEach(a=>{r[a]&&(n[a]=r[a])})},Wte=/###/g,LR=e=>e&&e.indexOf("###")>-1?e.replace(Wte,"."):e,$R=e=>!e||Rt(e),og=(e,r,n)=>{const a=Rt(r)?r.split("."):r;let s=0;for(;s<a.length-1;){if($R(e))return{};const i=LR(a[s]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++s}return $R(e)?{}:{obj:e,k:LR(a[s])}},BR=(e,r,n)=>{const{obj:a,k:s}=og(e,r,Object);if(a!==void 0||r.length===1){a[s]=n;return}let i=r[r.length-1],o=r.slice(0,r.length-1),c=og(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=og(e,o,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Hte=(e,r,n,a)=>{const{obj:s,k:i}=og(e,r,Object);s[i]=s[i]||[],s[i].push(n)},vw=(e,r)=>{const{obj:n,k:a}=og(e,r);if(n&&Object.prototype.hasOwnProperty.call(n,a))return n[a]},qte=(e,r,n)=>{const a=vw(e,n);return a!==void 0?a:vw(r,n)},yU=(e,r,n)=>{for(const a in r)a!=="__proto__"&&a!=="constructor"&&(a in e?Rt(e[a])||e[a]instanceof String||Rt(r[a])||r[a]instanceof String?n&&(e[a]=r[a]):yU(e[a],r[a],n):e[a]=r[a]);return e},Zf=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gte=e=>Rt(e)?e.replace(/[&<>"'\/]/g,r=>Kte[r]):e;class Yte{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const n=this.regExpMap.get(r);if(n!==void 0)return n;const a=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,a),this.regExpQueue.push(r),a}}const Xte=[" ",",","?","!",";"],Jte=new Yte(20),Qte=(e,r,n)=>{r=r||"",n=n||"";const a=Xte.filter(o=>r.indexOf(o)<0&&n.indexOf(o)<0);if(a.length===0)return!0;const s=Jte.getRegExp(`(${a.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!s.test(e);if(!i){const o=e.indexOf(n);o>0&&!s.test(e.substring(0,o))&&(i=!0)}return i},R2=(e,r,n=".")=>{if(!e)return;if(e[r])return Object.prototype.hasOwnProperty.call(e,r)?e[r]:void 0;const a=r.split(n);let s=e;for(let i=0;i<a.length;){if(!s||typeof s!="object")return;let o,c="";for(let u=i;u<a.length;++u)if(u!==i&&(c+=n),c+=a[u],o=s[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&u<a.length-1)continue;i+=u-i+1;break}s=o}return s},Qg=e=>e==null?void 0:e.replace("_","-"),Zte={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){var n,a;(a=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||a.call(n,console,r)}};class xw{constructor(r,n={}){this.init(r,n)}init(r,n={}){this.prefix=n.prefix||"i18next:",this.logger=r||Zte,this.options=n,this.debug=n.debug}log(...r){return this.forward(r,"log","",!0)}warn(...r){return this.forward(r,"warn","",!0)}error(...r){return this.forward(r,"error","")}deprecate(...r){return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(r,n,a,s){return s&&!this.debug?null:(Rt(r[0])&&(r[0]=`${a}${this.prefix} ${r[0]}`),this.logger[n](r))}create(r){return new xw(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new xw(this.logger,r)}}var il=new xw;let C_=class{constructor(){this.observers={}}on(r,n){return r.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const s=this.observers[a].get(n)||0;this.observers[a].set(n,s+1)}),this}off(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r].delete(n)}}emit(r,...n){this.observers[r]&&Array.from(this.observers[r].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let o=0;o<i;o++)s.apply(s,[r,...n])})}};class UR extends C_{constructor(r,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=r||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const n=this.options.ns.indexOf(r);n>-1&&this.options.ns.splice(n,1)}getResource(r,n,a,s={}){var d,f;const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,o=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;r.indexOf(".")>-1?c=r.split("."):(c=[r,n],a&&(Array.isArray(a)?c.push(...a):Rt(a)&&i?c.push(...a.split(i)):c.push(a)));const u=vw(this.data,c);return!u&&!n&&!a&&r.indexOf(".")>-1&&(r=c[0],n=c[1],a=c.slice(2).join(".")),u||!o||!Rt(a)?u:R2((f=(d=this.data)==null?void 0:d[r])==null?void 0:f[n],a,i)}addResource(r,n,a,s,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[r,n];a&&(c=c.concat(o?a.split(o):a)),r.indexOf(".")>-1&&(c=r.split("."),s=n,n=c[1]),this.addNamespaces(n),BR(this.data,c,s),i.silent||this.emit("added",r,n,a,s)}addResources(r,n,a,s={silent:!1}){for(const i in a)(Rt(a[i])||Array.isArray(a[i]))&&this.addResource(r,n,i,a[i],{silent:!0});s.silent||this.emit("added",r,n,a)}addResourceBundle(r,n,a,s,i,o={silent:!1,skipCopy:!1}){let c=[r,n];r.indexOf(".")>-1&&(c=r.split("."),s=a,a=n,n=c[1]),this.addNamespaces(n);let u=vw(this.data,c)||{};o.skipCopy||(a=JSON.parse(JSON.stringify(a))),s?yU(u,a,i):u={...u,...a},BR(this.data,c,u),o.silent||this.emit("added",r,n,a)}removeResourceBundle(r,n){this.hasResourceBundle(r,n)&&delete this.data[r][n],this.removeNamespaces(n),this.emit("removed",r,n)}hasResourceBundle(r,n){return this.getResource(r,n)!==void 0}getResourceBundle(r,n){return n||(n=this.options.defaultNS),this.getResource(r,n)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const n=this.getDataByLanguage(r);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var wU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,n,a,s){return e.forEach(i=>{var o;r=((o=this.processors[i])==null?void 0:o.process(r,n,a,s))??r}),r}};const bU=Symbol("i18next/PATH_KEY");function ere(){const e=[],r=Object.create(null);let n;return r.get=(a,s)=>{var i;return(i=n==null?void 0:n.revoke)==null||i.call(n),s===bU?e:(e.push(s),n=Proxy.revocable(a,r),n.proxy)},Proxy.revocable(Object.create(null),r).proxy}function I2(e,r){const{[bU]:n}=e(ere());return n.join((r==null?void 0:r.keySeparator)??".")}const VR={},tk=e=>!Rt(e)&&typeof e!="boolean"&&typeof e!="number";class yw extends C_{constructor(r,n={}){super(),zte(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=il.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r,n={interpolation:{}}){const a={...n};if(r==null)return!1;const s=this.resolve(r,a);if((s==null?void 0:s.res)===void 0)return!1;const i=tk(s.res);return!(a.returnObjects===!1&&i)}extractFromKey(r,n){let a=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=a&&r.indexOf(a)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qte(r,a,s);if(o&&!c){const u=r.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:r,namespaces:Rt(i)?[i]:i};const d=r.split(a);(a!==s||a===s&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),r=d.join(s)}return{key:r,namespaces:Rt(i)?[i]:i}}translate(r,n,a){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),r==null)return"";typeof r=="function"&&(r=I2(r,{...this.options,...s})),Array.isArray(r)||(r=[String(r)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(r[r.length-1],s),d=u[u.length-1];let f=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=s.lng||this.language,m=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?i?{res:`${d}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:`${d}${f}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(s)}:c;const p=this.resolve(r,s);let v=p==null?void 0:p.res;const g=(p==null?void 0:p.usedKey)||c,x=(p==null?void 0:p.exactUsedKey)||c,b=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,S=s.count!==void 0&&!Rt(s.count),j=yw.hasDefaultValue(s),N=S?this.pluralResolver.getSuffix(h,s.count,s):"",k=s.ordinal&&S?this.pluralResolver.getSuffix(h,s.count,{ordinal:!1}):"",C=S&&!s.ordinal&&s.count===0,E=C&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${N}`]||s[`defaultValue${k}`]||s.defaultValue;let P=v;_&&!v&&j&&(P=E);const I=tk(P),T=Object.prototype.toString.apply(P);if(_&&P&&I&&b.indexOf(T)<0&&!(Rt(w)&&Array.isArray(P))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const U=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,P,{...s,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(p.res=U,p.usedParams=this.getUsedParamsDetails(s),p):U}if(o){const U=Array.isArray(P),H=U?[]:{},F=U?x:g;for(const M in P)if(Object.prototype.hasOwnProperty.call(P,M)){const z=`${F}${o}${M}`;j&&!v?H[M]=this.translate(z,{...s,defaultValue:tk(E)?E[M]:void 0,joinArrays:!1,ns:u}):H[M]=this.translate(z,{...s,joinArrays:!1,ns:u}),H[M]===z&&(H[M]=P[M])}v=H}}else if(_&&Rt(w)&&Array.isArray(v))v=v.join(w),v&&(v=this.extendTranslation(v,r,s,a));else{let U=!1,H=!1;!this.isValidLookup(v)&&j&&(U=!0,v=E),this.isValidLookup(v)||(H=!0,v=c);const M=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:v,z=j&&E!==v&&this.options.updateMissing;if(H||U||z){if(this.logger.log(z?"updateKey":"missingKey",h,d,c,z?E:v),o){const te=this.resolve(c,{...s,keySeparator:!1});te&&te.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&R&&R[0])for(let te=0;te<R.length;te++)L.push(R[te]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(s.lng||this.language):L.push(s.lng||this.language);const J=(te,A,X)=>{var q;const V=j&&X!==v?X:M;this.options.missingKeyHandler?this.options.missingKeyHandler(te,d,A,V,z,s):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(te,d,A,V,z,s),this.emit("missingKey",te,d,A,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?L.forEach(te=>{const A=this.pluralResolver.getSuffixes(te,s);C&&s[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(X=>{J([te],c+X,s[`defaultValue${X}`]||E)})}):J(L,c,E))}v=this.extendTranslation(v,r,s,p,a),H&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${d}${f}${c}`),(H||U)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${f}${c}`:c,U?v:void 0,s))}return i?(p.res=v,p.usedParams=this.getUsedParamsDetails(s),p):v}extendTranslation(r,n,a,s,i){var u,d;if((u=this.i18nFormat)!=null&&u.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const f=Rt(r)&&(((d=a==null?void 0:a.interpolation)==null?void 0:d.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(f){const p=r.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=a.replace&&!Rt(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),r=this.interpolator.interpolate(r,m,a.lng||this.language||s.usedLng,a),f){const p=r.match(this.interpolator.nestingRegexp),v=p&&p.length;h<v&&(a.nest=!1)}!a.lng&&s&&s.res&&(a.lng=this.language||s.usedLng),a.nest!==!1&&(r=this.interpolator.nest(r,(...p)=>(i==null?void 0:i[0])===p[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),a)),a.interpolation&&this.interpolator.reset()}const o=a.postProcess||this.options.postProcess,c=Rt(o)?[o]:o;return r!=null&&(c!=null&&c.length)&&a.applyPostProcessor!==!1&&(r=wU.handle(c,r,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),r}resolve(r,n={}){let a,s,i,o,c;return Rt(r)&&(r=[r]),r.forEach(u=>{if(this.isValidLookup(a))return;const d=this.extractFromKey(u,n),f=d.key;s=f;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Rt(n.count),p=m&&!n.ordinal&&n.count===0,v=n.context!==void 0&&(Rt(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var b,w;this.isValidLookup(a)||(c=x,!VR[`${g[0]}-${x}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(c))&&(VR[`${g[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${g.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(_=>{var N;if(this.isValidLookup(a))return;o=_;const S=[f];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(S,f,_,x,n);else{let k;m&&(k=this.pluralResolver.getSuffix(_,n.count,n));const C=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&k.indexOf(E)===0&&S.push(f+k.replace(E,this.options.pluralSeparator)),S.push(f+k),p&&S.push(f+C)),v){const P=`${f}${this.options.contextSeparator||"_"}${n.context}`;S.push(P),m&&(n.ordinal&&k.indexOf(E)===0&&S.push(P+k.replace(E,this.options.pluralSeparator)),S.push(P+k),p&&S.push(P+C))}}let j;for(;j=S.pop();)this.isValidLookup(a)||(i=j,a=this.getResource(_,x,j,n))}))})}),{res:a,usedKey:s,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,n,a,s={}){var i;return(i=this.i18nFormat)!=null&&i.getResource?this.i18nFormat.getResource(r,n,a,s):this.resourceStore.getResource(r,n,a,s)}getUsedParamsDetails(r={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=r.replace&&!Rt(r.replace);let s=a?r.replace:r;if(a&&typeof r.count<"u"&&(s.count=r.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!a){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(r){const n="defaultValue";for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&n===a.substring(0,n.length)&&r[a]!==void 0)return!0;return!1}}class zR{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=il.create("languageUtils")}getScriptPartFromCode(r){if(r=Qg(r),!r||r.indexOf("-")<0)return null;const n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(r){if(r=Qg(r),!r||r.indexOf("-")<0)return r;const n=r.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(r){if(Rt(r)&&r.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(r)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?r.toLowerCase():r)}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let n;return r.forEach(a=>{if(n)return;const s=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&r.forEach(a=>{if(n)return;const s=this.getScriptPartFromCode(a);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(a);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),Rt(r)&&(r=[r]),Array.isArray(r))return r;if(!n)return r.default||[];let a=r[n];return a||(a=r[this.getScriptPartFromCode(n)]),a||(a=r[this.formatLanguageCode(n)]),a||(a=r[this.getLanguagePartFromCode(n)]),a||(a=r.default),a||[]}toResolveHierarchy(r,n){const a=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],r),s=[],i=o=>{o&&(this.isSupportedCode(o)?s.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Rt(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(r))):Rt(r)&&i(this.formatLanguageCode(r)),a.forEach(o=>{s.indexOf(o)<0&&i(this.formatLanguageCode(o))}),s}}const WR={zero:0,one:1,two:2,few:3,many:4,other:5},HR={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class tre{constructor(r,n={}){this.languageUtils=r,this.options=n,this.logger=il.create("pluralResolver"),this.pluralRulesCache={}}addRule(r,n){this.rules[r]=n}clearCache(){this.pluralRulesCache={}}getRule(r,n={}){const a=Qg(r==="dev"?"en":r),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:a,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(a,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),HR;if(!r.match(/-|_/))return HR;const u=this.languageUtils.getLanguagePartFromCode(r);o=this.getRule(u,n)}return this.pluralRulesCache[i]=o,o}needsPlural(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),(a==null?void 0:a.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(r,n,a={}){return this.getSuffixes(r,a).map(s=>`${n}${s}`)}getSuffixes(r,n={}){let a=this.getRule(r,n);return a||(a=this.getRule("dev",n)),a?a.resolvedOptions().pluralCategories.sort((s,i)=>WR[s]-WR[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(r,n,a={}){const s=this.getRule(r,a);return s?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${r}`),this.getSuffix("dev",n,a))}}const qR=(e,r,n,a=".",s=!0)=>{let i=qte(e,r,n);return!i&&s&&Rt(n)&&(i=R2(e,n,a),i===void 0&&(i=R2(r,n,a))),i},rk=e=>e.replace(/\$/g,"$$$$");class rre{constructor(r={}){var n;this.logger=il.create("interpolator"),this.options=r,this.format=((n=r==null?void 0:r.interpolation)==null?void 0:n.format)||(a=>a),this.init(r)}init(r={}){r.interpolation||(r.interpolation={escapeValue:!0});const{escape:n,escapeValue:a,useRawValueToEscape:s,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:u,formatSeparator:d,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:g,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:w}=r.interpolation;this.escape=n!==void 0?n:Gte,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Zf(i):o||"{{",this.suffix=c?Zf(c):u||"}}",this.formatSeparator=d||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=m?Zf(m):p||Zf("$t("),this.nestingSuffix=v?Zf(v):g||Zf(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(n,a)=>(n==null?void 0:n.source)===a?(n.lastIndex=0,n):new RegExp(a,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(r,n,a,s){var p;let i,o,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=v=>{if(v.indexOf(this.formatSeparator)<0){const w=qR(n,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,a,{...s,...n,interpolationkey:v}):w}const g=v.split(this.formatSeparator),x=g.shift().trim(),b=g.join(this.formatSeparator).trim();return this.format(qR(n,u,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,a,{...s,...n,interpolationkey:x})};this.resetRegExp();const f=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=s==null?void 0:s.interpolation)==null?void 0:p.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>rk(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?rk(this.escape(v)):rk(v)}].forEach(v=>{for(c=0;i=v.regex.exec(r);){const g=i[1].trim();if(o=d(g),o===void 0)if(typeof f=="function"){const b=f(r,i,s);o=Rt(b)?b:""}else if(s&&Object.prototype.hasOwnProperty.call(s,g))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${r}`),o="";else!Rt(o)&&!this.useRawValueToEscape&&(o=FR(o));const x=v.safeValue(o);if(r=r.replace(i[0],x),h?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),r}nest(r,n,a={}){let s,i,o;const c=(u,d)=>{const f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;const h=u.split(new RegExp(`${f}[ ]*{`));let m=`{${h[1]}`;u=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),v=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!v||v.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,g),`${u}${f}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,u};for(;s=this.nestingRegexp.exec(r);){let u=[];o={...a},o=o.replace&&!Rt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(d!==-1&&(u=s[1].slice(d).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),s[1]=s[1].slice(0,d)),i=n(c.call(this,s[1].trim(),o),o),i&&s[0]===r&&!Rt(i))return i;Rt(i)||(i=FR(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${r}`),i=""),u.length&&(i=u.reduce((f,h)=>this.format(f,h,a.lng,{...a,interpolationkey:s[1].trim()}),i.trim())),r=r.replace(s[0],i),this.regexp.lastIndex=0}return r}}const nre=e=>{let r=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");r=a[0].toLowerCase().trim();const s=a[1].substring(0,a[1].length-1);r==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):r==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(o=>{if(o){const[c,...u]=o.split(":"),d=u.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();n[f]||(n[f]=d),d==="false"&&(n[f]=!1),d==="true"&&(n[f]=!0),isNaN(d)||(n[f]=parseInt(d,10))}})}return{formatName:r,formatOptions:n}},KR=e=>{const r={};return(n,a,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const o=a+JSON.stringify(i);let c=r[o];return c||(c=e(Qg(a),s),r[o]=c),c(n)}},are=e=>(r,n,a)=>e(Qg(n),a)(r);class sre{constructor(r={}){this.logger=il.create("formatter"),this.options=r,this.init(r)}init(r,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const a=n.cacheInBuiltFormats?KR:are;this.formats={number:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i});return c=>o.format(c)}),currency:a((s,i)=>{const o=new Intl.NumberFormat(s,{...i,style:"currency"});return c=>o.format(c)}),datetime:a((s,i)=>{const o=new Intl.DateTimeFormat(s,{...i});return c=>o.format(c)}),relativetime:a((s,i)=>{const o=new Intl.RelativeTimeFormat(s,{...i});return c=>o.format(c,i.range||"day")}),list:a((s,i)=>{const o=new Intl.ListFormat(s,{...i});return c=>o.format(c)})}}add(r,n){this.formats[r.toLowerCase().trim()]=n}addCached(r,n){this.formats[r.toLowerCase().trim()]=KR(n)}format(r,n,a,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,u)=>{var h;const{formatName:d,formatOptions:f}=nre(u);if(this.formats[d]){let m=c;try{const p=((h=s==null?void 0:s.formatParams)==null?void 0:h[s.interpolationkey])||{},v=p.locale||p.lng||s.locale||s.lng||a;m=this.formats[d](c,v,{...f,...s,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${d}`);return c},r)}}const ire=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)};class ore extends C_{constructor(r,n,a,s={}){var i,o;super(),this.backend=r,this.store=n,this.services=a,this.languageUtils=a.languageUtils,this.options=s,this.logger=il.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(o=(i=this.backend)==null?void 0:i.init)==null||o.call(i,a,s.backend,s)}queueLoad(r,n,a,s){const i={},o={},c={},u={};return r.forEach(d=>{let f=!0;n.forEach(h=>{const m=`${d}|${h}`;!a.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,f=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),u[h]===void 0&&(u[h]=!0)))}),f||(c[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(r,n,a){const s=r.split("|"),i=s[0],o=s[1];n&&this.emit("failedLoading",i,o,n),!n&&a&&this.store.addResourceBundle(i,o,a,void 0,void 0,{skipCopy:!0}),this.state[r]=n?-1:2,n&&a&&(this.state[r]=0);const c={};this.queue.forEach(u=>{Hte(u.loaded,[i],o),ire(u,r),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(d=>{c[d]||(c[d]={});const f=u.loaded[d];f.length&&f.forEach(h=>{c[d][h]===void 0&&(c[d][h]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(r,n,a,s=0,i=this.retryTimeout,o){if(!r.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:n,fcName:a,tried:s,wait:i,callback:o});return}this.readingCalls++;const c=(d,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&f&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,r,n,a,s+1,i*2,o)},i);return}o(d,f)},u=this.backend[a].bind(this.backend);if(u.length===2){try{const d=u(r,n);d&&typeof d.then=="function"?d.then(f=>c(null,f)).catch(c):c(null,d)}catch(d){c(d)}return}return u(r,n,c)}prepareLoading(r,n,a={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Rt(r)&&(r=this.languageUtils.toResolveHierarchy(r)),Rt(n)&&(n=[n]);const i=this.queueLoad(r,n,a,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(r,n,a){this.prepareLoading(r,n,{},a)}reload(r,n,a){this.prepareLoading(r,n,{reload:!0},a)}loadOne(r,n=""){const a=r.split("|"),s=a[0],i=a[1];this.read(s,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,o),!o&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,c),this.loaded(r,o,c)})}saveMissing(r,n,a,s,i,o={},c=()=>{}){var u,d,f,h,m;if((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace&&!((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${a}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:i},v=this.backend.create.bind(this.backend);if(v.length<6)try{let g;v.length===5?g=v(r,n,a,s,p):g=v(r,n,a,s),g&&typeof g.then=="function"?g.then(x=>c(null,x)).catch(c):c(null,g)}catch(g){c(g)}else v(r,n,a,s,c,p)}!r||!r[0]||this.store.addResource(r[0],n,a,s)}}}const GR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),Rt(e[1])&&(r.defaultValue=e[1]),Rt(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(a=>{r[a]=n[a]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),YR=e=>{var r,n;return Rt(e.ns)&&(e.ns=[e.ns]),Rt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Rt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(r=e.supportedLngs)==null?void 0:r.indexOf)==null?void 0:n.call(r,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},Ey=()=>{},lre=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class lg extends C_{constructor(r={},n){if(super(),this.options=YR(r),this.services={},this.logger=il,this.modules={external:[]},lre(this),n&&!this.isInitialized&&!r.isClone){if(!this.options.initAsync)return this.init(r,n),this;setTimeout(()=>{this.init(r,n)},0)}}init(r={},n){this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(Rt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=GR();this.options={...a,...this.options,...YR(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?il.init(s(this.modules.logger),this.options):il.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=sre;const f=new zR(this.options);this.store=new UR(this.options.resources,this.options);const h=this.services;h.logger=il,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new tre(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(h.formatter=s(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new rre(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ore(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new yw(this.services,this.options),this.translator.on("*",(p,...v)=>{this.emit(p,...v)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ey),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...f)=>this.store[d](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...f)=>(this.store[d](...f),this)});const c=v0(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(r,n=Ey){var i,o;let a=n;const s=Rt(r)?r:this.language;if(typeof r=="function"&&(a=r),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&c.indexOf(h)<0&&c.push(h)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),(o=(i=this.options.preload)==null?void 0:i.forEach)==null||o.call(i,d=>u(d)),this.services.backendConnector.load(c,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(d)})}else a(null)}reloadResources(r,n,a){const s=v0();return typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=void 0),r||(r=this.languages),n||(n=this.options.ns),a||(a=Ey),this.services.backendConnector.reload(r,n,i=>{s.resolve(),a(i)}),s}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&wU.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1)){for(let n=0;n<this.languages.length;n++){const a=this.languages[n];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(r)<0&&this.store.hasLanguageSomeTranslations(r)&&(this.resolvedLanguage=r,this.languages.unshift(r))}}changeLanguage(r,n){this.isLanguageChangingTo=r;const a=v0();this.emit("languageChanging",r);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?this.isLanguageChangingTo===r&&(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,a.resolve((...d)=>this.t(...d)),n&&n(c,(...d)=>this.t(...d))},o=c=>{var f,h;!r&&!c&&this.services.languageDetector&&(c=[]);const u=Rt(c)?c:c&&c[0],d=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Rt(c)?[c]:c);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),(h=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||h.call(f,d)),this.loadResources(d,m=>{i(m,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(r),a}getFixedT(r,n,a){const s=(i,o,...c)=>{let u;typeof o!="object"?u=this.options.overloadTranslationOptionHandler([i,o].concat(c)):u={...o},u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||a||s.keyPrefix);const d=this.options.keySeparator||".";let f;return u.keyPrefix&&Array.isArray(i)?f=i.map(h=>(typeof h=="function"&&(h=I2(h,{...this.options,...o})),`${u.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=I2(i,{...this.options,...o})),f=u.keyPrefix?`${u.keyPrefix}${d}${i}`:i),this.t(f,u)};return Rt(r)?s.lng=r:s.lngs=r,s.ns=n,s.keyPrefix=a,s}t(...r){var n;return(n=this.translator)==null?void 0:n.translate(...r)}exists(...r){var n;return(n=this.translator)==null?void 0:n.exists(...r)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const o=(c,u)=>{const d=this.services.backendConnector.state[`${c}|${u}`];return d===-1||d===0||d===2};if(n.precheck){const c=n.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(a,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(a,r)&&(!s||o(i,r)))}loadNamespaces(r,n){const a=v0();return this.options.ns?(Rt(r)&&(r=[r]),r.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{a.resolve(),n&&n(s)}),a):(n&&n(),Promise.resolve())}loadLanguages(r,n){const a=v0();Rt(r)&&(r=[r]);const s=this.options.preload||[],i=r.filter(o=>s.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=s.concat(i),this.loadResources(o=>{a.resolve(),n&&n(o)}),a):(n&&n(),Promise.resolve())}dir(r){var s,i;if(r||(r=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!r)return"rtl";try{const o=new Intl.Locale(r);if(o&&o.getTextInfo){const c=o.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=((i=this.services)==null?void 0:i.languageUtils)||new zR(GR());return r.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(a.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(r={},n){const a=new lg(r,n);return a.createInstance=lg.createInstance,a}cloneInstance(r={},n=Ey){const a=r.forkResourceStore;a&&delete r.forkResourceStore;const s={...this.options,...r,isClone:!0},i=new lg(s);if((r.debug!==void 0||r.prefix!==void 0)&&(i.logger=i.logger.clone(r)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},a){const c=Object.keys(this.store.data).reduce((u,d)=>(u[d]={...this.store.data[d]},u[d]=Object.keys(u[d]).reduce((f,h)=>(f[h]={...u[d][h]},f),u[d]),u),{});i.store=new UR(c,s),i.services.resourceStore=i.store}return i.translator=new yw(i.services,s),i.translator.on("*",(c,...u)=>{i.emit(c,...u)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zr=lg.createInstance();Zr.createInstance;Zr.dir;Zr.init;Zr.loadResources;Zr.reloadResources;Zr.use;Zr.changeLanguage;Zr.getFixedT;Zr.t;Zr.exists;Zr.setDefaultNamespace;Zr.hasLoadedNamespace;Zr.loadNamespaces;Zr.loadLanguages;const cre=(e,r,n,a)=>{var i,o,c,u;const s=[n,{code:r,...a||{}}];if((o=(i=e==null?void 0:e.services)==null?void 0:i.logger)!=null&&o.forward)return e.services.logger.forward(s,"warn","react-i18next::",!0);mf(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(u=(c=e==null?void 0:e.services)==null?void 0:c.logger)!=null&&u.warn?e.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},XR={},_U=(e,r,n,a)=>{mf(n)&&XR[n]||(mf(n)&&(XR[n]=new Date),cre(e,r,n,a))},SU=(e,r)=>()=>{if(e.isInitialized)r();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),r()};e.on("initialized",n)}},M2=(e,r,n)=>{e.loadNamespaces(r,SU(e,n))},JR=(e,r,n,a)=>{if(mf(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(r)>-1)return M2(e,n,a);n.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(r,SU(e,a))},ure=(e,r,n={})=>!r.languages||!r.languages.length?(_U(r,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:r.languages}),!0):r.hasLoadedNamespace(e,{lng:n.lng,precheck:(a,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,e))return!1}}),mf=e=>typeof e=="string",dre=e=>typeof e=="object"&&e!==null,fre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},mre=e=>hre[e],pre=e=>e.replace(fre,mre);let F2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pre};const gre=(e={})=>{F2={...F2,...e}},vre=()=>F2;let jU;const xre=e=>{jU=e},yre=()=>jU,wre={type:"3rdParty",init(e){gre(e.options.react),xre(e)}},kU=y.createContext();class bre{constructor(){this.usedNamespaces={}}addUsedNamespaces(r){r.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var NU={exports:{}},EU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=y;function _re(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Sre=typeof Object.is=="function"?Object.is:_re,jre=Rm.useState,kre=Rm.useEffect,Nre=Rm.useLayoutEffect,Ere=Rm.useDebugValue;function Cre(e,r){var n=r(),a=jre({inst:{value:n,getSnapshot:r}}),s=a[0].inst,i=a[1];return Nre(function(){s.value=n,s.getSnapshot=r,nk(s)&&i({inst:s})},[e,n,r]),kre(function(){return nk(s)&&i({inst:s}),e(function(){nk(s)&&i({inst:s})})},[e]),Ere(n),n}function nk(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Sre(e,n)}catch{return!0}}function Tre(e,r){return r()}var Are=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Tre:Cre;EU.useSyncExternalStore=Rm.useSyncExternalStore!==void 0?Rm.useSyncExternalStore:Are;NU.exports=EU;var CU=NU.exports;const Ore=(e,r)=>mf(r)?r:dre(r)&&mf(r.defaultValue)?r.defaultValue:Array.isArray(e)?e[e.length-1]:e,Pre={t:Ore,ready:!1},Dre=()=>()=>{},Kt=(e,r={})=>{var k,C;const{i18n:n}=r,{i18n:a,defaultNS:s}=y.useContext(kU)||{},i=n||a||yre();i&&!i.reportNamespaces&&(i.reportNamespaces=new bre),i||_U(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=y.useMemo(()=>{var E;return{...vre(),...(E=i==null?void 0:i.options)==null?void 0:E.react,...r}},[i,r]),{useSuspense:c,keyPrefix:u}=o,d=y.useMemo(()=>{var P;const E=s||((P=i==null?void 0:i.options)==null?void 0:P.defaultNS);return mf(E)?[E]:E||["translation"]},[e,s,i]);(C=(k=i==null?void 0:i.reportNamespaces)==null?void 0:k.addUsedNamespaces)==null||C.call(k,d);const f=y.useRef(0),h=y.useCallback(E=>{if(!i)return Dre;const{bindI18n:P,bindI18nStore:I}=o,T=()=>{f.current+=1,E()};return P&&i.on(P,T),I&&i.store.on(I,T),()=>{P&&P.split(" ").forEach(U=>i.off(U,T)),I&&I.split(" ").forEach(U=>i.store.off(U,T))}},[i,o]),m=y.useRef(),p=y.useCallback(()=>{if(!i)return Pre;const E=!!(i.isInitialized||i.initializedStoreOnce)&&d.every(F=>ure(F,i,o)),P=r.lng||i.language,I=f.current,T=m.current;if(T&&T.ready===E&&T.lng===P&&T.keyPrefix===u&&T.revision===I)return T;const H={t:i.getFixedT(P,o.nsMode==="fallback"?d:d[0],u),ready:E,lng:P,keyPrefix:u,revision:I};return m.current=H,H},[i,d,u,o,r.lng]),[v,g]=y.useState(0),{t:x,ready:b}=CU.useSyncExternalStore(h,p,p);y.useEffect(()=>{if(i&&!b&&!c){const E=()=>g(P=>P+1);r.lng?JR(i,r.lng,d,E):M2(i,d,E)}},[i,r.lng,d,b,c,v]);const w=i||{},_=y.useRef(null),S=y.useRef(),j=E=>{const P=Object.getOwnPropertyDescriptors(E);P.__original&&delete P.__original;const I=Object.create(Object.getPrototypeOf(E),P);if(!Object.prototype.hasOwnProperty.call(I,"__original"))try{Object.defineProperty(I,"__original",{value:E,writable:!1,enumerable:!1,configurable:!1})}catch{}return I},N=y.useMemo(()=>{const E=w,P=E==null?void 0:E.language;let I=E;E&&(_.current&&_.current.__original===E?S.current!==P?(I=j(E),_.current=I,S.current=P):I=_.current:(I=j(E),_.current=I,S.current=P));const T=[x,I,b];return T.t=x,T.i18n=I,T.ready=b,T},[x,w,b,w.resolvedLanguage,w.language,w.languages]);if(i&&c&&!b)throw new Promise(E=>{const P=()=>E();r.lng?JR(i,r.lng,d,P):M2(i,d,P)});return N};function Rre({i18n:e,defaultNS:r,children:n}){const a=y.useMemo(()=>({i18n:e,defaultNS:r}),[e,r]);return y.createElement(kU.Provider,{value:a},n)}const Ire={home:"Home",dashboard:"Dashboard",empDashboard:"Emp Dashboard",clientPortal:"Client Portal",partnerDashboard:"Partner Dashboard",leads:"Leads",masterLeads:"Master Leads",projects:"Projects",tasks:"Tasks",tickets:"Tickets",teams:"Teams",chats:"Chats",allChats:"All Chats",surveys:"Surveys",users:"Users",settings:"Settings",mainGroup:"Main",salesGroup:"Sales",workGroup:"Work",communicationGroup:"Communication",requestGroup:"",requests:"Requests",systemGroup:"System",permissions:"Permissions"},Mre={save:"Save",cancel:"Cancel",close:"Close",submit:"Submit",delete:"Delete",edit:"Edit",add:"Add",create:"Create",login:"Login",signup:"Sign Up",logout:"Logout",saving:"Saving..."},Fre={name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",phone:"Phone",message:"Message"},Lre={signIn:"Sign In",signUp:"Sign Up",createAccount:"Create Account",enterCredentials:"Enter your credentials to continue",signUpToGetStarted:"Sign up to get started",chooseAccountType:"Choose your account type to continue with Google",chooseAccountTypeSignUp:"Choose your account type to sign up with Google",client:"Client",partner:"Partner",partnerEmployee:"Partner Employee",redirectingToGoogle:"Redirecting to Google...",orContinueWith:"Or continue with",email:"Email",password:"Password",signingIn:"Signing in...",signInButton:"Sign In",signUpButton:"Sign Up",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",clientPortal:"Client Portal",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google"},$re={welcome:"Welcome",loading:"Loading...",error:"Error",success:"Success",search:"Search",filter:"Filter",notifications:"Notifications",kanban:"Kanban",add:"Add",edit:"Edit",delete:"Delete",create:"Create",update:"Update",save:"Save",cancel:"Cancel",confirm:"Confirm",close:"Close",submit:"Submit",back:"Back",next:"Next",previous:"Previous",first:"First",last:"Last",noData:"No data available",noResults:"No results found",noItems:"No items to display",noRecords:"No records found",noRecordsFound:"No records found",noMatches:"No matches found",list:"List",select:"Select",view:"View",status:"Status",assignee:"Assignee",all:"All",pickDate:"Pick a date",clearFilters:"Clear filters",created:"Created",actions:"Actions",stage:"Stage",priority:"Priority",veryLow:"Very Low",low:"Low",medium:"Medium",high:"High",veryHigh:"Very High",overview:"Overview",unassigned:"Unassigned",page:"Page",of:"of"},Bre={open:"Open",in_progress:"In Progress",closed:"Closed",resolve:"Resolve",reopen:"Reopen",pending:"Pending",approved:"Approved",rejected:"Rejected",completed:"Completed"},Ure={title:"Dashboard",subtitle:"Welcome back! Here's an overview of your projects.",totalProjects:"Total Projects",completed:"completed",inProgress:"In Progress",activeProjects:"Active projects",clients:"Clients",totalClients:"Total clients",teamMembers:"Team Members",activeUsers:"Active users",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentProjects:"Recent Projects",projectStatus:"Project Status",noProjectsYet:"No projects yet",retry:"Retry",completedStatus:"Completed",inProgressStatus:"In Progress",notStartedStatus:"Not Started"},Vre={title:"Leads",subtitle:"Manage and track all your leads",newLead:"New Lead",addLead:"Add Lead",createLead:"Create New Lead",createLeadDesc:"Add a new lead to the selected stage.",leadName:"Lead Name",leadNamePlaceholder:"Enter lead name",description:"Description",descriptionPlaceholder:"Enter lead description",clientName:"Client Name",clientNamePlaceholder:"Enter client name",client:"Client",selectClient:"Select a client (optional)",noClient:"No client",unknown:"Unknown",created:"Created",updated:"Updated",createdBy:"Created by",assignedTo:"Assigned to",assignToEmployee:"Assign to Employee",selectAssignee:"Select assignee",lead:"Lead",deleteLead:"Delete Lead",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',addStage:"Add Stage",stageNamePlaceholder:"Stage name...",deleteStage:"Delete Stage",deleteStageConfirmation:"This stage contains {{count}} lead(s). Deleting this stage will also remove all leads in it. This action cannot be undone.",addNewLeadCard:"Add New Lead",noLeadsYet:"No leads have been created yet.",value:"Value",currency:"Currency",stageTotal:"Total: {{amount}}",leadDetails:"Lead Details",leadDetailsDesc:"View and edit lead information",notFound:"Lead not found",expectedCloseDate:"Expected Close Date"},zre={title:"Notes",addNote:"Add Note",noNotes:"No notes yet",placeholder:"Enter your note...",save:"Save Note",edit:"Edit",delete:"Delete Note",deleteConfirmation:"Are you sure you want to delete this note?",unknown:"Unknown user"},Wre={title:"Projects",subtitle:"Manage and track all your projects",newProject:"New Project",createProject:"Create New Project",createProjectDesc:"Add a new project to the selected stage.",projectName:"Project Name",projectNamePlaceholder:"Enter project name",description:"Description",descriptionPlaceholder:"Enter project description",client:"Client",selectClient:"Select a client",initialProgress:"Initial Progress",addProject:"Add Project",addNewProjectCard:"Add New Project",progress:"Progress",started:"Started",completed:"Completed",due:"Due",deleteProject:"Delete Project",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',noProjectsYet:"No projects have been created yet.",dueDate:"Due Date",stage:"Stage",manager:"Manager",deleteComment:"Delete Comment",deleteCommentConfirmation:"Are you sure you want to delete this comment?"},Hre={title:"Settings",description:"Manage application settings and configurations",stageManagement:"Stage Management",leads:"Lead Stages",projects:"Project Stages",tasks:"Task Stages",tickets:"Ticket Stages",mleads:"Master Lead Stages",mprojects:"Master Project Stages",addStage:"Add Stage",editStage:"Edit Stage",deleteStage:"Delete Stage",stageName:"Stage Name",stageNamePlaceholder:"Enter stage name",stageColor:"Stage Color",order:"Order",noStages:"No stages found. Add one to get started.",addStageDesc:"Add a new stage for {{type}}",deleteStageConfirmation:"Are you sure you want to delete this stage? This action cannot be undone.",englishName:"English name",arabicName:"Arabic name",changePassword:"Change Password",changePasswordDescription:"Enter your new password below. Make sure it's at least 6 characters long.",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",newPasswordRequired:"New password is required",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",passwordsDoNotMatch:"Passwords do not match",passwordTooShort:"Password must be at least 6 characters long",changingPassword:"Changing password...",passwordChangedSuccessfully:"Password changed successfully!",passwordChangeFailed:"Failed to change password"},qre={title:"Messages",channels:"Channels",teams:"Teams",directMessages:"Direct Messages",welcome:"Welcome to Chat",selectRoomDesc:"Select a channel or direct message to start chatting.",membersCount:"{{count}} members",today:"Today",placeholder:"Message...",noChannels:"No channels",noMessages:"No messages"},Kre={title:"Tickets",subtitle:"Manage and track all support tickets.",newTicket:"New Ticket",createNewTicket:"Create New Ticket",createTicketDesc:"Fill in the details to create a new support ticket.",searchPlaceholder:"Search tickets...",allTickets:"All Tickets",noTicketsFound:"No Tickets Found",noTicketsFoundDesc:"Try adjusting your search terms.",noTicketsYet:"No tickets have been created yet.",id:"ID",subject:"Subject",subjectPlaceholder:"Enter ticket subject",description:"Description",descriptionPlaceholder:"Describe the issue or request",status:"Status",priority:"Priority",priorityLow:"Low",priorityMedium:"Medium",priorityHigh:"High",priorityUrgent:"Urgent",ticketType:"Ticket Type",typeRequest:"Request",typeFollowUp:"Follow Up",typeIssue:"Issue",typeInternalTask:"Internal Task",assignTo:"Assign To",selectAssignee:"Select assignee (optional)",assignedTo:"Assigned To",createdDate:"Created Date",actions:"Actions",view:"View",loading:"Loading tickets...",createTicket:"Create Ticket",creatingTicket:"Creating...",createError:"Failed to create ticket",allStatuses:"All Statuses",allPriorities:"All Priorities",allTypes:"All Types",allStages:"All Stages",noTicketsInPage:"No tickets in this page",stage:"Stage",statusOpen:"Open",statusInProgress:"In Progress",statusResolved:"Resolved",statusClosed:"Closed",ticketId:"Ticket ID",createdBy:"Created By",resolvedDate:"Resolved Date",closedDate:"Closed Date"},Gre={title:"Teams",subtitle:"Manage teams and team members",createTeam:"Create Team",createTeamTitle:"Create New Team",createTeamDesc:"Create a new team and assign a team leader. You can add members after creation.",teamName:"Team Name",teamNamePlaceholder:"Enter team name",team_leader:"Team Leader",teamLeader:"Team Leader",selectTeamLeader:"Select a team leader (optional)",searchPlaceholder:"Search teams...",members:"Members",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",addMember:"Add member",created:"Created",noTeamsFound:"No teams found",noTeamsYet:"No teams yet",createFirstTeam:"Create Your First Team",deleteTeam:"Delete Team",deleteConfirmation:'Are you sure you want to delete "{{name}}"? This will also remove all team members. This action cannot be undone.',moreMembers:"+{{count}} more members",noMembersYet:"No members yet"},Yre={title:"Tasks",subtitle:"Manage and track all your tasks in one place.",loading:"Loading...",error:"Error",description:"Description",deleteTask:"Delete Task",createTask:"Create New Task",createTaskDesc:"Add a new task to the selected stage.",newTask:"New Task",addNewTask:"Add New Task",addTask:"Add Task",taskName:"Task Name",taskNamePlaceholder:"Enter task name",descriptionPlaceholder:"Enter task description",dueDate:"Due Date",selectUser:"Select a user",selectStage:"Select a stage",selectStatus:"Select status",todo:"Todo",inProgress:"In Progress",done:"Done",stage:"Stage",allTasks:"All Tasks",totalTasks:"Total Tasks",status:"Status",assignedTo:"Assigned To",noTasksYet:"No tasks have been created yet."},Xre={brandName:"Middar",badge:" New Feature",hero:{title:{line1:"Streamline Your",line2:"Business Operations"},description:"Powerful CRM solution to manage projects, leads, tasks, and teams all in one place. Boost productivity and grow your business with our comprehensive platform.",cta:{primary:"Get Started",secondary:"Learn More"}},stats:{users:"10K+",usersLabel:"Active Users",projects:"50K+",projectsLabel:"Projects Managed",uptime:"99.9%",uptimeLabel:"Uptime",support:"24/7",supportLabel:"Support"},features:{title:"Everything you need to succeed",subtitle:"Comprehensive tools designed for modern businesses",projectManagement:{title:"Project Management",description:"Track projects from inception to completion with detailed progress monitoring and team collaboration."},leadManagement:{title:"Lead Management",description:"Convert more leads with our advanced CRM tools and automated follow-up systems."},analytics:{title:"Analytics & Insights",description:"Make data-driven decisions with comprehensive analytics and reporting dashboards."},communication:{title:"Team Communication",description:"Keep your team connected with integrated chat, notifications, and collaboration tools."},taskManagement:{title:"Task Management",description:"Organize and prioritize tasks with our intuitive kanban board and deadline tracking."},security:{title:"Enterprise Security",description:"Your data is protected with enterprise-grade security and compliance standards."}},cta:{title:"Ready to get started?",description:"Join thousands of businesses transforming their operations with our CRM.",button:"Start Free Trial"},partner:{title:"Become a Partner",subtitle:"Help distribute this CRM and grow with us. Fill the form below and we will get back to you.",companyName:"Company Name",fullName:"Full Name",email:"Email Address",phone:"Phone Number",submit:"Apply Now",success:"Application Received",successMessage:"Thank you for your interest! We will contact you shortly."},footer:{copyright:" 2025 {{brand}} CRM. All rights reserved."}},Jre={title:"Users",subtitle:"Manage system users and their roles",totalUsers:"Total Users",addUser:"Add User",addNewUser:"Add New User",addUserDescription:"Fill in the details below to create a new user account.",fullName:"Full Name",email:"Email",password:"Password",role:"Role",admin:"Admin",manager:"Manager",employee:"Employee",partner_leader:"Partner Leader",team_leader:"Team Leader",client:"Client",employees:"Employees",clients:"Clients",addingUser:"Adding user...",addUserError:"Failed to add user",deleteUser:"Delete User",deleteConfirmation:'Are you sure you want to delete "{{name}}"?',deleteError:"Failed to delete user",updateRoleError:"Failed to update user role",changeRole:"Change Role",searchPlaceholder:"Search users...",noUsersFound:"No users found",noUsersFoundDesc:"Try adjusting your search terms.",noUsersAvailable:"No users available",joined:"Joined",updated:"Updated",userDetails:"User Details",userDetailsDescription:"View detailed information about this user",phone:"Phone",contact:"Contact",company:"Company",userId:"User ID",authUserId:"Auth User ID",updateUserError:"Failed to update user",partners:"Partners",partnerUsers:"Partner Users",partnerApplications:"Partner Applications",partner:"Partner",partner_employee:"Partner Employee",noPartnerUsersFound:"No partner users found",noApplicationsFound:"No applications found",approve:"Approve",reject:"Reject",rejectConfirmation:"Are you sure you want to reject this application?",viewApplication:"View Application"},Qre={title:"Clients",subtitle:"Manage and view all your clients",newClient:"New Client",loading:"Loading clients...",noClientsFound:"No clients found",noClientsYet:"No clients have been added yet",active:"active",totalProjects:"Total Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",noCompany:"No company",noEmail:"No email",projects:"projects",viewDetails:"View Details",clientDetails:"Client Details",userId:"User ID",emailLabel:"Email",contactLabel:"Contact",companyLabel:"Company",createdLabel:"Created",updatedLabel:"Updated",projectSummary:"Project Summary"},Zre={title:"My Dashboard",subtitle:"Welcome back, {{name}}! Here's your work overview.",employeeInfo:"Employee Information",name:"Name",email:"Email",role:"Role",memberSince:"Member Since",myProjects:"My Projects",active:"active",myTasks:"My Tasks",completed:"completed",inProgress:"In Progress",activeTasks:"Active tasks",completedTasks:"Completed",finishedTasks:"Finished tasks",leads:"Leads",totalLeads:"Total leads",surveys:"Surveys",totalSurveys:"Total surveys",recentTasks:"Recent Tasks",noDescription:"No description",noProjectsAssigned:"No projects assigned yet",noTasksAssigned:"No tasks assigned yet"},ene={chatRooms:"Chat Rooms",createRoomTitle:"Create New Room",createRoomDesc:"Create a new chat room for your team or project",roomName:"Room Name",roomNamePlaceholder:"Enter room name",private:"Private",privateRoom:"Private Room",publicRoom:"Public Room",project:"Project",projectIdPlaceholder:"Enter project ID (optional)",createRoom:"Create Room",searchConversations:"Search conversations...",searchRooms:"Search rooms...",members:"members",online:"Online",selectRoom:"Select a room to start chatting",selectConversation:"Select a conversation",connectDescription:"Connect with your clients through Email, WhatsApp, and more.",typeMessage:"Type a message...",you:"You",unknownUser:"Unknown User",justNow:"Just now",minutesAgo:"{{count}}m ago",hoursAgo:"{{count}}h ago",viewDetails:"View Details",viewContactDetails:"View Contact Details",deleteConversation:"Delete Conversation",muteNotifications:"Mute Notifications",leaveRoom:"Leave Room",someoneTyping:"Someone is typing...",note:"Note",resolvedMessage:"This conversation is resolved. Reopen it to send a message.",resolved:"Resolved"},tne={title:"Surveys",subtitle:"Manage and track all surveys and questionnaires",surveys:"Surveys",templates:"Templates",totalSurveys:"Total Surveys",bulkImport:"Bulk Import",createdDate:"Created Date",deleteSurvey:"Delete Survey",deleteSurveyConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',createTemplate:"Create Template",createTemplateTitle:"Create New Survey Template",createTemplateDesc:"Create a custom survey template for your needs",templateName:"Template Name",templateNameAr:"Template Name (Arabic)",description:"Description",descriptionAr:"Description (Arabic)",category:"Category",selectCategory:"Select Category",customerSatisfaction:"Customer Satisfaction",productFeedback:"Product Feedback",serviceQuality:"Service Quality",general:"General",settings:"Settings",isActive:"Active",isDefault:"Default",searchPlaceholder:"Search surveys...",noSurveysFound:"No surveys found",noSurveysFoundDesc:"Try adjusting your search terms.",noSurveysYet:"No surveys have been created yet.",noTemplatesFound:"No templates found",noTemplatesFoundDesc:"Try adjusting your search terms.",noTemplatesYet:"No templates have been created yet.",survey:"Survey",clientName:"Client Name",clientCompany:"Client Company",contact:"Contact",noContact:"No contact",noCompany:"No company",noEmail:"No email",location:"Location",responses:"Responses",completed:"Completed",inProgress:"In Progress",pending:"Pending",active:"Active",inactive:"Inactive",default:"Default",noCategory:"No category",status:"Status",noDescription:"No description",fields:"Fields",noFields:"No fields defined",created:"Created",updated:"Updated",createdBy:"Created By",unknownCreator:"Unknown Creator",newSurvey:"New Survey",createNewSurvey:"Create New Survey",selectTemplate:"Select Template",fillSurveyDetails:"Fill Survey Details",changeTemplate:"Change Template",submitSurvey:"Submit Survey",locationWillBeCaptured:"Your location will be captured automatically",addField:"Add Field",fieldLabel:"Field Label",fieldType:"Field Type",text:"Text",textarea:"Textarea",email:"Email",date:"Date",select:"Select",multiselect:"Multiselect",radio:"Radio",checkbox:"Checkbox",image:"Image",options:"Options",optionsPlaceholder:"Enter options separated by spaces (e.g., option1 option2 option3)",isRequired:"Required",editTemplateTitle:"Edit Survey Template",updateTemplate:"Update Template",deleteTemplate:"Delete Template",deleteTemplateConfirmation:'Are you sure you want to delete "{{name}}"? This action cannot be undone.',templateNameRequired:"Template name is required",atLeastOneFieldRequired:"At least one field is required",fieldLabelRequired:"Field {{number}}: Label is required",templateCreated:"Template created successfully!",templateUpdated:"Template updated successfully!",templateValidationFailed:"Please fix the validation errors before saving.",templateSaveError:"Failed to {{action}} template. Please try again.",bulkSelect:"Bulk Select",exitBulkMode:"Exit Bulk Mode",bulkDeleteSuccess:"Successfully deleted {{count}} surveys",bulkDeleteError:"Failed to delete surveys",confirmBulkDelete:"Delete Selected Surveys",confirmBulkDeleteDesc:"Are you sure you want to delete {{count}} selected surveys? This action cannot be undone.",selectedCount:"{{count}} surveys selected",clearSelection:"Clear Selection",deleteSelected:"Delete Selected",selectAll:"Select All"},rne={company:"Company",city:"City",country:"Country",activity:"Activity",createdBy:"Created By",status:"Status",system:"System",assignedTo:"Assigned To",created:"Created",stage:"Stage",allStatuses:"All Statuses",allActivities:"All Activities",allSystems:"All Systems",allCountries:"All Countries",allCities:"All Cities",allUsers:"All Users",allStages:"All Stages",leadName:"Lead Name",quotation:"Quotation",uploadQuotation:"Upload Quotation",description:"Description",clearFilters:"Clear Filters",notes:"Notes",value:"Value",currency:"Currency",leadDetails:"Lead Details",companyName:"Company Name",address:"Address",contacts:"Contacts",addContact:"+ Add Contact",noContactsFound:"No contacts found",cancel:"Cancel",contactName:"Contact name",email:"Email",showChart:"Show Chart",createLead:"Create Lead",editlead:"Edit Lead",hideChart:"Hide Chart",firstName:"First Name",lastName:"Last Name",mobile:"Mobile",jobTitle:"Job Title",selectContact:"Select contact",selectStage:"Select stage",selectJobTitle:"Select job title",searchActivity:"Search Activity",searchCountry:"Search Country",searchCity:"Search City",searchSystem:"Search System",searchStatus:"Search Status",searchUser:"Search User",searchStage:"Search Stage",searchJobTitle:"Search Job Title",kanbanView:"Kanban View",listView:"List View",searchPlaceholder:"Search by company or address",addNew:"+ Add New",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",selectCountry:"Select country",createCity:"Create City",selectActivity:"Select activity",selectSystem:"Select system",selectStatus:"Select status",selectUser:"Select user",editLead:"Edit Lead",createNewLead:"Create New Lead",addContactTitle:"Add Contact",createNewCity:"Create New City",systemNameEn:"System name (English)",systemNameAr:"System name (Arabic)",createSystem:"Create System",createNewSystem:"Create New System",activityNameEn:"Activity name (English)",activityNameAr:"Activity name (Arabic)",createActivity:"Create Activity",createNewActivity:"Create New Activity",statusNameEn:"Status name (English)",statusNameAr:"Status name (Arabic)",createStatus:"Create Status",createNewStatus:"Create New Status",masterLeads:"Master Leads",manageMasterLeadsData:"Manage master leads data",noLeadsFound:"No leads found",createNewLeadToGetStarted:"Create a new lead to get started",deleteLead:"Delete Lead",deleteLeadConfirmation:"Are you sure you want to delete this lead? This action cannot be undone.",leadUpdatedSuccessfully:"Lead updated successfully",leadCreatedSuccessfully:"Lead created successfully",leadDeletedSuccessfully:"Lead deleted successfully",leadsDeletedSuccessfully:"leads deleted successfully",cityCreatedSuccessfully:"City created successfully",systemCreatedSuccessfully:"System created successfully",activityCreatedSuccessfully:"Activity created successfully",statusCreatedSuccessfully:"Status created successfully",showLead:"Show Lead",hideLead:"Hide Lead"},nne={masterProjects:"Master Projects",manageMasterProjectsData:"Manage master projects data",kanbanView:"Kanban View",listView:"List View",company:"Company",country:"Country",contactName:"Contact name",mobile:"Mobile",email:"Email",jobTitle:"Job Title",selectJobTitle:"Select job title",addContactTitle:"Add Contact",searchJobTitle:"Search Job Title",contacts:"Contacts",allCountries:"All Countries",allCities:"All Cities",searchPlaceholder:"Search by company, addresses or contract code",notStarted:"Not Started",inProgress:"In Progress",completed:"Completed",clearFilters:"Clear Filters",noContactsFound:"No contacts found",projectName:"Project Name",description:"Description",notes:"Notes",projectDetails:"Project Details",companyName:"Company Name",contractCode:"Contract Code",contractAmount:"Contract Amount",startDate:"Start Date",endDate:"End Date",city:"City",contact:"Contact",created:"Created",createNewProject:"Create New Project",editProject:"Edit Project",deleteProject:"Delete Project",deleteProjectConfirmation:"Are you sure you want to delete this project? This action cannot be undone.",projectUpdatedSuccessfully:"Project updated successfully",projectCreatedSuccessfully:"Project created successfully",projectDeletedSuccessfully:"Project deleted successfully",projectsDeletedSuccessfully:"projects deleted successfully",cityCreatedSuccessfully:"City created successfully",showChart:"Show Chart",hideChart:"Hide Chart",selectCity:"Select city",selectContact:"Select contact",selectCountry:"Select country",addCity:"Add City",cityNameEn:"City name (English)",cityNameAr:"City name (Arabic)",createNewCity:"Create New City",noProjectsFound:"No projects found",createNewProjectToGetStarted:"Create a new project to get started",analytics:"Analytics",contractDocument:"Contract Document",existingDocumentWillBeReplaced:"Existing document will be replaced",uploadContractDocument:"Upload Contract Document",supportedFormats:"Supported formats",createCity:"Create City",addContact:"Add Contact",createContact:"Create",contactCreatedSuccessfully:"Contact created successfully",cancel:"Cancel"},ane={title:"Requests",subtitle:"Manage internal requests and tasks",createRequest:"Create Request",editRequest:"Edit Request",requestTitle:"Request Title",titlePlaceholder:"Enter request title",searchPlaceholder:"Search requests...",type:"Type",priority:"Priority",status:"Status",createdDate:"Created Date",deleteSuccess:"Request deleted successfully",updateSuccess:"Request updated successfully",createSuccess:"Request created successfully",deleteConfirmation:"Are you sure you want to delete this request? This action cannot be undone.",description:"Description",descriptionPlaceholder:"Request details...",types:{internalTask:"Internal Task",support:"Support",feature:"Feature"},priorities:{low:"Low",medium:"Medium",high:"High"}},sne={navigation:Ire,buttons:Mre,forms:Fre,auth:Lre,common:$re,status:Bre,dashboard:Ure,leads:Vre,notes:zre,projects:Wre,settings:Hre,chat:qre,tickets:Kre,teams:Gre,tasks:Yre,landing:Xre,users:Jre,clients:Qre,employeeDashboard:Zre,chats:ene,surveys:tne,mleads:rne,mprojects:nne,requests:ane},ine={home:"",dashboard:" ",projects:"",users:"",settings:"",leads:" ",masterLeads:" ",tickets:"",tasks:"",teams:"",clients:"",chats:"",allChats:" ",surveys:"",clientPortal:" ",partnerDashboard:"  ",empDashboard:"  ",mainGroup:"",salesGroup:"",workGroup:"",communicationGroup:"",requestGroup:"",requestsGroup:"",requests:"",systemGroup:"",permissions:""},one={save:"",cancel:"",submit:"",delete:"",edit:"",close:"",add:"",create:"",login:" ",signup:" ",logout:" ",saving:" ..."},lne={name:"",email:" ",password:" ",confirmPassword:"  ",phone:"",message:""},cne={signIn:" ",signUp:" ",createAccount:" ",enterCredentials:"  ",signUpToGetStarted:" ",chooseAccountType:"     ",chooseAccountTypeSignUp:"     ",client:"",partner:"",partnerEmployee:" ",redirectingToGoogle:"    ...",orContinueWith:"  ",email:" ",password:" ",signingIn:"  ...",signInButton:" ",signUpButton:" ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",clientPortal:" ",failedToSignIn:"  ",failedToSignInWithGoogle:"    ",emailOrUsername:"  /  ",enterEmail:"  ",enterPassword:"  ",loginSuccess:"   ",loginFailed:"  .    .",loginFailedTitle:"  "},une={retry:" ",comingSoon:"",next:"",back:""},dne={fillAllFields:"   ",required:"",invalidEmail:"   ",passwordTooShort:"   ",passwordsNotMatch:"   "},fne={title:" ",subtitle:" !     .",totalProjects:" ",completed:"",inProgress:" ",activeProjects:" ",clients:"",totalClients:" ",teamMembers:" ",activeUsers:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentProjects:" ",projectStatus:" ",noProjectsYet:"   ",retry:" ",completedStatus:"",inProgressStatus:" ",notStartedStatus:" "},hne={title:"   ",subtitle:"     ",comingSoonMessage:"       ."},mne={title:"",subtitle:"    ",surveys:"",templates:"",totalSurveys:" ",deleteSurvey:" ",deleteSurveyConfirmation:'      "{{name}}"      .',createTemplateTitle:"   ",createTemplateDesc:"    ",templateName:" ",templateNameAr:"  ",descriptionAr:" ",selectCategory:" ",customerSatisfaction:" ",productFeedback:" ",serviceQuality:" ",general:"",settings:"",isActive:"",isDefault:"",surveyName:" ",surveyNameAr:"  ",createdDate:" ",bulkImport:" ",createTemplate:" ",searchPlaceholder:"  ...",noSurveysFound:"  ",noSurveysFoundDesc:"   .",noSurveysYet:"     .",noTemplatesFound:"  ",noTemplatesFoundDesc:"   .",noTemplatesYet:"     .",survey:"",clientName:" ",clientCompany:" ",contact:"",noContact:" ",noCompany:" ",noEmail:"  ",location:"",responses:"",completed:"",inProgress:" ",pending:" ",active:"",inactive:" ",default:"",category:"",noCategory:" ",status:"",description:"",noDescription:" ",fields:"",noFields:"   ",created:" ",updated:" ",createdBy:"  ",unknownCreator:"  ",newSurvey:" ",createNewSurvey:"  ",selectTemplate:" ",fillSurveyDetails:"  ",changeTemplate:" ",submitSurvey:" ",locationWillBeCaptured:"    ",addField:" ",fieldLabel:" ",fieldType:" ",text:"",textarea:" ",email:" ",date:"",select:" ",multiselect:"  ",radio:" ",checkbox:" ",image:"",options:"",optionsPlaceholder:"    (: 1 2 3)",isRequired:"",editTemplateTitle:" ",updateTemplate:" ",deleteTemplate:" ",deleteTemplateConfirmation:'      "{{name}}"      .',templateNameRequired:"  ",atLeastOneFieldRequired:"    ",fieldLabelRequired:" {{number}}:  ",templateCreated:"   !",templateUpdated:"   !",templateValidationFailed:"     .",templateSaveError:"  {{action}} .    .",bulkSelect:" ",exitBulkMode:"   ",bulkDeleteSuccess:"  {{count}}  ",bulkDeleteError:"   ",confirmBulkDelete:"  ",confirmBulkDeleteDesc:"      {{count}}        .",selectedCount:"{{count}}  ",clearSelection:" ",deleteSelected:" ",selectAll:" "},pne={open:"",in_progress:" ",closed:"",resolve:"",reopen:" ",pending:" ",approved:" ",rejected:"",completed:""},gne={title:" ",subtitle:"    ",newLead:"  ",addLead:"  ",createLead:"   ",createLeadDesc:"      .",leadName:"  ",leadNamePlaceholder:"   ",description:"",descriptionPlaceholder:"   ",clientName:" ",clientNamePlaceholder:"  ",client:"",selectClient:"  ()",noClient:" ",unknown:" ",created:" ",updated:" ",createdBy:"  ",assignedTo:" ",assignToEmployee:" ",selectAssignee:"  ",lead:" ",deleteLead:"  ",deleteConfirmation:'      "{{name}}"',addStage:" ",stageNamePlaceholder:" ...",deleteStage:" ",deleteStageConfirmation:"    {{count}}  .           .      .",addNewLeadCard:"   ",noLeadsYet:"      .",value:"",currency:"",stageTotal:": {{amount}}",leadDetails:"  ",leadDetailsDesc:"    ",notFound:"   ",expectedCloseDate:"  ",totalLeads:"  ",thisMonth:" ",totalValue:" ",avgValue:" "},vne={title:"",addNote:" ",noNotes:"   ",placeholder:" ...",save:" ",edit:"",delete:" ",deleteConfirmation:"       ",unknown:"  "},xne={title:"",subtitle:"   ",newProject:" ",createProject:"  ",createProjectDesc:"     .",projectName:" ",projectNamePlaceholder:"  ",description:"",descriptionPlaceholder:"  ",client:"",selectClient:" ",initialProgress:" ",addProject:" ",addNewProjectCard:"  ",progress:"",started:"",due:"",deleteProject:" ",deleteConfirmation:'      "{{name}}"',noProjectsYet:"     .",dueDate:" ",stage:"",manager:"",total:" ",inProgress:" ",completed:"",avgProgress:" ",deleteComment:" ",deleteCommentConfirmation:"       "},yne={title:"",channels:"",teams:"",directMessages:" ",welcome:"   ",selectRoomDesc:"      .",membersCount:"{{count}} ",today:"",placeholder:" ...",noChannels:"  ",noMessages:"  "},wne={title:"",subtitle:"    .",newTicket:" ",createNewTicket:"  ",createTicketDesc:"     .",searchPlaceholder:"  ...",allTickets:" ",noTicketsFound:"  ",noTicketsFoundDesc:"   .",noTicketsYet:"     .",id:"",subject:"",subjectPlaceholder:"  ",description:"",descriptionPlaceholder:"   ",status:"",priority:"",priorityLow:"",priorityMedium:"",priorityHigh:"",priorityUrgent:"",ticketType:" ",typeRequest:"",typeFollowUp:"",typeIssue:"",typeInternalTask:" ",assignTo:" ",selectAssignee:"   ()",assignedTo:" ",createdDate:" ",actions:"",view:"",loading:"  ...",createTicket:" ",creatingTicket:" ...",createError:"   ",allStatuses:" ",allPriorities:" ",allTypes:" ",allStages:" ",noTicketsInPage:"     ",stage:"",statusOpen:"",statusInProgress:" ",statusResolved:" ",statusClosed:"",ticketId:" ",createdBy:"  ",resolvedDate:" ",closedDate:" ",total:" "},bne={title:"",subtitle:"   ",createTeam:" ",createTeamTitle:"  ",createTeamDesc:"     .     .",teamName:" ",teamNamePlaceholder:"  ",team_leader:" ",selectTeamLeader:"   ()",teamLeader:" ",searchPlaceholder:"  ...",members:"",memberCount:"{{count}} ",memberCount_plural:"{{count}} ",addMember:" ",created:" ",noTeamsFound:"  ",noTeamsYet:"   ",createFirstTeam:"  ",deleteTeam:" ",deleteConfirmation:'      "{{name}}"        .      .',moreMembers:"+{{count}}  ",noMembersYet:"   "},_ne={title:"",subtitle:"      .",loading:" ...",description:"",error:"",deleteTask:" ",createTask:"  ",createTaskDesc:"     .",newTask:" ",addNewTask:"  ",addTask:" ",taskName:" ",taskNamePlaceholder:"  ",descriptionPlaceholder:"  ",dueDate:" ",selectUser:" ",selectStage:" ",selectStatus:" ",todo:"",inProgress:" ",done:"",stage:"",allTasks:" ",totalTasks:" ",status:"",assignedTo:" ",noTasksYet:"     ."},Sne={brandName:"",badge:"  ",hero:{title:{line1:"",line2:" "},description:" CRM           .       .",cta:{primary:" ",secondary:" "}},stats:{users:"10 +",usersLabel:" ",projects:"50 +",projectsLabel:" ",uptime:"99.9%",uptimeLabel:" ",support:"24/7",supportLabel:""},features:{title:"   ",subtitle:"    ",projectManagement:{title:" ",description:"           ."},leadManagement:{title:"  ",description:"       CRM    ."},analytics:{title:" ",description:"        ."},communication:{title:" ",description:"         ."},taskManagement:{title:" ",description:"         ."},security:{title:" ",description:"       ."}},cta:{title:" ",description:"               .",button:"  "},partner:{title:" ",subtitle:"      .      .",companyName:" ",fullName:" ",email:" ",phone:" ",submit:" ",success:"  ",successMessage:" !   ."},footer:{copyright:" 2025 {{brand}} CRM.   ."}},jne={title:"",subtitle:"   ",totalUsers:" ",addUser:" ",addNewUser:"  ",addUserDescription:"      .",fullName:" ",email:" ",password:" ",role:"",admin:"",manager:"",employee:"",team_leader:" ",client:"",employees:"",clients:"",addingUser:"  ...",addUserError:"   ",deleteUser:" ",deleteConfirmation:'      "{{name}}"',deleteError:"   ",updateRoleError:"    ",changeRole:" ",searchPlaceholder:"  ...",noUsersFound:"  ",noUsersFoundDesc:"   .",noUsersAvailable:"   ",joined:"",updated:" ",userDetails:" ",userDetailsDescription:"     ",phone:"",contact:"",company:"",userId:" ",authUserId:"  ",updateUserError:"   ",partners:"",partnerUsers:" ",partnerApplications:" ",partner:"",partner_employee:" ",noPartnerUsersFound:"   ",noApplicationsFound:"   ",approve:"",reject:"",rejectConfirmation:"       ",viewApplication:" "},kne={title:"",subtitle:"   ",newClient:" ",loading:"  ...",noClientsFound:"  ",noClientsYet:"     ",active:"",totalProjects:" ",activeProjects:" ",completedProjects:" ",noCompany:" ",noEmail:"  ",projects:"",viewDetails:" ",clientDetails:" ",userId:" ",emailLabel:" ",contactLabel:"",companyLabel:"",createdLabel:" ",updatedLabel:" ",projectSummary:" "},Nne={title:"   ",subtitle:"  {{name}}!     .",employeeInfo:" ",name:"",email:" ",role:"",memberSince:" ",myProjects:"",active:"",myTasks:"",completed:"",inProgress:" ",activeTasks:" ",completedTasks:"",finishedTasks:" ",leads:" ",totalLeads:"  ",surveys:"",totalSurveys:" ",recentTasks:" ",noDescription:" ",noProjectsAssigned:"    ",noTasksAssigned:"    "},Ene={chatRooms:" ",createRoomTitle:"  ",createRoomDesc:"    ",roomName:" ",roomNamePlaceholder:"  ",private:"",privateRoom:" ",publicRoom:" ",project:"",projectIdPlaceholder:"  ()",createRoom:" ",selectRoom:"   ",selectConversation:" ",connectDescription:"        .",members:"",typeMessage:" ...",you:"",unknownUser:"  ",justNow:"",minutesAgo:" {{count}} ",hoursAgo:" {{count}} ",online:"",someoneTyping:"  ...",searchConversations:"  ...",searchRooms:"  ...",viewDetails:" ",viewContactDetails:"  ",deleteConversation:" ",muteNotifications:" ",leaveRoom:" ",note:"",resolvedMessage:"   .    .",resolved:" "},Cne={title:"",description:"   ",stageManagement:" ",leads:"  ",projects:" ",tasks:" ",tickets:" ",mleads:"  ",mprojects:"  ",addStage:" ",editStage:" ",deleteStage:" ",stageName:" ",stageNamePlaceholder:"  ",stageColor:" ",order:"",noStages:"    .   .",addStageDesc:"    {{type}}",deleteStageConfirmation:"             .",englishName:" ",arabicName:" ",changePassword:"  ",changePasswordDescription:"    .      6   .",newPassword:"  ",newPasswordPlaceholder:"   ",newPasswordRequired:"   ",confirmPassword:"  ",confirmPasswordPlaceholder:"    ",passwordsDoNotMatch:"   ",passwordTooShort:"     6   ",changingPassword:"   ...",passwordChangedSuccessfully:"    !",passwordChangeFailed:"    "},Tne={company:"",city:"",country:"",activity:"",status:"",system:"",assignedTo:" ",created:" ",stage:"",notes:"",value:"",currency:"",leadDetails:" ",companyName:" ",address:"",contacts:" ",addContact:"+   ",quotation:"",uploadQuotation:" ",noContactsFound:"     ",allActivities:" ",allCountries:" ",allCities:" ",allSystems:" ",allStatuses:" ",allUsers:" ",clearFilters:" ",save:"",cancel:"",contactName:"  ",email:" ",mobile:" ",jobTitle:" ",selectContact:"  ",selectStage:" ",selectJobTitle:"  ",kanbanView:"",listView:"",searchPlaceholder:"   ",searchCompany:"  ...",searchActivity:"  ...",searchCity:"  ...",searchCountry:"  ...",searchSystem:"  ...",searchStatus:"  ...",searchUser:"  ...",searchContact:"   ...",searchStage:"  ...",allStages:" ",searchJobTitle:"   ...  ",addNew:"+  ",cityNameEn:"  ()",cityNameAr:"  ()",selectCountry:" ",createCity:" ",selectActivity:" ",selectSystem:" ",selectStatus:" ",selectUser:" ",leadName:"  ",hideChart:"  ",showChart:"  ",leadDescription:"  ",leadValue:"  ",leadCurrency:"  ",saveLead:"  ",editLead:"  ",createNewLead:"   ",addContactTitle:"  ",createNewCity:"  ",systemNameEn:"  ()",systemNameAr:"  ()",createSystem:" ",createNewSystem:"  ",activityNameEn:"  ()",activityNameAr:"  ()",createActivity:" ",createNewActivity:"  ",statusNameEn:"  ()",statusNameAr:"  ()",createStatus:" ",createNewStatus:"  ",masterLeads:" ",manageMasterLeadsData:"   ",noLeadsFound:"    ",createNewLeadToGetStarted:"   ",deleteLead:" ",deleteLeadConfirmation:"             .",leadUpdatedSuccessfully:"   ",leadCreatedSuccessfully:"   ",leadDeletedSuccessfully:"   ",leadsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",systemCreatedSuccessfully:"   ",activityCreatedSuccessfully:"   ",statusCreatedSuccessfully:"   ",createdBy:"  ",description:"",createLead:"  ",editlead:"  ",firstName:" ",lastName:" ",showLead:" ",hideLead:" "},Ane={masterProjects:" ",manageMasterProjectsData:"   ",kanbanView:"",listView:"",createdBy:"  ",client:"",company:"",country:"",allCountries:" ",allCities:" ",allClients:" ",allUsers:" ",searchCity:"  ...",searchCountry:"  ...",searchClient:"  ...",searchUser:"  ...",jobTitle:" ",selectJobTitle:"  ",addContactTitle:"  ",searchJobTitle:"   ",contacts:" ",noContactsFound:"     ",contactName:"  ",email:" ",mobile:" ",projectName:" ",description:"",projectDescription:" ",projectCountry:" ",projectCity:" ",clearFilters:" ",searchPlaceholder:"     ",notStarted:" ",inProgress:" ",completed:"",notes:"",projectDetails:" ",companyName:" ",contractCode:" ",contractAmount:" ",startDate:" ",endDate:" ",city:"",contact:" ",created:" ",createNewProject:"  ",editProject:" ",deleteProject:" ",deleteProjectConfirmation:"             .",projectUpdatedSuccessfully:"   ",projectCreatedSuccessfully:"   ",projectDeletedSuccessfully:"   ",projectsDeletedSuccessfully:"   ",cityCreatedSuccessfully:"   ",showChart:"  ",hideChart:"  ",selectCity:" ",selectContact:"  ",selectCountry:" ",addCity:" ",cancel:"",cityNameEn:"  ()",cityNameAr:"  ()",createCity:" ",createNewCity:"  ",noProjectsFound:"    ",createNewProjectToGetStarted:"   ",analytics:"",contractDocument:" ",existingDocumentWillBeReplaced:"   ",uploadContractDocument:"  ",supportedFormats:" ",addContact:"  ",createContact:"",contactCreatedSuccessfully:"    "},One={title:"",subtitle:"   ",createRequest:" ",editRequest:" ",requestTitle:" ",titlePlaceholder:"  ",searchPlaceholder:"  ...",type:"",priority:"",status:"",createdDate:" ",deleteSuccess:"   ",updateSuccess:"   ",createSuccess:"   ",deleteConfirmation:"             .",description:"",descriptionPlaceholder:" ...",types:{internalTask:" ",support:"",feature:" "},priorities:{low:"",medium:"",high:""}},Pne={navigation:ine,buttons:one,forms:lne,auth:cne,common:une,validation:dne,dashboard:fne,partnerEmployeeDashboard:hne,surveys:mne,status:pne,leads:gne,notes:vne,projects:xne,chat:yne,tickets:wne,teams:bne,tasks:_ne,landing:Sne,users:jne,clients:kne,employeeDashboard:Nne,chats:Ene,settings:Cne,mleads:Tne,mprojects:Ane,requests:One},Dne={en:{translation:sne},ar:{translation:Pne}};Zr.use(wre).init({resources:Dne,lng:"ar",fallbackLng:"en",interpolation:{escapeValue:!1}});const Ae=(e,r)=>{if(Zr.language==="ar"){const s=`${r}_ar`;if(e[s]&&e[s].trim())return e[s]}if(e[r]&&e[r].trim())return e[r];const a=`${r}_ar`;return e[a]&&e[a].trim()?e[a]:""},wl=(e,r)=>{const n=Zr.language,a={...e};return Object.entries(r).forEach(([s,i])=>{n==="ar"?(a[`${i}_ar`]=e[s],a[i]=e[s]):(a[i]=e[s],a[`${i}_ar`]=e[s])}),a},Yt=()=>Zr.dir()==="rtl";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zg.apply(this,arguments)}var mu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mu||(mu={}));const QR="popstate";function Rne(e){e===void 0&&(e={});function r(s,i){let{pathname:o="/",search:c="",hash:u=""}=Ff(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),L2("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");c=d===-1?u:u.slice(0,d)}return c+"#"+(typeof i=="string"?i:ww(i))}function a(s,i){_A(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Mne(r,n,a,e)}function vn(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function _A(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Ine(){return Math.random().toString(36).substr(2,8)}function ZR(e,r){return{usr:e.state,key:e.key,idx:r}}function L2(e,r,n,a){return n===void 0&&(n=null),Zg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?Ff(r):r,{state:n,key:r&&r.key||a||Ine()})}function ww(e){let{pathname:r="/",search:n="",hash:a=""}=e;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Ff(e){let r={};if(e){let n=e.indexOf("#");n>=0&&(r.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(r.search=e.substr(a),e=e.substr(0,a)),e&&(r.pathname=e)}return r}function Mne(e,r,n,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,c=mu.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(Zg({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function h(){c=mu.Pop;let x=f(),b=x==null?null:x-d;d=x,u&&u({action:c,location:g.location,delta:b})}function m(x,b){c=mu.Push;let w=L2(g.location,x,b);n&&n(w,x),d=f()+1;let _=ZR(w,d),S=g.createHref(w);try{o.pushState(_,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&u&&u({action:c,location:g.location,delta:1})}function p(x,b){c=mu.Replace;let w=L2(g.location,x,b);n&&n(w,x),d=f();let _=ZR(w,d),S=g.createHref(w);o.replaceState(_,"",S),i&&u&&u({action:c,location:g.location,delta:0})}function v(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:ww(x);return w=w.replace(/ $/,"%20"),vn(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return c},get location(){return e(s,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(QR,h),u=x,()=>{s.removeEventListener(QR,h),u=null}},createHref(x){return r(s,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(x){return o.go(x)}};return g}var eI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eI||(eI={}));function Fne(e,r,n){return n===void 0&&(n="/"),Lne(e,r,n,!1)}function Lne(e,r,n,a){let s=typeof r=="string"?Ff(r):r,i=SA(s.pathname||"/",n);if(i==null)return null;let o=TU(e);$ne(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=Xne(i);c=Gne(o[u],d,a)}return c}function TU(e,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let s=(i,o,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(vn(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let d=Cu([a,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(vn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),TU(i.children,r,f,d)),!(i.path==null&&!i.index)&&r.push({path:d,score:qne(d,i.index),routesMeta:f})};return e.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,o);else for(let u of AU(i.path))s(i,o,u)}),r}function AU(e){let r=e.split("/");if(r.length===0)return[];let[n,...a]=r,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=AU(a.join("/")),c=[];return c.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function $ne(e){e.sort((r,n)=>r.score!==n.score?n.score-r.score:Kne(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Bne=/^:[\w-]+$/,Une=3,Vne=2,zne=1,Wne=10,Hne=-2,tI=e=>e==="*";function qne(e,r){let n=e.split("/"),a=n.length;return n.some(tI)&&(a+=Hne),r&&(a+=Vne),n.filter(s=>!tI(s)).reduce((s,i)=>s+(Bne.test(i)?Une:i===""?zne:Wne),a)}function Kne(e,r){return e.length===r.length&&e.slice(0,-1).every((a,s)=>a===r[s])?e[e.length-1]-r[r.length-1]:0}function Gne(e,r,n){let{routesMeta:a}=e,s={},i="/",o=[];for(let c=0;c<a.length;++c){let u=a[c],d=c===a.length-1,f=i==="/"?r:r.slice(i.length)||"/",h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),m=u.route;if(!h&&d&&n&&!a[a.length-1].route.index&&(h=rI({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Cu([i,h.pathname]),pathnameBase:eae(Cu([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Cu([i,h.pathnameBase]))}return o}function rI(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Yne(e.path,e.caseSensitive,e.end),s=r.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:a.reduce((d,f,h)=>{let{paramName:m,isOptional:p}=f;if(m==="*"){let g=c[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=c[h];return p&&!v?d[m]=void 0:d[m]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Yne(e,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),_A(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(a.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),a]}function Xne(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function SA(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Jne(e,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?Ff(e):e;return{pathname:n?n.startsWith("/")?n:Qne(n,r):r,search:tae(a),hash:rae(s)}}function Qne(e,r){let n=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ak(e,r,n,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zne(e){return e.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function jA(e,r){let n=Zne(e);return r?n.map((a,s)=>s===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function kA(e,r,n,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=Ff(e):(s=Zg({},e),vn(!s.pathname||!s.pathname.includes("?"),ak("?","pathname","search",s)),vn(!s.pathname||!s.pathname.includes("#"),ak("#","pathname","hash",s)),vn(!s.search||!s.search.includes("#"),ak("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,c;if(o==null)c=n;else{let h=r.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}c=h>=0?r[h]:"/"}let u=Jne(s,c),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Cu=e=>e.join("/").replace(/\/\/+/g,"/"),eae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nae(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const OU=["post","put","patch","delete"];new Set(OU);const aae=["get",...OU];new Set(aae);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ev.apply(this,arguments)}const NA=y.createContext(null),sae=y.createContext(null),Yu=y.createContext(null),T_=y.createContext(null),Tl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),PU=y.createContext(null);function iae(e,r){let{relative:n}=r===void 0?{}:r;Ap()||vn(!1);let{basename:a,navigator:s}=y.useContext(Yu),{hash:i,pathname:o,search:c}=RU(e,{relative:n}),u=o;return a!=="/"&&(u=o==="/"?a:Cu([a,o])),s.createHref({pathname:u,search:c,hash:i})}function Ap(){return y.useContext(T_)!=null}function Al(){return Ap()||vn(!1),y.useContext(T_).location}function DU(e){y.useContext(Yu).static||y.useLayoutEffect(e)}function zs(){let{isDataRoute:e}=y.useContext(Tl);return e?_ae():oae()}function oae(){Ap()||vn(!1);let e=y.useContext(NA),{basename:r,future:n,navigator:a}=y.useContext(Yu),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(jA(s,n.v7_relativeSplatPath)),c=y.useRef(!1);return DU(()=>{c.current=!0}),y.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){a.go(d);return}let h=kA(d,JSON.parse(o),i,f.relative==="path");e==null&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Cu([r,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[r,a,o,i,e])}const lae=y.createContext(null);function cae(e){let r=y.useContext(Tl).outlet;return r&&y.createElement(lae.Provider,{value:e},r)}function uae(){let{matches:e}=y.useContext(Tl),r=e[e.length-1];return r?r.params:{}}function RU(e,r){let{relative:n}=r===void 0?{}:r,{future:a}=y.useContext(Yu),{matches:s}=y.useContext(Tl),{pathname:i}=Al(),o=JSON.stringify(jA(s,a.v7_relativeSplatPath));return y.useMemo(()=>kA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function dae(e,r){return fae(e,r)}function fae(e,r,n,a){Ap()||vn(!1);let{navigator:s}=y.useContext(Yu),{matches:i}=y.useContext(Tl),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Al(),f;if(r){var h;let x=typeof r=="string"?Ff(r):r;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||vn(!1),f=x}else f=d;let m=f.pathname||"/",p=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Fne(e,{pathname:p}),g=vae(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Cu([u,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Cu([u,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,a);return r&&g?y.createElement(T_.Provider,{value:{location:ev({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:mu.Pop}},g):g}function hae(){let e=bae(),r=nae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),n?y.createElement("pre",{style:s},n):null,null)}const mae=y.createElement(hae,null);class pae extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?y.createElement(Tl.Provider,{value:this.props.routeContext},y.createElement(PU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gae(e){let{routeContext:r,match:n,children:a}=e,s=y.useContext(NA);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Tl.Provider,{value:r},a)}function vae(e,r,n,a){var s;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=a)!=null&&i.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);f>=0||vn(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:p}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let p,v=!1,g=null,x=null;n&&(p=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||mae,u&&(d<0&&m===0?(v=!0,x=null):d===m&&(v=!0,x=h.route.hydrateFallbackElement||null)));let b=r.concat(o.slice(0,m+1)),w=()=>{let _;return p?_=g:v?_=x:h.route.Component?_=y.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=f,y.createElement(gae,{match:h,routeContext:{outlet:f,matches:b,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(pae,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var IU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(IU||{}),bw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bw||{});function xae(e){let r=y.useContext(NA);return r||vn(!1),r}function yae(e){let r=y.useContext(sae);return r||vn(!1),r}function wae(e){let r=y.useContext(Tl);return r||vn(!1),r}function MU(e){let r=wae(),n=r.matches[r.matches.length-1];return n.route.id||vn(!1),n.route.id}function bae(){var e;let r=y.useContext(PU),n=yae(bw.UseRouteError),a=MU(bw.UseRouteError);return r!==void 0?r:(e=n.errors)==null?void 0:e[a]}function _ae(){let{router:e}=xae(IU.UseNavigateStable),r=MU(bw.UseNavigateStable),n=y.useRef(!1);return DU(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ev({fromRouteId:r},i)))},[e,r])}function Sae(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function P1(e){let{to:r,replace:n,state:a,relative:s}=e;Ap()||vn(!1);let{future:i,static:o}=y.useContext(Yu),{matches:c}=y.useContext(Tl),{pathname:u}=Al(),d=zs(),f=kA(r,jA(c,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(f);return y.useEffect(()=>d(JSON.parse(h),{replace:n,state:a,relative:s}),[d,h,s,n,a]),null}function nI(e){return cae(e.context)}function Cr(e){vn(!1)}function jae(e){let{basename:r="/",children:n=null,location:a,navigationType:s=mu.Pop,navigator:i,static:o=!1,future:c}=e;Ap()&&vn(!1);let u=r.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:u,navigator:i,static:o,future:ev({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);typeof a=="string"&&(a=Ff(a));let{pathname:f="/",search:h="",hash:m="",state:p=null,key:v="default"}=a,g=y.useMemo(()=>{let x=SA(f,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:v},navigationType:s}},[u,f,h,m,p,v,s]);return g==null?null:y.createElement(Yu.Provider,{value:d},y.createElement(T_.Provider,{children:n,value:g}))}function kae(e){let{children:r,location:n}=e;return dae($2(r),n)}new Promise(()=>{});function $2(e,r){r===void 0&&(r=[]);let n=[];return y.Children.forEach(e,(a,s)=>{if(!y.isValidElement(a))return;let i=[...r,s];if(a.type===y.Fragment){n.push.apply(n,$2(a.props.children,i));return}a.type!==Cr&&vn(!1),!a.props.index||!a.props.children||vn(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=$2(a.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},B2.apply(this,arguments)}function Nae(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Eae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cae(e,r){return e.button===0&&(!r||r==="_self")&&!Eae(e)}const Tae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Aae="6";try{window.__reactRouterVersion=Aae}catch{}const Oae="startTransition",aI=NT[Oae];function Pae(e){let{basename:r,children:n,future:a,window:s}=e,i=y.useRef();i.current==null&&(i.current=Rne({window:s,v5Compat:!0}));let o=i.current,[c,u]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},f=y.useCallback(h=>{d&&aI?aI(()=>u(h)):u(h)},[u,d]);return y.useLayoutEffect(()=>o.listen(f),[o,f]),y.useEffect(()=>Sae(a),[a]),y.createElement(jae,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const Dae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U2=y.forwardRef(function(r,n){let{onClick:a,relative:s,reloadDocument:i,replace:o,state:c,target:u,to:d,preventScrollReset:f,viewTransition:h}=r,m=Nae(r,Tae),{basename:p}=y.useContext(Yu),v,g=!1;if(typeof d=="string"&&Rae.test(d)&&(v=d,Dae))try{let _=new URL(window.location.href),S=d.startsWith("//")?new URL(_.protocol+d):new URL(d),j=SA(S.pathname,p);S.origin===_.origin&&j!=null?d=j+S.search+S.hash:g=!0}catch{}let x=iae(d,{relative:s}),b=Iae(d,{replace:o,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:h});function w(_){a&&a(_),_.defaultPrevented||b(_)}return y.createElement("a",B2({},m,{href:v||x,onClick:g||i?a:w,ref:n,target:u}))});var sI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sI||(sI={}));var iI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(iI||(iI={}));function Iae(e,r){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:c}=r===void 0?{}:r,u=zs(),d=Al(),f=RU(e,{relative:o});return y.useCallback(h=>{if(Cae(h,n)){h.preventDefault();let m=a!==void 0?a:ww(d)===ww(f);u(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[d,u,f,a,s,n,e,i,o,c])}function It(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Ds(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function Ja(e,r){const n=It(e);return isNaN(r)?Ds(e,NaN):(r&&n.setDate(n.getDate()+r),n)}function Co(e,r){const n=It(e);if(isNaN(r))return Ds(e,NaN);if(!r)return n;const a=n.getDate(),s=Ds(e,n.getTime());s.setMonth(n.getMonth()+r+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const EA=6048e5,Mae=864e5,Cy=43200,oI=1440;let Fae={};function Op(){return Fae}function bl(e,r){var c,u,d,f;const n=Op(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=It(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function pf(e){return bl(e,{weekStartsOn:1})}function FU(e){const r=It(e),n=r.getFullYear(),a=Ds(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=pf(a),i=Ds(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=pf(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Im(e){const r=It(e);return r.setHours(0,0,0,0),r}function Mm(e){const r=It(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function ol(e,r){const n=Im(e),a=Im(r),s=+n-Mm(n),i=+a-Mm(a);return Math.round((s-i)/Mae)}function Lae(e){const r=FU(e),n=Ds(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),pf(n)}function V2(e,r){const n=r*7;return Ja(e,n)}function $ae(e,r){return Co(e,r*12)}function Bae(e){let r;return e.forEach(function(n){const a=It(n);(r===void 0||r<a||isNaN(Number(a)))&&(r=a)}),r||new Date(NaN)}function Uae(e){let r;return e.forEach(n=>{const a=It(n);(!r||r>a||isNaN(+a))&&(r=a)}),r||new Date(NaN)}function D1(e,r){const n=It(e),a=It(r),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function Vae(e){return Ds(e,Date.now())}function ks(e,r){const n=Im(e),a=Im(r);return+n==+a}function CA(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zae(e){if(!CA(e)&&typeof e!="number")return!1;const r=It(e);return!isNaN(Number(r))}function Fm(e,r){const n=It(e),a=It(r),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function Wae(e,r,n){const a=bl(e,n),s=bl(r,n),i=+a-Mm(a),o=+s-Mm(s);return Math.round((i-o)/EA)}function Hae(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function qae(e,r){return+It(e)-+It(r)}function Kae(e){const r=It(e);return r.setHours(23,59,59,999),r}function A_(e){const r=It(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Gae(e){const r=It(e);return+Kae(r)==+A_(r)}function Yae(e,r){const n=It(e),a=It(r),s=D1(n,a),i=Math.abs(Fm(n,a));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=D1(n,a)===-s;Gae(It(e))&&i===1&&D1(e,a)===1&&(c=!1),o=s*(i-Number(c))}return o===0?0:o}function Xae(e,r,n){const a=qae(e,r)/1e3;return Hae(n==null?void 0:n.roundingMethod)(a)}function As(e){const r=It(e);return r.setDate(1),r.setHours(0,0,0,0),r}function LU(e){const r=It(e),n=Ds(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TA(e,r){var c,u,d,f;const n=Op(),a=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=It(e),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function $U(e){return TA(e,{weekStartsOn:1})}const Jae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qae=(e,r,n)=>{let a;const s=Jae[e];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function em(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Zae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ese={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rse={date:em({formats:Zae,defaultWidth:"full"}),time:em({formats:ese,defaultWidth:"full"}),dateTime:em({formats:tse,defaultWidth:"full"})},nse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ase=(e,r,n,a)=>nse[e];function nl(e){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;s=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(r):r;return s[i]}}const sse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ise={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ose={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},use={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dse=(e,r)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fse={ordinalNumber:dse,era:nl({values:sse,defaultWidth:"wide"}),quarter:nl({values:ise,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:ose,defaultWidth:"wide"}),day:nl({values:lse,defaultWidth:"wide"}),dayPeriod:nl({values:cse,defaultWidth:"wide",formattingValues:use,defaultFormattingWidth:"wide"})};function al(e){return(r,n={})=>{const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=r.match(s);if(!i)return null;const o=i[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?mse(c,h=>h.test(o)):hse(c,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=r.slice(o.length);return{value:d,rest:f}}}function hse(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function mse(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function BU(e){return(r,n={})=>{const a=r.match(e.matchPattern);if(!a)return null;const s=a[0],i=r.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=r.slice(s.length);return{value:o,rest:c}}}const pse=/^(\d+)(th|st|nd|rd)?/i,gse=/\d+/i,vse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xse={any:[/^b/i,/^(a|c)/i]},yse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wse={any:[/1/i,/2/i,/3/i,/4/i]},bse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nse={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ese={ordinalNumber:BU({matchPattern:pse,parsePattern:gse,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:vse,defaultMatchWidth:"wide",parsePatterns:xse,defaultParseWidth:"any"}),quarter:al({matchPatterns:yse,defaultMatchWidth:"wide",parsePatterns:wse,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:bse,defaultMatchWidth:"wide",parsePatterns:_se,defaultParseWidth:"any"}),day:al({matchPatterns:Sse,defaultMatchWidth:"wide",parsePatterns:jse,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:kse,defaultMatchWidth:"any",parsePatterns:Nse,defaultParseWidth:"any"})},AA={code:"en-US",formatDistance:Qae,formatLong:rse,formatRelative:ase,localize:fse,match:Ese,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Cse(e){const r=It(e);return ol(r,LU(r))+1}function UU(e){const r=It(e),n=+pf(r)-+Lae(r);return Math.round(n/EA)+1}function VU(e,r){var f,h,m,p;const n=It(e),a=n.getFullYear(),s=Op(),i=(r==null?void 0:r.firstWeekContainsDate)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ds(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const c=bl(o,r),u=Ds(e,0);u.setFullYear(a,0,i),u.setHours(0,0,0,0);const d=bl(u,r);return n.getTime()>=c.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function Tse(e,r){var c,u,d,f;const n=Op(),a=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=VU(e,r),i=Ds(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),bl(i,r)}function zU(e,r){const n=It(e),a=+bl(n,r)-+Tse(n,r);return Math.round(a/EA)+1}function wr(e,r){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(r,"0");return n+a}const Fc={y(e,r){const n=e.getFullYear(),a=n>0?n:1-n;return wr(r==="yy"?a%100:a,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):wr(n+1,2)},d(e,r){return wr(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return wr(e.getHours()%12||12,r.length)},H(e,r){return wr(e.getHours(),r.length)},m(e,r){return wr(e.getMinutes(),r.length)},s(e,r){return wr(e.getSeconds(),r.length)},S(e,r){const n=r.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return wr(s,r.length)}},eh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lI={G:function(e,r,n){const a=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Fc.y(e,r)},Y:function(e,r,n,a){const s=VU(e,a),i=s>0?s:1-s;if(r==="YY"){const o=i%100;return wr(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):wr(i,r.length)},R:function(e,r){const n=FU(e);return wr(n,r.length)},u:function(e,r){const n=e.getFullYear();return wr(n,r.length)},Q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return wr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,r,n){const a=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return wr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,r,n){const a=e.getMonth();switch(r){case"M":case"MM":return Fc.M(e,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,r,n){const a=e.getMonth();switch(r){case"L":return String(a+1);case"LL":return wr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,r,n,a){const s=zU(e,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):wr(s,r.length)},I:function(e,r,n){const a=UU(e);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):wr(a,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Fc.d(e,r)},D:function(e,r,n){const a=Cse(e);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):wr(a,r.length)},E:function(e,r,n){const a=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return wr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,n,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return wr(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,n){const a=e.getDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return wr(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,r,n){const s=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,n){const a=e.getHours();let s;switch(a===12?s=eh.noon:a===0?s=eh.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,n){const a=e.getHours();let s;switch(a>=17?s=eh.evening:a>=12?s=eh.afternoon:a>=4?s=eh.morning:s=eh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Fc.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Fc.H(e,r)},K:function(e,r,n){const a=e.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):wr(a,r.length)},k:function(e,r,n){let a=e.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):wr(a,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fc.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Fc.s(e,r)},S:function(e,r){return Fc.S(e,r)},X:function(e,r,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return uI(a);case"XXXX":case"XX":return vd(a);case"XXXXX":case"XXX":default:return vd(a,":")}},x:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"x":return uI(a);case"xxxx":case"xx":return vd(a);case"xxxxx":case"xxx":default:return vd(a,":")}},O:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+cI(a,":");case"OOOO":default:return"GMT"+vd(a,":")}},z:function(e,r,n){const a=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+cI(a,":");case"zzzz":default:return"GMT"+vd(a,":")}},t:function(e,r,n){const a=Math.trunc(e.getTime()/1e3);return wr(a,r.length)},T:function(e,r,n){const a=e.getTime();return wr(a,r.length)}};function cI(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+r+wr(i,2)}function uI(e,r){return e%60===0?(e>0?"-":"+")+wr(Math.abs(e)/60,2):vd(e,r)}function vd(e,r=""){const n=e>0?"-":"+",a=Math.abs(e),s=wr(Math.trunc(a/60),2),i=wr(a%60,2);return n+s+r+i}const dI=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},WU=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Ase=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return dI(e,r);let i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",dI(a,r)).replace("{{time}}",WU(s,r))},Ose={p:WU,P:Ase},Pse=/^D+$/,Dse=/^Y+$/,Rse=["D","DD","YY","YYYY"];function Ise(e){return Pse.test(e)}function Mse(e){return Dse.test(e)}function Fse(e,r,n){const a=Lse(e,r,n);if(console.warn(a),Rse.includes(e))throw new RangeError(a)}function Lse(e,r,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $se=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Use=/^'([^]*?)'?$/,Vse=/''/g,zse=/[a-zA-Z]/;function cs(e,r,n){var f,h,m,p,v,g,x,b;const a=Op(),s=(n==null?void 0:n.locale)??a.locale??AA,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((b=(x=a.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,c=It(e);if(!zae(c))throw new RangeError("Invalid time value");let u=r.match(Bse).map(w=>{const _=w[0];if(_==="p"||_==="P"){const S=Ose[_];return S(w,s.formatLong)}return w}).join("").match($se).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:Wse(w)};if(lI[_])return{isToken:!0,value:w};if(_.match(zse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(u=s.localize.preprocessor(c,u));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(w=>{if(!w.isToken)return w.value;const _=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Mse(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ise(_))&&Fse(_,r,String(e));const S=lI[_[0]];return S(c,_,s.localize,d)}).join("")}function Wse(e){const r=e.match(Use);return r?r[1].replace(Vse,"'"):e}function Hse(e,r,n){const a=Op(),s=(n==null?void 0:n.locale)??a.locale??AA,i=2520,o=D1(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let u,d;o>0?(u=It(r),d=It(e)):(u=It(e),d=It(r));const f=Xae(d,u),h=(Mm(d)-Mm(u))/1e3,m=Math.round((f-h)/60);let p;if(m<2)return n!=null&&n.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,c):f<10?s.formatDistance("lessThanXSeconds",10,c):f<20?s.formatDistance("lessThanXSeconds",20,c):f<40?s.formatDistance("halfAMinute",0,c):f<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):m===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",m,c);if(m<45)return s.formatDistance("xMinutes",m,c);if(m<90)return s.formatDistance("aboutXHours",1,c);if(m<oI){const v=Math.round(m/60);return s.formatDistance("aboutXHours",v,c)}else{if(m<i)return s.formatDistance("xDays",1,c);if(m<Cy){const v=Math.round(m/oI);return s.formatDistance("xDays",v,c)}else if(m<Cy*2)return p=Math.round(m/Cy),s.formatDistance("aboutXMonths",p,c)}if(p=Yae(d,u),p<12){const v=Math.round(m/Cy);return s.formatDistance("xMonths",v,c)}else{const v=p%12,g=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",g,c):v<9?s.formatDistance("overXYears",g,c):s.formatDistance("almostXYears",g+1,c)}}function qse(e,r){return Hse(e,Vae(e),r)}function Kse(e){const r=It(e),n=r.getFullYear(),a=r.getMonth(),s=Ds(e,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Gse(e){return Math.trunc(+It(e)/1e3)}function Yse(e){const r=It(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),r}function Xse(e,r){return Wae(Yse(e),As(e),r)+1}function z2(e,r){const n=It(e),a=It(r);return n.getTime()>a.getTime()}function HU(e,r){const n=It(e),a=It(r);return+n<+a}function OA(e,r){const n=It(e),a=It(r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Jse(e,r){const n=It(e),a=It(r);return n.getFullYear()===a.getFullYear()}function sk(e,r){return Ja(e,-r)}function ik(e,r){const n=It(e),a=n.getFullYear(),s=n.getDate(),i=Ds(e,0);i.setFullYear(a,r,15),i.setHours(0,0,0,0);const o=Kse(i);return n.setMonth(r,Math.min(s,o)),n}function fI(e,r){const n=It(e);return isNaN(+n)?Ds(e,NaN):(n.setFullYear(r),n)}function hI(e){if(!e)return e;if(typeof e=="string")try{const r=new Date(e);return isNaN(r.getTime())?e:cs(r,"yyyy-MM-dd HH:mm:ss")}catch{return e}return e instanceof Date?cs(e,"yyyy-MM-dd HH:mm:ss"):e}function W2(e){if(e==null)return e;if(e instanceof Date)return hI(e);if(Array.isArray(e))return e.map(r=>W2(r));if(typeof e=="object"){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(n.toLowerCase().includes("date")||n.toLowerCase().includes("time")?r[n]=hI(e[n]):r[n]=W2(e[n]));return r}return e}const Qse="https://api.middar.com";async function Jo(e,r={}){const n={"Content-Type":"application/json",...r.headers},a=localStorage.getItem("authToken");a&&(n.Authorization=`Bearer ${a}`);try{let s=r.body;if(s&&typeof s=="string")try{const c=JSON.parse(s),u=W2(c);s=JSON.stringify(u)}catch(c){console.warn("Failed to parse request body for date formatting",c)}console.log(`API Request: ${r.method||"GET"} ${e}`,s?JSON.parse(s):null);const i=await fetch(`${Qse}${e}`,{...r,headers:n,body:s});let o;try{const c=await i.text();o=c?JSON.parse(c):{}}catch(c){console.error("Failed to parse API response:",c),o={}}if(!i.ok){const c={status:i.status,statusText:i.statusText,url:e,headers:Object.fromEntries(i.headers.entries()),response:o,requestBody:r.body?JSON.parse(r.body):null};console.error("API Error Details:",JSON.stringify(c,null,2));let u="Something went wrong";o&&typeof o=="object"?u=o.message||o.error||JSON.stringify(o):o&&(u=String(o));const d=new Error(u);throw d.status=i.status,d.response=o,d.details=c,d}return o}catch(s){throw console.error("API Request Failed:",{endpoint:e,error:s.message,stack:s.stack}),s}}const G={get:(e,r,n)=>{const a=new URLSearchParams(n).toString();return Jo(`/api/v1/get/${e}/${r}${a?`?${a}`:""}`)},list:async(e,r={})=>{const n={...r};let a="";if(n.exact_filters&&(a=typeof n.exact_filters=="string"?n.exact_filters:JSON.stringify(n.exact_filters),delete n.exact_filters),n.advanced_filters&&typeof n.advanced_filters=="string")try{JSON.parse(n.advanced_filters)}catch{delete n.advanced_filters}else n.advanced_filters&&(n.advanced_filters=JSON.stringify(n.advanced_filters));const s=new URLSearchParams;Object.entries(n).forEach(([c,u])=>{u!=null&&s.append(c,u.toString())});const i=a?`/api/v1/${e}/list?exact_filters=${encodeURIComponent(a)}&${s.toString()}`:s.toString()?`/api/v1/${e}/list?${s.toString()}`:`/api/v1/${e}/list`;console.log("Sending request to:",i);const o=await Jo(i);return{data:o.data||[],total:o.totalRows||0,page:(o.page||1)-1,pageSize:o.totalRows||0}},count:async(e,r={})=>{try{return(await G.list(e,{...r,pageSize:1})).total||0}catch{return console.warn(`Count failed for ${e}, returning 0`),0}},create:(e,r)=>e==="messages"?Jo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}):Jo(`/api/v1/add/${e}`,{method:"POST",body:JSON.stringify(r)}),update:(e,r,n)=>Jo(`/api/v1/update/${e}/${r}`,{method:"PUT",body:JSON.stringify(n)}),delete:(e,r)=>Jo(`/api/v1/delete/${e}/${r}`,{method:"DELETE"}),getAggregates:async(e,r={})=>{try{console.log("[API] Getting aggregates for tables:",e);const n=e.map(async i=>{try{const c={m_projects:"m_projects",m_leads:"m_leads",clients:"Users",users:"Users",surveys:"surveys",tasks:"tasks"}[i]||i,d=(await G.list(c,{pageSize:1})).total||0;return console.log(`[API] Got count for ${i} (${c}):`,d),{[i]:{Count:d}}}catch(o){return console.warn(`[API] Count failed for ${i}, using fallback:`,o),{[i]:{Count:0}}}}),s=(await Promise.all(n)).reduce((i,o)=>({...i,...o}),{});return console.log("[API] Combined aggregates result:",s),s}catch(n){return console.error("[API] Failed to get aggregates:",n),{}}},auth:{login:async e=>Jo("/api/v1/account/login",{method:"POST",body:JSON.stringify(e)})},permissions:{list:(e={})=>G.list("permissions",e),get:e=>G.get("permissions",e),create:e=>G.create("permissions",e),update:(e,r)=>G.update("permissions",e,r),delete:e=>G.delete("permissions",e)},comments:{list:(e={})=>G.list("comments",e),get:e=>G.get("comments",e),create:e=>G.create("comments",e),update:(e,r)=>G.update("comments",e,r),delete:e=>G.delete("comments",e)},leads:{list:(e={})=>G.list("leads",e),get:e=>G.get("leads",e),create:e=>G.create("leads",e),update:(e,r)=>G.update("leads",e,r),delete:e=>G.delete("leads",e)},mAction:{list:(e={})=>G.list("m_action",e),get:e=>G.get("m_action",e),create:e=>G.create("m_action",e),update:(e,r)=>G.update("m_action",e,r),delete:e=>G.delete("m_action",e)},mActivity:{list:(e={})=>G.list("m_activity",e),get:e=>G.get("m_activity",e),create:e=>G.create("m_activity",e),update:(e,r)=>G.update("m_activity",e,r),delete:e=>G.delete("m_activity",e)},messages:{list:(e={})=>G.list("messages",e),get:e=>G.get("messages",e),create:e=>G.create("messages",e),update:(e,r)=>G.update("messages",e,r),delete:e=>G.delete("messages",e)},mContacts:{list:(e={})=>G.list("m_contacts",e),get:e=>G.get("m_contacts",e),create:e=>G.create("m_contacts",e),update:(e,r)=>G.update("m_contacts",e,r),delete:e=>G.delete("m_contacts",e)},mCountry:{list:(e={})=>G.list("m_country",e),get:e=>G.get("m_country",e),create:e=>G.create("m_country",e),update:(e,r)=>G.update("m_country",e,r),delete:e=>G.delete("m_country",e)},mCity:{list:(e={})=>G.list("m_city",e),get:e=>G.get("m_city",e),create:e=>G.create("m_city",e),update:(e,r)=>G.update("m_city",e,r),delete:e=>G.delete("m_city",e),getByCountry:(e,r={})=>G.list("m_city",{...r,exact_filters:{country_id:e}})},mJobtitle:{list:(e={})=>G.list("m_jobtitle",e),get:e=>G.get("m_jobtitle",e),create:e=>G.create("m_jobtitle",e),update:(e,r)=>G.update("m_jobtitle",e,r),delete:e=>G.delete("m_jobtitle",e)},mLeads:{list:(e={})=>G.list("m_leads",e),get:e=>G.get("m_leads",e),create:e=>G.create("m_leads",e),update:(e,r)=>G.update("m_leads",e,r),delete:e=>G.delete("m_leads",e),getByStage:(e,r={})=>G.list("m_leads",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("m_leads",{...r,exact_filters:{assigned_to:e}}),getByStatus:(e,r={})=>G.list("m_leads",{...r,exact_filters:{status_id:e}})},mSystem:{list:(e={})=>G.list("m_system",e),get:e=>G.get("m_system",e),create:e=>G.create("m_system",e),update:(e,r)=>G.update("m_system",e,r),delete:e=>G.delete("m_system",e)},mLeadsTrans:{list:(e={})=>G.list("m_leads_trans",e),get:e=>G.get("m_leads_trans",e),create:e=>G.create("m_leads_trans",e),update:(e,r)=>G.update("m_leads_trans",e,r),delete:e=>G.delete("m_leads_trans",e),getByLead:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{leads_id:e}}),getByUser:(e,r={})=>G.list("m_leads_trans",{...r,exact_filters:{user_id:e}})},mProjects:{list:(e={})=>G.list("m_projects",e),get:e=>G.get("m_projects",e),create:e=>G.create("m_projects",e),update:(e,r)=>G.update("m_projects",e,r),delete:e=>G.delete("m_projects",e)},mStatus:{list:(e={})=>G.list("m_status",e),get:e=>G.get("m_status",e),create:e=>G.create("m_status",e),update:(e,r)=>G.update("m_status",e,r),delete:e=>G.delete("m_status",e)},notes:{list:(e={})=>G.list("notes",e),get:e=>G.get("notes",e),create:e=>G.create("notes",e),update:(e,r)=>G.update("notes",e,r),delete:e=>G.delete("notes",e),getByRelated:(e,r,n={})=>G.list("notes",{...n,exact_filters:{related_to_type:e,related_to_id:r}})},partnerApply:{list:(e={})=>G.list("partner_apply",e),get:e=>G.get("partner_apply",e),create:e=>G.create("partner_apply",e),update:(e,r)=>G.update("partner_apply",e,r),delete:e=>G.delete("partner_apply",e),getPending:(e={})=>G.list("partner_apply",{...e,exact_filters:{status:"Pending"}}),getByStatus:(e,r={})=>G.list("partner_apply",{...r,exact_filters:{status:e}})},projectUsers:{list:(e={})=>G.list("project_users",e),get:e=>G.get("project_users",e),create:e=>G.create("project_users",e),update:(e,r)=>G.update("project_users",e,r),delete:e=>G.delete("project_users",e),getByProject:(e,r={})=>G.list("project_users",{...r,exact_filters:{project_id:e}})},projectImages:{list:(e={})=>G.list("project_images",e),get:e=>G.get("project_images",e),create:e=>G.create("project_images",e),update:(e,r)=>G.update("project_images",e,r),delete:e=>G.delete("project_images",e),getByProject:(e,r={})=>G.list("project_images",{...r,exact_filters:{project_id:e}})},projects:{list:(e={})=>G.list("projects",e),get:e=>G.get("projects",e),create:e=>G.create("projects",e),update:(e,r)=>G.update("projects",e,r),delete:e=>G.delete("projects",e),getByStage:(e,r={})=>G.list("projects",{...r,exact_filters:{stage:e}}),getByLead:(e,r={})=>G.list("projects",{...r,exact_filters:{lead_id:e}})},requests:{list:(e={})=>G.list("requests_crm",e),get:e=>G.get("requests_crm",e),create:e=>G.create("requests_crm",e),update:(e,r)=>G.update("requests_crm",e,r),delete:e=>G.delete("requests_crm",e)},rooms:{list:(e={})=>G.list("rooms",e),get:e=>G.get("rooms",e),create:e=>G.create("rooms",e),update:(e,r)=>G.update("rooms",e,r),delete:e=>G.delete("rooms",e),getByProject:(e,r={})=>G.list("rooms",{...r,exact_filters:{project_id:e}}),getByTeam:(e,r={})=>G.list("rooms",{...r,exact_filters:{team_id:e}})},roomMembers:{list:(e={})=>G.list("room_members",e),get:e=>G.get("room_members",e),create:e=>G.create("room_members",e),update:(e,r)=>G.update("room_members",e,r),delete:e=>G.delete("room_members",e),getByRoom:(e,r={})=>G.list("room_members",{...r,exact_filters:{room_id:e}})},stages:{list:(e={})=>G.list("stages",e),get:e=>G.get("stages",e),create:e=>G.create("stages",e),update:(e,r)=>G.update("stages",e,r),delete:e=>G.delete("stages",e)},tasks:{list:(e={})=>G.list("tasks",e),get:e=>G.get("tasks",e),create:e=>G.create("tasks",e),update:(e,r)=>G.update("tasks",e,r),delete:e=>G.delete("tasks",e),getByStage:(e,r={})=>G.list("tasks",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tasks",{...r,exact_filters:{assigned_to:e}})},surveyTemplates:{list:(e={})=>G.list("survey_templates",e),get:e=>G.get("survey_templates",e),create:e=>G.create("survey_templates",e),update:(e,r)=>G.update("survey_templates",e,r),delete:e=>G.delete("survey_templates",e)},surveyTemplateFields:{list:(e={})=>G.list("survey_template_fields",e),get:e=>G.get("survey_template_fields",e),create:e=>G.create("survey_template_fields",e),update:(e,r)=>G.update("survey_template_fields",e,r),delete:e=>G.delete("survey_template_fields",e),getByTemplate:(e,r={})=>G.list("survey_template_fields",{...r,exact_filters:{template_id:e}})},surveys:{list:(e={})=>G.list("surveys",e),get:e=>G.get("surveys",e),create:e=>G.create("surveys",e),update:(e,r)=>G.update("surveys",e,r),delete:e=>G.delete("surveys",e)},teams:{list:(e={})=>G.list("teams",e),get:e=>G.get("teams",e),create:e=>G.create("teams",e),update:(e,r)=>G.update("teams",e,r),delete:e=>G.delete("teams",e)},teamMembers:{list:(e={})=>G.list("team_members",e),get:e=>G.get("team_members",e),create:e=>{const{team_id:r,user_id:n,userid:a,...s}=e??{},i={...s};r!==void 0&&(i.team_id=r);const o=n??(a!==void 0?Number(a):void 0);return o!==void 0&&!Number.isNaN(o)&&(i.user_id=o),G.create("team_members",i)},update:(e,r)=>G.update("team_members",e,r),delete:e=>G.delete("team_members",e),getByTeam:(e,r={})=>G.list("team_members",{...r,exact_filters:{team_id:e}})},tickets:{list:(e={})=>G.list("tickets",e),get:e=>G.get("tickets",e),create:e=>G.create("tickets",e),update:(e,r)=>G.update("tickets",e,r),delete:e=>G.delete("tickets",e),getByStatus:(e,r={})=>G.list("tickets",{...r,exact_filters:{status:e}}),getByStage:(e,r={})=>G.list("tickets",{...r,exact_filters:{stage_id:e}}),getByAssignee:(e,r={})=>G.list("tickets",{...r,exact_filters:{assigned_to:e}})},Users:{list:(e={})=>G.list("Users",e),get:e=>G.get("Users",e),create:e=>G.create("Users",e),update:(e,r)=>G.update("Users",e,r),delete:e=>G.delete("Users",e)},whatsappConversations:{list:(e={})=>G.list("whatsapp_conversations",e),get:e=>G.get("whatsapp_conversations",e),create:e=>G.create("whatsapp_conversations",e),update:(e,r)=>G.update("whatsapp_conversations",e,r),delete:e=>G.delete("whatsapp_conversations",e),getByLead:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{lead_id:e}}),getByUser:(e,r={})=>G.list("whatsapp_conversations",{...r,exact_filters:{user_id:e}})},whatsappMessages:{list:(e={})=>G.list("whatsapp_messages",e),get:e=>G.get("whatsapp_messages",e),create:e=>G.create("whatsapp_messages",e),update:(e,r)=>G.update("whatsapp_messages",e,r),delete:e=>G.delete("whatsapp_messages",e),getByConversation:(e,r={})=>G.list("whatsapp_messages",{...r,exact_filters:{conversation_id:e}})}};let ok=null,th=null;async function PA(){return ok||th||(th=G.permissions.list().then(e=>{const r=e.data||[];return ok=r,th=null,r}).catch(e=>(th=null,console.error("Failed to fetch permissions:",e),[])),th)}const qU=y.createContext(void 0),Zse=({children:e})=>{const[r,n]=y.useState(null),[a,s]=y.useState(null),[i,o]=y.useState(!0);y.useEffect(()=>{(()=>{try{const m=localStorage.getItem("authToken"),p=localStorage.getItem("authUser");if(m&&p){const v=JSON.parse(p);if(v&&v.role&&(v.role=v.role.toLowerCase()),!v.permissions_permissions_Name)if(v.profile&&v.profile.permissions_permissions_Name)v.permissions_permissions_Name=v.profile.permissions_permissions_Name;else if(v.profile&&v.profile.permissions){const g=v.profile.permissions,x={1:"admin",2:"manager",3:"employee",4:"team_leader",5:"partner_employee",6:"partner_leader"};x[g]&&(v.permissions_permissions_Name=x[g],v.role=x[g])}else v.isAdmin===1&&(v.permissions_permissions_Name="admin",v.role="admin");s(m),n(v)}}catch(m){console.error("Failed to parse stored auth data:",m),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}finally{o(!1)}})()},[]);const c=y.useCallback(async(h,m)=>{s(h),localStorage.setItem("authToken",h);try{await new Promise(x=>setTimeout(x,100)),await PA()}catch(x){console.warn("Failed to preload permissions:",x)}let p=m;try{let x=null;try{x=await G.list("Users",{exact_filters:{userid:m.id},pageSize:1})}catch{const w=await fetch(`https://api.middar.com/api/v1/Users/list?exact_filters=${encodeURIComponent(JSON.stringify({userid:m.id}))}&pageSize=1`,{headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});w.ok&&(x=await w.json())}x&&x.data&&x.data.length>0&&(p=x.data[0])}catch(x){console.warn("Failed to fetch full user profile, using basic login data:",x)}let v="employee";if(p.permissions_permissions_Name){const x=p.permissions_permissions_Name.toLowerCase();x==="admin"?v="admin":x==="manager"?v="manager":x==="employee"?v="employee":x==="team_leader"?v="team_leader":x==="partner_employee"?v="partner_employee":x==="partner_leader"?v="partner_leader":v="employee"}else p.isAdmin===1&&(v="admin");const g={id:p.userid||p.id||"unknown",email:p.Email||p.email||m.email||"",role:v,profile:p,userid:p.userid||0,permissions:p.permissions||0,permissions_permissions_Name:p.permissions_permissions_Name||"",Employee:p.Employee||0,AccountNumber:p.AccountNumber||null,mobile:p.mobile||null,Owner:p.Owner||0,Email_v:p.Email_v||0,IsActive:p.IsActive||0,user_pasword:p.user_pasword||"",name:p.name||m.name||"",Email:p.Email||p.email||m.email||"",pin:p.pin||null,isAllBranches:p.isAllBranches||0,Safe:p.Safe||0,reset_code:p.reset_code||null,reset_expires:p.reset_expires||"",reset_used:p.reset_used||0,isAdmin:p.isAdmin||0};n(g),localStorage.setItem("authUser",JSON.stringify(g)),await new Promise(x=>setTimeout(x,50))},[]),u=y.useCallback(()=>{s(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},[]),d=y.useCallback(h=>!r||!r.role?!1:h.includes(r.role),[r]),f=y.useMemo(()=>({user:r,token:a,isAuthenticated:!!r&&!!a,loading:i,login:c,logout:u,hasRole:d}),[r,a,i,c,u,d]);return l.jsx(qU.Provider,{value:f,children:e})},Sr=()=>{const e=y.useContext(qU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},KU=y.createContext(void 0),eie=[{code:"en",name:"English",flag:""},{code:"ar",name:"",flag:""}],tie=({children:e})=>{const[r,n]=y.useState(Zr.language||"ar"),[a,s]=y.useState(Yt());y.useEffect(()=>{const c=u=>{n(u),s(Yt())};return Zr.on("languageChanged",c),()=>{Zr.off("languageChanged",c)}},[]);const o={currentLanguage:r,changeLanguage:async c=>{try{await Zr.changeLanguage(c),n(c),s(Yt())}catch(u){console.error("Failed to change language:",u)}},isRTL:a,languages:eie};return l.jsx(KU.Provider,{value:o,children:e})},ms=()=>{const e=y.useContext(KU);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},GU=y.createContext(void 0);function rie({children:e}){const[r,n]=y.useState([]);return l.jsx(GU.Provider,{value:{breadcrumbs:r,setBreadcrumbs:n},children:e})}function fx(){const e=y.useContext(GU);if(e===void 0)throw new Error("useBreadcrumbs must be used within a BreadcrumbsProvider");return e}var _w=["light","dark"],DA="(prefers-color-scheme: dark)",nie=typeof window>"u",RA=y.createContext(void 0),aie={setTheme:e=>{},themes:[]},sie=()=>{var e;return(e=y.useContext(RA))!=null?e:aie},YU=e=>y.useContext(RA)?e.children:y.createElement(oie,{...e}),iie=["light","dark"],oie=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:n=!0,enableColorScheme:a=!0,storageKey:s="theme",themes:i=iie,defaultTheme:o=n?"system":"light",attribute:c="data-theme",value:u,children:d,nonce:f})=>{let[h,m]=y.useState(()=>mI(s,o)),[p,v]=y.useState(()=>mI(s)),g=u?Object.values(u):i,x=y.useCallback(S=>{let j=S;if(!j)return;S==="system"&&n&&(j=pI());let N=u?u[j]:j,k=r?cie():null,C=document.documentElement;if(c==="class"?(C.classList.remove(...g),N&&C.classList.add(N)):N?C.setAttribute(c,N):C.removeAttribute(c),a){let E=_w.includes(o)?o:null,P=_w.includes(j)?j:E;C.style.colorScheme=P}k==null||k()},[]),b=y.useCallback(S=>{let j=typeof S=="function"?S(S):S;m(j);try{localStorage.setItem(s,j)}catch{}},[e]),w=y.useCallback(S=>{let j=pI(S);v(j),h==="system"&&n&&!e&&x("system")},[h,e]);y.useEffect(()=>{let S=window.matchMedia(DA);return S.addListener(w),w(S),()=>S.removeListener(w)},[w]),y.useEffect(()=>{let S=j=>{if(j.key!==s)return;let N=j.newValue||o;b(N)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[b]),y.useEffect(()=>{x(e??h)},[e,h]);let _=y.useMemo(()=>({theme:h,setTheme:b,forcedTheme:e,resolvedTheme:h==="system"?p:h,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[h,b,e,p,n,i]);return y.createElement(RA.Provider,{value:_},y.createElement(lie,{forcedTheme:e,disableTransitionOnChange:r,enableSystem:n,enableColorScheme:a,storageKey:s,themes:i,defaultTheme:o,attribute:c,value:u,children:d,attrs:g,nonce:f}),d)},lie=y.memo(({forcedTheme:e,storageKey:r,attribute:n,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:o,attrs:c,nonce:u})=>{let d=i==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?_w.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,g=!1,x=!0)=>{let b=o?o[v]:v,w=g?v+"|| ''":`'${b}'`,_="";return s&&x&&!g&&_w.includes(v)&&(_+=`d.style.colorScheme = '${v}';`),n==="class"?g||b?_+=`c.add(${w})`:_+="null":b&&(_+=`d[s](n,${w})`),_},p=e?`!function(){${f}${m(e)}}()`:a?`!function(){try{${f}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${d})){var t='${DA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${r}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return y.createElement("script",{nonce:u,dangerouslySetInnerHTML:{__html:p}})}),mI=(e,r)=>{if(nie)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||r},cie=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},pI=e=>(e||(e=window.matchMedia(DA)),e.matches?"dark":"light");/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XU=(...e)=>e.filter((r,n,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var die={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...c},u)=>y.createElement("svg",{ref:u,...die,width:r,height:r,stroke:e,strokeWidth:a?Number(n)*24/Number(r):n,className:XU("lucide",s),...c},[...o.map(([d,f])=>y.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,r)=>{const n=y.forwardRef(({className:a,...s},i)=>y.createElement(fie,{ref:i,iconNode:r,className:XU(`lucide-${uie(e)}`,a),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=Qe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=Qe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=Qe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Qe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=Qe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Qe("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Qe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=Qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=Qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=Qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=Qe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Qe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Qe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=Qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Qe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=Qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Qe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=Qe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=Qe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=Qe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function n9(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=n9(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Bt(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=n9(e))&&(a&&(a+=" "),a+=r);return a}const MA="-",Wie=e=>{const r=qie(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const c=o.split(MA);return c[0]===""&&c.length!==1&&c.shift(),a9(c,r)||Hie(o)},getConflictingClassGroupIds:(o,c)=>{const u=n[o]||[];return c&&a[o]?[...u,...a[o]]:u}}},a9=(e,r)=>{var o;if(e.length===0)return r.classGroupId;const n=e[0],a=r.nextPart.get(n),s=a?a9(e.slice(1),a):void 0;if(s)return s;if(r.validators.length===0)return;const i=e.join(MA);return(o=r.validators.find(({validator:c})=>c(i)))==null?void 0:o.classGroupId},_I=/^\[(.+)\]$/,Hie=e=>{if(_I.test(e)){const r=_I.exec(e)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},qie=e=>{const{theme:r,prefix:n}=e,a={nextPart:new Map,validators:[]};return Gie(Object.entries(e.classGroups),n).forEach(([i,o])=>{K2(o,a,i,r)}),a},K2=(e,r,n,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?r:SI(r,s);i.classGroupId=n;return}if(typeof s=="function"){if(Kie(s)){K2(s(a),r,n,a);return}r.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{K2(o,SI(r,i),n,a)})})},SI=(e,r)=>{let n=e;return r.split(MA).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},Kie=e=>e.isThemeGetter,Gie=(e,r)=>r?e.map(([n,a])=>{const s=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,c])=>[r+o,c])):i);return[n,s]}):e,Yie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,a=new Map;const s=(i,o)=>{n.set(i,o),r++,r>e&&(r=0,a=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},s9="!",Xie=e=>{const{separator:r,experimentalParseClassName:n}=e,a=r.length===1,s=r[0],i=r.length,o=c=>{const u=[];let d=0,f=0,h;for(let x=0;x<c.length;x++){let b=c[x];if(d===0){if(b===s&&(a||c.slice(x,x+i)===r)){u.push(c.slice(f,x)),f=x+i;continue}if(b==="/"){h=x;continue}}b==="["?d++:b==="]"&&d--}const m=u.length===0?c:c.substring(f),p=m.startsWith(s9),v=p?m.substring(1):m,g=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return n?c=>n({className:c,parseClassName:o}):o},Jie=e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(a=>{a[0]==="["?(r.push(...n.sort(),a),n=[]):n.push(a)}),r.push(...n.sort()),r},Qie=e=>({cache:Yie(e.cacheSize),parseClassName:Xie(e),...Wie(e)}),Zie=/\s+/,eoe=(e,r)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s}=r,i=[],o=e.trim().split(Zie);let c="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let v=!!p,g=a(v?m.substring(0,p):m);if(!g){if(!v){c=d+(c.length>0?" "+c:c);continue}if(g=a(m),!g){c=d+(c.length>0?" "+c:c);continue}v=!1}const x=Jie(f).join(":"),b=h?x+s9:x,w=b+g;if(i.includes(w))continue;i.push(w);const _=s(g,v);for(let S=0;S<_.length;++S){const j=_[S];i.push(b+j)}c=d+(c.length>0?" "+c:c)}return c};function toe(){let e=0,r,n,a="";for(;e<arguments.length;)(r=arguments[e++])&&(n=i9(r))&&(a&&(a+=" "),a+=n);return a}const i9=e=>{if(typeof e=="string")return e;let r,n="";for(let a=0;a<e.length;a++)e[a]&&(r=i9(e[a]))&&(n&&(n+=" "),n+=r);return n};function roe(e,...r){let n,a,s,i=o;function o(u){const d=r.reduce((f,h)=>h(f),e());return n=Qie(d),a=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const d=a(u);if(d)return d;const f=eoe(u,n);return s(u,f),f}return function(){return i(toe.apply(null,arguments))}}const Ur=e=>{const r=n=>n[e]||[];return r.isThemeGetter=!0,r},o9=/^\[(?:([a-z-]+):)?(.+)\]$/i,noe=/^\d+\/\d+$/,aoe=new Set(["px","full","screen"]),soe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ioe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ooe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,loe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,coe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$l=e=>rm(e)||aoe.has(e)||noe.test(e),Lc=e=>Pp(e,"length",voe),rm=e=>!!e&&!Number.isNaN(Number(e)),lk=e=>Pp(e,"number",rm),x0=e=>!!e&&Number.isInteger(Number(e)),uoe=e=>e.endsWith("%")&&rm(e.slice(0,-1)),Wt=e=>o9.test(e),$c=e=>soe.test(e),doe=new Set(["length","size","percentage"]),foe=e=>Pp(e,doe,l9),hoe=e=>Pp(e,"position",l9),moe=new Set(["image","url"]),poe=e=>Pp(e,moe,yoe),goe=e=>Pp(e,"",xoe),y0=()=>!0,Pp=(e,r,n)=>{const a=o9.exec(e);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):n(a[2]):!1},voe=e=>ioe.test(e)&&!ooe.test(e),l9=()=>!1,xoe=e=>loe.test(e),yoe=e=>coe.test(e),woe=()=>{const e=Ur("colors"),r=Ur("spacing"),n=Ur("blur"),a=Ur("brightness"),s=Ur("borderColor"),i=Ur("borderRadius"),o=Ur("borderSpacing"),c=Ur("borderWidth"),u=Ur("contrast"),d=Ur("grayscale"),f=Ur("hueRotate"),h=Ur("invert"),m=Ur("gap"),p=Ur("gradientColorStops"),v=Ur("gradientColorStopPositions"),g=Ur("inset"),x=Ur("margin"),b=Ur("opacity"),w=Ur("padding"),_=Ur("saturate"),S=Ur("scale"),j=Ur("sepia"),N=Ur("skew"),k=Ur("space"),C=Ur("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Wt,r],T=()=>[Wt,r],U=()=>["",$l,Lc],H=()=>["auto",rm,Wt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",Wt],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[rm,Wt];return{cacheSize:500,separator:":",theme:{colors:[y0],spacing:[$l,Lc],blur:["none","",$c,Wt],brightness:te(),borderColor:[e],borderRadius:["none","","full",$c,Wt],borderSpacing:T(),borderWidth:U(),contrast:te(),grayscale:R(),hueRotate:te(),invert:R(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[uoe,Lc],inset:I(),margin:I(),opacity:te(),padding:T(),saturate:te(),scale:te(),sepia:R(),skew:te(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Wt]}],container:["container"],columns:[{columns:[$c]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Wt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",x0,Wt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",x0,Wt]}],"grid-cols":[{"grid-cols":[y0]}],"col-start-end":[{col:["auto",{span:["full",x0,Wt]},Wt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[y0]}],"row-start-end":[{row:["auto",{span:[x0,Wt]},Wt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wt,r]}],"min-w":[{"min-w":[Wt,r,"min","max","fit"]}],"max-w":[{"max-w":[Wt,r,"none","full","min","max","fit","prose",{screen:[$c]},$c]}],h:[{h:[Wt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",$c,Lc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lk]}],"font-family":[{font:[y0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wt]}],"line-clamp":[{"line-clamp":["none",rm,lk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$l,Wt]}],"list-image":[{"list-image":["none",Wt]}],"list-style-type":[{list:["none","disc","decimal",Wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$l,Lc]}],"underline-offset":[{"underline-offset":["auto",$l,Wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),hoe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",foe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},poe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[$l,Wt]}],"outline-w":[{outline:[$l,Lc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[$l,Lc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$c,goe]}],"shadow-color":[{shadow:[y0]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",$c,Wt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wt]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Wt]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[x0,Wt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$l,Lc,lk]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},boe=roe(woe);function ve(...e){return boe(Bt(e))}const _oe={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12","2xl":"h-16 w-16"};function zi({message:e="Loading...",className:r="",size:n="xl",fullScreen:a=!1,showProgress:s=!1,progress:i=0}){const o=l.jsxs("div",{className:ve("flex flex-col items-center justify-center space-y-4",a?"min-h-screen":"",r),children:[l.jsx(I_,{className:ve("animate-spin text-primary",_oe[n])}),s&&l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${i}%`}})}),e&&!s&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium",children:e}),e&&s&&l.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:e})]});return a?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:o}):o}const Ay=({children:e,allowedRoles:r,requireAuth:n=!0,denyPermissionIds:a=[]})=>{var h,m;const s=Al(),{user:i,loading:o,hasRole:c}=Sr(),u=y.useMemo(()=>r?c(r):!0,[r,c]);if(y.useMemo(()=>({loading:o,user:i?{id:i.id,email:i.email,role:i.role}:null,hasRequiredRole:u}),[o,i,u]),console.log("[ProtectedRoute]",{path:s.pathname,loading:o,hasUser:!!i,requireAuth:n,hasRequiredRole:u,userRole:i==null?void 0:i.role}),o)return console.log("[ProtectedRoute] Showing loading spinner"),l.jsx(zi,{size:"xl",fullScreen:!0});if(n&&!i)return console.log("[ProtectedRoute] No user, redirecting to login"),l.jsx(P1,{to:"/login",state:{from:s},replace:!0});const d=(i==null?void 0:i.permissions)||((h=i==null?void 0:i.profile)==null?void 0:h.permissions)||((m=i==null?void 0:i.profile)==null?void 0:m.permissions_ID),f=d!=null?Number(d):NaN;return a.length>0&&!Number.isNaN(f)&&a.includes(f)?(console.log("[ProtectedRoute] User permission denied:",f),l.jsx(P1,{to:"/unauthorized",replace:!0})):r&&!u?(console.log("[ProtectedRoute] User does not have required role"),l.jsx(P1,{to:"/unauthorized",replace:!0})):(console.log("[ProtectedRoute] Rendering protected content"),l.jsx(l.Fragment,{children:e}))};function jI(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function mc(...e){return r=>{let n=!1;const a=e.map(s=>{const i=jI(s,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():jI(e[s],null)}}}}function Ht(...e){return y.useCallback(mc(...e),e)}function Fu(e){const r=Soe(e),n=y.forwardRef((a,s)=>{const{children:i,...o}=a,c=y.Children.toArray(i),u=c.find(koe);if(u){const d=u.props.children,f=c.map(h=>h===u?y.Children.count(d)>1?y.Children.only(null):y.isValidElement(d)?d.props.children:null:h);return l.jsx(r,{...o,ref:s,children:y.isValidElement(d)?y.cloneElement(d,void 0,f):null})}return l.jsx(r,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var c9=Fu("Slot");function Soe(e){const r=y.forwardRef((n,a)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=Eoe(s),c=Noe(i,s.props);return s.type!==y.Fragment&&(c.ref=a?mc(a,o):o),y.cloneElement(s,c)}return y.Children.count(s)>1?y.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var u9=Symbol("radix.slottable");function joe(e){const r=({children:n})=>l.jsx(l.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=u9,r}function koe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===u9}function Noe(e,r){const n={...r};for(const a in r){const s=e[a],i=r[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...c)=>{const u=i(...c);return s(...c),u}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function Eoe(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const kI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,NI=Bt,px=(e,r)=>n=>{var a;if((r==null?void 0:r.variants)==null)return NI(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=r,o=Object.keys(s).map(d=>{const f=n==null?void 0:n[d],h=i==null?void 0:i[d];if(f===null)return null;const m=kI(f)||kI(h);return s[d][m]}),c=n&&Object.entries(n).reduce((d,f)=>{let[h,m]=f;return m===void 0||(d[h]=m),d},{}),u=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((d,f)=>{let{class:h,className:m,...p}=f;return Object.entries(p).every(v=>{let[g,x]=v;return Array.isArray(x)?x.includes({...i,...c}[g]):{...i,...c}[g]===x})?[...d,h,m]:d},[]);return NI(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},$m=px("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=y.forwardRef(({className:e,variant:r,size:n,asChild:a=!1,...s},i)=>{const o=a?c9:"button";return l.jsx(o,{className:ve($m({variant:r,size:n,className:e})),ref:i,...s})});ue.displayName="Button";const He=y.forwardRef(({className:e,type:r,...n},a)=>l.jsx("input",{type:r,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...n}));He.displayName="Input";var Coe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dt=Coe.reduce((e,r)=>{const n=Fu(`Primitive.${r}`),a=y.forwardRef((s,i)=>{const{asChild:o,...c}=s,u=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...c,ref:i})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{});function d9(e,r){e&&Tp.flushSync(()=>e.dispatchEvent(r))}var Toe="Label",f9=y.forwardRef((e,r)=>l.jsx(dt.label,{...e,ref:r,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f9.displayName=Toe;var h9=f9;const Aoe=px("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ge=y.forwardRef(({className:e,...r},n)=>l.jsx(h9,{ref:n,className:ve(Aoe(),e),...r}));Ge.displayName=h9.displayName;const ot=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));ot.displayName="Card";const Xt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("flex flex-col space-y-1.5 p-6",e),...r}));Xt.displayName="CardHeader";const br=y.forwardRef(({className:e,...r},n)=>l.jsx("h3",{ref:n,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...r}));br.displayName="CardTitle";const m9=y.forwardRef(({className:e,...r},n)=>l.jsx("p",{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));m9.displayName="CardDescription";const xt=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("p-6 pt-0",e),...r}));xt.displayName="CardContent";const p9=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("flex items-center p-6 pt-0",e),...r}));p9.displayName="CardFooter";const Ooe=1,Poe=1e6;let ck=0;function Doe(){return ck=(ck+1)%Number.MAX_SAFE_INTEGER,ck.toString()}const uk=new Map,EI=e=>{if(uk.has(e))return;const r=setTimeout(()=>{uk.delete(e),dg({type:"REMOVE_TOAST",toastId:e})},Poe);uk.set(e,r)},Roe=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,Ooe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===r.toast.id?{...n,...r.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=r;return n?EI(n):e.toasts.forEach(a=>{EI(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==r.toastId)}}},R1=[];let I1={toasts:[]};function dg(e){I1=Roe(I1,e),R1.forEach(r=>{r(I1)})}function Ioe({...e}){const r=Doe(),n=s=>dg({type:"UPDATE_TOAST",toast:{...s,id:r}}),a=()=>dg({type:"DISMISS_TOAST",toastId:r});return dg({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:s=>{s||a()}}}),{id:r,dismiss:a,update:n}}function Ol(){const[e,r]=y.useState(I1);return y.useEffect(()=>(R1.push(r),()=>{const n=R1.indexOf(r);n>-1&&R1.splice(n,1)}),[e]),{...e,toast:Ioe,dismiss:n=>dg({type:"DISMISS_TOAST",toastId:n})}}const Moe=()=>{var x,b;const[e,r]=y.useState(""),[n,a]=y.useState(""),[s,i]=y.useState("crmdb"),[o,c]=y.useState(!1),{login:u}=Sr(),d=zs(),f=Al(),{t:h}=Kt(),{isRTL:m}=ms(),{toast:p}=Ol(),v=((b=(x=f.state)==null?void 0:x.from)==null?void 0:b.pathname)||"/dashboard",g=async w=>{if(w.preventDefault(),!e||!n){p({title:h("common.error","Error"),description:h("validation.fillAllFields","Please fill in all fields"),variant:"destructive"});return}c(!0);try{const _=await G.auth.login({email:e,password:n,company_code:s});if(_.serviceToken&&_.user)await u(_.serviceToken,_.user),p({title:h("common.success","Success"),description:h("auth.loginSuccess","Logged in successfully")}),d(v,{replace:!0});else throw new Error("Invalid response from server")}catch(_){console.error("Login error:",_);let S=h("auth.loginFailed","Failed to login. Please check your credentials.");_.message&&!_.message.includes("Unexpected token")&&(S=_.message),p({title:h("auth.loginFailedTitle","Login Failed"),description:S,variant:"destructive"})}finally{c(!1)}};return l.jsxs(ot,{className:`w-full max-w-md ${m?"text-right":"text-left"}`,dir:m?"rtl":"ltr",children:[l.jsxs(Xt,{children:[l.jsx(br,{className:"text-2xl text-center",children:h("auth.signIn","Login")}),l.jsx(m9,{className:"text-center",children:h("auth.enterCredentials","Enter your credentials to access your account")})]}),l.jsxs("form",{onSubmit:g,children:[l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"email",children:h("auth.emailOrUsername","Email / Username")}),l.jsx(He,{id:"email",type:"text",placeholder:h("auth.enterEmail","Enter your email"),value:e,onChange:w=>r(w.target.value),disabled:o,className:m?"text-right":"text-left"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"password",children:h("forms.password","Password")}),l.jsx(He,{id:"password",type:"password",placeholder:h("auth.enterPassword","Enter your password"),value:n,onChange:w=>a(w.target.value),disabled:o,className:m?"text-right":"text-left"})]})]}),l.jsx(p9,{className:"flex flex-col space-y-4",children:l.jsx(ue,{type:"submit",className:"w-full",disabled:o,children:o?h("auth.signingIn","Logging in..."):h("auth.signInButton","Login")})})]})]})},Foe=()=>{const[e,r]=y.useState(!1);Sr();const n=zs(),{t:a}=Kt();return l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-3xl font-bold",children:a("auth.createAccount")}),l.jsx("p",{className:"text-muted-foreground mt-2",children:a("auth.signUpToGetStarted")})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.chooseAccountTypeSignUp")}),e&&l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:a("auth.redirectingToGoogle")})]}),l.jsxs("div",{className:"text-center text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[a("auth.alreadyHaveAccount")," "]}),l.jsx(ue,{variant:"link",className:"p-0",onClick:()=>n("/login"),children:a("auth.signIn")})]})]})},g9=y.createContext(void 0),Loe=({children:e})=>{const[r,n]=y.useState(()=>localStorage.getItem("crm_company_name")||"Middar CRM"),[a,s]=y.useState(()=>localStorage.getItem("crm_primary_color")||"#2563eb"),[i,o]=y.useState(()=>localStorage.getItem("crm_logo_url")||""),c=m=>{n(m),localStorage.setItem("crm_company_name",m)},u=m=>{s(m),localStorage.setItem("crm_primary_color",m),f(m)},d=m=>{o(m),localStorage.setItem("crm_logo_url",m)},f=m=>{const p=h(m);p&&(document.documentElement.style.setProperty("--primary",`${p.h} ${p.s}% ${p.l}%`),document.documentElement.style.setProperty("--ring",`${p.h} ${p.s}% ${p.l}%`))};function h(m){let p=0,v=0,g=0;m.length===4?(p=parseInt(m[1]+m[1],16),v=parseInt(m[2]+m[2],16),g=parseInt(m[3]+m[3],16)):m.length===7&&(p=parseInt(m.substring(1,3),16),v=parseInt(m.substring(3,5),16),g=parseInt(m.substring(5,7),16)),p/=255,v/=255,g/=255;const x=Math.max(p,v,g),b=Math.min(p,v,g);let w=0,_,S=(x+b)/2;if(x===b)w=_=0;else{const j=x-b;switch(_=S>.5?j/(2-x-b):j/(x+b),x){case p:w=(v-g)/j+(v<g?6:0);break;case v:w=(g-p)/j+2;break;case g:w=(p-v)/j+4;break}w/=6}return{h:Math.round(w*360),s:Math.round(_*100),l:Math.round(S*100)}}return y.useEffect(()=>{f(a)},[]),l.jsx(g9.Provider,{value:{companyName:r,setCompanyName:c,primaryColor:a,setPrimaryColor:u,logoUrl:i,setLogoUrl:d},children:e})},v9=()=>{const e=y.useContext(g9);if(e===void 0)throw new Error("useSettings must be used within a SettingsProvider");return e};function $oe(e,r){const n=y.createContext(r),a=i=>{const{children:o,...c}=i,u=y.useMemo(()=>c,Object.values(c));return l.jsx(n.Provider,{value:u,children:o})};a.displayName=e+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function ps(e,r=[]){let n=[];function a(i,o){const c=y.createContext(o),u=n.length;n=[...n,o];const d=h=>{var b;const{scope:m,children:p,...v}=h,g=((b=m==null?void 0:m[e])==null?void 0:b[u])||c,x=y.useMemo(()=>v,Object.values(v));return l.jsx(g.Provider,{value:x,children:p})};d.displayName=i+"Provider";function f(h,m){var g;const p=((g=m==null?void 0:m[e])==null?void 0:g[u])||c,v=y.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(c){const u=(c==null?void 0:c[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return s.scopeName=e,[a,Boe(s,...r)]}function Boe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((c,{useScope:u,scopeName:d})=>{const h=u(i)[`__scope${d}`];return{...c,...h}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function Jn(e){const r=y.useRef(e);return y.useEffect(()=>{r.current=e}),y.useMemo(()=>(...n)=>{var a;return(a=r.current)==null?void 0:a.call(r,...n)},[])}var Pn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{};function Uoe(){return CU.useSyncExternalStore(Voe,()=>!0,()=>!1)}function Voe(){return()=>{}}var FA="Avatar",[zoe,mXe]=ps(FA),[Woe,x9]=zoe(FA),y9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,...a}=e,[s,i]=y.useState("idle");return l.jsx(Woe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(dt.span,{...a,ref:r})})});y9.displayName=FA;var w9="AvatarImage",b9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=x9(w9,n),c=Hoe(a,i),u=Jn(d=>{s(d),o.onImageLoadingStatusChange(d)});return Pn(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?l.jsx(dt.img,{...i,ref:r,src:a}):null});b9.displayName=w9;var _9="AvatarFallback",S9=y.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:a,...s}=e,i=x9(_9,n),[o,c]=y.useState(a===void 0);return y.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(u)}},[a]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(dt.span,{...s,ref:r}):null});S9.displayName=_9;function CI(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Hoe(e,{referrerPolicy:r,crossOrigin:n}){const a=Uoe(),s=y.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,c]=y.useState(()=>CI(i,e));return Pn(()=>{c(CI(i,e))},[i,e]),Pn(()=>{const u=h=>()=>{c(h)};if(!i)return;const d=u("loaded"),f=u("error");return i.addEventListener("load",d),i.addEventListener("error",f),r&&(i.referrerPolicy=r),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",f)}},[i,n,r]),o}var j9=y9,k9=b9,N9=S9;const Rs=y.forwardRef(({className:e,...r},n)=>l.jsx(j9,{ref:n,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));Rs.displayName=j9.displayName;const Po=y.forwardRef(({className:e,...r},n)=>l.jsx(k9,{ref:n,className:ve("aspect-square h-full w-full",e),...r}));Po.displayName=k9.displayName;const Is=y.forwardRef(({className:e,...r},n)=>l.jsx(N9,{ref:n,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));Is.displayName=N9.displayName;const qoe=[{label:"main",items:[{labelKey:"navigation.dashboard",path:"/dashboard",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Tie},{labelKey:"navigation.clientPortal",path:"/client-portal",roles:["client"],icon:Eie},{labelKey:"navigation.surveys",path:"/surveys",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pi}]},{label:"sales",items:[{labelKey:"navigation.leads",path:"/leads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Ra},{labelKey:"navigation.masterLeads",path:"/mleads",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:En},{labelKey:"navigation.projects",path:"/projects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ef},{labelKey:"mprojects.masterProjects",path:"/mprojects",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:En}]},{label:"work",items:[{labelKey:"navigation.tasks",path:"/tasks",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:ug},{labelKey:"navigation.tickets",path:"/tickets",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:xh},{labelKey:"navigation.requests",path:"/requests",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Pi}]},{label:"communication",items:[{labelKey:"WhatsApp",path:"/whatsapp",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Mu},{labelKey:"navigation.chats",path:"/chats",roles:["admin","manager","employee","team_leader","partner","partner_employee","client"],icon:Mu},{labelKey:"navigation.teams",path:"/teams",roles:["admin","manager","employee","team_leader","partner","partner_employee"],icon:Sw}]},{label:"system",items:[{labelKey:"navigation.users",path:"/users",roles:["admin"],icon:Bie},{labelKey:"navigation.settings",path:"/settings",roles:["admin"],icon:e9},{labelKey:"navigation.permissions",path:"/permissions",roles:["admin"],icon:Sw}]}];function TI({onNavigate:e}={}){var u,d,f,h,m;const r=Al(),{user:n}=Sr(),{t:a}=Kt(),{companyName:s}=v9(),i=((u=n==null?void 0:n.profile)==null?void 0:u.permissions)??((d=n==null?void 0:n.profile)==null?void 0:d.permissions_ID)??(n==null?void 0:n.permissions)??(n==null?void 0:n.permissions_ID),o=i!=null?Number(i):NaN,c=[3,4,5,6].includes(o);return l.jsxs("div",{className:"h-full w-full bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95 border-r border-sidebar-border/50 flex flex-col shadow-xl",children:[l.jsx("div",{className:"p-6 border-b border-sidebar-border/30 bg-gradient-to-r from-primary/5 via-primary/3 to-transparent",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary to-primary/80 shadow-lg flex items-center justify-center ring-2 ring-primary/20",children:l.jsx(En,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight",children:s}),l.jsx("p",{className:"text-xs text-sidebar-foreground/60",children:"CRM System"})]})]})}),l.jsx("div",{className:"flex-1 px-4 py-6 overflow-y-auto",children:l.jsx("nav",{className:"space-y-6",children:qoe.map(p=>{if(p.label==="system"&&c)return null;let v=p.items;if(c){const g=new Set(["/users","/permissions","/settings"]);v=v.filter(x=>!g.has(x.path))}return v.length===0?null:l.jsxs("div",{children:[l.jsx("h3",{className:"px-3 mb-2 text-xs font-semibold text-sidebar-foreground/50 uppercase tracking-wider",children:a(`navigation.${p.label} Group`,p.label)}),l.jsx("div",{className:"space-y-1",children:v.map(g=>{const x=r.pathname===g.path,b=g.icon;return l.jsxs(U2,{to:g.path,onClick:w=>{x&&w.preventDefault(),e==null||e()},className:ve("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 group relative overflow-hidden",x?"bg-gradient-to-r from-primary to-primary/90 text-white shadow-lg shadow-primary/25 translate-x-1":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:translate-x-0.5"),children:[x&&l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-transparent"}),l.jsx(b,{className:ve("h-4 w-4 transition-transform group-hover:scale-110 relative z-10",x?"text-white":"text-sidebar-foreground/50 group-hover:text-sidebar-accent-foreground")}),l.jsx("span",{className:"flex-1 relative z-10",children:a(g.labelKey)})]},g.path)})})]},p.label)})})}),l.jsx("div",{className:"p-4 border-t border-sidebar-border/50 bg-sidebar-accent/30",children:l.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gradient-to-r from-sidebar-accent/50 to-transparent hover:from-sidebar-accent hover:shadow-md transition-all cursor-pointer group",children:[l.jsx(Rs,{className:"h-10 w-10 ring-2 ring-primary/20 transition-all group-hover:ring-primary/40",children:l.jsx(Is,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-bold",children:(f=n==null?void 0:n.email)==null?void 0:f.charAt(0).toUpperCase()})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-semibold text-sidebar-foreground truncate",children:((h=n==null?void 0:n.profile)==null?void 0:h.name)||(n==null?void 0:n.email)}),l.jsxs("p",{className:"text-xs text-sidebar-foreground/60 capitalize flex items-center gap-1.5",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse shadow-lg shadow-green-500/50"}),(m=n==null?void 0:n.role)==null?void 0:m.replace("_"," ")]})]}),l.jsx(P_,{className:"h-4 w-4 text-sidebar-foreground/30 group-hover:text-sidebar-foreground/60 transition-colors"})]})})]})}function Koe(){const e=Al(),{t:r}=Kt(),n=e.pathname.split("/").filter(i=>i);if(n.length===0)return null;const a={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",mleads:"navigation.masterLeads",mprojects:"mprojects.masterProjects",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee"},s=i=>a[i]?r(a[i]):/^\d+$/.test(i)||i.length>20?i:i.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return l.jsxs("nav",{className:"flex items-center text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[l.jsx(U2,{to:"/",className:"hover:text-foreground transition-colors",children:r("navigation.home")}),n.map((i,o)=>{const c=`/${n.slice(0,o+1).join("/")}`,u=o===n.length-1,d=s(i);return l.jsxs("div",{className:"flex items-center",children:[l.jsx(P_,{className:"h-4 w-4 mx-2 text-muted-foreground rtl:rotate-180"}),u?l.jsx("span",{className:"text-foreground font-medium",children:d}):l.jsx(U2,{to:c,className:"hover:text-foreground transition-colors",children:d})]},i)})]})}function G2(e,[r,n]){return Math.min(n,Math.max(r,e))}function rt(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return r==null?void 0:r(s)}}function LA(e){const r=e+"CollectionProvider",[n,a]=ps(r),[s,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:b}=g,w=ne.useRef(null),_=ne.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:_,collectionRef:w,children:b})};o.displayName=r;const c=e+"CollectionSlot",u=Fu(c),d=ne.forwardRef((g,x)=>{const{scope:b,children:w}=g,_=i(c,b),S=Ht(x,_.collectionRef);return l.jsx(u,{ref:S,children:w})});d.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",m=Fu(f),p=ne.forwardRef((g,x)=>{const{scope:b,children:w,..._}=g,S=ne.useRef(null),j=Ht(x,S),N=i(f,b);return ne.useEffect(()=>(N.itemMap.set(S,{ref:S,..._}),()=>void N.itemMap.delete(S))),l.jsx(m,{[h]:"",ref:j,children:w})});p.displayName=f;function v(g){const x=i(e+"CollectionConsumer",g);return ne.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((N,k)=>_.indexOf(N.ref.current)-_.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},v,a]}var Goe=y.createContext(void 0);function gx(e){const r=y.useContext(Goe);return e||r||"ltr"}function Yoe(e,r=globalThis==null?void 0:globalThis.document){const n=Jn(e);y.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[n,r])}var Xoe="DismissableLayer",Y2="dismissableLayer.update",Joe="dismissableLayer.pointerDownOutside",Qoe="dismissableLayer.focusOutside",AI,E9=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vx=y.forwardRef((e,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...u}=e,d=y.useContext(E9),[f,h]=y.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),v=Ht(r,k=>h(k)),g=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(x),w=f?g.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,j=tle(k=>{const C=k.target,E=[...d.branches].some(P=>P.contains(C));!S||E||(s==null||s(k),o==null||o(k),k.defaultPrevented||c==null||c())},m),N=rle(k=>{const C=k.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||c==null||c())},m);return Yoe(k=>{w===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},m),y.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(AI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),OI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=AI)}},[f,m,n,d]),y.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),OI())},[f,d]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(Y2,k),()=>document.removeEventListener(Y2,k)},[]),l.jsx(dt.div,{...u,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,N.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,j.onPointerDownCapture)})});vx.displayName=Xoe;var Zoe="DismissableLayerBranch",ele=y.forwardRef((e,r)=>{const n=y.useContext(E9),a=y.useRef(null),s=Ht(r,a);return y.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(dt.div,{...e,ref:s})});ele.displayName=Zoe;function tle(e,r=globalThis==null?void 0:globalThis.document){const n=Jn(e),a=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!a.current){let u=function(){C9(Joe,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.current),s.current=u,r.addEventListener("click",s.current,{once:!0})):u()}else r.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.current)}},[r,n]),{onPointerDownCapture:()=>a.current=!0}}function rle(e,r=globalThis==null?void 0:globalThis.document){const n=Jn(e),a=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!a.current&&C9(Qoe,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",s),()=>r.removeEventListener("focusin",s)},[r,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function OI(){const e=new CustomEvent(Y2);document.dispatchEvent(e)}function C9(e,r,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});r&&s.addEventListener(e,r,{once:!0}),a?d9(s,i):s.dispatchEvent(i)}var dk=0;function M_(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PI()),document.body.insertAdjacentElement("beforeend",e[1]??PI()),dk++,()=>{dk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),dk--}},[])}function PI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fk="focusScope.autoFocusOnMount",hk="focusScope.autoFocusOnUnmount",DI={bubbles:!1,cancelable:!0},nle="FocusScope",xx=y.forwardRef((e,r)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[c,u]=y.useState(null),d=Jn(s),f=Jn(i),h=y.useRef(null),m=Ht(r,g=>u(g)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let g=function(_){if(p.paused||!c)return;const S=_.target;c.contains(S)?h.current=S:zc(h.current,{select:!0})},x=function(_){if(p.paused||!c)return;const S=_.relatedTarget;S!==null&&(c.contains(S)||zc(h.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&zc(c)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const w=new MutationObserver(b);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),w.disconnect()}}},[a,c,p.paused]),y.useEffect(()=>{if(c){II.add(p);const g=document.activeElement;if(!c.contains(g)){const b=new CustomEvent(fk,DI);c.addEventListener(fk,d),c.dispatchEvent(b),b.defaultPrevented||(ale(cle(T9(c)),{select:!0}),document.activeElement===g&&zc(c))}return()=>{c.removeEventListener(fk,d),setTimeout(()=>{const b=new CustomEvent(hk,DI);c.addEventListener(hk,f),c.dispatchEvent(b),b.defaultPrevented||zc(g??document.body,{select:!0}),c.removeEventListener(hk,f),II.remove(p)},0)}}},[c,d,f,p]);const v=y.useCallback(g=>{if(!n&&!a||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(x&&b){const w=g.currentTarget,[_,S]=sle(w);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&zc(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&zc(S,{select:!0})):b===w&&g.preventDefault()}},[n,a,p.paused]);return l.jsx(dt.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});xx.displayName=nle;function ale(e,{select:r=!1}={}){const n=document.activeElement;for(const a of e)if(zc(a,{select:r}),document.activeElement!==n)return}function sle(e){const r=T9(e),n=RI(r,e),a=RI(r.reverse(),e);return[n,a]}function T9(e){const r=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function RI(e,r){for(const n of e)if(!ile(n,{upTo:r}))return n}function ile(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ole(e){return e instanceof HTMLInputElement&&"select"in e}function zc(e,{select:r=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ole(e)&&r&&e.select()}}var II=lle();function lle(){let e=[];return{add(r){const n=e[0];r!==n&&(n==null||n.pause()),e=MI(e,r),e.unshift(r)},remove(r){var n;e=MI(e,r),(n=e[0])==null||n.resume()}}}function MI(e,r){const n=[...e],a=n.indexOf(r);return a!==-1&&n.splice(a,1),n}function cle(e){return e.filter(r=>r.tagName!=="A")}var ule=NT[" useId ".trim().toString()]||(()=>{}),dle=0;function ua(e){const[r,n]=y.useState(ule());return Pn(()=>{n(a=>a??String(dle++))},[e]),r?`radix-${r}`:""}const fle=["top","right","bottom","left"],Lu=Math.min,Qs=Math.max,kw=Math.round,Oy=Math.floor,ml=e=>({x:e,y:e}),hle={left:"right",right:"left",bottom:"top",top:"bottom"},mle={start:"end",end:"start"};function X2(e,r,n){return Qs(e,Lu(r,n))}function pc(e,r){return typeof e=="function"?e(r):e}function gc(e){return e.split("-")[0]}function Dp(e){return e.split("-")[1]}function $A(e){return e==="x"?"y":"x"}function BA(e){return e==="y"?"height":"width"}const ple=new Set(["top","bottom"]);function cl(e){return ple.has(gc(e))?"y":"x"}function UA(e){return $A(cl(e))}function gle(e,r,n){n===void 0&&(n=!1);const a=Dp(e),s=UA(e),i=BA(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=Nw(o)),[o,Nw(o)]}function vle(e){const r=Nw(e);return[J2(e),r,J2(r)]}function J2(e){return e.replace(/start|end/g,r=>mle[r])}const FI=["left","right"],LI=["right","left"],xle=["top","bottom"],yle=["bottom","top"];function wle(e,r,n){switch(e){case"top":case"bottom":return n?r?LI:FI:r?FI:LI;case"left":case"right":return r?xle:yle;default:return[]}}function ble(e,r,n,a){const s=Dp(e);let i=wle(gc(e),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),r&&(i=i.concat(i.map(J2)))),i}function Nw(e){return e.replace(/left|right|bottom|top/g,r=>hle[r])}function _le(e){return{top:0,right:0,bottom:0,left:0,...e}}function A9(e){return typeof e!="number"?_le(e):{top:e,right:e,bottom:e,left:e}}function Ew(e){const{x:r,y:n,width:a,height:s}=e;return{width:a,height:s,top:n,left:r,right:r+a,bottom:n+s,x:r,y:n}}function $I(e,r,n){let{reference:a,floating:s}=e;const i=cl(r),o=UA(r),c=BA(o),u=gc(r),d=i==="y",f=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,m=a[c]/2-s[c]/2;let p;switch(u){case"top":p={x:f,y:a.y-s.height};break;case"bottom":p={x:f,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:h};break;case"left":p={x:a.x-s.width,y:h};break;default:p={x:a.x,y:a.y}}switch(Dp(r)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const Sle=async(e,r,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,c=i.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(r));let d=await o.getElementRects({reference:e,floating:r,strategy:s}),{x:f,y:h}=$I(d,a,u),m=a,p={},v=0;for(let g=0;g<c.length;g++){const{name:x,fn:b}=c[g],{x:w,y:_,data:S,reset:j}=await b({x:f,y:h,initialPlacement:a,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:r}});f=w??f,h=_??h,p={...p,[x]:{...p[x],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:e,floating:r,strategy:s}):j.rects),{x:f,y:h}=$I(d,m,u)),g=-1)}return{x:f,y:h,placement:m,strategy:s,middlewareData:p}};async function nv(e,r){var n;r===void 0&&(r={});const{x:a,y:s,platform:i,rects:o,elements:c,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=pc(r,e),v=A9(p),x=c[m?h==="floating"?"reference":"floating":h],b=Ew(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:u})),w=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},j=Ew(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:w,offsetParent:_,strategy:u}):w);return{top:(b.top-j.top+v.top)/S.y,bottom:(j.bottom-b.bottom+v.bottom)/S.y,left:(b.left-j.left+v.left)/S.x,right:(j.right-b.right+v.right)/S.x}}const jle=e=>({name:"arrow",options:e,async fn(r){const{x:n,y:a,placement:s,rects:i,platform:o,elements:c,middlewareData:u}=r,{element:d,padding:f=0}=pc(e,r)||{};if(d==null)return{};const h=A9(f),m={x:n,y:a},p=UA(s),v=BA(p),g=await o.getDimensions(d),x=p==="y",b=x?"top":"left",w=x?"bottom":"right",_=x?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-m[p]-i.floating[v],j=m[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=N?N[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=c.floating[_]||i.floating[v]);const C=S/2-j/2,E=k/2-g[v]/2-1,P=Lu(h[b],E),I=Lu(h[w],E),T=P,U=k-g[v]-I,H=k/2-g[v]/2+C,F=X2(T,H,U),M=!u.arrow&&Dp(s)!=null&&H!==F&&i.reference[v]/2-(H<T?P:I)-g[v]/2<0,z=M?H<T?H-T:H-U:0;return{[p]:m[p]+z,data:{[p]:F,centerOffset:H-F-z,...M&&{alignmentOffset:z}},reset:M}}}),kle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:c,platform:u,elements:d}=r,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...x}=pc(e,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=gc(s),w=cl(c),_=gc(c)===c,S=await(u.isRTL==null?void 0:u.isRTL(d.floating)),j=m||(_||!g?[Nw(c)]:vle(c)),N=v!=="none";!m&&N&&j.push(...ble(c,g,v,S));const k=[c,...j],C=await nv(r,x),E=[];let P=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&E.push(C[b]),h){const H=gle(s,o,S);E.push(C[H[0]],C[H[1]])}if(P=[...P,{placement:s,overflows:E}],!E.every(H=>H<=0)){var I,T;const H=(((I=i.flip)==null?void 0:I.index)||0)+1,F=k[H];if(F&&(!(h==="alignment"?w!==cl(F):!1)||P.every(L=>L.overflows[0]>0&&cl(L.placement)===w)))return{data:{index:H,overflows:P},reset:{placement:F}};let M=(T=P.filter(z=>z.overflows[0]<=0).sort((z,L)=>z.overflows[1]-L.overflows[1])[0])==null?void 0:T.placement;if(!M)switch(p){case"bestFit":{var U;const z=(U=P.filter(L=>{if(N){const R=cl(L.placement);return R===w||R==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(R=>R>0).reduce((R,J)=>R+J,0)]).sort((L,R)=>L[1]-R[1])[0])==null?void 0:U[0];z&&(M=z);break}case"initialPlacement":M=c;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function BI(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function UI(e){return fle.some(r=>e[r]>=0)}const Nle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:n}=r,{strategy:a="referenceHidden",...s}=pc(e,r);switch(a){case"referenceHidden":{const i=await nv(r,{...s,elementContext:"reference"}),o=BI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:UI(o)}}}case"escaped":{const i=await nv(r,{...s,altBoundary:!0}),o=BI(i,n.floating);return{data:{escapedOffsets:o,escaped:UI(o)}}}default:return{}}}}},O9=new Set(["left","top"]);async function Ele(e,r){const{placement:n,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=gc(n),c=Dp(n),u=cl(n)==="y",d=O9.has(o)?-1:1,f=i&&u?-1:1,h=pc(r,e);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),u?{x:p*f,y:m*d}:{x:m*d,y:p*f}}const Cle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var n,a;const{x:s,y:i,placement:o,middlewareData:c}=r,u=await Ele(r,e);return o===((n=c.offset)==null?void 0:n.placement)&&(a=c.arrow)!=null&&a.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:o}}}}},Tle=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:n,y:a,placement:s}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...u}=pc(e,r),d={x:n,y:a},f=await nv(r,u),h=cl(gc(s)),m=$A(h);let p=d[m],v=d[h];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+f[x],_=p-f[b];p=X2(w,p,_)}if(o){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=v+f[x],_=v-f[b];v=X2(w,v,_)}const g=c.fn({...r,[m]:p,[h]:v});return{...g,data:{x:g.x-n,y:g.y-a,enabled:{[m]:i,[h]:o}}}}}},Ale=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=r,{offset:c=0,mainAxis:u=!0,crossAxis:d=!0}=pc(e,r),f={x:n,y:a},h=cl(s),m=$A(h);let p=f[m],v=f[h];const g=pc(c,r),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const _=m==="y"?"height":"width",S=i.reference[m]-i.floating[_]+x.mainAxis,j=i.reference[m]+i.reference[_]-x.mainAxis;p<S?p=S:p>j&&(p=j)}if(d){var b,w;const _=m==="y"?"width":"height",S=O9.has(gc(s)),j=i.reference[h]-i.floating[_]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:x.crossAxis),N=i.reference[h]+i.reference[_]+(S?0:((w=o.offset)==null?void 0:w[h])||0)-(S?x.crossAxis:0);v<j?v=j:v>N&&(v=N)}return{[m]:p,[h]:v}}}},Ole=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var n,a;const{placement:s,rects:i,platform:o,elements:c}=r,{apply:u=()=>{},...d}=pc(e,r),f=await nv(r,d),h=gc(s),m=Dp(s),p=cl(s)==="y",{width:v,height:g}=i.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=h,x=m==="end"?"top":"bottom");const w=g-f.top-f.bottom,_=v-f.left-f.right,S=Lu(g-f[x],w),j=Lu(v-f[b],_),N=!r.middlewareData.shift;let k=S,C=j;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&(C=_),(a=r.middlewareData.shift)!=null&&a.enabled.y&&(k=w),N&&!m){const P=Qs(f.left,0),I=Qs(f.right,0),T=Qs(f.top,0),U=Qs(f.bottom,0);p?C=v-2*(P!==0||I!==0?P+I:Qs(f.left,f.right)):k=g-2*(T!==0||U!==0?T+U:Qs(f.top,f.bottom))}await u({...r,availableWidth:C,availableHeight:k});const E=await o.getDimensions(c.floating);return v!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function F_(){return typeof window<"u"}function Rp(e){return P9(e)?(e.nodeName||"").toLowerCase():"#document"}function li(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Pl(e){var r;return(r=(P9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function P9(e){return F_()?e instanceof Node||e instanceof li(e).Node:!1}function Do(e){return F_()?e instanceof Element||e instanceof li(e).Element:!1}function _l(e){return F_()?e instanceof HTMLElement||e instanceof li(e).HTMLElement:!1}function VI(e){return!F_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof li(e).ShadowRoot}const Ple=new Set(["inline","contents"]);function yx(e){const{overflow:r,overflowX:n,overflowY:a,display:s}=Ro(e);return/auto|scroll|overlay|hidden|clip/.test(r+a+n)&&!Ple.has(s)}const Dle=new Set(["table","td","th"]);function Rle(e){return Dle.has(Rp(e))}const Ile=[":popover-open",":modal"];function L_(e){return Ile.some(r=>{try{return e.matches(r)}catch{return!1}})}const Mle=["transform","translate","scale","rotate","perspective"],Fle=["transform","translate","scale","rotate","perspective","filter"],Lle=["paint","layout","strict","content"];function VA(e){const r=zA(),n=Do(e)?Ro(e):e;return Mle.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||Fle.some(a=>(n.willChange||"").includes(a))||Lle.some(a=>(n.contain||"").includes(a))}function $le(e){let r=$u(e);for(;_l(r)&&!Bm(r);){if(VA(r))return r;if(L_(r))return null;r=$u(r)}return null}function zA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ble=new Set(["html","body","#document"]);function Bm(e){return Ble.has(Rp(e))}function Ro(e){return li(e).getComputedStyle(e)}function $_(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $u(e){if(Rp(e)==="html")return e;const r=e.assignedSlot||e.parentNode||VI(e)&&e.host||Pl(e);return VI(r)?r.host:r}function D9(e){const r=$u(e);return Bm(r)?e.ownerDocument?e.ownerDocument.body:e.body:_l(r)&&yx(r)?r:D9(r)}function av(e,r,n){var a;r===void 0&&(r=[]),n===void 0&&(n=!0);const s=D9(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=li(s);if(i){const c=Q2(o);return r.concat(o,o.visualViewport||[],yx(s)?s:[],c&&n?av(c):[])}return r.concat(s,av(s,[],n))}function Q2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R9(e){const r=Ro(e);let n=parseFloat(r.width)||0,a=parseFloat(r.height)||0;const s=_l(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:a,c=kw(n)!==i||kw(a)!==o;return c&&(n=i,a=o),{width:n,height:a,$:c}}function WA(e){return Do(e)?e:e.contextElement}function nm(e){const r=WA(e);if(!_l(r))return ml(1);const n=r.getBoundingClientRect(),{width:a,height:s,$:i}=R9(r);let o=(i?kw(n.width):n.width)/a,c=(i?kw(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Ule=ml(0);function I9(e){const r=li(e);return!zA()||!r.visualViewport?Ule:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Vle(e,r,n){return r===void 0&&(r=!1),!n||r&&n!==li(e)?!1:r}function gf(e,r,n,a){r===void 0&&(r=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=WA(e);let o=ml(1);r&&(a?Do(a)&&(o=nm(a)):o=nm(e));const c=Vle(i,n,a)?I9(i):ml(0);let u=(s.left+c.x)/o.x,d=(s.top+c.y)/o.y,f=s.width/o.x,h=s.height/o.y;if(i){const m=li(i),p=a&&Do(a)?li(a):a;let v=m,g=Q2(v);for(;g&&a&&p!==v;){const x=nm(g),b=g.getBoundingClientRect(),w=Ro(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,S=b.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;u*=x.x,d*=x.y,f*=x.x,h*=x.y,u+=_,d+=S,v=li(g),g=Q2(v)}}return Ew({width:f,height:h,x:u,y:d})}function HA(e,r){const n=$_(e).scrollLeft;return r?r.left+n:gf(Pl(e)).left+n}function M9(e,r,n){n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=a.left+r.scrollLeft-(n?0:HA(e,a)),i=a.top+r.scrollTop;return{x:s,y:i}}function zle(e){let{elements:r,rect:n,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Pl(a),c=r?L_(r.floating):!1;if(a===o||c&&i)return n;let u={scrollLeft:0,scrollTop:0},d=ml(1);const f=ml(0),h=_l(a);if((h||!h&&!i)&&((Rp(a)!=="body"||yx(o))&&(u=$_(a)),_l(a))){const p=gf(a);d=nm(a),f.x=p.x+a.clientLeft,f.y=p.y+a.clientTop}const m=o&&!h&&!i?M9(o,u,!0):ml(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-u.scrollTop*d.y+f.y+m.y}}function Wle(e){return Array.from(e.getClientRects())}function Hle(e){const r=Pl(e),n=$_(e),a=e.ownerDocument.body,s=Qs(r.scrollWidth,r.clientWidth,a.scrollWidth,a.clientWidth),i=Qs(r.scrollHeight,r.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+HA(e);const c=-n.scrollTop;return Ro(a).direction==="rtl"&&(o+=Qs(r.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:c}}function qle(e,r){const n=li(e),a=Pl(e),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,c=0,u=0;if(s){i=s.width,o=s.height;const d=zA();(!d||d&&r==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}return{width:i,height:o,x:c,y:u}}const Kle=new Set(["absolute","fixed"]);function Gle(e,r){const n=gf(e,!0,r==="fixed"),a=n.top+e.clientTop,s=n.left+e.clientLeft,i=_l(e)?nm(e):ml(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,u=s*i.x,d=a*i.y;return{width:o,height:c,x:u,y:d}}function zI(e,r,n){let a;if(r==="viewport")a=qle(e,n);else if(r==="document")a=Hle(Pl(e));else if(Do(r))a=Gle(r,n);else{const s=I9(e);a={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return Ew(a)}function F9(e,r){const n=$u(e);return n===r||!Do(n)||Bm(n)?!1:Ro(n).position==="fixed"||F9(n,r)}function Yle(e,r){const n=r.get(e);if(n)return n;let a=av(e,[],!1).filter(c=>Do(c)&&Rp(c)!=="body"),s=null;const i=Ro(e).position==="fixed";let o=i?$u(e):e;for(;Do(o)&&!Bm(o);){const c=Ro(o),u=VA(o);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&Kle.has(s.position)||yx(o)&&!u&&F9(e,o))?a=a.filter(f=>f!==o):s=c,o=$u(o)}return r.set(e,a),a}function Xle(e){let{element:r,boundary:n,rootBoundary:a,strategy:s}=e;const o=[...n==="clippingAncestors"?L_(r)?[]:Yle(r,this._c):[].concat(n),a],c=o[0],u=o.reduce((d,f)=>{const h=zI(r,f,s);return d.top=Qs(h.top,d.top),d.right=Lu(h.right,d.right),d.bottom=Lu(h.bottom,d.bottom),d.left=Qs(h.left,d.left),d},zI(r,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Jle(e){const{width:r,height:n}=R9(e);return{width:r,height:n}}function Qle(e,r,n){const a=_l(r),s=Pl(r),i=n==="fixed",o=gf(e,!0,i,r);let c={scrollLeft:0,scrollTop:0};const u=ml(0);function d(){u.x=HA(s)}if(a||!a&&!i)if((Rp(r)!=="body"||yx(s))&&(c=$_(r)),a){const p=gf(r,!0,i,r);u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}else s&&d();i&&!a&&s&&d();const f=s&&!a&&!i?M9(s,c):ml(0),h=o.left+c.scrollLeft-u.x-f.x,m=o.top+c.scrollTop-u.y-f.y;return{x:h,y:m,width:o.width,height:o.height}}function mk(e){return Ro(e).position==="static"}function WI(e,r){if(!_l(e)||Ro(e).position==="fixed")return null;if(r)return r(e);let n=e.offsetParent;return Pl(e)===n&&(n=n.ownerDocument.body),n}function L9(e,r){const n=li(e);if(L_(e))return n;if(!_l(e)){let s=$u(e);for(;s&&!Bm(s);){if(Do(s)&&!mk(s))return s;s=$u(s)}return n}let a=WI(e,r);for(;a&&Rle(a)&&mk(a);)a=WI(a,r);return a&&Bm(a)&&mk(a)&&!VA(a)?n:a||$le(e)||n}const Zle=async function(e){const r=this.getOffsetParent||L9,n=this.getDimensions,a=await n(e.floating);return{reference:Qle(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ece(e){return Ro(e).direction==="rtl"}const tce={convertOffsetParentRelativeRectToViewportRelativeRect:zle,getDocumentElement:Pl,getClippingRect:Xle,getOffsetParent:L9,getElementRects:Zle,getClientRects:Wle,getDimensions:Jle,getScale:nm,isElement:Do,isRTL:ece};function $9(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function rce(e,r){let n=null,a;const s=Pl(e);function i(){var c;clearTimeout(a),(c=n)==null||c.disconnect(),n=null}function o(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const d=e.getBoundingClientRect(),{left:f,top:h,width:m,height:p}=d;if(c||r(),!m||!p)return;const v=Oy(h),g=Oy(s.clientWidth-(f+m)),x=Oy(s.clientHeight-(h+p)),b=Oy(f),_={rootMargin:-v+"px "+-g+"px "+-x+"px "+-b+"px",threshold:Qs(0,Lu(1,u))||1};let S=!0;function j(N){const k=N[0].intersectionRatio;if(k!==u){if(!S)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!$9(d,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(e)}return o(!0),i}function nce(e,r,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=a,d=WA(e),f=s||i?[...d?av(d):[],...av(r)]:[];f.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&c?rce(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===d&&p&&(p.unobserve(r),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(r)})),n()}),d&&!u&&p.observe(d),p.observe(r));let v,g=u?gf(e):null;u&&x();function x(){const b=gf(e);g&&!$9(g,b)&&n(),g=b,v=requestAnimationFrame(x)}return n(),()=>{var b;f.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,u&&cancelAnimationFrame(v)}}const ace=Cle,sce=Tle,ice=kle,oce=Ole,lce=Nle,HI=jle,cce=Ale,uce=(e,r,n)=>{const a=new Map,s={platform:tce,...n},i={...s.platform,_c:a};return Sle(e,r,{...s,platform:i})};var dce=typeof document<"u",fce=function(){},M1=dce?y.useLayoutEffect:fce;function Cw(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let n,a,s;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==r.length)return!1;for(a=n;a--!==0;)if(!Cw(e[a],r[a]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!Cw(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function B9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function qI(e,r){const n=B9(e);return Math.round(r*n)/n}function pk(e){const r=y.useRef(e);return M1(()=>{r.current=e}),r}function hce(e){e===void 0&&(e={});const{placement:r="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[f,h]=y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(a);Cw(m,a)||p(a);const[v,g]=y.useState(null),[x,b]=y.useState(null),w=y.useCallback(L=>{L!==N.current&&(N.current=L,g(L))},[]),_=y.useCallback(L=>{L!==k.current&&(k.current=L,b(L))},[]),S=i||v,j=o||x,N=y.useRef(null),k=y.useRef(null),C=y.useRef(f),E=u!=null,P=pk(u),I=pk(s),T=pk(d),U=y.useCallback(()=>{if(!N.current||!k.current)return;const L={placement:r,strategy:n,middleware:m};I.current&&(L.platform=I.current),uce(N.current,k.current,L).then(R=>{const J={...R,isPositioned:T.current!==!1};H.current&&!Cw(C.current,J)&&(C.current=J,Tp.flushSync(()=>{h(J)}))})},[m,r,n,I,T]);M1(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[d]);const H=y.useRef(!1);M1(()=>(H.current=!0,()=>{H.current=!1}),[]),M1(()=>{if(S&&(N.current=S),j&&(k.current=j),S&&j){if(P.current)return P.current(S,j,U);U()}},[S,j,U,P,E]);const F=y.useMemo(()=>({reference:N,floating:k,setReference:w,setFloating:_}),[w,_]),M=y.useMemo(()=>({reference:S,floating:j}),[S,j]),z=y.useMemo(()=>{const L={position:n,left:0,top:0};if(!M.floating)return L;const R=qI(M.floating,f.x),J=qI(M.floating,f.y);return c?{...L,transform:"translate("+R+"px, "+J+"px)",...B9(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:J}},[n,c,M.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:U,refs:F,elements:M,floatingStyles:z}),[f,U,F,M,z])}const mce=e=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:a,padding:s}=typeof e=="function"?e(n):e;return a&&r(a)?a.current!=null?HI({element:a.current,padding:s}).fn(n):{}:a?HI({element:a,padding:s}).fn(n):{}}}},pce=(e,r)=>({...ace(e),options:[e,r]}),gce=(e,r)=>({...sce(e),options:[e,r]}),vce=(e,r)=>({...cce(e),options:[e,r]}),xce=(e,r)=>({...ice(e),options:[e,r]}),yce=(e,r)=>({...oce(e),options:[e,r]}),wce=(e,r)=>({...lce(e),options:[e,r]}),bce=(e,r)=>({...mce(e),options:[e,r]});var _ce="Arrow",U9=y.forwardRef((e,r)=>{const{children:n,width:a=10,height:s=5,...i}=e;return l.jsx(dt.svg,{...i,ref:r,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});U9.displayName=_ce;var Sce=U9;function qA(e){const[r,n]=y.useState(void 0);return Pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,c=d.blockSize}else o=e.offsetWidth,c=e.offsetHeight;n({width:o,height:c})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else n(void 0)},[e]),r}var KA="Popper",[V9,Ip]=ps(KA),[jce,z9]=V9(KA),W9=e=>{const{__scopePopper:r,children:n}=e,[a,s]=y.useState(null);return l.jsx(jce,{scope:r,anchor:a,onAnchorChange:s,children:n})};W9.displayName=KA;var H9="PopperAnchor",q9=y.forwardRef((e,r)=>{const{__scopePopper:n,virtualRef:a,...s}=e,i=z9(H9,n),o=y.useRef(null),c=Ht(r,o);return y.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:l.jsx(dt.div,{...s,ref:c})});q9.displayName=H9;var GA="PopperContent",[kce,Nce]=V9(GA),K9=y.forwardRef((e,r)=>{var ce,me,ie,Q,de,D;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,x=z9(GA,n),[b,w]=y.useState(null),_=Ht(r,Be=>w(Be)),[S,j]=y.useState(null),N=qA(S),k=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,E=a+(i!=="center"?"-"+i:""),P=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},I=Array.isArray(d)?d:[d],T=I.length>0,U={padding:P,boundary:I.filter(Cce),altBoundary:T},{refs:H,floatingStyles:F,placement:M,isPositioned:z,middlewareData:L}=hce({strategy:"fixed",placement:E,whileElementsMounted:(...Be)=>nce(...Be,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[pce({mainAxis:s+C,alignmentAxis:o}),u&&gce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?vce():void 0,...U}),u&&xce({...U}),yce({...U,apply:({elements:Be,rects:Le,availableWidth:Ue,availableHeight:ze})=>{const{width:De,height:mt}=Le.reference,ut=Be.floating.style;ut.setProperty("--radix-popper-available-width",`${Ue}px`),ut.setProperty("--radix-popper-available-height",`${ze}px`),ut.setProperty("--radix-popper-anchor-width",`${De}px`),ut.setProperty("--radix-popper-anchor-height",`${mt}px`)}}),S&&bce({element:S,padding:c}),Tce({arrowWidth:k,arrowHeight:C}),m&&wce({strategy:"referenceHidden",...U})]}),[R,J]=X9(M),te=Jn(v);Pn(()=>{z&&(te==null||te())},[z,te]);const A=(ce=L.arrow)==null?void 0:ce.x,X=(me=L.arrow)==null?void 0:me.y,V=((ie=L.arrow)==null?void 0:ie.centerOffset)!==0,[q,ae]=y.useState();return Pn(()=>{b&&ae(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:z?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(Q=L.transformOrigin)==null?void 0:Q.x,(de=L.transformOrigin)==null?void 0:de.y].join(" "),...((D=L.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(kce,{scope:n,placedSide:R,onArrowChange:j,arrowX:A,arrowY:X,shouldHideArrow:V,children:l.jsx(dt.div,{"data-side":R,"data-align":J,...g,ref:_,style:{...g.style,animation:z?void 0:"none"}})})})});K9.displayName=GA;var G9="PopperArrow",Ece={top:"bottom",right:"left",bottom:"top",left:"right"},Y9=y.forwardRef(function(r,n){const{__scopePopper:a,...s}=r,i=Nce(G9,a),o=Ece[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Sce,{...s,ref:n,style:{...s.style,display:"block"}})})});Y9.displayName=G9;function Cce(e){return e!==null}var Tce=e=>({name:"transformOrigin",options:e,fn(r){var x,b,w;const{placement:n,rects:a,middlewareData:s}=r,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=X9(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((b=s.arrow)==null?void 0:b.x)??0)+c/2,p=(((w=s.arrow)==null?void 0:w.y)??0)+u/2;let v="",g="";return d==="bottom"?(v=o?h:`${m}px`,g=`${-u}px`):d==="top"?(v=o?h:`${m}px`,g=`${a.floating.height+u}px`):d==="right"?(v=`${-u}px`,g=o?h:`${p}px`):d==="left"&&(v=`${a.floating.width+u}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function X9(e){const[r,n="center"]=e.split("-");return[r,n]}var YA=W9,B_=q9,XA=K9,JA=Y9,Ace="Portal",wx=y.forwardRef((e,r)=>{var c;const{container:n,...a}=e,[s,i]=y.useState(!1);Pn(()=>i(!0),[]);const o=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?lte.createPortal(l.jsx(dt.div,{...a,ref:r}),o):null});wx.displayName=Ace;var Oce=NT[" useInsertionEffect ".trim().toString()]||Pn;function vc({prop:e,defaultProp:r,onChange:n=()=>{},caller:a}){const[s,i,o]=Pce({defaultProp:r,onChange:n}),c=e!==void 0,u=c?e:s;{const f=y.useRef(e!==void 0);y.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,a])}const d=y.useCallback(f=>{var h;if(c){const m=Dce(f)?f(e):f;m!==e&&((h=o.current)==null||h.call(o,m))}else i(f)},[c,e,i,o]);return[u,d]}function Pce({defaultProp:e,onChange:r}){const[n,a]=y.useState(e),s=y.useRef(n),i=y.useRef(r);return Oce(()=>{i.current=r},[r]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,a,i]}function Dce(e){return typeof e=="function"}function QA(e){const r=y.useRef({value:e,previous:e});return y.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var J9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rce="VisuallyHidden",Ice=y.forwardRef((e,r)=>l.jsx(dt.span,{...e,ref:r,style:{...J9,...e.style}}));Ice.displayName=Rce;var Mce=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},rh=new WeakMap,Py=new WeakMap,Dy={},gk=0,Q9=function(e){return e&&(e.host||Q9(e.parentNode))},Fce=function(e,r){return r.map(function(n){if(e.contains(n))return n;var a=Q9(n);return a&&e.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lce=function(e,r,n,a){var s=Fce(r,Array.isArray(e)?e:[e]);Dy[n]||(Dy[n]=new WeakMap);var i=Dy[n],o=[],c=new Set,u=new Set(s),d=function(h){!h||c.has(h)||(c.add(h),d(h.parentNode))};s.forEach(d);var f=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(m){if(c.has(m))f(m);else try{var p=m.getAttribute(a),v=p!==null&&p!=="false",g=(rh.get(m)||0)+1,x=(i.get(m)||0)+1;rh.set(m,g),i.set(m,x),o.push(m),g===1&&v&&Py.set(m,!0),x===1&&m.setAttribute(n,"true"),v||m.setAttribute(a,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return f(r),c.clear(),gk++,function(){o.forEach(function(h){var m=rh.get(h)-1,p=i.get(h)-1;rh.set(h,m),i.set(h,p),m||(Py.has(h)||h.removeAttribute(a),Py.delete(h)),p||h.removeAttribute(n)}),gk--,gk||(rh=new WeakMap,rh=new WeakMap,Py=new WeakMap,Dy={})}},U_=function(e,r,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=Mce(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),Lce(a,s,n,"aria-hidden")):function(){return null}},Z2=function(e,r){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},Z2(e,r)};function Z9(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Z2(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Di=function(){return Di=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Di.apply(this,arguments)};function Xu(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function e7(e,r,n,a){var s=arguments.length,i=s<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,n):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,n,a);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(s<3?o(i):s>3?o(r,n,i):o(r,n))||i);return s>3&&i&&Object.defineProperty(r,n,i),i}function t7(e,r){return function(n,a){r(n,a,e)}}function r7(e,r,n,a,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=a.kind,u=c==="getter"?"get":c==="setter"?"set":"value",d=!r&&e?a.static?e:e.prototype:null,f=r||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),h,m=!1,p=n.length-1;p>=0;p--){var v={};for(var g in a)v[g]=g==="access"?{}:a[g];for(var g in a.access)v.access[g]=a.access[g];v.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var x=(0,n[p])(c==="accessor"?{get:f.get,set:f.set}:f[u],v);if(c==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(h=o(x.get))&&(f.get=h),(h=o(x.set))&&(f.set=h),(h=o(x.init))&&s.unshift(h)}else(h=o(x))&&(c==="field"?s.unshift(h):f[u]=h)}d&&Object.defineProperty(d,a.name,f),m=!0}function n7(e,r,n){for(var a=arguments.length>2,s=0;s<r.length;s++)n=a?r[s].call(e,n):r[s].call(e);return a?n:void 0}function a7(e){return typeof e=="symbol"?e:"".concat(e)}function s7(e,r,n){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function i7(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function pt(e,r,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function c(f){try{d(a.next(f))}catch(h){o(h)}}function u(f){try{d(a.throw(f))}catch(h){o(h)}}function d(f){f.done?i(f.value):s(f.value).then(c,u)}d((a=a.apply(e,r||[])).next())})}function o7(e,r){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return u([d,f])}}function u(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(e,n)}catch(f){d=[6,f],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var V_=Object.create?function(e,r,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(r,n);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,a,s)}:function(e,r,n,a){a===void 0&&(a=n),e[a]=r[n]};function l7(e,r){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n)&&V_(r,e,n)}function Tw(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function ZA(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),s,i=[],o;try{for(;(r===void 0||r-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function c7(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(ZA(arguments[r]));return e}function u7(){for(var e=0,r=0,n=arguments.length;r<n;r++)e+=arguments[r].length;for(var a=Array(e),s=0,r=0;r<n;r++)for(var i=arguments[r],o=0,c=i.length;o<c;o++,s++)a[s]=i[o];return a}function eO(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function Um(e){return this instanceof Um?(this.v=e,this):new Um(e)}function d7(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,r||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(v){return Promise.resolve(v).then(p,h)}}function c(p,v){a[p]&&(s[p]=function(g){return new Promise(function(x,b){i.push([p,g,x,b])>1||u(p,g)})},v&&(s[p]=v(s[p])))}function u(p,v){try{d(a[p](v))}catch(g){m(i[0][3],g)}}function d(p){p.value instanceof Um?Promise.resolve(p.value.v).then(f,h):m(i[0][2],p)}function f(p){u("next",p)}function h(p){u("throw",p)}function m(p,v){p(v),i.shift(),i.length&&u(i[0][0],i[0][1])}}function f7(e){var r,n;return r={},a("next"),a("throw",function(s){throw s}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(s,i){r[s]=e[s]?function(o){return(n=!n)?{value:Um(e[s](o)),done:!1}:i?i(o):o}:i}}function h7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],n;return r?r.call(e):(e=typeof Tw=="function"?Tw(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=e[i]&&function(o){return new Promise(function(c,u){o=e[i](o),s(c,u,o.done,o.value)})}}function s(i,o,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},o)}}function m7(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var $ce=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},eE=function(e){return eE=Object.getOwnPropertyNames||function(r){var n=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[n.length]=a);return n},eE(e)};function p7(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=eE(e),a=0;a<n.length;a++)n[a]!=="default"&&V_(r,e,n[a]);return $ce(r,e),r}function g7(e){return e&&e.__esModule?e:{default:e}}function v7(e,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!a:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:r.get(e)}function x7(e,r,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n}function y7(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function w7(e,r,n){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:r,dispose:a,async:n})}else n&&e.stack.push({async:!0});return r}var Bce=typeof SuppressedError=="function"?SuppressedError:function(e,r,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=r,a};function b7(e){function r(i){e.error=e.hasError?new Bce(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,a=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(o){return r(o),s()})}else a|=1}catch(o){r(o)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function _7(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,o){return a?r?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const Uce={__extends:Z9,__assign:Di,__rest:Xu,__decorate:e7,__param:t7,__esDecorate:r7,__runInitializers:n7,__propKey:a7,__setFunctionName:s7,__metadata:i7,__awaiter:pt,__generator:o7,__createBinding:V_,__exportStar:l7,__values:Tw,__read:ZA,__spread:c7,__spreadArrays:u7,__spreadArray:eO,__await:Um,__asyncGenerator:d7,__asyncDelegator:f7,__asyncValues:h7,__makeTemplateObject:m7,__importStar:p7,__importDefault:g7,__classPrivateFieldGet:v7,__classPrivateFieldSet:x7,__classPrivateFieldIn:y7,__addDisposableResource:w7,__disposeResources:b7,__rewriteRelativeImportExtension:_7},Vce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:w7,get __assign(){return Di},__asyncDelegator:f7,__asyncGenerator:d7,__asyncValues:h7,__await:Um,__awaiter:pt,__classPrivateFieldGet:v7,__classPrivateFieldIn:y7,__classPrivateFieldSet:x7,__createBinding:V_,__decorate:e7,__disposeResources:b7,__esDecorate:r7,__exportStar:l7,__extends:Z9,__generator:o7,__importDefault:g7,__importStar:p7,__makeTemplateObject:m7,__metadata:i7,__param:t7,__propKey:a7,__read:ZA,__rest:Xu,__rewriteRelativeImportExtension:_7,__runInitializers:n7,__setFunctionName:s7,__spread:c7,__spreadArray:eO,__spreadArrays:u7,__values:Tw,default:Uce},Symbol.toStringTag,{value:"Module"}));var F1="right-scroll-bar-position",L1="width-before-scroll-bar",zce="with-scroll-bars-hidden",Wce="--removed-body-scroll-bar-size";function vk(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function Hce(e,r){var n=y.useState(function(){return{value:e,callback:r,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=r,n.facade}var qce=typeof window<"u"?y.useLayoutEffect:y.useEffect,KI=new WeakMap;function Kce(e,r){var n=Hce(null,function(a){return e.forEach(function(s){return vk(s,a)})});return qce(function(){var a=KI.get(n);if(a){var s=new Set(a),i=new Set(e),o=n.current;s.forEach(function(c){i.has(c)||vk(c,null)}),i.forEach(function(c){s.has(c)||vk(c,o)})}KI.set(n,e)},[e]),n}function Gce(e){return e}function Yce(e,r){r===void 0&&(r=Gce);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=r(i,a);return n.push(o),function(){n=n.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var c=n;n=[],c.forEach(i),o=n}var u=function(){var f=o;o=[],f.forEach(i)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return s}function Xce(e){e===void 0&&(e={});var r=Yce(null);return r.options=Di({async:!0,ssr:!1},e),r}var S7=function(e){var r=e.sideCar,n=Xu(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,Di({},n))};S7.isSideCarExport=!0;function Jce(e,r){return e.useMedium(r),S7}var j7=Xce(),xk=function(){},z_=y.forwardRef(function(e,r){var n=y.useRef(null),a=y.useState({onScrollCapture:xk,onWheelCapture:xk,onTouchMoveCapture:xk}),s=a[0],i=a[1],o=e.forwardProps,c=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,v=e.noIsolation,g=e.inert,x=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,_=e.gapMode,S=Xu(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,N=Kce([n,r]),k=Di(Di({},S),s);return y.createElement(y.Fragment,null,f&&y.createElement(j,{sideCar:j7,removeScrollBar:d,shards:h,noRelative:p,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:_}),o?y.cloneElement(y.Children.only(c),Di(Di({},k),{ref:N})):y.createElement(w,Di({},k,{className:u,ref:N}),c))});z_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z_.classNames={fullWidth:L1,zeroRight:F1};var Qce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=Qce();return r&&e.setAttribute("nonce",r),e}function eue(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function tue(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var rue=function(){var e=0,r=null;return{add:function(n){e==0&&(r=Zce())&&(eue(r,n),tue(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},nue=function(){var e=rue();return function(r,n){y.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&n])}},k7=function(){var e=nue(),r=function(n){var a=n.styles,s=n.dynamic;return e(a,s),null};return r},aue={left:0,top:0,right:0,gap:0},yk=function(e){return parseInt(e||"",10)||0},sue=function(e){var r=window.getComputedStyle(document.body),n=r[e==="padding"?"paddingLeft":"marginLeft"],a=r[e==="padding"?"paddingTop":"marginTop"],s=r[e==="padding"?"paddingRight":"marginRight"];return[yk(n),yk(a),yk(s)]},iue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return aue;var r=sue(e),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-n+r[2]-r[0])}},oue=k7(),am="data-scroll-locked",lue=function(e,r,n,a){var s=e.left,i=e.top,o=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zce,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(c,"px ").concat(a,`;
  }
  body[`).concat(am,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(F1,` {
    right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(L1,` {
    margin-right: `).concat(c,"px ").concat(a,`;
  }
  
  .`).concat(F1," .").concat(F1,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(L1," .").concat(L1,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(am,`] {
    `).concat(Wce,": ").concat(c,`px;
  }
`)},GI=function(){var e=parseInt(document.body.getAttribute(am)||"0",10);return isFinite(e)?e:0},cue=function(){y.useEffect(function(){return document.body.setAttribute(am,(GI()+1).toString()),function(){var e=GI()-1;e<=0?document.body.removeAttribute(am):document.body.setAttribute(am,e.toString())}},[])},uue=function(e){var r=e.noRelative,n=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;cue();var i=y.useMemo(function(){return iue(s)},[s]);return y.createElement(oue,{styles:lue(i,!r,s,n?"":"!important")})},tE=!1;if(typeof window<"u")try{var Ry=Object.defineProperty({},"passive",{get:function(){return tE=!0,!0}});window.addEventListener("test",Ry,Ry),window.removeEventListener("test",Ry,Ry)}catch{tE=!1}var nh=tE?{passive:!1}:!1,due=function(e){return e.tagName==="TEXTAREA"},N7=function(e,r){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!due(e)&&n[r]==="visible")},fue=function(e){return N7(e,"overflowY")},hue=function(e){return N7(e,"overflowX")},YI=function(e,r){var n=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=E7(e,a);if(s){var i=C7(e,a),o=i[1],c=i[2];if(o>c)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},mue=function(e){var r=e.scrollTop,n=e.scrollHeight,a=e.clientHeight;return[r,n,a]},pue=function(e){var r=e.scrollLeft,n=e.scrollWidth,a=e.clientWidth;return[r,n,a]},E7=function(e,r){return e==="v"?fue(r):hue(r)},C7=function(e,r){return e==="v"?mue(r):pue(r)},gue=function(e,r){return e==="h"&&r==="rtl"?-1:1},vue=function(e,r,n,a,s){var i=gue(e,window.getComputedStyle(r).direction),o=i*a,c=n.target,u=r.contains(c),d=!1,f=o>0,h=0,m=0;do{if(!c)break;var p=C7(e,c),v=p[0],g=p[1],x=p[2],b=g-x-i*v;(v||b)&&E7(e,c)&&(h+=b,m+=v);var w=c.parentNode;c=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!u&&c!==document.body||u&&(r.contains(c)||r===c));return(f&&(Math.abs(h)<1||!s)||!f&&(Math.abs(m)<1||!s))&&(d=!0),d},Iy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},XI=function(e){return[e.deltaX,e.deltaY]},JI=function(e){return e&&"current"in e?e.current:e},xue=function(e,r){return e[0]===r[0]&&e[1]===r[1]},yue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wue=0,ah=[];function bue(e){var r=y.useRef([]),n=y.useRef([0,0]),a=y.useRef(),s=y.useState(wue++)[0],i=y.useState(k7)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=eO([e.lockRef.current],(e.shards||[]).map(JI),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=y.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=Iy(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],S="deltaY"in g?g.deltaY:w[1]-b[1],j,N=g.target,k=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&k==="h"&&N.type==="range")return!1;var C=YI(k,N);if(!C)return!0;if(C?j=k:(j=k==="v"?"h":"v",C=YI(k,N)),!C)return!1;if(!a.current&&"changedTouches"in g&&(_||S)&&(a.current=j),!j)return!0;var E=a.current||j;return vue(E,x,g,E==="h"?_:S,!0)},[]),u=y.useCallback(function(g){var x=g;if(!(!ah.length||ah[ah.length-1]!==i)){var b="deltaY"in x?XI(x):Iy(x),w=r.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&xue(j.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(JI).filter(Boolean).filter(function(j){return j.contains(x.target)}),S=_.length>0?c(x,_[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),d=y.useCallback(function(g,x,b,w){var _={name:g,delta:x,target:b,should:w,shadowParent:_ue(b)};r.current.push(_),setTimeout(function(){r.current=r.current.filter(function(S){return S!==_})},1)},[]),f=y.useCallback(function(g){n.current=Iy(g),a.current=void 0},[]),h=y.useCallback(function(g){d(g.type,XI(g),g.target,c(g,e.lockRef.current))},[]),m=y.useCallback(function(g){d(g.type,Iy(g),g.target,c(g,e.lockRef.current))},[]);y.useEffect(function(){return ah.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",u,nh),document.addEventListener("touchmove",u,nh),document.addEventListener("touchstart",f,nh),function(){ah=ah.filter(function(g){return g!==i}),document.removeEventListener("wheel",u,nh),document.removeEventListener("touchmove",u,nh),document.removeEventListener("touchstart",f,nh)}},[]);var p=e.removeScrollBar,v=e.inert;return y.createElement(y.Fragment,null,v?y.createElement(i,{styles:yue(s)}):null,p?y.createElement(uue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function _ue(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const Sue=Jce(j7,bue);var bx=y.forwardRef(function(e,r){return y.createElement(z_,Di({},e,{ref:r,sideCar:Sue}))});bx.classNames=z_.classNames;var jue=[" ","Enter","ArrowUp","ArrowDown"],kue=[" ","Enter"],vf="Select",[W_,H_,Nue]=LA(vf),[Mp,pXe]=ps(vf,[Nue,Ip]),q_=Ip(),[Eue,Ju]=Mp(vf),[Cue,Tue]=Mp(vf),T7=e=>{const{__scopeSelect:r,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:c,onValueChange:u,dir:d,name:f,autoComplete:h,disabled:m,required:p,form:v}=e,g=q_(r),[x,b]=y.useState(null),[w,_]=y.useState(null),[S,j]=y.useState(!1),N=gx(d),[k,C]=vc({prop:a,defaultProp:s??!1,onChange:i,caller:vf}),[E,P]=vc({prop:o,defaultProp:c,onChange:u,caller:vf}),I=y.useRef(null),T=x?v||!!x.closest("form"):!0,[U,H]=y.useState(new Set),F=Array.from(U).map(M=>M.props.value).join(";");return l.jsx(YA,{...g,children:l.jsxs(Eue,{required:p,scope:r,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:ua(),value:E,onValueChange:P,open:k,onOpenChange:C,dir:N,triggerPointerDownPosRef:I,disabled:m,children:[l.jsx(W_.Provider,{scope:r,children:l.jsx(Cue,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(M=>{H(z=>new Set(z).add(M))},[]),onNativeOptionRemove:y.useCallback(M=>{H(z=>{const L=new Set(z);return L.delete(M),L})},[]),children:n})}),T?l.jsxs(Z7,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:E,onChange:M=>P(M.target.value),disabled:m,form:v,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(U)]},F):null]})})};T7.displayName=vf;var A7="SelectTrigger",O7=y.forwardRef((e,r)=>{const{__scopeSelect:n,disabled:a=!1,...s}=e,i=q_(n),o=Ju(A7,n),c=o.disabled||a,u=Ht(r,o.onTriggerChange),d=H_(n),f=y.useRef("touch"),[h,m,p]=tV(g=>{const x=d().filter(_=>!_.disabled),b=x.find(_=>_.value===o.value),w=rV(x,g,b);w!==void 0&&o.onValueChange(w.value)}),v=g=>{c||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(B_,{asChild:!0,...i,children:l.jsx(dt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":eV(o.value)?"":void 0,...s,ref:u,onClick:rt(s.onClick,g=>{g.currentTarget.focus(),f.current!=="mouse"&&v(g)}),onPointerDown:rt(s.onPointerDown,g=>{f.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:rt(s.onKeyDown,g=>{const x=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(x&&g.key===" ")&&jue.includes(g.key)&&(v(),g.preventDefault())})})})});O7.displayName=A7;var P7="SelectValue",D7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...c}=e,u=Ju(P7,n),{onValueNodeHasChildrenChange:d}=u,f=i!==void 0,h=Ht(r,u.onValueNodeChange);return Pn(()=>{d(f)},[d,f]),l.jsx(dt.span,{...c,ref:h,style:{pointerEvents:"none"},children:eV(u.value)?l.jsx(l.Fragment,{children:o}):i})});D7.displayName=P7;var Aue="SelectIcon",R7=y.forwardRef((e,r)=>{const{__scopeSelect:n,children:a,...s}=e;return l.jsx(dt.span,{"aria-hidden":!0,...s,ref:r,children:a||""})});R7.displayName=Aue;var Oue="SelectPortal",I7=e=>l.jsx(wx,{asChild:!0,...e});I7.displayName=Oue;var xf="SelectContent",M7=y.forwardRef((e,r)=>{const n=Ju(xf,e.__scopeSelect),[a,s]=y.useState();if(Pn(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?Tp.createPortal(l.jsx(F7,{scope:e.__scopeSelect,children:l.jsx(W_.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(L7,{...e,ref:r})});M7.displayName=xf;var ao=10,[F7,Qu]=Mp(xf),Pue="SelectContentImpl",Due=Fu("SelectContent.RemoveScroll"),L7=y.forwardRef((e,r)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x,...b}=e,w=Ju(xf,n),[_,S]=y.useState(null),[j,N]=y.useState(null),k=Ht(r,ce=>S(ce)),[C,E]=y.useState(null),[P,I]=y.useState(null),T=H_(n),[U,H]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(_)return U_(_)},[_]),M_();const M=y.useCallback(ce=>{const[me,...ie]=T().map(D=>D.ref.current),[Q]=ie.slice(-1),de=document.activeElement;for(const D of ce)if(D===de||(D==null||D.scrollIntoView({block:"nearest"}),D===me&&j&&(j.scrollTop=0),D===Q&&j&&(j.scrollTop=j.scrollHeight),D==null||D.focus(),document.activeElement!==de))return},[T,j]),z=y.useCallback(()=>M([C,_]),[M,C,_]);y.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:L,triggerPointerDownPosRef:R}=w;y.useEffect(()=>{if(_){let ce={x:0,y:0};const me=Q=>{var de,D;ce={x:Math.abs(Math.round(Q.pageX)-(((de=R.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((D=R.current)==null?void 0:D.y)??0))}},ie=Q=>{ce.x<=10&&ce.y<=10?Q.preventDefault():_.contains(Q.target)||L(!1),document.removeEventListener("pointermove",me),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ie,{capture:!0})}}},[_,L,R]),y.useEffect(()=>{const ce=()=>L(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[L]);const[J,te]=tV(ce=>{const me=T().filter(de=>!de.disabled),ie=me.find(de=>de.ref.current===document.activeElement),Q=rV(me,ce,ie);Q&&setTimeout(()=>Q.ref.current.focus())}),A=y.useCallback((ce,me,ie)=>{const Q=!F.current&&!ie;(w.value!==void 0&&w.value===me||Q)&&(E(ce),Q&&(F.current=!0))},[w.value]),X=y.useCallback(()=>_==null?void 0:_.focus(),[_]),V=y.useCallback((ce,me,ie)=>{const Q=!F.current&&!ie;(w.value!==void 0&&w.value===me||Q)&&I(ce)},[w.value]),q=a==="popper"?rE:$7,ae=q===rE?{side:c,sideOffset:u,align:d,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(F7,{scope:n,content:_,viewport:j,onViewportChange:N,itemRefCallback:A,selectedItem:C,onItemLeave:X,itemTextRefCallback:V,focusSelectedItem:z,selectedItemText:P,position:a,isPositioned:U,searchRef:J,children:l.jsx(bx,{as:Due,allowPinchZoom:!0,children:l.jsx(xx,{asChild:!0,trapped:w.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:rt(s,ce=>{var me;(me=w.trigger)==null||me.focus({preventScroll:!0}),ce.preventDefault()}),children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ce=>ce.preventDefault(),...b,...ae,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:rt(b.onKeyDown,ce=>{const me=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!me&&ce.key.length===1&&te(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Q=T().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const de=ce.target,D=Q.indexOf(de);Q=Q.slice(D+1)}setTimeout(()=>M(Q)),ce.preventDefault()}})})})})})})});L7.displayName=Pue;var Rue="SelectItemAlignedPosition",$7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onPlaced:a,...s}=e,i=Ju(xf,n),o=Qu(xf,n),[c,u]=y.useState(null),[d,f]=y.useState(null),h=Ht(r,k=>f(k)),m=H_(n),p=y.useRef(!1),v=y.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=o,_=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&g&&x&&b){const k=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(i.dir!=="rtl"){const de=P.left-C.left,D=E.left-de,Be=k.left-D,Le=k.width+Be,Ue=Math.max(Le,C.width),ze=window.innerWidth-ao,De=G2(D,[ao,Math.max(ao,ze-Ue)]);c.style.minWidth=Le+"px",c.style.left=De+"px"}else{const de=C.right-P.right,D=window.innerWidth-E.right-de,Be=window.innerWidth-k.right-D,Le=k.width+Be,Ue=Math.max(Le,C.width),ze=window.innerWidth-ao,De=G2(D,[ao,Math.max(ao,ze-Ue)]);c.style.minWidth=Le+"px",c.style.right=De+"px"}const I=m(),T=window.innerHeight-ao*2,U=g.scrollHeight,H=window.getComputedStyle(d),F=parseInt(H.borderTopWidth,10),M=parseInt(H.paddingTop,10),z=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),R=F+M+U+L+z,J=Math.min(x.offsetHeight*5,R),te=window.getComputedStyle(g),A=parseInt(te.paddingTop,10),X=parseInt(te.paddingBottom,10),V=k.top+k.height/2-ao,q=T-V,ae=x.offsetHeight/2,ce=x.offsetTop+ae,me=F+M+ce,ie=R-me;if(me<=V){const de=I.length>0&&x===I[I.length-1].ref.current;c.style.bottom="0px";const D=d.clientHeight-g.offsetTop-g.offsetHeight,Be=Math.max(q,ae+(de?X:0)+D+z),Le=me+Be;c.style.height=Le+"px"}else{const de=I.length>0&&x===I[0].ref.current;c.style.top="0px";const Be=Math.max(V,F+g.offsetTop+(de?A:0)+ae)+ie;c.style.height=Be+"px",g.scrollTop=me-V+g.offsetTop}c.style.margin=`${ao}px 0`,c.style.minHeight=J+"px",c.style.maxHeight=T+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,c,d,g,x,b,i.dir,a]);Pn(()=>_(),[_]);const[S,j]=y.useState();Pn(()=>{d&&j(window.getComputedStyle(d).zIndex)},[d]);const N=y.useCallback(k=>{k&&v.current===!0&&(_(),w==null||w(),v.current=!1)},[_,w]);return l.jsx(Mue,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(dt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$7.displayName=Rue;var Iue="SelectPopperPosition",rE=y.forwardRef((e,r)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=ao,...i}=e,o=q_(n);return l.jsx(XA,{...o,...i,ref:r,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rE.displayName=Iue;var[Mue,tO]=Mp(xf,{}),nE="SelectViewport",B7=y.forwardRef((e,r)=>{const{__scopeSelect:n,nonce:a,...s}=e,i=Qu(nE,n),o=tO(nE,n),c=Ht(r,i.onViewportChange),u=y.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(W_.Slot,{scope:n,children:l.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:rt(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const p=Math.abs(u.current-f.scrollTop);if(p>0){const v=window.innerHeight-ao*2,g=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(g,x);if(b<v){const w=b+p,_=Math.min(v,w),S=w-_;h.style.height=_+"px",h.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});B7.displayName=nE;var U7="SelectGroup",[Fue,Lue]=Mp(U7),$ue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=ua();return l.jsx(Fue,{scope:n,id:s,children:l.jsx(dt.div,{role:"group","aria-labelledby":s,...a,ref:r})})});$ue.displayName=U7;var V7="SelectLabel",z7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=Lue(V7,n);return l.jsx(dt.div,{id:s.id,...a,ref:r})});z7.displayName=V7;var Aw="SelectItem",[Bue,W7]=Mp(Aw),H7=y.forwardRef((e,r)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=e,c=Ju(Aw,n),u=Qu(Aw,n),d=c.value===a,[f,h]=y.useState(i??""),[m,p]=y.useState(!1),v=Ht(r,w=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,w,a,s)}),g=ua(),x=y.useRef("touch"),b=()=>{s||(c.onValueChange(a),c.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Bue,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:y.useCallback(w=>{h(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:l.jsx(W_.ItemSlot,{scope:n,value:a,disabled:s,textValue:f,children:l.jsx(dt.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:rt(o.onFocus,()=>p(!0)),onBlur:rt(o.onBlur,()=>p(!1)),onClick:rt(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:rt(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:rt(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:rt(o.onPointerMove,w=>{var _;x.current=w.pointerType,s?(_=u.onItemLeave)==null||_.call(u):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(o.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:rt(o.onKeyDown,w=>{var S;((S=u.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(kue.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});H7.displayName=Aw;var V0="SelectItemText",q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,className:a,style:s,...i}=e,o=Ju(V0,n),c=Qu(V0,n),u=W7(V0,n),d=Tue(V0,n),[f,h]=y.useState(null),m=Ht(r,b=>h(b),u.onItemTextChange,b=>{var w;return(w=c.itemTextRefCallback)==null?void 0:w.call(c,b,u.value,u.disabled)}),p=f==null?void 0:f.textContent,v=y.useMemo(()=>l.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=d;return Pn(()=>(g(v),()=>x(v)),[g,x,v]),l.jsxs(l.Fragment,{children:[l.jsx(dt.span,{id:u.textId,...i,ref:m}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Tp.createPortal(i.children,o.valueNode):null]})});q7.displayName=V0;var K7="SelectItemIndicator",G7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return W7(K7,n).isSelected?l.jsx(dt.span,{"aria-hidden":!0,...a,ref:r}):null});G7.displayName=K7;var aE="SelectScrollUpButton",Y7=y.forwardRef((e,r)=>{const n=Qu(aE,e.__scopeSelect),a=tO(aE,e.__scopeSelect),[s,i]=y.useState(!1),o=Ht(r,a.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollTop>0;i(d)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Y7.displayName=aE;var sE="SelectScrollDownButton",X7=y.forwardRef((e,r)=>{const n=Qu(sE,e.__scopeSelect),a=tO(sE,e.__scopeSelect),[s,i]=y.useState(!1),o=Ht(r,a.onScrollButtonChange);return Pn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;i(f)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?l.jsx(J7,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});X7.displayName=sE;var J7=y.forwardRef((e,r)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=e,i=Qu("SelectScrollButton",n),o=y.useRef(null),c=H_(n),u=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),Pn(()=>{var f;const d=c().find(h=>h.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),l.jsx(dt.div,{"aria-hidden":!0,...s,ref:r,style:{flexShrink:0,...s.style},onPointerDown:rt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:rt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:rt(s.onPointerLeave,()=>{u()})})}),Uue="SelectSeparator",Q7=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e;return l.jsx(dt.div,{"aria-hidden":!0,...a,ref:r})});Q7.displayName=Uue;var iE="SelectArrow",Vue=y.forwardRef((e,r)=>{const{__scopeSelect:n,...a}=e,s=q_(n),i=Ju(iE,n),o=Qu(iE,n);return i.open&&o.position==="popper"?l.jsx(JA,{...s,...a,ref:r}):null});Vue.displayName=iE;var zue="SelectBubbleInput",Z7=y.forwardRef(({__scopeSelect:e,value:r,...n},a)=>{const s=y.useRef(null),i=Ht(a,s),o=QA(r);return y.useEffect(()=>{const c=s.current;if(!c)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==r&&f){const h=new Event("change",{bubbles:!0});f.call(c,r),c.dispatchEvent(h)}},[o,r]),l.jsx(dt.select,{...n,style:{...J9,...n.style},ref:i,defaultValue:r})});Z7.displayName=zue;function eV(e){return e===""||e===void 0}function tV(e){const r=Jn(e),n=y.useRef(""),a=y.useRef(0),s=y.useCallback(o=>{const c=n.current+o;r(c),function u(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>u(""),1e3))}(c)},[r]),i=y.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function rV(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Wue(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function Wue(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var Hue=T7,nV=O7,que=D7,Kue=R7,Gue=I7,aV=M7,Yue=B7,sV=z7,iV=H7,Xue=q7,Jue=G7,oV=Y7,lV=X7,cV=Q7;const jt=Hue,kt=que,_t=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(nV,{ref:a,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[r,l.jsx(Kue,{asChild:!0,children:l.jsx(O_,{className:"h-4 w-4 opacity-50"})})]}));_t.displayName=nV.displayName;const uV=y.forwardRef(({className:e,...r},n)=>l.jsx(oV,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(bie,{className:"h-4 w-4"})}));uV.displayName=oV.displayName;const dV=y.forwardRef(({className:e,...r},n)=>l.jsx(lV,{ref:n,className:ve("flex cursor-default items-center justify-center py-1",e),...r,children:l.jsx(O_,{className:"h-4 w-4"})}));dV.displayName=lV.displayName;const St=y.forwardRef(({className:e,children:r,position:n="popper",...a},s)=>l.jsx(Gue,{children:l.jsxs(aV,{ref:s,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...a,children:[l.jsx(uV,{}),l.jsx(Yue,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),l.jsx(dV,{})]})}));St.displayName=aV.displayName;const Que=y.forwardRef(({className:e,...r},n)=>l.jsx(sV,{ref:n,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));Que.displayName=sV.displayName;const Pe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(iV,{ref:a,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Jue,{children:l.jsx(IA,{className:"h-4 w-4"})})}),l.jsx(Xue,{children:r})]}));Pe.displayName=iV.displayName;const Zue=y.forwardRef(({className:e,...r},n)=>l.jsx(cV,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...r}));Zue.displayName=cV.displayName;const fV=()=>{const{currentLanguage:e,changeLanguage:r,languages:n}=ms(),a=n.find(s=>s.code===e);return l.jsxs(jt,{value:e,onValueChange:r,children:[l.jsx(_t,{className:"w-[140px]",children:l.jsx(kt,{children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:a==null?void 0:a.name})})})}),l.jsx(St,{children:n.map(s=>l.jsx(Pe,{value:s.code,children:l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{children:s.name})})},s.code))})]})};function ede(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var Ua=e=>{const{present:r,children:n}=e,a=tde(r),s=typeof n=="function"?n({present:a.isPresent}):y.Children.only(n),i=Ht(a.ref,rde(s));return typeof n=="function"||a.isPresent?y.cloneElement(s,{ref:i}):null};Ua.displayName="Presence";function tde(e){const[r,n]=y.useState(),a=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[c,u]=ede(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=My(a.current);i.current=c==="mounted"?d:"none"},[c]),Pn(()=>{const d=a.current,f=s.current;if(f!==e){const m=i.current,p=My(d);e?u("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,u]),Pn(()=>{if(r){let d;const f=r.ownerDocument.defaultView??window,h=p=>{const g=My(a.current).includes(p.animationName);if(p.target===r&&g&&(u("ANIMATION_END"),!s.current)){const x=r.style.animationFillMode;r.style.animationFillMode="forwards",d=f.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=x)})}},m=p=>{p.target===r&&(i.current=My(a.current))};return r.addEventListener("animationstart",m),r.addEventListener("animationcancel",h),r.addEventListener("animationend",h),()=>{f.clearTimeout(d),r.removeEventListener("animationstart",m),r.removeEventListener("animationcancel",h),r.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[r,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(d=>{a.current=d?getComputedStyle(d):null,n(d)},[])}}function My(e){return(e==null?void 0:e.animationName)||"none"}function rde(e){var a,s;let r=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?e.ref:(r=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wk="rovingFocusGroup.onEntryFocus",nde={bubbles:!1,cancelable:!0},_x="RovingFocusGroup",[oE,hV,ade]=LA(_x),[sde,K_]=ps(_x,[ade]),[ide,ode]=sde(_x),mV=y.forwardRef((e,r)=>l.jsx(oE.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(oE.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(lde,{...e,ref:r})})}));mV.displayName=_x;var lde=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...h}=e,m=y.useRef(null),p=Ht(r,m),v=gx(i),[g,x]=vc({prop:o,defaultProp:c??null,onChange:u,caller:_x}),[b,w]=y.useState(!1),_=Jn(d),S=hV(n),j=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(wk,_),()=>C.removeEventListener(wk,_)},[_]),l.jsx(ide,{scope:n,orientation:a,dir:v,loop:s,currentTabStopId:g,onItemFocus:y.useCallback(C=>x(C),[x]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>k(C=>C-1),[]),children:l.jsx(dt.div,{tabIndex:b||N===0?-1:0,"data-orientation":a,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:rt(e.onMouseDown,()=>{j.current=!0}),onFocus:rt(e.onFocus,C=>{const E=!j.current;if(C.target===C.currentTarget&&E&&!b){const P=new CustomEvent(wk,nde);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=S().filter(M=>M.focusable),T=I.find(M=>M.active),U=I.find(M=>M.id===g),F=[T,U,...I].filter(Boolean).map(M=>M.ref.current);vV(F,f)}}j.current=!1}),onBlur:rt(e.onBlur,()=>w(!1))})})}),pV="RovingFocusGroupItem",gV=y.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...c}=e,u=ua(),d=i||u,f=ode(pV,n),h=f.currentTabStopId===d,m=hV(n),{onFocusableItemAdd:p,onFocusableItemRemove:v,currentTabStopId:g}=f;return y.useEffect(()=>{if(a)return p(),()=>v()},[a,p,v]),l.jsx(oE.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:l.jsx(dt.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...c,ref:r,onMouseDown:rt(e.onMouseDown,x=>{a?f.onItemFocus(d):x.preventDefault()}),onFocus:rt(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:rt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){f.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=dde(x,f.orientation,f.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let _=m().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(x.currentTarget);_=f.loop?fde(_,S+1):_.slice(S+1)}setTimeout(()=>vV(_))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});gV.displayName=pV;var cde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ude(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function dde(e,r,n){const a=ude(e.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return cde[a]}function vV(e,r=!1){const n=document.activeElement;for(const a of e)if(a===n||(a.focus({preventScroll:r}),document.activeElement!==n))return}function fde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}var xV=mV,yV=gV,lE=["Enter"," "],hde=["ArrowDown","PageUp","Home"],wV=["ArrowUp","PageDown","End"],mde=[...hde,...wV],pde={ltr:[...lE,"ArrowRight"],rtl:[...lE,"ArrowLeft"]},gde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sx="Menu",[sv,vde,xde]=LA(Sx),[Lf,bV]=ps(Sx,[xde,Ip,K_]),G_=Ip(),_V=K_(),[yde,$f]=Lf(Sx),[wde,jx]=Lf(Sx),SV=e=>{const{__scopeMenu:r,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,c=G_(r),[u,d]=y.useState(null),f=y.useRef(!1),h=Jn(i),m=gx(s);return y.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),l.jsx(YA,{...c,children:l.jsx(yde,{scope:r,open:n,onOpenChange:h,content:u,onContentChange:d,children:l.jsx(wde,{scope:r,onClose:y.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:m,modal:o,children:a})})})};SV.displayName=Sx;var bde="MenuAnchor",rO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=G_(n);return l.jsx(B_,{...s,...a,ref:r})});rO.displayName=bde;var nO="MenuPortal",[_de,jV]=Lf(nO,{forceMount:void 0}),kV=e=>{const{__scopeMenu:r,forceMount:n,children:a,container:s}=e,i=$f(nO,r);return l.jsx(_de,{scope:r,forceMount:n,children:l.jsx(Ua,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:a})})})};kV.displayName=nO;var $i="MenuContent",[Sde,aO]=Lf($i),NV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=$f($i,e.__scopeMenu),o=jx($i,e.__scopeMenu);return l.jsx(sv.Provider,{scope:e.__scopeMenu,children:l.jsx(Ua,{present:a||i.open,children:l.jsx(sv.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(jde,{...s,ref:r}):l.jsx(kde,{...s,ref:r})})})})}),jde=y.forwardRef((e,r)=>{const n=$f($i,e.__scopeMenu),a=y.useRef(null),s=Ht(r,a);return y.useEffect(()=>{const i=a.current;if(i)return U_(i)},[]),l.jsx(sO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:rt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kde=y.forwardRef((e,r)=>{const n=$f($i,e.__scopeMenu);return l.jsx(sO,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Nde=Fu("MenuContent.ScrollLock"),sO=y.forwardRef((e,r)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:v,...g}=e,x=$f($i,n),b=jx($i,n),w=G_(n),_=_V(n),S=vde(n),[j,N]=y.useState(null),k=y.useRef(null),C=Ht(r,k,x.onContentChange),E=y.useRef(0),P=y.useRef(""),I=y.useRef(0),T=y.useRef(null),U=y.useRef("right"),H=y.useRef(0),F=v?bx:y.Fragment,M=v?{as:Nde,allowPinchZoom:!0}:void 0,z=R=>{var ce,me;const J=P.current+R,te=S().filter(ie=>!ie.disabled),A=document.activeElement,X=(ce=te.find(ie=>ie.ref.current===A))==null?void 0:ce.textValue,V=te.map(ie=>ie.textValue),q=Lde(V,J,X),ae=(me=te.find(ie=>ie.textValue===q))==null?void 0:me.ref.current;(function ie(Q){P.current=Q,window.clearTimeout(E.current),Q!==""&&(E.current=window.setTimeout(()=>ie(""),1e3))})(J),ae&&setTimeout(()=>ae.focus())};y.useEffect(()=>()=>window.clearTimeout(E.current),[]),M_();const L=y.useCallback(R=>{var te,A;return U.current===((te=T.current)==null?void 0:te.side)&&Bde(R,(A=T.current)==null?void 0:A.area)},[]);return l.jsx(Sde,{scope:n,searchRef:P,onItemEnter:y.useCallback(R=>{L(R)&&R.preventDefault()},[L]),onItemLeave:y.useCallback(R=>{var J;L(R)||((J=k.current)==null||J.focus(),N(null))},[L]),onTriggerLeave:y.useCallback(R=>{L(R)&&R.preventDefault()},[L]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(R=>{T.current=R},[]),children:l.jsx(F,{...M,children:l.jsx(xx,{asChild:!0,trapped:s,onMountAutoFocus:rt(i,R=>{var J;R.preventDefault(),(J=k.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:l.jsx(xV,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:j,onCurrentTabStopIdChange:N,onEntryFocus:rt(u,R=>{b.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(XA,{role:"menu","aria-orientation":"vertical","data-state":VV(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...g,ref:C,style:{outline:"none",...g.style},onKeyDown:rt(g.onKeyDown,R=>{const te=R.target.closest("[data-radix-menu-content]")===R.currentTarget,A=R.ctrlKey||R.altKey||R.metaKey,X=R.key.length===1;te&&(R.key==="Tab"&&R.preventDefault(),!A&&X&&z(R.key));const V=k.current;if(R.target!==V||!mde.includes(R.key))return;R.preventDefault();const ae=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);wV.includes(R.key)&&ae.reverse(),Mde(ae)}),onBlur:rt(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:rt(e.onPointerMove,iv(R=>{const J=R.target,te=H.current!==R.clientX;if(R.currentTarget.contains(J)&&te){const A=R.clientX>H.current?"right":"left";U.current=A,H.current=R.clientX}}))})})})})})})});NV.displayName=$i;var Ede="MenuGroup",iO=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(dt.div,{role:"group",...a,ref:r})});iO.displayName=Ede;var Cde="MenuLabel",EV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(dt.div,{...a,ref:r})});EV.displayName=Cde;var Ow="MenuItem",QI="menu.itemSelect",Y_=y.forwardRef((e,r)=>{const{disabled:n=!1,onSelect:a,...s}=e,i=y.useRef(null),o=jx(Ow,e.__scopeMenu),c=aO(Ow,e.__scopeMenu),u=Ht(r,i),d=y.useRef(!1),f=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(QI,{bubbles:!0,cancelable:!0});h.addEventListener(QI,p=>a==null?void 0:a(p),{once:!0}),d9(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(CV,{...s,ref:u,disabled:n,onClick:rt(e.onClick,f),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),d.current=!0},onPointerUp:rt(e.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:rt(e.onKeyDown,h=>{const m=c.searchRef.current!=="";n||m&&h.key===" "||lE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Y_.displayName=Ow;var CV=y.forwardRef((e,r)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=e,o=aO(Ow,n),c=_V(n),u=y.useRef(null),d=Ht(r,u),[f,h]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const v=u.current;v&&p((v.textContent??"").trim())},[i.children]),l.jsx(sv.ItemSlot,{scope:n,disabled:a,textValue:s??m,children:l.jsx(yV,{asChild:!0,...c,focusable:!a,children:l.jsx(dt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:rt(e.onPointerMove,iv(v=>{a?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:rt(e.onPointerLeave,iv(v=>o.onItemLeave(v))),onFocus:rt(e.onFocus,()=>h(!0)),onBlur:rt(e.onBlur,()=>h(!1))})})})}),Tde="MenuCheckboxItem",TV=y.forwardRef((e,r)=>{const{checked:n=!1,onCheckedChange:a,...s}=e;return l.jsx(RV,{scope:e.__scopeMenu,checked:n,children:l.jsx(Y_,{role:"menuitemcheckbox","aria-checked":Pw(n)?"mixed":n,...s,ref:r,"data-state":lO(n),onSelect:rt(s.onSelect,()=>a==null?void 0:a(Pw(n)?!0:!n),{checkForDefaultPrevented:!1})})})});TV.displayName=Tde;var AV="MenuRadioGroup",[Ade,Ode]=Lf(AV,{value:void 0,onValueChange:()=>{}}),OV=y.forwardRef((e,r)=>{const{value:n,onValueChange:a,...s}=e,i=Jn(a);return l.jsx(Ade,{scope:e.__scopeMenu,value:n,onValueChange:i,children:l.jsx(iO,{...s,ref:r})})});OV.displayName=AV;var PV="MenuRadioItem",DV=y.forwardRef((e,r)=>{const{value:n,...a}=e,s=Ode(PV,e.__scopeMenu),i=n===s.value;return l.jsx(RV,{scope:e.__scopeMenu,checked:i,children:l.jsx(Y_,{role:"menuitemradio","aria-checked":i,...a,ref:r,"data-state":lO(i),onSelect:rt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});DV.displayName=PV;var oO="MenuItemIndicator",[RV,Pde]=Lf(oO,{checked:!1}),IV=y.forwardRef((e,r)=>{const{__scopeMenu:n,forceMount:a,...s}=e,i=Pde(oO,n);return l.jsx(Ua,{present:a||Pw(i.checked)||i.checked===!0,children:l.jsx(dt.span,{...s,ref:r,"data-state":lO(i.checked)})})});IV.displayName=oO;var Dde="MenuSeparator",MV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e;return l.jsx(dt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:r})});MV.displayName=Dde;var Rde="MenuArrow",FV=y.forwardRef((e,r)=>{const{__scopeMenu:n,...a}=e,s=G_(n);return l.jsx(JA,{...s,...a,ref:r})});FV.displayName=Rde;var Ide="MenuSub",[gXe,LV]=Lf(Ide),z0="MenuSubTrigger",$V=y.forwardRef((e,r)=>{const n=$f(z0,e.__scopeMenu),a=jx(z0,e.__scopeMenu),s=LV(z0,e.__scopeMenu),i=aO(z0,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,d={__scopeMenu:e.__scopeMenu},f=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>f,[f]),y.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),u(null)}},[c,u]),l.jsx(rO,{asChild:!0,...d,children:l.jsx(CV,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":VV(n.open),...e,ref:mc(r,s.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:rt(e.onPointerMove,iv(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:rt(e.onPointerLeave,iv(h=>{var p,v;f();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const g=(v=n.content)==null?void 0:v.dataset.side,x=g==="right",b=x?-5:5,w=m[x?"left":"right"],_=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:m.top},{x:_,y:m.top},{x:_,y:m.bottom},{x:w,y:m.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:rt(e.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||pde[a.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});$V.displayName=z0;var BV="MenuSubContent",UV=y.forwardRef((e,r)=>{const n=jV($i,e.__scopeMenu),{forceMount:a=n.forceMount,...s}=e,i=$f($i,e.__scopeMenu),o=jx($i,e.__scopeMenu),c=LV(BV,e.__scopeMenu),u=y.useRef(null),d=Ht(r,u);return l.jsx(sv.Provider,{scope:e.__scopeMenu,children:l.jsx(Ua,{present:a||i.open,children:l.jsx(sv.Slot,{scope:e.__scopeMenu,children:l.jsx(sO,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:rt(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:rt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:rt(e.onKeyDown,f=>{var p;const h=f.currentTarget.contains(f.target),m=gde[o.dir].includes(f.key);h&&m&&(i.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});UV.displayName=BV;function VV(e){return e?"open":"closed"}function Pw(e){return e==="indeterminate"}function lO(e){return Pw(e)?"indeterminate":e?"checked":"unchecked"}function Mde(e){const r=document.activeElement;for(const n of e)if(n===r||(n.focus(),document.activeElement!==r))return}function Fde(e,r){return e.map((n,a)=>e[(r+a)%e.length])}function Lde(e,r,n){const s=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=n?e.indexOf(n):-1;let o=Fde(e,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function $de(e,r){const{x:n,y:a}=e;let s=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const c=r[i],u=r[o],d=c.x,f=c.y,h=u.x,m=u.y;f>a!=m>a&&n<(h-d)*(a-f)/(m-f)+d&&(s=!s)}return s}function Bde(e,r){if(!r)return!1;const n={x:e.clientX,y:e.clientY};return $de(n,r)}function iv(e){return r=>r.pointerType==="mouse"?e(r):void 0}var Ude=SV,Vde=rO,zde=kV,Wde=NV,Hde=iO,qde=EV,Kde=Y_,Gde=TV,Yde=OV,Xde=DV,Jde=IV,Qde=MV,Zde=FV,efe=$V,tfe=UV,X_="DropdownMenu",[rfe,vXe]=ps(X_,[bV]),gs=bV(),[nfe,zV]=rfe(X_),WV=e=>{const{__scopeDropdownMenu:r,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,u=gs(r),d=y.useRef(null),[f,h]=vc({prop:s,defaultProp:i??!1,onChange:o,caller:X_});return l.jsx(nfe,{scope:r,triggerId:ua(),triggerRef:d,contentId:ua(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:c,children:l.jsx(Ude,{...u,open:f,onOpenChange:h,dir:a,modal:c,children:n})})};WV.displayName=X_;var HV="DropdownMenuTrigger",qV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=e,i=zV(HV,n),o=gs(n);return l.jsx(Vde,{asChild:!0,...o,children:l.jsx(dt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:mc(r,i.triggerRef),onPointerDown:rt(e.onPointerDown,c=>{!a&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:rt(e.onKeyDown,c=>{a||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});qV.displayName=HV;var afe="DropdownMenuPortal",KV=e=>{const{__scopeDropdownMenu:r,...n}=e,a=gs(r);return l.jsx(zde,{...a,...n})};KV.displayName=afe;var GV="DropdownMenuContent",YV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=zV(GV,n),i=gs(n),o=y.useRef(!1);return l.jsx(Wde,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:r,onCloseAutoFocus:rt(e.onCloseAutoFocus,c=>{var u;o.current||(u=s.triggerRef.current)==null||u.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:rt(e.onInteractOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YV.displayName=GV;var sfe="DropdownMenuGroup",ife=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Hde,{...s,...a,ref:r})});ife.displayName=sfe;var ofe="DropdownMenuLabel",XV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(qde,{...s,...a,ref:r})});XV.displayName=ofe;var lfe="DropdownMenuItem",JV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Kde,{...s,...a,ref:r})});JV.displayName=lfe;var cfe="DropdownMenuCheckboxItem",QV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Gde,{...s,...a,ref:r})});QV.displayName=cfe;var ufe="DropdownMenuRadioGroup",dfe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Yde,{...s,...a,ref:r})});dfe.displayName=ufe;var ffe="DropdownMenuRadioItem",ZV=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Xde,{...s,...a,ref:r})});ZV.displayName=ffe;var hfe="DropdownMenuItemIndicator",ez=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Jde,{...s,...a,ref:r})});ez.displayName=hfe;var mfe="DropdownMenuSeparator",tz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Qde,{...s,...a,ref:r})});tz.displayName=mfe;var pfe="DropdownMenuArrow",gfe=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(Zde,{...s,...a,ref:r})});gfe.displayName=pfe;var vfe="DropdownMenuSubTrigger",rz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(efe,{...s,...a,ref:r})});rz.displayName=vfe;var xfe="DropdownMenuSubContent",nz=y.forwardRef((e,r)=>{const{__scopeDropdownMenu:n,...a}=e,s=gs(n);return l.jsx(tfe,{...s,...a,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nz.displayName=xfe;var yfe=WV,wfe=qV,bfe=KV,az=YV,sz=XV,iz=JV,oz=QV,lz=ZV,cz=ez,uz=tz,dz=rz,fz=nz;const cO=yfe,uO=wfe,_fe=y.forwardRef(({className:e,inset:r,children:n,...a},s)=>l.jsxs(dz,{ref:s,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",e),...a,children:[n,l.jsx(P_,{className:"ml-auto h-4 w-4"})]}));_fe.displayName=dz.displayName;const Sfe=y.forwardRef(({className:e,...r},n)=>l.jsx(fz,{ref:n,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Sfe.displayName=fz.displayName;const J_=y.forwardRef(({className:e,sideOffset:r=4,...n},a)=>l.jsx(bfe,{children:l.jsx(az,{ref:a,sideOffset:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));J_.displayName=az.displayName;const Yl=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(iz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",e),...n}));Yl.displayName=iz.displayName;const jfe=y.forwardRef(({className:e,children:r,checked:n,...a},s)=>l.jsxs(oz,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...a,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(IA,{className:"h-4 w-4"})})}),r]}));jfe.displayName=oz.displayName;const kfe=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(lz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(cz,{children:l.jsx(Sie,{className:"h-2 w-2 fill-current"})})}),r]}));kfe.displayName=lz.displayName;const Nfe=y.forwardRef(({className:e,inset:r,...n},a)=>l.jsx(sz,{ref:a,className:ve("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...n}));Nfe.displayName=sz.displayName;const cE=y.forwardRef(({className:e,...r},n)=>l.jsx(uz,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...r}));cE.displayName=uz.displayName;var Q_="Dialog",[hz,mz]=ps(Q_),[Efe,Lo]=hz(Q_),pz=e=>{const{__scopeDialog:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,c=y.useRef(null),u=y.useRef(null),[d,f]=vc({prop:a,defaultProp:s??!1,onChange:i,caller:Q_});return l.jsx(Efe,{scope:r,triggerRef:c,contentRef:u,contentId:ua(),titleId:ua(),descriptionId:ua(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};pz.displayName=Q_;var gz="DialogTrigger",vz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(gz,n),i=Ht(r,s.triggerRef);return l.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hO(s.open),...a,ref:i,onClick:rt(e.onClick,s.onOpenToggle)})});vz.displayName=gz;var dO="DialogPortal",[Cfe,xz]=hz(dO,{forceMount:void 0}),yz=e=>{const{__scopeDialog:r,forceMount:n,children:a,container:s}=e,i=Lo(dO,r);return l.jsx(Cfe,{scope:r,forceMount:n,children:y.Children.map(a,o=>l.jsx(Ua,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:o})}))})};yz.displayName=dO;var Dw="DialogOverlay",wz=y.forwardRef((e,r)=>{const n=xz(Dw,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Lo(Dw,e.__scopeDialog);return i.modal?l.jsx(Ua,{present:a||i.open,children:l.jsx(Afe,{...s,ref:r})}):null});wz.displayName=Dw;var Tfe=Fu("DialogOverlay.RemoveScroll"),Afe=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(Dw,n);return l.jsx(bx,{as:Tfe,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(dt.div,{"data-state":hO(s.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),yf="DialogContent",bz=y.forwardRef((e,r)=>{const n=xz(yf,e.__scopeDialog),{forceMount:a=n.forceMount,...s}=e,i=Lo(yf,e.__scopeDialog);return l.jsx(Ua,{present:a||i.open,children:i.modal?l.jsx(Ofe,{...s,ref:r}):l.jsx(Pfe,{...s,ref:r})})});bz.displayName=yf;var Ofe=y.forwardRef((e,r)=>{const n=Lo(yf,e.__scopeDialog),a=y.useRef(null),s=Ht(r,n.contentRef,a);return y.useEffect(()=>{const i=a.current;if(i)return U_(i)},[]),l.jsx(_z,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,i=>i.preventDefault())})}),Pfe=y.forwardRef((e,r)=>{const n=Lo(yf,e.__scopeDialog),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(_z,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_z=y.forwardRef((e,r)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,c=Lo(yf,n),u=y.useRef(null),d=Ht(r,u);return M_(),l.jsxs(l.Fragment,{children:[l.jsx(xx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(vx,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":hO(c.open),...o,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Rfe,{titleId:c.titleId}),l.jsx(Mfe,{contentRef:u,descriptionId:c.descriptionId})]})]})}),fO="DialogTitle",Sz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(fO,n);return l.jsx(dt.h2,{id:s.titleId,...a,ref:r})});Sz.displayName=fO;var jz="DialogDescription",kz=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(jz,n);return l.jsx(dt.p,{id:s.descriptionId,...a,ref:r})});kz.displayName=jz;var Nz="DialogClose",Ez=y.forwardRef((e,r)=>{const{__scopeDialog:n,...a}=e,s=Lo(Nz,n);return l.jsx(dt.button,{type:"button",...a,ref:r,onClick:rt(e.onClick,()=>s.onOpenChange(!1))})});Ez.displayName=Nz;function hO(e){return e?"open":"closed"}var Cz="DialogTitleWarning",[Dfe,Tz]=$oe(Cz,{contentName:yf,titleName:fO,docsSlug:"dialog"}),Rfe=({titleId:e})=>{const r=Tz(Cz),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Ife="DialogDescriptionWarning",Mfe=({contentRef:e,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tz(Ife).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");r&&s&&(document.getElementById(r)||console.warn(a))},[a,e,r]),null},Z_=pz,mO=vz,eS=yz,Fp=wz,Lp=bz,kx=Sz,Nx=kz,tS=Ez;const Tn=Z_,Uh=mO,Ffe=eS,Az=y.forwardRef(({className:e,...r},n)=>l.jsx(Fp,{ref:n,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));Az.displayName=Fp.displayName;const mn=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(Ffe,{children:[l.jsx(Az,{}),l.jsxs(Lp,{ref:a,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",e),...n,children:[r,l.jsxs(tS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName=Lp.displayName;const pn=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});pn.displayName="DialogHeader";const La=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});La.displayName="DialogFooter";const gn=y.forwardRef(({className:e,...r},n)=>l.jsx(kx,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...r}));gn.displayName=kx.displayName;const $a=y.forwardRef(({className:e,...r},n)=>l.jsx(Nx,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));$a.displayName=Nx.displayName;const Lfe=px("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Vm=y.forwardRef(({className:e,variant:r,...n},a)=>l.jsx("div",{ref:a,role:"alert",className:ve(Lfe({variant:r}),e),...n}));Vm.displayName="Alert";const $fe=y.forwardRef(({className:e,...r},n)=>l.jsx("h5",{ref:n,className:ve("mb-1 font-medium leading-none tracking-tight",e),...r}));$fe.displayName="AlertTitle";const zm=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...r}));zm.displayName="AlertDescription";const Bfe="modulepreload",Ufe=function(e){return"/"+e},ZI={},$p=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Ufe(u),u in ZI)return;ZI[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Bfe,d||(h.as="script"),h.crossOrigin="",h.href=u,c&&h.setAttribute("nonce",c),document.head.appendChild(h),d)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return s.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return r().catch(i)})},Vfe=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>$p(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class pO extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class eM extends pO{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class tM extends pO{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class rM extends pO{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var uE;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uE||(uE={}));class zfe{constructor(r,{headers:n={},customFetch:a,region:s=uE.Any}={}){this.url=r,this.headers=n,this.region=s,this.fetch=Vfe(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return pt(this,arguments,void 0,function*(n,a={}){var s;try{const{headers:i,method:o,body:c,signal:u}=a;let d={},{region:f}=a;f||(f=this.region);const h=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,h.searchParams.set("forceFunctionRegion",f));let m;c&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=c):typeof c=="string"?(d["Content-Type"]="text/plain",m=c):typeof FormData<"u"&&c instanceof FormData?m=c:(d["Content-Type"]="application/json",m=JSON.stringify(c)):m=c;const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:u}).catch(b=>{throw b.name==="AbortError"?b:new eM(b)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new tM(p);if(!p.ok)throw new rM(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield p.json():g==="application/octet-stream"||g==="application/pdf"?x=yield p.blob():g==="text/event-stream"?x=p:g==="multipart/form-data"?x=yield p.formData():x=yield p.text(),{data:x,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new eM(i)}:{data:null,error:i,response:i instanceof rM||i instanceof tM?i.context:void 0}}})}}var es={};const Bp=G8(Vce);var Fy={},Ly={},$y={},By={},Uy={},Wfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wm=Wfe();const Hfe=Wm.fetch,Oz=Wm.fetch.bind(Wm),Pz=Wm.Headers,qfe=Wm.Request,Kfe=Wm.Response,Bf=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pz,Request:qfe,Response:Kfe,default:Oz,fetch:Hfe},Symbol.toStringTag,{value:"Module"})),Gfe=G8(Bf);var Vy={},nM;function Dz(){if(nM)return Vy;nM=1,Object.defineProperty(Vy,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Vy.default=e,Vy}var aM;function Rz(){if(aM)return Uy;aM=1,Object.defineProperty(Uy,"__esModule",{value:!0});const e=Bp,r=e.__importDefault(Gfe),n=e.__importDefault(Dz());class a{constructor(i){var o,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let u=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,h,m,p;let v=null,g=null,x=null,b=d.status,w=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?g=N:g=JSON.parse(N))}const S=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");S&&j&&j.length>1&&(x=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,b=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const S=await d.text();try{v=JSON.parse(S),Array.isArray(v)&&d.status===404&&(g=[],v=null,b=200,w="OK")}catch{d.status===404&&S===""?(b=204,w="No Content"):v={message:S}}if(v&&this.isMaybeSingle&&(!((p=v==null?void 0:v.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,b=200,w="OK"),v&&this.shouldThrowOnError)throw new n.default(v)}return{error:v,data:g,count:x,status:b,statusText:w}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,h,m;return{error:{message:`${(f=d==null?void 0:d.name)!==null&&f!==void 0?f:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),u.then(i,o)}returns(){return this}overrideTypes(){return this}}return Uy.default=a,Uy}var sM;function Iz(){if(sM)return By;sM=1,Object.defineProperty(By,"__esModule",{value:!0});const r=Bp.__importDefault(Rz());class n extends r.default{select(s){let i=!1;const o=(s??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:u=c}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:u=!1,format:d="text"}={}){var f;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,u?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return By.default=n,By}var iM;function gO(){if(iM)return $y;iM=1,Object.defineProperty($y,"__esModule",{value:!0});const r=Bp.__importDefault(Iz()),n=new RegExp("[,()]");class a extends r.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&n.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${d}fts${f}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return $y.default=a,$y}var oM;function Mz(){if(oM)return Ly;oM=1,Object.defineProperty(Ly,"__esModule",{value:!0});const r=Bp.__importDefault(gO());class n{constructor(s,{headers:i={},schema:o,fetch:c}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(s,i){const{head:o=!1,count:c}=i??{},u=o?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var c;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:u=!0}={}){var d;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ly.default=n,Ly}var lM;function Yfe(){if(lM)return Fy;lM=1,Object.defineProperty(Fy,"__esModule",{value:!0});const e=Bp,r=e.__importDefault(Mz()),n=e.__importDefault(gO());class a{constructor(i,{headers:o={},schema:c,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=u}from(i){const o=new URL(`${this.url}/${i}`);return new r.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:u=!1,count:d}={}){var f;let h;const m=new URL(`${this.url}/rpc/${i}`);let p;c||u?(h=c?"HEAD":"GET",Object.entries(o).filter(([g,x])=>x!==void 0).map(([g,x])=>[g,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([g,x])=>{m.searchParams.append(g,x)})):(h="POST",p=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new n.default({method:h,url:m,headers:v,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Fy.default=a,Fy}Object.defineProperty(es,"__esModule",{value:!0});var Fz=es.PostgrestError=Kz=es.PostgrestBuilder=Hz=es.PostgrestTransformBuilder=zz=es.PostgrestFilterBuilder=Uz=es.PostgrestQueryBuilder=$z=es.PostgrestClient=void 0;const Up=Bp,Lz=Up.__importDefault(Yfe());var $z=es.PostgrestClient=Lz.default;const Bz=Up.__importDefault(Mz());var Uz=es.PostgrestQueryBuilder=Bz.default;const Vz=Up.__importDefault(gO());var zz=es.PostgrestFilterBuilder=Vz.default;const Wz=Up.__importDefault(Iz());var Hz=es.PostgrestTransformBuilder=Wz.default;const qz=Up.__importDefault(Rz());var Kz=es.PostgrestBuilder=qz.default;const Gz=Up.__importDefault(Dz());Fz=es.PostgrestError=Gz.default;var Yz=es.default={PostgrestClient:Lz.default,PostgrestQueryBuilder:Bz.default,PostgrestFilterBuilder:Vz.default,PostgrestTransformBuilder:Wz.default,PostgrestBuilder:qz.default,PostgrestError:Gz.default};const Xfe=K8({__proto__:null,get PostgrestBuilder(){return Kz},get PostgrestClient(){return $z},get PostgrestError(){return Fz},get PostgrestFilterBuilder(){return zz},get PostgrestQueryBuilder(){return Uz},get PostgrestTransformBuilder(){return Hz},default:Yz},[es]),{PostgrestClient:Jfe,PostgrestQueryBuilder:xXe,PostgrestFilterBuilder:yXe,PostgrestTransformBuilder:wXe,PostgrestBuilder:bXe,PostgrestError:_Xe}=Yz||Xfe;class Qfe{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Zfe="2.78.0",ehe=`realtime-js/${Zfe}`,the="1.0.0",dE=1e4,rhe=1e3,nhe=100;var fg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fg||(fg={}));var Mn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mn||(Mn={}));var uo;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(uo||(uo={}));var fE;(function(e){e.websocket="websocket"})(fE||(fE={}));var _d;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_d||(_d={}));class ahe{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=a.decode(r.slice(o,o+s));o=o+s;const u=a.decode(r.slice(o,o+i));o=o+i;const d=JSON.parse(a.decode(r.slice(o,r.byteLength)));return{ref:null,topic:c,event:u,payload:d}}}class Xz{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rr||(Rr={}));const cM=(e,r,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((i,o)=>(i[o]=she(o,e,r,s),i),{}):{}},she=(e,r,n,a)=>{const s=r.find(c=>c.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!a.includes(i)?Jz(i,o):hE(o)},Jz=(e,r)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return che(r,n)}switch(e){case Rr.bool:return ihe(r);case Rr.float4:case Rr.float8:case Rr.int2:case Rr.int4:case Rr.int8:case Rr.numeric:case Rr.oid:return ohe(r);case Rr.json:case Rr.jsonb:return lhe(r);case Rr.timestamp:return uhe(r);case Rr.abstime:case Rr.date:case Rr.daterange:case Rr.int4range:case Rr.int8range:case Rr.money:case Rr.reltime:case Rr.text:case Rr.time:case Rr.timestamptz:case Rr.timetz:case Rr.tsrange:case Rr.tstzrange:return hE(r);default:return hE(r)}},hE=e=>e,ihe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ohe=e=>{if(typeof e=="string"){const r=parseFloat(e);if(!Number.isNaN(r))return r}return e},lhe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(r){return console.log(`JSON parse error: ${r}`),e}return e},che=(e,r)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Jz(r,c))}return e},uhe=e=>typeof e=="string"?e.replace(" ","T"):e,Qz=e=>{const r=new URL(e);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class bk{constructor(r,n,a={},s=dE){this.channel=r,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var uM;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uM||(uM={}));class hg{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hg.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=hg.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hg.syncDiff(this.state,s,i,o),c())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,s){const i=this.cloneDeep(r),o=this.transformState(n),c={},u={};return this.map(i,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const h=i[d];if(h){const m=f.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),v=f.filter(x=>p.indexOf(x.presence_ref)<0),g=h.filter(x=>m.indexOf(x.presence_ref)<0);v.length>0&&(c[d]=v),g.length>0&&(u[d]=g)}else c[d]=f}),this.syncDiff(i,{joins:c,leaves:u},a,s)}static syncDiff(r,n,a,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(c,u)=>{var d;const f=(d=r[c])!==null&&d!==void 0?d:[];if(r[c]=this.cloneDeep(u),f.length>0){const h=r[c].map(p=>p.presence_ref),m=f.filter(p=>h.indexOf(p.presence_ref)<0);r[c].unshift(...m)}a(c,f,u)}),this.map(o,(c,u)=>{let d=r[c];if(!d)return;const f=u.map(h=>h.presence_ref);d=d.filter(h=>f.indexOf(h.presence_ref)<0),r[c]=d,s(c,d,u),d.length===0&&delete r[c]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const s=r[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dM;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dM||(dM={}));var mg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mg||(mg={}));var Hl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hl||(Hl={}));class vO{constructor(r,n={config:{}},a){var s,i;if(this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bk(this,uo.join,this.params,this.timeout),this.rejoinTimer=new Xz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(uo.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new hg(this),this.broadcastEndpointURL=Qz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(p=>p.filter))!==null&&s!==void 0?s:[],f=!!this.bindings[mg.PRESENCE]&&this.bindings[mg.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>r==null?void 0:r(Hl.CHANNEL_ERROR,p)),this._onClose(()=>r==null?void 0:r(Hl.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){r==null||r(Hl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,x=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,b=[];for(let w=0;w<x;w++){const _=g[w],{filter:{event:S,schema:j,table:N,filter:k}}=_,C=p&&p[w];if(C&&C.event===S&&C.schema===j&&C.table===N&&C.filter===k)b.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Mn.errored,r==null||r(Hl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,r&&r(Hl.SUBSCRIBED);return}}).receive("error",p=>{this.state=Mn.errored,r==null||r(Hl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Hl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Mn.joined&&r===mg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async httpSend(r,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const d=await c.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(r,n={}){var a,s;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=r,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,u;const d=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Mn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(uo.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new bk(this,uo.leave,{},r),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bk(this,r,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>nhe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var s,i;const o=r.toLocaleLowerCase(),{close:c,error:u,leave:d,join:f}=uo;if(a&&[c,u,d,f].indexOf(o)>=0&&a!==this._joinRef())return;let m=this._onMessage(o,n,a);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,g,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(g=p.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(m,a)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,g,x,b,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(w=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:x,commit_timestamp:b,type:w,errors:_}=v;m=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:b,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(m,a)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const s=r.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&vO.isEqual(s.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(uo.close,{},r)}_onError(r){this._on(uo.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=cM(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=cM(r.columns,r.old_record)),n}}const _k=()=>{},zy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dhe=[1e3,2e3,5e3,1e4],fhe=1e4,hhe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mhe{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dE,this.transport=null,this.heartbeatIntervalMs=zy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_k,this.ref=0,this.reconnectTimer=null,this.logger=_k,this.conn=null,this.sendBuffer=[],this.serializer=new ahe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>$p(async()=>{const{default:c}=await Promise.resolve().then(()=>Bf);return{default:c}},void 0).then(({default:c})=>c(...o)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${fE.websocket}`,this.httpEndpoint=Qz(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qfe.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:the}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case fg.connecting:return _d.Connecting;case fg.open:return _d.Open;case fg.closing:return _d.Closing;default:return _d.Closed}}isConnected(){return this.connectionState()===_d.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new vO(`realtime:${r}`,n,this);return this.channels.push(i),i}}push(r){const{topic:n,event:a,payload:s,ref:i}=r,o=()=>{this.encode(r,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(rhe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},zy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:o}=n,c=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${a} ${s} ${c}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(uo.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${r}${a}${s}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([hhe],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:ehe};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(uo.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${r} callback`,s)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Xz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,s,i,o,c,u,d,f;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:dE,this.heartbeatIntervalMs=(s=r==null?void 0:r.heartbeatIntervalMs)!==null&&s!==void 0?s:zy.HEARTBEAT_INTERVAL,this.worker=(i=r==null?void 0:r.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r==null?void 0:r.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=r==null?void 0:r.heartbeatCallback)!==null&&c!==void 0?c:_k,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=r==null?void 0:r.reconnectAfterMs)!==null&&u!==void 0?u:h=>dhe[h-1]||fhe,this.encode=(d=r==null?void 0:r.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(f=r==null?void 0:r.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class xO extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Jr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class phe extends xO{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mE extends xO{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}const yO=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>$p(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},ghe=()=>pt(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $p(()=>Promise.resolve().then(()=>Bf),void 0)).Response:Response}),pE=e=>{if(Array.isArray(e))return e.map(n=>pE(n));if(typeof e=="function"||e!==Object(e))return e;const r={};return Object.entries(e).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[s]=pE(a)}),r},vhe=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sk=e=>{var r;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(r=e.error)===null||r===void 0?void 0:r.message)||JSON.stringify(e)},xhe=(e,r,n)=>pt(void 0,void 0,void 0,function*(){const a=yield ghe();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";r(new phe(Sk(s),i,o))}).catch(s=>{r(new mE(Sk(s),s))}):r(new mE(Sk(e),e))}),yhe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"||!a?s:(vhe(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,r!=null&&r.duplex&&(s.duplex=r.duplex),Object.assign(Object.assign({},s),n))};function Ex(e,r,n,a,s,i){return pt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,yhe(r,a,s,i)).then(u=>{if(!u.ok)throw u;return a!=null&&a.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>xhe(u,c,a))})})}function ov(e,r,n,a){return pt(this,void 0,void 0,function*(){return Ex(e,"GET",r,n,a)})}function io(e,r,n,a,s){return pt(this,void 0,void 0,function*(){return Ex(e,"POST",r,a,s,n)})}function gE(e,r,n,a,s){return pt(this,void 0,void 0,function*(){return Ex(e,"PUT",r,a,s,n)})}function whe(e,r,n,a){return pt(this,void 0,void 0,function*(){return Ex(e,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function wO(e,r,n,a,s){return pt(this,void 0,void 0,function*(){return Ex(e,"DELETE",r,a,s,n)})}class bhe{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}execute(){return pt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}var Zz;class _he{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Zz]="BlobDownloadBuilder",this.promise=null}asStream(){return new bhe(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return pt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}}Zz=Symbol.toStringTag;const She={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fM={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jhe{constructor(r,n={},a,s){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=yO(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,n,a,s){return pt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},fM),s);let c=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=a,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),h=yield(r=="PUT"?gE:io)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}upload(r,n,a){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,s){return pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(r),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let u;const d=Object.assign({upsert:fM.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",d.cacheControl)):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const h=yield gE(this.fetch,c.toString(),u,{headers:f});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Jr(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(r,n){return pt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield io(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new xO("No token returned by API");return{data:{signedUrl:o.toString(),path:r,token:c},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}update(r,n,a){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return pt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}copy(r,n,a){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield io(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrl(r,n,a){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r),i=yield io(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}createSignedUrls(r,n,a){return pt(this,void 0,void 0,function*(){try{const s=yield io(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}download(r,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(r),u=()=>ov(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new _he(u,this.shouldThrowOnError)}info(r){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield ov(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pE(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}exists(r){return pt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield whe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a)&&a instanceof mE){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${d}`)}}}remove(r){return pt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}list(r,n,a){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},She),n),{prefix:r||""});return{data:yield io(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}listV2(r,n){return pt(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield io(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const eW="2.78.0",tW={"X-Client-Info":`storage-js/${eW}`};class khe{constructor(r,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(r);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=yO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return pt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(r);return{data:yield ov(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}getBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield ov(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}createBucket(r){return pt(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Jr(s))return{data:null,error:s};throw s}})}updateBucket(r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield gE(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}emptyBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Nhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tW),n),this.fetch=yO(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}listBuckets(r){return pt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&n.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&n.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&n.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&n.set("sortOrder",r.sortOrder),r!=null&&r.search&&n.set("search",r.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield ov(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield wO(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}}const bO={"X-Client-Info":`storage-js/${eW}`,"Content-Type":"application/json"};class rW extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ri(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class jk extends rW{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ehe extends rW{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}}var hM;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hM||(hM={}));const _O=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>$p(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},Che=e=>{if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mM=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),The=(e,r,n)=>pt(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";r(new jk(mM(o),s,c))}).catch(()=>{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))});else{const o=s+"",c=i.statusText||`HTTP ${s} error`;r(new jk(c,s,o))}}else r(new Ehe(mM(e),e))}),Ahe=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return a?(Che(a)?(s.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function Ohe(e,r,n,a,s,i){return pt(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,Ahe(r,a,s,i)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;const d=u.headers.get("content-type");return!d||!d.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>The(u,c,a))})})}function ni(e,r,n,a,s){return pt(this,void 0,void 0,function*(){return Ohe(e,"POST",r,a,s,n)})}class Phe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return pt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getIndex(r,n){return pt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ri(a))return{data:null,error:a};throw a}})}listIndexes(r){return pt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteIndex(r,n){return pt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ri(a))return{data:null,error:a};throw a}})}}class Dhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return pt(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getVectors(r){return pt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listVectors(r){return pt(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ni(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}queryVectors(r){return pt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteVectors(r){return pt(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class Rhe{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bO),n),this.fetch=_O(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}getBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}listBuckets(){return pt(this,arguments,void 0,function*(r={}){try{return{data:yield ni(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}deleteBucket(r){return pt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ri(n))return{data:null,error:n};throw n}})}}class Ihe extends Rhe{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Mhe(this.url,this.headers,r,this.fetch)}}class Mhe extends Phe{constructor(r,n,a,s){super(r,n,s),this.vectorBucketName=a}createIndex(r){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return pt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return pt(this,arguments,void 0,function*(n={}){return r.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return pt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return pt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Fhe(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Fhe extends Dhe{constructor(r,n,a,s,i){super(r,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(r){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return pt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return pt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return pt(this,arguments,void 0,function*(n={}){return r.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return pt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return pt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Lhe extends khe{constructor(r,n={},a,s){super(r,n,a,s)}from(r){return new jhe(this.url,this.headers,r,this.fetch)}get vectors(){return new Ihe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nhe(this.url+"/iceberg",this.headers,this.fetch)}}const $he="2.78.0";let W0="";typeof Deno<"u"?W0="deno":typeof document<"u"?W0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?W0="react-native":W0="node";const Bhe={"X-Client-Info":`supabase-js-${W0}/${$he}`},Uhe={headers:Bhe},Vhe={schema:"public"},zhe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Whe={},Hhe=e=>{let r;return e?r=e:typeof fetch>"u"?r=Oz:r=fetch,(...n)=>r(...n)},qhe=()=>typeof Headers>"u"?Pz:Headers,Khe=(e,r,n)=>{const a=Hhe(n),s=qhe();return async(i,o)=>{var c;const u=(c=await r())!==null&&c!==void 0?c:e;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),a(i,Object.assign(Object.assign({},o),{headers:d}))}};function Ghe(e){return e.endsWith("/")?e:e+"/"}function Yhe(e,r){var n,a;const{db:s,auth:i,realtime:o,global:c}=e,{db:u,auth:d,realtime:f,global:h}=r,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=c==null?void 0:c.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Xhe(e){const r=e==null?void 0:e.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ghe(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nW="2.78.0",yh=30*1e3,vE=3,kk=vE*yh,Jhe="http://localhost:9999",Qhe="supabase.auth.token",Zhe={"X-Client-Info":`gotrue-js/${nW}`},xE="X-Supabase-Api-Version",aW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tme=10*60*1e3;class lv extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rme extends lv{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function nme(e){return bt(e)&&e.name==="AuthApiError"}class Sd extends lv{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Zu extends lv{constructor(r,n,a,s){super(r,a,s),this.name=n,this.status=a}}class ro extends Zu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ame(e){return bt(e)&&e.name==="AuthSessionMissingError"}class sh extends Zu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wy extends Zu{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Hy extends Zu{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sme(e){return bt(e)&&e.name==="AuthImplicitGrantRedirectError"}class pM extends Zu{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yE extends Zu{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Nk(e){return bt(e)&&e.name==="AuthRetryableFetchError"}class gM extends Zu{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class wE extends Zu{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vM=` 	
\r=`.split(""),ime=(()=>{const e=new Array(128);for(let r=0;r<e.length;r+=1)e[r]=-1;for(let r=0;r<vM.length;r+=1)e[vM[r].charCodeAt(0)]=-2;for(let r=0;r<Rw.length;r+=1)e[Rw[r].charCodeAt(0)]=r;return e})();function xM(e,r,n){if(e!==null)for(r.queue=r.queue<<8|e,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Rw[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Rw[a]),r.queuedBits-=6}}function sW(e,r,n){const a=ime[e];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yM(e){const r=[],n=o=>{r.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cme(o,a,n)};for(let o=0;o<e.length;o+=1)sW(e.charCodeAt(o),s,i);return r.join("")}function ome(e,r){if(e<=127){r(e);return}else if(e<=2047){r(192|e>>6),r(128|e&63);return}else if(e<=65535){r(224|e>>12),r(128|e>>6&63),r(128|e&63);return}else if(e<=1114111){r(240|e>>18),r(128|e>>12&63),r(128|e>>6&63),r(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lme(e,r){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ome(a,r)}}function cme(e,r,n){if(r.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=e&31;else if(r.utf8seq===3)r.codepoint=e&15;else if(r.utf8seq===4)r.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|e&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function sm(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};for(let s=0;s<e.length;s+=1)sW(e.charCodeAt(s),n,a);return new Uint8Array(r)}function ume(e){const r=[];return lme(e,n=>r.push(n)),new Uint8Array(r)}function Rd(e){const r=[],n={queue:0,queuedBits:0},a=s=>{r.push(s)};return e.forEach(s=>xM(s,n,a)),xM(null,n,a),r.join("")}function dme(e){return Math.round(Date.now()/1e3)+e}function fme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const r=Math.random()*16|0;return(e=="x"?r:r&3|8).toString(16)})}const Ka=()=>typeof window<"u"&&typeof document<"u",ud={tested:!1,writable:!1},iW=()=>{if(!Ka())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ud.tested)return ud.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ud.tested=!0,ud.writable=!0}catch{ud.tested=!0,ud.writable=!1}return ud.writable};function hme(e){const r={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{r[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{r[s]=a}),r}const oW=e=>{let r;return e?r=e:typeof fetch>"u"?r=(...n)=>$p(async()=>{const{default:a}=await Promise.resolve().then(()=>Bf);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},mme=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wh=async(e,r,n)=>{await e.setItem(r,JSON.stringify(n))},dd=async(e,r)=>{const n=await e.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Bc=async(e,r)=>{await e.removeItem(r)};class rS{constructor(){this.promise=new rS.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}rS.promiseConstructor=Promise;function Ek(e){const r=e.split(".");if(r.length!==3)throw new wE("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!eme.test(r[a]))throw new wE("JWT not in base64url format");return{header:JSON.parse(yM(r[0])),payload:JSON.parse(yM(r[1])),signature:sm(r[2]),raw:{header:r[0],payload:r[1]}}}async function pme(e){return await new Promise(r=>{setTimeout(()=>r(null),e)})}function gme(e,r){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!r(i,null,o)){a(o);return}}catch(o){if(!r(i,o)){s(o);return}}})()})}function vme(e){return("0"+e.toString(16)).substr(-2)}function xme(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(r),Array.from(r,vme).join("")}async function yme(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function wme(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yme(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ih(e,r,n=!1){const a=xme();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await wh(e,`${r}-code-verifier`,s);const i=await wme(a);return[i,a===i?"plain":"s256"]}const bme=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _me(e){const r=e.headers.get(xE);if(!r||!r.match(bme))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Sme(e){if(!e)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(e<=r)throw new Error("JWT has expired")}function jme(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kme=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oh(e){if(!kme.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ck(){const e={};return new Proxy(e,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nme(e,r){return new Proxy(e,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,a,s)}})}function wM(e){return JSON.parse(JSON.stringify(e))}const xd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Eme=[502,503,504];async function bM(e){var r;if(!mme(e))throw new yE(xd(e),0);if(Eme.includes(e.status))throw new yE(xd(e),e.status);let n;try{n=await e.json()}catch(i){throw new Sd(xd(i),i)}let a;const s=_me(e);if(s&&s.getTime()>=aW["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gM(xd(n),e.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new ro}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gM(xd(n),e.status,n.weak_password.reasons);throw new rme(xd(n),e.status||500,a)}const Cme=(e,r,n,a)=>{const s={method:e,headers:(r==null?void 0:r.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Tt(e,r,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[xE]||(i[xE]=aW["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Tme(e,r,n+c,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(u):{data:Object.assign({},u),error:null}}async function Tme(e,r,n,a,s,i){const o=Cme(r,a,s,i);let c;try{c=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new yE(xd(u),0)}if(c.ok||await bM(c),a!=null&&a.noResolveJson)return c;try{return await c.json()}catch(u){await bM(u)}}function no(e){var r;let n=null;Pme(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=dme(e.expires_in)));const a=(r=e.user)!==null&&r!==void 0?r:e;return{data:{session:n,user:a},error:null}}function _M(e){const r=no(e);return!r.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=e.weak_password),r}function Qc(e){var r;return{data:{user:(r=e.user)!==null&&r!==void 0?r:e},error:null}}function Ame(e){return{data:e,error:null}}function Ome(e){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=e,o=Xu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:r,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function SM(e){return e}function Pme(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tk=["global","local","others"];class Dme{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=oW(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Tk[0]){if(Tk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tk.join(", ")}`);try{return await Tt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await Tt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Xu(r,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Tt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ome,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(bt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Qc})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Tt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(bt(d))return{data:{users:[]},error:d};throw d}}async getUserById(r){oh(r);try{return await Tt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Qc})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){oh(r);try{return await Tt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Qc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){oh(r);try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qc})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){oh(r.userId);try{const{data:n,error:a}=await Tt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _deleteFactor(r){oh(r.userId),oh(r.id);try{return{data:await Tt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,a,s,i,o,c,u;try{const d={nextPage:null,lastPage:0,total:0},f=await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=r==null?void 0:r.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SM});if(f.error)throw f.error;const h=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=f.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);d[`${x}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(bt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await Tt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await Tt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Tt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await Tt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}}function jM(e={}){return{getItem:r=>e[r]||null,setItem:(r,n)=>{e[r]=n},removeItem:r=>{delete e[r]}}}const lh={debug:!!(globalThis&&iW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lW extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Rme extends lW{}async function Ime(e,r,n){lh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),lh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){lh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{lh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(r===0)throw lh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rme(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(lh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Mme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cW(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Fme(e){return parseInt(e,16)}function Lme(e){const r=new TextEncoder().encode(e);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function $me(e){var r;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:u,resources:d,scheme:f,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((r=e.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=cW(e.address),v=f?`${f}://${a}`:a,g=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),c&&(b+=`
Not Before: ${c.toISOString()}`),u&&(b+=`
Request ID: ${u}`),d){let w=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}b+=w}return`${x}
${b}`}class Nn extends Error{constructor({message:r,code:n,cause:a,name:s}){var i;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Iw extends Nn{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function Bme({error:e,options:r}){var n,a,s;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(r.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(uW(o)){if(i.rp.id!==o)return new Nn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ume({error:e,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(uW(a)){if(n.rpId!==a)return new Nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vme{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const zme=new Vme;function Wme(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:r,user:n,excludeCredentials:a}=e,s=Xu(e,["challenge","user","excludeCredentials"]),i=sm(r).buffer,o=Object.assign(Object.assign({},n),{id:sm(n.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){c.excludeCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const d=a[u];c.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:sm(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function Hme(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:r,allowCredentials:n}=e,a=Xu(e,["challenge","allowCredentials"]),s=sm(r).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const c=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:sm(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function qme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Rd(new Uint8Array(e.response.attestationObject)),clientDataJSON:Rd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Kme(e){var r;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Rd(new Uint8Array(s.authenticatorData)),clientDataJSON:Rd(new Uint8Array(s.clientDataJSON)),signature:Rd(new Uint8Array(s.signature)),userHandle:s.userHandle?Rd(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function uW(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kM(){var e,r;return!!(Ka()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Gme(e){try{const r=await navigator.credentials.create(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Iw("Browser returned unexpected credential type",r)}:{data:null,error:new Iw("Empty credential response",r)}}catch(r){return{data:null,error:Bme({error:r,options:e})}}}async function Yme(e){try{const r=await navigator.credentials.get(e);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Iw("Browser returned unexpected credential type",r)}:{data:null,error:new Iw("Empty credential response",r)}}catch(r){return{data:null,error:Ume({error:r,options:e})}}}const Xme={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jme={userVerification:"preferred",hints:["security-key"]};function Mw(...e){const r=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(n(o))a[i]=o;else if(r(o)){const c=a[i];r(c)?a[i]=Mw(c,o):a[i]=Mw(o)}else a[i]=o}return a}function Qme(e,r){return Mw(Xme,e,r||{})}function Zme(e,r){return Mw(Jme,e,r||{})}class epe{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:a,signal:s},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!o)return{data:null,error:c};const u=s??zme.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Qme(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await Gme({publicKey:d,signal:u});return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=Zme(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await Yme(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in challenge",o)}}}async _verify({challengeId:r,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new lv("rpId is required for WebAuthn authentication")};try{if(!kM())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:r,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:a,credential_response:u.credential_response}})}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in authenticate",o)}}}async _register({friendlyName:r,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new lv("rpId is required for WebAuthn registration")};try{if(!kM())return{data:null,error:new Sd("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:r});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===r&&m.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:c};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:a,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return bt(o)?{data:null,error:o}:{data:null,error:new Sd("Unexpected error in register",o)}}}}Mme();const tpe={url:Jhe,storageKey:Qhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Zhe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function NM(e,r,n){return await n()}const ch={};class cv{get jwks(){var r,n;return(n=(r=ch[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){ch[this.storageKey]=Object.assign(Object.assign({},ch[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=ch[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ch[this.storageKey]=Object.assign(Object.assign({},ch[this.storageKey]),{cachedAt:r})}constructor(r){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cv.nextInstanceID,cv.nextInstanceID+=1,this.instanceID>0&&Ka()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},tpe),r);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Dme({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=oW(s.fetch),this.lock=s.lock||NM,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ka()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ime:this.lock=NM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new epe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jM(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jM(this.memoryStorage)),Ka()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nW}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=hme(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Ka()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),sme(i)){const u=(r=i.details)===null||r===void 0?void 0:r.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return bt(n)?{error:n}:{error:new Sd("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,s;try{const i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.captchaToken}},xform:no}),{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(r){var n,a,s;try{let i;if("email"in r){const{email:f,password:h,options:m}=r;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ih(this.storage,this.storageKey)),i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},xform:no})}else if("phone"in r){const{phone:f,password:h,options:m}=r;i=await Tt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:no})}else throw new Wy("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return{data:{user:null,session:null},error:c};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(r){try{let n;if("email"in r){const{email:i,password:o,options:c}=r;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else if("phone"in r){const{phone:i,password:o,options:c}=r;n=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_M})}else throw new Wy("You must provide either an email or phone number and a password");const{data:a,error:s}=n;return s?{data:{user:null,session:null},error:s}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new sh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,s,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=r.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,a,s,i,o,c,u,d,f,h,m;let p,v;if("message"in r)p=r.message,v=r.signature;else{const{chain:g,wallet:x,statement:b,options:w}=r;let _;if(Ka())if(typeof x=="object")_=x;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),j=await _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=cW(j[0]);let k=(a=w==null?void 0:w.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!k){const E=await _.request({method:"eth_chainId"});k=Fme(E)}const C={domain:S.host,address:N,statement:b,uri:S.href,version:"1",chainId:k,nonce:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=w==null?void 0:w.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=w==null?void 0:w.signInWithEthereum)===null||f===void 0?void 0:f.resources};p=$me(C),v=await _.request({method:"personal_sign",params:[Lme(p),N]})}try{const{data:g,error:x}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=r.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=r.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:no});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new sh}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(bt(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(r){var n,a,s,i,o,c,u,d,f,h,m,p;let v,g;if("message"in r)v=r.message,g=r.signature;else{const{chain:x,wallet:b,statement:w,options:_}=r;let S;if(Ka())if(typeof b=="object")S=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),w?{statement:w}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(a=_==null?void 0:_.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=_==null?void 0:_.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_==null?void 0:_.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(f=_==null?void 0:_.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:x,error:b}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Rd(g)},!((m=r.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=r.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:no});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new sh}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(bt(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:o}=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:no});if(await Bc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sh}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(bt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(r){try{const{options:n,provider:a,token:s,access_token:i,nonce:o}=r,c=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:no}),{data:u,error:d}=c;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new sh}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,s,i,o;try{if("email"in r){const{email:c,options:u}=r;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await ih(this.storage,this.storageKey));const{error:h}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in r){const{phone:c,options:u}=r,{data:d,error:f}=await Tt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f}}throw new Wy("You must provide either an email or phone number.")}catch(c){if(bt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(r){var n,a;try{let s,i;"options"in r&&(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo,i=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:c}=await Tt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:no});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(r){var n,a,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ih(this.storage,this.storageKey)),await Tt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=r==null?void 0:r.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ame})}catch(i){if(bt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new ro;const{error:s}=await Tt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(r){if(bt(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:s,options:i}=r,{error:o}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in r){const{phone:a,type:s,options:i}=r,{data:o,error:c}=await Tt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Wy("You must provide either an email or phone number and a type")}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await dd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<kk:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const o=await dd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Ck()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};r.user=Nme(r.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Qc}):await this._useSession(async n=>{var a,s,i;const{data:o,error:c}=n;if(c)throw c;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ro}:await Tt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Qc})})}catch(n){if(bt(n))return ame(n)&&(await this._removeSession(),await Bc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new ro;const o=s.session;let c=null,u=null;this.flowType==="pkce"&&r.email!=null&&([c,u]=await ih(this.storage,this.storageKey));const{data:d,error:f}=await Tt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:Qc});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(a){if(bt(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ro;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:o}=Ek(r.access_token);if(o.exp&&(a=o.exp,s=a<=n),s){const{data:c,error:u}=await this._callRefreshToken(r.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:u}=await this._getUser(r.access_token);if(u)throw u;i={access_token:r.access_token,refresh_token:r.refresh_token,user:c.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(bt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:o,error:c}=n;if(c)throw c;r=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new ro;const{data:s,error:i}=await this._callRefreshToken(r.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Ka())throw new Hy("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Hy(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pM("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hy("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new pM("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(r.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:c,expires_at:u,token_type:d}=r;if(!i||!c||!o||!d)throw new Hy("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(c);let m=f+h;u&&(m=parseInt(u));const p=m-f;p*1e3<=yh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=m-h;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,f);const{data:g,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:r.type},error:null}}catch(a){if(bt(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await dd(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{error:i};const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:c}=await this.admin.signOut(o,r);if(c&&!(nme(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return r!=="others"&&(await this._removeSession(),await Bc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=fme(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await ih(this.storage,this.storageKey,!0));try{return await Tt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(bt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var o,c,u,d,f;const{data:h,error:m}=i;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=r.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await Tt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ka()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(bt(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:c,token:u,access_token:d,nonce:f}=r,h=await Tt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:c,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:no}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new sh}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:p})}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)throw o;return await Tt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await gme(async s=>(s>0&&await pme(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Tt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:no})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Nk(i)&&Date.now()+o-a<yh})}catch(a){if(this._debug(n,"error",a),bt(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Ka()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await dd(this.storage,this.storageKey);if(s&&this.userStorage){let o=await dd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await wh(this.userStorage,this.storageKey+"-user",o)),s.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Ck()}else if(s&&!s.user&&!s.user){const o=await dd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Bc(this.storage,this.storageKey+"-user"),await wh(this.storage,this.storageKey,s)):s.user=Ck()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<kk;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${kk}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Nk(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(s.access_token);!c&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new ro;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rS;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new ro;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(s,"error",i),bt(i)){const o={data:null,error:i};return Nk(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(r,n,a=!0){const s=`#_notifyAllSubscribers(${r})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(r,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wh(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=wM(s);await wh(this.storage,this.storageKey,i)}else{const s=wM(n);await wh(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Bc(this.storage,this.storageKey),await Bc(this.storage,this.storageKey+"-code-verifier"),await Bc(this.storage,this.storageKey+"-user"),this.userStorage&&await Bc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ka()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),yh);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-r)/yh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yh}ms, refresh threshold is ${vE} ticks`),s<=vE&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof lW)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ka()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await ih(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(c.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${s.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?{data:null,error:i}:await Tt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const c=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:u,error:d}=await Tt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(r.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?qme(r.webauthn.credential_response):Kme(r.webauthn.credential_response)})}:{code:r.code}),{data:c,error:u}=await Tt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(n){if(bt(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Tt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Wme(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Hme(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(bt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:a},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ek(a.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?{data:null,error:s}:a?await Tt(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new ro}})}catch(n){if(bt(n))return{data:null,error:n};throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new ro};const o=await Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ka()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async _denyAuthorization(r,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return{data:null,error:i};if(!s)return{data:null,error:new ro};const o=await Tt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ka()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(bt(a))return{data:null,error:a};throw a}}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(c=>c.kid===r);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(c=>c.kid===r),a&&this.jwks_cached_at+tme>s)return a;const{data:i,error:o}=await Tt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(c=>c.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};a=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:c,payload:u}}=Ek(a);n!=null&&n.allowExpired||Sme(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:p}=await this.getUser(a);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=jme(s.alg),h=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,ume(`${c}.${u}`)))throw new wE("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}}}cv.nextInstanceID=0;const rpe=cv;class npe extends rpe{constructor(r){super(r)}}class ape{constructor(r,n,a){var s,i,o;this.supabaseUrl=r,this.supabaseKey=n;const c=Xhe(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Vhe,realtime:Whe,auth:Object.assign(Object.assign({},zhe),{storageKey:u}),global:Uhe},f=Yhe(a??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Khe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Jfe(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Lhe(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new zfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:o,flowType:c,lock:u,debug:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new npe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:c,lock:u,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new mhe(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const spe=(e,r,n)=>new ape(e,r,n);function ipe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}ipe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ope="https://studio.middar.com/",lpe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3NjQwMDE2ODQsImV4cCI6MjA3OTU3NzY4NH0.sHsfXuCJ0n1y6g29oFxifU1KCkSZzCzZ7_x1zQDbFDY",Qt=spe(ope,lpe,{auth:{autoRefreshToken:!1,persistSession:!0,detectSessionInUrl:!0,storageKey:"middar_crm_session"}});function cpe({onToggleSidebar:e}){var S,j,N;const{breadcrumbs:r}=fx(),{user:n,logout:a}=Sr(),{t:s}=Kt(),i=zs(),{setTheme:o}=sie(),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,m]=y.useState(""),[p,v]=y.useState(""),[g,x]=y.useState(!1),b=()=>{try{a(),i("/login")}catch(k){console.error("Logout failed:",k),i("/login")}},w=()=>{u(!0)},_=async k=>{if(k.preventDefault(),!g){if(!d.trim()){v(s("settings.newPasswordRequired"));return}if(d.length<6){v(s("settings.passwordTooShort"));return}if(d!==h){v(s("settings.passwordsDoNotMatch"));return}v(""),x(!0);try{const{error:C}=await Qt.auth.updateUser({password:d});if(C)throw C;u(!1),f(""),m(""),alert(s("settings.passwordChangedSuccessfully"))}catch(C){console.error("Password change failed:",C),v(C.message||s("settings.passwordChangeFailed"))}finally{x(!1)}}};return l.jsxs("header",{className:"border-b bg-background/80 backdrop-blur-md sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"h-16 flex items-center px-4 md:px-6 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:e,className:"text-foreground hover:bg-accent hover:text-accent-foreground p-2 rounded-lg transition-all","aria-label":"Toggle sidebar",children:l.jsx(Pie,{className:"h-5 w-5"})}),r&&r.length>0&&l.jsx("div",{className:"hidden md:block",children:l.jsx(Koe,{items:r})})]}),l.jsx("div",{className:"hidden md:flex flex-1 max-w-md",children:l.jsxs("div",{className:"relative w-full",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(He,{type:"search",placeholder:s("common.search","Search..."),className:"pl-10 pr-4 h-9 bg-muted/50 border-0 focus-visible:ring-1"}),l.jsxs("kbd",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100",children:[l.jsx("span",{className:"text-xs",children:""}),"K"]})]})}),l.jsx("div",{className:"flex-1"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"text-sm text-muted-foreground hidden md:block",children:Ae((n==null?void 0:n.profile)||{},"user_name")||(n==null?void 0:n.email)}),l.jsx(fV,{}),l.jsxs("button",{className:"text-foreground hover:text-muted-foreground relative transition-colors",title:s("common.notifications"),children:[l.jsx(vie,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary flex items-center justify-center",children:l.jsx("span",{className:"h-2 w-2 rounded-full bg-primary-foreground"})}),l.jsx("span",{className:"sr-only",children:s("common.notifications")})]}),l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,children:l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 hover:bg-accent",title:s("navigation.settings"),children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Po,{src:(S=n==null?void 0:n.profile)==null?void 0:S.avatar}),l.jsx(Is,{className:"bg-primary/10 text-primary font-semibold text-sm",children:(j=n==null?void 0:n.email)==null?void 0:j.charAt(0).toUpperCase()})]}),l.jsx("span",{className:"sr-only",children:s("navigation.settings")})]})}),l.jsxs(J_,{align:"end",className:"w-56",children:[l.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:l.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[l.jsx("p",{className:"font-medium text-sm",children:Ae((n==null?void 0:n.profile)||{},"user_name")||((N=n==null?void 0:n.email)==null?void 0:N.split("@")[0])}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n==null?void 0:n.email})]})}),l.jsx(cE,{}),l.jsxs(Yl,{onClick:()=>o("light"),children:[l.jsx(Lie,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.light","Light")})]}),l.jsxs(Yl,{onClick:()=>o("dark"),children:[l.jsx(Rie,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.dark","Dark")})]}),l.jsxs(Yl,{onClick:()=>o("system"),children:[l.jsx(e9,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:s("theme.system","System")})]}),l.jsx(cE,{}),l.jsxs(Yl,{onClick:w,children:[l.jsx(Aie,{className:"h-4 w-4 mr-2"}),s("settings.changePassword")]}),l.jsxs(Yl,{onClick:b,className:"text-destructive focus:text-destructive",children:[l.jsx(Vie,{className:"h-4 w-4 mr-2"}),s("buttons.logout")]})]})]})]})]}),l.jsx(Tn,{open:c,onOpenChange:u,children:l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:s("settings.changePassword")}),l.jsx($a,{children:s("settings.changePasswordDescription")})]}),l.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:p})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"newPassword",children:s("settings.newPassword")}),l.jsx(He,{id:"newPassword",type:"password",value:d,onChange:k=>f(k.target.value),placeholder:s("settings.newPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"confirmPassword",children:s("settings.confirmPassword")}),l.jsx(He,{id:"confirmPassword",type:"password",value:h,onChange:k=>m(k.target.value),placeholder:s("settings.confirmPasswordPlaceholder"),required:!0,minLength:6})]}),l.jsxs(La,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>u(!1),className:"w-full sm:w-auto",children:s("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:g||!d.trim()||!h.trim(),className:"w-full sm:w-auto",children:s(g?"settings.changingPassword":"settings.changePassword")})]})]})]})})]})}const Sl=Z_,dW=mO,upe=eS,fW=y.forwardRef(({className:e,...r},n)=>l.jsx(Fp,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));fW.displayName=Fp.displayName;const dpe=px("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Io=y.forwardRef(({side:e="right",className:r,children:n,...a},s)=>l.jsxs(upe,{children:[l.jsx(fW,{}),l.jsxs(Lp,{ref:s,className:ve(dpe({side:e}),r),...a,children:[n,l.jsxs(tS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Io.displayName=Lp.displayName;const xc=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...r});xc.displayName="SheetHeader";const jl=y.forwardRef(({className:e,...r},n)=>l.jsx(kx,{ref:n,className:ve("text-lg font-semibold text-foreground",e),...r}));jl.displayName=kx.displayName;const Cx=y.forwardRef(({className:e,...r},n)=>l.jsx(Nx,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));Cx.displayName=Nx.displayName;function bE({children:e}){const[r,n]=y.useState(!0),[a,s]=y.useState(!1);y.useEffect(()=>{const c=()=>{s(window.innerWidth<1024),window.innerWidth<1024?n(!1):n(!0)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const i=()=>{n(!r)},o=()=>{a&&n(!1)};return l.jsxs("div",{className:"h-screen bg-background w-full flex flex-col",children:[l.jsx(cpe,{onToggleSidebar:i}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!a&&l.jsx("aside",{className:ve("bg-sidebar transition-all duration-300 ease-in-out hidden lg:block",r?"w-60":"w-0 overflow-hidden"),style:{height:"calc(100vh - 64px)"},children:l.jsx(TI,{onNavigate:o})}),a&&l.jsx(Sl,{open:r,onOpenChange:n,children:l.jsxs(Io,{side:Yt()?"right":"left",className:"p-0 w-60 [&>button]:hidden",children:[l.jsx(jl,{className:"sr-only",children:"Navigation Menu"}),l.jsx(Cx,{className:"sr-only",children:"Application navigation sidebar"}),l.jsx(TI,{onNavigate:o})]})}),l.jsx("main",{className:"flex-1 overflow-hidden bg-background w-full",children:l.jsx("div",{className:"h-full p-3 sm:p-4 md:p-6 pt-2 overflow-y-auto",children:e})})]})]})}const ns={async getAll(){try{console.log("[stageService] Fetching all stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch stages:",e),e}},async getGlobalStages(){try{console.log("[stageService] Fetching global stages...");const e=await G.stages.list({sort_by:"stager_order_index",sort_order:"asc",pageSize:50});return console.log(`[stageService] Successfully fetched ${e.data.length} global stages`),e.data}catch(e){throw console.error("[stageService] Failed to fetch global stages:",e),e}},async getByType(e){try{console.log(`[stageService] Fetching stages for type: ${e}...`);const r=await G.stages.list({exact_filters:{stage_type:e},sort_by:"stager_order_index",sort_order:"asc"});return console.log(`[stageService] Successfully fetched ${r.data.length} ${e} stages`),r.data}catch(r){throw console.error(`[stageService] Failed to fetch ${e} stages: `,r),r}},async create(e){try{const r=await this.getAll(),n=r.length>0?Math.max(...r.map(o=>o.stager_order_index||0)):-1,a=e.stager_order_index??n+1,s={stage_name:e.stage_name,stage_name_ar:e.stage_name_ar||null,stage_type:e.stage_type,stager_order_index:a,color:e.color,color_var:e.color_var};return await G.stages.create(s)}catch(r){throw console.error("[stageService] Failed to create stage:",r),r}},async update(e,r){try{const n=wl(r,{stage_name:"stage_name"});await G.stages.update(e,n)}catch(n){throw console.error("[stageService] Failed to update stage:",n),n}},async delete(e){try{await G.stages.delete(e)}catch(r){throw console.error("[stageService] Failed to delete stage:",r),r}}},cn={async getAll(){try{console.log("[userService] Fetching all users...");const e=await G.Users.list();return console.log(`[userService] Successfully fetched ${e.data.length} users`),e.data}catch(e){throw console.error("[userService] Failed to fetch users:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{return await G.Users.get(e)}catch(r){return console.error("[userService] Failed to fetch user:",r),null}},async getByAuthId(e){try{return(await G.Users.list({exact_filters:{userid:e}})).data[0]||null}catch(r){return console.error("[userService] Failed to fetch user by auth ID:",r),null}},async update(e,r){try{const n={};r.name!==void 0&&(n.name=r.name),r.Email!==void 0&&(n.Email=r.Email),r.permissions!==void 0&&(n.permissions=r.permissions),r.mobile!==void 0&&(n.mobile=r.mobile),r.IsActive!==void 0&&(n.IsActive=r.IsActive),r.Employee!==void 0&&(n.Employee=r.Employee),await G.Users.update(e,n),console.log(`[userService] Successfully updated user ${e} `)}catch(n){throw console.error("[userService] Failed to update user:",n),n}}},Fw={async getAll(){try{console.log("[clientService] Fetching all clients...");const e=await G.Users.list({exact_filters:{user_role:"client"}});return console.log(`[clientService] Successfully fetched ${e.data.length} clients`),e.data}catch(e){throw console.error("[clientService] Failed to fetch clients:",e),e}},async getCount(){return G.count("Users")},async getById(e){try{const r=await G.Users.get(e);return r&&r.user_role==="client"?r:null}catch(r){return console.error("[clientService] Failed to fetch client:",r),null}},async create(e){try{const r={name:e.name,Email:e.Email,mobile:e.mobile,IsActive:1,Employee:0,Owner:0,permissions:e.permissions||0};return await G.Users.create(r)}catch(r){throw console.error("[clientService] Failed to create client:",r),r}}},qc={async getAll(){try{console.log("[projectService] Fetching all projects...");const e=await G.projects.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[projectService] Successfully fetched ${e.data.length} projects`),e.data}catch(e){throw console.error("[projectService] Failed to fetch projects:",e),e}},async getCount(){return G.count("projects")},async getById(e){try{return await G.projects.get(e)}catch(r){return console.error("[projectService] Failed to fetch project:",r),null}},async create(e){try{return await G.projects.create({project_name:e.project_name,project_description:e.project_description,created_by:e.created_by,progress:e.progress||0,stage:e.stage,end_date:e.end_date})}catch(r){throw console.error("[projectService] Failed to create project:",r),r}},async update(e,r){try{const n={};r.project_name&&(n.project_name=r.project_name),r.project_description!==void 0&&(n.project_description=r.project_description),r.progress!==void 0&&(n.progress=r.progress),r.stage!==void 0&&(n.stage=r.stage),r.end_date!==void 0&&(n.end_date=r.end_date),await G.projects.update(e,n)}catch(n){throw console.error("[projectService] Failed to update project:",n),n}},async delete(e){try{await G.projects.delete(e)}catch(r){throw console.error("[projectService] Failed to delete project:",r),r}},async getByUserAuthId(e){try{console.log("[projectService] Fetching projects for user:",e);const n=(await G.projectUsers.list({exact_filters:{userid:e}})).data.map(s=>s.project_id);if(n.length===0)return[];const a=await Promise.all(n.map(s=>G.projects.get(s)));return console.log(`[projectService] Successfully fetched ${a.length} projects for user`),a.filter(s=>s!==null)}catch(r){throw console.error("[projectService] Failed to fetch projects for user:",r),r}}},Zl={async getAll(){try{console.log("[taskService] Fetching all tasks...");const e=await G.tasks.list();return console.log(`[taskService] Successfully fetched ${e.data.length} tasks`),e.data}catch(e){throw console.error("[taskService] Failed to fetch tasks:",e),e}},async getCount(e={}){return G.count("tasks",e)},async getByStage(e){try{return(await G.tasks.getByStage(e)).data}catch(r){throw console.error("[taskService] Failed to fetch tasks:",r),r}},async create(e){try{const r=wl({task_name:e.task_name,stage_id:e.stage_id,assigned_to:e.assigned_to,task_status:e.task_status,due_date:e.due_date,description:e.description,userid:e.userid},{task_name:"task_name",description:"description"});return await G.tasks.create(r)}catch(r){throw console.error("[taskService] Failed to create task:",r),r}},async update(e,r){try{const n=wl(r,{task_name:"task_name",description:"description"});await G.tasks.update(e,n)}catch(n){throw console.error("[taskService] Failed to update task:",n),n}},async delete(e){try{await G.tasks.delete(e)}catch(r){throw console.error("[taskService] Failed to delete task:",r),r}}},_E={async getByTask(e){try{return(await G.comments.list({exact_filters:{task_id:e},sort_by:"created_date",sort_order:"asc"})).data}catch(r){throw console.error("[commentService] Failed to fetch comments:",r),r}},async create(e){try{return await G.comments.create({task_id:e.task_id,userid:e.userid,message:e.message})}catch(r){throw console.error("[commentService] Failed to create comment:",r),r}}},Xo={async getUserRooms(e){try{const n=(await G.roomMembers.list({exact_filters:{userid:e}})).data;if(!n||n.length===0)return[];const a=n.map(o=>o.room_id);return(await G.rooms.list({advanced_filters:[{column:"room_id",filter_type:"in",value:a}]})).data}catch(r){throw console.error("[roomService] Failed to get user rooms:",r),r}},async createRoom(e){let r=e.created_by;if(!r||r===0){const a=await cn.getByAuthId(e.userid);a&&(r=a.userid)}return await G.rooms.create({room_name:e.name,is_private:e.is_private??!0,project_id:e.project_id,created_by:r,userid:e.userid})},async addMember(e,r){await G.roomMembers.create({room_id:e,userid:r})},async getRoomMembers(e){const r=await G.roomMembers.getByRoom(e);return!r.data||r.data.length===0?[]:(await Promise.all(r.data.map(async a=>await cn.getByAuthId(a.userid)))).filter(Boolean)},async markAsRead(e,r){try{const n=await G.roomMembers.list({exact_filters:{room_id:e,userid:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.roomMembers.update(a,{last_read_at:new Date().toISOString()})}}catch(n){console.error("[roomService] Failed to mark room as read:",n)}}},fpe={async getProjectUsers(e){try{console.log("[projectUserService] Fetching users for project:",e);const r=await G.projectUsers.getByProject(e);if(!r.data||r.data.length===0)return[];const n=r.data.map(s=>s.user_id);return(await Promise.all(n.map(s=>cn.getById(s)))).filter(Boolean)}catch(r){throw console.error("[projectUserService] Failed to fetch project users:",r),r}},async addUserToProject(e,r){try{console.log("[projectUserService] Adding user",r,"to project",e),await G.projectUsers.create({project_id:e,user_id:r}),console.log("[projectUserService] Successfully added user to project")}catch(n){throw console.error("[projectUserService] Failed to add user to project:",n),n}},async removeUserFromProject(e,r){try{console.log("[projectUserService] Removing user",r,"from project",e);const n=await G.projectUsers.list({exact_filters:{project_id:e,user_id:r}});if(n.data.length>0){const a=n.data[0].id;a&&await G.projectUsers.delete(a)}console.log("[projectUserService] Successfully removed user from project")}catch(n){throw console.error("[projectUserService] Failed to remove user from project:",n),n}}},uh={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getAllWithMembers(){try{console.log("[teamService] Fetching all teams with members...");const e=await this.getAll();if(!e||e.length===0)return[];const a=((await G.teamMembers.list()).data||[]).reduce((i,o)=>(i[o.team_id]||(i[o.team_id]=[]),i[o.team_id].push({userid:o.userid,joined_at:o.joined_at||o.created_at}),i),{});return e.map(i=>({...i,team_members:a[i.team_id]||[]}))}catch(e){throw console.error("[teamService] Failed to fetch teams with members:",e),e}},async getAllTeamMembers(){try{console.log("[teamService] Fetching all team members with user details...");const r=(await G.teamMembers.list()).data,n={};return(r||[]).forEach(a=>{const s={userid:a.user_id,name:a.Users_name||a.user_name||"Unknown User",Email:a.Users_Email||a.user_email,mobile:a.Users_mobile||a.user_mobile,IsActive:a.Users_IsActive,isAdmin:a.Users_isAdmin};n[a.team_id]||(n[a.team_id]=[]),n[a.team_id].push(s)}),n}catch(e){throw console.error("[teamService] Failed to fetch all team members:",e),e}},async getById(e){try{return await G.teams.get(e)}catch(r){return console.error("[teamService] Failed to fetch team:",r),null}},async create(e){try{return await G.teams.create(e)}catch(r){throw console.error("[teamService] Failed to create team:",r),r}},async update(e,r){try{const n=wl(r,{team_name:"team_name"});await G.teams.update(e,n)}catch(n){throw console.error("[teamService] Failed to update team:",n),n}},async delete(e){try{await G.teams.delete(e)}catch(r){throw console.error("[teamService] Failed to delete team:",r),r}},async getTeamMembers(e){try{console.log("[teamService] Fetching members for team:",e);const n=(await G.teamMembers.getByTeam(e)).data;if(!n||n.length===0)return[];const a=n.map(i=>i.userid);return(await Promise.all(a.map(i=>cn.getByAuthId(i)))).filter(Boolean)}catch(r){throw console.error("[teamService] Failed to fetch team members:",r),r}},async addMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Adding member",n,"to team",e),await G.teamMembers.create({team_id:e,user_id:n}),console.log("[teamService] Successfully added member to team")}catch(n){throw console.error("[teamService] Failed to add member to team:",n),n}},async removeMember(e,r){try{const n=Number(r);if(Number.isNaN(n))throw new Error(`Invalid user ID: ${r}`);console.log("[teamService] Removing member",n,"from team",e);const a=await G.teamMembers.list({exact_filters:{team_id:e,user_id:n}});if(console.log("[teamService] Found records for deletion:",a.data.length,a.data),a.data.length>0){const s=a.data[0],i=(s==null?void 0:s.team_mem_id)??(s==null?void 0:s.id)??(s==null?void 0:s.team_members_id)??(s==null?void 0:s.team_membersId)??(s==null?void 0:s.team_id);if(!i)throw new Error("Unable to determine team member identifier for deletion");console.log("[teamService] Deleting team member record with ID:",i),await G.teamMembers.delete(i)}else console.warn("[teamService] No team member record found for team_id:",e,"user_id:",n);console.log("[teamService] Successfully removed member from team")}catch(n){throw console.error("[teamService] Failed to remove member from team:",n),n}}},w0={async getAll(){try{console.log("[ticketService] Fetching all tickets...");const e=await G.tickets.list({sort_by:"created_date",sort_order:"desc"});return console.log(`[ticketService] Successfully fetched ${e.data.length} tickets`),e.data}catch(e){throw console.error("[ticketService] Failed to fetch tickets:",e),e}},async getById(e){try{return await G.tickets.get(e)}catch(r){return console.error("[ticketService] Failed to fetch ticket:",r),null}},async create(e){try{return await G.tickets.create({created_by:e.created_by,assigned_to:e.assigned_to,subject:e.subject,description:e.description,priority:e.priority,ticket_type:e.ticket_type,stage_id:e.stage_id,status:e.status,resolved_date:e.resolved_date,closed_at:e.closed_at,closed_by:e.closed_by,room_id:e.room_id,task_id:e.task_id})}catch(r){throw console.error("[ticketService] Failed to create ticket:",r),r}},async update(e,r){try{const n={};r.created_by!==void 0&&(n.created_by=r.created_by),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.subject!==void 0&&(n.subject=r.subject),r.description!==void 0&&(n.description=r.description),r.priority!==void 0&&(n.priority=r.priority),r.ticket_type!==void 0&&(n.ticket_type=r.ticket_type),r.stage_id!==void 0&&(n.stage_id=r.stage_id),r.resolved_date!==void 0&&(n.resolved_date=r.resolved_date),r.closed_at!==void 0&&(n.closed_at=r.closed_at),r.closed_by!==void 0&&(n.closed_by=r.closed_by),r.room_id!==void 0&&(n.room_id=r.room_id),r.task_id!==void 0&&(n.task_id=r.task_id),r.status!==void 0&&(n.status=r.status),await G.tickets.update(e,n)}catch(n){throw console.error("[ticketService] Failed to update ticket:",n),n}},async moveToStage(e,r){try{console.log(`[ticketService] Moving ticket ${e} to stage ${r}`),await G.tickets.update(e,{stage_id:r}),console.log("[ticketService] Successfully moved ticket to stage")}catch(n){throw console.error("[ticketService] Failed to move ticket to stage:",n),n}},async delete(e){try{await G.tickets.delete(e)}catch(r){throw console.error("[ticketService] Failed to delete ticket:",r),r}}},jd={async getByRoom(e,r){try{const n={exact_filters:{room_id:e}};r!=null&&r.limit&&(n.limit=r.limit);const a=await G.messages.list(n);if(!a.data)return[];const s=a.data,i=[...new Set(s.map(d=>d.userid))],o=await Promise.all(i.map(d=>cn.getByAuthId(d))),c=new Map(o.filter(d=>d).map(d=>[d.userid,d]));return s.map(d=>({...d,sender:c.get(d.userid)||null})).reverse()}catch(n){throw console.error("[messageService] Failed to fetch messages:",n),n}},async create(e){try{return await G.messages.create(e)}catch(r){throw console.error("[messageService] Failed to create message:",r),r}},async update(e,r){try{await G.messages.update(e,{content:r,is_edited:!0})}catch(n){throw console.error("[messageService] Failed to update message:",n),n}},async delete(e){try{await G.messages.delete(e)}catch(r){throw console.error("[messageService] Failed to delete message:",r),r}},async uploadAttachment(e){try{const r=e.name.split(".").pop(),a=`${`${Math.random().toString(36).substring(2)}_${Date.now()}.${r}`}`,{error:s}=await Qt.storage.from("chat-attachments").upload(a,e);if(s)throw s;const{data:i}=Qt.storage.from("chat-attachments").getPublicUrl(a);return i.publicUrl}catch(r){throw console.error("[messageService] Failed to upload attachment:",r),r}}},kd={async getAll(){try{console.log("[teamService] Fetching all teams...");const e=await G.teams.list();return console.log(`[teamService] Successfully fetched ${e.data.length} teams`),e.data}catch(e){throw console.error("[teamService] Failed to fetch teams:",e),e}},async getCount(){return G.count("teams")},async getById(e){try{return await G.leads.get(e)}catch(r){return console.error("[leadService] Failed to fetch lead:",r),null}},async create(e){try{return await G.leads.create({lead_name:e.lead_name,lead_description:e.lead_description,client_name:e.client_name,client_user_id:e.client_user_id,created_by:e.created_by,stage:e.stage,assigned_to:e.assigned_to,assigned_at:e.assigned_at,value:e.value||0,currency:e.currency||"SAR"})}catch(r){throw console.error("[leadService] Failed to create lead:",r),r}},async createMLead(e){try{return await G.mLeads.create(e)}catch(r){throw console.error("[leadService] Failed to create MLead:",r),r}},async update(e,r){try{const n={};r.lead_name&&(n.lead_name=r.lead_name),r.lead_description!==void 0&&(n.lead_description=r.lead_description),r.client_name&&(n.client_name=r.client_name),r.client_user_id&&(n.client_user_id=r.client_user_id),r.stage!==void 0&&(n.stage=r.stage),r.assigned_to!==void 0&&(n.assigned_to=r.assigned_to),r.assigned_at!==void 0&&(n.assigned_at=r.assigned_at),r.value!==void 0&&(n.value=r.value),r.currency!==void 0&&(n.currency=r.currency),await G.leads.update(e,n)}catch(n){throw console.error("[leadService] Failed to update lead:",n),n}},async delete(e){try{await G.leads.delete(e)}catch(r){throw console.error("[leadService] Failed to delete lead:",r),r}}},EM={async getAll(){try{console.log("[mLeadService] Fetching all master leads...");const e=await G.mLeads.list();return console.log(`[mLeadService] Successfully fetched ${e.data.length} master leads`),e.data}catch(e){throw console.error("[mLeadService] Failed to fetch master leads:",e),e}},async getCount(){try{console.log("[mLeadService] Fetching master leads count...");const r=(await Jo("/api/v1/m_leads/list?pageSize=1")).totalRows||0;return console.log(`[mLeadService] Successfully fetched master leads count: ${r}`),r}catch(e){return console.error("[mLeadService] Failed to fetch master leads count:",e),0}},async getById(e){try{return await G.mLeads.get(e)}catch(r){return console.error("[mLeadService] Failed to fetch master lead:",r),null}}},Ak={async getAll(){try{console.log("[mProjectService] Fetching all master projects...");const e=await G.mProjects.list();return console.log(`[mProjectService] Successfully fetched ${e.data.length} master projects`),e.data}catch(e){throw console.error("[mProjectService] Failed to fetch master projects:",e),e}},async getCount(){try{console.log("[mProjectService] Fetching master projects count...");const r=(await Jo("/api/v1/m_projects/list?pageSize=1")).totalRows||0;return console.log(`[mProjectService] Successfully fetched master projects count: ${r}`),r}catch(e){return console.error("[mProjectService] Failed to fetch master projects count:",e),0}},async getById(e){try{return await G.mProjects.get(e)}catch(r){return console.error("[mProjectService] Failed to fetch master project:",r),null}}},im={async getByRelated(e,r){try{console.log(`[noteService] Fetching notes for ${e} ${r}...`);const a=(await G.notes.list({exact_filters:{related_to_type:e,related_to_id:r}})).data;if(!a||a.length===0)return[];const s=[...new Set(a.map(c=>c.created_by))],i=await Promise.all(s.map(c=>cn.getById(c))),o=new Map(i.filter(c=>c).map(c=>[c.userid,c]));return a.map(c=>({...c,user:o.get(c.created_by)?{userid:o.get(c.created_by).userid,user_id:o.get(c.created_by).userid,user_name:o.get(c.created_by).name,name:o.get(c.created_by).name,Email:o.get(c.created_by).Email}:void 0}))}catch(n){throw console.error("[noteService] Failed to fetch notes:",n),n}},async create(e){try{const r=await G.notes.create({content:e.content,related_to_type:e.related_to_type,related_to_id:e.related_to_id,created_by:e.created_by});return console.log("[noteService] Successfully created note"),r}catch(r){throw console.error("[noteService] Failed to create note:",r),r}},async update(e,r){try{await G.notes.update(e,{content:r,updated_at:new Date().toISOString()}),console.log("[noteService] Successfully updated note")}catch(n){throw console.error("[noteService] Failed to update note:",n),n}},async delete(e){try{await G.notes.delete(e),console.log("[noteService] Successfully deleted note")}catch(r){throw console.error("[noteService] Failed to delete note:",r),r}}},yi={async getAll(){try{console.log("[surveyTemplateService] Fetching all survey templates...");const e=await G.surveyTemplates.list();return console.log(`[surveyTemplateService] Successfully fetched ${e.data.length} templates`),e.data}catch(e){throw console.error("[surveyTemplateService] Failed to fetch survey templates:",e),e}},async getById(e){try{return await G.surveyTemplates.get(e)}catch(r){return console.error("[surveyTemplateService] Failed to fetch template:",r),null}},async create(e){try{return await G.surveyTemplates.create(e)}catch(r){throw console.error("[surveyTemplateService] Failed to create template:",r),r}},async update(e,r){try{const n={};r.template_name&&(n.template_name=r.template_name),r.template_name_ar&&(n.template_name_ar=r.template_name_ar),r.template_description!==void 0&&(n.template_description=r.template_description),r.template_description_ar!==void 0&&(n.template_description_ar=r.template_description_ar),r.category&&(n.category=r.category),r.is_active!==void 0&&(n.is_active=r.is_active),r.is_default!==void 0&&(n.is_default=r.is_default),await G.surveyTemplates.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update template:",n),n}},async delete(e){try{await G.surveyTemplates.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete template:",r),r}},async getFields(e){try{console.log("[surveyTemplateService] Fetching fields for template:",e);const n=(await G.surveyTemplateFields.getByTemplate(e)).data;return console.log(`[surveyTemplateService] Successfully fetched ${(n==null?void 0:n.length)||0} fields`),(n||[]).sort((a,s)=>(a.field_order||0)-(s.field_order||0))}catch(r){throw console.error("[surveyTemplateService] Failed to fetch template fields:",r),r}},async createField(e){try{return await G.surveyTemplateFields.create(e)}catch(r){throw console.error("[surveyTemplateService] Failed to create field:",r),r}},async updateField(e,r){try{const n={};r.field_order!==void 0&&(n.field_order=r.field_order),r.field_type&&(n.field_type=r.field_type),r.field_label&&(n.field_label=r.field_label),r.field_label_ar&&(n.field_label_ar=r.field_label_ar),r.help_text!==void 0&&(n.help_text=r.help_text),r.help_text_ar!==void 0&&(n.help_text_ar=r.help_text_ar),r.is_required!==void 0&&(n.is_required=r.is_required),r.field_options!==void 0&&(n.field_options=r.field_options),r.validation_rules!==void 0&&(n.validation_rules=r.validation_rules),r.default_value!==void 0&&(n.default_value=r.default_value),r.conditional_logic!==void 0&&(n.conditional_logic=r.conditional_logic),await G.surveyTemplateFields.update(e,n)}catch(n){throw console.error("[surveyTemplateService] Failed to update field:",n),n}},async deleteField(e){try{await G.surveyTemplateFields.delete(e)}catch(r){throw console.error("[surveyTemplateService] Failed to delete field:",r),r}}},Id={async getAll(){try{console.log("[surveyService] Fetching all surveys...");const e=await G.surveys.list();return console.log(`[surveyService] Successfully fetched ${e.data.length} surveys`),e.data}catch(e){throw console.error("[surveyService] Failed to fetch surveys:",e),e}},async getCount(){try{console.log("[surveyService] Fetching surveys count...");const r=(await Jo("/api/v1/surveys/list?pageSize=1")).totalRows||0;return console.log(`[surveyService] Successfully fetched surveys count: ${r}`),r}catch(e){return console.error("[surveyService] Failed to fetch surveys count:",e),0}},async getById(e){try{return await G.surveys.get(e)}catch(r){return console.error("[surveyService] Failed to fetch survey:",r),null}},async create(e){try{return await G.surveys.create(e)}catch(r){throw console.error("[surveyService] Failed to create survey:",r),r}},async createBatch(e){try{if(e.length===0)return[];console.log(`[surveyService] Batch creating ${e.length} surveys...`);const r=await Promise.all(e.map(n=>G.surveys.create(n)));return console.log(`[surveyService] Successfully batch created ${r.length} surveys`),r}catch(r){throw console.error("[surveyService] Failed to batch create surveys:",r),r}},async update(e,r){try{const n={};r.template_id!==void 0&&(n.template_id=r.template_id),r.survey_name&&(n.survey_name=r.survey_name),r.survey_description!==void 0&&(n.survey_description=r.survey_description),r.client_name&&(n.client_name=r.client_name),r.client_name_ar&&(n.client_name_ar=r.client_name_ar),r.client_contact!==void 0&&(n.client_contact=r.client_contact),r.client_email&&(n.client_email=r.client_email),r.client_address&&(n.client_address=r.client_address),r.client_company&&(n.client_company=r.client_company),r.client_company_ar&&(n.client_company_ar=r.client_company_ar),r.survey_responses!==void 0&&(n.survey_responses=r.survey_responses),r.location_latitude!==void 0&&(n.location_latitude=r.location_latitude),r.location_longitude!==void 0&&(n.location_longitude=r.location_longitude),r.location_accuracy!==void 0&&(n.location_accuracy=r.location_accuracy),r.location_address&&(n.location_address=r.location_address),r.status&&(n.status=r.status),r.lead_id!==void 0&&(n.lead_id=r.lead_id),r.converted_to_lead_at!==void 0&&(n.converted_to_lead_at=r.converted_to_lead_at),r.device_info!==void 0&&(n.device_info=r.device_info),r.completion_time_seconds!==void 0&&(n.completion_time_seconds=r.completion_time_seconds),r.notes&&(n.notes=r.notes),r.notes_ar&&(n.notes_ar=r.notes_ar),await G.surveys.update(e,n)}catch(n){throw console.error("[surveyService] Failed to update survey:",n),n}},async delete(e){try{await G.surveys.delete(e)}catch(r){throw console.error("[surveyService] Failed to delete survey:",r),r}}},Ok=1024;function yn(){const[e,r]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ok-1}px)`),a=()=>{r(window.innerWidth<Ok)};return n.addEventListener("change",a),r(window.innerWidth<Ok),()=>n.removeEventListener("change",a)},[]),!!e}const hpe=px("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function gt({className:e,variant:r,...n}){return l.jsx("div",{className:ve(hpe({variant:r}),e),...n})}function hW(){Kt();const[e,r]=y.useState(new Date);y.useEffect(()=>{const s=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(s)},[]);const n=s=>s.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"short",day:"numeric"}),a=s=>s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[l.jsx("div",{className:"text-lg font-mono font-semibold text-foreground",children:a(e)}),l.jsx("div",{className:"text-sm",children:n(e)})]})}const CM=({projects:e,clients:r,users:n,leads:a,surveys:s,loadData:i,isRTL:o,t:c,counts:u})=>{var _;const{user:d}=Sr(),f=u.projects,h=0,m=u.projects,p=0,v=u.clients,g=u.users,x=u.leads,b=u.surveys,w=[...e].sort((S,j)=>new Date(j.created_at||"").getTime()-new Date(S.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:o?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:c("dashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:c("dashboard.subtitle")})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(ot,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Xt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(br,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Qn,{className:"h-6 w-6 text-primary"}),c("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(om,{label:c("employeeDashboard.name"),value:Ae(d.profile||{},"user_name")||d.name||"N/A",isRTL:o}),l.jsx(om,{label:c("employeeDashboard.email"),value:d.email,isRTL:o}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:c("employeeDashboard.role")}),l.jsx(gt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:d.permissions_permissions_Name||d.role||"Unknown"})]}),l.jsx(om,{label:c("employeeDashboard.memberSince"),value:(_=d.profile)!=null&&_.created_at?new Date(d.profile.created_at).toLocaleDateString():"N/A",isRTL:o})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(Zs,{title:c("dashboard.totalProjects"),value:f,subtext:`${h} ${c("dashboard.completed")}`,icon:$ie,isRTL:o}),l.jsx(Zs,{title:c("dashboard.inProgress"),value:m,subtext:c("dashboard.activeProjects"),icon:Ra,isRTL:o}),l.jsx(Zs,{title:c("dashboard.clients"),value:v,subtext:c("dashboard.totalClients"),icon:En,isRTL:o}),l.jsx(Zs,{title:c("dashboard.teamMembers"),value:g,subtext:c("dashboard.activeUsers"),icon:Ra,isRTL:o}),l.jsx(Zs,{title:c("dashboard.leads"),value:x,subtext:c("dashboard.totalLeads"),icon:jw,isRTL:o}),l.jsx(Zs,{title:c("dashboard.surveys"),value:b,subtext:c("dashboard.totalSurveys"),icon:Pi,isRTL:o})]}),l.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[l.jsxs(ot,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.recentProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:w.length>0?w.map(S=>l.jsx(ppe,{project:S,clientName:S.company_name||c("dashboard.noClient"),isRTL:o},S.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:c("dashboard.noProjectsYet")})})]}),l.jsxs(ot,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:c("dashboard.projectStatus")})}),l.jsxs(xt,{className:"space-y-2 pt-4",children:[l.jsx(Pk,{color:"bg-emerald-500",label:c("dashboard.completedStatus"),value:h,isRTL:o}),l.jsx(Pk,{color:"bg-blue-500",label:c("dashboard.inProgressStatus"),value:m,isRTL:o}),l.jsx(Pk,{color:"bg-slate-400",label:c("dashboard.notStartedStatus"),value:p,isRTL:o})]})]})]})]})},mpe=({user:e,myTasks:r,myProjects:n,leads:a,surveys:s,isRTL:i,t:o,counts:c})=>{var m;const u=r.filter(p=>p.task_status==="completed").length,d=r.filter(p=>p.task_status==="in_progress").length,f=c.projects,h=[...r].sort((p,v)=>new Date(v.created_at||"").getTime()-new Date(p.created_at||"").getTime()).slice(0,5);return l.jsxs("div",{className:"space-y-8",dir:i?"rtl":"ltr",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6 pb-2 border-b border-slate-200 dark:border-slate-700",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white",children:o("employeeDashboard.title")}),l.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2 text-base",children:o("employeeDashboard.subtitle",{name:Ae(e.profile||{},"user.name")||e.email})})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(hW,{})})]}),l.jsxs(ot,{className:"border-0 shadow-md bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[l.jsx(Xt,{className:"border-b border-slate-200 dark:border-slate-700",children:l.jsxs(br,{className:"flex items-center gap-3 text-lg sm:text-xl",children:[l.jsx(Qn,{className:"h-6 w-6 text-primary"}),o("employeeDashboard.employeeInfo")]})}),l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsx(om,{label:o("employeeDashboard.name"),value:Ae(e.profile||{},"user_name")||"N/A",isRTL:i}),l.jsx(om,{label:o("employeeDashboard.email"),value:e.email,isRTL:i}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:o("employeeDashboard.role")}),l.jsx(gt,{variant:"secondary",className:"capitalize bg-primary/20 text-primary dark:bg-primary/30",children:e.permissions_permissions_Name||e.role||"Unknown"})]}),l.jsx(om,{label:o("employeeDashboard.memberSince"),value:(m=e.profile)!=null&&m.created_at?new Date(e.profile.created_at).toLocaleDateString():"N/A",isRTL:i})]})})]}),l.jsxs("div",{className:"grid gap-4 sm:gap-6 grid-cols-2 md:grid-cols-3 lg:grid-cols-6",children:[l.jsx(Zs,{title:o("employeeDashboard.myProjects"),value:c.projects,subtext:`${f} ${o("employeeDashboard.active")}`,icon:ef,isRTL:i}),l.jsx(Zs,{title:o("employeeDashboard.myTasks"),value:c.myTasks,subtext:`${u} ${o("employeeDashboard.completed")}`,icon:jw,isRTL:i}),l.jsx(Zs,{title:o("employeeDashboard.inProgress"),value:d,subtext:o("employeeDashboard.activeTasks"),icon:Dd,isRTL:i}),l.jsx(Zs,{title:o("employeeDashboard.completedTasks"),value:u,subtext:o("employeeDashboard.finishedTasks"),icon:ll,isRTL:i}),l.jsx(Zs,{title:o("employeeDashboard.leads"),value:c.leads,subtext:o("employeeDashboard.totalLeads"),icon:jw,isRTL:i}),l.jsx(Zs,{title:o("employeeDashboard.surveys"),value:c.surveys,subtext:o("employeeDashboard.totalSurveys"),icon:Pi,isRTL:i})]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs(ot,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.myProjects")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:n.length>0?n.slice(0,5).map(p=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.company_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.contract_code||o("employeeDashboard.noDescription")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:p.contract_code})]},p.project_id)):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noProjectsAssigned")})})]}),l.jsxs(ot,{className:"border-0 shadow-md",children:[l.jsx(Xt,{className:"pb-4 border-b border-slate-100 dark:border-slate-800",children:l.jsx(br,{className:"text-lg sm:text-xl text-slate-900 dark:text-white",children:o("employeeDashboard.recentTasks")})}),l.jsx(xt,{className:"space-y-2 pt-4",children:h.length>0?h.map(p=>{var v;return l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white leading-none",children:p.task_name}),l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate max-w-[200px]",children:p.description||o("employeeDashboard.noDescription")})]}),l.jsx(gt,{variant:p.task_status==="completed"?"default":p.task_status==="in_progress"?"secondary":"outline",className:"text-xs whitespace-nowrap",children:(v=p.task_status)==null?void 0:v.replace("_"," ")})]},p.task_id)}):l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 py-4",children:o("employeeDashboard.noTasksAssigned")})})]})]})]})},Zs=({title:e,value:r,subtext:n,icon:a,isRTL:s})=>l.jsxs(ot,{className:"border-0 shadow-md hover:shadow-lg transition-shadow duration-300 bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",dir:s?"rtl":"ltr",children:[l.jsxs(Xt,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[l.jsx(br,{className:"text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e}),l.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:l.jsx(a,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})})]}),l.jsxs(xt,{children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-slate-900 dark:text-white",children:r}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 mt-1",children:n})]})]}),ppe=({project:e,clientName:r,isRTL:n})=>l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 p-3 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors duration-200",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-1 min-w-0 flex-1",children:[l.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-900 dark:text-white leading-none truncate",children:e.company_name}),l.jsx("p",{className:"text-xs sm:text-sm text-slate-600 dark:text-slate-400 truncate",children:r||t("dashboard.noClient")})]}),l.jsx("div",{className:"flex items-center gap-2 text-xs font-mono text-primary bg-primary/10 px-2 py-1 rounded",children:e.contract_code})]}),Pk=({color:e,label:r,value:n,isRTL:a})=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition-colors duration-200",dir:a?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full ${e} shadow-sm`}),l.jsx("span",{className:"text-sm sm:text-base font-medium text-slate-700 dark:text-slate-300",children:r})]}),l.jsx("span",{className:"text-sm sm:text-base font-bold text-slate-900 dark:text-white",children:n})]}),om=({label:e,value:r,isRTL:n})=>l.jsxs("div",{dir:n?"rtl":"ltr",children:[l.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium mb-2",children:e}),l.jsx("p",{className:"text-base font-semibold text-slate-900 dark:text-white",children:r})]});function gpe(){const{t:e}=Kt(),{currentLanguage:r,isRTL:n}=ms();yn();const{user:a,loading:s}=Sr(),[i,o]=y.useState({projects:[],clients:[],users:[],leads:[],surveys:[],myTasks:[],counts:{projects:0,clients:0,users:0,leads:0,surveys:0,myTasks:0}}),[c,u]=y.useState(!0),[d,f]=y.useState(null),[h,m]=y.useState(new Map),p=i.projects.filter(x=>{var b;return x.created_by===(a==null?void 0:a.id)||x.created_by===((b=a==null?void 0:a.profile)==null?void 0:b.userid)});y.useEffect(()=>{a&&!s&&(g(),v())},[a,s]);const v=async()=>{try{const x=await PA(),b=new Map;x.forEach(w=>{b.set(w.permissions_ID,w.permissions_Name)}),m(b)}catch(x){console.error("Failed to load permission names:",x)}},g=async()=>{var x,b,w,_,S,j,N;try{u(!0),f(null);const k=((x=a==null?void 0:a.profile)==null?void 0:x.userid)||(a==null?void 0:a.id);try{const[C,E,P]=await Promise.all([G.getAggregates(["m_projects","clients","users","m_leads","surveys","tasks"]),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),Zl.getAll({exact_filters:{assigned_to:k},pageSize:10,sort:"created_at",order:"DESC"}).catch(()=>[])]),I=((b=C.m_projects)==null?void 0:b.Count)||0,T=((w=C.clients)==null?void 0:w.Count)||0,U=((_=C.users)==null?void 0:_.Count)||0,H=((S=C.m_leads)==null?void 0:S.Count)||0,F=((j=C.surveys)==null?void 0:j.Count)||0,M=((N=C.tasks)==null?void 0:N.Count)||0,z=P.length;o({projects:E,clients:[],users:[],leads:[],surveys:[],myTasks:P,counts:{projects:I,clients:T,users:U,leads:H,surveys:F,myTasks:z}})}catch(C){console.warn("[Dashboard] Aggregates API failed, falling back to individual calls:",C);const[E,P,I,T,U,H,F,M,z,L,R]=await Promise.all([Ak.getCount().catch(()=>0),Fw.getCount().catch(()=>0),cn.getCount().catch(()=>0),EM.getCount().catch(()=>0),Id.getCount().catch(()=>0),Ak.getAll({pageSize:5,sort:"created_at",order:"DESC"}).catch(()=>[]),Fw.getAll().catch(()=>[]),cn.getAll().catch(()=>[]),EM.getAll().catch(()=>[]),Id.getAll().catch(()=>[]),Zl.getAll().catch(()=>[])]),J=R.filter(A=>A.assigned_to===k),te=J.length;o({projects:H,clients:F,users:M,leads:z,surveys:L,myTasks:J,counts:{projects:E,clients:P,users:I,leads:T,surveys:U,myTasks:te}})}}catch(k){console.error("[Dashboard] Failed to load data:",k),f(k.message||"Failed to load data")}finally{u(!1)}};return c||s||!a?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsx(zi,{message:e("common.loading"),size:"2xl"})}):d?l.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600",children:e("common.error")}),l.jsx("p",{className:"mt-4 text-muted-foreground",children:d}),l.jsx(ue,{onClick:g,className:"mt-4",children:e("common.retry","Retry")})]})}):a.role==="client"?l.jsx(P1,{to:"/client-portal",replace:!0}):a.role==="admin"?l.jsx(CM,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:g,isRTL:n,t:e,counts:i.counts}):["employee","manager","team_leader"].includes(a.role)?l.jsx(mpe,{user:a,myTasks:i.myTasks,myProjects:p,leads:i.leads,surveys:i.surveys,isRTL:n,t:e,counts:i.counts}):["partner_employee","partner_leader"].includes(a.role)?l.jsxs("div",{className:"space-y-8",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight",children:e("partnerEmployeeDashboard.title","Partner Employee Dashboard")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("partnerEmployeeDashboard.subtitle","Welcome to your partner employee portal")})]})}),l.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-24 h-24 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:l.jsx(Zs,{title:"",value:0,subtext:"",icon:ef,isRTL:n})}),l.jsx("h2",{className:"text-2xl font-semibold",children:e("common.comingSoon","Coming Soon")}),l.jsx("p",{className:"text-muted-foreground max-w-md",children:e("partnerEmployeeDashboard.comingSoonMessage","We're working hard to bring you an amazing partner employee experience.")})]})})]}):l.jsx(CM,{projects:i.projects,clients:i.clients,users:i.users,leads:i.leads,surveys:i.surveys,loadData:g,isRTL:n,t:e,counts:i.counts})}var nS="Popover",[mW,SXe]=ps(nS,[Ip]),Tx=Ip(),[vpe,ed]=mW(nS),pW=e=>{const{__scopePopover:r,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,c=Tx(r),u=y.useRef(null),[d,f]=y.useState(!1),[h,m]=vc({prop:a,defaultProp:s??!1,onChange:i,caller:nS});return l.jsx(YA,{...c,children:l.jsx(vpe,{scope:r,contentId:ua(),triggerRef:u,open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:y.useCallback(()=>f(!0),[]),onCustomAnchorRemove:y.useCallback(()=>f(!1),[]),modal:o,children:n})})};pW.displayName=nS;var gW="PopoverAnchor",xpe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=ed(gW,n),i=Tx(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return y.useEffect(()=>(o(),()=>c()),[o,c]),l.jsx(B_,{...i,...a,ref:r})});xpe.displayName=gW;var vW="PopoverTrigger",xW=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=ed(vW,n),i=Tx(n),o=Ht(r,s.triggerRef),c=l.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SW(s.open),...a,ref:o,onClick:rt(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:l.jsx(B_,{asChild:!0,...i,children:c})});xW.displayName=vW;var SO="PopoverPortal",[ype,wpe]=mW(SO,{forceMount:void 0}),yW=e=>{const{__scopePopover:r,forceMount:n,children:a,container:s}=e,i=ed(SO,r);return l.jsx(ype,{scope:r,forceMount:n,children:l.jsx(Ua,{present:n||i.open,children:l.jsx(wx,{asChild:!0,container:s,children:a})})})};yW.displayName=SO;var Hm="PopoverContent",wW=y.forwardRef((e,r)=>{const n=wpe(Hm,e.__scopePopover),{forceMount:a=n.forceMount,...s}=e,i=ed(Hm,e.__scopePopover);return l.jsx(Ua,{present:a||i.open,children:i.modal?l.jsx(_pe,{...s,ref:r}):l.jsx(Spe,{...s,ref:r})})});wW.displayName=Hm;var bpe=Fu("PopoverContent.RemoveScroll"),_pe=y.forwardRef((e,r)=>{const n=ed(Hm,e.__scopePopover),a=y.useRef(null),s=Ht(r,a),i=y.useRef(!1);return y.useEffect(()=>{const o=a.current;if(o)return U_(o)},[]),l.jsx(bx,{as:bpe,allowPinchZoom:!0,children:l.jsx(bW,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),i.current||(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:rt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Spe=y.forwardRef((e,r)=>{const n=ed(Hm,e.__scopePopover),a=y.useRef(!1),s=y.useRef(!1);return l.jsx(bW,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),bW=y.forwardRef((e,r)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,...h}=e,m=ed(Hm,n),p=Tx(n);return M_(),l.jsx(xx,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(vx,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:l.jsx(XA,{"data-state":SW(m.open),role:"dialog",id:m.contentId,...p,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_W="PopoverClose",jpe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=ed(_W,n);return l.jsx(dt.button,{type:"button",...a,ref:r,onClick:rt(e.onClick,()=>s.onOpenChange(!1))})});jpe.displayName=_W;var kpe="PopoverArrow",Npe=y.forwardRef((e,r)=>{const{__scopePopover:n,...a}=e,s=Tx(n);return l.jsx(JA,{...s,...a,ref:r})});Npe.displayName=kpe;function SW(e){return e?"open":"closed"}var Epe=pW,Cpe=xW,Tpe=yW,jW=wW;const wa=Epe,ba=Cpe,na=y.forwardRef(({className:e,align:r="center",sideOffset:n=4,...a},s)=>l.jsx(Tpe,{children:l.jsx(jW,{ref:s,align:r,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));na.displayName=jW.displayName;const Ape={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Ope=(e,r,n)=>{const a=Ape[e];let s;return typeof a=="string"?s=a:r===1?s=a.one:r===2?s=a.two:r<=10?s=a.threeToTen.replace("{{count}}",String(r)):s=a.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+s:" "+s:s},Ppe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Dpe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Rpe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ipe={date:em({formats:Ppe,defaultWidth:"full"}),time:em({formats:Dpe,defaultWidth:"full"}),dateTime:em({formats:Rpe,defaultWidth:"full"})},Mpe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},Fpe=e=>Mpe[e],Lpe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},$pe={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Bpe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},Upe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Vpe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},zpe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Wpe=e=>String(e),Hpe={ordinalNumber:Wpe,era:nl({values:Lpe,defaultWidth:"wide"}),quarter:nl({values:$pe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:Bpe,defaultWidth:"wide"}),day:nl({values:Upe,defaultWidth:"wide"}),dayPeriod:nl({values:Vpe,defaultWidth:"wide",formattingValues:zpe,defaultFormattingWidth:"wide"})},qpe=/^(\d+)(th|st|nd|rd)?/i,Kpe=/\d+/i,Gpe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Ype={any:[//,//]},Xpe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Jpe={any:[/1/i,/2/i,/3/i,/4/i]},Qpe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},Zpe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},e0e={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},t0e={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},r0e={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},n0e={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},a0e={ordinalNumber:BU({matchPattern:qpe,parsePattern:Kpe,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:Gpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any"}),quarter:al({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:Qpe,defaultMatchWidth:"wide",parsePatterns:Zpe,defaultParseWidth:"any"}),day:al({matchPatterns:e0e,defaultMatchWidth:"wide",parsePatterns:t0e,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:r0e,defaultMatchWidth:"any",parsePatterns:n0e,defaultParseWidth:"any"})},s0e={code:"ar",formatDistance:Ope,formatLong:Ipe,formatRelative:Fpe,localize:Hpe,match:a0e,options:{weekStartsOn:6,firstWeekContainsDate:1}};var At=function(){return At=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},At.apply(this,arguments)};function i0e(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n}function kW(e,r,n){for(var a=0,s=r.length,i;a<s;a++)(i||!(a in r))&&(i||(i=Array.prototype.slice.call(r,0,a)),i[a]=r[a]);return e.concat(i||Array.prototype.slice.call(r))}function Ax(e){return e.mode==="multiple"}function Ox(e){return e.mode==="range"}function aS(e){return e.mode==="single"}var o0e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function l0e(e,r){return cs(e,"LLLL y",r)}function c0e(e,r){return cs(e,"d",r)}function u0e(e,r){return cs(e,"LLLL",r)}function d0e(e){return"".concat(e)}function f0e(e,r){return cs(e,"cccccc",r)}function h0e(e,r){return cs(e,"yyyy",r)}var m0e=Object.freeze({__proto__:null,formatCaption:l0e,formatDay:c0e,formatMonthCaption:u0e,formatWeekNumber:d0e,formatWeekdayName:f0e,formatYearCaption:h0e}),p0e=function(e,r,n){return cs(e,"do MMMM (EEEE)",n)},g0e=function(){return"Month: "},v0e=function(){return"Go to next month"},x0e=function(){return"Go to previous month"},y0e=function(e,r){return cs(e,"cccc",r)},w0e=function(e){return"Week n. ".concat(e)},b0e=function(){return"Year: "},_0e=Object.freeze({__proto__:null,labelDay:p0e,labelMonthDropdown:g0e,labelNext:v0e,labelPrevious:x0e,labelWeekNumber:w0e,labelWeekday:y0e,labelYearDropdown:b0e});function S0e(){var e="buttons",r=o0e,n=AA,a={},s={},i=1,o={},c=new Date;return{captionLayout:e,classNames:r,formatters:m0e,labels:_0e,locale:n,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:o,today:c,mode:"default"}}function j0e(e){var r=e.fromYear,n=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=As(a):r&&(i=new Date(r,0,1)),s?o=A_(s):n&&(o=new Date(n,11,31)),{fromDate:i?Im(i):void 0,toDate:o?Im(o):void 0}}var NW=y.createContext(void 0);function k0e(e){var r,n=e.initialProps,a=S0e(),s=j0e(n),i=s.fromDate,o=s.toDate,c=(r=n.captionLayout)!==null&&r!==void 0?r:a.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var u;(aS(n)||Ax(n)||Ox(n))&&(u=n.onSelect);var d=At(At(At({},a),n),{captionLayout:c,classNames:At(At({},a.classNames),n.classNames),components:At({},n.components),formatters:At(At({},a.formatters),n.formatters),fromDate:i,labels:At(At({},a.labels),n.labels),mode:n.mode||a.mode,modifiers:At(At({},a.modifiers),n.modifiers),modifiersClassNames:At(At({},a.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:At(At({},a.styles),n.styles),toDate:o});return l.jsx(NW.Provider,{value:d,children:e.children})}function Br(){var e=y.useContext(NW);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function EW(e){var r=Br(),n=r.locale,a=r.classNames,s=r.styles,i=r.formatters.formatCaption;return l.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function N0e(e){return l.jsx("svg",At({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CW(e){var r,n,a=e.onChange,s=e.value,i=e.children,o=e.caption,c=e.className,u=e.style,d=Br(),f=(n=(r=d.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&n!==void 0?n:N0e;return l.jsxs("div",{className:c,style:u,children:[l.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:a,children:i}),l.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(f,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function E0e(e){var r,n=Br(),a=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,c=n.formatters.formatMonthCaption,u=n.classNames,d=n.components,f=n.labels.labelMonthDropdown;if(!a)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Jse(a,s))for(var m=As(a),p=a.getMonth();p<=s.getMonth();p++)h.push(ik(m,p));else for(var m=As(new Date),p=0;p<=11;p++)h.push(ik(m,p));var v=function(x){var b=Number(x.target.value),w=ik(As(e.displayMonth),b);e.onChange(w)},g=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:CW;return l.jsx(g,{name:"months","aria-label":f(),className:u.dropdown_month,style:i.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:h.map(function(x){return l.jsx("option",{value:x.getMonth(),children:c(x,{locale:o})},x.getMonth())})})}function C0e(e){var r,n=e.displayMonth,a=Br(),s=a.fromDate,i=a.toDate,o=a.locale,c=a.styles,u=a.classNames,d=a.components,f=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,m=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),v=i.getFullYear(),g=p;g<=v;g++)m.push(fI(LU(new Date),g));var x=function(w){var _=fI(As(n),Number(w.target.value));e.onChange(_)},b=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:CW;return l.jsx(b,{name:"years","aria-label":h(),className:u.dropdown_year,style:c.dropdown_year,onChange:x,value:n.getFullYear(),caption:f(n,{locale:o}),children:m.map(function(w){return l.jsx("option",{value:w.getFullYear(),children:f(w,{locale:o})},w.getFullYear())})})}function T0e(e,r){var n=y.useState(e),a=n[0],s=n[1],i=r===void 0?a:r;return[i,s]}function A0e(e){var r=e.month,n=e.defaultMonth,a=e.today,s=r||n||a||new Date,i=e.toDate,o=e.fromDate,c=e.numberOfMonths,u=c===void 0?1:c;if(i&&Fm(i,s)<0){var d=-1*(u-1);s=Co(i,d)}return o&&Fm(s,o)<0&&(s=o),As(s)}function O0e(){var e=Br(),r=A0e(e),n=T0e(r,e.month),a=n[0],s=n[1],i=function(o){var c;if(!e.disableNavigation){var u=As(o);s(u),(c=e.onMonthChange)===null||c===void 0||c.call(e,u)}};return[a,i]}function P0e(e,r){for(var n=r.reverseMonths,a=r.numberOfMonths,s=As(e),i=As(Co(s,a)),o=Fm(i,s),c=[],u=0;u<o;u++){var d=Co(s,u);c.push(d)}return n&&(c=c.reverse()),c}function D0e(e,r){if(!r.disableNavigation){var n=r.toDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=As(e);if(!n)return Co(c,o);var u=Fm(n,e);if(!(u<i))return Co(c,o)}}function R0e(e,r){if(!r.disableNavigation){var n=r.fromDate,a=r.pagedNavigation,s=r.numberOfMonths,i=s===void 0?1:s,o=a?i:1,c=As(e);if(!n)return Co(c,-o);var u=Fm(c,n);if(!(u<=0))return Co(c,-o)}}var TW=y.createContext(void 0);function I0e(e){var r=Br(),n=O0e(),a=n[0],s=n[1],i=P0e(a,r),o=D0e(a,r),c=R0e(a,r),u=function(h){return i.some(function(m){return OA(h,m)})},d=function(h,m){u(h)||(m&&HU(h,m)?s(Co(h,1+r.numberOfMonths*-1)):s(h))},f={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:c,nextMonth:o,isDateDisplayed:u};return l.jsx(TW.Provider,{value:f,children:e.children})}function Px(){var e=y.useContext(TW);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function TM(e){var r,n=Br(),a=n.classNames,s=n.styles,i=n.components,o=Px().goToMonth,c=function(f){o(Co(f,e.displayIndex?-e.displayIndex:0))},u=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:EW,d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:a.vhidden,children:d}),l.jsx(E0e,{onChange:c,displayMonth:e.displayMonth}),l.jsx(C0e,{onChange:c,displayMonth:e.displayMonth})]})}function M0e(e){return l.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F0e(e){return l.jsx("svg",At({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Lw=y.forwardRef(function(e,r){var n=Br(),a=n.classNames,s=n.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),c=At(At({},s.button_reset),s.button);return e.style&&Object.assign(c,e.style),l.jsx("button",At({},e,{ref:r,type:"button",className:o,style:c}))});function L0e(e){var r,n,a=Br(),s=a.dir,i=a.locale,o=a.classNames,c=a.styles,u=a.labels,d=u.labelPrevious,f=u.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),v=f(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),x=(r=h==null?void 0:h.IconRight)!==null&&r!==void 0?r:F0e,b=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:M0e;return l.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&l.jsx(Lw,{name:"previous-month","aria-label":m,className:p,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(x,{className:o.nav_icon,style:c.nav_icon}):l.jsx(b,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&l.jsx(Lw,{name:"next-month","aria-label":v,className:g,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(b,{className:o.nav_icon,style:c.nav_icon}):l.jsx(x,{className:o.nav_icon,style:c.nav_icon})})]})}function AM(e){var r=Br().numberOfMonths,n=Px(),a=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,c=o.findIndex(function(v){return OA(e.displayMonth,v)}),u=c===0,d=c===o.length-1,f=r>1&&(u||!d),h=r>1&&(d||!u),m=function(){a&&i(a)},p=function(){s&&i(s)};return l.jsx(L0e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:h,nextMonth:s,previousMonth:a,onPreviousClick:m,onNextClick:p})}function $0e(e){var r,n=Br(),a=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,c=n.components,u=(r=c==null?void 0:c.CaptionLabel)!==null&&r!==void 0?r:EW,d;return s?d=l.jsx(u,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=l.jsx(TM,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=l.jsxs(l.Fragment,{children:[l.jsx(TM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(AM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=l.jsxs(l.Fragment,{children:[l.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(AM,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:a.caption,style:i.caption,children:d})}function B0e(e){var r=Br(),n=r.footer,a=r.styles,s=r.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:a.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function U0e(e,r,n){for(var a=n?pf(new Date):bl(new Date,{locale:e,weekStartsOn:r}),s=[],i=0;i<7;i++){var o=Ja(a,i);s.push(o)}return s}function V0e(){var e=Br(),r=e.classNames,n=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,d=U0e(s,i,o);return l.jsxs("tr",{style:n.head_row,className:r.head_row,children:[a&&l.jsx("td",{style:n.head_cell,className:r.head_cell}),d.map(function(f,h){return l.jsx("th",{scope:"col",className:r.head_cell,style:n.head_cell,"aria-label":u(f,{locale:s}),children:c(f,{locale:s})},h)})]})}function z0e(){var e,r=Br(),n=r.classNames,a=r.styles,s=r.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:V0e;return l.jsx("thead",{style:a.head,className:n.head,children:l.jsx(i,{})})}function W0e(e){var r=Br(),n=r.locale,a=r.formatters.formatDay;return l.jsx(l.Fragment,{children:a(e.date,{locale:n})})}var jO=y.createContext(void 0);function H0e(e){if(!Ax(e.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return l.jsx(jO.Provider,{value:r,children:e.children})}return l.jsx(q0e,{initialProps:e.initialProps,children:e.children})}function q0e(e){var r=e.initialProps,n=e.children,a=r.selected,s=r.min,i=r.max,o=function(d,f,h){var m,p;(m=r.onDayClick)===null||m===void 0||m.call(r,d,f,h);var v=!!(f.selected&&s&&(a==null?void 0:a.length)===s);if(!v){var g=!!(!f.selected&&i&&(a==null?void 0:a.length)===i);if(!g){var x=a?kW([],a):[];if(f.selected){var b=x.findIndex(function(w){return ks(d,w)});x.splice(b,1)}else x.push(d);(p=r.onSelect)===null||p===void 0||p.call(r,x,d,f,h)}}},c={disabled:[]};a&&c.disabled.push(function(d){var f=i&&a.length>i-1,h=a.some(function(m){return ks(m,d)});return!!(f&&!h)});var u={selected:a,onDayClick:o,modifiers:c};return l.jsx(jO.Provider,{value:u,children:n})}function kO(){var e=y.useContext(jO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function K0e(e,r){var n=r||{},a=n.from,s=n.to;return a&&s?ks(s,e)&&ks(a,e)?void 0:ks(s,e)?{from:s,to:void 0}:ks(a,e)?void 0:z2(a,e)?{from:e,to:s}:{from:a,to:e}:s?z2(e,s)?{from:s,to:e}:{from:e,to:s}:a?HU(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var NO=y.createContext(void 0);function G0e(e){if(!Ox(e.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(NO.Provider,{value:r,children:e.children})}return l.jsx(Y0e,{initialProps:e.initialProps,children:e.children})}function Y0e(e){var r=e.initialProps,n=e.children,a=r.selected,s=a||{},i=s.from,o=s.to,c=r.min,u=r.max,d=function(p,v,g){var x,b;(x=r.onDayClick)===null||x===void 0||x.call(r,p,v,g);var w=K0e(p,a);(b=r.onSelect)===null||b===void 0||b.call(r,w,p,v,g)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],ks(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),c&&(i&&!o&&f.disabled.push({after:sk(i,c-1),before:Ja(i,c-1)}),i&&o&&f.disabled.push({after:i,before:Ja(i,c-1)}),!i&&o&&f.disabled.push({after:sk(o,c-1),before:Ja(o,c-1)})),u){if(i&&!o&&(f.disabled.push({before:Ja(i,-u+1)}),f.disabled.push({after:Ja(i,u-1)})),i&&o){var h=ol(o,i)+1,m=u-h;f.disabled.push({before:sk(i,m)}),f.disabled.push({after:Ja(o,m)})}!i&&o&&(f.disabled.push({before:Ja(o,-u+1)}),f.disabled.push({after:Ja(o,u-1)}))}return l.jsx(NO.Provider,{value:{selected:a,onDayClick:d,modifiers:f},children:n})}function EO(){var e=y.useContext(NO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function $1(e){return Array.isArray(e)?kW([],e):e!==void 0?[e]:[]}function X0e(e){var r={};return Object.entries(e).forEach(function(n){var a=n[0],s=n[1];r[a]=$1(s)}),r}var Mo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Mo||(Mo={}));var J0e=Mo.Selected,Bl=Mo.Disabled,Q0e=Mo.Hidden,Z0e=Mo.Today,Dk=Mo.RangeEnd,Rk=Mo.RangeMiddle,Ik=Mo.RangeStart,ege=Mo.Outside;function tge(e,r,n){var a,s=(a={},a[J0e]=$1(e.selected),a[Bl]=$1(e.disabled),a[Q0e]=$1(e.hidden),a[Z0e]=[e.today],a[Dk]=[],a[Rk]=[],a[Ik]=[],a[ege]=[],a);return e.fromDate&&s[Bl].push({before:e.fromDate}),e.toDate&&s[Bl].push({after:e.toDate}),Ax(e)?s[Bl]=s[Bl].concat(r.modifiers[Bl]):Ox(e)&&(s[Bl]=s[Bl].concat(n.modifiers[Bl]),s[Ik]=n.modifiers[Ik],s[Rk]=n.modifiers[Rk],s[Dk]=n.modifiers[Dk]),s}var AW=y.createContext(void 0);function rge(e){var r=Br(),n=kO(),a=EO(),s=tge(r,n,a),i=X0e(r.modifiers),o=At(At({},s),i);return l.jsx(AW.Provider,{value:o,children:e.children})}function OW(){var e=y.useContext(AW);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function nge(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function age(e){return!!(e&&typeof e=="object"&&"from"in e)}function sge(e){return!!(e&&typeof e=="object"&&"after"in e)}function ige(e){return!!(e&&typeof e=="object"&&"before"in e)}function oge(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function lge(e,r){var n,a=r.from,s=r.to;if(a&&s){var i=ol(s,a)<0;i&&(n=[s,a],a=n[0],s=n[1]);var o=ol(e,a)>=0&&ol(s,e)>=0;return o}return s?ks(s,e):a?ks(a,e):!1}function cge(e){return CA(e)}function uge(e){return Array.isArray(e)&&e.every(CA)}function dge(e,r){return r.some(function(n){if(typeof n=="boolean")return n;if(cge(n))return ks(e,n);if(uge(n))return n.includes(e);if(age(n))return lge(e,n);if(oge(n))return n.dayOfWeek.includes(e.getDay());if(nge(n)){var a=ol(n.before,e),s=ol(n.after,e),i=a>0,o=s<0,c=z2(n.before,n.after);return c?o&&i:i||o}return sge(n)?ol(e,n.after)>0:ige(n)?ol(n.before,e)>0:typeof n=="function"?n(e):!1})}function CO(e,r,n){var a=Object.keys(r).reduce(function(i,o){var c=r[o];return dge(e,c)&&i.push(o),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),n&&!OA(e,n)&&(s.outside=!0),s}function fge(e,r){for(var n=As(e[0]),a=A_(e[e.length-1]),s,i,o=n;o<=a;){var c=CO(o,r),u=!c.disabled&&!c.hidden;if(!u){o=Ja(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),s||(s=o),o=Ja(o,1)}return i||s}var hge=365;function PW(e,r){var n=r.moveBy,a=r.direction,s=r.context,i=r.modifiers,o=r.retry,c=o===void 0?{count:0,lastFocused:e}:o,u=s.weekStartsOn,d=s.fromDate,f=s.toDate,h=s.locale,m={day:Ja,week:V2,month:Co,year:$ae,startOfWeek:function(x){return s.ISOWeek?pf(x):bl(x,{locale:h,weekStartsOn:u})},endOfWeek:function(x){return s.ISOWeek?$U(x):TA(x,{locale:h,weekStartsOn:u})}},p=m[n](e,a==="after"?1:-1);a==="before"&&d?p=Bae([d,p]):a==="after"&&f&&(p=Uae([f,p]));var v=!0;if(i){var g=CO(p,i);v=!g.disabled&&!g.hidden}return v?p:c.count>hge?c.lastFocused:PW(p,{moveBy:n,direction:a,context:s,modifiers:i,retry:At(At({},c),{count:c.count+1})})}var DW=y.createContext(void 0);function mge(e){var r=Px(),n=OW(),a=y.useState(),s=a[0],i=a[1],o=y.useState(),c=o[0],u=o[1],d=fge(r.displayMonths,n),f=s??(c&&r.isDateDisplayed(c))?c:d,h=function(){u(s),i(void 0)},m=function(x){i(x)},p=Br(),v=function(x,b){if(s){var w=PW(s,{moveBy:x,direction:b,context:p,modifiers:n});ks(s,w)||(r.goToDate(w,s),m(w))}},g={focusedDay:s,focusTarget:f,blur:h,focus:m,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return l.jsx(DW.Provider,{value:g,children:e.children})}function TO(){var e=y.useContext(DW);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function pge(e,r){var n=OW(),a=CO(e,n,r);return a}var AO=y.createContext(void 0);function gge(e){if(!aS(e.initialProps)){var r={selected:void 0};return l.jsx(AO.Provider,{value:r,children:e.children})}return l.jsx(vge,{initialProps:e.initialProps,children:e.children})}function vge(e){var r=e.initialProps,n=e.children,a=function(i,o,c){var u,d,f;if((u=r.onDayClick)===null||u===void 0||u.call(r,i,o,c),o.selected&&!r.required){(d=r.onSelect)===null||d===void 0||d.call(r,void 0,i,o,c);return}(f=r.onSelect)===null||f===void 0||f.call(r,i,i,o,c)},s={selected:r.selected,onDayClick:a};return l.jsx(AO.Provider,{value:s,children:n})}function RW(){var e=y.useContext(AO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function xge(e,r){var n=Br(),a=RW(),s=kO(),i=EO(),o=TO(),c=o.focusDayAfter,u=o.focusDayBefore,d=o.focusWeekAfter,f=o.focusWeekBefore,h=o.blur,m=o.focus,p=o.focusMonthBefore,v=o.focusMonthAfter,g=o.focusYearBefore,x=o.focusYearAfter,b=o.focusStartOfWeek,w=o.focusEndOfWeek,_=function(z){var L,R,J,te;aS(n)?(L=a.onDayClick)===null||L===void 0||L.call(a,e,r,z):Ax(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,e,r,z):Ox(n)?(J=i.onDayClick)===null||J===void 0||J.call(i,e,r,z):(te=n.onDayClick)===null||te===void 0||te.call(n,e,r,z)},S=function(z){var L;m(e),(L=n.onDayFocus)===null||L===void 0||L.call(n,e,r,z)},j=function(z){var L;h(),(L=n.onDayBlur)===null||L===void 0||L.call(n,e,r,z)},N=function(z){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,e,r,z)},k=function(z){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,e,r,z)},C=function(z){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,e,r,z)},E=function(z){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,e,r,z)},P=function(z){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,e,r,z)},I=function(z){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,e,r,z)},T=function(z){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,e,r,z)},U=function(z){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,e,r,z)},H=function(z){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,e,r,z)},F=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?c():u();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),n.dir==="rtl"?u():c();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),d();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),f();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():p();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?x():v();break;case"Home":z.preventDefault(),z.stopPropagation(),b();break;case"End":z.preventDefault(),z.stopPropagation(),w();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,e,r,z)},M={onClick:_,onFocus:S,onBlur:j,onKeyDown:F,onKeyUp:H,onMouseEnter:N,onMouseLeave:k,onPointerEnter:C,onPointerLeave:E,onTouchCancel:P,onTouchEnd:I,onTouchMove:T,onTouchStart:U};return M}function yge(){var e=Br(),r=RW(),n=kO(),a=EO(),s=aS(e)?r.selected:Ax(e)?n.selected:Ox(e)?a.selected:void 0;return s}function wge(e){return Object.values(Mo).includes(e)}function bge(e,r){var n=[e.classNames.day];return Object.keys(r).forEach(function(a){var s=e.modifiersClassNames[a];if(s)n.push(s);else if(wge(a)){var i=e.classNames["day_".concat(a)];i&&n.push(i)}}),n}function _ge(e,r){var n=At({},e.styles.day);return Object.keys(r).forEach(function(a){var s;n=At(At({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),n}function Sge(e,r,n){var a,s,i,o=Br(),c=TO(),u=pge(e,r),d=xge(e,u),f=yge(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;u.outside||c.focusedDay&&h&&ks(c.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[c.focusedDay,e,n,h,u.outside]);var m=bge(o,u).join(" "),p=_ge(o,u),v=!!(u.outside&&!o.showOutsideDays||u.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:W0e,x=l.jsx(g,{date:e,displayMonth:r,activeModifiers:u}),b={style:p,className:m,children:x,role:"gridcell"},w=c.focusTarget&&ks(c.focusTarget,e)&&!u.outside,_=c.focusedDay&&ks(c.focusedDay,e),S=At(At(At({},b),(a={disabled:u.disabled,role:"gridcell"},a["aria-selected"]=u.selected,a.tabIndex=_||w?0:-1,a)),d),j={isButton:h,isHidden:v,activeModifiers:u,selectedDays:f,buttonProps:S,divProps:b};return j}function jge(e){var r=y.useRef(null),n=Sge(e.date,e.displayMonth,r);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(Lw,At({name:"day",ref:r},n.buttonProps)):l.jsx("div",At({},n.divProps))}function kge(e){var r=e.number,n=e.dates,a=Br(),s=a.onWeekNumberClick,i=a.styles,o=a.classNames,c=a.locale,u=a.labels.labelWeekNumber,d=a.formatters.formatWeekNumber,f=d(Number(r),{locale:c});if(!s)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var h=u(Number(r),{locale:c}),m=function(p){s(r,n,p)};return l.jsx(Lw,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:f})}function Nge(e){var r,n,a=Br(),s=a.styles,i=a.classNames,o=a.showWeekNumber,c=a.components,u=(r=c==null?void 0:c.Day)!==null&&r!==void 0?r:jge,d=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:kge,f;return o&&(f=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(d,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[f,e.dates.map(function(h){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(u,{displayMonth:e.displayMonth,date:h})},Gse(h))})]})}function OM(e,r,n){for(var a=n!=null&&n.ISOWeek?$U(r):TA(r,n),s=n!=null&&n.ISOWeek?pf(e):bl(e,n),i=ol(a,s),o=[],c=0;c<=i;c++)o.push(Ja(s,c));var u=o.reduce(function(d,f){var h=n!=null&&n.ISOWeek?UU(f):zU(f,n),m=d.find(function(p){return p.weekNumber===h});return m?(m.dates.push(f),d):(d.push({weekNumber:h,dates:[f]}),d)},[]);return u}function Ege(e,r){var n=OM(As(e),A_(e),r);if(r!=null&&r.useFixedWeeks){var a=Xse(e,r);if(a<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=V2(i,6-a),c=OM(V2(i,1),o,r);n.push.apply(n,c)}}return n}function Cge(e){var r,n,a,s=Br(),i=s.locale,o=s.classNames,c=s.styles,u=s.hideHead,d=s.fixedWeeks,f=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,v=Ege(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),g=(r=f==null?void 0:f.Head)!==null&&r!==void 0?r:z0e,x=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:Nge,b=(a=f==null?void 0:f.Footer)!==null&&a!==void 0?a:B0e;return l.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&l.jsx(g,{}),l.jsx("tbody",{className:o.tbody,style:c.tbody,children:v.map(function(w){return l.jsx(x,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function Tge(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Age=Tge()?y.useLayoutEffect:y.useEffect,Mk=!1,Oge=0;function PM(){return"react-day-picker-".concat(++Oge)}function Pge(e){var r,n=e??(Mk?PM():null),a=y.useState(n),s=a[0],i=a[1];return Age(function(){s===null&&i(PM())},[]),y.useEffect(function(){Mk===!1&&(Mk=!0)},[]),(r=e??s)!==null&&r!==void 0?r:void 0}function Dge(e){var r,n,a=Br(),s=a.dir,i=a.classNames,o=a.styles,c=a.components,u=Px().displayMonths,d=Pge(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),f=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,p=e.displayIndex===0,v=e.displayIndex===u.length-1,g=!p&&!v;s==="rtl"&&(r=[p,v],v=r[0],p=r[1]),p&&(h.push(i.caption_start),m=At(At({},m),o.caption_start)),v&&(h.push(i.caption_end),m=At(At({},m),o.caption_end)),g&&(h.push(i.caption_between),m=At(At({},m),o.caption_between));var x=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:$0e;return l.jsxs("div",{className:h.join(" "),style:m,children:[l.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Cge,{id:f,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Rge(e){var r=Br(),n=r.classNames,a=r.styles;return l.jsx("div",{className:n.months,style:a.months,children:e.children})}function Ige(e){var r,n,a=e.initialProps,s=Br(),i=TO(),o=Px(),c=y.useState(!1),u=c[0],d=c[1];y.useEffect(function(){s.initialFocus&&i.focusTarget&&(u||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,u,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var h=At(At({},s.styles.root),s.style),m=Object.keys(a).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var x;return At(At({},v),(x={},x[g]=a[g],x))},{}),p=(n=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&n!==void 0?n:Rge;return l.jsx("div",At({className:f.join(" "),style:h,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:l.jsx(p,{children:o.displayMonths.map(function(v,g){return l.jsx(Dge,{displayIndex:g,displayMonth:v},g)})})}))}function Mge(e){var r=e.children,n=i0e(e,["children"]);return l.jsx(k0e,{initialProps:n,children:l.jsx(I0e,{children:l.jsx(gge,{initialProps:n,children:l.jsx(H0e,{initialProps:n,children:l.jsx(G0e,{initialProps:n,children:l.jsx(rge,{children:l.jsx(mge,{children:r})})})})})})})}function Fge(e){return l.jsx(Mge,At({},e,{children:l.jsx(Ige,{initialProps:e})}))}function IW({className:e,classNames:r,showOutsideDays:n=!0,...a}){return l.jsx(Fge,{showOutsideDays:n,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve($m({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve($m({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...s})=>l.jsx(wie,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(P_,{className:"h-4 w-4"})},...a})}IW.displayName="Calendar";function OO({onSearch:e,onFilterStatus:r,onFilterAssignee:n,onFilterDateRange:a,users:s=[],statuses:i=[],placeholder:o,className:c}){const{t:u}=Kt(),{currentLanguage:d}=ms(),[f,h]=y.useState(""),[m,p]=y.useState({from:void 0,to:void 0}),v=d==="ar"?s0e:void 0;y.useEffect(()=>{const b=setTimeout(()=>{e(f)},300);return()=>clearTimeout(b)},[f,e]);const g=b=>{p(b),a&&a(b)},x=()=>{h(""),p({from:void 0,to:void 0}),r&&r("all"),n&&n("all"),a&&a({from:void 0,to:void 0})};return l.jsxs("div",{className:ve("flex flex-col sm:flex-row gap-3 mb-6",c),children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground rtl:right-2.5 rtl:left-auto"}),l.jsx(He,{placeholder:o||u("common.search","Search..."),value:f,onChange:b=>h(b.target.value),className:"pl-9 rtl:pr-9 rtl:pl-3"})]}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[r&&i.length>0&&l.jsxs(jt,{onValueChange:r,children:[l.jsxs(_t,{className:"w-[140px]",children:[l.jsx(Nie,{className:"mr-2 h-4 w-4"}),l.jsx(kt,{placeholder:u("common.status","Status")})]}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:u("common.all","All")}),i.map(b=>l.jsx(Pe,{value:b.value,children:b.label},b.value))]})]}),n&&s.length>0&&l.jsxs(jt,{onValueChange:n,children:[l.jsxs(_t,{className:"w-[140px]",children:[l.jsx(Lge,{className:"mr-2 h-4 w-4"}),l.jsx(kt,{placeholder:u("common.assignee","Assignee")})]}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:u("common.all","All")}),s.filter(b=>["employee","admin","manager","team_leader"].includes(b.user_role)).map(b=>l.jsx(Pe,{value:b.user_id.toString(),children:Ae(b,"user_name")},b.user_id))]})]}),a&&l.jsxs(wa,{children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:ve("w-[240px] justify-start text-left font-normal",!m.from&&"text-muted-foreground"),children:[l.jsx(To,{className:"mr-2 h-4 w-4"}),m.from?m.to?l.jsxs(l.Fragment,{children:[cs(m.from,"LLL dd, y",{locale:v})," -"," ",cs(m.to,"LLL dd, y",{locale:v})]}):cs(m.from,"LLL dd, y",{locale:v}):l.jsx("span",{children:u("common.pickDate","Pick a date")})]})}),l.jsx(na,{className:"w-auto p-0",align:"start",children:l.jsx(IW,{initialFocus:!0,mode:"range",defaultMonth:m.from,selected:m,onSelect:g,numberOfMonths:2})})]}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:x,title:u("common.clearFilters","Clear filters"),children:l.jsx(Oo,{className:"h-4 w-4"})})]})]})}function Lge(e){return l.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),l.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}var MW="AlertDialog",[$ge,jXe]=ps(MW,[mz]),Ec=mz(),FW=e=>{const{__scopeAlertDialog:r,...n}=e,a=Ec(r);return l.jsx(Z_,{...a,...n,modal:!0})};FW.displayName=MW;var Bge="AlertDialogTrigger",LW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Ec(n);return l.jsx(mO,{...s,...a,ref:r})});LW.displayName=Bge;var Uge="AlertDialogPortal",$W=e=>{const{__scopeAlertDialog:r,...n}=e,a=Ec(r);return l.jsx(eS,{...a,...n})};$W.displayName=Uge;var Vge="AlertDialogOverlay",BW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Ec(n);return l.jsx(Fp,{...s,...a,ref:r})});BW.displayName=Vge;var lm="AlertDialogContent",[zge,Wge]=$ge(lm),Hge=joe("AlertDialogContent"),UW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,children:a,...s}=e,i=Ec(n),o=y.useRef(null),c=Ht(r,o),u=y.useRef(null);return l.jsx(Dfe,{contentName:lm,titleName:VW,docsSlug:"alert-dialog",children:l.jsx(zge,{scope:n,cancelRef:u,children:l.jsxs(Lp,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:rt(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=u.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[l.jsx(Hge,{children:a}),l.jsx(Kge,{contentRef:o})]})})})});UW.displayName=lm;var VW="AlertDialogTitle",zW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Ec(n);return l.jsx(kx,{...s,...a,ref:r})});zW.displayName=VW;var WW="AlertDialogDescription",HW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Ec(n);return l.jsx(Nx,{...s,...a,ref:r})});HW.displayName=WW;var qge="AlertDialogAction",qW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,s=Ec(n);return l.jsx(tS,{...s,...a,ref:r})});qW.displayName=qge;var KW="AlertDialogCancel",GW=y.forwardRef((e,r)=>{const{__scopeAlertDialog:n,...a}=e,{cancelRef:s}=Wge(KW,n),i=Ec(n),o=Ht(r,s);return l.jsx(tS,{...i,...a,ref:o})});GW.displayName=KW;var Kge=({contentRef:e})=>{const r=`\`${lm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${lm}\` by passing a \`${WW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(r)},[r,e]),null},Gge=FW,Yge=LW,Xge=$W,YW=BW,XW=UW,JW=qW,QW=GW,ZW=zW,eH=HW;const fi=Gge,wf=Yge,Jge=Xge,tH=y.forwardRef(({className:e,...r},n)=>l.jsx(YW,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));tH.displayName=YW.displayName;const Ms=y.forwardRef(({className:e,...r},n)=>l.jsxs(Jge,{children:[l.jsx(tH,{}),l.jsx(XW,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));Ms.displayName=XW.displayName;const Fs=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...r});Fs.displayName="AlertDialogHeader";const Ls=({className:e,...r})=>l.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Ls.displayName="AlertDialogFooter";const $s=y.forwardRef(({className:e,...r},n)=>l.jsx(ZW,{ref:n,className:ve("text-lg font-semibold",e),...r}));$s.displayName=ZW.displayName;const Bs=y.forwardRef(({className:e,...r},n)=>l.jsx(eH,{ref:n,className:ve("text-sm text-muted-foreground",e),...r}));Bs.displayName=eH.displayName;const Us=y.forwardRef(({className:e,...r},n)=>l.jsx(JW,{ref:n,className:ve($m(),e),...r}));Us.displayName=JW.displayName;const Vs=y.forwardRef(({className:e,...r},n)=>l.jsx(QW,{ref:n,className:ve($m({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));Vs.displayName=QW.displayName;const da=y.forwardRef(({className:e,...r},n)=>l.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));da.displayName="Textarea";function Dx({stages:e,currentStageId:r,onStageChange:n,children:a}){const s=yn(),i=y.useRef(null),o=e.find(c=>c.id===r)??e[0];return y.useEffect(()=>{s&&i.current&&i.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[o==null?void 0:o.id,s]),s?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"border-b bg-background/95 backdrop-blur sticky top-0 z-20 shadow-sm",children:l.jsx("div",{className:"w-full overflow-x-auto scrollbar-hide",dir:Yt()?"ltr":"rtl",children:l.jsx("div",{className:"flex gap-2 p-3 min-w-max rtl:flex-row-reverse",children:[...e].sort((c,u)=>(Yt(),c.id-u.id)).map(c=>{const u=c.id===o.id;return l.jsxs("button",{ref:u?i:null,onClick:()=>n(c.id),className:ve("inline-flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all font-medium text-sm border-2 flex-shrink-0",u?"bg-primary text-primary-foreground shadow-md border-primary":"bg-card text-muted-foreground hover:bg-accent hover:text-accent-foreground border-border"),children:[l.jsx("span",{className:"truncate max-w-[140px]",children:c.name}),l.jsx(gt,{variant:"secondary",className:ve("h-5 min-w-5 px-1.5 text-xs font-semibold",u?"bg-primary-foreground/20 text-primary-foreground border-primary-foreground/30":"bg-muted"),children:c.count})]},c.id)})})})}),l.jsx("div",{className:"flex-1 overflow-auto scrollbar-hide",children:l.jsx("div",{className:"p-2",children:a})})]}):l.jsx(l.Fragment,{children:a})}var sS="Tabs",[Qge,kXe]=ps(sS,[K_]),rH=K_(),[Zge,PO]=Qge(sS),nH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:u="automatic",...d}=e,f=gx(c),[h,m]=vc({prop:a,onChange:s,defaultProp:i??"",caller:sS});return l.jsx(Zge,{scope:n,baseId:ua(),value:h,onValueChange:m,orientation:o,dir:f,activationMode:u,children:l.jsx(dt.div,{dir:f,"data-orientation":o,...d,ref:r})})});nH.displayName=sS;var aH="TabsList",sH=y.forwardRef((e,r)=>{const{__scopeTabs:n,loop:a=!0,...s}=e,i=PO(aH,n),o=rH(n);return l.jsx(xV,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:l.jsx(dt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:r})})});sH.displayName=aH;var iH="TabsTrigger",oH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=e,o=PO(iH,n),c=rH(n),u=uH(o.baseId,a),d=dH(o.baseId,a),f=a===o.value;return l.jsx(yV,{asChild:!0,...c,focusable:!s,active:f,children:l.jsx(dt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:r,onMouseDown:rt(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:rt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:rt(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!s&&h&&o.onValueChange(a)})})})});oH.displayName=iH;var lH="TabsContent",cH=y.forwardRef((e,r)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=e,c=PO(lH,n),u=uH(c.baseId,a),d=dH(c.baseId,a),f=a===c.value,h=y.useRef(f);return y.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Ua,{present:s||f,children:({present:m})=>l.jsx(dt.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:d,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});cH.displayName=lH;function uH(e,r){return`${e}-trigger-${r}`}function dH(e,r){return`${e}-content-${r}`}var eve=nH,fH=sH,hH=oH,mH=cH;const kl=eve,Fo=y.forwardRef(({className:e,...r},n)=>l.jsx(fH,{ref:n,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Fo.displayName=fH.displayName;const en=y.forwardRef(({className:e,...r},n)=>l.jsx(hH,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));en.displayName=hH.displayName;const An=y.forwardRef(({className:e,...r},n)=>l.jsx(mH,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));An.displayName=mH.displayName;function DO({relatedType:e,relatedId:r,notes:n,onNotesChange:a}){const{t:s}=Kt(),{user:i}=Sr(),[o,c]=y.useState(""),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState(null),[v,g]=y.useState(!1),x=async()=>{if(!(!o.trim()||!(i!=null&&i.id))){g(!0);try{await im.create({content:o.trim(),related_to_type:e,related_to_id:r,created_by:i.id}),c(""),a()}catch(S){console.error("Failed to create note:",S)}finally{g(!1)}}},b=async S=>{if(f.trim()){g(!0);try{await im.update(S,f.trim()),d(null),h(""),a()}catch(j){console.error("Failed to update note:",j)}finally{g(!1)}}},w=async()=>{if(m){g(!0);try{await im.delete(m),p(null),a()}catch(S){console.error("Failed to delete note:",S)}finally{g(!1)}}},_=S=>{if(!S)return"";try{return qse(new Date(S),{addSuffix:!0})}catch{return S}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(da,{value:o,onChange:S=>c(S.target.value),placeholder:s("notes.placeholder"),rows:3,className:"resize-none"}),l.jsxs(ue,{onClick:x,disabled:!o.trim()||v,className:"w-full",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),s("notes.save")]})]}),l.jsx("div",{className:"space-y-3",children:n.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-8",children:s("notes.noNotes")}):n.map(S=>{var k;const j=u===S.note_id,N=S.created_by===(i==null?void 0:i.id);return l.jsxs("div",{className:"border rounded-lg p-4 space-y-2 bg-card",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[(k=S.user)!=null&&k.avatar?l.jsx("img",{src:S.user.avatar,alt:Ae(S.user,"user_name"),className:"h-8 w-8 rounded-full flex-shrink-0"}):l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-xs font-semibold text-primary",children:S.user?Ae(S.user,"user_name")[0]:"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:S.user?Ae(S.user,"user_name"):s("notes.unknown")}),l.jsx("p",{className:"text-xs text-muted-foreground",children:_(S.created_at)})]})]}),N&&!j&&l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{d(S.note_id),h(S.content)},children:l.jsx(Vi,{className:"h-3.5 w-3.5"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",onClick:()=>p(S.note_id),children:l.jsx(Er,{className:"h-3.5 w-3.5"})})]})]}),j?l.jsxs("div",{className:"space-y-2",children:[l.jsx(da,{value:f,onChange:C=>h(C.target.value),rows:3,className:"resize-none"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ue,{size:"sm",onClick:()=>b(S.note_id),disabled:!f.trim()||v,children:[l.jsx(Ao,{className:"h-3.5 w-3.5 mr-1"}),s("notes.save")]}),l.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>{d(null),h("")},children:[l.jsx(Oo,{className:"h-3.5 w-3.5 mr-1"}),s("buttons.cancel")]})]})]}):l.jsx("p",{className:"text-sm whitespace-pre-wrap",children:S.content})]},S.note_id)})}),l.jsx(fi,{open:!!m,onOpenChange:()=>p(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:s("notes.delete")}),l.jsx(Bs,{children:s("notes.deleteConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:s("buttons.cancel")}),l.jsx(Us,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s("buttons.delete")})]})]})})]})}function pH({priority:e=3,size:r="sm",showCount:n=!1,className:a}){const s=e||3,i={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return l.jsxs("div",{className:ve("flex items-center gap-0.5",a),children:[[1,2,3,4,5].map(o=>l.jsx(t9,{className:ve(i[r],o<=s?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300 dark:text-gray-600")},o)),n&&l.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",s,"/5)"]})]})}function tve({leadId:e}){const{t:r}=Kt(),{user:n}=Sr(),[a,s]=y.useState(null),[i,o]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(""),[p,v]=y.useState([]),[g,x]=y.useState(!0),[b,w]=y.useState(!1),[_,S]=y.useState([]),[j,N]=y.useState([]),[k,C]=y.useState([]),[E,P]=y.useState({lead_name:"",lead_description:"",client_user_id:"",stage:"",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{T(),I()},[e]);const I=async()=>{try{const R=await cn.getAll().then(J=>J.filter(te=>te.user_role==="client"));C(R)}catch(R){console.error("Failed to load clients:",R)}},T=async()=>{var R,J,te;try{x(!0);const[A,X,V]=await Promise.all([kd.getById(e),ns.getByType("leads"),cn.getAll()]);if(s(A),S(X),N(V),!A)return;if(P({lead_name:A.lead_name||"",lead_description:A.lead_description||"",client_user_id:A.client_user_id||"",stage:((R=A.stage)==null?void 0:R.toString())||"",assigned_to:A.assigned_to||"",value:((J=A.value)==null?void 0:J.toString())||"",currency:A.currency||"SAR",priority:((te=A.priority)==null?void 0:te.toString())||"3",expected_close_date:A.expected_close_date||""}),A.client_user_id){const q=await cn.getByAuthId(A.client_user_id);o(q)}if(A.created_by){const q=V.find(ae=>ae.auth_user_id===A.created_by)||null;u(q)}if(A.assigned_to){const q=V.find(ae=>ae.auth_user_id===A.assigned_to)||null;f(q)}if(A.stage){const q=X.find(ae=>ae.stage_id===A.stage);q&&m(Ae(q,"stage_name"))}U()}catch(A){console.error("Failed to load lead data:",A)}finally{x(!1)}},U=async()=>{try{const R=await im.getByRelated("lead",e);v(R)}catch(R){console.error("Failed to load notes:",R)}},H=async()=>{if(a)try{const R=E.assigned_to&&E.assigned_to!=="unassigned"?E.assigned_to:null,J=wl({lead_name:E.lead_name,lead_description:E.lead_description||null,client_user_id:E.client_user_id||null,stage:parseInt(E.stage),assigned_to:R,value:E.value?parseFloat(E.value):null,currency:E.currency,priority:parseInt(E.priority),expected_close_date:E.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description"});await kd.update(a.lead_id,J);const te={...a,...J};if(s(te),E.client_user_id){const X=k.find(V=>V.auth_user_id===E.client_user_id)||null;o(X)}if(R){const X=j.find(V=>V.auth_user_id===R)||null;f(X)}const A=_.find(X=>X.stage_id===parseInt(E.stage));A&&m(Ae(A,"stage_name")),w(!1)}catch(R){console.error("Failed to update lead:",R)}},F=()=>{var R,J,te;a&&P({lead_name:a.lead_name||"",lead_description:a.lead_description||"",client_user_id:a.client_user_id||"",stage:((R=a.stage)==null?void 0:R.toString())||"",assigned_to:a.assigned_to||"",value:((J=a.value)==null?void 0:J.toString())||"",currency:a.currency||"SAR",priority:((te=a.priority)==null?void 0:te.toString())||"3",expected_close_date:a.expected_close_date||""}),w(!1)},M=(R,J)=>{if(R===null)return"-";const te=J||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:te==="SAR"?"SAR":te}).format(R)},z=R=>R?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"-";if(g)return l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})});if(!a)return l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:r("leads.notFound")});const L=(n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager";return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:r("leads.leadDetails")}),L&&!b&&l.jsxs(ue,{onClick:()=>w(!0),variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),r("buttons.edit")]}),b&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ue,{onClick:F,variant:"outline",size:"sm",children:[l.jsx(Oo,{className:"h-4 w-4 mr-2"}),r("buttons.cancel")]}),l.jsxs(ue,{onClick:H,size:"sm",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),r("buttons.save")]})]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:r("common.overview")}),l.jsx(en,{value:"notes",children:r("notes.title")})]}),l.jsx(An,{value:"overview",className:"space-y-4 mt-4",children:b?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"lead_name",children:[r("leads.leadName")," *"]}),l.jsx(He,{id:"lead_name",value:E.lead_name,onChange:R=>P(J=>({...J,lead_name:R.target.value})),placeholder:r("leads.leadName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"lead_description",children:r("leads.description")}),l.jsx(da,{id:"lead_description",value:E.lead_description,onChange:R=>P(J=>({...J,lead_description:R.target.value})),placeholder:r("leads.description"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.client")}),l.jsxs(jt,{value:E.client_user_id,onValueChange:R=>P(J=>({...J,client_user_id:R})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectClient")})}),l.jsx(St,{children:k.filter(R=>R.auth_user_id).map(R=>l.jsx(Pe,{value:R.auth_user_id,children:Ae(R,"user_name")},R.user_id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.stage")}),l.jsxs(jt,{value:E.stage,onValueChange:R=>P(J=>({...J,stage:R})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectStage")})}),l.jsx(St,{children:_.map(R=>l.jsx(Pe,{value:R.stage_id.toString(),children:Ae(R,"stage_name")},R.stage_id))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.value")}),l.jsx(He,{type:"number",min:"0",step:"0.01",value:E.value,onChange:R=>P(J=>({...J,value:R.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.currency")}),l.jsxs(jt,{value:E.currency,onValueChange:R=>P(J=>({...J,currency:R})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"SAR",children:"SAR (.)"}),l.jsx(Pe,{value:"USD",children:"USD ($)"}),l.jsx(Pe,{value:"EUR",children:"EUR ()"}),l.jsx(Pe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("common.priority")}),l.jsxs(jt,{value:E.priority,onValueChange:R=>P(J=>({...J,priority:R})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsxs(Pe,{value:"1",children:[" ",r("common.veryLow")]}),l.jsxs(Pe,{value:"2",children:[" ",r("common.low")]}),l.jsxs(Pe,{value:"3",children:[" ",r("common.medium")]}),l.jsxs(Pe,{value:"4",children:[" ",r("common.high")]}),l.jsxs(Pe,{value:"5",children:[" ",r("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.expectedCloseDate")}),l.jsx(He,{type:"date",value:E.expected_close_date,onChange:R=>P(J=>({...J,expected_close_date:R.target.value}))})]})]}),((n==null?void 0:n.role)==="admin"||(n==null?void 0:n.role)==="manager")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:r("leads.assignToEmployee")}),l.jsxs(jt,{value:E.assigned_to,onValueChange:R=>P(J=>({...J,assigned_to:R})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:r("leads.selectAssignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:r("common.unassigned")}),j.filter(R=>["employee","admin","manager","team_leader"].includes(R.user_role)&&R.auth_user_id).map(R=>l.jsx(Pe,{value:R.auth_user_id,children:Ae(R,"user_name")},R.user_id))]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:Ae(a,"lead_name")}),Ae(a,"lead_description")&&l.jsx("p",{className:"text-muted-foreground mt-1",children:Ae(a,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(wI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.priority")}),l.jsx(pH,{priority:a.priority,size:"sm"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[l.jsx(cg,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.value")}),l.jsx("p",{className:"text-lg font-semibold",children:M(a.value,a.currency)})]})]}),i&&l.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[l.jsx(En,{className:"h-5 w-5 text-primary mt-0.5"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.client")}),l.jsx("p",{className:"font-medium truncate",children:Ae(i,"user_name")}),i.user_email&&l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.user_email})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(wI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("common.stage")}),l.jsx(gt,{variant:"secondary",children:h||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Qn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.assignedTo")}),l.jsx("p",{className:"font-medium",children:d?Ae(d,"user_name"):r("common.unassigned")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),r("common.created")]}),l.jsx("p",{className:"text-sm font-medium mt-1",children:z(a.created_date)})]}),c&&l.jsxs("div",{className:"p-3 rounded-lg border",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:r("leads.createdBy")}),l.jsx("p",{className:"text-sm font-medium mt-1 truncate",children:Ae(c,"user_name")})]})]})]})}),l.jsx(An,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"lead",relatedId:e,notes:p,onNotesChange:U})})]})]})}function Rx({title:e,description:r,icon:n,actions:a,stats:s,className:i=""}){Kt();const o=yn();return l.jsxs("div",{className:ve("mb-6",i),children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[n&&l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0 border border-primary/10 ring-4 ring-primary/5",children:typeof n=="function"?ne.createElement(n):n}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:e}),r&&l.jsx("p",{className:"text-muted-foreground mt-1 max-w-2xl text-sm",children:r})]})]}),a&&l.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a})]}),s&&s.length>0&&!o&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4 mt-6",children:s.map((c,u)=>l.jsx(ot,{className:"p-2 md:p-3 hover:shadow-md transition-all hover:-translate-y-0.5 border-border/50",children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c.icon&&l.jsx("div",{className:"h-7 w-7 md:h-9 md:w-9 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:typeof c.icon=="function"?ne.createElement(c.icon):c.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:c.label}),l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("p",{className:"text-lg md:text-xl font-bold text-foreground truncate",children:c.value}),c.trend&&l.jsxs("span",{className:ve("text-xs font-medium",c.trend.isPositive?"text-green-600":"text-red-600"),children:[c.trend.isPositive?"+":"",c.trend.value,"%"]})]})]})]})},u))})]})}function pl({icon:e,title:r,description:n,action:a,className:s=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-4 ${s}`,children:[e&&l.jsx("div",{className:"h-24 w-24 rounded-full bg-muted/50 flex items-center justify-center mb-6 ring-4 ring-muted/20",children:typeof e=="function"?ne.createElement(e):e}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2 text-center",children:r}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:n}),a]})}const RO=y.forwardRef(({className:e,...r},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...r})}));RO.displayName="Table";const IO=y.forwardRef(({className:e,...r},n)=>l.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...r}));IO.displayName="TableHeader";const MO=y.forwardRef(({className:e,...r},n)=>l.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...r}));MO.displayName="TableBody";const rve=y.forwardRef(({className:e,...r},n)=>l.jsx("tfoot",{ref:n,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r}));rve.displayName="TableFooter";const uv=y.forwardRef(({className:e,...r},n)=>l.jsx("tr",{ref:n,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...r}));uv.displayName="TableRow";const fo=y.forwardRef(({className:e,...r},n)=>l.jsx("th",{ref:n,className:ve("h-12 py-4 align-middle font-medium text-muted-foreground",Yt()?"text-right px-2 [&:has([role=checkbox])]:px-4":"text-left px-4 [&:has([role=checkbox])]:px-6",e),...r}));fo.displayName="TableHead";const ho=y.forwardRef(({className:e,...r},n)=>l.jsx("td",{ref:n,className:ve("py-4 align-middle",Yt()?"px-2 [&:has([role=checkbox])]:px-4":"px-4 [&:has([role=checkbox])]:px-6",e),...r}));ho.displayName="TableCell";const nve=y.forwardRef(({className:e,...r},n)=>l.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...r}));nve.displayName="TableCaption";var iS="Checkbox",[ave,NXe]=ps(iS),[sve,FO]=ave(iS);function ive(e){const{__scopeCheckbox:r,checked:n,children:a,defaultChecked:s,disabled:i,form:o,name:c,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:h}=e,[m,p]=vc({prop:n,defaultProp:s??!1,onChange:u,caller:iS}),[v,g]=y.useState(null),[x,b]=y.useState(null),w=y.useRef(!1),_=v?!!o||!!v.closest("form"):!0,S={checked:m,disabled:i,setChecked:p,control:v,setControl:g,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:Tu(s)?!1:s,isFormControl:_,bubbleInput:x,setBubbleInput:b};return l.jsx(sve,{scope:r,...S,children:ove(h)?h(S):a})}var gH="CheckboxTrigger",vH=y.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:n,...a},s)=>{const{control:i,value:o,disabled:c,checked:u,required:d,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:v}=FO(gH,e),g=Ht(s,f),x=y.useRef(u);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const w=()=>h(x.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[i,h]),l.jsx(dt.button,{type:"button",role:"checkbox","aria-checked":Tu(u)?"mixed":u,"aria-required":d,"data-state":_H(u),"data-disabled":c?"":void 0,disabled:c,value:o,...a,ref:g,onKeyDown:rt(r,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:rt(n,b=>{h(w=>Tu(w)?!0:!w),v&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});vH.displayName=gH;var LO=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u,onCheckedChange:d,form:f,...h}=e;return l.jsx(ive,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:c,required:o,onCheckedChange:d,name:a,form:f,value:u,internal_do_not_use_render:({isFormControl:m})=>l.jsxs(l.Fragment,{children:[l.jsx(vH,{...h,ref:r,__scopeCheckbox:n}),m&&l.jsx(bH,{__scopeCheckbox:n})]})})});LO.displayName=iS;var xH="CheckboxIndicator",yH=y.forwardRef((e,r)=>{const{__scopeCheckbox:n,forceMount:a,...s}=e,i=FO(xH,n);return l.jsx(Ua,{present:a||Tu(i.checked)||i.checked===!0,children:l.jsx(dt.span,{"data-state":_H(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});yH.displayName=xH;var wH="CheckboxBubbleInput",bH=y.forwardRef(({__scopeCheckbox:e,...r},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:c,disabled:u,name:d,value:f,form:h,bubbleInput:m,setBubbleInput:p}=FO(wH,e),v=Ht(n,p),g=QA(i),x=qA(a);y.useEffect(()=>{const w=m;if(!w)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,N=!s.current;if(g!==i&&j){const k=new Event("click",{bubbles:N});w.indeterminate=Tu(i),j.call(w,Tu(i)?!1:i),w.dispatchEvent(k)}},[m,g,i,s]);const b=y.useRef(Tu(i)?!1:i);return l.jsx(dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:u,name:d,value:f,form:h,...r,tabIndex:-1,ref:v,style:{...r.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bH.displayName=wH;function ove(e){return typeof e=="function"}function Tu(e){return e==="indeterminate"}function _H(e){return Tu(e)?"indeterminate":e?"checked":"unchecked"}const $w=y.forwardRef(({className:e,indeterminate:r,...n},a)=>l.jsx(LO,{ref:a,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r&&"bg-primary text-primary-foreground",e),...n,children:l.jsx(yH,{className:ve("flex items-center justify-center text-current"),children:r?l.jsx(Die,{className:"h-4 w-4"}):l.jsx(IA,{className:"h-4 w-4"})})}));$w.displayName=LO.displayName;function yc({data:e,columns:r,actions:n=[],bulkActions:a=[],keyExtractor:s,onRowClick:i,emptyState:o,mobileCardRender:c,className:u,enableBulkSelect:d=!1,rowHeight:f}){const h=yn(),{t:m}=Kt(),[p,v]=y.useState(new Set),g=k=>{const C=new Set(p);C.has(k)?C.delete(k):C.add(k),v(C)},x=()=>{p.size===e.length?v(new Set):v(new Set(e.map(s)))},b=()=>{v(new Set)},w=()=>e.filter(k=>p.has(s(k))),_=k=>{const C=n.filter(E=>!E.show||E.show(k));return C.length===0?null:l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,onClick:E=>E.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(jie,{className:"h-4 w-4"})})}),l.jsx(J_,{align:"end",children:C.map((E,P)=>l.jsxs(Yl,{onClick:I=>{I.stopPropagation(),E.onClick(k)},className:ve(E.variant==="destructive"&&"text-destructive focus:text-destructive"),children:[E.icon&&l.jsx("span",{className:"mr-2",children:E.icon}),E.label]},P))})]})};if(e.length===0)return o||l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:m("common.noData","No data available")});if(h)return l.jsx("div",{className:ve("space-y-3 w-full overflow-hidden",u),children:e.map((k,C)=>c?l.jsx("div",{onClick:()=>i==null?void 0:i(k),className:"w-full",children:c(k,_(k))},s(k)):l.jsx(ot,{className:ve("w-full overflow-hidden transition-all",i&&"cursor-pointer hover:shadow-md active:scale-[0.99]"),onClick:()=>i==null?void 0:i(k),children:l.jsx(xt,{className:"p-4 w-full",children:l.jsxs("div",{className:"space-y-3 w-full",children:[r.filter(E=>!E.hideOnMobile).map((E,P)=>l.jsxs("div",{className:"flex items-start justify-between gap-2 w-full min-w-0",children:[l.jsx("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide flex-shrink-0",children:E.header}),l.jsx("div",{className:"text-sm text-right flex-shrink-0 max-w-[60%]",children:E.render(k,C)})]},E.key)),n.length>0&&l.jsx("div",{className:"pt-2 border-t flex justify-end",children:_(k)})]})})},s(k)))});const S=p.size,j=S===e.length&&e.length>0,N=S>0&&S<e.length;return l.jsxs("div",{className:"space-y-4",children:[d&&S>0&&l.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-lg animate-in fade-in slide-in-from-top-2",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-sm font-medium",children:[S," ",S===1?m("common.item","item"):m("common.items","items")," ",m("common.selected","selected")]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[a.map((k,C)=>l.jsxs(ue,{variant:k.variant==="destructive"?"destructive":"outline",size:"sm",onClick:()=>k.onClick(w()),className:ve(k.variant==="destructive"&&"hover:bg-destructive/90"),children:[k.icon&&l.jsx("span",{className:"mr-2",children:k.icon}),k.label]},C)),l.jsx(ue,{variant:"ghost",size:"sm",onClick:b,className:"text-muted-foreground hover:text-foreground",children:l.jsx(Oo,{className:"h-4 w-4"})})]})]}),l.jsx(ot,{className:ve("overflow-hidden",u),children:l.jsx(xt,{className:"p-0",children:l.jsxs(RO,{children:[l.jsx(IO,{children:l.jsxs(uv,{className:"bg-muted/50 hover:bg-muted/50 sticky top-0 z-20 shadow-sm",children:[d&&l.jsx(fo,{className:"w-12",children:l.jsx($w,{checked:j,indeterminate:N,onCheckedChange:x,"aria-label":m("common.selectAll","Select all")})}),r.map(k=>l.jsx(fo,{className:ve("font-semibold",k.className),children:k.header},k.key)),n.length>0&&l.jsx(fo,{className:"w-[100px] text-right",children:m("common.actions")})]})}),l.jsx(MO,{children:e.map((k,C)=>{const E=s(k),P=p.has(E);return l.jsxs(uv,{className:ve("group transition-colors",P&&"bg-primary/5",i&&"cursor-pointer hover:bg-muted/50",f),onClick:()=>i==null?void 0:i(k),children:[d&&l.jsx(ho,{onClick:I=>I.stopPropagation(),children:l.jsx($w,{checked:P,onCheckedChange:()=>g(E),"aria-label":m("common.selectItem","Select item")})}),r.map(I=>l.jsx(ho,{className:ve(I.className,"overflow-hidden"),children:I.render(k,C)},I.key)),n.length>0&&l.jsx(ho,{className:"text-right",children:l.jsx("div",{children:_(k)})})]},E)})})]})})})]})}function $O({children:e,variant:r="secondary"}){return l.jsx(gt,{variant:r,className:"text-xs font-medium",children:e})}function bf({name:e,fallback:r="Unassigned"}){return l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:ve(!e&&"text-muted-foreground"),children:e||r})]})}function Bu({date:e,fallback:r="Not set"}){return e?l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(To,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{children:new Date(e).toLocaleDateString()})]}):l.jsx("span",{className:"text-muted-foreground",children:r})}function wc({title:e,subtitle:r,icon:n}){return l.jsxs("div",{className:"flex items-center gap-2 min-w-0 w-full",children:[n&&(typeof n=="function"?ne.createElement(n):n),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"font-medium truncate text-sm break-words",children:e}),r&&l.jsx("div",{className:"text-xs text-muted-foreground truncate break-words",children:r})]})]})}function lve({value:e,currency:r="SAR"}){return e==null?l.jsx("span",{className:"text-muted-foreground",children:"-"}):l.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:new Intl.NumberFormat("en-US",{style:"currency",currency:r}).format(e)})}function cve({lead:e,client:r,creator:n,assignedUser:a,userRole:s,users:i=[],onDelete:o,onEdit:c,onAssign:u,onClick:d,onDragStart:f,isDragging:h=!1}){const{t:m}=Kt(),p=yn(),v=x=>x?new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):m("leads.unknown"),g=(x,b)=>{if(x===null)return"-";const w=b||"SAR";return new Intl.NumberFormat("en-US",{style:"currency",currency:w}).format(x)};return l.jsxs(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",p?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",h&&"opacity-50 rotate-2 scale-105"),onClick:d,draggable:!!f,onDragStart:x=>{f&&(x.dataTransfer.effectAllowed="move",x.dataTransfer.setData("text/plain",e.lead_id.toString()),f(e.lead_id))},children:[l.jsxs(Xt,{className:"pb-3 px-4 pt-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"lead_name")}),Ae(e,"lead_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"lead_description")})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[c&&(s==="admin"||s==="manager")&&l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-primary hover:bg-primary/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),onClick:x=>{x.stopPropagation(),c()},children:l.jsx(Vi,{className:"h-4 w-4"})}),o&&l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,onClick:x=>x.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",p?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:x=>x.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:m("leads.deleteLead")}),l.jsx(Bs,{children:m("leads.deleteConfirmation",{name:Ae(e,"lead_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:m("buttons.cancel")}),l.jsx(Us,{onClick:x=>{x.stopPropagation(),o(e.lead_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:m("buttons.delete")})]})]})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2 mt-2",children:[l.jsx(pH,{priority:e.priority,size:"sm"}),e.expected_close_date&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3 w-3"}),l.jsx("span",{children:v(e.expected_close_date)})]})]})]}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[e.value!==null&&e.value!==void 0&&e.value>0&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border border-green-200 dark:border-green-800/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(cg,{className:"h-4 w-4 text-green-600 dark:text-green-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-green-700/70 dark:text-green-400/70 font-medium",children:m("leads.value")}),l.jsx("p",{className:"text-base font-bold text-green-700 dark:text-green-400 truncate",children:g(e.value,e.currency)})]})]}),r&&l.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-muted/30 hover:bg-muted/50 transition-colors border border-border/50",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(En,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] uppercase tracking-wide text-muted-foreground font-medium",children:m("leads.client")}),l.jsx("p",{className:"text-sm font-semibold truncate",children:Ae(r,"user_name")})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.createdBy")}),l.jsx("p",{className:"text-xs font-medium truncate",children:Ae(n,"user_name")})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:m("leads.assignedTo")}),l.jsx("p",{className:"text-xs font-medium truncate",children:a?Ae(a,"user_name"):m("common.all","Unassigned")})]})]})]}),l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:e.assigned_to||"unassigned",onValueChange:x=>u&&u(e.lead_id,x==="unassigned"?"":x),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:m("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:m("common.all","Unassigned")}),i.map(x=>l.jsx(Pe,{value:(x.userid||x.userid||"").toString(),children:Ae(x,"user_name")},x.userid))]})]})})]}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:v(e.created_date)})]}),l.jsx(gt,{variant:"secondary",className:"text-xs",children:m("leads.lead")})]})]})]})}function uve(){var ut,se,he;zs();const{hasRole:e,user:r}=Sr(),n=yn(),{t:a}=Kt(),{setBreadcrumbs:s}=fx();y.useEffect(()=>{s([{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.leads")}])},[a,s]);const[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[p,v]=y.useState(!0);y.useState(!1),y.useState("");const[g,x]=y.useState(null),[b,w]=y.useState(""),[_,S]=y.useState(null),[j,N]=y.useState(null),[k,C]=y.useState(!1),[E,P]=y.useState(null),[I,T]=y.useState("kanban"),[U,H]=y.useState(null),[F,M]=y.useState(""),[z,L]=y.useState("all"),[R,J]=y.useState("all"),[te,A]=y.useState({from:void 0,to:void 0}),X=y.useMemo(()=>i.filter(ee=>{const _e=(ee.lead_name||"").toLowerCase().includes(F.toLowerCase())||(ee.lead_description||"").toLowerCase().includes(F.toLowerCase())||(ee.client_name||"").toLowerCase().includes(F.toLowerCase()),je=R==="all"||ee.assigned_to&&ee.assigned_to===R;let be=!0;if(te.from&&ee.created_date){const le=new Date(ee.created_date),fe=new Date(te.from);fe.setHours(0,0,0,0);const ye=new Date(le);if(ye.setHours(0,0,0,0),be=ye>=fe,be&&te.to){const pe=new Date(te.to);pe.setHours(23,59,59,999),be=ye<=pe}}else te.from&&!ee.created_date&&(be=!1);return _e&&je&&be}),[i,F,z,R,te]),[V,q]=y.useState({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""});y.useEffect(()=>{ae()},[]),y.useEffect(()=>{if(h.length>0&&E===null){const ee=h.find(_e=>_e.stage_id===1);ee&&P(ee.stage_id)}},[h,E]);const ae=async()=>{try{v(!0);const[ee,_e,je,be]=await Promise.all([kd.getAll(),cn.getAll(),Fw.getAll(),ns.getByType("leads")]);console.log("[Leads] Loaded data:",{leads:ee.length,clients:je.length,users:_e.length,stages:be.length}),console.log("[Leads] Leads data:",ee),console.log("[Leads] Stages data:",be),o(ee),u(je),f(_e),m(be)}catch(ee){console.error("Failed to load data:",ee)}finally{v(!1)}},ce=async ee=>{if(b.trim())try{await ns.update(ee,{stage_name:b.trim()}),m(h.map(_e=>_e.stage_id===ee?{..._e,stage_name:b.trim()}:_e)),x(null),w("")}catch(_e){console.error("Failed to update stage:",_e)}},me=async ee=>{if(i.filter(je=>je.stage===ee).length>0){S(ee);return}try{await ns.delete(ee),m(h.filter(je=>je.stage_id!==ee))}catch(je){console.error("Failed to delete stage:",je)}},ie=async()=>{if(_)try{await ns.delete(_),m(h.filter(ee=>ee.stage_id!==_)),S(null),ae()}catch(ee){console.error("Failed to delete stage:",ee)}},Q=ee=>{N(ee)},de=ee=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move"},D=async ee=>{if(!j)return;const _e=i.find(je=>je.lead_id===j);if(_e&&_e.stage!==ee)try{await kd.update(j,{stage:ee}),o(i.map(je=>je.lead_id===j?{...je,stage:ee}:je))}catch(je){console.error("Failed to update lead stage:",je)}N(null)},Be=async ee=>{try{await kd.delete(ee),o(i.filter(_e=>_e.lead_id!==ee))}catch(_e){console.error("Failed to delete lead:",_e)}},Le=async(ee,_e)=>{const je=_e||null,be=je?new Date().toISOString():null,le=i.find(fe=>fe.lead_id===ee);if(le){o(i.map(fe=>fe.lead_id===ee?{...fe,assigned_to:je,assigned_at:be}:fe));try{await kd.update(ee,{assigned_to:je,assigned_at:be})}catch(fe){console.error("Failed to assign lead:",fe),o(i.map(ye=>ye.lead_id===ee?{...ye,assigned_to:le.assigned_to,assigned_at:le.assigned_at}:ye))}}},Ue=ee=>{q(_e=>({..._e,stage:ee.toString()})),C(!0)},ze=async()=>{if(V.lead_name.trim())try{const ee=V.assigned_to&&V.assigned_to!=="unassigned"?V.assigned_to:null,_e=ee?new Date().toISOString():null,je=wl({lead_name:V.lead_name.trim(),lead_description:V.lead_description.trim()||null,client_name:V.client_name.trim()||null,client_user_id:V.client_user_id||null,created_by:(r==null?void 0:r.id)||null,stage:parseInt(V.stage),assigned_to:ee,assigned_at:_e,value:V.value?parseFloat(V.value):null,currency:V.currency||"SAR",priority:V.priority?parseInt(V.priority):3,expected_close_date:V.expected_close_date||null},{lead_name:"lead_name",lead_description:"lead_description",client_name:"client_name"}),be=await kd.create(je);o([...i,be]),q({lead_name:"",lead_description:"",client_name:"",client_user_id:"",stage:"1",assigned_to:"",value:"",currency:"SAR",priority:"3",expected_close_date:""}),C(!1)}catch(ee){console.error("Failed to create lead:",ee)}},De=h.filter(ee=>ee.stage_type==="leads").sort((ee,_e)=>{const je=ee.stager_order_index??0,be=_e.stager_order_index??0;return je-be}),mt=De.map(ee=>({id:ee.stage_id,name:Ae(ee,"stage_name"),color:ee.color,count:X.filter(_e=>_e.stage===ee.stage_id).length}));return p?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Yt()?"rtl":"ltr",children:[l.jsx(Rx,{title:a("leads.title"),description:a("leads.description","Manage and track all your sales leads"),icon:l.jsx(Ra,{className:"h-6 w-6 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:I==="kanban"?"default":"ghost",size:"sm",onClick:()=>T("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:I==="list"?"default":"ghost",size:"sm",onClick:()=>T("list"),className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>C(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",a("leads.newLead")]})]}),stats:[{label:a("leads.totalLeads","Total Leads"),value:i.length,icon:l.jsx(Ra,{className:"h-5 w-5 text-primary"})},{label:a("leads.thisMonth","This Month"),value:i.filter(ee=>{const _e=new Date(ee.created_date),je=new Date;return _e.getMonth()===je.getMonth()&&_e.getFullYear()===je.getFullYear()}).length,icon:l.jsx(To,{className:"h-5 w-5 text-green-500"})},{label:a("leads.totalValue","Total Value"),value:`SAR ${i.reduce((ee,_e)=>ee+(_e.value||0),0).toLocaleString()}`,icon:l.jsx(cg,{className:"h-5 w-5 text-green-600"})},{label:a("leads.avgValue","Avg Value"),value:i.length>0?`SAR ${Math.round(i.reduce((ee,_e)=>ee+(_e.value||0),0)/i.length).toLocaleString()}`:"SAR 0",icon:l.jsx(cg,{className:"h-5 w-5 text-blue-500"})}]}),l.jsx(OO,{onSearch:M,onFilterAssignee:J,onFilterDateRange:A,users:d}),I==="kanban"?l.jsxs(Dx,{stages:mt,currentStageId:E||((ut=mt[0])==null?void 0:ut.id),onStageChange:P,children:[l.jsx(Tn,{open:k,onOpenChange:C,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("leads.createLead")}),l.jsx($a,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(He,{value:V.lead_name,onChange:ee=>q(_e=>({..._e,lead_name:ee.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(da,{value:V.lead_description,onChange:ee=>q(_e=>({..._e,lead_description:ee.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(He,{value:V.client_name,onChange:ee=>q(_e=>({..._e,client_name:ee.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(jt,{value:V.client_user_id,onValueChange:ee=>q(_e=>({..._e,client_user_id:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectClient")})}),l.jsx(St,{children:c.filter(ee=>ee.userid||ee.userid).map(ee=>l.jsx(Pe,{value:(ee.userid||ee.userid||"").toString(),children:Ae(ee,"user_name")},ee.userid))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.value")}),l.jsx(He,{type:"number",min:"0",step:"0.01",value:V.value,onChange:ee=>q(_e=>({..._e,value:ee.target.value})),placeholder:"0.00"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.currency")}),l.jsxs(jt,{value:V.currency,onValueChange:ee=>q(_e=>({..._e,currency:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"SAR",children:"SAR (.)"}),l.jsx(Pe,{value:"USD",children:"USD ($)"}),l.jsx(Pe,{value:"EUR",children:"EUR ()"}),l.jsx(Pe,{value:"GBP",children:"GBP ()"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("common.priority")}),l.jsxs(jt,{value:V.priority,onValueChange:ee=>q(_e=>({..._e,priority:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsxs(Pe,{value:"1",children:[" ",a("common.veryLow")]}),l.jsxs(Pe,{value:"2",children:[" ",a("common.low")]}),l.jsxs(Pe,{value:"3",children:[" ",a("common.medium")]}),l.jsxs(Pe,{value:"4",children:[" ",a("common.high")]}),l.jsxs(Pe,{value:"5",children:[" ",a("common.veryHigh")]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.expectedCloseDate")}),l.jsx(He,{type:"date",value:V.expected_close_date,onChange:ee=>q(_e=>({..._e,expected_close_date:ee.target.value}))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(jt,{value:V.assigned_to,onValueChange:ee=>q(_e=>({..._e,assigned_to:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(ee=>l.jsx(Pe,{value:String(ee.userid),children:Ae(ee,"user_name")},ee.userid))]})]})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>C(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:ze,disabled:!((se=V.lead_name)!=null&&se.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0 flex-1",children:De.filter(ee=>{var _e;return n?ee.stage_id===(E||((_e=mt[0])==null?void 0:_e.id)):!0}).map((ee,_e)=>{var pe,Ee,$e;const je=X.filter(Fe=>Fe.stage===ee.stage_id),be=je.reduce((Fe,We)=>Fe+(We.value||0),0),le=new Set(je.filter(Fe=>Fe.value!==null&&Fe.currency).map(Fe=>Fe.currency)),fe=le.size===1?Array.from(le)[0]:((pe=je.find(Fe=>Fe.currency))==null?void 0:pe.currency)||"SAR",ye=(Fe,We)=>new Intl.NumberFormat("en-US",{style:"currency",currency:We}).format(Fe);return console.log(`[Leads] Stage ${ee.stage_name} (${ee.stage_id}): ${je.length} leads`),console.log("[Leads] Stage leads:",je),l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-full flex flex-col",n?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${_e*.1}s`},onDragOver:de,onDrop:()=>D(ee.stage_id),children:[l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft","sticky top-0 z-10",ee.color||"border-l-4 border-primary/50","hidden md:block"),children:l.jsx("div",{className:"flex items-center justify-between mb-2 rtl:flex-row-reverse",children:g===ee.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(He,{value:b,onChange:Fe=>w(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&ce(ee.stage_id),Fe.key==="Escape"&&(x(null),w(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>ce(ee.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:"font-bold text-base",children:Ae(ee,"stage_name")})}),l.jsxs("div",{className:"flex items-center gap-2 rtl:flex-row-reverse",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm border",children:je.length}),l.jsxs(l.Fragment,{children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Ue(ee.stage_id),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:a("leads.addLead"),children:l.jsx(or,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{x(ee.stage_id),w(Ae(ee,"stage_name"))},className:"h-6 w-6 p-0",title:a("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>me(ee.stage_id),className:"h-6 w-6 p-0 text-destructive",title:a("buttons.delete"),children:l.jsx(Er,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto pr-2 rtl:pr-0 rtl:pl-2 scrollbar-hide",children:[((Ee=h.sort((Fe,We)=>(Fe.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:Ee.stage_id)===ee.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",n?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>Ue(ee.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("leads.addNewLeadCard")})]})})}),je.map(Fe=>{const We=c.find(hr=>{var kr,pr;return((kr=hr.userid||hr.userid)==null?void 0:kr.toString())===((pr=Fe.client_user_id)==null?void 0:pr.toString())}),yt=d.find(hr=>{var kr,pr;return((kr=hr.userid||hr.userid)==null?void 0:kr.toString())===((pr=Fe.created_by)==null?void 0:pr.toString())}),zt=d.find(hr=>{var kr,pr;return((kr=hr.userid||hr.userid)==null?void 0:kr.toString())===((pr=Fe.assigned_to)==null?void 0:pr.toString())});return l.jsx("div",{children:l.jsx(cve,{lead:Fe,client:We||null,creator:yt||null,assignedUser:zt||null,userRole:r==null?void 0:r.role,users:d,onDelete:()=>Be(Fe.lead_id),onEdit:()=>H(Fe.lead_id),onAssign:Le,onClick:()=>H(Fe.lead_id),onDragStart:Q,isDragging:j===Fe.lead_id})},Fe.lead_id)}),(($e=h.sort((Fe,We)=>(Fe.stager_order_index||0)-(We.stager_order_index||0))[0])==null?void 0:$e.stage_id)!==ee.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>Ue(ee.stage_id),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})]}),l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-3 mt-2 shadow-soft","sticky bottom-0 z-10","border-t-4 border-t-primary/30","hidden md:block"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(cg,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:a("leads.stageTotal",{amount:""}).replace(":","").trim()})]}),l.jsx("span",{className:"text-lg font-bold text-primary",children:ye(be,fe)})]})})]},ee.stage_id)})}),l.jsx(fi,{open:!!_,onOpenChange:()=>S(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:a("leads.deleteStage")}),l.jsx(Bs,{children:a("leads.deleteStageConfirmation",{count:i.filter(ee=>ee.stage===_).length})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:a("buttons.cancel")}),l.jsx(Us,{onClick:ie,className:"bg-destructive text-destructive-foreground",children:a("buttons.delete")})]})]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("leads.title")," (",i.length,")"]}),l.jsx(Tn,{open:k,onOpenChange:C,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("leads.createLead")}),l.jsx($a,{children:a("leads.createLeadDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("leads.leadName")," *"]}),l.jsx(He,{value:V.lead_name,onChange:ee=>q(_e=>({..._e,lead_name:ee.target.value})),placeholder:a("leads.leadNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.description")}),l.jsx(da,{value:V.lead_description,onChange:ee=>q(_e=>({..._e,lead_description:ee.target.value})),placeholder:a("leads.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.clientName")}),l.jsx(He,{value:V.client_name,onChange:ee=>q(_e=>({..._e,client_name:ee.target.value})),placeholder:a("leads.clientNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.client")}),l.jsxs(jt,{value:V.client_user_id,onValueChange:ee=>q(_e=>({..._e,client_user_id:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectClient")})}),l.jsx(St,{children:c.filter(ee=>ee.userid).map(ee=>l.jsx(Pe,{value:String(ee.userid),children:Ae(ee,"user_name")},ee.userid))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("leads.assignToEmployee")}),l.jsxs(jt,{value:V.assigned_to,onValueChange:ee=>q(_e=>({..._e,assigned_to:ee})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("leads.selectAssignee","Select assignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:a("common.all","Unassigned")}),d.map(ee=>l.jsx(Pe,{value:String(ee.userid),children:Ae(ee,"user_name")},ee.userid))]})]})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>C(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:ze,disabled:!((he=V.lead_name)!=null&&he.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("leads.createLead")]})]})]})})]}),(()=>{const ee=[{key:"lead",header:a("leads.leadName"),render:be=>l.jsx(wc,{title:Ae(be,"lead_name"),subtitle:Ae(be,"lead_description")})},{key:"value",header:a("leads.value","Value"),render:be=>l.jsx(lve,{value:be.value,currency:be.currency||"SAR"})},{key:"client",header:a("leads.client"),hideOnMobile:!0,render:be=>{const le=c.find(fe=>String(fe.userid)===be.client_user_id);return le?Ae(le,"user_name"):a("leads.unknown")}},{key:"creator",header:a("leads.createdBy"),hideOnMobile:!0,render:be=>{const le=d.find(fe=>String(fe.userid)===be.created_by);return l.jsx(bf,{name:le?Ae(le,"user_name"):null,fallback:a("leads.unknown")})}},{key:"assignee",header:a("leads.assignedTo"),hideOnMobile:!0,render:be=>{const le=d.find(fe=>String(fe.userid)===be.assigned_to);return l.jsx(bf,{name:le?Ae(le,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:be=>{const le=h.find(fe=>fe.stage_id===be.stage);return le?Ae(le,"stage_name"):a("leads.unknown")}},{key:"created",header:a("common.created"),hideOnMobile:!0,render:be=>l.jsx(Bu,{date:be.created_date,fallback:a("leads.notSet")})}],_e=[{label:a("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:be=>H(be.lead_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:be=>Be(be.lead_id),variant:"destructive",show:()=>!0}],je=[{label:a("buttons.delete","Delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:be=>{be.forEach(le=>Be(le.lead_id))},variant:"destructive"}];return l.jsx(yc,{data:X,columns:ee,actions:_e,bulkActions:je,keyExtractor:be=>be.lead_id,onRowClick:be=>H(be.lead_id),enableBulkSelect:!0,emptyState:l.jsx(pl,{icon:l.jsx(Ra,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("leads.noLeadsYet"),description:a("leads.createFirst","Create a lead to get started"),action:l.jsxs(ue,{onClick:()=>C(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("leads.addLead")]})})})})()]}),l.jsx(Sl,{open:!!U,onOpenChange:()=>H(null),children:l.jsxs(Io,{className:"w-full sm:max-w-[540px] overflow-y-auto",side:Yt()?"left":"right",children:[l.jsxs(xc,{children:[l.jsx(jl,{children:a("leads.leadDetails")}),l.jsx(Cx,{children:a("leads.leadDetailsDesc")})]}),l.jsx("div",{className:"mt-6",children:U&&l.jsx(tve,{leadId:U})})]})})]})}const BO={users:["users"],projects:["projects"],tasks:["tasks"],stages:["stages"],globalStages:["stages","global"],clients:["clients"],teams:["teams"],teamMembers:["teams","members"],tickets:["tickets"],projectUsers:e=>["projects",e,"users"],comments:e=>["tasks",e,"comments"],rooms:e=>["rooms",e],messages:e=>["messages",e],userProjects:e=>["users",e,"projects"]},dve=()=>bA({queryKey:BO.users,queryFn:cn.getAll}),fve=()=>bA({queryKey:BO.tasks,queryFn:Zl.getAll,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),hve=e=>bA({queryKey:[...BO.stages,"type",e],queryFn:()=>ns.getByType(e)});function UO({message:e="Loading...",className:r=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-16 ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(I_,{className:"h-16 w-16 text-primary animate-spin"}),l.jsx("div",{className:"absolute inset-0 h-16 w-16 rounded-full border-4 border-muted opacity-25"})]}),l.jsx("p",{className:"mt-6 text-sm text-muted-foreground animate-pulse font-medium",children:e})]})}function Vp({title:e="Something went wrong",message:r,onRetry:n,className:a=""}){return l.jsxs("div",{className:`flex flex-col items-center justify-center py-12 ${a}`,children:[l.jsx("div",{className:"h-20 w-20 rounded-full bg-destructive/10 flex items-center justify-center mb-6 ring-4 ring-destructive/5",children:l.jsx(D_,{className:"h-10 w-10 text-destructive"})}),l.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-md mb-6",children:r}),n&&l.jsxs(ue,{onClick:n,variant:"outline",className:"gap-2",children:[l.jsx(tv,{className:"h-4 w-4"}),"Try Again"]})]})}function mve({task:e,assignedUser:r,stages:n=[],onDelete:a,onClick:s,onDragStart:i,onStageChange:o,isDragging:c=!1}){var g,x;const{t:u}=Kt(),d=yn(),f=b=>b?new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set",h=b=>{switch(b){case"done":return l.jsx(ll,{className:"h-3 w-3 text-green-500"});case"in_progress":return l.jsx(Dd,{className:"h-3 w-3 text-blue-500"});case"todo":default:return l.jsx(D_,{className:"h-3 w-3 text-gray-500"})}},m=b=>{switch(b){case"done":return"border-l-green-500 rtl:border-r-green-500";case"in_progress":return"border-l-blue-500 rtl:border-r-blue-500";case"todo":default:return"border-l-gray-500 rtl:border-r-gray-500"}},p=b=>{if(!b)return null;const w=new Date,S=(new Date(b).getTime()-w.getTime())/(1e3*60*60);return S<0?"overdue":S<24?"urgent":S<72?"soon":null},v=b=>{switch(p(b)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200","border-l-4 rtl:border-l-0 rtl:border-r-4",d?"w-full":"w-[280px] h-[180px]",m(e.task_status),v(e.due_date),c&&"opacity-50 rotate-2 scale-105"),draggable:!!i,onDragStart:b=>{i&&(b.dataTransfer.effectAllowed="move",b.dataTransfer.setData("text/plain",e.task_id.toString()),i(e.task_id))},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:s,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:e.task_name}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),a&&l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,onClick:b=>b.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",d?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:b=>b.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:"Delete Task"}),l.jsxs(Bs,{children:['Are you sure you want to delete "',e.task_name,'"?']})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:"Cancel"}),l.jsx(Us,{onClick:b=>{b.stopPropagation(),a(e.task_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Qn,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r?Ae(r,"user_name"):u("common.all","Unassigned")})]})}),l.jsx("div",{children:l.jsxs("div",{className:"flex items-center gap-1",children:[h(e.task_status),l.jsx("span",{className:"text-xs font-medium capitalize",children:((g=e.task_status)==null?void 0:g.replace("_"," "))||"Todo"})]})})]}),d&&o&&l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:((x=e.stage_id)==null?void 0:x.toString())||"",onValueChange:b=>o(e.task_id,parseInt(b)),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:u("tasks.selectStage","Select stage")})}),l.jsx(St,{children:n.map(b=>{var w;return l.jsx(Pe,{value:((w=b.stage_id)==null?void 0:w.toString())||"",children:Ae(b,"stage_name")},b.stage_id)})})]})}),e.due_date&&l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:[l.jsx(To,{className:"h-3 w-3 flex-shrink-0"}),l.jsxs("span",{children:["Due: ",f(e.due_date)]})]})]})]})}function pve(){var ie;zs();const{hasRole:e,user:r,loading:n}=Sr(),{t:a}=Kt(),s=yn(),[i,o]=y.useState(null),[c,u]=y.useState("kanban");y.useState(!1);const d=Q=>{switch(Q==null?void 0:Q.toLowerCase()){case"done":case"completed":return"default";case"in_progress":return"secondary";case"pending":case"todo":return"outline";default:return"secondary"}};y.useState(""),y.useState(null),y.useState(""),y.useState(null);const[f,h]=y.useState(null),[m,p]=y.useState(!1),[v,g]=y.useState({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),[x,b]=y.useState(""),[w,_]=y.useState("all"),[S,j]=y.useState("all"),[N,k]=y.useState({from:void 0,to:void 0}),{data:C=[],isLoading:E,error:P}=fve(),{data:I=[],isLoading:T,error:U}=dve(),{data:H=[],isLoading:F,error:M}=hve("tasks"),z=y.useMemo(()=>C.filter(Q=>{const de=Q.task_name.toLowerCase().includes(x.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(x.toLowerCase()),D=w==="all"||Q.task_status===w,Be=S==="all"||Q.assigned_to&&Q.assigned_to.toString()===S;let Le=!0;if(N.from&&Q.due_date){const Ue=new Date(Q.due_date),ze=new Date(N.from);ze.setHours(0,0,0,0);const De=new Date(Ue);if(De.setHours(0,0,0,0),Le=De>=ze,Le&&N.to){const mt=new Date(N.to);mt.setHours(23,59,59,999),Le=De<=mt}}else N.from&&!Q.due_date&&(Le=!1);return de&&D&&Be&&Le}),[C,x,w,S,N]),L=H.sort((Q,de)=>{const D=Q.stager_order_index??0,Be=de.stager_order_index??0;return D-Be}).map(Q=>({id:Q.stage_id,name:Ae(Q,"stage_name"),color:Q.color,count:z.filter(de=>de.stage_id===Q.stage_id).length})),R=E||T||F||n,J=(P==null?void 0:P.message)||(U==null?void 0:U.message)||(M==null?void 0:M.message)||null;console.log("[Tasks] Rendering. Auth state:",{user:r?{id:r.id,email:r.email,role:r.role}:null,authLoading:n,hasUser:!!r,loading:R,data:{tasks:C.length,users:I.length,stages:H.length}});const te=()=>{},A=async Q=>{try{await Zl.delete(Q),te()}catch(de){console.error("Failed to delete task:",de)}},X=Q=>{h(Q)},V=Q=>{Q.preventDefault(),Q.dataTransfer.dropEffect="move"},q=async Q=>{if(!f)return;const de=C.find(D=>D.task_id===f);if(de&&de.stage_id!==Q)try{await Zl.update(f,{stage_id:Q}),te()}catch(D){console.error("Failed to update task stage:",D)}h(null)},ae=async(Q,de)=>{const D=C.find(Be=>Be.task_id===Q);if(D&&D.stage_id!==de)try{await Zl.update(Q,{stage_id:de}),te()}catch(Be){console.error("Failed to update task stage:",Be)}},ce=async()=>{if(v.task_name.trim())try{const Q=wl({task_name:v.task_name.trim(),stage_id:v.stage_id?parseInt(v.stage_id):null,assigned_to:v.assigned_to?parseInt(v.assigned_to):null,task_status:v.task_status,due_date:v.due_date?new Date(v.due_date).toISOString():null,description:v.description.trim()||null,userid:(r==null?void 0:r.id)||null},{task_name:"task_name",description:"description"});await Zl.create(Q),te(),g({task_name:"",description:"",assigned_to:"",task_status:"todo",due_date:"",stage_id:""}),p(!1)}catch(Q){console.error("Failed to create task:",Q)}},me=!0;return y.useEffect(()=>{if(H.length>0&&i===null){const Q=H.sort((de,D)=>(de.stager_order_index??0)-(D.stager_order_index??0));Q.length>0&&o(Q[0].stage_id)}},[H,i]),R||n||!r?l.jsx(UO,{message:a("tasks.loading","Loading tasks...")}):J?l.jsx(Vp,{message:J}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Yt()?"rtl":"ltr",children:[l.jsx(Rx,{title:a("tasks.title"),description:a("tasks.description","Manage and track all your tasks"),icon:l.jsx(ug,{className:"h-5 w-5 text-primary"}),breadcrumbs:[{label:a("navigation.dashboard"),href:"/dashboard"},{label:a("navigation.tasks")}],actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:c==="kanban"?"default":"ghost",size:"sm",onClick:()=>u("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:c==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>p(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",a("tasks.addNewTask")]})]}),stats:[{label:a("tasks.totalTasks"),value:C.length,icon:l.jsx(ug,{className:"h-4 w-4 text-primary"})},{label:a("tasks.todo","To Do"),value:C.filter(Q=>Q.task_status==="todo").length,icon:l.jsx(D_,{className:"h-4 w-4 text-gray-500"})},{label:a("tasks.inProgress","In Progress"),value:C.filter(Q=>Q.task_status==="in_progress").length,icon:l.jsx(Dd,{className:"h-4 w-4 text-blue-500"})},{label:a("tasks.done","Done"),value:C.filter(Q=>Q.task_status==="done").length,icon:l.jsx(ll,{className:"h-4 w-4 text-green-500"})}]}),l.jsx(OO,{onSearch:b,onFilterStatus:_,onFilterAssignee:j,onFilterDateRange:k,users:I,statuses:[{value:"todo",label:a("tasks.todo")},{value:"in_progress",label:a("tasks.inProgress")},{value:"done",label:a("tasks.done")}]}),c==="kanban"?l.jsxs(Dx,{stages:L,currentStageId:i||((ie=L[0])==null?void 0:ie.id),onStageChange:o,children:[l.jsx(Tn,{open:m,onOpenChange:p,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("tasks.createTask")}),l.jsx($a,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(He,{value:v.task_name,onChange:Q=>g(de=>({...de,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(da,{value:v.description,onChange:Q=>g(de=>({...de,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(jt,{value:v.assigned_to,onValueChange:Q=>g(de=>({...de,assigned_to:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectUser")})}),l.jsx(St,{children:I.map(Q=>{var de;return l.jsx(Pe,{value:((de=Q.user_id)==null?void 0:de.toString())||"",children:Ae(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(jt,{value:v.stage_id,onValueChange:Q=>g(de=>({...de,stage_id:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStage")})}),l.jsx(St,{children:H.map(Q=>{var de;return l.jsx(Pe,{value:((de=Q.stage_id)==null?void 0:de.toString())||"",children:Ae(Q,"stage_name")},Q.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(jt,{value:v.task_status,onValueChange:Q=>g(de=>({...de,task_status:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"todo",children:a("tasks.todo")}),l.jsx(Pe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Pe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(He,{type:"date",value:v.due_date,onChange:Q=>g(de=>({...de,due_date:Q.target.value}))})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:ce,disabled:!v.task_name.trim(),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})}),l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:H.sort((Q,de)=>{const D=Q.stager_order_index??0,Be=de.stager_order_index??0;return D-Be}).filter(Q=>{var de;return s?Q.stage_id===(i||((de=L[0])==null?void 0:de.id)):!0}).map((Q,de)=>{var Be,Le;const D=z.filter(Ue=>Ue.stage_id===Q.stage_id);return l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in",s?"w-full":"w-[300px]"),style:{animationDelay:`${de*.1}s`},onDragOver:V,onDrop:()=>q(Q.stage_id),children:[l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft hidden md:block",Q.color||"border-l-4 border-primary/50"),children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Ae(Q,"stage_name")})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:D.length})})]})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto pr-2 custom-scrollbar",children:[((Be=H.sort((Ue,ze)=>(Ue.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:Be.stage_id)===Q.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",s?"w-full h-[100px]":"w-[280px] h-[120px]"),onClick:()=>p(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:a("tasks.addNewTask")})]})})}),D.map(Ue=>{const ze=I.find(De=>De.user_id===Ue.assigned_to);return l.jsx("div",{draggable:me,onDragStart:()=>X(Ue.task_id),className:"cursor-move",children:l.jsx(mve,{task:Ue,assignedUser:ze||null,stages:H,onDelete:()=>A(Ue.task_id),onClick:()=>{console.log("Task clicked:",Ue.task_id)},onDragStart:X,onStageChange:ae,isDragging:f===Ue.task_id})},Ue.task_id)}),((Le=H.sort((Ue,ze)=>(Ue.stager_order_index||0)-(ze.stager_order_index||0))[0])==null?void 0:Le.stage_id)!==Q.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>p(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("tasks.addTask")]})})]})]},Q.stage_id)})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-lg font-semibold",children:[a("tasks.allTasks")," (",C.length,")"]}),l.jsx(Tn,{open:m,onOpenChange:p,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:a("tasks.createTask")}),l.jsx($a,{children:a("tasks.createTaskDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[a("tasks.taskName")," *"]}),l.jsx(He,{value:v.task_name,onChange:Q=>g(de=>({...de,task_name:Q.target.value})),placeholder:a("tasks.taskNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.description")}),l.jsx(da,{value:v.description,onChange:Q=>g(de=>({...de,description:Q.target.value})),placeholder:a("tasks.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectUser")}),l.jsxs(jt,{value:v.assigned_to,onValueChange:Q=>g(de=>({...de,assigned_to:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectUser")})}),l.jsx(St,{children:I.map(Q=>{var de;return l.jsx(Pe,{value:((de=Q.user_id)==null?void 0:de.toString())||"",children:Ae(Q,"user_name")},Q.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStage")}),l.jsxs(jt,{value:v.stage_id,onValueChange:Q=>g(de=>({...de,stage_id:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStage")})}),l.jsx(St,{children:H.map(Q=>{var de;return l.jsx(Pe,{value:((de=Q.stage_id)==null?void 0:de.toString())||"",children:Ae(Q,"stage_name")},Q.stage_id)})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.selectStatus")}),l.jsxs(jt,{value:v.task_status,onValueChange:Q=>g(de=>({...de,task_status:Q})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:a("tasks.selectStatus")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"todo",children:a("tasks.todo")}),l.jsx(Pe,{value:"in_progress",children:a("tasks.inProgress")}),l.jsx(Pe,{value:"done",children:a("tasks.done")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:a("tasks.dueDate")}),l.jsx(He,{type:"date",value:v.due_date,onChange:Q=>g(de=>({...de,due_date:Q.target.value}))})]})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:a("buttons.cancel")}),l.jsxs(ue,{onClick:ce,disabled:!v.task_name.trim(),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),a("tasks.createTask")]})]})]})})]}),(()=>{const Q=[{key:"task",header:a("tasks.taskName"),render:D=>l.jsx(wc,{title:D.task_name,subtitle:D.description})},{key:"assignee",header:a("tasks.assignedTo"),hideOnMobile:!0,render:D=>{const Be=I.find(Le=>Le.user_id===D.assigned_to);return l.jsx(bf,{name:Be?Ae(Be,"user_name"):null,fallback:a("common.all","Unassigned")})}},{key:"status",header:a("tasks.status"),render:D=>l.jsx($O,{variant:d(D.task_status),children:D.task_status||a("leads.unknown")})},{key:"due_date",header:a("tasks.dueDate"),hideOnMobile:!0,render:D=>l.jsx(Bu,{date:D.due_date,fallback:a("leads.notSet")})},{key:"stage",header:a("tasks.stage"),hideOnMobile:!0,render:D=>{const Be=H.find(Le=>Le.stage_id===D.stage_id);return Be?Ae(Be,"stage_name"):a("leads.unknown")}}],de=[{label:a("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:D=>console.log("View task:",D.task_id)},{label:a("buttons.delete","Delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:D=>A(D.task_id),variant:"destructive"}];return l.jsx(yc,{data:z,columns:Q,actions:de,keyExtractor:D=>D.task_id,emptyState:l.jsx(pl,{icon:l.jsx(ug,{className:"h-12 w-12 text-muted-foreground/50"}),title:a("tasks.noTasksYet"),description:a("tasks.createFirst","Create a task to get started"),action:l.jsxs(ue,{onClick:()=>p(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),a("tasks.addNewTask")]})})})})()]})]})}function DM(e){const[r,n]=y.useState(e),a=y.useCallback((i,o)=>{n(c=>({...c,[i]:o}))},[]),s=y.useCallback(i=>{n(i??e)},[e]);return{values:r,setValues:n,setField:a,reset:s}}const SE=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return"destructive";case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"secondary"}},gve=(e,r)=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):r,vve=e=>{switch(e==null?void 0:e.toLowerCase()){case"urgent":return l.jsx(q2,{className:"h-3 w-3 text-red-500"});case"high":return l.jsx(q2,{className:"h-3 w-3 text-orange-500"});default:return null}};function RM({ticket:e,assignedUser:r,userRole:n,onDelete:a,onClick:s,onDragStart:i,onDragEnd:o,isDragging:c=!1,stageName:u}){const{t:d}=Kt(),f=yn();return l.jsxs(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px]",c&&"opacity-50 rotate-2 scale-105"),onClick:s,draggable:!!i,onDragStart:h=>{i&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/plain",e.ticket_id.toString()),i(e.ticket_id))},onDragEnd:()=>{o&&o()},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",e.ticket_id]}),vve(e.priority)]}),l.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.subject||d("tickets.noSubject","No Subject")}),e.description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),a&&n==="admin"&&l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,onClick:h=>h.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:h=>h.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:d("tickets.deleteTicket","Delete Ticket")}),l.jsx(Bs,{children:d("tickets.deleteConfirmation",{name:e.subject||"this ticket"})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:d("buttons.cancel")}),l.jsx(Us,{onClick:h=>{h.stopPropagation(),a(e.ticket_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&l.jsx(gt,{variant:"outline",className:"text-xs",children:u}),l.jsx(gt,{variant:SE(e.priority),className:"text-xs",children:e.priority||d("leads.unknown")}),e.ticket_type&&l.jsx(gt,{variant:"outline",className:"text-xs",children:e.ticket_type})]}),r&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{className:"text-sm text-muted-foreground truncate",children:Ae(r,"user_name")})]}),l.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:gve(e.created_date,d("leads.unknown"))})]})})]})]})}function xve(){const[e,r]=y.useState([]),[n,a]=y.useState([]),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(""),[m,p]=y.useState("all"),[v,g]=y.useState("all"),[x,b]=y.useState("all"),[w,_]=y.useState(!1),[S,j]=y.useState(null),[N,k]=y.useState(!1),[C,E]=y.useState(!1),P=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"",stage_id:""}),[]),I=y.useMemo(()=>({subject:"",description:"",priority:"medium",ticket_type:"request",assigned_to:"unassigned",stage_id:""}),[]),{values:T,setField:U,reset:H,setValues:F}=DM(P),{values:M,setField:z,reset:L,setValues:R}=DM(I),[J,te]=y.useState(null),[A,X]=y.useState(null),[V,q]=y.useState("kanban"),[ae,ce]=y.useState(""),[me,ie]=y.useState(!1),{user:Q,loading:de}=Sr(),{t:D}=Kt(),Be=yn();y.useEffect(()=>{Q&&!de&&Le()},[Q,de]),y.useEffect(()=>{if(s.length>0&&A===null){const pe=s.filter(Ee=>Ee.stage_type==="tickets");pe.length>0&&X(pe[0].stage_id)}},[s,A]);const Le=async()=>{try{c(!0),d(null);const[pe,Ee,$e]=await Promise.all([w0.getAll().catch(Fe=>(console.error("[Tickets] Error fetching tickets:",Fe),[])),cn.getAll().catch(Fe=>(console.error("[Tickets] Error fetching users:",Fe),[])),ns.getByType("tickets").catch(Fe=>(console.error("[Tickets] Error fetching stages:",Fe),[]))]);if(r(pe),a(Ee),i($e),$e.length>0){const Fe=[...$e].sort((We,yt)=>(We.stager_order_index||0)-(yt.stager_order_index||0));F(We=>{var yt;return{...We,stage_id:We.stage_id||((yt=Fe[0].stage_id)==null?void 0:yt.toString())||""}})}}catch(pe){console.error("[Tickets] Failed to load data:",pe),d(pe.message||D("common.error"))}finally{c(!1)}},Ue=pe=>pe&&n.find(Ee=>Ee.user_id===pe)||null,ze=async pe=>{var Ee,$e;if(pe.preventDefault(),!(me||!Q)){ce(""),ie(!0);try{const Fe=T.assigned_to?parseInt(T.assigned_to):null,We=n.find(kr=>kr.user_id===Fe),yt={subject:T.subject,description:T.description||null,priority:T.priority,ticket_type:T.ticket_type,stage_id:T.stage_id?parseInt(T.stage_id):null,created_by:((Ee=Q.profile)==null?void 0:Ee.user_id)||null,assigned_to:Fe,resolved_date:null,closed_at:null,closed_by:null,room_id:null,task_id:null,status:"open"},zt=await w0.create(yt);r([zt,...e]);const hr=s.length>0&&(($e=[...s].sort((kr,pr)=>(kr.stager_order_index||0)-(pr.stager_order_index||0))[0].stage_id)==null?void 0:$e.toString())||"";H({...P,stage_id:hr}),_(!1)}catch(Fe){ce(Fe.message||D("tickets.createError"))}finally{ie(!1)}}},De=pe=>{var Ee,$e;j(pe),E(!1),R({...I,subject:pe.subject||"",description:pe.description||"",priority:pe.priority||"medium",ticket_type:pe.ticket_type||"request",assigned_to:((Ee=pe.assigned_to)==null?void 0:Ee.toString())||"unassigned",stage_id:(($e=pe.stage_id)==null?void 0:$e.toString())||""}),k(!0)},mt=async()=>{if(!(!S||me)){ce(""),ie(!0);try{const pe=M.assigned_to&&M.assigned_to!=="unassigned"?parseInt(M.assigned_to):null,Ee=n.find($e=>$e.user_id===pe);await w0.update(S.ticket_id,{subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:pe,stage_id:M.stage_id?parseInt(M.stage_id):null}),r(e.map($e=>$e.ticket_id===S.ticket_id?{...$e,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:pe,stage_id:M.stage_id?parseInt(M.stage_id):null}:$e)),j($e=>$e?{...$e,subject:M.subject,description:M.description||null,priority:M.priority,ticket_type:M.ticket_type,assigned_to:pe,stage_id:M.stage_id?parseInt(M.stage_id):null}:null),E(!1)}catch(pe){ce(pe.message||D("tickets.updateError","Failed to update ticket"))}finally{ie(!1)}}},ut=async pe=>{try{await w0.delete(pe),r(e.filter(Ee=>Ee.ticket_id!==pe))}catch(Ee){console.error("[Tickets] Failed to delete ticket:",Ee)}},se=pe=>{te(pe)},he=()=>{te(null)},ee=pe=>{pe.preventDefault(),pe.dataTransfer.dropEffect="move"},_e=async pe=>{if(!J)return;const Ee=e.find($e=>$e.ticket_id===J);if(Ee&&Ee.stage_id!==pe){r($e=>$e.map(Fe=>Fe.ticket_id===J?{...Fe,stage_id:pe}:Fe));try{await w0.moveToStage(J,pe)}catch($e){console.error("Failed to update ticket stage:",$e),r(Fe=>Fe.map(We=>We.ticket_id===J?{...We,stage_id:Ee.stage_id}:We))}}te(null)},je=y.useMemo(()=>e.filter(pe=>{var yt,zt,hr;const Ee=((yt=pe.subject)==null?void 0:yt.toLowerCase().includes(f.toLowerCase()))||((zt=pe.description)==null?void 0:zt.toLowerCase().includes(f.toLowerCase())),$e=m==="all"||pe.priority===m,Fe=v==="all"||pe.ticket_type===v,We=x==="all"||((hr=pe.stage_id)==null?void 0:hr.toString())===x;return Ee&&$e&&Fe&&We}),[e,f,m,v,x]),be=y.useMemo(()=>s.filter(pe=>pe.stage_type==="tickets").sort((pe,Ee)=>{const $e=pe.stager_order_index??0,Fe=Ee.stager_order_index??0;return $e-Fe}),[s]),le=y.useMemo(()=>be.map(pe=>({id:pe.stage_id,name:Ae(pe,"stage_name"),color:pe.color,count:je.filter(Ee=>Ee.stage_id===pe.stage_id).length})),[be,je]),fe=()=>{var pe;return be.length===0?l.jsx(pl,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:D("tickets.noStages","No ticket stages found"),description:D("tickets.noStagesDesc","Create ticket stages in the database to enable Kanban view")}):l.jsxs(Dx,{stages:le,currentStageId:A||((pe=le[0])==null?void 0:pe.id),onStageChange:X,children:[l.jsx("div",{className:ve("flex gap-4 pb-4 overflow-x-auto",Be?"hidden":"flex"),children:be.map(Ee=>{const $e=je.filter(yt=>yt.stage_id===Ee.stage_id),Fe=Ee.color||"border-l-4 border-gray-400",We=Ae(Ee,"stage_name");return l.jsxs("div",{className:"flex-shrink-0 w-[320px] flex flex-col h-[calc(100vh-280px)]",onDragOver:ee,onDrop:()=>_e(Ee.stage_id),children:[l.jsx("div",{className:ve("bg-muted/50 backdrop-blur rounded-t-lg p-3 sticky top-0 z-10",Fe),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:Ae(Ee,"stage_name")}),l.jsx(gt,{variant:"secondary",className:"text-xs",children:$e.length})]}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>{F(yt=>{var zt;return{...yt,stage_id:((zt=Ee.stage_id)==null?void 0:zt.toString())||""}}),_(!0)},children:l.jsx(or,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto bg-muted/30 rounded-b-lg p-3",children:l.jsxs("div",{className:"space-y-3",children:[$e.map(yt=>l.jsx(RM,{ticket:yt,assignedUser:Ue(yt.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:ut,onClick:()=>De(yt),onDragStart:se,onDragEnd:he,isDragging:J===yt.ticket_id,stageName:We},yt.ticket_id)),$e.length===0&&l.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:D("tickets.noTicketsInStage","No tickets in this stage")})]})})]},Ee.stage_id)})}),Be&&A&&l.jsxs("div",{className:"space-y-3 p-2",children:[je.filter(Ee=>Ee.stage_id===A).map(Ee=>{var $e;return l.jsx(RM,{ticket:Ee,assignedUser:Ue(Ee.assigned_to),userRole:Q==null?void 0:Q.role,onDelete:ut,onClick:()=>De(Ee),onDragStart:se,onDragEnd:he,isDragging:J===Ee.ticket_id,stageName:(($e=le.find(Fe=>Fe.id===A))==null?void 0:$e.name)||null},Ee.ticket_id)}),je.filter(Ee=>Ee.stage_id===A).length===0&&l.jsx(pl,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:D("tickets.noTicketsInStage","No tickets in this stage"),description:D("tickets.createFirst","Create a ticket to get started"),action:l.jsxs(ue,{onClick:()=>{F(Ee=>({...Ee,stage_id:(A==null?void 0:A.toString())||""})),_(!0)},children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),D("tickets.newTicket")]})})]})]})},ye=()=>{const pe=[{key:"ticket",header:D("tickets.subject","Subject"),render:$e=>l.jsx(wc,{title:$e.subject||D("tickets.noSubject","No Subject"),subtitle:$e.description})},{key:"priority",header:D("tickets.priority","Priority"),render:$e=>l.jsx($O,{variant:SE($e.priority),children:$e.priority||D("leads.unknown")})},{key:"type",header:D("tickets.ticketType","Type"),hideOnMobile:!0,render:$e=>l.jsx(gt,{variant:"outline",className:"text-xs",children:$e.ticket_type||D("leads.unknown")})},{key:"assignee",header:D("tickets.assignedTo","Assigned To"),hideOnMobile:!0,render:$e=>{const Fe=Ue($e.assigned_to);return l.jsx(bf,{name:Fe?Ae(Fe,"user_name"):null,fallback:D("tickets.unassigned","Unassigned")})}},{key:"stage",header:D("tickets.stage","Stage"),hideOnMobile:!0,render:$e=>{const Fe=be.find(We=>We.stage_id===$e.stage_id);return Fe?Ae(Fe,"stage_name"):D("tickets.noStage","No stage")}},{key:"created",header:D("tickets.createdDate","Created"),hideOnMobile:!0,render:$e=>l.jsx(Bu,{date:$e.created_date,fallback:D("leads.notSet","Not set")})}],Ee=[{label:D("common.view","View"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:De},{label:D("buttons.delete","Delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:$e=>ut($e.ticket_id),variant:"destructive",show:()=>!0}];return l.jsx(yc,{data:je,columns:pe,actions:Ee,keyExtractor:$e=>$e.ticket_id,onRowClick:De,emptyState:l.jsx(pl,{icon:l.jsx(xh,{className:"h-12 w-12 text-muted-foreground/50"}),title:D("tickets.noTicketsInPage"),description:D("tickets.noTicketsFoundDesc","Try adjusting your filters"),action:l.jsxs(ue,{onClick:()=>_(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),D("tickets.newTicket","New Ticket")]})})})};return o||de||!Q?l.jsx(UO,{message:D("tickets.loading","Loading tickets...")}):u?l.jsx(Vp,{title:D("tickets.errorTitle","Error loading tickets"),message:u,onRetry:Le}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Yt()?"rtl":"ltr",children:[l.jsx(Rx,{title:D("tickets.title"),description:D("tickets.description","Manage and track support tickets"),icon:l.jsx(xh,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:V==="kanban"?"default":"ghost",size:"sm",onClick:()=>q("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:V==="list"?"default":"ghost",size:"sm",onClick:()=>q("list"),className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>_(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),D("tickets.newTicket")]})]}),stats:[{label:D("tickets.total","Total Tickets"),value:e.length,icon:l.jsx(xh,{className:"h-4 w-4 text-primary"})},...be.map(pe=>({label:Ae(pe,"stage_name"),value:e.filter(Ee=>Ee.stage_id===pe.stage_id).length,icon:l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground"})}))]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(He,{placeholder:D("tickets.searchPlaceholder","Search tickets..."),value:f,onChange:pe=>h(pe.target.value),className:"pl-10 h-9"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(jt,{value:x,onValueChange:b,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:D("tickets.allStages","All Stages")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:D("tickets.allStages","All Stages")}),be.map(pe=>{var Ee;return l.jsx(Pe,{value:((Ee=pe.stage_id)==null?void 0:Ee.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})]})]}),l.jsxs(jt,{value:v,onValueChange:g,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:D("tickets.allTypes")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:D("tickets.allTypes","All Types")}),l.jsx(Pe,{value:"issue",children:D("tickets.typeIssue","Issue")}),l.jsx(Pe,{value:"request",children:D("tickets.typeRequest","Request")}),l.jsx(Pe,{value:"follow_up",children:D("tickets.typeFollowUp","Follow Up")}),l.jsx(Pe,{value:"internal_task",children:D("tickets.typeInternalTask","Internal Task")})]})]}),l.jsxs(jt,{value:m,onValueChange:p,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:D("tickets.allPriorities")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:D("tickets.allPriorities","All Priorities")}),l.jsx(Pe,{value:"low",children:D("tickets.priorityLow","Low")}),l.jsx(Pe,{value:"medium",children:D("tickets.priorityMedium","Medium")}),l.jsx(Pe,{value:"high",children:D("tickets.priorityHigh","High")}),l.jsx(Pe,{value:"urgent",children:D("tickets.priorityUrgent","Urgent")})]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-auto",children:V==="kanban"?fe():ye()}),l.jsx(Tn,{open:w,onOpenChange:_,children:l.jsxs(mn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:D("tickets.createNewTicket")}),l.jsx($a,{children:D("tickets.createTicketDesc")})]}),l.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[ae&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ae})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"subject",children:[D("tickets.subject")," *"]}),l.jsx(He,{id:"subject",value:T.subject,onChange:pe=>U("subject",pe.target.value),placeholder:D("tickets.subjectPlaceholder"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"description",children:D("tickets.description")}),l.jsx(da,{id:"description",value:T.description,onChange:pe=>U("description",pe.target.value),placeholder:D("tickets.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage",children:D("tickets.stage","Stage")}),l.jsxs(jt,{value:T.stage_id,onValueChange:pe=>U("stage_id",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:D("tickets.selectStage","Select stage")})}),l.jsx(St,{children:be.map(pe=>{var Ee;return l.jsx(Pe,{value:((Ee=pe.stage_id)==null?void 0:Ee.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"priority",children:[D("tickets.priority")," *"]}),l.jsxs(jt,{value:T.priority,onValueChange:pe=>U("priority",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"low",children:D("tickets.priorityLow")}),l.jsx(Pe,{value:"medium",children:D("tickets.priorityMedium")}),l.jsx(Pe,{value:"high",children:D("tickets.priorityHigh")}),l.jsx(Pe,{value:"urgent",children:D("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"ticket_type",children:[D("tickets.ticketType")," *"]}),l.jsxs(jt,{value:T.ticket_type,onValueChange:pe=>U("ticket_type",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"request",children:D("tickets.typeRequest")}),l.jsx(Pe,{value:"follow_up",children:D("tickets.typeFollowUp")}),l.jsx(Pe,{value:"issue",children:D("tickets.typeIssue")}),l.jsx(Pe,{value:"internal_task",children:D("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"assigned_to",children:D("tickets.assignTo")}),l.jsxs(jt,{value:T.assigned_to,onValueChange:pe=>U("assigned_to",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:D("tickets.selectAssignee")})}),l.jsx(St,{children:n.map(pe=>{var Ee;return l.jsx(Pe,{value:((Ee=pe.user_id)==null?void 0:Ee.toString())||"",children:Ae(pe,"user_name")},pe.user_id)})})]})]})]}),l.jsxs(La,{className:"flex flex-col-reverse sm:flex-row gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>_(!1),className:"w-full sm:w-auto",children:D("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:me||!T.subject.trim(),className:"w-full sm:w-auto",children:D(me?"tickets.creatingTicket":"tickets.createTicket")})]})]})]})}),l.jsx(Tn,{open:N,onOpenChange:k,children:l.jsxs(mn,{className:"w-[95vw] max-w-[700px] max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[l.jsxs(pn,{children:[l.jsx(gn,{className:"text-lg sm:text-xl leading-tight",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[l.jsx("span",{className:"break-words",children:S==null?void 0:S.subject}),l.jsx(gt,{variant:"secondary",className:"self-start sm:self-center shrink-0",children:(S==null?void 0:S.status)||D("leads.unknown")})]})}),l.jsxs($a,{className:"text-sm",children:[D("tickets.ticketId"),": #",S==null?void 0:S.ticket_id]})]}),S&&l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[ae&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:ae})}),C?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"edit-subject",children:[D("tickets.subject")," *"]}),l.jsx(He,{id:"edit-subject",value:M.subject,onChange:pe=>z("subject",pe.target.value),placeholder:D("tickets.subjectPlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"edit-description",children:D("tickets.description")}),l.jsx(da,{id:"edit-description",value:M.description,onChange:pe=>z("description",pe.target.value),rows:3})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:D("tickets.stage","Stage")}),l.jsxs(jt,{value:M.stage_id,onValueChange:pe=>z("stage_id",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:D("tickets.selectStage","Select stage")})}),l.jsx(St,{children:be.map(pe=>{var Ee;return l.jsx(Pe,{value:((Ee=pe.stage_id)==null?void 0:Ee.toString())||"",children:Ae(pe,"stage_name")},pe.stage_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:D("tickets.priority")}),l.jsxs(jt,{value:M.priority,onValueChange:pe=>z("priority",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"low",children:D("tickets.priorityLow")}),l.jsx(Pe,{value:"medium",children:D("tickets.priorityMedium")}),l.jsx(Pe,{value:"high",children:D("tickets.priorityHigh")}),l.jsx(Pe,{value:"urgent",children:D("tickets.priorityUrgent")})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:D("tickets.ticketType")}),l.jsxs(jt,{value:M.ticket_type,onValueChange:pe=>z("ticket_type",pe),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"request",children:D("tickets.typeRequest")}),l.jsx(Pe,{value:"follow_up",children:D("tickets.typeFollowUp")}),l.jsx(Pe,{value:"issue",children:D("tickets.typeIssue")}),l.jsx(Pe,{value:"internal_task",children:D("tickets.typeInternalTask")})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:D("tickets.assignTo")}),l.jsxs(jt,{value:M.assigned_to,onValueChange:pe=>z("assigned_to",pe),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:D("tickets.selectAssignee")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"unassigned",children:D("tickets.unassigned","Unassigned")}),n.map(pe=>{var Ee;return l.jsx(Pe,{value:((Ee=pe.user_id)==null?void 0:Ee.toString())||"",children:Ae(pe,"user_name")},pe.user_id)})]})]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.priority")}),l.jsx("div",{className:"mt-1",children:l.jsx(gt,{variant:SE(S.priority),className:"text-xs",children:S.priority||D("leads.unknown")})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.ticketType")}),l.jsx("div",{className:"mt-1",children:l.jsx(gt,{variant:"outline",className:"text-xs",children:S.ticket_type||D("leads.unknown")})})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.stage","Stage")}),l.jsx("div",{className:"mt-1 text-sm",children:be.find(pe=>pe.stage_id===S.stage_id)?Ae(be.find(pe=>pe.stage_id===S.stage_id),"stage_name"):D("tickets.noStage","No stage")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.assignedTo")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(S.assigned_to)?Ae(Ue(S.assigned_to),"user_name"):D("tickets.unassigned","Unassigned")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.createdDate")}),l.jsx("div",{className:"mt-1 text-sm",children:S.created_date?new Date(S.created_date).toLocaleString():"N/A"})]})]}),S.description&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.description")}),l.jsx("div",{className:"mt-2 p-3 bg-muted rounded-md text-sm whitespace-pre-wrap break-words",children:S.description})]})]}),l.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.createdBy")}),l.jsx("div",{className:"mt-1 text-sm break-words",children:Ue(S.created_by)?Ae(Ue(S.created_by),"user_name"):D("leads.unknown")})]}),S.resolved_date&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.resolvedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.resolved_date).toLocaleString()})]}),S.closed_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:D("tickets.closedDate")}),l.jsx("div",{className:"mt-1 text-sm",children:new Date(S.closed_at).toLocaleString()})]})]})]}),l.jsx(La,{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:C?l.jsxs(l.Fragment,{children:[l.jsx(ue,{variant:"outline",onClick:()=>E(!1),className:"w-full sm:w-auto",children:D("buttons.cancel")}),l.jsxs(ue,{onClick:mt,disabled:me||!M.subject.trim(),className:"w-full sm:w-auto",children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),me?D("buttons.saving","Saving..."):D("buttons.save","Save")]})]}):l.jsxs(l.Fragment,{children:[l.jsx(ue,{variant:"outline",onClick:()=>k(!1),className:"w-full sm:w-auto",children:D("buttons.close","Close")}),l.jsxs(ue,{onClick:()=>E(!0),className:"w-full sm:w-auto",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),D("buttons.edit","Edit")]})]})})]})})]})}var VO="Progress",zO=100,[yve,EXe]=ps(VO),[wve,bve]=yve(VO),SH=y.forwardRef((e,r)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=_ve,...o}=e;(s||s===0)&&!IM(s)&&console.error(Sve(`${s}`,"Progress"));const c=IM(s)?s:zO;a!==null&&!MM(a,c)&&console.error(jve(`${a}`,"Progress"));const u=MM(a,c)?a:null,d=Bw(u)?i(u,c):void 0;return l.jsx(wve,{scope:n,value:u,max:c,children:l.jsx(dt.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Bw(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":NH(u,c),"data-value":u??void 0,"data-max":c,...o,ref:r})})});SH.displayName=VO;var jH="ProgressIndicator",kH=y.forwardRef((e,r)=>{const{__scopeProgress:n,...a}=e,s=bve(jH,n);return l.jsx(dt.div,{"data-state":NH(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:r})});kH.displayName=jH;function _ve(e,r){return`${Math.round(e/r*100)}%`}function NH(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Bw(e){return typeof e=="number"}function IM(e){return Bw(e)&&!isNaN(e)&&e>0}function MM(e,r){return Bw(e)&&!isNaN(e)&&e<=r&&e>=0}function Sve(e,r){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zO}\`.`}function jve(e,r){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var EH=SH,kve=kH;const _f=y.forwardRef(({className:e,value:r,...n},a)=>l.jsx(EH,{ref:a,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(kve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));_f.displayName=EH.displayName;function Nve({projectId:e,onClose:r}){const{id:n}=uae(),a=zs(),{user:s}=Sr(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState(null),[b,w]=y.useState(null),[_,S]=y.useState([]),[j,N]=y.useState([]),k=e||(n?parseInt(n):null),C=!!e;y.useEffect(()=>{(async()=>{!k||!s||m(!0)})()},[k,s]),y.useEffect(()=>{k&&h&&E()},[k,h]);const E=async()=>{if(k)try{f(!0);const F=await qc.getById(k);if(v(F),F){if(F.created_by)try{const M=await cn.getByAuthId(F.created_by.toString());x(M)}catch(M){console.error("Failed to fetch client:",M)}if(F.created_by)try{const M=await cn.getByAuthId(F.created_by.toString());w(M)}catch(M){console.error("Failed to fetch manager:",M)}try{const z=(await fpe.getProjectUsers(k)).map(R=>R.userid),L=await Promise.all(z.map(R=>R?cn.getByAuthId(R.toString()).catch(()=>null):null));S(L.filter(R=>R!==null))}catch(M){console.error("Failed to fetch project users:",M)}try{const L=(await ns.getAll()).filter(te=>te.project_id===k).map(te=>te.stage_id),J=(await Promise.all(L.map(te=>Zl.getByStage(te)))).flat();N(J)}catch(M){console.error("Failed to fetch tasks:",M)}}}catch(F){console.error("Failed to load project data:",F)}finally{f(!1)}};y.useEffect(()=>{k&&p&&j.length>0&&P()},[k,p,j]);const P=async()=>{if(!(!k||!p||j.length===0))try{const F=[];for(const M of j){const z=await _E.getByTask(M.task_id);F.push(...z)}o(F)}catch(F){console.error("Failed to load comments:",F)}},I=async F=>{if(!(!c.trim()||!s))try{const M=await _E.create({task_id:F,userid:s.id.toString(),message:c.trim()});o(z=>[...z,M]),u("")}catch(M){console.error("Failed to add comment:",M)}},T=()=>{r?r():a("/projects")},U=({children:F})=>C?l.jsx("div",{className:"h-full overflow-y-auto p-1",children:F}):l.jsx(bE,{children:F});if(h===!1)return l.jsx(U,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to view this project."}),l.jsx(ue,{onClick:T,children:"Back to Projects"})]})})});if(h===null||!p||!g||!b)return d?l.jsx(U,{children:l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):l.jsx(U,{children:l.jsx("div",{children:"Project not found"})});const H={todo:"bg-slate-200 text-slate-700",in_progress:"bg-blue-200 text-blue-700",done:"bg-green-200 text-green-700"};return l.jsx(U,{children:l.jsxs("div",{className:"space-y-6 pb-10",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:T,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:Ae(p,"project_name")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:Ae(g,"company_name")})]})]}),l.jsx(ue,{variant:"outline",className:"self-start sm:self-auto",children:"Settings"})]}),l.jsx(ot,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),l.jsxs("span",{className:"text-sm font-bold",children:[p.progress||0,"%"]})]}),l.jsx(_f,{value:p.progress||0,className:"h-3"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[l.jsx("div",{className:"lg:col-span-2 space-y-4 lg:space-y-6",children:l.jsxs(kl,{defaultValue:"tasks",children:[l.jsxs(Fo,{className:"w-full sm:w-auto",children:[l.jsx(en,{value:"tasks",className:"flex-1 sm:flex-none",children:"Tasks"}),l.jsx(en,{value:"images",className:"flex-1 sm:flex-none",children:"Images"}),l.jsx(en,{value:"comments",className:"flex-1 sm:flex-none",children:"Comments"})]}),l.jsxs(An,{value:"tasks",className:"space-y-3",children:[j.map(F=>{var z;const M=_.find(L=>L.user_id===F.assigned_to);return l.jsx(ot,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:Ae(F,"task_name")}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Ae(F,"description")}),l.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[l.jsx(gt,{className:ve("text-xs",H[F.task_status]),children:((z=F.task_status)==null?void 0:z.replace("_"," "))||"todo"}),F.due_date&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(To,{className:"h-3 w-3"}),"Due: ",new Date(F.due_date).toLocaleDateString()]})]})]}),M&&l.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[l.jsx("div",{className:"text-2xl mb-1",children:""}),Ae(M,"user_name")]})]})})},F.task_id)}),l.jsx(ue,{variant:"outline",className:"w-full",children:"+ Add New Task"})]}),l.jsx(An,{value:"images",children:l.jsx(ot,{children:l.jsxs(xt,{className:"pt-6",children:[l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(F=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},F))}),l.jsxs(ue,{variant:"outline",className:"w-full mt-4",children:[l.jsx(rv,{className:"h-4 w-4 mr-2"}),"Upload Images"]})]})})}),l.jsxs(An,{value:"comments",className:"space-y-3",children:[i.map(F=>{const M=[..._,g,b].find(z=>{var L,R,J,te;return z&&(((L=z.userid)==null?void 0:L.toString())===((R=F.userid)==null?void 0:R.toString())||((J=z.user_id)==null?void 0:J.toString())===((te=F.userid)==null?void 0:te.toString()))});return l.jsx(ot,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-2xl",children:(M==null?void 0:M.avatar)||""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:M?Ae(M,"user_name"):"Unknown"}),l.jsx("p",{className:"text-sm mt-1",children:F.message}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:new Date(F.created_date||"").toLocaleString()})]})]})})},F.comment_id)}),j.length>0&&l.jsx(ot,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(He,{placeholder:"Add a comment...",value:c,onChange:F=>u(F.target.value),onKeyDown:F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),I(j[0].task_id))}}),l.jsx(ue,{size:"icon",onClick:()=>I(j[0].task_id),children:l.jsx(mx,{className:"h-4 w-4"})})]})})})]})]})}),l.jsxs("div",{className:"space-y-4 lg:order-last",children:[l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{className:"text-base sm:text-lg",children:"Project Summary"})}),l.jsxs(xt,{className:"space-y-3 sm:space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Client"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:g.avatar}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold",children:Ae(g,"user_name")}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Ae(g,"company_name")})]})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Project Manager"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:b.avatar}),l.jsx("div",{className:"text-sm",children:Ae(b,"user_name")})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Team"}),l.jsx("div",{className:"space-y-2",children:_.map(F=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:F.avatar||""}),l.jsx("div",{className:"text-sm",children:Ae(F,"user_name")})]},F.user_id))})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-1",children:"Timeline"}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Start: ",p.created_date?new Date(p.created_date).toLocaleDateString():"Not set",p.end_date&&l.jsxs("div",{children:["End: ",new Date(p.end_date).toLocaleDateString()]})]})]})]})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{className:"text-base sm:text-lg",children:"Recent Activity"})}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3 text-xs",children:[l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"Task completed"}),l.jsx("div",{className:"text-muted-foreground",children:"2 hours ago"})]}),l.jsxs("div",{className:"pb-2 border-b",children:[l.jsx("div",{className:"font-medium",children:"New comment added"}),l.jsx("div",{className:"text-muted-foreground",children:"5 hours ago"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Images uploaded"}),l.jsx("div",{className:"text-muted-foreground",children:"1 day ago"})]})]})})]})]})]})]})})}function Eve({project:e,client:r,manager:n,stages:a,onDelete:s,onClick:i,onDragStart:o,onStageChange:c,isDragging:u=!1}){const{t:d}=Kt(),f=yn(),h=e.progress||0,m=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):d("leads.notSet","Not set"),p=g=>{if(!g)return null;const x=new Date,w=(new Date(g).getTime()-x.getTime())/(1e3*60*60);return w<0?"overdue":w<24?"urgent":w<72?"soon":null},v=g=>{switch(p(g)){case"overdue":return"border-destructive ring-1 ring-destructive";case"urgent":return"border-orange-500 ring-1 ring-orange-500";case"soon":return"border-yellow-500";default:return""}};return l.jsxs(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200",f?"w-full border-l-4 border-l-blue-500 rtl:border-l-0 rtl:border-r-4 rtl:border-r-blue-500":"w-[280px] sm:w-[300px] border-l-4 rtl:border-l-0 rtl:border-r-4",!f&&(h===100?"border-l-green-500 rtl:border-r-green-500":"border-l-blue-500 rtl:border-r-blue-500"),v(e.end_date),u&&"opacity-50 rotate-2 scale-105"),draggable:!!o,onDragStart:g=>{o&&(g.dataTransfer.effectAllowed="move",g.dataTransfer.setData("text/plain",e.project_id.toString()),o(e.project_id))},children:[l.jsx(Xt,{className:"pb-3 px-4 pt-4 cursor-pointer",onClick:i,children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base mb-1 truncate group-hover:text-primary transition-colors",children:Ae(e,"project_name")}),Ae(e,"project_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(e,"project_description")})]}),s&&l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,onClick:g=>g.stopPropagation(),children:l.jsx(ue,{variant:"ghost",size:"sm",className:ve("h-8 w-8 p-0 text-muted-foreground hover:text-destructive hover:bg-destructive/10",f?"opacity-100":"opacity-0 group-hover:opacity-100 transition-opacity"),children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:g=>g.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:d("projects.deleteProject")}),l.jsx(Bs,{children:d("projects.deleteConfirmation",{name:Ae(e,"project_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:d("buttons.cancel")}),l.jsx(Us,{onClick:g=>{g.stopPropagation(),s(e.project_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:d("buttons.delete")})]})]})]})]})}),l.jsxs(xt,{className:"px-4 pb-4 space-y-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:d("projects.progress")}),l.jsxs("span",{className:"font-medium",children:[h,"%"]})]}),l.jsx(_f,{value:h,className:"h-2"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r&&l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(En,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Client"}),l.jsx("p",{className:"text-xs font-medium truncate",children:r.user_name})]})]}),l.jsxs("div",{className:"flex items-start gap-1.5",children:[l.jsx(Qn,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Manager"}),l.jsx("p",{className:"text-xs font-medium truncate",children:n?n.user_name:d("common.all","Unassigned")})]})]})]}),f&&c&&l.jsx("div",{className:"pt-1",children:l.jsxs(jt,{value:e.stage.toString(),onValueChange:g=>c(e.project_id,parseInt(g)),children:[l.jsx(_t,{className:"h-7 text-xs",children:l.jsx(kt,{placeholder:d("projects.selectStage","Select stage")})}),l.jsx(St,{children:a.filter(g=>["New","In Progress","Overdue","Completed"].includes(g.stage_name)).map(g=>l.jsx(Pe,{value:g.stage_id.toString(),children:Ae(g,"stage_name")},g.stage_id))})]})}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[l.jsx(To,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:m(e.created_date)})]}),h===100?l.jsx(gt,{variant:"default",className:"bg-green-500 text-xs",children:"Completed"}):h>0?l.jsx(gt,{variant:"default",className:"text-xs",children:"In Progress"}):l.jsx(gt,{variant:"secondary",className:"text-xs",children:"Not Started"})]})]})]})}function Cve(){var be,le;zs();const{hasRole:e,user:r}=Sr();ms();const{t:n}=Kt(),a=yn(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(!0),[v,g]=y.useState(null);y.useState(!1),y.useState("");const[x,b]=y.useState(null),[w,_]=y.useState(""),[S,j]=y.useState(null),[N,k]=y.useState(null),[C,E]=y.useState(!1),[P,I]=y.useState(null),[T,U]=y.useState({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),[H,F]=y.useState(!1),[M,z]=y.useState({project_name:"",project_description:"",client_id:""}),[L,R]=y.useState("kanban"),[J,te]=y.useState(null),[A,X]=y.useState(""),[V,q]=y.useState("all"),[ae,ce]=y.useState("all"),[me,ie]=y.useState({from:void 0,to:void 0}),Q=y.useMemo(()=>s.filter(fe=>{const ye=(fe.project_name||"").toLowerCase().includes(A.toLowerCase())||(fe.project_description||"").toLowerCase().includes(A.toLowerCase());let pe=!0;V==="todo"?pe=(fe.progress||0)===0:V==="in_progress"?pe=(fe.progress||0)>0&&(fe.progress||0)<100:V==="done"&&(pe=(fe.progress||0)===100);const Ee=ae==="all"||fe.created_by&&fe.created_by.toString()===ae;let $e=!0;if(me.from&&fe.end_date){const Fe=new Date(fe.end_date),We=new Date(me.from);We.setHours(0,0,0,0);const yt=new Date(Fe);if(yt.setHours(0,0,0,0),$e=yt>=We,$e&&me.to){const zt=new Date(me.to);zt.setHours(23,59,59,999),$e=yt<=zt}}else me.from&&!fe.end_date&&($e=!1);return ye&&pe&&Ee&&$e}),[s,A,V,ae,me]);y.useEffect(()=>{de()},[]),y.useEffect(()=>{if(f.length>0&&P===null){const fe=f.find(ye=>ye.stage_id===5);fe&&I(fe.stage_id)}},[f,P]);const de=async()=>{try{p(!0),g(null);const[fe,ye,pe,Ee]=await Promise.all([qc.getAll(),Fw.getAll(),cn.getAll(),ns.getByType("projects")]);console.log("[Projects] Loaded data:",{projects:fe.length,clients:ye.length,users:pe.length,stages:Ee.length}),console.log("[Projects] Projects data:",fe),console.log("[Projects] Stages data:",Ee),i(fe),c(ye),d(pe),h(Ee)}catch(fe){console.error("Failed to load data:",fe),g(n("projects.loadError","Failed to load projects. Please try again."))}finally{p(!1)}},D=async fe=>{if(w.trim())try{await ns.update(fe,{stage_name:w.trim()}),h(f.map(ye=>ye.stage_id===fe?{...ye,stage_name:w.trim()}:ye)),b(null),_("")}catch(ye){console.error("Failed to update stage:",ye)}},Be=async fe=>{if(s.filter(pe=>pe.stage===fe).length>0){j(fe);return}try{await ns.delete(fe),h(f.filter(pe=>pe.stage_id!==fe))}catch(pe){console.error("Failed to delete stage:",pe)}},Le=fe=>{k(fe)},Ue=fe=>{fe.preventDefault(),fe.dataTransfer.dropEffect="move"},ze=async fe=>{if(!N)return;const ye=s.find(pe=>pe.project_id===N);if(ye&&ye.stage!==fe)try{await qc.update(N,{stage:fe}),i(s.map(pe=>pe.project_id===N?{...pe,stage:fe}:pe))}catch(pe){console.error("Failed to update project stage:",pe)}k(null)},De=async(fe,ye)=>{const pe=s.find(Ee=>Ee.project_id===fe);if(pe&&pe.stage!==ye)try{await qc.update(fe,{stage:ye}),i(s.map(Ee=>Ee.project_id===fe?{...Ee,stage:ye}:Ee))}catch(Ee){console.error("Failed to update project stage:",Ee)}},mt=async fe=>{try{await qc.delete(fe),i(s.filter(ye=>ye.project_id!==fe))}catch(ye){console.error("Failed to delete project:",ye)}},ut=fe=>{U(ye=>({...ye,stage:fe.toString()})),E(!0)},se=async()=>{var fe;if(T.project_name.trim())try{const ye=wl({project_name:T.project_name.trim(),project_description:T.project_description.trim()||null,created_by:((fe=r==null?void 0:r.profile)==null?void 0:fe.user_id)||1,progress:T.progress,stage:parseInt(T.stage),end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await qc.create(ye);i([...s,pe]),U({project_name:"",project_description:"",client_id:"",progress:0,stage:"1"}),E(!1)}catch(ye){console.error("Failed to create project:",ye)}},he=async()=>{var fe;if(M.project_name.trim())try{const ye=wl({project_name:M.project_name.trim(),project_description:M.project_description.trim()||null,created_by:((fe=r==null?void 0:r.profile)==null?void 0:fe.user_id)||1,progress:0,stage:1,end_date:null,userid:(r==null?void 0:r.id)||null},{project_name:"project_name",project_description:"project_description"}),pe=await qc.create(ye);i([...s,pe]),z({project_name:"",project_description:"",client_id:""}),F(!1)}catch(ye){console.error("Failed to create lead:",ye)}},ee=f.filter(fe=>fe.stage_type==="projects").sort((fe,ye)=>{const pe=fe.stager_order_index??0,Ee=ye.stager_order_index??0;return Yt()?Ee-pe:pe-Ee}),_e=ee.map(fe=>({id:fe.stage_id,name:Ae(fe,"stage_name"),color:fe.color,count:Q.filter(ye=>ye.stage===fe.stage_id).length})),je=()=>{var fe;return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):v?l.jsx(Vp,{title:n("projects.errorTitle","Error loading projects"),message:v,onRetry:de}):s.length===0&&!A&&V==="all"&&ae==="all"?l.jsx(pl,{title:n("projects.emptyTitle","No projects found"),description:n("projects.emptyDescription","Get started by creating your first project."),icon:l.jsx(ef,{className:"h-10 w-10 text-muted-foreground"}),action:l.jsxs(ue,{onClick:()=>F(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",n("projects.createProject")]})}):l.jsxs(l.Fragment,{children:[l.jsx(OO,{onSearch:X,onFilterStatus:q,onFilterAssignee:ce,onFilterDateRange:ie,users:u,statuses:[{value:"todo",label:n("mprojects.notStarted")},{value:"in_progress",label:n("mprojects.inProgress")},{value:"done",label:n("mprojects.completed")}]}),L==="kanban"?l.jsx(l.Fragment,{children:l.jsx(Dx,{stages:_e,currentStageId:P||((fe=_e[0])==null?void 0:fe.id),onStageChange:I,children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto scrollbar-hide max-w-full pl-6 rtl:pr-6 rtl:pl-0",children:ee.sort((ye,pe)=>ye.stage_id-pe.stage_id).filter(ye=>{var Ee;return window.innerWidth<1024?ye.stage_id===(P||((Ee=_e[0])==null?void 0:Ee.id)):!0}).map((ye,pe)=>{var $e,Fe;const Ee=Q.filter(We=>We.stage===ye.stage_id);return console.log(`[Projects] Stage ${ye.stage_name} (${ye.stage_id}): ${Ee.length} projects`),console.log("[Projects] Stage projects:",Ee),l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-[calc(100vh-300px)]",a?"w-full":"w-[280px] sm:w-[300px]"),style:{animationDelay:`${pe*.1}s`},onDragOver:Ue,onDrop:()=>ze(ye.stage_id),children:[!a&&l.jsx("div",{className:ve("rounded-xl bg-muted/30 backdrop-blur p-2 mb-5 shadow-soft",ye.color||"border-l-4 border-primary/50"),children:l.jsx("div",{className:"flex items-center justify-between mb-2",children:x===ye.stage_id?l.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[l.jsx(He,{value:w,onChange:We=>_(We.target.value),onKeyDown:We=>{We.key==="Enter"&&D(ye.stage_id),We.key==="Escape"&&(b(null),_(""))},className:"h-8 text-sm font-bold",autoFocus:!0}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>D(ye.stage_id),className:"h-8 w-8 p-0",children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qo,{className:"h-4 w-4 text-muted-foreground cursor-move"}),l.jsx("h2",{className:"font-bold text-base",children:Ae(ye,"stage_name")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:Ee.length}),l.jsxs(l.Fragment,{children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{b(ye.stage_id),_(Ae(ye,"stage_name"))},className:"h-6 w-6 p-0",title:n("buttons.edit"),children:l.jsx(Vi,{className:"h-3 w-3"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Be(ye.stage_id),className:"h-6 w-6 p-0 text-destructive",title:n("buttons.delete"),children:l.jsx(Er,{className:"h-3 w-3"})})]})]})]})})}),l.jsxs("div",{className:"space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto scrollbar-hide",children:[(($e=f.sort((We,yt)=>(We.stager_order_index||0)-(yt.stager_order_index||0))[0])==null?void 0:$e.stage_id)===ye.stage_id&&l.jsx("div",{className:"mb-4",children:l.jsx(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer","border-l-4 border-l-gray-300 rtl:border-l-0 rtl:border-r-4 rtl:border-r-gray-300","flex items-center justify-center bg-muted/20",a?"w-full h-[100px]":"w-[280px] sm:w-[300px] h-[120px]"),onClick:()=>ut(ye.stage_id),children:l.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[l.jsx(or,{className:"h-8 w-8"}),l.jsx("span",{className:"text-sm font-medium",children:n("projects.addNewProjectCard")})]})})}),Ee.map(We=>{const yt=u.find(zt=>zt.userid===Number(We.created_by)||zt.user_id===Number(We.created_by));return l.jsx(Eve,{project:We,client:o.find(zt=>{var hr,kr;return((hr=zt.user_id)==null?void 0:hr.toString())===((kr=We.client_id)==null?void 0:kr.toString())})||null,manager:yt||null,stages:f,onDelete:mt,onClick:()=>te(We.project_id),onDragStart:Le,onStageChange:De,isDragging:N===We.project_id},We.project_id)}),((Fe=f.sort((We,yt)=>(We.stager_order_index||0)-(yt.stager_order_index||0))[0])==null?void 0:Fe.stage_id)!==ye.stage_id&&l.jsx("div",{className:"mt-2",children:l.jsxs(ue,{variant:"outline",size:"sm",className:"w-full h-12 border-dashed text-muted-foreground hover:text-foreground",onClick:()=>ut(ye.stage_id),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),n("projects.addProject")]})})]})]},ye.stage_id)})})})}):l.jsx("div",{className:"bg-card rounded-lg border shadow-sm",children:l.jsxs(RO,{children:[l.jsx(IO,{children:l.jsxs(uv,{children:[l.jsx(fo,{children:n("projects.projectName")}),l.jsx(fo,{children:n("projects.client")}),l.jsx(fo,{children:n("projects.manager")}),l.jsx(fo,{children:n("projects.stage")}),l.jsx(fo,{children:n("projects.progress")}),l.jsx(fo,{children:n("projects.dueDate")}),l.jsx(fo,{className:"w-[50px]"})]})}),l.jsx(MO,{children:Q.map(ye=>{const pe=u.find(Fe=>Fe.userid===Number(ye.created_by)||Fe.user_id===Number(ye.created_by)),Ee=o.find(Fe=>{var We,yt;return((We=Fe.user_id)==null?void 0:We.toString())===((yt=ye.client_id)==null?void 0:yt.toString())}),$e=f.find(Fe=>Fe.stage_id===ye.stage);return l.jsxs(uv,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>te(ye.project_id),children:[l.jsx(ho,{className:"font-medium",children:Ae(ye,"project_name")}),l.jsx(ho,{children:Ee?Ae(Ee,"user_name"):"-"}),l.jsx(ho,{children:pe?Ae(pe,"user_name"):"-"}),l.jsx(ho,{children:l.jsx(gt,{variant:"outline",className:"bg-background",children:$e?Ae($e,"stage_name"):"-"})}),l.jsx(ho,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_f,{value:ye.progress||0,className:"w-16 h-2"}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[ye.progress,"%"]})]})}),l.jsx(ho,{className:"text-muted-foreground text-sm",children:ye.end_date?new Date(ye.end_date).toLocaleDateString():"-"}),l.jsx(ho,{children:l.jsx(ue,{variant:"ghost",size:"icon",onClick:Fe=>{Fe.stopPropagation(),mt(ye.project_id)},className:"h-8 w-8 text-muted-foreground hover:text-destructive",children:l.jsx(Er,{className:"h-4 w-4"})})})]},ye.project_id)})})]})})]})};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Yt()?"rtl":"ltr",children:[l.jsx(Rx,{title:n("projects.title"),description:n("projects.subtitle"),icon:l.jsx(ef,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:L==="kanban"?"default":"ghost",size:"sm",onClick:()=>R("kanban"),className:"h-8 w-8 p-0",children:l.jsx(R_,{className:"h-4 w-4"})}),l.jsx(ue,{variant:L==="list"?"default":"ghost",size:"sm",onClick:()=>R("list"),className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})]}),l.jsxs(ue,{onClick:()=>F(!0),children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," ",n("projects.newProject")]})]}),stats:[{label:n("projects.total","Total Projects"),value:s.length,icon:l.jsx(ef,{className:"h-4 w-4 text-primary"})},{label:n("projects.inProgress","In Progress"),value:s.filter(fe=>(fe.progress||0)>0&&(fe.progress||0)<100).length,icon:l.jsx(To,{className:"h-4 w-4 text-blue-500"})},{label:n("projects.completed","Completed"),value:s.filter(fe=>(fe.progress||0)===100).length,icon:l.jsx(En,{className:"h-4 w-4 text-green-600"})},{label:n("projects.avgProgress","Avg Progress"),value:s.length>0?`${Math.round(s.reduce((fe,ye)=>fe+(ye.progress||0),0)/s.length)}%`:"0%",icon:l.jsx(_f,{className:"h-4 w-4 text-blue-500"})}]}),je(),l.jsx(Tn,{open:C,onOpenChange:E,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:n("projects.createProject")}),l.jsx($a,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(He,{value:T.project_name,onChange:fe=>U(ye=>({...ye,project_name:fe.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(da,{value:T.project_description,onChange:fe=>U(ye=>({...ye,project_description:fe.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(jt,{value:T.client_id,onValueChange:fe=>U(ye=>({...ye,client_id:fe})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:n("projects.selectClient")})}),l.jsx(St,{children:o.map(fe=>{var ye;return l.jsx(Pe,{value:((ye=fe.user_id)==null?void 0:ye.toString())||"",children:Ae(fe,"user_name")},fe.user_id)})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.initialProgress")}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"range",min:"0",max:"100",value:T.progress,onChange:fe=>U(ye=>({...ye,progress:parseInt(fe.target.value)})),className:"w-full h-1.5"}),l.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[l.jsx("span",{children:"0%"}),l.jsxs("span",{children:[T.progress,"%"]}),l.jsx("span",{children:"100%"})]})]})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>E(!1),children:n("buttons.cancel")}),l.jsxs(ue,{onClick:se,disabled:!((be=T.project_name)!=null&&be.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(Tn,{open:H,onOpenChange:F,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:n("projects.createProject")}),l.jsx($a,{children:n("projects.createProjectDesc")})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium",children:[n("projects.projectName")," *"]}),l.jsx(He,{value:M.project_name,onChange:fe=>z(ye=>({...ye,project_name:fe.target.value})),placeholder:n("projects.projectNamePlaceholder")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.description")}),l.jsx(da,{value:M.project_description,onChange:fe=>z(ye=>({...ye,project_description:fe.target.value})),placeholder:n("projects.descriptionPlaceholder"),rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:n("projects.client")}),l.jsxs(jt,{value:M.client_id,onValueChange:fe=>z(ye=>({...ye,client_id:fe})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:n("projects.selectClient")})}),l.jsx(St,{children:o.map(fe=>{var ye;return l.jsx(Pe,{value:((ye=fe.user_id)==null?void 0:ye.toString())||"",children:Ae(fe,"user_name")},fe.user_id)})})]})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>F(!1),children:n("buttons.cancel")}),l.jsxs(ue,{onClick:he,disabled:!((le=M.project_name)!=null&&le.trim()),children:[l.jsx(Ao,{className:"h-4 w-4 mr-2"}),n("projects.createProject")]})]})]})}),l.jsx(Sl,{open:!!J,onOpenChange:fe=>!fe&&te(null),children:l.jsxs(Io,{side:Yt()?"left":"right",className:"w-full sm:max-w-2xl p-0 overflow-hidden sm:w-[800px]",children:[l.jsxs(xc,{className:"sr-only",children:[l.jsx(jl,{children:"Project Details"}),l.jsx(Cx,{children:"View and manage project information"})]}),J&&l.jsx(Nve,{projectId:J,onClose:()=>te(null)})]})})]})}const Uw={async signUpStaff(e,r,n){console.log("[authService] Creating staff user:",{email:e,userData:n});try{const{data:a,error:s}=await Qt.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("No user data returned from sign up");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:n.role==="admin"?1:2,IsActive:1,Employee:1,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),console.log("[authService] User profile created:",i),{id:a.user.id,email:e,role:n.role,profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:i.permissions||(n.role==="admin"?1:2),IsActive:i.IsActive||1,Employee:i.Employee||1,AccountNumber:i.AccountNumber||null,mobile:i.mobile||null,user_pasword:i.user_pasword||null,pin:i.pin||null,Owner:i.Owner||0,Email_v:i.Email_v||0,isAllBranches:i.isAllBranches||0,Safe:i.Safe||1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in signUpStaff:",a),a}},async createStaffUser(e,r,n){console.log("[authService] Creating staff user via Edge Function:",{email:e,userData:n});try{const{data:{session:a},error:s}=await Qt.auth.getSession();if(s||!(a!=null&&a.access_token))throw new Error("No active session found");const i="https://studio.middar.com/",o=`${i}/functions/v1/crud-staff-user`,c=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`,"x-user-id":a.user.id},body:JSON.stringify({action:"add",email:e,password:r,userData:{user_name:n.name,user_role:n.role,...n.localizedData||{}}})});if(!c.ok){const h=await c.json();throw new Error(h.error||`HTTP ${c.status}`)}const u=await c.json();if(console.log("[authService] Staff user created successfully:",u),!u.ok)throw new Error("Edge Function returned an error status");const d=u.auth_id??u.authUserId;if(!d)throw new Error("Auth user ID missing from response");if(u.user_id==null)throw new Error("User ID missing from response");const f=u.user_id??null;return{id:d,email:e,role:n.role,profile:{userid:d,name:u.name||n.name,Email:u.Email||e,permissions:u.permissions||(n.role==="admin"?1:2),IsActive:u.IsActive||1,Employee:u.Employee||1,AccountNumber:u.AccountNumber||null,mobile:u.mobile||null,user_pasword:u.user_pasword||null,pin:u.pin||null,Owner:u.Owner||0,Email_v:u.Email_v||0,isAllBranches:u.isAllBranches||0,Safe:u.Safe||1,created_at:u.created_at||new Date().toISOString(),updated_at:u.updated_at||new Date().toISOString()}}}catch(a){throw console.error("[authService] Error in createStaffUser:",a),a}},async updateUserRole(e,r){console.log("[authService] Updating user role:",{targetUserId:e,newRole:r});try{const{data:{session:n},error:a}=await Qt.auth.getSession();if(a||!(n!=null&&n.access_token))throw new Error("No active session found");const s="https://studio.middar.com/".trim();if(!s)throw new Error("Missing VITE_SUPABASE_URL");const i=`${s}/functions/v1/crud-staff-user`,o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,"x-user-id":n.user.id},body:JSON.stringify({action:"update",targetUserId:e,userData:{user_role:r}})});if(!o.ok){const c=await o.json();throw new Error(c.error||`HTTP ${o.status}`)}console.log("[authService] User role updated successfully")}catch(n){throw console.error("[authService] Error in updateUserRole:",n),n}},async updateUser(e,r){var n;console.log("[authService] Updating user details:",{targetUserId:e,userData:r});try{const{data:{session:a},error:s}=await Qt.auth.getSession();if(s||!(a!=null&&a.access_token))throw new Error("No active session found");const i="https://studio.middar.com/".trim();if(!i)throw new Error("Missing VITE_SUPABASE_URL");const o=`${i}/functions/v1/crud-staff-user`,c={action:"update",targetUserId:e,userData:{}};if(r.Email!==void 0&&(c.email=r.Email,c.userData.Email=r.Email),r.name!==void 0&&(c.userData.name=r.name),r.permissions!==void 0&&(c.userData.permissions=r.permissions),r.mobile!==void 0){const d=(n=(await G.users.list({exact_filters:{userid:e}})).data)==null?void 0:n[0];if(!d)throw new Error("User not found in MySQL");await G.users.update(d.userid,{mobile:r.mobile})}if(c.userData.name||c.userData.Email||c.userData.permissions){const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.access_token}`,"x-user-id":a.user.id},body:JSON.stringify(c)});if(!u.ok){const f=await u.json();throw new Error(f.error||`HTTP ${u.status}`)}const d=await u.json();console.log("[authService] Edge Function update result:",d)}console.log("[authService] User details updated successfully")}catch(a){throw console.error("[authService] Error in updateUser:",a),a}},async deleteUser(e){console.log("[authService] Deleting user:",e);try{const{data:{session:r},error:n}=await Qt.auth.getSession();if(n||!(r!=null&&r.access_token))throw new Error("No active session found");const a="https://studio.middar.com/",s=`${a}/functions/v1/crud-staff-user`,i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`,"x-user-id":r.user.id},body:JSON.stringify({action:"delete",targetUserId:e})});if(!i.ok){const o=await i.json();throw new Error(o.error||`HTTP ${i.status}`)}console.log("[authService] User deleted successfully")}catch(r){throw console.error("[authService] Error in deleteUser:",r),r}},async signUpClient(e,r,n){console.log("[authService] Signing up client:",{email:e,...n});const{data:a,error:s}=await Qt.auth.signUp({email:e,password:r});if(s)throw s;if(!a.user)throw new Error("User creation failed");console.log("[authService] Auth user created:",a.user.id);const i=await G.users.create({name:n.name,Email:e,permissions:3,IsActive:1,Employee:0,mobile:n.contact?String(n.contact):null,userid:a.user.id});return console.log("[authService] User profile created in MySQL:",i),{id:a.user.id,email:e,role:"client",profile:{userid:i.userid,name:i.name||n.name,Email:i.Email||e,permissions:3,mobile:i.mobile||(n.contact?String(n.contact):null),IsActive:1,Employee:0,AccountNumber:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:i.created_at||new Date().toISOString(),updated_at:i.updated_at||new Date().toISOString()}}},async signIn(e,r){var n;console.log("[authService] Signing in with email:",e);try{const{data:a,error:s}=await Qt.auth.signInWithPassword({email:e,password:r});if(s)throw console.error("[authService] Authentication error:",s),s;if(!a.user)throw new Error("Sign in failed: No user data returned");console.log("[authService] User authenticated, fetching profile...");const o=(n=(await G.users.list({exact_filters:{userid:a.user.id}})).data)==null?void 0:n[0];if(!o)throw console.error("[authService] User profile not found in MySQL for user:",a.user.id),new Error("User profile not found");return console.log("[authService] User profile found in MySQL:",o),{id:a.user.id,email:a.user.email,role:o.permissions===1?"admin":"client",profile:{...o}}}catch(a){throw console.error("[authService] Error in signIn:",a),a}},async signOut(){console.log("[authService] Signing out...");try{const{data:{session:e}}=await Qt.auth.getSession();if(!e){console.warn("[authService] No active session found  skipping signOut()");return}const{error:r}=await Qt.auth.signOut();if(r)throw console.error("[authService] Error signing out:",r),r;console.log("[authService] Sign out successful")}catch(e){throw console.error("[authService] Error in signOut:",e),e}},async signInWithGoogle(e="client"){console.log("[authService] Starting Google OAuth sign-in with role:",e);try{localStorage.setItem("oauth_intended_role",e);const{data:r,error:n}=await Qt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,data:{intended_role:e},queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(n)throw console.error("[authService] Google OAuth error:",n),localStorage.removeItem("oauth_intended_role"),n;console.log("[authService] Google OAuth initiated successfully with role:",e)}catch(r){throw console.error("[authService] Error in Google sign-in:",r),localStorage.removeItem("oauth_intended_role"),r}},async getFreshJwt(){const{data:{session:e},error:r}=await Qt.auth.getSession();if(r)throw r;if(!(e!=null&&e.access_token))throw new Error("No access token available");return e.access_token},async getCurrentUser(e){var r;try{let n;if(e)n={id:e,email:""};else{const{data:{user:i},error:o}=await Qt.auth.getUser();if(o||!i)return null;n=i}console.log("[authService] Fetching profile for:",n.id);const s=(r=(await G.users.list({exact_filters:{userid:n.id}})).data)==null?void 0:r[0];return s?{id:n.id,email:s.Email||n.email||"",role:s.permissions===1?"admin":"client",profile:s}:(console.warn("[authService] User not found in Users table, returning minimal profile"),{id:n.id,email:n.email||"",role:"client",profile:{userid:0,name:"User",Email:n.email||"",permissions:3,IsActive:1,Employee:0,AccountNumber:null,mobile:null,user_pasword:null,pin:null,Owner:0,Email_v:0,isAllBranches:0,Safe:1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}})}catch(n){return console.error("[authService] Error in getCurrentUser:",n),null}},onAuthStateChange(e){let r=null;const{data:{subscription:n}}=Qt.auth.onAuthStateChange(async(a,s)=>{if(console.log("[authService] Auth event:",a),s!=null&&s.user){const i=await this.getCurrentUser(s.user.id);JSON.stringify(i)!==JSON.stringify(r)&&(r=i,e(i))}else r!==null&&(r=null,e(null))});return{data:{subscription:n}}}};function Tve(e,r){return y.useReducer((n,a)=>r[n][a]??n,e)}var WO="ScrollArea",[CH,CXe]=ps(WO),[Ave,qi]=CH(WO),TH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState(null),[b,w]=y.useState(0),[_,S]=y.useState(0),[j,N]=y.useState(!1),[k,C]=y.useState(!1),E=Ht(r,I=>u(I)),P=gx(s);return l.jsx(Ave,{scope:n,type:a,dir:P,scrollHideDelay:i,scrollArea:c,viewport:d,onViewportChange:f,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:j,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:w,onCornerHeightChange:S,children:l.jsx(dt.div,{dir:P,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});TH.displayName=WO;var AH="ScrollAreaViewport",OH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=e,o=qi(AH,n),c=y.useRef(null),u=Ht(r,c,o.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(dt.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});OH.displayName=AH;var Dl="ScrollAreaScrollbar",HO=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,c=e.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),s.type==="hover"?l.jsx(Ove,{...a,ref:r,forceMount:n}):s.type==="scroll"?l.jsx(Pve,{...a,ref:r,forceMount:n}):s.type==="auto"?l.jsx(PH,{...a,ref:r,forceMount:n}):s.type==="always"?l.jsx(qO,{...a,ref:r}):null});HO.displayName=Dl;var Ove=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const c=s.scrollArea;let u=0;if(c){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Ua,{present:n||i,children:l.jsx(PH,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Pve=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=qi(Dl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=lS(()=>u("SCROLL_END"),100),[c,u]=Tve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>u("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,u]),y.useEffect(()=>{const d=s.viewport,f=i?"scrollLeft":"scrollTop";if(d){let h=d[f];const m=()=>{const p=d[f];h!==p&&(u("SCROLL"),o()),h=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,i,u,o]),l.jsx(Ua,{present:n||c!=="hidden",children:l.jsx(qO,{"data-state":c==="hidden"?"hidden":"visible",...a,ref:r,onPointerEnter:rt(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:rt(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),PH=y.forwardRef((e,r)=>{const n=qi(Dl,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=y.useState(!1),c=e.orientation==="horizontal",u=lS(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(c?d:f)}},10);return qm(n.viewport,u),qm(n.content,u),l.jsx(Ua,{present:a||i,children:l.jsx(qO,{"data-state":i?"visible":"hidden",...s,ref:r})})}),qO=y.forwardRef((e,r)=>{const{orientation:n="vertical",...a}=e,s=qi(Dl,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[c,u]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=FH(c.viewport,c.content),f={...a,sizes:c,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,p){return Lve(m,o.current,c,p)}return n==="horizontal"?l.jsx(Dve,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,p=FM(m,c,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?l.jsx(Rve,{...f,ref:r,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,p=FM(m,c);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),Dve=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=qi(Dl,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=Ht(r,u,i.onScrollbarXChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(RH,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(m),$H(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:zw(o.paddingLeft),paddingEnd:zw(o.paddingRight)}})}})}),Rve=y.forwardRef((e,r)=>{const{sizes:n,onSizesChange:a,...s}=e,i=qi(Dl,e.__scopeScrollArea),[o,c]=y.useState(),u=y.useRef(null),d=Ht(r,u,i.onScrollbarYChange);return y.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),l.jsx(RH,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oS(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const m=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(m),$H(m,h)&&f.preventDefault()}},onResize:()=>{u.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:zw(o.paddingTop),paddingEnd:zw(o.paddingBottom)}})}})}),[Ive,DH]=CH(Dl),RH=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:h,...m}=e,p=qi(Dl,n),[v,g]=y.useState(null),x=Ht(r,E=>g(E)),b=y.useRef(null),w=y.useRef(""),_=p.viewport,S=a.content-a.viewport,j=Jn(f),N=Jn(u),k=lS(h,10);function C(E){if(b.current){const P=E.clientX-b.current.left,I=E.clientY-b.current.top;d({x:P,y:I})}}return y.useEffect(()=>{const E=P=>{const I=P.target;(v==null?void 0:v.contains(I))&&j(P,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[_,v,S,j]),y.useEffect(N,[a,N]),qm(v,k),qm(p.content,k),l.jsx(Ive,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:Jn(i),onThumbPointerUp:Jn(o),onThumbPositionChange:N,onThumbPointerDown:Jn(c),children:l.jsx(dt.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:rt(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=v.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:rt(e.onPointerMove,C),onPointerUp:rt(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Vw="ScrollAreaThumb",IH=y.forwardRef((e,r)=>{const{forceMount:n,...a}=e,s=DH(Vw,e.__scopeScrollArea);return l.jsx(Ua,{present:n||s.hasThumb,children:l.jsx(Mve,{ref:r,...a})})}),Mve=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,style:a,...s}=e,i=qi(Vw,n),o=DH(Vw,n),{onThumbPositionChange:c}=o,u=Ht(r,h=>o.onThumbChange(h)),d=y.useRef(void 0),f=lS(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(f(),!d.current){const p=$ve(h,c);d.current=p,c()}};return c(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,f,c]),l.jsx(dt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:rt(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,g=h.clientY-p.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:rt(e.onPointerUp,o.onThumbPointerUp)})});IH.displayName=Vw;var KO="ScrollAreaCorner",MH=y.forwardRef((e,r)=>{const n=qi(KO,e.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?l.jsx(Fve,{...e,ref:r}):null});MH.displayName=KO;var Fve=y.forwardRef((e,r)=>{const{__scopeScrollArea:n,...a}=e,s=qi(KO,n),[i,o]=y.useState(0),[c,u]=y.useState(0),d=!!(i&&c);return qm(s.scrollbarX,()=>{var h;const f=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(f),u(f)}),qm(s.scrollbarY,()=>{var h;const f=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),d?l.jsx(dt.div,{...a,ref:r,style:{width:i,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function zw(e){return e?parseInt(e,10):0}function FH(e,r){const n=e/r;return isNaN(n)?0:n}function oS(e){const r=FH(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-n)*r;return Math.max(a,18)}function Lve(e,r,n,a="ltr"){const s=oS(n),i=s/2,o=r||i,c=s-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-c,f=n.content-n.viewport,h=a==="ltr"?[0,f]:[f*-1,0];return LH([u,d],h)(e)}function FM(e,r,n="ltr"){const a=oS(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-s,o=r.content-r.viewport,c=i-a,u=n==="ltr"?[0,o]:[o*-1,0],d=G2(e,u);return LH([0,o],[0,c])(d)}function LH(e,r){return n=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(n-e[0])}}function $H(e,r){return e>0&&e<r}var $ve=(e,r=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,c=n.top!==i.top;(o||c)&&r(),n=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function lS(e,r){const n=Jn(e),a=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(a.current),[]),y.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,r)},[n,r])}function qm(e,r){const n=Jn(r);Pn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,n])}var BH=TH,Bve=OH,Uve=MH;const la=y.forwardRef(({className:e,children:r,...n},a)=>l.jsxs(BH,{ref:a,className:ve("relative overflow-hidden",e),...n,children:[l.jsx(Bve,{className:"h-full w-full rounded-[inherit]",children:r}),l.jsx(UH,{}),l.jsx(Uve,{})]}));la.displayName=BH.displayName;const UH=y.forwardRef(({className:e,orientation:r="vertical",...n},a)=>l.jsx(HO,{ref:a,orientation:r,className:ve("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(IH,{className:"relative flex-1 rounded-full bg-border"})}));UH.displayName=HO.displayName;const B1={async createApplication(e){return await G.partnerApply.create(e)},async getApplications(){return(await G.partnerApply.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async updateStatus(e,r){await G.partnerApply.update(e,{status:r})}},Vve=async e=>{const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(a)).map(o=>o.toString(16).padStart(2,"0")).join("")};function zve(){const{user:e}=Sr(),{createStaffUser:r,deleteUser:n,updateUserRole:a,updateUser:s}=Uw,{currentLanguage:i,isRTL:o}=ms();yn();const{t:c}=Kt(),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(!0),[v,g]=y.useState(""),[x,b]=y.useState(!1),[w,_]=y.useState(""),[S,j]=y.useState(""),[N,k]=y.useState(""),[C,E]=y.useState("employee"),[P,I]=y.useState(""),[T,U]=y.useState(!1),[H,F]=y.useState(null),[M,z]=y.useState("all"),[L,R]=y.useState("employees"),[J,te]=y.useState(!1),[A,X]=y.useState(null),[V,q]=y.useState(!1),[ae,ce]=y.useState({name:"",Email:"",mobile:"",permissions:""}),[me,ie]=y.useState(!1),[Q,de]=y.useState(""),[D,Be]=y.useState(new Map);y.useEffect(()=>{Ue(),Le()},[]);const Le=async()=>{try{const le=await PA(),fe=new Map;le.forEach(ye=>{fe.set(ye.permissions_ID,ye.permissions_Name)}),Be(fe)}catch(le){console.error("Failed to load permission names:",le)}},Ue=async()=>{try{p(!0);const[le,fe]=await Promise.all([cn.getAll(),B1.getApplications()]);d(le),h(fe)}catch(le){console.error("Failed to load users:",le)}finally{p(!1)}},ze=u.filter(le=>{var yt,zt;const fe=L==="employees",ye=L==="clients",pe=L==="partners";if(fe&&![1,2,3,4].includes(Number(le.permissions))||pe&&![5,6].includes(Number(le.permissions)))return!1;const Ee=((yt=le.name)==null?void 0:yt.toLowerCase())||"",$e=((zt=le.Email)==null?void 0:zt.toLowerCase())||"",Fe=String(le.permissions||""),We=v.toLowerCase();return Ee.includes(We)||$e.includes(We)||Fe.includes(We)}),De=le=>{const fe=["destructive","default","secondary","outline","default","secondary"];return le&&le>=1&&le<=fe.length?fe[le-1]:"secondary"},mt=le=>{if(!le)return"User";const fe=D.get(le);return fe||{1:"Admin",2:"Manager",3:"Employee",4:"Team Leader",5:"Partner Employee",6:"Partner Leader"}[le]||`Permission ${le}`},ut=async le=>{if(le.preventDefault(),!T){I(""),U(!0);try{const fe=await Vve(N),ye={name:w,Email:S,user_pasword:fe,permissions:C==="admin"?1:C==="manager"||C==="employee"?2:C==="team_leader"?4:2},pe=await G.Users.create(ye);H&&(await B1.updateStatus(H,"approved"),F(null)),b(!1),_(""),j(""),k(""),E("employee"),Ue()}catch(fe){I(fe.message||c("users.addUserError"))}finally{U(!1)}}},se=le=>{_(le.full_name),j(le.email),E("employee"),k(""),F(le.apply_id),b(!0),R("employees")},he=async le=>{if(confirm(c("users.rejectConfirmation")))try{await B1.updateStatus(le,"rejected"),Ue()}catch(fe){console.error("Failed to reject application:",fe)}},ee=async(le,fe)=>{if(confirm(c("users.deleteConfirmation",{name:fe})))try{await n(le),Ue()}catch(ye){alert(`${c("users.deleteError")}: ${ye.message}`)}},_e=async(le,fe)=>{try{await a(le,fe),Ue()}catch(ye){alert(`${c("users.updateRoleError")}: ${ye.message}`)}},je=async le=>{var fe;if(le.preventDefault(),!(me||!A)){de(""),ie(!0);try{const ye={};ae.name!==Ae(A,"name")&&(ye.name=ae.name),ae.Email!==A.Email&&(ye.Email=ae.Email),ae.mobile!==((fe=A.mobile)==null?void 0:fe.toString())&&(ye.mobile=ae.mobile?parseInt(ae.mobile):null),ae.permissions!==A.permissions&&(ye.permissions=ae.permissions),Object.keys(ye).length>0?(await s(String(A.userid),ye),q(!1),Ue()):q(!1)}catch(ye){de(ye.message||c("users.updateUserError"))}finally{ie(!1)}}},be=le=>{var fe;X(le),ce({name:le.name||"",Email:le.Email||"",mobile:((fe=le.mobile)==null?void 0:fe.toString())||"",permissions:le.permissions||""}),q(!1),de(""),te(!0)};return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:o?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-4",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:c("users.title")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ra,{className:"h-5 w-5"}),l.jsxs("span",{className:"text-sm font-medium",children:[u.length," ",c("users.totalUsers")]})]}),l.jsx("p",{className:"hidden md:block text-muted-foreground",children:c("users.subtitle")})]}),l.jsxs("div",{className:"flex flex-row items-center border rounded-lg p-1 bg-muted/50 w-fit",children:[l.jsxs(ue,{variant:L==="employees"?"default":"ghost",size:"sm",onClick:()=>R("employees"),className:"h-8 px-3",children:[l.jsx(bI,{className:"h-4 w-4 mr-2"}),c("users.employees")]}),l.jsxs(ue,{variant:L==="clients"?"default":"ghost",size:"sm",onClick:()=>R("clients"),className:"h-8 px-3",children:[l.jsx(Qn,{className:"h-4 w-4 mr-2"}),c("users.clients")]}),l.jsxs(ue,{variant:L==="partners"?"default":"ghost",size:"sm",onClick:()=>R("partners"),className:"h-8 px-3",children:[l.jsx(Ra,{className:"h-4 w-4 mr-2"}),c("users.partners")]})]}),L==="employees"&&l.jsxs("div",{className:"space-y-6",children:[(e==null?void 0:e.role)!=="manager"&&l.jsxs(Tn,{open:x,onOpenChange:b,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(ue,{className:"w-full",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),c("users.addUser")]})}),l.jsxs(mn,{children:[l.jsxs(pn,{children:[l.jsx(gn,{children:c("users.addNewUser")}),l.jsx($a,{children:c("users.addUserDescription")})]}),l.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[P&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:P})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formName",children:c("users.fullName")}),l.jsx(He,{id:"formName",value:w,onChange:le=>_(le.target.value),placeholder:c("users.fullName"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formEmail",children:c("users.email")}),l.jsx(He,{id:"formEmail",type:"email",value:S,onChange:le=>j(le.target.value),placeholder:c("users.email"),required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formPassword",children:c("users.password")}),l.jsx(He,{id:"formPassword",type:"password",value:N,onChange:le=>k(le.target.value),placeholder:c("users.password"),required:!0,minLength:6})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"formRole",children:c("users.role")}),l.jsxs(jt,{value:C,onValueChange:le=>E(le),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"employee",children:c("users.employee")}),l.jsx(Pe,{value:"manager",children:c("users.manager")}),l.jsx(Pe,{value:"admin",children:c("users.admin")}),l.jsx(Pe,{value:"team_leader",children:c("users.team_leader")})]})]})]}),l.jsx(ue,{type:"submit",className:"w-full",disabled:T,children:c(T?"users.addingUser":"users.addUser")})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(He,{placeholder:c("users.searchPlaceholder"),value:v,onChange:le=>g(le.target.value),className:"pl-10"})]}),l.jsxs(la,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ze.map(le=>l.jsxs(ot,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(br,{className:"text-lg truncate",children:Ae(le,"name")}),l.jsx(gt,{variant:De(le.permissions),className:"mt-1",children:mt(le.permissions)})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>be(le),children:l.jsx(Mi,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>ee(String(le.userid),Ae(le,"name")),children:l.jsx(Er,{className:"h-4 w-4"})})]})]})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(vh,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:le.Email})]}),le.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(tm,{className:"h-4 w-4"}),l.jsx("span",{children:le.mobile})]}),(le.permissions===2||le.permissions===1)&&!0&&l.jsxs("div",{className:"pt-2 border-t",children:[l.jsx("div",{className:"text-xs font-medium mb-1",children:c("users.changeRole")}),l.jsxs(jt,{value:String(le.permissions),onValueChange:fe=>_e(String(le.userid),fe),children:[l.jsx(_t,{className:"w-full h-8",children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"2",children:c("users.employee")}),l.jsx(Pe,{value:"1",children:c("users.manager")})]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c("users.joined")," ",le.created_at?new Date(le.created_at).toLocaleDateString():"-"]})]})]},le.userid))}),ze.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ra,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:c("users.noUsersFound")}),l.jsx("p",{className:"text-muted-foreground",children:c(v?"users.noUsersFoundDesc":"users.noUsersAvailable")})]})]})]}),L==="clients"&&l.jsx("div",{className:"space-y-6",children:l.jsxs(la,{className:"flex-1",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ze.map(le=>l.jsxs(ot,{className:"hover:shadow-md transition-shadow",children:[l.jsx(Xt,{className:"pb-3",children:l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(br,{className:"text-lg truncate",children:Ae(le,"name")}),l.jsx(gt,{variant:"outline",className:"mt-1",children:c("users.client")})]})})}),l.jsxs(xt,{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(vh,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:le.Email})]}),le.mobile&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(tm,{className:"h-4 w-4"}),l.jsx("span",{children:le.mobile})]}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c("users.joined")," ",le.created_at?new Date(le.created_at).toLocaleDateString():"-"]})]})]},le.userid))}),ze.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Qn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:c("clients.noClientsFound")}),l.jsx("p",{className:"text-muted-foreground",children:c("clients.noClientsYet")})]})]})}),L==="partners"&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 h-[calc(100vh-280px)]",children:[l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[l.jsx(bI,{className:"h-5 w-5"}),c("users.partnerUsers"),l.jsx(gt,{variant:"secondary",className:"ml-auto",children:u.filter(le=>[5,6].includes(Number(le.permissions))).length})]}),l.jsx(la,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:u.filter(le=>[5,6].includes(Number(le.permissions))).length>0?u.filter(le=>[5,6].includes(Number(le.permissions))).map(le=>l.jsx(ot,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>be(le),children:l.jsxs(xt,{className:"p-4 flex items-center gap-3",children:[l.jsxs(Rs,{children:[l.jsx(Po,{src:le.avatar||""}),l.jsx(Is,{children:Ae(le,"name").charAt(0).toUpperCase()})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:Ae(le,"name")}),l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:le.Email}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(gt,{variant:"outline",className:"text-xs py-0 h-5",children:le.permissions===5?c("users.partner_leader"):c("users.partner_employee")}),le.company_name&&l.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx(xie,{className:"h-3 w-3"}),le.company_name]})]})]})]})},le.userid)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ra,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:c("users.noPartnerUsersFound")})]})})})]}),l.jsxs("div",{className:"flex flex-col h-full bg-muted/30 rounded-lg p-4",children:[l.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[l.jsx(vh,{className:"h-5 w-5"}),c("users.partnerApplications"),l.jsx(gt,{variant:"secondary",children:f.length})]}),l.jsx("div",{className:"w-[140px]",children:l.jsxs(jt,{value:M,onValueChange:le=>z(le),children:[l.jsx(_t,{className:"h-8",children:l.jsx(kt,{placeholder:c("common.filter")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:c("common.all")}),l.jsx(Pe,{value:"pending",children:c("status.pending")}),l.jsx(Pe,{value:"approved",children:c("status.approved")}),l.jsx(Pe,{value:"rejected",children:c("status.rejected")})]})]})})]}),l.jsx(la,{className:"flex-1 pr-4",children:l.jsx("div",{className:"space-y-3",children:f.filter(le=>M==="all"||le.status===M).length>0?f.filter(le=>M==="all"||le.status===M).map(le=>l.jsx(ot,{children:l.jsxs(xt,{className:"p-4",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2 mb-2",children:[l.jsx("div",{className:"font-medium",children:le.company_name||le.full_name}),l.jsx(gt,{variant:le.status==="pending"?"outline":le.status==="approved"?"default":"destructive",className:"capitalize",children:c(`status.${le.status}`)})]}),l.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Qn,{className:"h-3 w-3"}),le.full_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vh,{className:"h-3 w-3"}),le.email]}),le.phone&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tm,{className:"h-3 w-3"}),le.phone]})]}),le.status==="pending"&&l.jsxs("div",{className:"mt-3 flex gap-2 justify-end pt-3 border-t",children:[l.jsx(ue,{size:"sm",variant:"ghost",className:"h-7 text-xs text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>he(le.apply_id),children:c("users.reject")}),l.jsx(ue,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>se(le),children:c("users.approve")})]})]})},le.apply_id)):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(vh,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),l.jsx("p",{children:c("users.noApplicationsFound")})]})})})]})]}),l.jsx(Tn,{open:J,onOpenChange:te,children:l.jsxs(mn,{className:"max-w-2xl max-h-[80vh]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:c("users.userDetails")}),l.jsx($a,{children:c("users.userDetailsDescription")})]}),A&&l.jsx(la,{className:"max-h-[60vh] pr-4",children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:Ae(A,"name")}),l.jsx(gt,{variant:De(A.permissions),className:"mt-1",children:mt(A.permissions)})]})}),V?l.jsxs("form",{onSubmit:je,className:"space-y-4",children:[Q&&l.jsx(Vm,{variant:"destructive",children:l.jsx(zm,{children:Q})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editName",children:c("users.fullName")}),l.jsx(He,{id:"editName",value:ae.name,onChange:le=>ce(fe=>({...fe,name:le.target.value})),placeholder:c("users.fullName")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editEmail",children:c("users.email")}),l.jsx(He,{id:"editEmail",type:"email",value:ae.Email,onChange:le=>ce(fe=>({...fe,Email:le.target.value})),placeholder:c("users.email")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editRole",children:c("users.role")}),l.jsxs(jt,{value:String(ae.permissions),onValueChange:le=>ce(fe=>({...fe,permissions:Number(le)})),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"2",children:c("users.employee")}),l.jsx(Pe,{value:"1",children:c("users.manager")}),l.jsx(Pe,{value:"3",children:c("users.client")}),l.jsx(Pe,{value:"4",children:c("users.partner")}),l.jsx(Pe,{value:"5",children:c("users.partner_employee")})]})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(A.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.updated")}),l.jsx("p",{className:"text-sm",children:A.updated_at?new Date(A.updated_at).toLocaleDateString():"-"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"editPhone",children:c("users.phone")}),l.jsx(He,{id:"editPhone",type:"tel",value:ae.mobile,onChange:le=>ce(fe=>({...fe,mobile:le.target.value})),placeholder:c("users.phone")})]}),A.client_contact&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.contact")}),l.jsx("p",{className:"text-sm",children:A.client_contact})]}),A.company_name&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.company")}),l.jsx("p",{className:"text-sm",children:Ae(A,"company_name")})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsx(Ge,{className:"text-sm font-medium",children:c("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:A.userid})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>q(!1),children:c("buttons.cancel")}),l.jsx(ue,{type:"submit",disabled:me,children:c(me?"buttons.saving":"buttons.save")})]})]}):l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.fullName")}),l.jsx("p",{className:"text-sm",children:Ae(A,"name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.email")}),l.jsx("p",{className:"text-sm",children:A.Email||c("common.na")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.role")}),l.jsx("p",{className:"text-sm",children:c(`users.${A.permissions===1?"admin":A.permissions===2?"employee":A.permissions===3?"client":"user"}`)})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.joined")}),l.jsx("p",{className:"text-sm",children:new Date(A.created_at).toLocaleDateString()})]}),A.updated_at&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.updated")}),l.jsx("p",{className:"text-sm",children:new Date(A.updated_at).toLocaleDateString()})]})]}),l.jsxs("div",{className:"space-y-3",children:[A.user_phone&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.phone")}),l.jsx("p",{className:"text-sm",children:A.mobile})]}),A.client_contact&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.contact")}),l.jsx("p",{className:"text-sm",children:A.client_contact})]}),A.company_name&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.company")}),l.jsx("p",{className:"text-sm",children:Ae(A,"company_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.userId")}),l.jsx("p",{className:"text-sm font-mono text-xs",children:A.userid})]})]})]}),A.userid&&l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium text-muted-foreground",children:c("users.authId","Auth ID")}),l.jsx("p",{className:"text-sm font-mono text-xs break-all",children:A.userid})]})]})}),l.jsxs(La,{children:[!V&&!0&&l.jsx(ue,{variant:"outline",onClick:()=>q(!0),children:c("buttons.edit")}),l.jsx(ue,{onClick:()=>te(!1),children:c("buttons.close")})]})]})})]})}function Wve(){Sr();const{t:e}=Kt(),{isRTL:r}=ms();yn();const n=zs();console.log("Teams Page - isRTL:",r);const[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState({}),[d,f]=y.useState(!0),[h,m]=y.useState(""),[p,v]=y.useState(!1),[g,x]=y.useState(""),[b,w]=y.useState(""),[_,S]=y.useState(null),j=!0;y.useEffect(()=>{k(),C()},[]);const N=F=>{n("/chats",{state:{teamId:F}})},k=async()=>{try{f(!0);const F=await uh.getAll(),M=await uh.getAllTeamMembers();s(F),u(M)}catch(F){console.error("Failed to load teams:",F)}finally{f(!1)}},C=async()=>{try{const F=await cn.getAll();o(F)}catch(F){console.error("Failed to load users:",F)}},E=async()=>{if(g.trim())try{const F=wl({team_name:g.trim(),team_leader_id:(b==null?void 0:b.toString())||null,partner_id:null,auth_user_id:null},{team_name:"team_name"});await uh.create(F),x(""),w(""),v(!1),await k()}catch(F){console.error("Failed to create team:",F)}},P=async(F,M)=>{try{await uh.addMember(F,M),await k()}catch(z){console.error("Failed to add team member:",z)}},I=async(F,M)=>{try{await uh.removeMember(F,M),await k()}catch(z){console.error("Failed to remove team member:",z)}},T=async F=>{try{await uh.delete(F),s(M=>M.filter(z=>z.team_id!==F)),u(M=>{const z={...M};return delete z[F],z}),S(null)}catch(M){console.error("Failed to delete team:",M)}},U=a.filter(F=>(Ae(F,"team_name")||"").toLowerCase().includes(h.toLowerCase())),H=i;return d?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:e("teams.title")}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e("teams.subtitle")})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ra,{className:"h-5 w-5"}),l.jsx("span",{className:"text-sm font-medium",children:e("teams.memberCount_plural",{count:a.length})})]}),l.jsxs(Tn,{open:p,onOpenChange:v,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(ue,{children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("teams.createTeam")]})}),l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e("teams.createTeamTitle")}),l.jsx($a,{children:e("teams.createTeamDesc")})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-name",className:"text-right rtl:text-left",children:e("teams.teamName")}),l.jsx(He,{id:"team-name",value:g,onChange:F=>x(F.target.value),className:"col-span-3",placeholder:e("teams.teamNamePlaceholder")})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(Ge,{htmlFor:"team-leader",className:"text-right rtl:text-left",children:e("teams.teamLeader")}),l.jsxs(jt,{value:b,onValueChange:w,children:[l.jsx(_t,{className:"col-span-3",children:l.jsx(kt,{placeholder:e("teams.selectTeamLeader")})}),l.jsx(St,{children:H.map(F=>l.jsx(Pe,{value:F.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:F.name})]})},F.userid))})]})]})]}),l.jsx(La,{children:l.jsx(ue,{type:"submit",onClick:E,disabled:!g.trim(),children:e("teams.createTeam")})})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(He,{placeholder:e("teams.searchPlaceholder"),value:h,onChange:F=>m(F.target.value),className:"pl-10"})]}),l.jsxs(la,{className:"flex-1",dir:r?"rtl":"ltr",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",dir:r?"rtl":"ltr",children:U.map(F=>{const M=c[F.team_id]||[];return l.jsxs(ot,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Xt,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(br,{className:"text-lg",children:Ae(F,"team_name")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(F.team_id),title:e("teams.chat","Chat"),children:l.jsx(Mu,{className:"h-4 w-4"})}),l.jsx(gt,{variant:"outline",children:e("teams.memberCount_plural",{count:M.length})}),l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:z=>{z.stopPropagation(),S(F.team_id)},children:l.jsx(Er,{className:"h-3 w-3"})})}),l.jsxs(Ms,{onClick:z=>z.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("teams.deleteTeam")}),l.jsx(Bs,{children:e("teams.deleteConfirmation",{name:Ae(F,"team_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:z=>{z.stopPropagation(),T(F.team_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]}),F.team_leader_id_name&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[e("teams.teamLeader"),":"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{children:""}),l.jsx("span",{children:F.team_leader_id_name})]})]})]}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:e("teams.members")}),l.jsxs("div",{className:"space-y-2",children:[M.slice(0,4).map(z=>l.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Rs,{className:"h-6 w-6",children:[l.jsx(Po,{src:""}),l.jsx(Is,{className:"text-xs",children:(z.name||"").charAt(0).toUpperCase()})]}),l.jsx("span",{className:"text-sm",children:z.name})]}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:text-red-700",onClick:()=>{var L;return I(F.team_id,((L=z.userid)==null?void 0:L.toString())||"")},children:l.jsx(Uie,{className:"h-3 w-3"})})]},z.userid)),M.length>4&&l.jsx("div",{className:"text-xs text-muted-foreground text-center",children:e("teams.moreMembers",{count:M.length-4})}),M.length===0&&l.jsx("div",{className:"text-xs text-muted-foreground text-center py-2",children:e("teams.noMembersYet")})]})]}),l.jsx("div",{children:l.jsxs(jt,{onValueChange:z=>{z&&P(F.team_id,z)},children:[l.jsx(_t,{className:"w-full",children:l.jsx(kt,{placeholder:e("teams.addMember")})}),l.jsx(St,{children:i.filter(z=>!M.some(L=>L.userid.toString()===z.userid.toString())).map(z=>l.jsx(Pe,{value:z.userid.toString(),children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:""}),l.jsx("span",{children:z.name})]})},z.userid))})]})}),l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[e("teams.created")," ",F.created_at?new Date(F.created_at).toLocaleDateString():"N/A"]})]})]},F.team_id)})}),U.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ra,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:e(h?"teams.noTeamsFound":"teams.noTeamsYet")}),l.jsx("p",{className:"text-muted-foreground mb-4",children:e(h?"tickets.noTicketsFoundDesc":"teams.createFirstTeam")}),!h&&j&&l.jsxs(ue,{onClick:()=>v(!0),children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("teams.createFirstTeam")]})]})]})]})}function Hve({rooms:e,selectedRoom:r,onSelectRoom:n,currentUser:a,onNewChannel:s,onNewDM:i,className:o}){const{t:c}=Kt(),[u,d]=y.useState(""),f=e.filter(g=>{const x=g.is_private&&Ae(g.other_user||{},"user_name")||g.room_name;return x==null?void 0:x.toLowerCase().includes(u.toLowerCase())}),h=f.filter(g=>!g.is_private&&!g.team_id),m=f.filter(g=>g.is_private),p=f.filter(g=>g.team_id),v=g=>{var j;const x=(r==null?void 0:r.room_id)===g.room_id,b=g.is_private,w=b&&Ae(g.other_user||{},"user_name")||g.room_name,_=b?(j=g.other_user)==null?void 0:j.avatar:null,S=(w==null?void 0:w.charAt(0).toUpperCase())||"?";return l.jsxs("button",{onClick:()=>n(g),className:ve("w-full flex items-center gap-2 px-2 py-1.5 rounded-md transition-colors text-sm mb-0.5",x?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[l.jsxs("div",{className:"relative flex-shrink-0",children:[b?l.jsxs(Rs,{className:"h-6 w-6",children:[l.jsx(Po,{src:_}),l.jsx(Is,{className:"text-[10px]",children:S})]}):g.team_id?l.jsx("div",{className:"h-6 w-6 rounded bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400",children:l.jsx(Ra,{className:"h-3.5 w-3.5"})}):l.jsx("div",{className:"h-6 w-6 rounded bg-muted flex items-center justify-center",children:l.jsx(ZU,{className:"h-3.5 w-3.5"})}),b&&l.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 h-2 w-2 rounded-full bg-green-500 border-2 border-background"})]}),l.jsx("span",{className:"truncate flex-1 text-left",children:w}),g.unreadCount&&g.unreadCount>0?l.jsx(gt,{variant:"destructive",className:"h-5 min-w-[1.25rem] px-1 flex items-center justify-center text-[10px]",children:g.unreadCount}):null]},g.room_id)};return l.jsxs("div",{className:ve("flex flex-col h-full bg-background border-r",o),children:[l.jsxs("div",{className:"flex-shrink-0 p-3 border-b",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold text-lg",children:c("chat.title","Messages")}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8",children:l.jsx(QU,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(He,{placeholder:c("common.search","Jump to..."),value:u,onChange:g=>d(g.target.value),className:"pl-9 h-8 bg-muted/50 border-0"})]})]}),l.jsxs(la,{className:"flex-1 px-2 py-3 overflow-hidden",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.channels","Channels")}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="manager")&&l.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 hover:bg-muted",onClick:s,title:c("chat.createChannel","Create Channel"),children:l.jsx(or,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[h.map(v),h.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noChannels","No channels")})]})]}),p.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"flex items-center justify-between px-2 mb-1",children:l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.teams","Teams")})}),l.jsx("div",{className:"space-y-0.5",children:p.map(v)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 mb-1 group",children:[l.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:c("chat.directMessages","Direct Messages")}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity",onClick:i,children:l.jsx(or,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"space-y-0.5",children:[m.map(v),m.length===0&&l.jsx("div",{className:"px-2 py-1 text-sm text-muted-foreground italic",children:c("chat.noMessages","No messages")})]})]})]})]})}function qve({room:e,messages:r,currentUser:n,onSendMessage:a,onBack:s,loading:i,onLoadMore:o,hasMoreMessages:c,isLoadingMore:u,onEditMessage:d,onDeleteMessage:f,className:h}){var X;const{t:m}=Kt(),[p,v]=y.useState(""),g=y.useRef(null),[x,b]=y.useState(!1),[w,_]=y.useState(null),[S,j]=y.useState(""),[N,k]=y.useState(!1),C=y.useRef(null);y.useEffect(()=>{if(g.current&&!u){const V=g.current.querySelector("[data-radix-scroll-area-viewport]");V&&(V.scrollTop=V.scrollHeight)}},[r,u]);const E=V=>{const q=V.target;if(!q)return;const ce=q.scrollTop<100;b(ce),ce&&c&&o&&!u&&o()};y.useEffect(()=>{var q;const V=(q=g.current)==null?void 0:q.querySelector("[data-radix-scroll-area-viewport]");if(V)return V.addEventListener("scroll",E),()=>V.removeEventListener("scroll",E)},[c,u,o]);const P=V=>{_(V.message_id),j(V.content)},I=()=>{_(null),j("")},T=()=>{w&&S.trim()&&d&&(d(w,S),_(null),j(""))},U=()=>{p.trim()&&(a(p),v(""))},H=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),U())},F=async V=>{var ae;const q=(ae=V.target.files)==null?void 0:ae[0];if(!(!q||!a))try{k(!0);const ce=await messageService.uploadAttachment(q),ie=q.type.startsWith("image/")?`![${q.name}](${ce})`:`[${q.name}](${ce})`;a(ie)}catch(ce){console.error("Failed to upload file:",ce),alert(m("chat.uploadError","Failed to upload file"))}finally{k(!1),C.current&&(C.current.value="")}},M=()=>{var V;(V=C.current)==null||V.click()},z=V=>{const q=/!\[(.*?)\]\((.*?)\)/g,ae=/\[(.*?)\]\((.*?)\)/g,ce=q.exec(V);if(ce)return l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("img",{src:ce[2],alt:ce[1],className:"max-w-full rounded-lg max-h-[300px] object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(ce[2],"_blank")}),V.replace(ce[0],"").trim()&&l.jsx("span",{children:V.replace(ce[0],"").trim()})]});const me=ae.exec(V);return me?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("a",{href:me[2],target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-500 hover:underline bg-background/50 p-2 rounded",children:[l.jsx(xI,{className:"h-4 w-4"}),me[1]]}),V.replace(me[0],"").trim()&&l.jsx("span",{children:V.replace(me[0],"").trim()})]}):V};if(i)return l.jsx("div",{className:ve("flex items-center justify-center h-full bg-background",h),children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!e)return l.jsxs("div",{className:ve("flex flex-col items-center justify-center h-full bg-background text-muted-foreground p-4 text-center",h),children:[l.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:l.jsx(Mu,{className:"h-8 w-8"})}),l.jsx("h3",{className:"font-semibold text-lg mb-2",children:m("chat.welcome","Welcome to Chat")}),l.jsx("p",{className:"max-w-xs",children:m("chat.selectRoomDesc","Select a channel or direct message to start chatting.")})]});const L=e.is_private,R=L&&Ae(e.other_user||{},"user_name")||e.room_name,J=L?(X=e.other_user)==null?void 0:X.avatar:null,te=(R==null?void 0:R.charAt(0).toUpperCase())||"?",A=r.reduce((V,q)=>{const ae=new Date(q.created_at).toLocaleDateString();return V[ae]||(V[ae]=[]),V[ae].push(q),V},{});return l.jsxs("div",{className:ve("flex flex-col h-full bg-background overflow-x-hidden",h),children:[l.jsxs("div",{className:"flex-shrink-0 h-16 border-b flex items-center justify-between px-4 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[s&&l.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden -ml-2",onClick:s,children:l.jsx(JU,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[L?l.jsxs(Rs,{className:"h-9 w-9",children:[l.jsx(Po,{src:J}),l.jsx(Is,{children:te})]}):l.jsx("div",{className:"h-9 w-9 rounded-md bg-muted flex items-center justify-center",children:e.team_id?l.jsx(Ra,{className:"h-5 w-5"}):l.jsx(ZU,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[R,L&&l.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"})]}),!L&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[m("chat.membersCount",{count:3})," "]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(tm,{className:"h-5 w-5"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(zie,{className:"h-5 w-5"})}),l.jsx(ue,{variant:"ghost",size:"icon",className:"text-muted-foreground",children:l.jsx(Cie,{className:"h-5 w-5"})})]})]}),l.jsx(la,{className:"flex-1 p-4 overflow-hidden",ref:g,children:l.jsxs("div",{className:"space-y-6 pb-4",children:[u&&l.jsx("div",{className:"flex justify-center py-4",children:l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}),!c&&r.length>10&&l.jsx("div",{className:"text-center py-4",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:m("chat.beginningOfConversation","Beginning of conversation")})}),Object.entries(A).map(([V,q])=>l.jsxs("div",{children:[l.jsxs("div",{className:"relative flex items-center justify-center mb-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:V===new Date().toLocaleDateString()?m("common.today","Today"):V})})]}),l.jsx("div",{className:"space-y-4",children:q.map((ae,ce)=>{var D;const me=ae.auth_user_id===(n==null?void 0:n.id),ie=ce===0||q[ce-1].auth_user_id!==ae.auth_user_id,Q=ae.sender,de=w===ae.message_id;return l.jsxs("div",{className:ve("flex gap-3 group",me?"flex-row-reverse":""),children:[ie?l.jsxs(Rs,{className:"h-8 w-8 mt-0.5 flex-shrink-0",children:[l.jsx(Po,{src:Q==null?void 0:Q.avatar}),l.jsx(Is,{children:((D=Q==null?void 0:Q.user_name)==null?void 0:D.charAt(0))||"?"})]}):l.jsx("div",{className:"w-8 flex-shrink-0"}),l.jsxs("div",{className:ve("flex flex-col max-w-[75%]",me?"items-end":"items-start"),children:[ie&&l.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[l.jsx("span",{className:"text-sm font-semibold",children:Q==null?void 0:Q.user_name}),l.jsx("span",{className:"text-[10px] text-muted-foreground",children:cs(new Date(ae.created_at),"h:mm a")})]}),l.jsx("div",{className:ve("px-4 py-2 rounded-2xl text-sm shadow-sm relative group",me?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none",de?"w-full min-w-[200px]":""),children:de?l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("textarea",{value:S,onChange:Be=>j(Be.target.value),className:"w-full bg-transparent border rounded p-1 text-foreground min-h-[60px]",autoFocus:!0}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:I,className:"h-6 px-2 text-xs",children:m("common.cancel","Cancel")}),l.jsx(ue,{size:"sm",variant:"secondary",onClick:T,className:"h-6 px-2 text-xs",children:m("common.save","Save")})]})]}):l.jsxs(l.Fragment,{children:[z(ae.content),me&&!de&&l.jsxs("div",{className:"absolute top-0 right-0 -mt-2 -mr-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 bg-background rounded-md shadow-sm border p-0.5",children:[l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-primary",onClick:()=>P(ae),children:[l.jsx("span",{className:"sr-only",children:"Edit"}),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:[l.jsx("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),l.jsx("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"})]})]}),l.jsxs(ue,{variant:"ghost",size:"icon",className:"h-5 w-5 text-muted-foreground hover:text-destructive",onClick:()=>f&&f(ae.message_id),children:[l.jsx("span",{className:"sr-only",children:"Delete"}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:l.jsx("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"})})]})]})]})})]})]},ae.message_id)})})]},V))]})}),l.jsxs("div",{className:"flex-shrink-0 p-4 bg-background border-t",children:[l.jsxs("div",{className:"flex items-end gap-2 bg-muted/50 p-2 rounded-xl border focus-within:border-primary/50 focus-within:ring-1 focus-within:ring-primary/20 transition-all",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-primary flex-shrink-0",onClick:M,disabled:N,children:N?l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):l.jsx(xI,{className:"h-5 w-5"})}),l.jsx("input",{type:"file",ref:C,className:"hidden",onChange:F,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"}),l.jsx("textarea",{value:p,onChange:V=>v(V.target.value),onKeyDown:H,placeholder:m("chat.typeMessage","Type a message..."),className:"flex-1 bg-transparent border-0 focus:ring-0 resize-none max-h-32 min-h-[36px] py-2 text-sm",rows:1,style:{height:"auto",minHeight:"36px"},onInput:V=>{const q=V.target;q.style.height="auto",q.style.height=`${Math.min(q.scrollHeight,128)}px`}}),l.jsxs("div",{className:"flex items-center gap-1 pb-1",children:[l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary hidden sm:flex",children:l.jsx(Mie,{className:"h-5 w-5"})}),l.jsx(ue,{size:"icon",className:ve("h-8 w-8 transition-all",p.trim()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),onClick:U,disabled:!p.trim()&&!N,children:l.jsx(mx,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"flex justify-between items-center mt-2 px-1",children:l.jsx("p",{className:"text-[10px] text-muted-foreground"})})]})]})}function Kve({open:e,onOpenChange:r,onSelectUser:n,currentUserId:a}){const{t:s}=Kt(),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!1);y.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{f(!0);const p=await cn.getAll();o(p.filter(v=>v.auth_user_id!==a))}catch(p){console.error("Failed to load users:",p)}finally{f(!1)}},m=i.filter(p=>{var v,g;return((v=p.user_name)==null?void 0:v.toLowerCase().includes(c.toLowerCase()))||((g=p.user_email)==null?void 0:g.toLowerCase().includes(c.toLowerCase()))});return l.jsx(Tn,{open:e,onOpenChange:r,children:l.jsxs(mn,{className:"sm:max-w-[425px]",children:[l.jsx(pn,{children:l.jsx(gn,{children:s("chat.newDirectMessage","New Direct Message")})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(He,{placeholder:s("chat.searchUsers","Search users..."),value:c,onChange:p=>u(p.target.value),className:"pl-8"})]}),l.jsx(la,{className:"h-[300px]",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):m.length===0?l.jsx("div",{className:"text-center text-muted-foreground py-8",children:s("chat.noUsersFound","No users found")}):l.jsx("div",{className:"space-y-1",children:m.map(p=>{var v;return l.jsxs("button",{onClick:()=>{n(p),r(!1)},className:"w-full flex items-center gap-3 p-2 hover:bg-muted rounded-md transition-colors text-left",children:[l.jsxs(Rs,{children:[l.jsx(Po,{src:p.avatar}),l.jsx(Is,{children:((v=p.user_name)==null?void 0:v.charAt(0))||"?"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:p.user_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.user_email})]})]},p.user_id)})})})]})]})})}var cS="Switch",[Gve,TXe]=ps(cS),[Yve,Xve]=Gve(cS),VH=y.forwardRef((e,r)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:d,form:f,...h}=e,[m,p]=y.useState(null),v=Ht(r,_=>p(_)),g=y.useRef(!1),x=m?f||!!m.closest("form"):!0,[b,w]=vc({prop:s,defaultProp:i??!1,onChange:d,caller:cS});return l.jsxs(Yve,{scope:n,checked:b,disabled:c,children:[l.jsx(dt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":qH(b),"data-disabled":c?"":void 0,disabled:c,value:u,...h,ref:v,onClick:rt(e.onClick,_=>{w(S=>!S),x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),x&&l.jsx(HH,{control:m,bubbles:!g.current,name:a,value:u,checked:b,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});VH.displayName=cS;var zH="SwitchThumb",WH=y.forwardRef((e,r)=>{const{__scopeSwitch:n,...a}=e,s=Xve(zH,n);return l.jsx(dt.span,{"data-state":qH(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:r})});WH.displayName=zH;var Jve="SwitchBubbleInput",HH=y.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:a=!0,...s},i)=>{const o=y.useRef(null),c=Ht(o,i),u=QA(n),d=qA(r);return y.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==n&&p){const v=new Event("click",{bubbles:a});p.call(f,n),f.dispatchEvent(v)}},[u,n,a]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});HH.displayName=Jve;function qH(e){return e?"checked":"unchecked"}var KH=VH,Qve=WH;const GH=y.forwardRef(({className:e,...r},n)=>l.jsx(KH,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...r,ref:n,children:l.jsx(Qve,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));GH.displayName=KH.displayName;function Zve({open:e,onOpenChange:r,onCreate:n}){const{t:a}=Kt(),[s,i]=y.useState(""),[o,c]=y.useState(!1),[u,d]=y.useState(!1),f=async h=>{if(h.preventDefault(),!!s.trim())try{d(!0),await n(s,o),r(!1),i(""),c(!1)}catch(m){console.error("Failed to create channel:",m)}finally{d(!1)}};return l.jsx(Tn,{open:e,onOpenChange:r,children:l.jsxs(mn,{children:[l.jsx(pn,{children:l.jsx(gn,{children:a("chat.createRoomTitle","Create New Room")})}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"name",children:a("chat.roomName","Room Name")}),l.jsx(He,{id:"name",value:s,onChange:h=>i(h.target.value),placeholder:a("chat.roomNamePlaceholder","Enter room name"),disabled:u})]}),l.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[l.jsxs(Ge,{htmlFor:"private",className:"flex flex-col space-y-1",children:[l.jsx("span",{children:a("chat.privateRoom","Private Room")}),l.jsx("span",{className:"font-normal text-xs text-muted-foreground",children:a("chat.privateRoomDesc","Only invited members can view this room.")})]}),l.jsx(GH,{id:"private",checked:o,onCheckedChange:c,disabled:u})]}),l.jsxs(La,{children:[l.jsx(ue,{type:"button",variant:"outline",onClick:()=>r(!1),disabled:u,children:a("common.cancel","Cancel")}),l.jsx(ue,{type:"submit",disabled:!s.trim()||u,children:u?a("common.creating","Creating..."):a("chat.createRoom","Create Room")})]})]})]})})}function exe(){var L;const{user:e}=Sr(),{t:r}=Kt(),{isRTL:n}=ms(),[a,s]=y.useState([]),[i,o]=y.useState(null),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(!1),[p,v]=y.useState(!0),[g,x]=y.useState(!0),[b,w]=y.useState(!1);y.useState([]);const[_,S]=y.useState(!1),[j,N]=y.useState(!1),k=y.useRef(!1),C=y.useRef(null);y.useRef(null),y.useRef(null),y.useEffect(()=>{const R=()=>{const J=window.innerWidth<768;m(J),J||v(!0)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),y.useEffect(()=>{e&&!k.current&&I()},[e]),y.useEffect(()=>{var J;const R=(J=window.history.state)==null?void 0:J.usr;if(R!=null&&R.teamId&&a.length>0){const te=a.find(A=>A.team_id===R.teamId);te&&o(te)}},[a]),y.useEffect(()=>{i&&(C.current!==i.room_id&&(x(!0),w(!1),T(i.room_id),e&&(Xo.markAsRead(i.room_id,e.id.toString()),s(R=>R.map(J=>J.room_id===i.room_id?{...J,unreadCount:0}:J)))),h&&v(!1))},[i,h,e]),y.useEffect(()=>{var A;if(!e||!i)return;let R=((A=c[0])==null?void 0:A.message_id)||0;const J=async()=>{try{const X=await jd.getByRoom(i.room_id.toString(),{limit:5});if(X.length>0){const V=X[0];V.message_id>R&&(console.log("New message detected, refreshing..."),await T(i.room_id.toString()),R=V.message_id)}}catch(X){console.warn("Failed to poll for new messages:",X)}},te=setInterval(J,2e3);return J(),()=>{clearInterval(te)}},[e,i,c]);const E=async(R,J)=>{try{await jd.update(R,J)}catch(te){console.error("Failed to edit message:",te)}},P=async R=>{if(confirm(r("chat.deleteConfirm","Are you sure you want to delete this message?")))try{await jd.delete(R)}catch(J){console.error("Failed to delete message:",J)}},I=async()=>{try{f(!0);const R=await Xo.getUserRooms(e==null?void 0:e.id.toString()),J=await Promise.all(R.map(async te=>{if(te.is_private){const X=(await Xo.getRoomMembers(te.room_id)).find(V=>{var q;return((q=V.userid)==null?void 0:q.toString())!==(e==null?void 0:e.id.toString())});return{...te,other_user:X}}return te}));s(J),k.current=!0}catch(R){console.error("Failed to load rooms:",R)}finally{f(!1)}},T=async(R,J=!1)=>{try{J&&w(!0);const te=10,A=J&&c.length>0?c[0].created_at:void 0,X=await jd.getByRoom(R,{limit:te,before:A});J?(u(V=>[...X,...V]),x(X.length===te)):(u(X),x(X.length===te),C.current=R)}catch(te){console.error("Failed to load messages:",te)}finally{J&&w(!1)}},U=async()=>{!i||b||!g||await T(i.room_id,!0)},H=async R=>{if(!(!i||!e))try{const J={message_id:Date.now(),room_id:i.room_id,user_id:parseInt(e.id.toString()),content:R,metadata:null,created_at:new Date().toISOString(),sender:e.profile};u(te=>[...te,J]),await jd.create({room_id:i.room_id,user_id:parseInt(e.id.toString()),content:R,metadata:null}),setTimeout(()=>{T(i.room_id.toString())},500)}catch(J){console.error("Failed to send message:",J),u(te=>te.filter(A=>A.message_id!==Date.now()))}},F=()=>{v(!0)},M=async(R,J)=>{if(e)try{const te=await Xo.createRoom({name:R,is_private:J,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xo.addMember(te.room_id,e.id.toString()),await I();const A={...te};o(A)}catch(te){console.error("Failed to create channel:",te)}},z=async R=>{if(!e)return;const J=a.find(te=>{var A;return te.is_private&&((A=te.other_user)==null?void 0:A.userid)===R.userid});if(J){o(J);return}try{const te=await Xo.createRoom({name:"DM",is_private:!0,created_by:e.profile.user_id||0,userid:e.id.toString()});await Xo.addMember(te.room_id,e.id.toString()),await Xo.addMember(te.room_id,(R.userid||R.user_id||"").toString()),await I();const A={...te,other_user:R};o(A)}catch(te){console.error("Failed to create DM:",te)}};return l.jsxs("div",{className:"flex w-full h-full overflow-hidden bg-background",dir:n?"rtl":"ltr",children:[l.jsx("div",{className:ve("w-full md:w-80 flex-shrink-0 transition-all duration-300 ease-in-out absolute md:relative z-20 h-full bg-background border-r overflow-hidden",p?"translate-x-0":"-translate-x-full md:translate-x-0",h&&!p&&"hidden"),children:l.jsx(Hve,{rooms:a,selectedRoom:i,onSelectRoom:o,currentUser:e,onNewChannel:()=>S(!0),onNewDM:()=>N(!0)})}),l.jsx("div",{className:ve("flex-1 flex flex-col min-w-0 bg-background transition-all duration-300 h-full overflow-hidden",h&&p?"hidden":"flex"),children:l.jsx(qve,{room:i,messages:c,currentUser:e,onSendMessage:H,onBack:F,loading:d,onLoadMore:U,hasMoreMessages:g,isLoadingMore:b,onEditMessage:E,onDeleteMessage:P})}),l.jsx(Zve,{open:_,onOpenChange:S,onCreate:M}),l.jsx(Kve,{open:j,onOpenChange:N,onSelectUser:z,currentUserId:(L=e==null?void 0:e.id)==null?void 0:L.toString()})]})}function YH(e,r){return function(){return e.apply(r,arguments)}}const{toString:txe}=Object.prototype,{getPrototypeOf:GO}=Object,{iterator:uS,toStringTag:XH}=Symbol,dS=(e=>r=>{const n=txe.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$o=e=>(e=e.toLowerCase(),r=>dS(r)===e),fS=e=>r=>typeof r===e,{isArray:zp}=Array,Km=fS("undefined");function Ix(e){return e!==null&&!Km(e)&&e.constructor!==null&&!Km(e.constructor)&&Os(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JH=$o("ArrayBuffer");function rxe(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&JH(e.buffer),r}const nxe=fS("string"),Os=fS("function"),QH=fS("number"),Mx=e=>e!==null&&typeof e=="object",axe=e=>e===!0||e===!1,U1=e=>{if(dS(e)!=="object")return!1;const r=GO(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(XH in e)&&!(uS in e)},sxe=e=>{if(!Mx(e)||Ix(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ixe=$o("Date"),oxe=$o("File"),lxe=$o("Blob"),cxe=$o("FileList"),uxe=e=>Mx(e)&&Os(e.pipe),dxe=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Os(e.append)&&((r=dS(e))==="formdata"||r==="object"&&Os(e.toString)&&e.toString()==="[object FormData]"))},fxe=$o("URLSearchParams"),[hxe,mxe,pxe,gxe]=["ReadableStream","Request","Response","Headers"].map($o),vxe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fx(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let a,s;if(typeof e!="object"&&(e=[e]),zp(e))for(a=0,s=e.length;a<s;a++)r.call(null,e[a],a,e);else{if(Ix(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(a=0;a<o;a++)c=i[a],r.call(null,e[c],c,e)}}function ZH(e,r){if(Ix(e))return null;r=r.toLowerCase();const n=Object.keys(e);let a=n.length,s;for(;a-- >0;)if(s=n[a],r===s.toLowerCase())return s;return null}const Md=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eq=e=>!Km(e)&&e!==Md;function jE(){const{caseless:e,skipUndefined:r}=eq(this)&&this||{},n={},a=(s,i)=>{const o=e&&ZH(n,i)||i;U1(n[o])&&U1(s)?n[o]=jE(n[o],s):U1(s)?n[o]=jE({},s):zp(s)?n[o]=s.slice():(!r||!Km(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Fx(arguments[s],a);return n}const xxe=(e,r,n,{allOwnKeys:a}={})=>(Fx(r,(s,i)=>{n&&Os(s)?e[i]=YH(s,n):e[i]=s},{allOwnKeys:a}),e),yxe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wxe=(e,r,n,a)=>{e.prototype=Object.create(r.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},bxe=(e,r,n,a)=>{let s,i,o;const c={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!a||a(o,e,r))&&!c[o]&&(r[o]=e[o],c[o]=!0);e=n!==!1&&GO(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},_xe=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const a=e.indexOf(r,n);return a!==-1&&a===n},Sxe=e=>{if(!e)return null;if(zp(e))return e;let r=e.length;if(!QH(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},jxe=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&GO(Uint8Array)),kxe=(e,r)=>{const a=(e&&e[uS]).call(e);let s;for(;(s=a.next())&&!s.done;){const i=s.value;r.call(e,i[0],i[1])}},Nxe=(e,r)=>{let n;const a=[];for(;(n=e.exec(r))!==null;)a.push(n);return a},Exe=$o("HTMLFormElement"),Cxe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),LM=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),Txe=$o("RegExp"),tq=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Fx(n,(s,i)=>{let o;(o=r(s,i,e))!==!1&&(a[i]=o||s)}),Object.defineProperties(e,a)},Axe=e=>{tq(e,(r,n)=>{if(Os(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=e[n];if(Os(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Oxe=(e,r)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return zp(e)?a(e):a(String(e).split(r)),n},Pxe=()=>{},Dxe=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Rxe(e){return!!(e&&Os(e.append)&&e[XH]==="FormData"&&e[uS])}const Ixe=e=>{const r=new Array(10),n=(a,s)=>{if(Mx(a)){if(r.indexOf(a)>=0)return;if(Ix(a))return a;if(!("toJSON"in a)){r[s]=a;const i=zp(a)?[]:{};return Fx(a,(o,c)=>{const u=n(o,s+1);!Km(u)&&(i[c]=u)}),r[s]=void 0,i}}return a};return n(e,0)},Mxe=$o("AsyncFunction"),Fxe=e=>e&&(Mx(e)||Os(e))&&Os(e.then)&&Os(e.catch),rq=((e,r)=>e?setImmediate:r?((n,a)=>(Md.addEventListener("message",({source:s,data:i})=>{s===Md&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),Md.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Os(Md.postMessage)),Lxe=typeof queueMicrotask<"u"?queueMicrotask.bind(Md):typeof process<"u"&&process.nextTick||rq,$xe=e=>e!=null&&Os(e[uS]),Oe={isArray:zp,isArrayBuffer:JH,isBuffer:Ix,isFormData:dxe,isArrayBufferView:rxe,isString:nxe,isNumber:QH,isBoolean:axe,isObject:Mx,isPlainObject:U1,isEmptyObject:sxe,isReadableStream:hxe,isRequest:mxe,isResponse:pxe,isHeaders:gxe,isUndefined:Km,isDate:ixe,isFile:oxe,isBlob:lxe,isRegExp:Txe,isFunction:Os,isStream:uxe,isURLSearchParams:fxe,isTypedArray:jxe,isFileList:cxe,forEach:Fx,merge:jE,extend:xxe,trim:vxe,stripBOM:yxe,inherits:wxe,toFlatObject:bxe,kindOf:dS,kindOfTest:$o,endsWith:_xe,toArray:Sxe,forEachEntry:kxe,matchAll:Nxe,isHTMLForm:Exe,hasOwnProperty:LM,hasOwnProp:LM,reduceDescriptors:tq,freezeMethods:Axe,toObjectSet:Oxe,toCamelCase:Cxe,noop:Pxe,toFiniteNumber:Dxe,findKey:ZH,global:Md,isContextDefined:eq,isSpecCompliantForm:Rxe,toJSONObject:Ixe,isAsyncFn:Mxe,isThenable:Fxe,setImmediate:rq,asap:Lxe,isIterable:$xe};function Vt(e,r,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Oe.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const nq=Vt.prototype,aq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{aq[e]={value:e}});Object.defineProperties(Vt,aq);Object.defineProperty(nq,"isAxiosError",{value:!0});Vt.from=(e,r,n,a,s,i)=>{const o=Object.create(nq);Oe.toFlatObject(e,o,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return Vt.call(o,c,u,n,a,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Bxe=null;function kE(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function sq(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function $M(e,r,n){return e?e.concat(r).map(function(s,i){return s=sq(s),!n&&i?"["+s+"]":s}).join(n?".":""):r}function Uxe(e){return Oe.isArray(e)&&!e.some(kE)}const Vxe=Oe.toFlatObject(Oe,{},null,function(r){return/^is[A-Z]/.test(r)});function hS(e,r,n){if(!Oe.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=Oe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,x){return!Oe.isUndefined(x[g])});const a=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(r);if(!Oe.isFunction(s))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(Oe.isDate(v))return v.toISOString();if(Oe.isBoolean(v))return v.toString();if(!u&&Oe.isBlob(v))throw new Vt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(v)||Oe.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,g,x){let b=v;if(v&&!x&&typeof v=="object"){if(Oe.endsWith(g,"{}"))g=a?g:g.slice(0,-2),v=JSON.stringify(v);else if(Oe.isArray(v)&&Uxe(v)||(Oe.isFileList(v)||Oe.endsWith(g,"[]"))&&(b=Oe.toArray(v)))return g=sq(g),b.forEach(function(_,S){!(Oe.isUndefined(_)||_===null)&&r.append(o===!0?$M([g],S,i):o===null?g:g+"[]",d(_))}),!1}return kE(v)?!0:(r.append($M(x,g,i),d(v)),!1)}const h=[],m=Object.assign(Vxe,{defaultVisitor:f,convertValue:d,isVisitable:kE});function p(v,g){if(!Oe.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(v),Oe.forEach(v,function(b,w){(!(Oe.isUndefined(b)||b===null)&&s.call(r,b,Oe.isString(w)?w.trim():w,g,m))===!0&&p(b,g?g.concat(w):[w])}),h.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return p(e),r}function BM(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function YO(e,r){this._pairs=[],e&&hS(e,this,r)}const iq=YO.prototype;iq.append=function(r,n){this._pairs.push([r,n])};iq.toString=function(r){const n=r?function(a){return r.call(this,a,BM)}:BM;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function zxe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oq(e,r,n){if(!r)return e;const a=n&&n.encode||zxe;Oe.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(r,n):i=Oe.isURLSearchParams(r)?r.toString():new YO(r,n).toString(a),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class UM{constructor(){this.handlers=[]}use(r,n,a){return this.handlers.push({fulfilled:r,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Oe.forEach(this.handlers,function(a){a!==null&&r(a)})}}const lq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wxe=typeof URLSearchParams<"u"?URLSearchParams:YO,Hxe=typeof FormData<"u"?FormData:null,qxe=typeof Blob<"u"?Blob:null,Kxe={isBrowser:!0,classes:{URLSearchParams:Wxe,FormData:Hxe,Blob:qxe},protocols:["http","https","file","blob","url","data"]},XO=typeof window<"u"&&typeof document<"u",NE=typeof navigator=="object"&&navigator||void 0,Gxe=XO&&(!NE||["ReactNative","NativeScript","NS"].indexOf(NE.product)<0),Yxe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xxe=XO&&window.location.href||"http://localhost",Jxe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:XO,hasStandardBrowserEnv:Gxe,hasStandardBrowserWebWorkerEnv:Yxe,navigator:NE,origin:Xxe},Symbol.toStringTag,{value:"Module"})),Pa={...Jxe,...Kxe};function Qxe(e,r){return hS(e,new Pa.classes.URLSearchParams,{visitor:function(n,a,s,i){return Pa.isNode&&Oe.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function Zxe(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function eye(e){const r={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],r[i]=e[i];return r}function cq(e){function r(n,a,s,i){let o=n[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=i>=n.length;return o=!o&&Oe.isArray(s)?s.length:o,u?(Oe.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!c):((!s[o]||!Oe.isObject(s[o]))&&(s[o]=[]),r(n,a,s[o],i)&&Oe.isArray(s[o])&&(s[o]=eye(s[o])),!c)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const n={};return Oe.forEachEntry(e,(a,s)=>{r(Zxe(a),s,n,0)}),n}return null}function tye(e,r,n){if(Oe.isString(e))try{return(r||JSON.parse)(e),Oe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(0,JSON.stringify)(e)}const Lx={transitional:lq,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=Oe.isObject(r);if(i&&Oe.isHTMLForm(r)&&(r=new FormData(r)),Oe.isFormData(r))return s?JSON.stringify(cq(r)):r;if(Oe.isArrayBuffer(r)||Oe.isBuffer(r)||Oe.isStream(r)||Oe.isFile(r)||Oe.isBlob(r)||Oe.isReadableStream(r))return r;if(Oe.isArrayBufferView(r))return r.buffer;if(Oe.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Qxe(r,this.formSerializer).toString();if((c=Oe.isFileList(r))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return hS(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tye(r)):r}],transformResponse:[function(r){const n=this.transitional||Lx.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Oe.isResponse(r)||Oe.isReadableStream(r))return r;if(r&&Oe.isString(r)&&(a&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Vt.from(c,Vt.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pa.classes.FormData,Blob:Pa.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Lx.headers[e]={}});const rye=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nye=e=>{const r={};let n,a,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!n||r[n]&&rye[n])&&(n==="set-cookie"?r[n]?r[n].push(a):r[n]=[a]:r[n]=r[n]?r[n]+", "+a:a)}),r},VM=Symbol("internals");function b0(e){return e&&String(e).trim().toLowerCase()}function V1(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(V1):String(e)}function aye(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)r[a[1]]=a[2];return r}const sye=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fk(e,r,n,a,s){if(Oe.isFunction(a))return a.call(this,r,n);if(s&&(r=n),!!Oe.isString(r)){if(Oe.isString(a))return r.indexOf(a)!==-1;if(Oe.isRegExp(a))return a.test(r)}}function iye(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,a)=>n.toUpperCase()+a)}function oye(e,r){const n=Oe.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(s,i,o){return this[a].call(this,r,s,i,o)},configurable:!0})})}class Ps{constructor(r){r&&this.set(r)}set(r,n,a){const s=this;function i(c,u,d){const f=b0(u);if(!f)throw new Error("header name must be a non-empty string");const h=Oe.findKey(s,f);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||u]=V1(c))}const o=(c,u)=>Oe.forEach(c,(d,f)=>i(d,f,u));if(Oe.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(Oe.isString(r)&&(r=r.trim())&&!sye(r))o(nye(r),n);else if(Oe.isObject(r)&&Oe.isIterable(r)){let c={},u,d;for(const f of r){if(!Oe.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[d=f[0]]=(u=c[d])?Oe.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,n)}else r!=null&&i(n,r,a);return this}get(r,n){if(r=b0(r),r){const a=Oe.findKey(this,r);if(a){const s=this[a];if(!n)return s;if(n===!0)return aye(s);if(Oe.isFunction(n))return n.call(this,s,a);if(Oe.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=b0(r),r){const a=Oe.findKey(this,r);return!!(a&&this[a]!==void 0&&(!n||Fk(this,this[a],a,n)))}return!1}delete(r,n){const a=this;let s=!1;function i(o){if(o=b0(o),o){const c=Oe.findKey(a,o);c&&(!n||Fk(a,a[c],c,n))&&(delete a[c],s=!0)}}return Oe.isArray(r)?r.forEach(i):i(r),s}clear(r){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!r||Fk(this,this[i],i,r,!0))&&(delete this[i],s=!0)}return s}normalize(r){const n=this,a={};return Oe.forEach(this,(s,i)=>{const o=Oe.findKey(a,i);if(o){n[o]=V1(s),delete n[i];return}const c=r?iye(i):String(i).trim();c!==i&&delete n[i],n[c]=V1(s),a[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return Oe.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=r&&Oe.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const a=new this(r);return n.forEach(s=>a.set(s)),a}static accessor(r){const a=(this[VM]=this[VM]={accessors:{}}).accessors,s=this.prototype;function i(o){const c=b0(o);a[c]||(oye(s,o),a[c]=!0)}return Oe.isArray(r)?r.forEach(i):i(r),this}}Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Ps.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(a){this[n]=a}}});Oe.freezeMethods(Ps);function Lk(e,r){const n=this||Lx,a=r||n,s=Ps.from(a.headers);let i=a.data;return Oe.forEach(e,function(c){i=c.call(n,i,s.normalize(),r?r.status:void 0)}),s.normalize(),i}function uq(e){return!!(e&&e.__CANCEL__)}function Wp(e,r,n){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,r,n),this.name="CanceledError"}Oe.inherits(Wp,Vt,{__CANCEL__:!0});function dq(e,r,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?e(n):r(new Vt("Request failed with status code "+n.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lye(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function cye(e,r){e=e||10;const n=new Array(e),a=new Array(e);let s=0,i=0,o;return r=r!==void 0?r:1e3,function(u){const d=Date.now(),f=a[i];o||(o=d),n[s]=u,a[s]=d;let h=i,m=0;for(;h!==s;)m+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),d-o<r)return;const p=f&&d-f;return p?Math.round(m*1e3/p):void 0}}function uye(e,r){let n=0,a=1e3/r,s,i;const o=(d,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=a?o(d,f):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const Ww=(e,r,n=3)=>{let a=0;const s=cye(50,250);return uye(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,u=o-a,d=s(u),f=o<=c;a=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&f?(c-o)/d:void 0,event:i,lengthComputable:c!=null,[r?"download":"upload"]:!0};e(h)},n)},zM=(e,r)=>{const n=e!=null;return[a=>r[0]({lengthComputable:n,total:e,loaded:a}),r[1]]},WM=e=>(...r)=>Oe.asap(()=>e(...r)),dye=Pa.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,Pa.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(Pa.origin),Pa.navigator&&/(msie|trident)/i.test(Pa.navigator.userAgent)):()=>!0,fye=Pa.hasStandardBrowserEnv?{write(e,r,n,a,s,i,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(r)}`];Oe.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),Oe.isString(a)&&c.push(`path=${a}`),Oe.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),Oe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hye(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function mye(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function fq(e,r,n){let a=!hye(r);return e&&(a||n==!1)?mye(e,r):r}const HM=e=>e instanceof Ps?{...e}:e;function Sf(e,r){r=r||{};const n={};function a(d,f,h,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(f)?Oe.merge.call({caseless:m},d,f):Oe.isPlainObject(f)?Oe.merge({},f):Oe.isArray(f)?f.slice():f}function s(d,f,h,m){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d,h,m)}else return a(d,f,h,m)}function i(d,f){if(!Oe.isUndefined(f))return a(void 0,f)}function o(d,f){if(Oe.isUndefined(f)){if(!Oe.isUndefined(d))return a(void 0,d)}else return a(void 0,f)}function c(d,f,h){if(h in r)return a(d,f);if(h in e)return a(void 0,d)}const u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,f,h)=>s(HM(d),HM(f),h,!0)};return Oe.forEach(Object.keys({...e,...r}),function(f){const h=u[f]||s,m=h(e[f],r[f],f);Oe.isUndefined(m)&&h!==c||(n[f]=m)}),n}const hq=e=>{const r=Sf({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:c}=r;if(r.headers=o=Ps.from(o),r.url=oq(fq(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Oe.isFormData(n)){if(Pa.hasStandardBrowserEnv||Pa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{d.includes(f.toLowerCase())&&o.set(f,h)})}}if(Pa.hasStandardBrowserEnv&&(a&&Oe.isFunction(a)&&(a=a(r)),a||a!==!1&&dye(r.url))){const u=s&&i&&fye.read(i);u&&o.set(s,u)}return r},pye=typeof XMLHttpRequest<"u",gye=pye&&function(e){return new Promise(function(n,a){const s=hq(e);let i=s.data;const o=Ps.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=s,f,h,m,p,v;function g(){p&&p(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function b(){if(!x)return;const _=Ps.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:e,request:x};dq(function(k){n(k),g()},function(k){a(k),g()},j),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(a(new Vt("Request aborted",Vt.ECONNABORTED,e,x)),x=null)},x.onerror=function(S){const j=S&&S.message?S.message:"Network Error",N=new Vt(j,Vt.ERR_NETWORK,e,x);N.event=S||null,a(N),x=null},x.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||lq;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),a(new Vt(S,j.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&Oe.forEach(o.toJSON(),function(S,j){x.setRequestHeader(j,S)}),Oe.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),c&&c!=="json"&&(x.responseType=s.responseType),d&&([m,v]=Ww(d,!0),x.addEventListener("progress",m)),u&&x.upload&&([h,p]=Ww(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=_=>{x&&(a(!_||_.type?new Wp(null,e,x):_),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const w=lye(s.url);if(w&&Pa.protocols.indexOf(w)===-1){a(new Vt("Unsupported protocol "+w+":",Vt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},vye=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let a=new AbortController,s;const i=function(d){if(!s){s=!0,c();const f=d instanceof Error?d:this.reason;a.abort(f instanceof Vt?f:new Wp(f instanceof Error?f.message:f))}};let o=r&&setTimeout(()=>{o=null,i(new Vt(`timeout ${r} of ms exceeded`,Vt.ETIMEDOUT))},r);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:u}=a;return u.unsubscribe=()=>Oe.asap(c),u}},xye=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let a=0,s;for(;a<n;)s=a+r,yield e.slice(a,s),a=s},yye=async function*(e,r){for await(const n of wye(e))yield*xye(n,r)},wye=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:a}=await r.read();if(n)break;yield a}}finally{await r.cancel()}},qM=(e,r,n,a)=>{const s=yye(e,r);let i=0,o,c=u=>{o||(o=!0,a&&a(u))};return new ReadableStream({async pull(u){try{const{done:d,value:f}=await s.next();if(d){c(),u.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}u.enqueue(new Uint8Array(f))}catch(d){throw c(d),d}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},KM=64*1024,{isFunction:qy}=Oe,bye=(({Request:e,Response:r})=>({Request:e,Response:r}))(Oe.global),{ReadableStream:GM,TextEncoder:YM}=Oe.global,XM=(e,...r)=>{try{return!!e(...r)}catch{return!1}},_ye=e=>{e=Oe.merge.call({skipUndefined:!0},bye,e);const{fetch:r,Request:n,Response:a}=e,s=r?qy(r):typeof fetch=="function",i=qy(n),o=qy(a);if(!s)return!1;const c=s&&qy(GM),u=s&&(typeof YM=="function"?(v=>g=>v.encode(g))(new YM):async v=>new Uint8Array(await new n(v).arrayBuffer())),d=i&&c&&XM(()=>{let v=!1;const g=new n(Pa.origin,{body:new GM,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!g}),f=o&&c&&XM(()=>Oe.isReadableStream(new a("").body)),h={stream:f&&(v=>v.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(g,x)=>{let b=g&&g[v];if(b)return b.call(g);throw new Vt(`Response type '${v}' is not supported`,Vt.ERR_NOT_SUPPORT,x)})});const m=async v=>{if(v==null)return 0;if(Oe.isBlob(v))return v.size;if(Oe.isSpecCompliantForm(v))return(await new n(Pa.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(v)||Oe.isArrayBuffer(v))return v.byteLength;if(Oe.isURLSearchParams(v)&&(v=v+""),Oe.isString(v))return(await u(v)).byteLength},p=async(v,g)=>{const x=Oe.toFiniteNumber(v.getContentLength());return x??m(g)};return async v=>{let{url:g,method:x,data:b,signal:w,cancelToken:_,timeout:S,onDownloadProgress:j,onUploadProgress:N,responseType:k,headers:C,withCredentials:E="same-origin",fetchOptions:P}=hq(v),I=r||fetch;k=k?(k+"").toLowerCase():"text";let T=vye([w,_&&_.toAbortSignal()],S),U=null;const H=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let F;try{if(N&&d&&x!=="get"&&x!=="head"&&(F=await p(C,b))!==0){let te=new n(g,{method:"POST",body:b,duplex:"half"}),A;if(Oe.isFormData(b)&&(A=te.headers.get("content-type"))&&C.setContentType(A),te.body){const[X,V]=zM(F,Ww(WM(N)));b=qM(te.body,KM,X,V)}}Oe.isString(E)||(E=E?"include":"omit");const M=i&&"credentials"in n.prototype,z={...P,signal:T,method:x.toUpperCase(),headers:C.normalize().toJSON(),body:b,duplex:"half",credentials:M?E:void 0};U=i&&new n(g,z);let L=await(i?I(U,P):I(g,z));const R=f&&(k==="stream"||k==="response");if(f&&(j||R&&H)){const te={};["status","statusText","headers"].forEach(q=>{te[q]=L[q]});const A=Oe.toFiniteNumber(L.headers.get("content-length")),[X,V]=j&&zM(A,Ww(WM(j),!0))||[];L=new a(qM(L.body,KM,X,()=>{V&&V(),H&&H()}),te)}k=k||"text";let J=await h[Oe.findKey(h,k)||"text"](L,v);return!R&&H&&H(),await new Promise((te,A)=>{dq(te,A,{data:J,headers:Ps.from(L.headers),status:L.status,statusText:L.statusText,config:v,request:U})})}catch(M){throw H&&H(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,v,U),{cause:M.cause||M}):Vt.from(M,M&&M.code,v,U)}}},Sye=new Map,mq=e=>{let r=e&&e.env||{};const{fetch:n,Request:a,Response:s}=r,i=[a,s,n];let o=i.length,c=o,u,d,f=Sye;for(;c--;)u=i[c],d=f.get(u),d===void 0&&f.set(u,d=c?new Map:_ye(r)),f=d;return d};mq();const JO={http:Bxe,xhr:gye,fetch:{get:mq}};Oe.forEach(JO,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const JM=e=>`- ${e}`,jye=e=>Oe.isFunction(e)||e===null||e===!1;function kye(e,r){e=Oe.isArray(e)?e:[e];const{length:n}=e;let a,s;const i={};for(let o=0;o<n;o++){a=e[o];let c;if(s=a,!jye(a)&&(s=JO[(c=String(a)).toLowerCase()],s===void 0))throw new Vt(`Unknown adapter '${c}'`);if(s&&(Oe.isFunction(s)||(s=s.get(r))))break;i[c||"#"+o]=s}if(!s){const o=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(JM).join(`
`):" "+JM(o[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const pq={getAdapter:kye,adapters:JO};function $k(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wp(null,e)}function QM(e){return $k(e),e.headers=Ps.from(e.headers),e.data=Lk.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pq.getAdapter(e.adapter||Lx.adapter,e)(e).then(function(a){return $k(e),a.data=Lk.call(e,e.transformResponse,a),a.headers=Ps.from(a.headers),a},function(a){return uq(a)||($k(e),a&&a.response&&(a.response.data=Lk.call(e,e.transformResponse,a.response),a.response.headers=Ps.from(a.response.headers))),Promise.reject(a)})}const gq="1.13.2",mS={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{mS[e]=function(a){return typeof a===e||"a"+(r<1?"n ":" ")+e}});const ZM={};mS.transitional=function(r,n,a){function s(i,o){return"[Axios v"+gq+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,c)=>{if(r===!1)throw new Vt(s(o," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!ZM[o]&&(ZM[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(i,o,c):!0}};mS.spelling=function(r){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Nye(e,r,n){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],o=r[i];if(o){const c=e[i],u=c===void 0||o(c,i,e);if(u!==!0)throw new Vt("option "+i+" must be "+u,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const z1={assertOptions:Nye,validators:mS},zo=z1.validators;class tf{constructor(r){this.defaults=r||{},this.interceptors={request:new UM,response:new UM}}async request(r,n){try{return await this._request(r,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Sf(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&z1.assertOptions(a,{silentJSONParsing:zo.transitional(zo.boolean),forcedJSONParsing:zo.transitional(zo.boolean),clarifyTimeoutError:zo.transitional(zo.boolean)},!1),s!=null&&(Oe.isFunction(s)?n.paramsSerializer={serialize:s}:z1.assertOptions(s,{encode:zo.function,serialize:zo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),z1.assertOptions(n,{baseUrl:zo.spelling("baseURL"),withXsrfToken:zo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[n.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=Ps.concat(o,i);const c=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let f,h=0,m;if(!u){const v=[QM.bind(this),void 0];for(v.unshift(...c),v.push(...d),m=v.length,f=Promise.resolve(n);h<m;)f=f.then(v[h++],v[h++]);return f}m=c.length;let p=n;for(;h<m;){const v=c[h++],g=c[h++];try{p=v(p)}catch(x){g.call(this,x);break}}try{f=QM.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(r){r=Sf(this.defaults,r);const n=fq(r.baseURL,r.url,r.allowAbsoluteUrls);return oq(n,r.params,r.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(r){tf.prototype[r]=function(n,a){return this.request(Sf(a||{},{method:r,url:n,data:(a||{}).data}))}});Oe.forEach(["post","put","patch"],function(r){function n(a){return function(i,o,c){return this.request(Sf(c||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tf.prototype[r]=n(),tf.prototype[r+"Form"]=n(!0)});class QO{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(c=>{a.subscribe(c),i=c}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},r(function(i,o,c){a.reason||(a.reason=new Wp(i,o,c),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=a=>{r.abort(a)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new QO(function(s){r=s}),cancel:r}}}function Eye(e){return function(n){return e.apply(null,n)}}function Cye(e){return Oe.isObject(e)&&e.isAxiosError===!0}const EE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(EE).forEach(([e,r])=>{EE[r]=e});function vq(e){const r=new tf(e),n=YH(tf.prototype.request,r);return Oe.extend(n,tf.prototype,r,{allOwnKeys:!0}),Oe.extend(n,r,null,{allOwnKeys:!0}),n.create=function(s){return vq(Sf(e,s))},n}const Yr=vq(Lx);Yr.Axios=tf;Yr.CanceledError=Wp;Yr.CancelToken=QO;Yr.isCancel=uq;Yr.VERSION=gq;Yr.toFormData=hS;Yr.AxiosError=Vt;Yr.Cancel=Yr.CanceledError;Yr.all=function(r){return Promise.all(r)};Yr.spread=Eye;Yr.isAxiosError=Cye;Yr.mergeConfig=Sf;Yr.AxiosHeaders=Ps;Yr.formToJSON=e=>cq(Oe.isHTMLForm(e)?new FormData(e):e);Yr.getAdapter=pq.getAdapter;Yr.HttpStatusCode=EE;Yr.default=Yr;const _0="https://app.chatwoot.com",Wo="pMLFqLKix7PAnMnWJDorh2ne",Ho="144075",Ky={async getConversations(e="open",r=1){var n;try{const s=(await Yr.get(`${_0}/api/v1/accounts/${Ho}/conversations`,{headers:{api_access_token:Wo},params:{status:e,page:r}})).data;return(n=s==null?void 0:s.data)!=null&&n.payload?s.data.payload:s!=null&&s.payload?s.payload:[]}catch(a){return console.error("[Chatwoot] Failed to fetch conversations:",a),[]}},async getMessages(e){try{return(await Yr.get(`${_0}/api/v1/accounts/${Ho}/conversations/${e}/messages`,{headers:{api_access_token:Wo}})).data.payload||[]}catch(r){return console.error(`[Chatwoot] Failed to fetch messages for conversation ${e}:`,r),[]}},async sendMessage(e,r,n=!1){try{return(await Yr.post(`${_0}/api/v1/accounts/${Ho}/conversations/${e}/messages`,{content:r,message_type:n?"private":"outgoing",private:n},{headers:{api_access_token:Wo}})).data}catch(a){throw console.error(`[Chatwoot] Failed to send message to ${e}:`,a),a}},async toggleStatus(e,r){try{await Yr.post(`${_0}/api/v1/accounts/${Ho}/conversations/${e}/toggle_status`,{status:r},{headers:{api_access_token:Wo}})}catch(n){throw console.error(`[Chatwoot] Failed to toggle status for ${e}:`,n),n}},async getInboxes(){try{return(await Yr.get(`${_0}/api/v1/accounts/${Ho}/inboxes`,{headers:{api_access_token:Wo}})).data.payload||[]}catch(e){return console.error("[Chatwoot] Failed to fetch inboxes:",e),[]}}};function Tye(){const{t:e}=Kt();Sr(),Ol();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[p,v]=y.useState(""),[g,x]=y.useState("open"),b=y.useRef(null);y.useEffect(()=>{w(g);const C=setInterval(()=>{w(g,!0)},3e4);return()=>clearInterval(C)},[g]),y.useEffect(()=>{if(a){_(a.id);const C=setInterval(()=>_(a.id),1e4);return()=>clearInterval(C)}},[a]),y.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[i]);const w=async(C,E=!1)=>{E||u(!0);try{const P=await Ky.getConversations(C);n(P||[])}catch(P){console.error("Failed to load conversations:",P),E||console.error("User notification skipped for load error")}finally{E||u(!1)}},_=async C=>{i.length===0&&f(!0);try{const E=await Ky.getMessages(C);o(E)}catch(E){console.error("Failed to load messages",E)}finally{f(!1)}},S=async()=>{if(!(!p.trim()||!a)){m(!0);try{const C=await Ky.sendMessage(a.id,p);C&&(o(E=>[...E,C]),v(""))}catch(C){console.error("Failed to send message",C)}finally{m(!1)}}},j=async C=>{try{const E=g==="open"?"resolved":"open";await Ky.toggleStatus(C,E),g!=="all"?(n(P=>P.filter(I=>I.id!==C)),(a==null?void 0:a.id)===C&&(s(null),o([]))):(n(P=>P.map(I=>I.id===C?{...I,status:E}:I)),w(g))}catch(E){console.error("Failed to toggle status",E)}},N=C=>C!=null&&C.includes("email")?l.jsx(vh,{className:"h-4 w-4"}):C!=null&&C.includes("whatsapp")?l.jsx(tm,{className:"h-4 w-4"}):l.jsx(Mu,{className:"h-4 w-4"}),k=C=>new Date(C*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg shadow-sm",dir:Yt()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r flex flex-col bg-muted/10",children:[l.jsxs("div",{className:"p-4 border-b space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-semibold text-lg",children:e("navigation.chats")}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>w(g),disabled:c,children:l.jsx(tv,{className:`h-4 w-4 ${c?"animate-spin":""}`})})]}),l.jsx(kl,{defaultValue:"open",onValueChange:C=>x(C),className:"w-full",children:l.jsxs(Fo,{className:"grid w-full grid-cols-3",children:[l.jsx(en,{value:"open",children:e("status.open")}),l.jsx(en,{value:"resolved",children:e("status.closed")}),l.jsx(en,{value:"all",children:e("common.all")})]})}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(He,{placeholder:e("common.search"),className:"pl-8 bg-background"})]})]}),l.jsx(la,{className:"flex-1",children:r.length===0&&!c?l.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:e("common.noRecordsFound")}):l.jsx("div",{className:"divide-y",children:r.map(C=>l.jsxs("div",{className:`p-4 cursor-pointer hover:bg-accent/50 transition-colors ${(a==null?void 0:a.id)===C.id?"bg-accent/80 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,onClick:()=>s(C),children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Po,{src:C.meta.sender.thumbnail}),l.jsx(Is,{children:C.meta.sender.name.charAt(0)})]}),l.jsx("span",{className:"font-medium text-sm truncate max-w-[120px]",children:C.meta.sender.name})]}),l.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:k(C.timestamp)})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-1",children:[N(C.meta.channel),l.jsx("span",{className:"capitalize",children:C.meta.channel.split(".")[1]||"Web"}),C.status==="resolved"&&l.jsx(gt,{variant:"outline",className:"text-[10px] h-4 px-1 ml-auto",children:e("chats.resolved")})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate line-clamp-1",children:C.messages&&C.messages.length>0?C.messages[C.messages.length-1].content:e("common.noMessages")||"No messages"})]},C.id))})})]}),l.jsx("div",{className:"flex-1 flex flex-col min-w-0 bg-background",children:a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Rs,{children:[l.jsx(Po,{src:a.meta.sender.thumbnail}),l.jsx(Is,{children:a.meta.sender.name.charAt(0)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.meta.sender.name}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.meta.sender.email&&l.jsx("span",{children:a.meta.sender.email}),a.meta.sender.phone_number&&l.jsxs("span",{children:[" ",a.meta.sender.phone_number]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ue,{variant:a.status==="resolved"?"outline":"default",size:"sm",onClick:()=>j(a.id),children:a.status==="resolved"?l.jsxs(l.Fragment,{children:[l.jsx(tv,{className:"mr-2 h-4 w-4"})," ",e("status.reopen")]}):l.jsxs(l.Fragment,{children:[l.jsx(vI,{className:"mr-2 h-4 w-4"})," ",e("status.resolve")]})}),l.jsxs(cO,{children:[l.jsx(uO,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"icon",children:l.jsx(QU,{className:"h-4 w-4"})})}),l.jsxs(J_,{align:"end",children:[l.jsx(Yl,{children:e("chats.viewContactDetails")}),l.jsx(Yl,{className:"text-red-500",children:e("chats.deleteConversation")})]})]})]})]}),l.jsx("div",{ref:b,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-muted/5 scroll-smooth",children:d?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary"})}):i.map(C=>{const E=C.message_type==="outgoing"||C.sender&&C.sender.type==="user",P=C.private;return l.jsx("div",{className:`flex w-full ${E?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 shadow-sm ${P?"bg-yellow-50 border border-yellow-200":E?"bg-primary text-primary-foreground":"bg-white border text-foreground"}`,children:[P&&l.jsxs("div",{className:"text-[10px] uppercase font-bold text-yellow-600 mb-1 flex items-center gap-1",children:[l.jsx(hie,{className:"h-3 w-3"})," ",e("chats.note")]}),l.jsx("div",{className:"text-sm whitespace-pre-wrap",children:C.content}),l.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${E?"text-primary-foreground/70":"text-muted-foreground"}`,children:[k(C.created_at),E&&l.jsx(vI,{className:"h-3 w-3"})]})]})},C.id)})}),l.jsxs("div",{className:"p-4 border-t bg-background",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(He,{placeholder:e("chats.typeMessage"),value:p,onChange:C=>v(C.target.value),onKeyDown:C=>C.key==="Enter"&&!C.shiftKey&&S(),disabled:h||a.status==="resolved",className:"flex-1"}),l.jsx(ue,{onClick:S,disabled:h||!p.trim()||a.status==="resolved",children:h?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):l.jsx(mx,{className:"h-4 w-4"})})]}),a.status==="resolved"&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:e("chats.resolvedMessage")})]})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[l.jsx("div",{className:"h-16 w-16 bg-muted rounded-full flex items-center justify-center mb-4",children:l.jsx(Mu,{className:"h-8 w-8 text-muted-foreground/50"})}),l.jsx("h3",{className:"text-lg font-semibold mb-1",children:e("chats.selectConversation")}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:e("chats.connectDescription")})]})})]})}function Aye(){const{user:e}=Sr(),{t:r}=Kt(),[n,a]=y.useState([]),[s,i]=y.useState(null),[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(""),[m,p]=y.useState(!0),[v,g]=y.useState(!1),[x,b]=y.useState(null),[w,_]=y.useState(null),[S,j]=y.useState(!1),[N,k]=y.useState(!0),C=y.useRef(!1),E=y.useRef(null),P=y.useRef(null);y.useEffect(()=>{e&&!C.current&&I()},[e]),y.useEffect(()=>{s&&(P.current!==s.room_id&&U(),E.current!==s.room_id&&T())},[s]),y.useEffect(()=>{s&&(async()=>{try{await Qt.realtime.setAuth(await Uw.getFreshJwt());const z=`room:${s.room_id}:messages`,L=Qt.channel(z,{config:{broadcast:{self:!0,ack:!0},private:!0}});return L.on("broadcast",{event:"*"},R=>{var te;const J=(te=R.payload)==null?void 0:te.record;J&&J.message_id&&c(A=>A.some(V=>V.message_id===J.message_id)?A:[...A.filter(V=>!(V.message_id.startsWith("temp-")&&V.userid===J.userid&&V.content===J.content)),J])}),await L.subscribe(),()=>{L.unsubscribe()}}catch(z){console.error("Failed to setup realtime:",z)}})()},[s]),y.useEffect(()=>{g(!1),b(null),_(null),C.current=!1,E.current=null,P.current=null},[e]);const I=async()=>{if(!C.current)try{p(!0);const M=await Xo.getUserRooms((e==null?void 0:e.id)||"");a(M),M.length>0&&i(M[0]),g(!0),C.current=!0}catch(M){console.error("Failed to load rooms:",M)}finally{p(!1)}},T=async()=>{if(!(!s||E.current===s.room_id))try{const M=await jd.getByRoom(s.room_id);c(M),b(s.room_id),E.current=s.room_id}catch(M){console.error("Failed to load messages:",M)}},U=async()=>{if(!(!s||P.current===s.room_id))try{const M=await Xo.getRoomMembers(s.room_id);d(M),_(s.room_id),P.current=s.room_id}catch(M){console.error("Failed to load room members:",M)}},H=async()=>{if(!f.trim()||!s||!e)return;const M=f.trim(),z={message_id:`temp-${Date.now()}`,room_id:s.room_id,userid:e.id.toString(),content:M,created_at:new Date().toISOString(),metadata:null};c(L=>[...L,z]),h("");try{await jd.create({room_id:s.room_id,userid:e.id.toString(),content:M,metadata:null})}catch(L){console.error("Failed to send message:",L),c(R=>R.filter(J=>J.message_id!==z.message_id)),h(M)}},F=M=>new Date(M).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return m?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-120px)] gap-4 sm:gap-6 pb-6",children:[l.jsxs("div",{className:`flex-col border rounded-lg ${N?"flex w-80":"hidden"} lg:flex lg:w-80`,children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h2",{className:"text-xl font-semibold",children:r("chats.myChatRooms")})})}),l.jsx(la,{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-2",children:n.map(M=>l.jsx(ot,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>i(M),children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ty,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},M.room_id))})})]}),s&&l.jsx("div",{className:"md:hidden mb-4",children:l.jsxs(Sl,{open:S,onOpenChange:j,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(ue,{variant:"outline",className:"w-full justify-between",children:[l.jsx("span",{className:"truncate",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsx(Ty,{className:"h-4 w-4 ml-2"})]})}),l.jsx(Io,{side:"left",className:"w-80 p-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-bold",children:r("chats.myChatRooms")}),l.jsx(la,{className:"h-[60vh]",children:l.jsx("div",{className:"space-y-2",children:n.map(M=>l.jsx(ot,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.room_id)===M.room_id?"bg-primary/10 border-primary":""}`,onClick:()=>{i(M),j(!1)},children:l.jsx(xt,{className:"p-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ty,{className:"h-5 w-5 text-muted-foreground"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium truncate",children:M.room_name||`Room ${M.room_id.slice(0,8)}`}),l.jsx("p",{className:"text-xs text-muted-foreground",children:M.is_private?r("chats.private"):r("chats.publicRoom")})]})]})})},M.room_id))})})]})})]})}),l.jsx("div",{className:"flex-1 flex flex-col",children:s?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:s.room_name||`Room ${s.room_id.slice(0,8)}`}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Ra,{className:"h-4 w-4"}),l.jsxs("span",{children:[u.length," ",r("chats.members")]}),s.is_private&&l.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:r("chats.private")})]})]}),l.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-all",onClick:()=>k(!N),children:l.jsx(Iie,{className:"h-4 w-4"})})]}),l.jsx(la,{className:"flex-1 mb-4",children:l.jsx("div",{className:"space-y-4 p-4",children:w===s.room_id&&o.map(M=>{var L,R,J,te,A;let z;return M.userid===((L=e==null?void 0:e.id)==null?void 0:L.toString())?z={userid:e.id.toString(),user_name:((R=e.profile)==null?void 0:R.user_name)||e.email||r("chats.you"),avatar:(J=e.profile)==null?void 0:J.avatar,user_id:((te=e.profile)==null?void 0:te.user_id)||0,user_email:e.email}:z=u.find(X=>X.userid===M.userid),z||(z={userid:M.userid,user_name:r("chats.unknownUser"),avatar:"",user_id:0}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(Rs,{className:"h-8 w-8",children:[l.jsx(Po,{src:z.avatar||""}),l.jsx(Is,{children:((A=z.user_name)==null?void 0:A.charAt(0))||"?"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium text-sm",children:z.user_name}),l.jsx("span",{className:"text-xs text-muted-foreground",children:F(M.created_at)})]}),l.jsx("p",{className:"text-sm",children:M.content})]})]},M.message_id)})})}),l.jsxs("div",{className:"flex gap-2 p-4 border-t",children:[l.jsx(He,{value:f,onChange:M=>h(M.target.value),placeholder:r("chats.typeMessage"),onKeyPress:M=>M.key==="Enter"&&H(),className:"flex-1"}),l.jsx(ue,{onClick:H,disabled:!f.trim(),children:l.jsx(mx,{className:"h-4 w-4"})})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center text-muted-foreground",children:[l.jsx(Ty,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:r("chats.selectRoom")})]})})})]})}function Oye(){const{isRTL:e}=ms();yn();const[r,n]=y.useState(null),[a,s]=y.useState([]),[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),{user:h,signOut:m}=Sr();y.useEffect(()=>{(async()=>{if(h!=null&&h.id)try{f(!0);const g=await qc.getByUserAuthId(h.id);s(g)}catch(g){console.error("Failed to fetch user projects:",g)}finally{f(!1)}})()},[h==null?void 0:h.id]),y.useEffect(()=>{(async()=>{if(r)try{const[g,x]=await Promise.all([Zl.getAll(),_E.getByTask(0)]),b=g.filter(w=>!0);o(b),u(x)}catch(g){console.error("Failed to fetch project data:",g)}})()},[r]);const p=r?a.find(v=>v.project_id===r):null;return l.jsxs("div",{className:"space-y-6",dir:e?"rtl":"ltr",children:[l.jsx("header",{className:"border-b bg-card",children:l.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:""}),l.jsx("h1",{className:"text-xl font-bold",children:"Client Portal"})]}),l.jsxs(ue,{variant:"ghost",size:"sm",children:[l.jsx(Oie,{className:"h-4 w-4 mr-2"}),"Logout"]})]})}),l.jsxs("div",{className:"container mx-auto px-6 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold",children:["Hello, ",Ae((h==null?void 0:h.profile)||{},"user_name"),"! "]}),l.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:"Here's your project progress"})]}),p?l.jsxs("div",{children:[l.jsx(ue,{variant:"ghost",className:"mb-4",onClick:()=>n(null),children:" Back to Projects"}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:p.project_name})}),l.jsxs(xt,{children:[l.jsx("p",{className:"text-muted-foreground",children:p.project_description||"No description available"}),l.jsxs("div",{className:"mt-4",children:[l.jsx(_f,{value:p.progress||0,className:"h-3"}),l.jsxs("div",{className:"text-right mt-2 text-sm font-semibold",children:[p.progress||0,"% Complete"]})]})]})]}),l.jsxs(kl,{defaultValue:"tasks",children:[l.jsxs(Fo,{children:[l.jsx(en,{value:"tasks",children:"Tasks"}),l.jsx(en,{value:"images",children:"Gallery"}),l.jsx(en,{value:"comments",children:"Comments"})]}),l.jsx(An,{value:"tasks",className:"space-y-3",children:i.filter(v=>v.stage_id!==null).map(v=>{var g;return l.jsx(ot,{children:l.jsx(xt,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:v.task_name}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.description||"No description"})]}),l.jsxs(gt,{variant:v.task_status==="completed"?"default":"secondary",children:[v.task_status==="completed"?"":""," ",((g=v.task_status)==null?void 0:g.replace("_"," "))||"pending"]})]})})},v.task_id)})}),l.jsx(An,{value:"images",children:l.jsx(ot,{children:l.jsx(xt,{className:"pt-6",children:l.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(v=>l.jsx("div",{className:"aspect-square bg-muted rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-4xl",children:""})},v))})})})}),l.jsx(An,{value:"comments",children:l.jsx(ot,{children:l.jsxs(xt,{className:"pt-6 space-y-4",children:[c.map(v=>l.jsxs("div",{className:"flex gap-3 pb-4 border-b last:border-0",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:"Team Member"}),l.jsx("p",{className:"text-sm mt-1",children:v.message||"No message"}),l.jsx("span",{className:"text-xs text-muted-foreground mt-2 block",children:v.created_date?new Date(v.created_date).toLocaleString():"Unknown date"})]})]},v.comment_id)),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx(He,{placeholder:"Add a comment..."}),l.jsx(ue,{children:l.jsx(Mu,{className:"h-4 w-4"})})]})]})})})]})]}),l.jsx("div",{children:l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{className:"text-lg",children:"Timeline"})}),l.jsxs(xt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"Created Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:p.created_date?new Date(p.created_date).toLocaleDateString():"N/A"})]}),p.end_date&&l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:"End Date"}),l.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(p.end_date).toLocaleDateString()})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium mb-2",children:"Milestones"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Project Kickoff"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-500",children:""}),l.jsx("span",{children:"Design Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-blue-500",children:""}),l.jsx("span",{children:"Development Phase"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted-foreground",children:""}),l.jsx("span",{children:"Testing & Launch"})]})]})]})]})]})})]})]}):d?l.jsx(zi,{size:"xl"}):a.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Projects Found"}),l.jsx("p",{className:"text-muted-foreground",children:"You don't have any projects assigned yet."})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(v=>l.jsxs(ot,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>n(v.project_id),children:[l.jsxs(Xt,{children:[l.jsx(br,{className:"text-lg",children:v.project_name}),l.jsxs(gt,{className:"w-fit mt-2",variant:"secondary",children:["Stage ",v.stage||"N/A"]})]}),l.jsx(xt,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progress"}),l.jsxs("span",{className:"font-semibold",children:[v.progress||0,"%"]})]}),l.jsx(_f,{value:v.progress||0,className:"h-2"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Created: ",v.created_date?new Date(v.created_date).toLocaleDateString():"N/A"]}),l.jsx(ue,{className:"w-full",variant:"outline",children:"View Details "})]})})]},v.project_id))})]})]})}const Pye=()=>{const e=zs(),{t:r}=Kt(),{toast:n}=Ol(),{companyName:a}=v9();y.useEffect(()=>{(function(i,o){var c="https://app.chatwoot.com",u=i.createElement(o),d=i.getElementsByTagName(o)[0];u.src=c+"/packs/js/sdk.js",u.async=!0,d.parentNode.insertBefore(u,d),u.onload=function(){window.chatwootSDK.run({websiteToken:"D1EYnSkXCLjxUF5gyk1q3PHG",baseUrl:c})}})(document,"script")},[]);const s=[{icon:l.jsx(ef,{className:"h-6 w-6"}),title:r("landing.features.projectManagement.title"),description:r("landing.features.projectManagement.description")},{icon:l.jsx(Ra,{className:"h-6 w-6"}),title:r("landing.features.leadManagement.title"),description:r("landing.features.leadManagement.description")},{icon:l.jsx(yie,{className:"h-6 w-6"}),title:r("landing.features.analytics.title"),description:r("landing.features.analytics.description")},{icon:l.jsx(Mu,{className:"h-6 w-6"}),title:r("landing.features.communication.title"),description:r("landing.features.communication.description")},{icon:l.jsx(ug,{className:"h-6 w-6"}),title:r("landing.features.taskManagement.title"),description:r("landing.features.taskManagement.description")},{icon:l.jsx(Sw,{className:"h-6 w-6"}),title:r("landing.features.security.title"),description:r("landing.features.security.description")}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[l.jsx("header",{className:"relative z-10 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between py-4 sm:py-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:a})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(fV,{}),l.jsx(ue,{onClick:()=>e("/login"),className:"shadow-lg hover:shadow-xl transition-all duration-200",children:r("buttons.login")})]})]})}),l.jsxs("section",{className:"relative px-4 sm:px-6 lg:px-8 pb-12 sm:pb-16 lg:pb-20",children:[l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"text-center",children:[l.jsxs(gt,{variant:"secondary",className:"mb-4 px-3 py-1 text-sm font-medium",children:[l.jsx(t9,{className:"h-3 w-3 mr-1"}),r("landing.badge")]}),l.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:[r("landing.hero.title.line1"),l.jsx("span",{className:"text-primary block",children:r("landing.hero.title.line2")})]}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:r("landing.hero.description")}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[l.jsxs(ue,{size:"lg",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group",children:[r("landing.hero.cta.primary"),l.jsx(pie,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(ue,{variant:"outline",size:"lg",className:"px-8 py-3 text-lg",children:r("landing.hero.cta.secondary")})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.users")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.usersLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.projects")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.projectsLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.uptime")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.uptimeLabel")})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-primary",children:r("landing.stats.support")}),l.jsx("div",{className:"text-sm text-gray-600",children:r("landing.stats.supportLabel")})]})]})]})}),l.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-400/10 rounded-full blur-3xl"})]})]}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:r("landing.features.title")}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:r("landing.features.subtitle")})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:s.map((i,o)=>l.jsx(ot,{className:"group hover:shadow-lg transition-all duration-200 border-0 shadow-md bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:i.icon}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i.title})]}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})},o))})]})}),l.jsx("section",{className:"px-4 sm:px-6 lg:px-8 py-12 sm:py-16 lg:py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch",children:[l.jsx(ot,{className:"bg-gradient-to-r from-primary to-blue-600 text-white border-0 shadow-2xl flex flex-col justify-center",children:l.jsxs(xt,{className:"p-8 sm:p-12 text-center",children:[l.jsx(r9,{className:"h-12 w-12 mx-auto mb-6 text-primary-foreground/80"}),l.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-4",children:r("landing.cta.title")}),l.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90 max-w-2xl mx-auto",children:r("landing.cta.description")}),l.jsxs(ue,{size:"lg",variant:"secondary",onClick:()=>e("/login"),className:"px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all duration-200 group w-full sm:w-auto",children:[r("landing.cta.button"),l.jsx(jw,{className:"ml-2 h-5 w-5 group-hover:scale-110 transition-transform"})]})]})}),l.jsx(ot,{className:"border-0 shadow-2xl bg-white/80 backdrop-blur-sm",children:l.jsxs(xt,{className:"p-8 sm:p-12",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r("landing.partner.title")}),l.jsx("p",{className:"text-gray-600",children:r("landing.partner.subtitle")})]}),l.jsxs("form",{className:"space-y-4",onSubmit:async i=>{i.preventDefault();const o=i.target,c=new FormData(o);try{await B1.createApplication({company_name:c.get("company_name"),full_name:c.get("full_name"),email:c.get("email"),phone:c.get("phone")}),n({title:r("landing.partner.success"),description:r("landing.partner.successMessage")}),o.reset()}catch{n({title:"Error",description:"Failed to submit application. Please try again.",variant:"destructive"})}},children:[l.jsx("div",{className:"space-y-2",children:l.jsx(He,{name:"company_name",placeholder:r("landing.partner.companyName"),required:!0,className:"bg-white"})}),l.jsx("div",{className:"space-y-2",children:l.jsx(He,{name:"full_name",placeholder:r("landing.partner.fullName"),required:!0,className:"bg-white"})}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(He,{name:"email",type:"email",placeholder:r("landing.partner.email"),required:!0,className:"bg-white"}),l.jsx(He,{name:"phone",type:"tel",placeholder:r("landing.partner.phone"),required:!0,className:"bg-white"})]}),l.jsx(ue,{type:"submit",className:"w-full text-lg h-12",children:r("landing.partner.submit")})]})]})})]})})}),l.jsx("footer",{className:"px-4 sm:px-6 lg:px-8 py-8 border-t border-gray-200 bg-white/50 backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[l.jsx("div",{className:"h-6 w-6 rounded bg-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:(a==null?void 0:a.charAt(0))||"M"})}),l.jsxs("span",{className:"font-semibold text-gray-900",children:[a," CRM"]})]}),l.jsx("p",{className:"text-sm text-gray-600",children:r("landing.footer.copyright",{brand:r("landing.brandName")})})]})})]})},Dye=()=>{const[e,r]=y.useState("loading"),[n,a]=y.useState("Processing authentication..."),s=zs(),{user:i}=Sr();return y.useEffect(()=>{let o;return(async()=>{try{if(console.log("[AuthCallback] Handling OAuth callback"),i){console.log("[AuthCallback] User already authenticated by auth context:",i.role),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{i.role==="client"?s("/client-portal"):i.role==="employee"||i.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}console.log("[AuthCallback] Waiting for OAuth session to establish...");let u=0;const d=20,f=async()=>{u++,console.log(`[AuthCallback] Checking session and profile (attempt ${u}/${d})`);try{const{data:{user:h},error:m}=await Qt.auth.getUser();if(m&&console.error("[AuthCallback] User error:",m),h){console.log("[AuthCallback] Found authenticated user:",h.id);const{data:g}=await Qt.from("Users").select("userid").eq("userid",h.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await Uw.getCurrentUser(h.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}const{data:{session:p},error:v}=await Qt.auth.getSession();if(v&&console.error("[AuthCallback] Session error:",v),p!=null&&p.user){console.log("[AuthCallback] Found session user:",p.user.id);const{data:g}=await Qt.from("Users").select("userid").eq("userid",p.user.id).maybeSingle();if(g){console.log("[AuthCallback] User profile exists, fetching user data...");const x=await Uw.getCurrentUser(p.user.id);if(x){localStorage.removeItem("oauth_intended_role"),r("success"),a("Authentication successful! Redirecting..."),setTimeout(()=>{x.role==="client"?s("/client-portal"):x.role==="employee"||x.role==="team_leader"?window.location.href="/#/employee_dashboard":window.location.href="/#/dashboard"},1500);return}}else console.log("[AuthCallback] Profile not yet created by trigger, waiting...")}u<d?(console.log("[AuthCallback] No session or profile found, waiting and retrying..."),o=setTimeout(f,1e3)):(console.error("[AuthCallback] No session or profile found after maximum attempts"),r("error"),a("Authentication session not established. Please try signing in again."),setTimeout(()=>s("/login"),3e3))}catch(h){console.error("[AuthCallback] Error checking session and profile:",h),u<d?o=setTimeout(f,1e3):(r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3))}};f()}catch(u){console.error("[AuthCallback] Error handling callback:",u),r("error"),a("Authentication failed. Please try again."),setTimeout(()=>s("/login"),3e3)}})(),()=>{o&&clearTimeout(o)}},[i,s]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-md",children:[e==="loading"&&l.jsxs(l.Fragment,{children:[l.jsx(zi,{size:"xl",message:n}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Completing Sign In"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="success"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-green-600",children:"Success!"}),l.jsx("p",{className:"text-gray-600",children:n})]}),e==="error"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"Authentication Failed"}),l.jsx("p",{className:"text-gray-600",children:n})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xq=1252,Rye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ZO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},eP=function(e){Rye.indexOf(e)!=-1&&(xq=ZO[0]=e)};function Iye(){eP(1252)}var bo=function(e){eP(e)};function yq(){bo(1200),Iye()}function eF(e){for(var r=[],n=0,a=e.length;n<a;++n)r[n]=e.charCodeAt(n);return r}function Mye(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return r.join("")}function wq(e){for(var r=[],n=0;n<e.length>>1;++n)r[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return r.join("")}var H0=function(e){var r=e.charCodeAt(0),n=e.charCodeAt(1);return r==255&&n==254?Mye(e.slice(2)):r==254&&n==255?wq(e.slice(2)):r==65279?e.slice(1):e},Gy=function(r){return String.fromCharCode(r)},tF=function(r){return String.fromCharCode(r)},Zc,pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rF(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0,d=0;d<e.length;)n=e.charCodeAt(d++),i=n>>2,a=e.charCodeAt(d++),o=(n&3)<<4|a>>4,s=e.charCodeAt(d++),c=(a&15)<<2|s>>6,u=s&63,isNaN(a)?c=u=64:isNaN(s)&&(u=64),r+=pu.charAt(i)+pu.charAt(o)+pu.charAt(c)+pu.charAt(u);return r}function hi(e){var r="",n=0,a=0,s=0,i=0,o=0,c=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=pu.indexOf(e.charAt(d++)),o=pu.indexOf(e.charAt(d++)),n=i<<2|o>>4,r+=String.fromCharCode(n),c=pu.indexOf(e.charAt(d++)),a=(o&15)<<4|c>>2,c!==64&&(r+=String.fromCharCode(a)),u=pu.indexOf(e.charAt(d++)),s=(c&3)<<6|u,u!==64&&(r+=String.fromCharCode(s));return r}var tr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Uf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,n){return n?new Buffer(r,n):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Uu(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nF(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var vo=function(r){return tr?Uf(r,"binary"):r.split("").map(function(n){return n.charCodeAt(0)&255})};function Vf(e){if(Array.isArray(e))return e.map(function(a){return String.fromCharCode(a)}).join("");for(var r=[],n=0;n<e.length;++n)r[n]=String.fromCharCode(e[n]);return r.join("")}function tP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return tP(new Uint8Array(e));for(var r=new Array(e.length),n=0;n<e.length;++n)r[n]=e[n];return r}var eu=tr?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:Uf(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,n=0;for(r=0;r<e.length;++r)n+=e[r].length;var a=new Uint8Array(n),s=0;for(r=0,n=0;r<e.length;n+=s,++r)if(s=e[r].length,e[r]instanceof Uint8Array)a.set(e[r],n);else{if(typeof e[r]=="string")throw"wtf";a.set(new Uint8Array(e[r]),n)}return a}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Fye(e){for(var r=[],n=0,a=e.length+250,s=Uu(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=e.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>a&&(r.push(s.slice(0,n)),n=0,s=Uu(65535),a=65530)}return r.push(s.slice(0,n)),eu(r)}var us=/\u0000/g,q0=/[\u0001-\u0006]/g;function cm(e){for(var r="",n=e.length-1;n>=0;)r+=e.charAt(n--);return r}function _o(e,r){var n=""+e;return n.length>=r?n:on("0",r-n.length)+n}function rP(e,r){var n=""+e;return n.length>=r?n:on(" ",r-n.length)+n}function Hw(e,r){var n=""+e;return n.length>=r?n:n+on(" ",r-n.length)}function Lye(e,r){var n=""+Math.round(e);return n.length>=r?n:on("0",r-n.length)+n}function $ye(e,r){var n=""+e;return n.length>=r?n:on("0",r-n.length)+n}var aF=Math.pow(2,32);function dh(e,r){if(e>aF||e<-aF)return Lye(e,r);var n=Math.round(e);return $ye(n,r)}function qw(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var sF=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Bye(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ut={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iF={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Uye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Kw(e,r,n){for(var a=e<0?-1:1,s=e*a,i=0,o=1,c=0,u=1,d=0,f=0,h=Math.floor(s);d<r&&(h=Math.floor(s),c=h*o+i,f=h*d+u,!(s-h<5e-8));)s=1/(s-h),i=o,o=c,u=d,d=f;if(f>r&&(d>r?(f=u,c=i):(f=d,c=o)),!n)return[0,a*c,f];var m=Math.floor(a*c/f);return[m,a*c-m*f,f]}function Fd(e,r,n){if(e>2958465||e<0)return null;var a=e|0,s=Math.floor(86400*(e-a)),i=0,o=[],c={D:a,T:s,u:86400*(e-a)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),r&&r.date1904&&(a+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++a,++c.D)),a===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(a===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{a>60&&--a;var u=new Date(1900,0,1);u.setDate(u.getDate()+a-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],i=u.getDay(),a<60&&(i=(i+6)%7),n&&(i=Kye(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var bq=new Date(1899,11,31,0,0,0),Vye=bq.getTime(),zye=new Date(1900,2,1,0,0,0);function _q(e,r){var n=e.getTime();return r?n-=1461*24*60*60*1e3:e>=zye&&(n+=24*60*60*1e3),(n-(Vye+(e.getTimezoneOffset()-bq.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function nP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Wye(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Hye(e){var r=e<0?12:11,n=nP(e.toFixed(12));return n.length<=r||(n=e.toPrecision(10),n.length<=r)?n:e.toExponential(5)}function qye(e){var r=nP(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function dv(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return r>=-4&&r<=-1?n=e.toPrecision(10+r):Math.abs(r)<=9?n=Hye(e):r===10?n=e.toFixed(10).substr(0,12):n=qye(e),nP(Wye(n.toUpperCase()))}function jf(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):dv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Wi(14,_q(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function Kye(e,r){r[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function Gye(e,r,n,a){var s="",i=0,o=0,c=n.y,u,d=0;switch(e){case 98:c=n.y+543;case 121:switch(r.length){case 1:case 2:u=c%100,d=2;break;default:u=c%1e4,d=4;break}break;case 109:switch(r.length){case 1:case 2:u=n.m,d=r.length;break;case 3:return Bk[n.m-1][1];case 5:return Bk[n.m-1][0];default:return Bk[n.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=n.d,d=r.length;break;case 3:return sF[n.q][0];default:return sF[n.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(n.H+11)%12,d=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=n.H,d=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=n.M,d=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return n.u===0&&(r=="s"||r=="ss")?_o(n.S,r.length):(a>=2?o=a===3?1e3:100:o=a===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),r==="s"?i===0?"0":""+i/o:(s=_o(i,2+a),r==="ss"?s.substr(0,2):"."+s.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+r}d=r.length===3?1:2;break;case 101:u=c,d=1;break}var f=d>0?_o(u,d):"";return f}function gu(e){var r=3;if(e.length<=r)return e;for(var n=e.length%r,a=e.substr(0,n);n!=e.length;n+=r)a+=(a.length>0?",":"")+e.substr(n,r);return a}var Sq=/%/g;function Yye(e,r,n){var a=r.replace(Sq,""),s=r.length-a.length;return sc(e,a,n*Math.pow(10,2*s))+on("%",s)}function Xye(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return sc(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function jq(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+jq(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(r)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var kq=/# (\?+)( ?)\/( ?)(\d+)/;function Jye(e,r,n){var a=parseInt(e[4],10),s=Math.round(r*a),i=Math.floor(s/a),o=s-i*a,c=a;return n+(i===0?"":""+i)+" "+(o===0?on(" ",e[1].length+1+e[4].length):rP(o,e[1].length)+e[2]+"/"+e[3]+_o(c,e[4].length))}function Qye(e,r,n){return n+(r===0?"":""+r)+on(" ",e[1].length+2+e[4].length)}var Nq=/^#*0*\.([0#]+)/,Eq=/\).*[0#]/,Cq=/\(###\) ###\\?-####/;function Qa(e){for(var r="",n,a=0;a!=e.length;++a)switch(n=e.charCodeAt(a)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(n)}return r}function oF(e,r){var n=Math.pow(10,r);return""+Math.round(e*n)/n}function lF(e,r){var n=e-Math.floor(e),a=Math.pow(10,r);return r<(""+Math.round(n*a)).length?0:Math.round(n*a)}function Zye(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function e1e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ki(e,r,n){if(e.charCodeAt(0)===40&&!r.match(Eq)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ki("n",a,n):"("+ki("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return Xye(e,r,n);if(r.indexOf("%")!==-1)return Yye(e,r,n);if(r.indexOf("E")!==-1)return jq(r,n);if(r.charCodeAt(0)===36)return"$"+ki(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+dh(u,r.length);if(r.match(/^[#?]+$/))return s=dh(n,0),s==="0"&&(s=""),s.length>r.length?s:Qa(r.substr(0,r.length-s.length))+s;if(i=r.match(kq))return Jye(i,u,d);if(r.match(/^#+0+$/))return d+dh(u,r.length-r.indexOf("0"));if(i=r.match(Nq))return s=oF(n,i[1].length).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+on("0",Qa(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+oF(u,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+gu(dh(u,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ki(e,r,-n):gu(""+(Math.floor(n)+Zye(n,i[1].length)))+"."+_o(lF(n,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return ki(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=cm(ki(e,r.replace(/[\\-]/g,""),n)),o=0,cm(cm(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<s.length?s.charAt(o++):v==="0"?"0":""}));if(r.match(Cq))return s=ki(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Kw(u,Math.pow(10,o)-1,!1),s=""+d,f=sc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Hw(c[2],o),f.length<i[4].length&&(f=Qa(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Kw(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rP(c[1],o)+i[2]+"/"+i[3]+Hw(c[2],o):on(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=dh(n,0),r.length<=s.length?s:Qa(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return Qa(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return o=lF(n,i[1].length),n<0?"-"+ki(e,r,-n):gu(e1e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?_o(0,3-v.length):"")+v})+"."+_o(o,i[1].length);switch(r){case"###,##0.00":return ki(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=gu(dh(u,0));return p!=="0"?d+p:"";case"###,###.00":return ki(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return ki(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function t1e(e,r,n){for(var a=r.length-1;r.charCodeAt(a-1)===44;)--a;return sc(e,r.substr(0,a),n/Math.pow(10,3*(r.length-a)))}function r1e(e,r,n){var a=r.replace(Sq,""),s=r.length-a.length;return sc(e,a,n*Math.pow(10,2*s))+on("%",s)}function Tq(e,r){var n,a=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+Tq(e,-r);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(r/Math.pow(10,i)).toPrecision(a+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(r)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(s+i)%s)+"."+f.substr(i)+"E"})}else n=r.toExponential(a);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Go(e,r,n){if(e.charCodeAt(0)===40&&!r.match(Eq)){var a=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Go("n",a,n):"("+Go("n",a,-n)+")"}if(r.charCodeAt(r.length-1)===44)return t1e(e,r,n);if(r.indexOf("%")!==-1)return r1e(e,r,n);if(r.indexOf("E")!==-1)return Tq(r,n);if(r.charCodeAt(0)===36)return"$"+Go(e,r.substr(r.charAt(1)==" "?2:1),n);var s,i,o,c,u=Math.abs(n),d=n<0?"-":"";if(r.match(/^00+$/))return d+_o(u,r.length);if(r.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>r.length?s:Qa(r.substr(0,r.length-s.length))+s;if(i=r.match(kq))return Qye(i,u,d);if(r.match(/^#+0+$/))return d+_o(u,r.length-r.indexOf("0"));if(i=r.match(Nq))return s=(""+n).replace(/^([^\.]+)$/,"$1."+Qa(i[1])).replace(/\.$/,"."+Qa(i[1])),s=s.replace(/\.(\d*)$/,function(v,g){return"."+g+on("0",Qa(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return d+gu(""+u);if(i=r.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Go(e,r,-n):gu(""+n)+"."+on("0",i[1].length);if(i=r.match(/^#,#*,#0/))return Go(e,r.replace(/^#,#*,/,""),n);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=cm(Go(e,r.replace(/[\\-]/g,""),n)),o=0,cm(cm(r.replace(/\\/g,"")).replace(/[0#]/g,function(v){return o<s.length?s.charAt(o++):v==="0"?"0":""}));if(r.match(Cq))return s=Go(e,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var f="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Kw(u,Math.pow(10,o)-1,!1),s=""+d,f=sc("n",i[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),s+=f+i[2]+"/"+i[3],f=Hw(c[2],o),f.length<i[4].length&&(f=Qa(i[4].substr(i[4].length-f.length))+f),s+=f,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Kw(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rP(c[1],o)+i[2]+"/"+i[3]+Hw(c[2],o):on(" ",2*o+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=""+n,r.length<=s.length?s:Qa(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var h=r.indexOf(".")-o,m=r.length-s.length-h;return Qa(r.substr(0,h)+s+r.substr(r.length-m))}if(i=r.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Go(e,r,-n):gu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?_o(0,3-v.length):"")+v})+"."+_o(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var p=gu(""+u);return p!=="0"?d+p:"";default:if(r.match(/\.[0#?]*$/))return Go(e,r.slice(0,r.lastIndexOf(".")),n)+Qa(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function sc(e,r,n){return(n|0)===n?Go(e,r,n):ki(e,r,n)}function n1e(e){for(var r=[],n=!1,a=0,s=0;a<e.length;++a)switch(e.charCodeAt(a)){case 34:n=!n;break;case 95:case 42:case 92:++a;break;case 59:r[r.length]=e.substr(s,a-s),s=a+1}if(r[r.length]=e.substr(s),n===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var Aq=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Hp(e){for(var r=0,n="",a="";r<e.length;)switch(n=e.charAt(r)){case"G":qw(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(a=n;e.charAt(r++)!=="]"&&r<e.length;)a+=e.charAt(r);if(a.match(Aq))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++r))>-1||n=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===n;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function a1e(e,r,n,a){for(var s=[],i="",o=0,c="",u="t",d,f,h,m="H";o<e.length;)switch(c=e.charAt(o)){case"G":if(!qw(e,o))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);s[s.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),v=p==="("||p===")"?p:"t";s[s.length]={t:v,v:p},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:r},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Fd(r,n,e.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:e.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||d==null&&(d=Fd(r,n),d==null))return"";for(i=c;++o<e.length&&e.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),s[s.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var g={t:c,v:c};if(d==null&&(d=Fd(r,n)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(g.v=d.H>=12?"P":"A"),g.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(g.v=d.H>=12?"PM":"AM"),g.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(g.v=d.H>=12?"":""),g.t="T",o+=5,m="h"):(g.t="t",++o),d==null&&g.t==="T")return"";s[s.length]=g,u=c;break;case"[":for(i=c;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Aq)){if(d==null&&(d=Fd(r,n),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Hp(e)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=c;++o<e.length&&(c=e.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},u=c;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:a===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++o;break}var x=0,b=0,w;for(o=s.length-1,u="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=m,u="h",x<1&&(x=1);break;case"s":(w=s[o].v.match(/\.0+$/))&&(b=Math.max(b,w[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":u=s[o].t;break;case"m":u==="s"&&(s[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&s[o].v.match(/[Hh]/)&&(x=1),x<2&&s[o].v.match(/[Mm]/)&&(x=2),x<3&&s[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var _="",S;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=Gye(s[o].t.charCodeAt(0),s[o].v,d,b),s[o].t="t";break;case"n":case"?":for(S=o+1;s[S]!=null&&((c=s[S].t)==="?"||c==="D"||(c===" "||c==="t")&&s[S+1]!=null&&(s[S+1].t==="?"||s[S+1].t==="t"&&s[S+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[S].v==="/"||s[S].v===" "&&s[S+1]!=null&&s[S+1].t=="?"));)s[o].v+=s[S].v,s[S]={v:"",t:";"},++S;_+=s[o].v,o=S-1;break;case"G":s[o].t="t",s[o].v=jf(r,n);break}var j="",N,k;if(_.length>0){_.charCodeAt(0)==40?(N=r<0&&_.charCodeAt(0)===45?-r:r,k=sc("n",_,N)):(N=r<0&&a>1?-r:r,k=sc("n",_,N),N<0&&s[0]&&s[0].t=="t"&&(k=k.substr(1),s[0].v="-"+s[0].v)),S=k.length-1;var C=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){C=o;break}var E=s.length;if(C===s.length&&k.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(S>=s[o].v.length-1?(S-=s[o].v.length,s[o].v=k.substr(S+1,s[o].v.length)):S<0?s[o].v="":(s[o].v=k.substr(0,S+1),S=-1),s[o].t="t",E=o);S>=0&&E<s.length&&(s[E].v=k.substr(0,S+1)+s[E].v)}else if(C!==s.length&&k.indexOf("E")===-1){for(S=k.indexOf(".")-1,o=C;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(f=s[o].v.indexOf(".")>-1&&o===C?s[o].v.indexOf(".")-1:s[o].v.length-1,j=s[o].v.substr(f+1);f>=0;--f)S>=0&&(s[o].v.charAt(f)==="0"||s[o].v.charAt(f)==="#")&&(j=k.charAt(S--)+j);s[o].v=j,s[o].t="t",E=o}for(S>=0&&E<s.length&&(s[E].v=k.substr(0,S+1)+s[E].v),S=k.indexOf(".")+1,o=C;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==C)){for(f=s[o].v.indexOf(".")>-1&&o===C?s[o].v.indexOf(".")+1:0,j=s[o].v.substr(0,f);f<s[o].v.length;++f)S<k.length&&(j+=k.charAt(S++));s[o].v=j,s[o].t="t",E=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(N=a>1&&r<0&&o>0&&s[o-1].v==="-"?-r:r,s[o].v=sc(s[o].t,s[o].v,N),s[o].t="t");var P="";for(o=0;o!==s.length;++o)s[o]!=null&&(P+=s[o].v);return P}var cF=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uF(e,r){if(r==null)return!1;var n=parseFloat(r[2]);switch(r[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function s1e(e,r){var n=n1e(e),a=n.length,s=n[a-1].indexOf("@");if(a<4&&s>-1&&--a,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof r!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=r>0?n[0]:r<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[a,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(cF),c=n[1].match(cF);return uF(r,o)?[a,n[0]]:uF(r,c)?[a,n[1]]:[a,n[o!=null&&c!=null?2:1]]}return[a,i]}function Wi(e,r,n){n==null&&(n={});var a="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?a=n.dateNF:a=e;break;case"number":e==14&&n.dateNF?a=n.dateNF:a=(n.table!=null?n.table:Ut)[e],a==null&&(a=n.table&&n.table[iF[e]]||Ut[iF[e]]),a==null&&(a=Uye[e]||"General");break}if(qw(a,0))return jf(r,n);r instanceof Date&&(r=_q(r,n.date1904));var s=s1e(a,r);if(qw(s[1]))return jf(r,n);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return a1e(s[1],r,n,s[0])}function rf(e,r){if(typeof r!="number"){r=+r||-1;for(var n=0;n<392;++n){if(Ut[n]==null){r<0&&(r=n);continue}if(Ut[n]==e){r=n;break}}r<0&&(r=391)}return Ut[r]=e,r}function Oq(){Ut=Bye()}var i1e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Pq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function o1e(e){var r=typeof e=="number"?Ut[e]:e;return r=r.replace(Pq,"(\\d+)"),new RegExp("^"+r+"$")}function l1e(e,r,n){var a=-1,s=-1,i=-1,o=-1,c=-1,u=-1;(r.match(Pq)||[]).forEach(function(h,m){var p=parseInt(n[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":a=p;break;case"d":i=p;break;case"h":o=p;break;case"s":u=p;break;case"m":o>=0?c=p:s=p;break}}),u>=0&&c==-1&&s>=0&&(c=s,s=-1);var d=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?d:a==-1&&s==-1&&i==-1?f:d+"T"+f}var c1e=function(){var e={};e.version="1.2.0";function r(){for(var k=0,C=new Array(256),E=0;E!=256;++E)k=E,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,C[E]=k;return typeof Int32Array<"u"?new Int32Array(C):C}var n=r();function a(k){var C=0,E=0,P=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)I[P]=k[P];for(P=0;P!=256;++P)for(E=k[P],C=256+P;C<4096;C+=256)E=I[C]=E>>>8^k[E&255];var T=[];for(P=1;P!=16;++P)T[P-1]=typeof Int32Array<"u"?I.subarray(P*256,P*256+256):I.slice(P*256,P*256+256);return T}var s=a(n),i=s[0],o=s[1],c=s[2],u=s[3],d=s[4],f=s[5],h=s[6],m=s[7],p=s[8],v=s[9],g=s[10],x=s[11],b=s[12],w=s[13],_=s[14];function S(k,C){for(var E=C^-1,P=0,I=k.length;P<I;)E=E>>>8^n[(E^k.charCodeAt(P++))&255];return~E}function j(k,C){for(var E=C^-1,P=k.length-15,I=0;I<P;)E=_[k[I++]^E&255]^w[k[I++]^E>>8&255]^b[k[I++]^E>>16&255]^x[k[I++]^E>>>24]^g[k[I++]]^v[k[I++]]^p[k[I++]]^m[k[I++]]^h[k[I++]]^f[k[I++]]^d[k[I++]]^u[k[I++]]^c[k[I++]]^o[k[I++]]^i[k[I++]]^n[k[I++]];for(P+=15;I<P;)E=E>>>8^n[(E^k[I++])&255];return~E}function N(k,C){for(var E=C^-1,P=0,I=k.length,T=0,U=0;P<I;)T=k.charCodeAt(P++),T<128?E=E>>>8^n[(E^T)&255]:T<2048?(E=E>>>8^n[(E^(192|T>>6&31))&255],E=E>>>8^n[(E^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,U=k.charCodeAt(P++)&1023,E=E>>>8^n[(E^(240|T>>8&7))&255],E=E>>>8^n[(E^(128|T>>2&63))&255],E=E>>>8^n[(E^(128|U>>6&15|(T&3)<<4))&255],E=E>>>8^n[(E^(128|U&63))&255]):(E=E>>>8^n[(E^(224|T>>12&15))&255],E=E>>>8^n[(E^(128|T>>6&63))&255],E=E>>>8^n[(E^(128|T&63))&255]);return~E}return e.table=n,e.bstr=S,e.buf=j,e.str=N,e}(),rr=function(){var r={};r.version="1.2.1";function n(W,re){for(var Z=W.split("/"),O=re.split("/"),K=0,Y=0,xe=Math.min(Z.length,O.length);K<xe;++K){if(Y=Z[K].length-O[K].length)return Y;if(Z[K]!=O[K])return Z[K]<O[K]?-1:1}return Z.length-O.length}function a(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:a(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(0,re+1)}function s(W){if(W.charAt(W.length-1)=="/")return s(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(re+1)}function i(W,re){typeof re=="string"&&(re=new Date(re));var Z=re.getHours();Z=Z<<6|re.getMinutes(),Z=Z<<5|re.getSeconds()>>>1,W.write_shift(2,Z);var O=re.getFullYear()-1980;O=O<<4|re.getMonth()+1,O=O<<5|re.getDate(),W.write_shift(2,O)}function o(W){var re=W.read_shift(2)&65535,Z=W.read_shift(2)&65535,O=new Date,K=Z&31;Z>>>=5;var Y=Z&15;Z>>>=4,O.setMilliseconds(0),O.setFullYear(Z+1980),O.setMonth(Y-1),O.setDate(K);var xe=re&31;re>>>=5;var Te=re&63;return re>>>=6,O.setHours(re),O.setMinutes(Te),O.setSeconds(xe<<1),O}function c(W){ia(W,0);for(var re={},Z=0;W.l<=W.length-4;){var O=W.read_shift(2),K=W.read_shift(2),Y=W.l+K,xe={};switch(O){case 21589:Z=W.read_shift(1),Z&1&&(xe.mtime=W.read_shift(4)),K>5&&(Z&2&&(xe.atime=W.read_shift(4)),Z&4&&(xe.ctime=W.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}W.l=Y,re[O]=xe}return re}var u;function d(){return u||(u={})}function f(W,re){if(W[0]==80&&W[1]==75)return qn(W,re);if((W[0]|32)==109&&(W[1]|32)==105)return qt(W,re);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Z=3,O=512,K=0,Y=0,xe=0,Te=0,Se=0,ke=[],Ce=W.slice(0,512);ia(Ce,0);var Ve=h(Ce);switch(Z=Ve[0],Z){case 3:O=512;break;case 4:O=4096;break;case 0:if(Ve[1]==0)return qn(W,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}O!==512&&(Ce=W.slice(0,O),ia(Ce,28));var Ze=W.slice(0,O);m(Ce,Z);var at=Ce.read_shift(4,"i");if(Z===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Ce.l+=4,xe=Ce.read_shift(4,"i"),Ce.l+=4,Ce.chk("00100000","Mini Stream Cutoff Size: "),Te=Ce.read_shift(4,"i"),K=Ce.read_shift(4,"i"),Se=Ce.read_shift(4,"i"),Y=Ce.read_shift(4,"i");for(var Ye=-1,nt=0;nt<109&&(Ye=Ce.read_shift(4,"i"),!(Ye<0));++nt)ke[nt]=Ye;var Dt=p(W,O);x(Se,Y,Dt,O,ke);var Or=w(Dt,xe,ke,O);Or[xe].name="!Directory",K>0&&Te!==U&&(Or[Te].name="!MiniFAT"),Or[ke[0]].name="!FAT",Or.fat_addrs=ke,Or.ssz=O;var Pr={},Dn=[],Pc=[],Dc=[];_(xe,Or,Dt,Dn,K,Pr,Pc,Te),v(Pc,Dc,Dn),Dn.shift();var Rc={FileIndex:Pc,FullPaths:Dc};return re&&re.raw&&(Rc.raw={header:Ze,sectors:Dt}),Rc}function h(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(H,"Header Signature: "),W.l+=16;var re=W.read_shift(2,"u");return[W.read_shift(2,"u"),re]}function m(W,re){var Z=9;switch(W.l+=2,Z=W.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function p(W,re){for(var Z=Math.ceil(W.length/re)-1,O=[],K=1;K<Z;++K)O[K-1]=W.slice(K*re,(K+1)*re);return O[Z-1]=W.slice(Z*re),O}function v(W,re,Z){for(var O=0,K=0,Y=0,xe=0,Te=0,Se=Z.length,ke=[],Ce=[];O<Se;++O)ke[O]=Ce[O]=O,re[O]=Z[O];for(;Te<Ce.length;++Te)O=Ce[Te],K=W[O].L,Y=W[O].R,xe=W[O].C,ke[O]===O&&(K!==-1&&ke[K]!==K&&(ke[O]=ke[K]),Y!==-1&&ke[Y]!==Y&&(ke[O]=ke[Y])),xe!==-1&&(ke[xe]=O),K!==-1&&O!=ke[O]&&(ke[K]=ke[O],Ce.lastIndexOf(K)<Te&&Ce.push(K)),Y!==-1&&O!=ke[O]&&(ke[Y]=ke[O],Ce.lastIndexOf(Y)<Te&&Ce.push(Y));for(O=1;O<Se;++O)ke[O]===O&&(Y!==-1&&ke[Y]!==Y?ke[O]=ke[Y]:K!==-1&&ke[K]!==K&&(ke[O]=ke[K]));for(O=1;O<Se;++O)if(W[O].type!==0){if(Te=O,Te!=ke[Te])do Te=ke[Te],re[O]=re[Te]+"/"+re[O];while(Te!==0&&ke[Te]!==-1&&Te!=ke[Te]);ke[O]=-1}for(re[0]+="/",O=1;O<Se;++O)W[O].type!==2&&(re[O]+="/")}function g(W,re,Z){for(var O=W.start,K=W.size,Y=[],xe=O;Z&&K>0&&xe>=0;)Y.push(re.slice(xe*T,xe*T+T)),K-=T,xe=Nd(Z,xe*4);return Y.length===0?Ln(0):eu(Y).slice(0,W.size)}function x(W,re,Z,O,K){var Y=U;if(W===U){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var xe=Z[W],Te=(O>>>2)-1;if(!xe)return;for(var Se=0;Se<Te&&(Y=Nd(xe,Se*4))!==U;++Se)K.push(Y);x(Nd(xe,O-4),re-1,Z,O,K)}}function b(W,re,Z,O,K){var Y=[],xe=[];K||(K=[]);var Te=O-1,Se=0,ke=0;for(Se=re;Se>=0;){K[Se]=!0,Y[Y.length]=Se,xe.push(W[Se]);var Ce=Z[Math.floor(Se*4/O)];if(ke=Se*4&Te,O<4+ke)throw new Error("FAT boundary crossed: "+Se+" 4 "+O);if(!W[Ce])break;Se=Nd(W[Ce],ke)}return{nodes:Y,data:wF([xe])}}function w(W,re,Z,O){var K=W.length,Y=[],xe=[],Te=[],Se=[],ke=O-1,Ce=0,Ve=0,Ze=0,at=0;for(Ce=0;Ce<K;++Ce)if(Te=[],Ze=Ce+re,Ze>=K&&(Ze-=K),!xe[Ze]){Se=[];var Ye=[];for(Ve=Ze;Ve>=0;){Ye[Ve]=!0,xe[Ve]=!0,Te[Te.length]=Ve,Se.push(W[Ve]);var nt=Z[Math.floor(Ve*4/O)];if(at=Ve*4&ke,O<4+at)throw new Error("FAT boundary crossed: "+Ve+" 4 "+O);if(!W[nt]||(Ve=Nd(W[nt],at),Ye[Ve]))break}Y[Ze]={nodes:Te,data:wF([Se])}}return Y}function _(W,re,Z,O,K,Y,xe,Te){for(var Se=0,ke=O.length?2:0,Ce=re[W].data,Ve=0,Ze=0,at;Ve<Ce.length;Ve+=128){var Ye=Ce.slice(Ve,Ve+128);ia(Ye,64),Ze=Ye.read_shift(2),at=lP(Ye,0,Ze-ke),O.push(at);var nt={name:at,type:Ye.read_shift(1),color:Ye.read_shift(1),L:Ye.read_shift(4,"i"),R:Ye.read_shift(4,"i"),C:Ye.read_shift(4,"i"),clsid:Ye.read_shift(16),state:Ye.read_shift(4,"i"),start:0,size:0},Dt=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Dt!==0&&(nt.ct=S(Ye,Ye.l-8));var Or=Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2)+Ye.read_shift(2);Or!==0&&(nt.mt=S(Ye,Ye.l-8)),nt.start=Ye.read_shift(4,"i"),nt.size=Ye.read_shift(4,"i"),nt.size<0&&nt.start<0&&(nt.size=nt.type=0,nt.start=U,nt.name=""),nt.type===5?(Se=nt.start,K>0&&Se!==U&&(re[Se].name="!StreamData")):nt.size>=4096?(nt.storage="fat",re[nt.start]===void 0&&(re[nt.start]=b(Z,nt.start,re.fat_addrs,re.ssz)),re[nt.start].name=nt.name,nt.content=re[nt.start].data.slice(0,nt.size)):(nt.storage="minifat",nt.size<0?nt.size=0:Se!==U&&nt.start!==U&&re[Se]&&(nt.content=g(nt,re[Se].data,(re[Te]||{}).data))),nt.content&&ia(nt.content,0),Y[at]=nt,xe.push(nt)}}function S(W,re){return new Date((ei(W,re+4)/1e7*Math.pow(2,32)+ei(W,re)/1e7-11644473600)*1e3)}function j(W,re){return d(),f(u.readFileSync(W),re)}function N(W,re){var Z=re&&re.type;switch(Z||tr&&Buffer.isBuffer(W)&&(Z="buffer"),Z||"base64"){case"file":return j(W,re);case"base64":return f(vo(hi(W)),re);case"binary":return f(vo(W),re)}return f(W,re)}function k(W,re){var Z=re||{},O=Z.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=O+"/",W.FileIndex[0]={name:O,type:5}),Z.CLSID&&(W.FileIndex[0].clsid=Z.CLSID),C(W)}function C(W){var re="Sh33tJ5";if(!rr.find(W,"/"+re)){var Z=Ln(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,W.FileIndex.push({name:re,type:2,content:Z,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+re),E(W)}}function E(W,re){k(W);for(var Z=!1,O=!1,K=W.FullPaths.length-1;K>=0;--K){var Y=W.FileIndex[K];switch(Y.type){case 0:O?Z=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(Y.R*Y.L*Y.C)&&(Z=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!re)){var xe=new Date(1987,1,19),Te=0,Se=Object.create?Object.create(null):{},ke=[];for(K=0;K<W.FullPaths.length;++K)Se[W.FullPaths[K]]=!0,W.FileIndex[K].type!==0&&ke.push([W.FullPaths[K],W.FileIndex[K]]);for(K=0;K<ke.length;++K){var Ce=a(ke[K][0]);O=Se[Ce],O||(ke.push([Ce,{name:s(Ce).replace("/",""),type:1,clsid:M,ct:xe,mt:xe,content:null}]),Se[Ce]=!0)}for(ke.sort(function(at,Ye){return n(at[0],Ye[0])}),W.FullPaths=[],W.FileIndex=[],K=0;K<ke.length;++K)W.FullPaths[K]=ke[K][0],W.FileIndex[K]=ke[K][1];for(K=0;K<ke.length;++K){var Ve=W.FileIndex[K],Ze=W.FullPaths[K];if(Ve.name=s(Ze).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||M,K===0)Ve.C=ke.length>1?1:-1,Ve.size=0,Ve.type=5;else if(Ze.slice(-1)=="/"){for(Te=K+1;Te<ke.length&&a(W.FullPaths[Te])!=Ze;++Te);for(Ve.C=Te>=ke.length?-1:Te,Te=K+1;Te<ke.length&&a(W.FullPaths[Te])!=a(Ze);++Te);Ve.R=Te>=ke.length?-1:Te,Ve.type=1}else a(W.FullPaths[K+1]||"")==a(Ze)&&(Ve.R=K+1),Ve.type=2}}}function P(W,re){var Z=re||{};if(Z.fileType=="mad")return Ar(W,Z);switch(E(W),Z.fileType){case"zip":return vi(W,Z)}var O=function(at){for(var Ye=0,nt=0,Dt=0;Dt<at.FileIndex.length;++Dt){var Or=at.FileIndex[Dt];if(Or.content){var Pr=Or.content.length;Pr>0&&(Pr<4096?Ye+=Pr+63>>6:nt+=Pr+511>>9)}}for(var Dn=at.FullPaths.length+3>>2,Pc=Ye+7>>3,Dc=Ye+127>>7,Rc=Pc+nt+Dn+Dc,Uo=Rc+127>>7,Jf=Uo<=109?0:Math.ceil((Uo-109)/127);Rc+Uo+Jf+127>>7>Uo;)Jf=++Uo<=109?0:Math.ceil((Uo-109)/127);var xi=[1,Jf,Uo,Dc,Dn,nt,Ye,0];return at.FileIndex[0].size=Ye<<6,xi[7]=(at.FileIndex[0].start=xi[0]+xi[1]+xi[2]+xi[3]+xi[4]+xi[5])+(xi[6]+7>>3),xi}(W),K=Ln(O[7]<<9),Y=0,xe=0;{for(Y=0;Y<8;++Y)K.write_shift(1,F[Y]);for(Y=0;Y<8;++Y)K.write_shift(2,0);for(K.write_shift(2,62),K.write_shift(2,3),K.write_shift(2,65534),K.write_shift(2,9),K.write_shift(2,6),Y=0;Y<3;++Y)K.write_shift(2,0);for(K.write_shift(4,0),K.write_shift(4,O[2]),K.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),K.write_shift(4,0),K.write_shift(4,4096),K.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:U),K.write_shift(4,O[3]),K.write_shift(-4,O[1]?O[0]-1:U),K.write_shift(4,O[1]),Y=0;Y<109;++Y)K.write_shift(-4,Y<O[2]?O[1]+Y:-1)}if(O[1])for(xe=0;xe<O[1];++xe){for(;Y<236+xe*127;++Y)K.write_shift(-4,Y<O[2]?O[1]+Y:-1);K.write_shift(-4,xe===O[1]-1?U:xe+1)}var Te=function(at){for(xe+=at;Y<xe-1;++Y)K.write_shift(-4,Y+1);at&&(++Y,K.write_shift(-4,U))};for(xe=Y=0,xe+=O[1];Y<xe;++Y)K.write_shift(-4,z.DIFSECT);for(xe+=O[2];Y<xe;++Y)K.write_shift(-4,z.FATSECT);Te(O[3]),Te(O[4]);for(var Se=0,ke=0,Ce=W.FileIndex[0];Se<W.FileIndex.length;++Se)Ce=W.FileIndex[Se],Ce.content&&(ke=Ce.content.length,!(ke<4096)&&(Ce.start=xe,Te(ke+511>>9)));for(Te(O[6]+7>>3);K.l&511;)K.write_shift(-4,z.ENDOFCHAIN);for(xe=Y=0,Se=0;Se<W.FileIndex.length;++Se)Ce=W.FileIndex[Se],Ce.content&&(ke=Ce.content.length,!(!ke||ke>=4096)&&(Ce.start=xe,Te(ke+63>>6)));for(;K.l&511;)K.write_shift(-4,z.ENDOFCHAIN);for(Y=0;Y<O[4]<<2;++Y){var Ve=W.FullPaths[Y];if(!Ve||Ve.length===0){for(Se=0;Se<17;++Se)K.write_shift(4,0);for(Se=0;Se<3;++Se)K.write_shift(4,-1);for(Se=0;Se<12;++Se)K.write_shift(4,0);continue}Ce=W.FileIndex[Y],Y===0&&(Ce.start=Ce.size?Ce.start-1:U);var Ze=Y===0&&Z.root||Ce.name;if(ke=2*(Ze.length+1),K.write_shift(64,Ze,"utf16le"),K.write_shift(2,ke),K.write_shift(1,Ce.type),K.write_shift(1,Ce.color),K.write_shift(-4,Ce.L),K.write_shift(-4,Ce.R),K.write_shift(-4,Ce.C),Ce.clsid)K.write_shift(16,Ce.clsid,"hex");else for(Se=0;Se<4;++Se)K.write_shift(4,0);K.write_shift(4,Ce.state||0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,0),K.write_shift(4,Ce.start),K.write_shift(4,Ce.size),K.write_shift(4,0)}for(Y=1;Y<W.FileIndex.length;++Y)if(Ce=W.FileIndex[Y],Ce.size>=4096)if(K.l=Ce.start+1<<9,tr&&Buffer.isBuffer(Ce.content))Ce.content.copy(K,K.l,0,Ce.size),K.l+=Ce.size+511&-512;else{for(Se=0;Se<Ce.size;++Se)K.write_shift(1,Ce.content[Se]);for(;Se&511;++Se)K.write_shift(1,0)}for(Y=1;Y<W.FileIndex.length;++Y)if(Ce=W.FileIndex[Y],Ce.size>0&&Ce.size<4096)if(tr&&Buffer.isBuffer(Ce.content))Ce.content.copy(K,K.l,0,Ce.size),K.l+=Ce.size+63&-64;else{for(Se=0;Se<Ce.size;++Se)K.write_shift(1,Ce.content[Se]);for(;Se&63;++Se)K.write_shift(1,0)}if(tr)K.l=K.length;else for(;K.l<K.length;)K.write_shift(1,0);return K}function I(W,re){var Z=W.FullPaths.map(function(Se){return Se.toUpperCase()}),O=Z.map(function(Se){var ke=Se.split("/");return ke[ke.length-(Se.slice(-1)=="/"?2:1)]}),K=!1;re.charCodeAt(0)===47?(K=!0,re=Z[0].slice(0,-1)+re):K=re.indexOf("/")!==-1;var Y=re.toUpperCase(),xe=K===!0?Z.indexOf(Y):O.indexOf(Y);if(xe!==-1)return W.FileIndex[xe];var Te=!Y.match(q0);for(Y=Y.replace(us,""),Te&&(Y=Y.replace(q0,"!")),xe=0;xe<Z.length;++xe)if((Te?Z[xe].replace(q0,"!"):Z[xe]).replace(us,"")==Y||(Te?O[xe].replace(q0,"!"):O[xe]).replace(us,"")==Y)return W.FileIndex[xe];return null}var T=64,U=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],M="00000000000000000000000000000000",z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:M,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function L(W,re,Z){d();var O=P(W,Z);u.writeFileSync(re,O)}function R(W){for(var re=new Array(W.length),Z=0;Z<W.length;++Z)re[Z]=String.fromCharCode(W[Z]);return re.join("")}function J(W,re){var Z=P(W,re);switch(re&&re.type||"buffer"){case"file":return d(),u.writeFileSync(re.filename,Z),Z;case"binary":return typeof Z=="string"?Z:R(Z);case"base64":return rF(typeof Z=="string"?Z:R(Z));case"buffer":if(tr)return Buffer.isBuffer(Z)?Z:Uf(Z);case"array":return typeof Z=="string"?vo(Z):Z}return Z}var te;function A(W){try{var re=W.InflateRaw,Z=new re;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)te=W;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function X(W,re){if(!te)return pr(W,re);var Z=te.InflateRaw,O=new Z,K=O._processChunk(W.slice(W.l),O._finishFlushFlag);return W.l+=O.bytesRead,K}function V(W){return te?te.deflateRawSync(W):Ee(W)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(W){var re=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(re>>16|re>>8|re)&255}for(var ie=typeof Uint8Array<"u",Q=ie?new Uint8Array(256):[],de=0;de<256;++de)Q[de]=me(de);function D(W,re){var Z=Q[W&255];return re<=8?Z>>>8-re:(Z=Z<<8|Q[W>>8&255],re<=16?Z>>>16-re:(Z=Z<<8|Q[W>>16&255],Z>>>24-re))}function Be(W,re){var Z=re&7,O=re>>>3;return(W[O]|(Z<=6?0:W[O+1]<<8))>>>Z&3}function Le(W,re){var Z=re&7,O=re>>>3;return(W[O]|(Z<=5?0:W[O+1]<<8))>>>Z&7}function Ue(W,re){var Z=re&7,O=re>>>3;return(W[O]|(Z<=4?0:W[O+1]<<8))>>>Z&15}function ze(W,re){var Z=re&7,O=re>>>3;return(W[O]|(Z<=3?0:W[O+1]<<8))>>>Z&31}function De(W,re){var Z=re&7,O=re>>>3;return(W[O]|(Z<=1?0:W[O+1]<<8))>>>Z&127}function mt(W,re,Z){var O=re&7,K=re>>>3,Y=(1<<Z)-1,xe=W[K]>>>O;return Z<8-O||(xe|=W[K+1]<<8-O,Z<16-O)||(xe|=W[K+2]<<16-O,Z<24-O)||(xe|=W[K+3]<<24-O),xe&Y}function ut(W,re,Z){var O=re&7,K=re>>>3;return O<=5?W[K]|=(Z&7)<<O:(W[K]|=Z<<O&255,W[K+1]=(Z&7)>>8-O),re+3}function se(W,re,Z){var O=re&7,K=re>>>3;return Z=(Z&1)<<O,W[K]|=Z,re+1}function he(W,re,Z){var O=re&7,K=re>>>3;return Z<<=O,W[K]|=Z&255,Z>>>=8,W[K+1]=Z,re+8}function ee(W,re,Z){var O=re&7,K=re>>>3;return Z<<=O,W[K]|=Z&255,Z>>>=8,W[K+1]=Z&255,W[K+2]=Z>>>8,re+16}function _e(W,re){var Z=W.length,O=2*Z>re?2*Z:re+5,K=0;if(Z>=re)return W;if(tr){var Y=nF(O);if(W.copy)W.copy(Y);else for(;K<W.length;++K)Y[K]=W[K];return Y}else if(ie){var xe=new Uint8Array(O);if(xe.set)xe.set(W);else for(;K<Z;++K)xe[K]=W[K];return xe}return W.length=O,W}function je(W){for(var re=new Array(W),Z=0;Z<W;++Z)re[Z]=0;return re}function be(W,re,Z){var O=1,K=0,Y=0,xe=0,Te=0,Se=W.length,ke=ie?new Uint16Array(32):je(32);for(Y=0;Y<32;++Y)ke[Y]=0;for(Y=Se;Y<Z;++Y)W[Y]=0;Se=W.length;var Ce=ie?new Uint16Array(Se):je(Se);for(Y=0;Y<Se;++Y)ke[K=W[Y]]++,O<K&&(O=K),Ce[Y]=0;for(ke[0]=0,Y=1;Y<=O;++Y)ke[Y+16]=Te=Te+ke[Y-1]<<1;for(Y=0;Y<Se;++Y)Te=W[Y],Te!=0&&(Ce[Y]=ke[Te+16]++);var Ve=0;for(Y=0;Y<Se;++Y)if(Ve=W[Y],Ve!=0)for(Te=D(Ce[Y],O)>>O-Ve,xe=(1<<O+4-Ve)-1;xe>=0;--xe)re[Te|xe<<Ve]=Ve&15|Y<<4;return O}var le=ie?new Uint16Array(512):je(512),fe=ie?new Uint16Array(32):je(32);if(!ie){for(var ye=0;ye<512;++ye)le[ye]=0;for(ye=0;ye<32;++ye)fe[ye]=0}(function(){for(var W=[],re=0;re<32;re++)W.push(5);be(W,fe,32);var Z=[];for(re=0;re<=143;re++)Z.push(8);for(;re<=255;re++)Z.push(9);for(;re<=279;re++)Z.push(7);for(;re<=287;re++)Z.push(8);be(Z,le,288)})();var pe=function(){for(var re=ie?new Uint8Array(32768):[],Z=0,O=0;Z<ce.length-1;++Z)for(;O<ce[Z+1];++O)re[O]=Z;for(;O<32768;++O)re[O]=29;var K=ie?new Uint8Array(259):[];for(Z=0,O=0;Z<ae.length-1;++Z)for(;O<ae[Z+1];++O)K[O]=Z;function Y(Te,Se){for(var ke=0;ke<Te.length;){var Ce=Math.min(65535,Te.length-ke),Ve=ke+Ce==Te.length;for(Se.write_shift(1,+Ve),Se.write_shift(2,Ce),Se.write_shift(2,~Ce&65535);Ce-- >0;)Se[Se.l++]=Te[ke++]}return Se.l}function xe(Te,Se){for(var ke=0,Ce=0,Ve=ie?new Uint16Array(32768):[];Ce<Te.length;){var Ze=Math.min(65535,Te.length-Ce);if(Ze<10){for(ke=ut(Se,ke,+(Ce+Ze==Te.length)),ke&7&&(ke+=8-(ke&7)),Se.l=ke/8|0,Se.write_shift(2,Ze),Se.write_shift(2,~Ze&65535);Ze-- >0;)Se[Se.l++]=Te[Ce++];ke=Se.l*8;continue}ke=ut(Se,ke,+(Ce+Ze==Te.length)+2);for(var at=0;Ze-- >0;){var Ye=Te[Ce];at=(at<<5^Ye)&32767;var nt=-1,Dt=0;if((nt=Ve[at])&&(nt|=Ce&-32768,nt>Ce&&(nt-=32768),nt<Ce))for(;Te[nt+Dt]==Te[Ce+Dt]&&Dt<250;)++Dt;if(Dt>2){Ye=K[Dt],Ye<=22?ke=he(Se,ke,Q[Ye+1]>>1)-1:(he(Se,ke,3),ke+=5,he(Se,ke,Q[Ye-23]>>5),ke+=3);var Or=Ye<8?0:Ye-4>>2;Or>0&&(ee(Se,ke,Dt-ae[Ye]),ke+=Or),Ye=re[Ce-nt],ke=he(Se,ke,Q[Ye]>>3),ke-=3;var Pr=Ye<4?0:Ye-2>>1;Pr>0&&(ee(Se,ke,Ce-nt-ce[Ye]),ke+=Pr);for(var Dn=0;Dn<Dt;++Dn)Ve[at]=Ce&32767,at=(at<<5^Te[Ce])&32767,++Ce;Ze-=Dt-1}else Ye<=143?Ye=Ye+48:ke=se(Se,ke,1),ke=he(Se,ke,Q[Ye]),Ve[at]=Ce&32767,++Ce}ke=he(Se,ke,0)-1}return Se.l=(ke+7)/8|0,Se.l}return function(Se,ke){return Se.length<8?Y(Se,ke):xe(Se,ke)}}();function Ee(W){var re=Ln(50+Math.floor(W.length*1.1)),Z=pe(W,re);return re.slice(0,Z)}var $e=ie?new Uint16Array(32768):je(32768),Fe=ie?new Uint16Array(32768):je(32768),We=ie?new Uint16Array(128):je(128),yt=1,zt=1;function hr(W,re){var Z=ze(W,re)+257;re+=5;var O=ze(W,re)+1;re+=5;var K=Ue(W,re)+4;re+=4;for(var Y=0,xe=ie?new Uint8Array(19):je(19),Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,ke=ie?new Uint8Array(8):je(8),Ce=ie?new Uint8Array(8):je(8),Ve=xe.length,Ze=0;Ze<K;++Ze)xe[q[Ze]]=Y=Le(W,re),Se<Y&&(Se=Y),ke[Y]++,re+=3;var at=0;for(ke[0]=0,Ze=1;Ze<=Se;++Ze)Ce[Ze]=at=at+ke[Ze-1]<<1;for(Ze=0;Ze<Ve;++Ze)(at=xe[Ze])!=0&&(Te[Ze]=Ce[at]++);var Ye=0;for(Ze=0;Ze<Ve;++Ze)if(Ye=xe[Ze],Ye!=0){at=Q[Te[Ze]]>>8-Ye;for(var nt=(1<<7-Ye)-1;nt>=0;--nt)We[at|nt<<Ye]=Ye&7|Ze<<3}var Dt=[];for(Se=1;Dt.length<Z+O;)switch(at=We[De(W,re)],re+=at&7,at>>>=3){case 16:for(Y=3+Be(W,re),re+=2,at=Dt[Dt.length-1];Y-- >0;)Dt.push(at);break;case 17:for(Y=3+Le(W,re),re+=3;Y-- >0;)Dt.push(0);break;case 18:for(Y=11+De(W,re),re+=7;Y-- >0;)Dt.push(0);break;default:Dt.push(at),Se<at&&(Se=at);break}var Or=Dt.slice(0,Z),Pr=Dt.slice(Z);for(Ze=Z;Ze<286;++Ze)Or[Ze]=0;for(Ze=O;Ze<30;++Ze)Pr[Ze]=0;return yt=be(Or,$e,286),zt=be(Pr,Fe,30),re}function kr(W,re){if(W[0]==3&&!(W[1]&3))return[Uu(re),2];for(var Z=0,O=0,K=nF(re||1<<18),Y=0,xe=K.length>>>0,Te=0,Se=0;!(O&1);){if(O=Le(W,Z),Z+=3,O>>>1)O>>1==1?(Te=9,Se=5):(Z=hr(W,Z),Te=yt,Se=zt);else{Z&7&&(Z+=8-(Z&7));var ke=W[Z>>>3]|W[(Z>>>3)+1]<<8;if(Z+=32,ke>0)for(!re&&xe<Y+ke&&(K=_e(K,Y+ke),xe=K.length);ke-- >0;)K[Y++]=W[Z>>>3],Z+=8;continue}for(;;){!re&&xe<Y+32767&&(K=_e(K,Y+32767),xe=K.length);var Ce=mt(W,Z,Te),Ve=O>>>1==1?le[Ce]:$e[Ce];if(Z+=Ve&15,Ve>>>=4,!(Ve>>>8&255))K[Y++]=Ve;else{if(Ve==256)break;Ve-=257;var Ze=Ve<8?0:Ve-4>>2;Ze>5&&(Ze=0);var at=Y+ae[Ve];Ze>0&&(at+=mt(W,Z,Ze),Z+=Ze),Ce=mt(W,Z,Se),Ve=O>>>1==1?fe[Ce]:Fe[Ce],Z+=Ve&15,Ve>>>=4;var Ye=Ve<4?0:Ve-2>>1,nt=ce[Ve];for(Ye>0&&(nt+=mt(W,Z,Ye),Z+=Ye),!re&&xe<at&&(K=_e(K,at+100),xe=K.length);Y<at;)K[Y]=K[Y-nt],++Y}}}return re?[K,Z+7>>>3]:[K.slice(0,Y),Z+7>>>3]}function pr(W,re){var Z=W.slice(W.l||0),O=kr(Z,re);return W.l+=O[1],O[0]}function za(W,re){if(W)typeof console<"u"&&console.error(re);else throw new Error(re)}function qn(W,re){var Z=W;ia(Z,0);var O=[],K=[],Y={FileIndex:O,FullPaths:K};k(Y,{root:re.root});for(var xe=Z.length-4;(Z[xe]!=80||Z[xe+1]!=75||Z[xe+2]!=5||Z[xe+3]!=6)&&xe>=0;)--xe;Z.l=xe+4,Z.l+=4;var Te=Z.read_shift(2);Z.l+=6;var Se=Z.read_shift(4);for(Z.l=Se,xe=0;xe<Te;++xe){Z.l+=20;var ke=Z.read_shift(4),Ce=Z.read_shift(4),Ve=Z.read_shift(2),Ze=Z.read_shift(2),at=Z.read_shift(2);Z.l+=8;var Ye=Z.read_shift(4),nt=c(Z.slice(Z.l+Ve,Z.l+Ve+Ze));Z.l+=Ve+Ze+at;var Dt=Z.l;Z.l=Ye+4,ra(Z,ke,Ce,Y,nt),Z.l=Dt}return Y}function ra(W,re,Z,O,K){W.l+=2;var Y=W.read_shift(2),xe=W.read_shift(2),Te=o(W);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var Se=W.read_shift(4),ke=W.read_shift(4),Ce=W.read_shift(4),Ve=W.read_shift(2),Ze=W.read_shift(2),at="",Ye=0;Ye<Ve;++Ye)at+=String.fromCharCode(W[W.l++]);if(Ze){var nt=c(W.slice(W.l,W.l+Ze));(nt[21589]||{}).mt&&(Te=nt[21589].mt),((K||{})[21589]||{}).mt&&(Te=K[21589].mt)}W.l+=Ze;var Dt=W.slice(W.l,W.l+ke);switch(xe){case 8:Dt=X(W,Ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var Or=!1;Y&8&&(Se=W.read_shift(4),Se==134695760&&(Se=W.read_shift(4),Or=!0),ke=W.read_shift(4),Ce=W.read_shift(4)),ke!=re&&za(Or,"Bad compressed size: "+re+" != "+ke),Ce!=Z&&za(Or,"Bad uncompressed size: "+Z+" != "+Ce),xs(O,at,Dt,{unsafe:!0,mt:Te})}function vi(W,re){var Z=re||{},O=[],K=[],Y=Ln(1),xe=Z.compression?8:0,Te=0,Se=0,ke=0,Ce=0,Ve=0,Ze=W.FullPaths[0],at=Ze,Ye=W.FileIndex[0],nt=[],Dt=0;for(Se=1;Se<W.FullPaths.length;++Se)if(at=W.FullPaths[Se].slice(Ze.length),Ye=W.FileIndex[Se],!(!Ye.size||!Ye.content||at=="Sh33tJ5")){var Or=Ce,Pr=Ln(at.length);for(ke=0;ke<at.length;++ke)Pr.write_shift(1,at.charCodeAt(ke)&127);Pr=Pr.slice(0,Pr.l),nt[Ve]=c1e.buf(Ye.content,0);var Dn=Ye.content;xe==8&&(Dn=V(Dn)),Y=Ln(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Te),Y.write_shift(2,xe),Ye.mt?i(Y,Ye.mt):Y.write_shift(4,0),Y.write_shift(-4,nt[Ve]),Y.write_shift(4,Dn.length),Y.write_shift(4,Ye.content.length),Y.write_shift(2,Pr.length),Y.write_shift(2,0),Ce+=Y.length,O.push(Y),Ce+=Pr.length,O.push(Pr),Ce+=Dn.length,O.push(Dn),Y=Ln(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Te),Y.write_shift(2,xe),Y.write_shift(4,0),Y.write_shift(-4,nt[Ve]),Y.write_shift(4,Dn.length),Y.write_shift(4,Ye.content.length),Y.write_shift(2,Pr.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,Or),Dt+=Y.l,K.push(Y),Dt+=Pr.length,K.push(Pr),++Ve}return Y=Ln(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,Ve),Y.write_shift(2,Ve),Y.write_shift(4,Dt),Y.write_shift(4,Ce),Y.write_shift(2,0),eu([eu(O),eu(K),Y])}var oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ne(W,re){if(W.ctype)return W.ctype;var Z=W.name||"",O=Z.match(/\.([^\.]+)$/);return O&&oe[O[1]]||re&&(O=(Z=re).match(/[\.\\]([^\.\\])+$/),O&&oe[O[1]])?oe[O[1]]:"application/octet-stream"}function Re(W){for(var re=rF(W),Z=[],O=0;O<re.length;O+=76)Z.push(re.slice(O,O+76));return Z.join(`\r
`)+`\r
`}function Me(W){var re=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Ce=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Ce.length==1?"0"+Ce:Ce)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],O=re.split(`\r
`),K=0;K<O.length;++K){var Y=O[K];if(Y.length==0){Z.push("");continue}for(var xe=0;xe<Y.length;){var Te=76,Se=Y.slice(xe,xe+Te);Se.charAt(Te-1)=="="?Te--:Se.charAt(Te-2)=="="?Te-=2:Se.charAt(Te-3)=="="&&(Te-=3),Se=Y.slice(xe,xe+Te),xe+=Te,xe<Y.length&&(Se+="="),Z.push(Se)}}return Z.join(`\r
`)}function ft(W){for(var re=[],Z=0;Z<W.length;++Z){for(var O=W[Z];Z<=W.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+W[++Z];re.push(O)}for(var K=0;K<re.length;++K)re[K]=re[K].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return vo(re.join(`\r
`))}function tt(W,re,Z){for(var O="",K="",Y="",xe,Te=0;Te<10;++Te){var Se=re[Te];if(!Se||Se.match(/^\s*$/))break;var ke=Se.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":O=ke[2].trim();break;case"content-type":Y=ke[2].trim();break;case"content-transfer-encoding":K=ke[2].trim();break}}switch(++Te,K.toLowerCase()){case"base64":xe=vo(hi(re.slice(Te).join("")));break;case"quoted-printable":xe=ft(re.slice(Te));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+K)}var Ce=xs(W,O.slice(Z.length),xe,{unsafe:!0});Y&&(Ce.ctype=Y)}function qt(W,re){if(R(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=re&&re.root||"",O=(tr&&Buffer.isBuffer(W)?W.toString("binary"):R(W)).split(`\r
`),K=0,Y="";for(K=0;K<O.length;++K)if(Y=O[K],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),Z||(Z=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),Y.slice(0,Z.length)!=Z););var xe=(O[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Te="--"+(xe[1]||""),Se=[],ke=[],Ce={FileIndex:Se,FullPaths:ke};k(Ce);var Ve,Ze=0;for(K=0;K<O.length;++K){var at=O[K];at!==Te&&at!==Te+"--"||(Ze++&&tt(Ce,O.slice(Ve,K),Z),Ve=K)}return Ce}function Ar(W,re){var Z=re||{},O=Z.boundary||"SheetJS";O="------="+O;for(var K=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],Y=W.FullPaths[0],xe=Y,Te=W.FileIndex[0],Se=1;Se<W.FullPaths.length;++Se)if(xe=W.FullPaths[Se].slice(Y.length),Te=W.FileIndex[Se],!(!Te.size||!Te.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Dt){return"_x"+Dt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Dt){return"_u"+Dt.charCodeAt(0).toString(16)+"_"});for(var ke=Te.content,Ce=tr&&Buffer.isBuffer(ke)?ke.toString("binary"):R(ke),Ve=0,Ze=Math.min(1024,Ce.length),at=0,Ye=0;Ye<=Ze;++Ye)(at=Ce.charCodeAt(Ye))>=32&&at<128&&++Ve;var nt=Ve>=Ze*4/5;K.push(O),K.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+xe),K.push("Content-Transfer-Encoding: "+(nt?"quoted-printable":"base64")),K.push("Content-Type: "+Ne(Te,xe)),K.push(""),K.push(nt?Me(Ce):Re(Ce))}return K.push(O+`--\r
`),K.join(`\r
`)}function vs(W){var re={};return k(re,W),re}function xs(W,re,Z,O){var K=O&&O.unsafe;K||k(W);var Y=!K&&rr.find(W,re);if(!Y){var xe=W.FullPaths[0];re.slice(0,xe.length)==xe?xe=re:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+re).replace("//","/")),Y={name:s(re),type:2},W.FileIndex.push(Y),W.FullPaths.push(xe),K||rr.utils.cfb_gc(W)}return Y.content=Z,Y.size=Z?Z.length:0,O&&(O.CLSID&&(Y.clsid=O.CLSID),O.mt&&(Y.mt=O.mt),O.ct&&(Y.ct=O.ct)),Y}function ar(W,re){k(W);var Z=rr.find(W,re);if(Z){for(var O=0;O<W.FileIndex.length;++O)if(W.FileIndex[O]==Z)return W.FileIndex.splice(O,1),W.FullPaths.splice(O,1),!0}return!1}function id(W,re,Z){k(W);var O=rr.find(W,re);if(O){for(var K=0;K<W.FileIndex.length;++K)if(W.FileIndex[K]==O)return W.FileIndex[K].name=s(Z),W.FullPaths[K]=Z,!0}return!1}function od(W){E(W,!0)}return r.find=I,r.read=N,r.parse=f,r.write=J,r.writeFile=L,r.utils={cfb_new:vs,cfb_add:xs,cfb_del:ar,cfb_mov:id,cfb_gc:od,ReadShift:pg,CheckField:eK,prep_blob:ia,bconcat:eu,use_zlib:A,_deflateRaw:Ee,_inflateRaw:pr,consts:z},r}();function u1e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var r=File(e);r.open("r"),r.encoding="binary";var n=r.read();return r.close(),n}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+e)}function Nl(e){for(var r=Object.keys(e),n=[],a=0;a<r.length;++a)Object.prototype.hasOwnProperty.call(e,r[a])&&n.push(r[a]);return n}function aP(e){for(var r=[],n=Nl(e),a=0;a!==n.length;++a)r[e[n[a]]]=n[a];return r}var Gw=new Date(1899,11,30,0,0,0);function ds(e,r){var n=e.getTime(),a=Gw.getTime()+(e.getTimezoneOffset()-Gw.getTimezoneOffset())*6e4;return(n-a)/(24*60*60*1e3)}var Dq=new Date,d1e=Gw.getTime()+(Dq.getTimezoneOffset()-Gw.getTimezoneOffset())*6e4,dF=Dq.getTimezoneOffset();function pS(e){var r=new Date;return r.setTime(e*24*60*60*1e3+d1e),r.getTimezoneOffset()!==dF&&r.setTime(r.getTime()+(r.getTimezoneOffset()-dF)*6e4),r}function f1e(e){var r=0,n=0,a=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(a=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(a)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}r+=n*parseInt(s[i],10)}return r}var fF=new Date("2017-02-19T19:06:09.000Z"),Rq=isNaN(fF.getFullYear())?new Date("2/19/17"):fF,h1e=Rq.getFullYear()==2017;function ea(e,r){var n=new Date(e);if(h1e)return r>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):r<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(Rq.getFullYear()==1917&&!isNaN(n.getFullYear())){var a=n.getFullYear();return e.indexOf(""+a)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function kf(e,r){if(tr&&Buffer.isBuffer(e)){if(r){if(e[0]==255&&e[1]==254)return G0(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return G0(wq(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(r){if(e[0]==255&&e[1]==254)return G0(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return G0(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var a=[],s=0;s!=e.length;++s)a.push(String.fromCharCode(e[s]));return a.join("")}function fa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=fa(e[n]));return r}function on(e,r){for(var n="";n.length<r;)n+=e;return n}function ko(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var n=1,a=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(r=Number(a))||(a=a.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(r=Number(a)))?r/n:r}var m1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gm(e){var r=new Date(e),n=new Date(NaN),a=r.getYear(),s=r.getMonth(),i=r.getDate();if(isNaN(i))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&m1e.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return a<0||a>8099?n:(s>0||i>1)&&a!=101?r:e.match(/[^-0-9:,\/\\]/)?n:r}var p1e=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,a,s){if(e||typeof a=="string")return n.split(a);for(var i=n.split(a),o=[i[0]],c=1;c<i.length;++c)o.push(s),o.push(i[c]);return o}}();function Iq(e){return e?e.content&&e.type?kf(e.content,!0):e.data?H0(e.data):e.asNodeBuffer&&tr?H0(e.asNodeBuffer().toString("binary")):e.asBinary?H0(e.asBinary()):e._data&&e._data.getContent?H0(kf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Mq(e){if(!e)return null;if(e.data)return eF(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var r=e._data.getContent();return typeof r=="string"?eF(r):Array.prototype.slice.call(r)}return e.content&&e.type?e.content:null}function g1e(e){return e&&e.name.slice(-4)===".bin"?Mq(e):Iq(e)}function Ni(e,r){for(var n=e.FullPaths||Nl(e.files),a=r.toLowerCase().replace(/[\/]/g,"\\"),s=a.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==o||s==o)return e.files?e.files[n[i]]:e.FileIndex[i]}return null}function sP(e,r){var n=Ni(e,r);if(n==null)throw new Error("Cannot find file "+r+" in zip");return n}function Sn(e,r,n){if(!n)return g1e(sP(e,r));if(!r)return null;try{return Sn(e,r)}catch{return null}}function ai(e,r,n){if(!n)return Iq(sP(e,r));if(!r)return null;try{return ai(e,r)}catch{return null}}function v1e(e,r,n){return Mq(sP(e,r))}function hF(e){for(var r=e.FullPaths||Nl(e.files),n=[],a=0;a<r.length;++a)r[a].slice(-1)!="/"&&n.push(r[a].replace(/^Root Entry[\/]/,""));return n.sort()}function x1e(e,r,n){if(e.FullPaths){if(typeof n=="string"){var a;return tr?a=Uf(n):a=Fye(n),rr.utils.cfb_add(e,r,a)}rr.utils.cfb_add(e,r,n)}else e.file(r,n)}function Fq(e,r){switch(r.type){case"base64":return rr.read(e,{type:"base64"});case"binary":return rr.read(e,{type:"binary"});case"buffer":case"array":return rr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+r.type)}function K0(e,r){if(e.charAt(0)=="/")return e.slice(1);var n=r.split("/");r.slice(-1)!="/"&&n.pop();for(var a=e.split("/");a.length!==0;){var s=a.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var Lq=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,y1e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,mF=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,w1e=/<[^>]*>/g,Va=Lq.match(mF)?mF:w1e,b1e=/<\w*:/,_1e=/<(\/?)\w+:/;function Ot(e,r,n){for(var a={},s=0,i=0;s!==e.length&&!((i=e.charCodeAt(s))===32||i===10||i===13);++s);if(r||(a[0]=e.slice(0,s)),s===e.length)return a;var o=e.match(y1e),c=0,u="",d=0,f="",h="",m=1;if(o)for(d=0;d!=o.length;++d){for(h=o[d],i=0;i!=h.length&&h.charCodeAt(i)!==61;++i);for(f=h.slice(0,i).trim();h.charCodeAt(i+1)==32;)++i;for(m=(s=h.charCodeAt(i+1))==34||s==39?1:0,u=h.slice(i+1+m,h.length-m),c=0;c!=f.length&&f.charCodeAt(c)!==58;++c);if(c===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),a[f]=u,a[f.toLowerCase()]=u;else{var p=(c===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(c+1);if(a[p]&&f.slice(c-3,c)=="ext")continue;a[p]=u,a[p.toLowerCase()]=u}}return a}function Rl(e){return e.replace(_1e,"<$1")}var $q={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},S1e=aP($q),lr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,r=/_x([\da-fA-F]{4})_/ig;return function n(a){var s=a+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(e,function(c,u){return $q[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(r,function(c,u){return String.fromCharCode(parseInt(u,16))});var o=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,o)+n(s.slice(o+3))}}(),j1e=/[&<>'"]/g,k1e=/[\u0000-\u001f]/g;function iP(e){var r=e+"";return r.replace(j1e,function(n){return S1e[n]}).replace(/\n/g,"<br/>").replace(k1e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var pF=function(){var e=/&#(\d+);/g;function r(n,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(e,r)}}();function Kr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Uk(e){for(var r="",n=0,a=0,s=0,i=0,o=0,c=0;n<e.length;){if(a=e.charCodeAt(n++),a<128){r+=String.fromCharCode(a);continue}if(s=e.charCodeAt(n++),a>191&&a<224){o=(a&31)<<6,o|=s&63,r+=String.fromCharCode(o);continue}if(i=e.charCodeAt(n++),a<240){r+=String.fromCharCode((a&15)<<12|(s&63)<<6|i&63);continue}o=e.charCodeAt(n++),c=((a&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,r+=String.fromCharCode(55296+(c>>>10&1023)),r+=String.fromCharCode(56320+(c&1023))}return r}function gF(e){var r=Uu(2*e.length),n,a,s=1,i=0,o=0,c;for(a=0;a<e.length;a+=s)s=1,(c=e.charCodeAt(a))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(a+1)&63),s=2):c<240?(n=(c&15)*4096+(e.charCodeAt(a+1)&63)*64+(e.charCodeAt(a+2)&63),s=3):(s=4,n=(c&7)*262144+(e.charCodeAt(a+1)&63)*4096+(e.charCodeAt(a+2)&63)*64+(e.charCodeAt(a+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(r[i++]=o&255,r[i++]=o>>>8,o=0),r[i++]=n%256,r[i++]=n>>>8;return r.slice(0,i).toString("ucs2")}function vF(e){return Uf(e,"binary").toString("utf8")}var Yy="foo bar baz",Lr=tr&&(vF(Yy)==Uk(Yy)&&vF||gF(Yy)==Uk(Yy)&&gF)||Uk,G0=tr?function(e){return Uf(e,"utf8").toString("binary")}:function(e){for(var r=[],n=0,a=0,s=0;n<e.length;)switch(a=e.charCodeAt(n++),!0){case a<128:r.push(String.fromCharCode(a));break;case a<2048:r.push(String.fromCharCode(192+(a>>6))),r.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,s=e.charCodeAt(n++)-56320+(a<<10),r.push(String.fromCharCode(240+(s>>18&7))),r.push(String.fromCharCode(144+(s>>12&63))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)));break;default:r.push(String.fromCharCode(224+(a>>12))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)))}return r.join("")},fv=function(){var e={};return function(n,a){var s=n+"|"+(a||"");return e[s]?e[s]:e[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",a||"")}}(),Bq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(n){for(var a=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)a=a.replace(e[s][0],e[s][1]);return a}}(),N1e=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),E1e=/<\/?(?:vt:)?variant>/g,C1e=/<(?:vt:)([^>]*)>([\s\S]*)</;function xF(e,r){var n=Ot(e),a=e.match(N1e(n.baseType))||[],s=[];if(a.length!=n.size){if(r.WTF)throw new Error("unexpected vector length "+a.length+" != "+n.size);return s}return a.forEach(function(i){var o=i.replace(E1e,"").match(C1e);o&&s.push({v:Lr(o[2]),t:o[1]})}),s}var T1e=/(^\s|\s$|\n)/;function A1e(e){return Nl(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function O1e(e,r,n){return"<"+e+(n!=null?A1e(n):"")+(r!=null?(r.match(T1e)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function oP(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Lr(Vf(tP(e)));throw new Error("Bad input format: expected Buffer or string")}var hv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,P1e={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},D1e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function R1e(e,r){for(var n=1-2*(e[r+7]>>>7),a=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),s=e[r+6]&15,i=5;i>=0;--i)s=s*256+e[r+i];return a==2047?s==0?n*(1/0):NaN:(a==0?a=-1022:(a-=1023,s+=Math.pow(2,52)),n*Math.pow(2,a-52)*s)}function I1e(e,r,n){var a=(r<0||1/r==-1/0?1:0)<<7,s=0,i=0,o=a?-r:r;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(r)?26985:0);for(var c=0;c<=5;++c,i/=256)e[n+c]=i&255;e[n+6]=(s&15)<<4|i&15,e[n+7]=s>>4|a}var yF=function(e){for(var r=[],n=10240,a=0;a<e[0].length;++a)if(e[0][a])for(var s=0,i=e[0][a].length;s<i;s+=n)r.push.apply(r,e[0][a].slice(s,s+n));return r},wF=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:Uf(r)})):yF(e)}:yF,bF=function(e,r,n){for(var a=[],s=r;s<n;s+=2)a.push(String.fromCharCode(ec(e,s)));return a.join("").replace(us,"")},lP=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf16le",r,n).replace(us,""):bF(e,r,n)}:bF,_F=function(e,r,n){for(var a=[],s=r;s<r+n;++s)a.push(("0"+e[s].toString(16)).slice(-2));return a.join("")},Uq=tr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("hex",r,r+n):_F(e,r,n)}:_F,SF=function(e,r,n){for(var a=[],s=r;s<n;s++)a.push(String.fromCharCode(bh(e,s)));return a.join("")},$x=tr?function(r,n,a){return Buffer.isBuffer(r)?r.toString("utf8",n,a):SF(r,n,a)}:SF,Vq=function(e,r){var n=ei(e,r);return n>0?$x(e,r+4,r+4+n-1):""},zq=Vq,Wq=function(e,r){var n=ei(e,r);return n>0?$x(e,r+4,r+4+n-1):""},Hq=Wq,qq=function(e,r){var n=2*ei(e,r);return n>0?$x(e,r+4,r+4+n-1):""},Kq=qq,Gq=function(r,n){var a=ei(r,n);return a>0?lP(r,n+4,n+4+a):""},Yq=Gq,Xq=function(e,r){var n=ei(e,r);return n>0?$x(e,r+4,r+4+n):""},Jq=Xq,Qq=function(e,r){return R1e(e,r)},Yw=Qq,Zq=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};tr&&(zq=function(r,n){if(!Buffer.isBuffer(r))return Vq(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},Hq=function(r,n){if(!Buffer.isBuffer(r))return Wq(r,n);var a=r.readUInt32LE(n);return a>0?r.toString("utf8",n+4,n+4+a-1):""},Kq=function(r,n){if(!Buffer.isBuffer(r))return qq(r,n);var a=2*r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a-1)},Yq=function(r,n){if(!Buffer.isBuffer(r))return Gq(r,n);var a=r.readUInt32LE(n);return r.toString("utf16le",n+4,n+4+a)},Jq=function(r,n){if(!Buffer.isBuffer(r))return Xq(r,n);var a=r.readUInt32LE(n);return r.toString("utf8",n+4,n+4+a)},Yw=function(r,n){return Buffer.isBuffer(r)?r.readDoubleLE(n):Qq(r,n)},Zq=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var bh=function(e,r){return e[r]},ec=function(e,r){return e[r+1]*256+e[r]},M1e=function(e,r){var n=e[r+1]*256+e[r];return n<32768?n:(65535-n+1)*-1},ei=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},Nd=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},F1e=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function pg(e,r){var n="",a,s,i=[],o,c,u,d;switch(r){case"dbcs":if(d=this.l,tr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(ec(this,d)),d+=2;e*=2;break;case"utf8":n=$x(this,this.l,this.l+e);break;case"utf16le":e*=2,n=lP(this,this.l,this.l+e);break;case"wstr":return pg.call(this,e,"dbcs");case"lpstr-ansi":n=zq(this,this.l),e=4+ei(this,this.l);break;case"lpstr-cp":n=Hq(this,this.l),e=4+ei(this,this.l);break;case"lpwstr":n=Kq(this,this.l),e=4+2*ei(this,this.l);break;case"lpp4":e=4+ei(this,this.l),n=Yq(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ei(this,this.l),n=Jq(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=bh(this,this.l+e++))!==0;)i.push(Gy(o));n=i.join("");break;case"_wstr":for(e=0,n="";(o=ec(this,this.l+e))!==0;)i.push(Gy(o)),e+=2;e+=2,n=i.join("");break;case"dbcs-cont":for(n="",d=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=bh(this,d),this.l=d+1,c=pg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gy(ec(this,d))),d+=2}n=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=bh(this,d),this.l=d+1,c=pg.call(this,e-u,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gy(bh(this,d))),d+=1}n=i.join("");break;default:switch(e){case 1:return a=bh(this,this.l),this.l++,a;case 2:return a=(r==="i"?M1e:ec)(this,this.l),this.l+=2,a;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(a=(e>0?Nd:F1e)(this,this.l),this.l+=4,a):(s=ei(this,this.l),this.l+=4,s);case 8:case-8:if(r==="f")return e==8?s=Yw(this,this.l):s=Yw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:n=Uq(this,this.l,e);break}}return this.l+=e,n}var L1e=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255,e[n+2]=r>>>16&255,e[n+3]=r>>>24&255},$1e=function(e,r,n){e[n]=r&255,e[n+1]=r>>8&255,e[n+2]=r>>16&255,e[n+3]=r>>24&255},B1e=function(e,r,n){e[n]=r&255,e[n+1]=r>>>8&255};function U1e(e,r,n){var a=0,s=0;if(n==="dbcs"){for(s=0;s!=r.length;++s)B1e(this,r.charCodeAt(s),this.l+2*s);a=2*r.length}else if(n==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255;a=r.length}else if(n==="hex"){for(;s<e;++s)this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(r.length,e);++s){var o=r.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:a=1,this[this.l]=r&255;break;case 2:a=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:a=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:a=4,L1e(this,r,this.l);break;case 8:if(a=8,n==="f"){I1e(this,r,this.l);break}case 16:break;case-4:a=4,$1e(this,r,this.l);break}return this.l+=a,this}function eK(e,r){var n=Uq(this,this.l,e.length>>1);if(n!==e)throw new Error(r+"Expected "+e+" saw "+n);this.l+=e.length>>1}function ia(e,r){e.l=r,e.read_shift=pg,e.chk=eK,e.write_shift=U1e}function Ba(e,r){e.l+=r}function Ln(e){var r=Uu(e);return ia(r,0),r}function Cc(e,r,n){if(e){var a,s,i;ia(e,e.l||0);for(var o=e.length,c=0,u=0;e.l<o;){c=e.read_shift(1),c&128&&(c=(c&127)+((e.read_shift(1)&127)<<7));var d=tb[c]||tb[65535];for(a=e.read_shift(1),i=a&127,s=1;s<4&&a&128;++s)i+=((a=e.read_shift(1))&127)<<7*s;u=e.l+i;var f=d.f&&d.f(e,i,n);if(e.l=u,r(f,d,c))return}}}function CE(){var e=[],r=tr?256:2048,n=function(d){var f=Ln(d);return ia(f,0),f},a=n(r),s=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&e.push(a),a=null)},i=function(d){return a&&d<a.length-a.l?a:(s(),a=n(Math.max(d+1,r)))},o=function(){return s(),eu(e)},c=function(d){s(),a=d,a.l==null&&(a.l=a.length),i(r)};return{next:i,push:c,end:o,_bufs:e}}function gg(e,r,n){var a=fa(e);if(r.s?(a.cRel&&(a.c+=r.s.c),a.rRel&&(a.r+=r.s.r)):(a.cRel&&(a.c+=r.c),a.rRel&&(a.r+=r.r)),!n||n.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function jF(e,r,n){var a=fa(e);return a.s=gg(a.s,r.s,n),a.e=gg(a.e,r.s,n),a}function vg(e,r){if(e.cRel&&e.c<0)for(e=fa(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=fa(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var n=Mt(e);return!e.cRel&&e.cRel!=null&&(n=W1e(n)),!e.rRel&&e.rRel!=null&&(n=V1e(n)),n}function Vk(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Vn(e.s.c)+":"+(e.e.cRel?"":"$")+Vn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ha(e.s.r)+":"+(e.e.rRel?"":"$")+ha(e.e.r):vg(e.s,r.biff)+":"+vg(e.e,r.biff)}function cP(e){return parseInt(z1e(e),10)-1}function ha(e){return""+(e+1)}function V1e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function z1e(e){return e.replace(/\$(\d+)$/,"$1")}function uP(e){for(var r=H1e(e),n=0,a=0;a!==r.length;++a)n=26*n+r.charCodeAt(a)-64;return n-1}function Vn(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function W1e(e){return e.replace(/^([A-Z])/,"$$$1")}function H1e(e){return e.replace(/^\$([A-Z])/,"$1")}function q1e(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function as(e){for(var r=0,n=0,a=0;a<e.length;++a){var s=e.charCodeAt(a);s>=48&&s<=57?r=10*r+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:r-1}}function Mt(e){for(var r=e.c+1,n="";r;r=(r-1)/26|0)n=String.fromCharCode((r-1)%26+65)+n;return n+(e.r+1)}function qp(e){var r=e.indexOf(":");return r==-1?{s:as(e),e:as(e)}:{s:as(e.slice(0,r)),e:as(e.slice(r+1))}}function nr(e,r){return typeof r>"u"||typeof r=="number"?nr(e.s,e.e):(typeof e!="string"&&(e=Mt(e)),typeof r!="string"&&(r=Mt(r)),e==r?e:e+":"+r)}function un(e){var r={s:{c:0,r:0},e:{c:0,r:0}},n=0,a=0,s=0,i=e.length;for(n=0;a<i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.s.c=--n,n=0;a<i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;if(r.s.r=--n,a===i||s!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++a,n=0;a!=i&&!((s=e.charCodeAt(a)-64)<1||s>26);++a)n=26*n+s;for(r.e.c=--n,n=0;a!=i&&!((s=e.charCodeAt(a)-48)<0||s>9);++a)n=10*n+s;return r.e.r=--n,r}function kF(e,r){var n=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Wi(e.z,n?ds(r):r)}catch{}try{return e.w=Wi((e.XF||{}).numFmtId||(n?14:0),n?ds(r):r)}catch{return""+r}}function bc(e,r,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?Hf[e.v]||e.v:r==null?kF(e,e.v):kF(e,r))}function td(e,r){var n=r&&r.sheet?r.sheet:"Sheet1",a={};return a[n]=e,{SheetNames:[n],Sheets:a}}function tK(e,r,n){var a=n||{},s=e?Array.isArray(e):a.dense,i=e||(s?[]:{}),o=0,c=0;if(i&&a.origin!=null){if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?as(a.origin):a.origin;o=u.r,c=u.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=un(i["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(d.e.r=o=f.e.r+1)}for(var h=0;h!=r.length;++h)if(r[h]){if(!Array.isArray(r[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=r[h].length;++m)if(!(typeof r[h][m]>"u")){var p={v:r[h][m]},v=o+h,g=c+m;if(d.s.r>v&&(d.s.r=v),d.s.c>g&&(d.s.c=g),d.e.r<v&&(d.e.r=v),d.e.c<g&&(d.e.c=g),r[h][m]&&typeof r[h][m]=="object"&&!Array.isArray(r[h][m])&&!(r[h][m]instanceof Date))p=r[h][m];else if(Array.isArray(p.v)&&(p.f=r[h][m][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(a.nullError)p.t="e",p.v=0;else if(a.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=a.dateNF||Ut[14],a.cellDates?(p.t="d",p.w=Wi(p.z,ds(p.v))):(p.t="n",p.v=ds(p.v),p.w=Wi(p.z,p.v))):p.t="s";if(s)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(p.z=i[v][g].z),i[v][g]=p;else{var x=Mt({c:g,r:v});i[x]&&i[x].z&&(p.z=i[x].z),i[x]=p}}}return d.s.c<1e7&&(i["!ref"]=nr(d)),i}function Kp(e,r){return tK(null,e,r)}function K1e(e){return e.read_shift(4,"i")}function Ma(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function G1e(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dP(e,r){var n=e.l,a=e.read_shift(1),s=Ma(e),i=[],o={t:s,h:s};if(a&1){for(var c=e.read_shift(4),u=0;u!=c;++u)i.push(G1e(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=n+r,o}var Y1e=dP;function Ki(e){var r=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:n}}function zf(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}var X1e=Ma;function fP(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}var J1e=Ma,TE=fP;function hP(e){var r=e.slice(e.l,e.l+4),n=r[0]&1,a=r[0]&2;e.l+=4;var s=a===0?Yw([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Nd(r,0)>>2;return n?s/100:s}function rK(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}var Wf=rK;function Da(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Q1e(e){var r={},n=e.read_shift(1),a=n>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),c=e.read_shift(1),u=e.read_shift(1);switch(e.l++,a){case 0:r.auto=1;break;case 1:r.index=s;var d=nf[s];d&&(r.rgb=pv(d));break;case 2:r.rgb=pv([o,c,u]);break;case 3:r.theme=s;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function Z1e(e){var r=e.read_shift(1);e.l++;var n={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return n}function nK(e,r){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=e.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return e.l-=4,e.read_shift(0,r==1?"lpstr":"lpwstr")}function ewe(e){return nK(e,1)}function twe(e){return nK(e,2)}var mP=2,bs=3,Xy=11,NF=12,Xw=19,Jy=64,rwe=65,nwe=71,awe=4108,swe=4126,Kn=80,aK=81,iwe=[Kn,aK],owe={1:{n:"CodePage",t:mP},2:{n:"Category",t:Kn},3:{n:"PresentationFormat",t:Kn},4:{n:"ByteCount",t:bs},5:{n:"LineCount",t:bs},6:{n:"ParagraphCount",t:bs},7:{n:"SlideCount",t:bs},8:{n:"NoteCount",t:bs},9:{n:"HiddenCount",t:bs},10:{n:"MultimediaClipCount",t:bs},11:{n:"ScaleCrop",t:Xy},12:{n:"HeadingPairs",t:awe},13:{n:"TitlesOfParts",t:swe},14:{n:"Manager",t:Kn},15:{n:"Company",t:Kn},16:{n:"LinksUpToDate",t:Xy},17:{n:"CharacterCount",t:bs},19:{n:"SharedDoc",t:Xy},22:{n:"HyperlinksChanged",t:Xy},23:{n:"AppVersion",t:bs,p:"version"},24:{n:"DigSig",t:rwe},26:{n:"ContentType",t:Kn},27:{n:"ContentStatus",t:Kn},28:{n:"Language",t:Kn},29:{n:"Version",t:Kn},255:{},2147483648:{n:"Locale",t:Xw},2147483651:{n:"Behavior",t:Xw},1919054434:{}},lwe={1:{n:"CodePage",t:mP},2:{n:"Title",t:Kn},3:{n:"Subject",t:Kn},4:{n:"Author",t:Kn},5:{n:"Keywords",t:Kn},6:{n:"Comments",t:Kn},7:{n:"Template",t:Kn},8:{n:"LastAuthor",t:Kn},9:{n:"RevNumber",t:Kn},10:{n:"EditTime",t:Jy},11:{n:"LastPrinted",t:Jy},12:{n:"CreatedDate",t:Jy},13:{n:"ModifiedDate",t:Jy},14:{n:"PageCount",t:bs},15:{n:"WordCount",t:bs},16:{n:"CharCount",t:bs},17:{n:"Thumbnail",t:nwe},18:{n:"Application",t:Kn},19:{n:"DocSecurity",t:bs},255:{},2147483648:{n:"Locale",t:Xw},2147483651:{n:"Behavior",t:Xw},1919054434:{}},EF={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},cwe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function uwe(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var dwe=uwe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nf=fa(dwe),Hf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},sK={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},CF={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function fwe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function hwe(e){var r=fwe();if(!e||!e.match)return r;var n={};if((e.match(Va)||[]).forEach(function(a){var s=Ot(a);switch(s[0].replace(b1e,"<")){case"<?xml":break;case"<Types":r.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":r[CF[s.ContentType]]!==void 0&&r[CF[s.ContentType]].push(s.PartName);break}}),r.xmlns!==P1e.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=n,delete r.calcchains,r}var Vh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function AE(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function xg(e,r){var n={"!id":{}};if(!e)return n;r.charAt(0)!=="/"&&(r="/"+r);var a={};return(e.match(Va)||[]).forEach(function(s){var i=Ot(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var c=i.TargetMode==="External"?i.Target:K0(i.Target,r);n[c]=o,a[i.Id]=o}}),n["!id"]=a,n}var mwe="application/vnd.oasis.opendocument.spreadsheet";function pwe(e,r){for(var n=oP(e),a,s;a=hv.exec(n);)switch(a[3]){case"manifest":break;case"file-entry":if(s=Ot(a[0],!1),s.path=="/"&&s.type!==mwe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw a}}var yg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],gwe=function(){for(var e=new Array(yg.length),r=0;r<yg.length;++r){var n=yg[r],a="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[r]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return e}();function iK(e){var r={};e=Lr(e);for(var n=0;n<yg.length;++n){var a=yg[n],s=e.match(gwe[n]);s!=null&&s.length>0&&(r[a[1]]=lr(s[1])),a[2]==="date"&&r[a[1]]&&(r[a[1]]=ea(r[a[1]]))}return r}var vwe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function oK(e,r,n,a){var s=[];if(typeof e=="string")s=xF(e,a);else for(var i=0;i<e.length;++i)s=s.concat(e[i].map(function(f){return{v:f}}));var o=typeof r=="string"?xF(r,a).map(function(f){return f.v}):r,c=0,u=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(u=+s[d+1].v,s[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=o.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=o.slice(c,c+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=o.slice(c,c+u);break}c+=u}}function xwe(e,r,n){var a={};return r||(r={}),e=Lr(e),vwe.forEach(function(s){var i=(e.match(fv(s[0]))||[])[1];switch(s[2]){case"string":i&&(r[s[1]]=lr(i));break;case"bool":r[s[1]]=i==="true";break;case"raw":var o=e.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(a[s[1]]=o[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&oK(a.HeadingPairs,a.TitlesOfParts,r,n),r}var ywe=/<[^>]+>[^<]*/g;function wwe(e,r){var n={},a="",s=e.match(ywe);if(s)for(var i=0;i!=s.length;++i){var o=s[i],c=Ot(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":a=lr(c.name);break;case"</property>":a=null;break;default:if(o.indexOf("<vt:")===0){var u=o.split(">"),d=u[0].slice(4),f=u[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[a]=lr(f);break;case"bool":n[a]=Kr(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[a]=parseInt(f,10);break;case"r4":case"r8":case"decimal":n[a]=parseFloat(f);break;case"filetime":case"date":n[a]=ea(f);break;case"cy":case"error":n[a]=lr(f);break;default:if(d.slice(-1)=="/")break;r.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,u)}}else if(o.slice(0,2)!=="</"){if(r.WTF)throw new Error(o)}}}return n}var bwe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},zk;function _we(e,r,n){zk||(zk=aP(bwe)),r=zk[r]||r,e[r]=n}function pP(e){var r=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function lK(e,r,n){var a=e.l,s=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-a&3;)++e.l;return s}function cK(e,r,n){var a=e.read_shift(0,"lpwstr");return a}function uK(e,r,n){return r===31?cK(e):lK(e,r,n)}function OE(e,r,n){return uK(e,r,n===!1?0:4)}function Swe(e,r){if(!r)throw new Error("VtUnalignedString must have positive length");return uK(e,r,0)}function jwe(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a){var s=e.l;n[a]=e.read_shift(0,"lpwstr").replace(us,""),e.l-s&2&&(e.l+=2)}return n}function kwe(e){for(var r=e.read_shift(4),n=[],a=0;a!=r;++a)n[a]=e.read_shift(0,"lpstr-cp").replace(us,"");return n}function Nwe(e){var r=e.l,n=Jw(e,aK);e[e.l]==0&&e[e.l+1]==0&&e.l-r&2&&(e.l+=2);var a=Jw(e,bs);return[n,a]}function Ewe(e){for(var r=e.read_shift(4),n=[],a=0;a<r/2;++a)n.push(Nwe(e));return n}function TF(e,r){for(var n=e.read_shift(4),a={},s=0;s!=n;++s){var i=e.read_shift(4),o=e.read_shift(4);a[i]=e.read_shift(o,r===1200?"utf16le":"utf8").replace(us,"").replace(q0,"!"),r===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),a}function dK(e){var r=e.read_shift(4),n=e.slice(e.l,e.l+r);return e.l+=r,(r&3)>0&&(e.l+=4-(r&3)&3),n}function Cwe(e){var r={};return r.Size=e.read_shift(4),e.l+=r.Size+3-(r.Size-1)%4,r}function Jw(e,r,n){var a=e.read_shift(2),s,i=n||{};if(e.l+=2,r!==NF&&a!==r&&iwe.indexOf(r)===-1&&!((r&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+r+" saw "+a);switch(r===NF?a:r){case 2:return s=e.read_shift(2,"i"),i.raw||(e.l+=2),s;case 3:return s=e.read_shift(4,"i"),s;case 11:return e.read_shift(4)!==0;case 19:return s=e.read_shift(4),s;case 30:return lK(e,a,4).replace(us,"");case 31:return cK(e);case 64:return pP(e);case 65:return dK(e);case 71:return Cwe(e);case 80:return OE(e,a,!i.raw).replace(us,"");case 81:return Swe(e,a).replace(us,"");case 4108:return Ewe(e);case 4126:case 4127:return a==4127?jwe(e):kwe(e);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+a)}}function AF(e,r){var n=e.l,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0,c=0,u=-1,d={};for(o=0;o!=s;++o){var f=e.read_shift(4),h=e.read_shift(4);i[o]=[f,h+n]}i.sort(function(w,_){return w[1]-_[1]});var m={};for(o=0;o!=s;++o){if(e.l!==i[o][1]){var p=!0;if(o>0&&r)switch(r[i[o-1][0]].t){case 2:e.l+2===i[o][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break;case 4108:e.l<=i[o][1]&&(e.l=i[o][1],p=!1);break}if((!r||o==0)&&e.l<=i[o][1]&&(p=!1,e.l=i[o][1]),p)throw new Error("Read Error: Expected address "+i[o][1]+" at "+e.l+" :"+o)}if(r){var v=r[i[o][0]];if(m[v.n]=Jw(e,v.t,{raw:!0}),v.p==="version"&&(m[v.n]=String(m[v.n]>>16)+"."+("0000"+String(m[v.n]&65535)).slice(-4)),v.n=="CodePage")switch(m[v.n]){case 0:m[v.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bo(c=m[v.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[v.n])}}else if(i[o][0]===1){if(c=m.CodePage=Jw(e,mP),bo(c),u!==-1){var g=e.l;e.l=i[u][1],d=TF(e,c),e.l=g}}else if(i[o][0]===0){if(c===0){u=o,e.l=i[o+1][1];continue}d=TF(e,c)}else{var x=d[i[o][0]],b;switch(e[e.l]){case 65:e.l+=4,b=dK(e);break;case 30:e.l+=4,b=OE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,b=OE(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,b=e.read_shift(4,"i");break;case 19:e.l+=4,b=e.read_shift(4);break;case 5:e.l+=4,b=e.read_shift(8,"f");break;case 11:e.l+=4,b=dn(e,4);break;case 64:e.l+=4,b=ea(pP(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[x]=b}}return e.l=n+a,m}function OF(e,r,n){var a=e.content;if(!a)return{};ia(a,0);var s,i,o,c,u=0;a.chk("feff","Byte Order: "),a.read_shift(2);var d=a.read_shift(4),f=a.read_shift(16);if(f!==rr.utils.consts.HEADER_CLSID&&f!==n)throw new Error("Bad PropertySet CLSID "+f);if(s=a.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=a.read_shift(16),c=a.read_shift(4),s===1&&c!==a.l)throw new Error("Length mismatch: "+c+" !== "+a.l);s===2&&(o=a.read_shift(16),u=a.read_shift(4));var h=AF(a,r),m={SystemIdentifier:d};for(var p in h)m[p]=h[p];if(m.FMTID=i,s===1)return m;if(u-a.l==2&&(a.l+=2),a.l!==u)throw new Error("Length mismatch 2: "+a.l+" !== "+u);var v;try{v=AF(a,null)}catch{}for(p in v)m[p]=v[p];return m.FMTID=[i,o],m}function Uc(e,r){return e.read_shift(r),null}function Twe(e,r,n){for(var a=[],s=e.l+r;e.l<s;)a.push(n(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return a}function dn(e,r){return e.read_shift(r)===1}function jn(e){return e.read_shift(2,"u")}function fK(e,r){return Twe(e,r,jn)}function Awe(e){var r=e.read_shift(1),n=e.read_shift(1);return n===1?r:r===1}function Bx(e,r,n){var a=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=a?e.read_shift(a,s):"";return o}function Owe(e){var r=e.read_shift(2),n=e.read_shift(1),a=n&4,s=n&8,i=1+(n&1),o=0,c,u={};s&&(o=e.read_shift(2)),a&&(c=e.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",f=r===0?"":e.read_shift(r,d);return s&&(e.l+=4*o),a&&(e.l+=c),u.t=f,s||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function Nf(e,r,n){var a;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(r,"cpstr");if(n.biff>=12)return e.read_shift(r,"dbcs-cont")}var s=e.read_shift(1);return s===0?a=e.read_shift(r,"sbcs-cont"):a=e.read_shift(r,"dbcs-cont"),a}function Ux(e,r,n){var a=e.read_shift(n&&n.biff==2?1:2);return a===0?(e.l++,""):Nf(e,a,n)}function qf(e,r,n){if(n.biff>5)return Ux(e,r,n);var a=e.read_shift(1);return a===0?(e.l++,""):e.read_shift(a,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Pwe(e){var r=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[r,n]}function Dwe(e){var r=e.read_shift(4),n=e.l,a=!1;r>24&&(e.l+=r-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),e.l=n);var s=e.read_shift((a?r-24:r)>>1,"utf16le").replace(us,"");return a&&(e.l+=24),s}function Rwe(e){for(var r=e.read_shift(2),n="";r-- >0;)n+="../";var a=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=e.read_shift(4);if(s===0)return n+a.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(i>>1,"utf16le").replace(us,"");return n+o}function Iwe(e,r){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Dwe(e);case"0303000000000000c000000000000046":return Rwe(e);default:throw new Error("Unsupported Moniker "+n)}}function Qy(e){var r=e.read_shift(4),n=r>0?e.read_shift(r,"utf16le").replace(us,""):"";return n}function Mwe(e,r){var n=e.l+r,a=e.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var s=e.read_shift(2);e.l+=2;var i,o,c,u,d="",f,h;s&16&&(i=Qy(e,n-e.l)),s&128&&(o=Qy(e,n-e.l)),(s&257)===257&&(c=Qy(e,n-e.l)),(s&257)===1&&(u=Iwe(e,n-e.l)),s&8&&(d=Qy(e,n-e.l)),s&32&&(f=e.read_shift(16)),s&64&&(h=pP(e)),e.l=n;var m=o||c||u||"";m&&d&&(m+="#"+d),m||(m="#"+d),s&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var p={Target:m};return f&&(p.guid=f),h&&(p.time=h),i&&(p.Tooltip=i),p}function hK(e){var r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);return[r,n,a,s]}function mK(e,r){var n=hK(e);return n[3]=0,n}function Il(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{r,c:n,ixfe:a}}function Fwe(e){var r=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:r,flags:n}}function Lwe(e,r,n){return r===0?"":qf(e,r,n)}function $we(e,r,n){var a=n.biff>8?4:2,s=e.read_shift(a),i=e.read_shift(a,"i"),o=e.read_shift(a,"i");return[s,i,o]}function pK(e){var r=e.read_shift(2),n=hP(e);return[r,n]}function Bwe(e,r,n){e.l+=4,r-=4;var a=e.l+r,s=Bx(e,r,n),i=e.read_shift(2);if(a-=e.l,i!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+i);return e.l+=i,s}function gS(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);return{s:{c:a,r},e:{c:s,r:n}}}function gK(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1);return{s:{c:a,r},e:{c:s,r:n}}}var Uwe=gK;function vK(e){e.l+=4;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return e.l+=12,[n,r,a]}function Vwe(e){var r={};return e.l+=4,e.l+=16,r.fSharedNote=e.read_shift(2),e.l+=4,r}function zwe(e){var r={};return e.l+=4,e.cf=e.read_shift(2),r}function ya(e){e.l+=2,e.l+=e.read_shift(2)}var Wwe={0:ya,4:ya,5:ya,6:ya,7:zwe,8:ya,9:ya,10:ya,11:ya,12:ya,13:Vwe,14:ya,15:ya,16:ya,17:ya,18:ya,19:ya,20:ya,21:vK};function Hwe(e,r){for(var n=e.l+r,a=[];e.l<n;){var s=e.read_shift(2);e.l-=2;try{a.push(Wwe[s](e,n-e.l))}catch{return e.l=n,a}}return e.l!=n&&(e.l=n),a}function Zy(e,r){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),r-=2,r>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(r),n}function qwe(e,r){return r===0||e.read_shift(2),1200}function Kwe(e,r,n){if(n.enc)return e.l+=r,"";var a=e.l,s=qf(e,0,n);return e.read_shift(r+a-e.l),s}function Gwe(e,r,n){var a=n&&n.biff==8||r==2?e.read_shift(2):(e.l+=r,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function Ywe(e,r,n){var a=e.read_shift(4),s=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=Bx(e,0,n);return o.length===0&&(o="Sheet1"),{pos:a,hs:s,dt:i,name:o}}function Xwe(e,r){for(var n=e.l+r,a=e.read_shift(4),s=e.read_shift(4),i=[],o=0;o!=s&&e.l<n;++o)i.push(Owe(e));return i.Count=a,i.Unique=s,i}function Jwe(e,r){var n={};return n.dsst=e.read_shift(2),e.l+=r-2,n}function Qwe(e){var r={};r.r=e.read_shift(2),r.c=e.read_shift(2),r.cnt=e.read_shift(2)-r.c;var n=e.read_shift(2);e.l+=4;var a=e.read_shift(1);return e.l+=3,a&7&&(r.level=a&7),a&32&&(r.hidden=!0),a&64&&(r.hpt=n/20),r}function Zwe(e){var r=Fwe(e);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var n=e.read_shift(4);return n!==0}function ebe(e){return e.read_shift(2),e.read_shift(4)}function PF(e,r,n){var a=0;n&&n.biff==2||(a=e.read_shift(2));var s=e.read_shift(2);n&&n.biff==2&&(a=1-(s>>15),s&=32767);var i={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[i,s]}function tbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2),d=e.read_shift(2);return{Pos:[r,n],Dim:[a,s],Flags:i,CurTab:o,FirstTab:c,Selected:u,TabRatio:d}}function rbe(e,r,n){if(n&&n.biff>=2&&n.biff<5)return{};var a=e.read_shift(2);return{RTL:a&64}}function nbe(){}function abe(e,r,n){var a={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return a.name=Bx(e,0,n),a}function sbe(e){var r=Il(e);return r.isst=e.read_shift(4),r}function ibe(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=e.l+r,s=Il(e);n.biff==2&&e.l++;var i=Ux(e,a-e.l,n);return s.val=i,s}function obe(e,r,n){var a=e.read_shift(2),s=qf(e,0,n);return[a,s]}var lbe=qf;function DF(e,r,n){var a=e.l+r,s=n.biff==8||!n.biff?4:2,i=e.read_shift(s),o=e.read_shift(s),c=e.read_shift(2),u=e.read_shift(2);return e.l=a,{s:{r:i,c},e:{r:o,c:u}}}function cbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=pK(e);return{r,c:n,ixfe:a[0],rknum:a[1]}}function ube(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(pK(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r:a,c:s,C:o,rkrec:i}}function dbe(e,r){for(var n=e.l+r-2,a=e.read_shift(2),s=e.read_shift(2),i=[];e.l<n;)i.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r:a,c:s,C:o,ixfe:i}}function fbe(e,r,n,a){var s={},i=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2);return s.patternType=cwe[c>>26],a.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=c&127,s.icvBottom=c>>7&127,s.icvDiag=c>>14&127,s.dgDiag=c>>21&15,s.icvFore=u&127,s.icvBack=u>>7&127,s.fsxButton=u>>14&1),s}function hbe(e,r,n){var a={};return a.ifnt=e.read_shift(2),a.numFmtId=e.read_shift(2),a.flags=e.read_shift(2),a.fStyle=a.flags>>2&1,r-=6,a.data=fbe(e,r,a.fStyle,n),a}function mbe(e){e.l+=4;var r=[e.read_shift(2),e.read_shift(2)];if(r[0]!==0&&r[0]--,r[1]!==0&&r[1]--,r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function RF(e,r,n){var a=Il(e);(n.biff==2||r==9)&&++e.l;var s=Awe(e);return a.val=s,a.t=s===!0||s===!1?"b":"e",a}function pbe(e,r,n){n.biffguess&&n.biff==2&&(n.biff=5);var a=Il(e),s=Da(e);return a.val=s,a}var IF=Lwe;function gbe(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=Nf(e,i),c=[];a>e.l;)c.push(Ux(e));return[i,s,o,c]}function MF(e,r,n){var a=e.read_shift(2),s,i={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return n.sbcch===14849&&(s=Bwe(e,r-2,n)),i.body=s||e.read_shift(r-2),typeof s=="string"&&(i.Name=s),i}var vbe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FF(e,r,n){var a=e.l+r,s=e.read_shift(2),i=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),u=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var d=Nf(e,o,n);s&32&&(d=vbe[d.charCodeAt(0)]);var f=a-e.l;n&&n.biff==2&&--f;var h=a==e.l||c===0||!(f>0)?[]:Qje(e,f,n,c);return{chKey:i,Name:d,itab:u,rgce:h}}function xK(e,r,n){if(n.biff<8)return xbe(e,r,n);for(var a=[],s=e.l+r,i=e.read_shift(n.biff>8?4:2);i--!==0;)a.push($we(e,n.biff>8?12:6,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return a}function xbe(e,r,n){e[e.l+1]==3&&e[e.l]++;var a=Bx(e,r,n);return a.charCodeAt(0)==3?a.slice(1):a}function ybe(e,r,n){if(n.biff<8){e.l+=r;return}var a=e.read_shift(2),s=e.read_shift(2),i=Nf(e,a,n),o=Nf(e,s,n);return[i,o]}function wbe(e,r,n){var a=gK(e);e.l++;var s=e.read_shift(1);return r-=8,[Zje(e,r,n),s,a]}function LF(e,r,n){var a=Uwe(e);switch(n.biff){case 2:e.l++,r-=7;break;case 3:case 4:e.l+=2,r-=8;break;default:e.l+=6,r-=12}return[a,Xje(e,r,n)]}function bbe(e){var r=e.read_shift(4)!==0,n=e.read_shift(4)!==0,a=e.read_shift(4);return[r,n,a]}function _be(e,r,n){if(!(n.biff<8)){var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),c=qf(e,0,n);return n.biff<8&&e.read_shift(1),[{r:a,c:s},c,o,i]}}function Sbe(e,r,n){return _be(e,r,n)}function jbe(e,r){for(var n=[],a=e.read_shift(2);a--;)n.push(gS(e));return n}function kbe(e,r,n){if(n&&n.biff<8)return Ebe(e,r,n);var a=vK(e),s=Hwe(e,r-22,a[1]);return{cmo:a,ft:s}}var Nbe={8:function(e,r){var n=e.l+r;e.l+=10;var a=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=n,{fmt:a}}};function Ebe(e,r,n){e.l+=4;var a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,r-=36;var o=[];return o.push((Nbe[a]||Ba)(e,r,n)),{cmo:[s,a,i],ft:o}}function Cbe(e,r,n){var a=e.l,s="";try{e.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:o=Pwe(e,6,n);var c=e.read_shift(2);e.read_shift(2),jn(e,2);var u=e.read_shift(2);e.l+=u;for(var d=1;d<e.lens.length-1;++d){if(e.l-a!=e.lens[d])throw new Error("TxO: bad continue record");var f=e[e.l],h=Nf(e,e.lens[d+1]-e.lens[d]-1);if(s+=h,s.length>=(f?c:2*c))break}if(s.length!==c&&s.length!==c*2)throw new Error("cchText: "+c+" != "+s.length);return e.l=a+r,{t:s}}catch{return e.l=a+r,{t:s}}}function Tbe(e,r){var n=gS(e);e.l+=16;var a=Mwe(e,r-24);return[n,a]}function Abe(e,r){e.read_shift(2);var n=gS(e),a=e.read_shift((r-10)/2,"dbcs-cont");return a=a.replace(us,""),[n,a]}function Obe(e){var r=[0,0],n;return n=e.read_shift(2),r[0]=EF[n]||n,n=e.read_shift(2),r[1]=EF[n]||n,r}function Pbe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(mK(e));return n}function Dbe(e){for(var r=e.read_shift(2),n=[];r-- >0;)n.push(mK(e));return n}function Rbe(e){e.l+=2;var r={cxfs:0,crc:0};return r.cxfs=e.read_shift(2),r.crc=e.read_shift(4),r}function yK(e,r,n){if(!n.cellStyles)return Ba(e,r);var a=n&&n.biff>=12?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(a),c=e.read_shift(a),u=e.read_shift(2);a==2&&(e.l+=2);var d={s,e:i,w:o,ixfe:c,flags:u};return(n.biff>=5||!n.biff)&&(d.level=u>>8&7),d}function Ibe(e,r){var n={};return r<32||(e.l+=16,n.header=Da(e),n.footer=Da(e),e.l+=2),n}function Mbe(e,r,n){var a={area:!1};if(n.biff!=5)return e.l+=r,a;var s=e.read_shift(1);return e.l+=3,s&16&&(a.area=!0),a}var Fbe=Il,Lbe=fK,$be=Ux;function Bbe(e){var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s={fmt:r,env:n,len:a,data:e.slice(e.l,e.l+a)};return e.l+=a,s}function Ube(e,r,n){n.biffguess&&n.biff==5&&(n.biff=2);var a=Il(e);++e.l;var s=qf(e,r-7,n);return a.t="str",a.val=s,a}function Vbe(e){var r=Il(e);++e.l;var n=Da(e);return r.t="n",r.val=n,r}function zbe(e){var r=Il(e);++e.l;var n=e.read_shift(2);return r.t="n",r.val=n,r}function Wbe(e){var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,"sbcs-cont")}function Hbe(e,r){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=r-13}function qbe(e,r,n){var a=e.l+r,s=Il(e),i=e.read_shift(2),o=Nf(e,i,n);return e.l=a,s.t="str",s.val=o,s}var Kbe=[2,3,48,49,131,139,140,245],$F=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=aP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,u){var d=[],f=Uu(1);switch(u.type){case"base64":f=vo(hi(c));break;case"binary":f=vo(c);break;case"buffer":case"array":f=c;break}ia(f,0);var h=f.read_shift(1),m=!!(h&136),p=!1,v=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,m=!0;break;case 49:p=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var g=0,x=521;h==2&&(g=f.read_shift(2)),f.l+=3,h!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),h!=2&&(x=f.read_shift(2));var b=f.read_shift(2),w=u.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(w=e[f[f.l]]),f.l+=1,f.l+=2),v&&(f.l+=36);for(var _=[],S={},j=Math.min(f.length,h==2?521:x-10-(p?264:0)),N=v?32:11;f.l<j&&f[f.l]!=13;)switch(S={},S.name=Zc.utils.decode(w,f.slice(f.l,f.l+N)).replace(/[\u0000\r\n].*$/g,""),f.l+=N,S.type=String.fromCharCode(f.read_shift(1)),h!=2&&!v&&(S.offset=f.read_shift(4)),S.len=f.read_shift(1),h==2&&(S.offset=f.read_shift(2)),S.dec=f.read_shift(1),S.name.length&&_.push(S),h!=2&&(f.l+=v?13:14),S.type){case"B":(!p||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var k=0,C=0;for(d[0]=[],C=0;C!=_.length;++C)d[0][C]=_[C].name;for(;g-- >0;){if(f[f.l]===42){f.l+=b;continue}for(++f.l,d[++k]=[],C=0,C=0;C!=_.length;++C){var E=f.slice(f.l,f.l+_[C].len);f.l+=_[C].len,ia(E,0);var P=Zc.utils.decode(w,E);switch(_[C].type){case"C":P.trim().length&&(d[k][C]=P.replace(/\s+$/,""));break;case"D":P.length===8?d[k][C]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):d[k][C]=P;break;case"F":d[k][C]=parseFloat(P.trim());break;case"+":case"I":d[k][C]=v?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":d[k][C]=!0;break;case"N":case"F":d[k][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[k][C]="##MEMO##"+(v?parseInt(P.trim(),10):E.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(d[k][C]=+P||0);break;case"@":d[k][C]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[k][C]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[k][C]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[k][C]=-E.read_shift(-8,"f");break;case"B":if(p&&_[C].len==8){d[k][C]=E.read_shift(8,"f");break}case"G":case"P":E.l+=_[C].len;break;case"0":if(_[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[C].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=_,d}function a(c,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var f=Kp(n(c,d),d);return f["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,f}function s(c,u){try{return td(a(c,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var d=u||{};if(+d.codepage>=0&&bo(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=CE(),h=LE(c,{header:1,raw:!0,cellDates:!0}),m=h[0],p=h.slice(1),v=c["!cols"]||[],g=0,x=0,b=0,w=1;for(g=0;g<m.length;++g){if(((v[g]||{}).DBF||{}).name){m[g]=v[g].DBF.name,++b;continue}if(m[g]!=null){if(++b,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(x=0;x<1024;++x)if(m.indexOf(m[g]+"_"+x)==-1){m[g]+="_"+x;break}}}}var _=un(c["!ref"]),S=[],j=[],N=[];for(g=0;g<=_.e.c-_.s.c;++g){var k="",C="",E=0,P=[];for(x=0;x<p.length;++x)p[x][g]!=null&&P.push(p[x][g]);if(P.length==0||m[g]==null){S[g]="?";continue}for(x=0;x<P.length;++x){switch(typeof P[x]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=P[x]instanceof Date?"D":"C";break;default:C="C"}E=Math.max(E,String(P[x]).length),k=k&&k!=C?"C":C}E>250&&(E=250),C=((v[g]||{}).DBF||{}).type,C=="C"&&v[g].DBF.len>E&&(E=v[g].DBF.len),k=="B"&&C=="N"&&(k="N",N[g]=v[g].DBF.dec,E=v[g].DBF.len),j[g]=k=="C"||C=="N"?E:i[k]||0,w+=j[g],S[g]=k}var I=f.next(32);for(I.write_shift(4,318902576),I.write_shift(4,p.length),I.write_shift(2,296+32*b),I.write_shift(2,w),g=0;g<4;++g)I.write_shift(4,0);for(I.write_shift(4,0|(+r[xq]||3)<<8),g=0,x=0;g<m.length;++g)if(m[g]!=null){var T=f.next(32),U=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,U,"sbcs"),T.write_shift(1,S[g]=="?"?"C":S[g],"sbcs"),T.write_shift(4,x),T.write_shift(1,j[g]||i[S[g]]||0),T.write_shift(1,N[g]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),x+=j[g]||i[S[g]]||0}var H=f.next(264);for(H.write_shift(4,13),g=0;g<65;++g)H.write_shift(4,0);for(g=0;g<p.length;++g){var F=f.next(w);for(F.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(S[x]){case"L":F.write_shift(1,p[g][x]==null?63:p[g][x]?84:70);break;case"B":F.write_shift(8,p[g][x]||0,"f");break;case"N":var M="0";for(typeof p[g][x]=="number"&&(M=p[g][x].toFixed(N[x]||0)),b=0;b<j[x]-M.length;++b)F.write_shift(1,32);F.write_shift(1,M,"sbcs");break;case"D":p[g][x]?(F.write_shift(4,("0000"+p[g][x].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(p[g][x].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+p[g][x].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var z=String(p[g][x]!=null?p[g][x]:"").slice(0,j[x]);for(F.write_shift(1,z,"sbcs"),b=0;b<j[x]-z.length;++b)F.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:s,to_sheet:a,from_sheet:o}}(),Gbe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Nl(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(m,p){var v=e[p];return typeof v=="number"?tF(v):v},a=function(m,p,v){var g=p.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?m:tF(g)};e["|"]=254;function s(m,p){switch(p.type){case"base64":return i(hi(m),p);case"binary":return i(m,p);case"buffer":return i(tr&&Buffer.isBuffer(m)?m.toString("binary"):Vf(m),p);case"array":return i(kf(m),p)}throw new Error("Unrecognized type "+p.type)}function i(m,p){var v=m.split(/[\n\r]+/),g=-1,x=-1,b=0,w=0,_=[],S=[],j=null,N={},k=[],C=[],E=[],P=0,I;for(+p.codepage>=0&&bo(+p.codepage);b!==v.length;++b){P=0;var T=v[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(r,n),U=T.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),H=U[0],F;if(T.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&S.push(T.slice(3).replace(/;;/g,";"));break;case"C":var M=!1,z=!1,L=!1,R=!1,J=-1,te=-1;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"A":break;case"X":x=parseInt(U[w].slice(1))-1,z=!0;break;case"Y":for(g=parseInt(U[w].slice(1))-1,z||(x=0),I=_.length;I<=g;++I)_[I]=[];break;case"K":F=U[w].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(ko(F))?isNaN(Gm(F).getDate())||(F=ea(F)):(F=ko(F),j!==null&&Hp(j)&&(F=pS(F))),M=!0;break;case"E":R=!0;var A=um(U[w].slice(1),{r:g,c:x});_[g][x]=[_[g][x],A];break;case"S":L=!0,_[g][x]=[_[g][x],"S5S"];break;case"G":break;case"R":J=parseInt(U[w].slice(1))-1;break;case"C":te=parseInt(U[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}if(M&&(_[g][x]&&_[g][x].length==2?_[g][x][0]=F:_[g][x]=F,j=null),L){if(R)throw new Error("SYLK shared formula cannot have own formula");var X=J>-1&&_[J][te];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");_[g][x][1]=TK(X[1],{r:g-J,c:x-te})}break;case"F":var V=0;for(w=1;w<U.length;++w)switch(U[w].charAt(0)){case"X":x=parseInt(U[w].slice(1))-1,++V;break;case"Y":for(g=parseInt(U[w].slice(1))-1,I=_.length;I<=g;++I)_[I]=[];break;case"M":P=parseInt(U[w].slice(1))/20;break;case"F":break;case"G":break;case"P":j=S[parseInt(U[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=U[w].slice(1).split(" "),I=parseInt(E[0],10);I<=parseInt(E[1],10);++I)P=parseInt(E[2],10),C[I-1]=P===0?{hidden:!0}:{wch:P},Ym(C[I-1]);break;case"C":x=parseInt(U[w].slice(1))-1,C[x]||(C[x]={});break;case"R":g=parseInt(U[w].slice(1))-1,k[g]||(k[g]={}),P>0?(k[g].hpt=P,k[g].hpx=gv(P)):P===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}V<1&&(j=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+T)}}return k.length>0&&(N["!rows"]=k),C.length>0&&(N["!cols"]=C),p&&p.sheetRows&&(_=_.slice(0,p.sheetRows)),[_,N]}function o(m,p){var v=s(m,p),g=v[0],x=v[1],b=Kp(g,p);return Nl(x).forEach(function(w){b[w]=x[w]}),b}function c(m,p){return td(o(m,p),p)}function u(m,p,v,g){var x="C;Y"+(v+1)+";X"+(g+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+RSe(m.f,{r:v,c:g}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,p){p.forEach(function(v,g){var x="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?x+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=Zw(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=eb(v.wpx)),typeof v.wch=="number"&&(x+=Math.round(v.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function f(m,p){p.forEach(function(v,g){var x="F;";v.hidden?x+="M0;":v.hpt?x+="M"+20*v.hpt+";":v.hpx&&(x+="M"+20*NK(v.hpx)+";"),x.length>2&&m.push(x+"R"+(g+1))})}function h(m,p){var v=["ID;PWXL;N;E"],g=[],x=un(m["!ref"]),b,w=Array.isArray(m),_=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&d(v,m["!cols"]),m["!rows"]&&f(v,m["!rows"]),v.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var S=x.s.r;S<=x.e.r;++S)for(var j=x.s.c;j<=x.e.c;++j){var N=Mt({r:S,c:j});b=w?(m[S]||[])[j]:m[N],!(!b||b.v==null&&(!b.f||b.F))&&g.push(u(b,m,S,j))}return v.join(_)+_+g.join(_)+_+"E"+_}return{to_workbook:c,to_sheet:o,from_sheet:h}}(),Ybe=function(){function e(i,o){switch(o.type){case"base64":return r(hi(i),o);case"binary":return r(i,o);case"buffer":return r(tr&&Buffer.isBuffer(i)?i.toString("binary"):Vf(i),o);case"array":return r(kf(i),o)}throw new Error("Unrecognized type "+o.type)}function r(i,o){for(var c=i.split(`
`),u=-1,d=-1,f=0,h=[];f!==c.length;++f){if(c[f].trim()==="BOT"){h[++u]=[],d=0;continue}if(!(u<0)){var m=c[f].trim().split(","),p=m[0],v=m[1];++f;for(var g=c[f]||"";(g.match(/["]/g)||[]).length&1&&f<c.length-1;)g+=`
`+c[++f];switch(g=g.trim(),+p){case-1:if(g==="BOT"){h[++u]=[],d=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?h[u][d]=!0:g==="FALSE"?h[u][d]=!1:isNaN(ko(v))?isNaN(Gm(v).getDate())?h[u][d]=v:h[u][d]=ea(v):h[u][d]=ko(v),++d;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),h[u][d++]=g!==""?g:null;break}if(g==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(i,o){return Kp(e(i,o),o)}function a(i,o){return td(n(i,o),o)}var s=function(){var i=function(u,d,f,h,m){u.push(d),u.push(f+","+h),u.push('"'+m.replace(/"/g,'""')+'"')},o=function(u,d,f,h){u.push(d+","+f),u.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(u){var d=[],f=un(u["!ref"]),h,m=Array.isArray(u);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,f.e.r-f.s.r+1,""),i(d,"TUPLES",0,f.e.c-f.s.c+1,""),i(d,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){o(d,-1,0,"BOT");for(var v=f.s.c;v<=f.e.c;++v){var g=Mt({r:p,c:v});if(h=m?(u[p]||[])[v]:u[g],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Wi(h.z||Ut[14],ds(ea(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,w=d.join(b);return w}}();return{to_workbook:a,to_sheet:n,from_sheet:s}}(),Xbe=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,m){for(var p=h.split(`
`),v=-1,g=-1,x=0,b=[];x!==p.length;++x){var w=p[x].trim().split(":");if(w[0]==="cell"){var _=as(w[1]);if(b.length<=_.r)for(v=b.length;v<=_.r;++v)b[v]||(b[v]=[]);switch(v=_.r,g=_.c,w[2]){case"t":b[v][g]=e(w[3]);break;case"v":b[v][g]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":b[v][g]=!!+w[4];break;default:b[v][g]=+w[4];break}w[2]=="vtf"&&(b[v][g]=[b[v][g],S])}}}return m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),b}function a(h,m){return Kp(n(h,m),m)}function s(h,m){return td(a(h,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],p=[],v,g="",x=qp(h["!ref"]),b=Array.isArray(h),w=x.s.r;w<=x.e.r;++w)for(var _=x.s.c;_<=x.e.c;++_)if(g=Mt({r:w,c:_}),v=b?(h[w]||[])[_]:h[g],!(!v||v.v==null||v.t==="z")){switch(p=["cell",g,"t"],v.t){case"s":case"str":p.push(r(v.v));break;case"n":v.f?(p[2]="vtf",p[3]="n",p[4]=v.v,p[5]=r(v.f)):(p[2]="v",p[3]=v.v);break;case"b":p[2]="vt"+(v.f?"f":"c"),p[3]="nl",p[4]=v.v?"1":"0",p[5]=r(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var S=ds(ea(v.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=v.w||Wi(v.z||Ut[14],S);break;case"e":continue}m.push(p.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(h){return[i,o,c,o,d(h),u].join(`
`)}return{to_workbook:s,to_sheet:a,from_sheet:f}}(),mv=function(){function e(f,h,m,p,v){v.raw?h[m][p]=f:f===""||(f==="TRUE"?h[m][p]=!0:f==="FALSE"?h[m][p]=!1:isNaN(ko(f))?isNaN(Gm(f).getDate())?h[m][p]=f:h[m][p]=ea(f):h[m][p]=ko(f))}function r(f,h){var m=h||{},p=[];if(!f||f.length===0)return p;for(var v=f.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var x=10,b=0,w=0;w<=g;++w)b=v[w].indexOf(" "),b==-1?b=v[w].length:b++,x=Math.max(x,b);for(w=0;w<=g;++w){p[w]=[];var _=0;for(e(v[w].slice(0,x).trim(),p,w,_,m),_=1;_<=(v[w].length-x)/10+1;++_)e(v[w].slice(x+(_-1)*10,x+_*10).trim(),p,w,_,m)}return m.sheetRows&&(p=p.slice(0,m.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function s(f){for(var h={},m=!1,p=0,v=0;p<f.length;++p)(v=f.charCodeAt(p))==34?m=!m:!m&&v in n&&(h[v]=(h[v]||0)+1);v=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&v.push([h[p],p]);if(!v.length){h=a;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&v.push([h[p],p])}return v.sort(function(g,x){return g[0]-x[0]||a[g[1]]-a[x[1]]}),n[v.pop()[1]]||44}function i(f,h){var m=h||{},p="",v=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=s(f.slice(0,1024)):m&&m.FS?p=m.FS:p=s(f.slice(0,1024));var x=0,b=0,w=0,_=0,S=0,j=p.charCodeAt(0),N=!1,k=0,C=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var E=m.dateNF!=null?o1e(m.dateNF):null;function P(){var I=f.slice(_,S),T={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)T.t="z";else if(m.raw)T.t="s",T.v=I;else if(I.trim().length===0)T.t="s",T.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(T.t="s",T.v=I.slice(2,-1).replace(/""/g,'"')):MSe(I)?(T.t="n",T.f=I.slice(1)):(T.t="s",T.v=I);else if(I=="TRUE")T.t="b",T.v=!0;else if(I=="FALSE")T.t="b",T.v=!1;else if(!isNaN(w=ko(I)))T.t="n",m.cellText!==!1&&(T.w=I),T.v=w;else if(!isNaN(Gm(I).getDate())||E&&I.match(E)){T.z=m.dateNF||Ut[14];var U=0;E&&I.match(E)&&(I=l1e(I,m.dateNF,I.match(E)||[]),U=1),m.cellDates?(T.t="d",T.v=ea(I,U)):(T.t="n",T.v=ds(ea(I,U))),m.cellText!==!1&&(T.w=Wi(T.z,T.v instanceof Date?ds(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=I;if(T.t=="z"||(m.dense?(v[x]||(v[x]=[]),v[x][b]=T):v[Mt({c:b,r:x})]=T),_=S+1,C=f.charCodeAt(_),g.e.c<b&&(g.e.c=b),g.e.r<x&&(g.e.r=x),k==j)++b;else if(b=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;S<f.length;++S)switch(k=f.charCodeAt(S)){case 34:C===34&&(N=!N);break;case j:case 10:case 13:if(!N&&P())break e;break}return S-_>0&&P(),v["!ref"]=nr(g),v}function o(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,h):Kp(r(f,h),h)}function c(f,h){var m="",p=h.type=="string"?[0,0,0,0]:SP(f,h);switch(h.type){case"base64":m=hi(f);break;case"binary":m=f;break;case"buffer":h.codepage==65001?m=f.toString("utf8"):h.codepage&&typeof Zc<"u"?m=Zc.utils.decode(h.codepage,f):m=tr&&Buffer.isBuffer(f)?f.toString("binary"):Vf(f);break;case"array":m=kf(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?m=Lr(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Lr(m):h.type=="binary"&&typeof Zc<"u"&&h.codepage&&(m=Zc.utils.decode(h.codepage,Zc.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?Xbe.to_sheet(h.type=="string"?m:Lr(m),h):o(m,h)}function u(f,h){return td(c(f,h),h)}function d(f){for(var h=[],m=un(f["!ref"]),p,v=Array.isArray(f),g=m.s.r;g<=m.e.r;++g){for(var x=[],b=m.s.c;b<=m.e.c;++b){var w=Mt({r:g,c:b});if(p=v?(f[g]||[])[b]:f[w],!p||p.v==null){x.push("          ");continue}for(var _=(p.w||(bc(p),p.w)||"").slice(0,10);_.length<10;)_+=" ";x.push(_+(b===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:d}}();function Jbe(e,r){var n=r||{},a=!!n.WTF;n.WTF=!0;try{var s=Gbe.to_workbook(e,n);return n.WTF=a,s}catch(i){if(n.WTF=a,!i.message.match(/SYLK bad record ID/)&&a)throw i;return mv.to_workbook(e,r)}}var wg=function(){function e(A,X,V){if(A){ia(A,A.l||0);for(var q=V.Enum||J;A.l<A.length;){var ae=A.read_shift(2),ce=q[ae]||q[65535],me=A.read_shift(2),ie=A.l+me,Q=ce.f&&ce.f(A,me,V);if(A.l=ie,X(Q,ce,ae))return}}}function r(A,X){switch(X.type){case"base64":return n(vo(hi(A)),X);case"binary":return n(vo(A),X);case"buffer":case"array":return n(A,X)}throw"Unsupported type "+X.type}function n(A,X){if(!A)return A;var V=X||{},q=V.dense?[]:{},ae="Sheet1",ce="",me=0,ie={},Q=[],de=[],D={s:{r:0,c:0},e:{r:0,c:0}},Be=V.sheetRows||0;if(A[2]==0&&(A[3]==8||A[3]==9)&&A.length>=16&&A[14]==5&&A[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(A[2]==2)V.Enum=J,e(A,function(De,mt,ut){switch(ut){case 0:V.vers=De,De>=4096&&(V.qpro=!0);break;case 6:D=De;break;case 204:De&&(ce=De);break;case 222:ce=De;break;case 15:case 51:V.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:ut==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=V.dateNF||Ut[14],V.cellDates&&(De[1].t="d",De[1].v=pS(De[1].v))),V.qpro&&De[3]>me&&(q["!ref"]=nr(D),ie[ae]=q,Q.push(ae),q=V.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},me=De[3],ae=ce||"Sheet"+(me+1),ce="");var se=V.dense?(q[De[0].r]||[])[De[0].c]:q[Mt(De[0])];if(se){se.t=De[1].t,se.v=De[1].v,De[1].z!=null&&(se.z=De[1].z),De[1].f!=null&&(se.f=De[1].f);break}V.dense?(q[De[0].r]||(q[De[0].r]=[]),q[De[0].r][De[0].c]=De[1]):q[Mt(De[0])]=De[1];break}},V);else if(A[2]==26||A[2]==14)V.Enum=te,A[2]==14&&(V.qpro=!0,A.l=0),e(A,function(De,mt,ut){switch(ut){case 204:ae=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>me&&(q["!ref"]=nr(D),ie[ae]=q,Q.push(ae),q=V.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},me=De[3],ae="Sheet"+(me+1)),Be>0&&De[0].r>=Be)break;V.dense?(q[De[0].r]||(q[De[0].r]=[]),q[De[0].r][De[0].c]=De[1]):q[Mt(De[0])]=De[1],D.e.c<De[0].c&&(D.e.c=De[0].c),D.e.r<De[0].r&&(D.e.r=De[0].r);break;case 27:De[14e3]&&(de[De[14e3][0]]=De[14e3][1]);break;case 1537:de[De[0]]=De[1],De[0]==me&&(ae=De[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+A[2]);if(q["!ref"]=nr(D),ie[ce||ae]=q,Q.push(ce||ae),!de.length)return{SheetNames:Q,Sheets:ie};for(var Le={},Ue=[],ze=0;ze<de.length;++ze)ie[Q[ze]]?(Ue.push(de[ze]||Q[ze]),Le[de[ze]]=ie[de[ze]]||ie[Q[ze]]):(Ue.push(de[ze]),Le[de[ze]]={"!ref":"A1"});return{SheetNames:Ue,Sheets:Le}}function a(A,X){var V=X||{};if(+V.codepage>=0&&bo(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var q=CE(),ae=un(A["!ref"]),ce=Array.isArray(A),me=[];eo(q,0,i(1030)),eo(q,6,u(ae));for(var ie=Math.min(ae.e.r,8191),Q=ae.s.r;Q<=ie;++Q)for(var de=ha(Q),D=ae.s.c;D<=ae.e.c;++D){Q===ae.s.r&&(me[D]=Vn(D));var Be=me[D]+de,Le=ce?(A[Q]||[])[D]:A[Be];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?eo(q,13,p(Q,D,Le.v)):eo(q,14,g(Q,D,Le.v));else{var Ue=bc(Le);eo(q,15,h(Q,D,Ue.slice(0,239)))}}return eo(q,1),q.end()}function s(A,X){var V=X||{};if(+V.codepage>=0&&bo(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var q=CE();eo(q,0,o(A));for(var ae=0,ce=0;ae<A.SheetNames.length;++ae)(A.Sheets[A.SheetNames[ae]]||{})["!ref"]&&eo(q,27,R(A.SheetNames[ae],ce++));var me=0;for(ae=0;ae<A.SheetNames.length;++ae){var ie=A.Sheets[A.SheetNames[ae]];if(!(!ie||!ie["!ref"])){for(var Q=un(ie["!ref"]),de=Array.isArray(ie),D=[],Be=Math.min(Q.e.r,8191),Le=Q.s.r;Le<=Be;++Le)for(var Ue=ha(Le),ze=Q.s.c;ze<=Q.e.c;++ze){Le===Q.s.r&&(D[ze]=Vn(ze));var De=D[ze]+Ue,mt=de?(ie[Le]||[])[ze]:ie[De];if(!(!mt||mt.t=="z"))if(mt.t=="n")eo(q,23,P(Le,ze,me,mt.v));else{var ut=bc(mt);eo(q,22,k(Le,ze,me,ut.slice(0,239)))}}++me}}return eo(q,1),q.end()}function i(A){var X=Ln(2);return X.write_shift(2,A),X}function o(A){var X=Ln(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var V=0,q=0,ae=0,ce=0;ce<A.SheetNames.length;++ce){var me=A.SheetNames[ce],ie=A.Sheets[me];if(!(!ie||!ie["!ref"])){++ae;var Q=qp(ie["!ref"]);V<Q.e.r&&(V=Q.e.r),q<Q.e.c&&(q=Q.e.c)}}return V>8191&&(V=8191),X.write_shift(2,V),X.write_shift(1,ae),X.write_shift(1,q),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function c(A,X,V){var q={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&V.qpro?(q.s.c=A.read_shift(1),A.l++,q.s.r=A.read_shift(2),q.e.c=A.read_shift(1),A.l++,q.e.r=A.read_shift(2),q):(q.s.c=A.read_shift(2),q.s.r=A.read_shift(2),X==12&&V.qpro&&(A.l+=2),q.e.c=A.read_shift(2),q.e.r=A.read_shift(2),X==12&&V.qpro&&(A.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function u(A){var X=Ln(8);return X.write_shift(2,A.s.c),X.write_shift(2,A.s.r),X.write_shift(2,A.e.c),X.write_shift(2,A.e.r),X}function d(A,X,V){var q=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(q[0].c=A.read_shift(1),q[3]=A.read_shift(1),q[0].r=A.read_shift(2),A.l+=2):(q[2]=A.read_shift(1),q[0].c=A.read_shift(2),q[0].r=A.read_shift(2)),q}function f(A,X,V){var q=A.l+X,ae=d(A,X,V);if(ae[1].t="s",V.vers==20768){A.l++;var ce=A.read_shift(1);return ae[1].v=A.read_shift(ce,"utf8"),ae}return V.qpro&&A.l++,ae[1].v=A.read_shift(q-A.l,"cstr"),ae}function h(A,X,V){var q=Ln(7+V.length);q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,A),q.write_shift(1,39);for(var ae=0;ae<q.length;++ae){var ce=V.charCodeAt(ae);q.write_shift(1,ce>=128?95:ce)}return q.write_shift(1,0),q}function m(A,X,V){var q=d(A,X,V);return q[1].v=A.read_shift(2,"i"),q}function p(A,X,V){var q=Ln(7);return q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,A),q.write_shift(2,V,"i"),q}function v(A,X,V){var q=d(A,X,V);return q[1].v=A.read_shift(8,"f"),q}function g(A,X,V){var q=Ln(13);return q.write_shift(1,255),q.write_shift(2,X),q.write_shift(2,A),q.write_shift(8,V,"f"),q}function x(A,X,V){var q=A.l+X,ae=d(A,X,V);if(ae[1].v=A.read_shift(8,"f"),V.qpro)A.l=q;else{var ce=A.read_shift(2);S(A.slice(A.l,A.l+ce),ae),A.l+=ce}return ae}function b(A,X,V){var q=X&32768;return X&=-32769,X=(q?A:0)+(X>=8192?X-16384:X),(q?"":"$")+(V?Vn(X):ha(X))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(A,X){ia(A,0);for(var V=[],q=0,ae="",ce="",me="",ie="";A.l<A.length;){var Q=A[A.l++];switch(Q){case 0:V.push(A.read_shift(8,"f"));break;case 1:ce=b(X[0].c,A.read_shift(2),!0),ae=b(X[0].r,A.read_shift(2),!1),V.push(ce+ae);break;case 2:{var de=b(X[0].c,A.read_shift(2),!0),D=b(X[0].r,A.read_shift(2),!1);ce=b(X[0].c,A.read_shift(2),!0),ae=b(X[0].r,A.read_shift(2),!1),V.push(de+D+":"+ce+ae)}break;case 3:if(A.l<A.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(A.read_shift(2));break;case 6:{for(var Be="";Q=A[A.l++];)Be+=String.fromCharCode(Q);V.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ie=V.pop(),me=V.pop(),V.push(["AND","OR"][Q-20]+"("+me+","+ie+")");break;default:if(Q<32&&_[Q])ie=V.pop(),me=V.pop(),V.push(me+_[Q]+ie);else if(w[Q]){if(q=w[Q][1],q==69&&(q=A[A.l++]),q>V.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+V.join("|")+"|");return}var Le=V.slice(-q);V.length-=q,V.push(w[Q][0]+"("+Le.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}V.length==1?X[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(A){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=A.read_shift(2),X[3]=A[A.l++],X[0].c=A[A.l++],X}function N(A,X){var V=j(A);return V[1].t="s",V[1].v=A.read_shift(X-4,"cstr"),V}function k(A,X,V,q){var ae=Ln(6+q.length);ae.write_shift(2,A),ae.write_shift(1,V),ae.write_shift(1,X),ae.write_shift(1,39);for(var ce=0;ce<q.length;++ce){var me=q.charCodeAt(ce);ae.write_shift(1,me>=128?95:me)}return ae.write_shift(1,0),ae}function C(A,X){var V=j(A);V[1].v=A.read_shift(2);var q=V[1].v>>1;if(V[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return V[1].v=q,V}function E(A,X){var V=j(A),q=A.read_shift(4),ae=A.read_shift(4),ce=A.read_shift(2);if(ce==65535)return q===0&&ae===3221225472?(V[1].t="e",V[1].v=15):q===0&&ae===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var me=ce&32768;return ce=(ce&32767)-16446,V[1].v=(1-me*2)*(ae*Math.pow(2,ce+32)+q*Math.pow(2,ce)),V}function P(A,X,V,q){var ae=Ln(14);if(ae.write_shift(2,A),ae.write_shift(1,V),ae.write_shift(1,X),q==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var ce=0,me=0,ie=0,Q=0;return q<0&&(ce=1,q=-q),me=Math.log2(q)|0,q/=Math.pow(2,me-31),Q=q>>>0,Q&2147483648||(q/=2,++me,Q=q>>>0),q-=Q,Q|=2147483648,Q>>>=0,q*=Math.pow(2,32),ie=q>>>0,ae.write_shift(4,ie),ae.write_shift(4,Q),me+=16383+(ce?32768:0),ae.write_shift(2,me),ae}function I(A,X){var V=E(A);return A.l+=X-14,V}function T(A,X){var V=j(A),q=A.read_shift(4);return V[1].v=q>>6,V}function U(A,X){var V=j(A),q=A.read_shift(8,"f");return V[1].v=q,V}function H(A,X){var V=U(A);return A.l+=X-10,V}function F(A,X){return A[A.l+X-1]==0?A.read_shift(X,"cstr"):""}function M(A,X){var V=A[A.l++];V>X-1&&(V=X-1);for(var q="";q.length<V;)q+=String.fromCharCode(A[A.l++]);return q}function z(A,X,V){if(!(!V.qpro||X<21)){var q=A.read_shift(1);A.l+=17,A.l+=1,A.l+=2;var ae=A.read_shift(X-21,"cstr");return[q,ae]}}function L(A,X){for(var V={},q=A.l+X;A.l<q;){var ae=A.read_shift(2);if(ae==14e3){for(V[ae]=[0,""],V[ae][0]=A.read_shift(2);A[A.l];)V[ae][1]+=String.fromCharCode(A[A.l]),A.l++;A.l++}}return V}function R(A,X){var V=Ln(5+A.length);V.write_shift(2,14e3),V.write_shift(2,X);for(var q=0;q<A.length;++q){var ae=A.charCodeAt(q);V[V.l++]=ae>127?95:ae}return V[V.l++]=0,V}var J={0:{n:"BOF",f:jn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:M},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:L},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:s,to_workbook:r}}();function Qbe(e){var r={},n=e.match(Va),a=0,s=!1;if(n)for(;a!=n.length;++a){var i=Ot(n[a]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;r.cp=ZO[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=i.val;break;case"<sz":r.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break}case"<u>":case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":r.i=1;break;case"</i>":break;case"<color":i.rgb&&(r.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":r.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":r.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return r}var Zbe=function(){var e=fv("t"),r=fv("rPr");function n(i){var o=i.match(e);if(!o)return{t:"s",v:""};var c={t:"s",v:lr(o[1])},u=i.match(r);return u&&(c.s=Qbe(u[1])),c}var a=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(a,"").split(s).map(n).filter(function(c){return c.v})}}(),e_e=function(){var r=/(\r\n|\n)/g;function n(s,i,o){var c=[];s.u&&c.push("text-decoration: underline;"),s.uval&&c.push("text-underline-style:"+s.uval+";"),s.sz&&c.push("font-size:"+s.sz+"pt;"),s.outline&&c.push("text-effect: outline;"),s.shadow&&c.push("text-shadow: auto;"),i.push('<span style="'+c.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var u=s.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(i.push("<"+u+">"),o.push("</"+u+">")),o.push("</span>"),s}function a(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(r,"<br/>")+i[2].join("")):""}return function(i){return i.map(a).join("")}}(),t_e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,r_e=/<(?:\w+:)?r>/,n_e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function gP(e,r){var n=r?r.cellHTML:!0,a={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=lr(Lr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Lr(e),n&&(a.h=iP(a.t))):e.match(r_e)&&(a.r=Lr(e),a.t=lr(Lr((e.replace(n_e,"").match(t_e)||[]).join("").replace(Va,""))),n&&(a.h=e_e(Zbe(a.r)))),a):{t:""}}var a_e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,s_e=/<(?:\w+:)?(?:si|sstItem)>/g,i_e=/<\/(?:\w+:)?(?:si|sstItem)>/;function o_e(e,r){var n=[],a="";if(!e)return n;var s=e.match(a_e);if(s){a=s[2].replace(s_e,"").split(i_e);for(var i=0;i!=a.length;++i){var o=gP(a[i].trim(),r);o!=null&&(n[n.length]=o)}s=Ot(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function l_e(e){return[e.read_shift(4),e.read_shift(4)]}function c_e(e,r){var n=[],a=!1;return Cc(e,function(i,o,c){switch(c){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(o.T,!a||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function wK(e){for(var r=[],n=e.split(""),a=0;a<n.length;++a)r[a]=n[a].charCodeAt(0);return r}function ic(e,r){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),r>=4&&(e.l+=r-4),n}function u_e(e){var r={};return r.id=e.read_shift(0,"lpp4"),r.R=ic(e,4),r.U=ic(e,4),r.W=ic(e,4),r}function d_e(e){for(var r=e.read_shift(4),n=e.l+r-4,a={},s=e.read_shift(4),i=[];s-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(a.name=e.read_shift(0,"lpp4"),a.comps=i,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return a}function f_e(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(d_e(e));return r}function h_e(e){var r=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)r.push(e.read_shift(0,"lpp4"));return r}function m_e(e){var r={};return e.read_shift(4),e.l+=4,r.id=e.read_shift(0,"lpp4"),r.name=e.read_shift(0,"lpp4"),r.R=ic(e,4),r.U=ic(e,4),r.W=ic(e,4),r}function p_e(e){var r=m_e(e);if(r.ename=e.read_shift(0,"8lpp4"),r.blksz=e.read_shift(4),r.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return r}function bK(e,r){var n=e.l+r,a={};a.Flags=e.read_shift(4)&63,e.l+=4,a.AlgID=e.read_shift(4);var s=!1;switch(a.AlgID){case 26126:case 26127:case 26128:s=a.Flags==36;break;case 26625:s=a.Flags==4;break;case 0:s=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=e.read_shift(4),a.KeySize=e.read_shift(4),a.ProviderType=e.read_shift(4),e.l+=8,a.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,a}function _K(e,r){var n={},a=e.l+r;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,a),e.l=a,n}function g_e(e){var r=ic(e);switch(r.Minor){case 2:return[r.Minor,v_e(e)];case 3:return[r.Minor,x_e()];case 4:return[r.Minor,y_e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function v_e(e){var r=e.read_shift(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),a=bK(e,n),s=_K(e,e.length-e.l);return{t:"Std",h:a,v:s}}function x_e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function y_e(e){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),a={};return n.replace(Va,function(i){var o=Ot(i);switch(Rl(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":r.forEach(function(c){a[c]=o[c]});break;case"<dataIntegrity":a.encryptedHmacKey=o.encryptedHmacKey,a.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(o);break;default:throw o[0]}}),a}function w_e(e,r){var n={},a=n.EncryptionVersionInfo=ic(e,4);if(r-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);n.Flags=e.read_shift(4),r-=4;var s=e.read_shift(4);return r-=4,n.EncryptionHeader=bK(e,s),r-=s,n.EncryptionVerifier=_K(e,r),n}function b_e(e){var r={},n=r.EncryptionVersionInfo=ic(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return r.Salt=e.read_shift(16),r.EncryptedVerifier=e.read_shift(16),r.EncryptedVerifierHash=e.read_shift(16),r}function __e(e){var r=0,n,a=wK(e),s=a.length+1,i,o,c,u,d;for(n=Uu(s),n[0]=a.length,i=1;i!=s;++i)n[i]=a[i-1];for(i=s-1;i>=0;--i)o=n[i],c=r&16384?1:0,u=r<<1&32767,d=c|u,r=d^o;return r^52811}var SK=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(o){return(o/2|o*128)&255},s=function(o,c){return a(o^c)},i=function(o){for(var c=r[o.length-1],u=104,d=o.length-1;d>=0;--d)for(var f=o[d],h=0;h!=7;++h)f&64&&(c^=n[u]),f*=2,--u;return c};return function(o){for(var c=wK(o),u=i(c),d=c.length,f=Uu(16),h=0;h!=16;++h)f[h]=0;var m,p,v;for((d&1)===1&&(m=u>>8,f[d]=s(e[0],m),--d,m=u&255,p=c[c.length-1],f[d]=s(p,m));d>0;)--d,m=u>>8,f[d]=s(c[d],m),--d,m=u&255,f[d]=s(c[d],m);for(d=15,v=15-c.length;v>0;)m=u>>8,f[d]=s(e[v],m),--d,--v,m=u&255,f[d]=s(c[d],m),--d,--v;return f}}(),S_e=function(e,r,n,a,s){s||(s=r),a||(a=SK(e));var i,o;for(i=0;i!=r.length;++i)o=r[i],o^=a[n],o=(o>>5|o<<3)&255,s[i]=o,++n;return[s,n,a]},j_e=function(e){var r=0,n=SK(e);return function(a){var s=S_e("",a,r,n);return r=s[1],s[0]}};function k_e(e,r,n,a){var s={key:jn(e),verificationBytes:jn(e)};return n.password&&(s.verifier=__e(n.password)),a.valid=s.verificationBytes===s.verifier,a.valid&&(a.insitu=j_e(n.password)),s}function N_e(e,r,n){var a=n||{};return a.Info=e.read_shift(2),e.l-=2,a.Info===1?a.Data=b_e(e):a.Data=w_e(e,r),a}function E_e(e,r,n){var a={Type:n.biff>=8?e.read_shift(2):0};return a.Type?N_e(e,r-2,a):k_e(e,n.biff>=8?r:r-2,n,a),a}var C_e=function(){function e(s,i){switch(i.type){case"base64":return r(hi(s),i);case"binary":return r(s,i);case"buffer":return r(tr&&Buffer.isBuffer(s)?s.toString("binary"):Vf(s),i);case"array":return r(kf(s),i)}throw new Error("Unrecognized type "+i.type)}function r(s,i){var o=i||{},c=o.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,h){Array.isArray(c)&&(c[h]=[]);for(var m=/\\\w+\b/g,p=0,v,g=-1;v=m.exec(f);){switch(v[0]){case"\\cell":var x=f.slice(p,m.lastIndex-v[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var b={v:x,t:"s"};Array.isArray(c)?c[h][g]=b:c[Mt({r:h,c:g})]=b}break}p=m.lastIndex}g>d.e.c&&(d.e.c=g)}),c["!ref"]=nr(d),c}function n(s,i){return td(e(s,i),i)}function a(s){for(var i=["{\\rtf1\\ansi"],o=un(s["!ref"]),c,u=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var h=Mt({r:d,c:f});c=u?(s[d]||[])[f]:s[h],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(bc(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:a}}();function T_e(e){var r=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function pv(e){for(var r=0,n=1;r!=3;++r)n=n*256+(e[r]>255?255:e[r]<0?0:e[r]);return n.toString(16).toUpperCase().slice(1)}function A_e(e){var r=e[0]/255,n=e[1]/255,a=e[2]/255,s=Math.max(r,n,a),i=Math.min(r,n,a),o=s-i;if(o===0)return[0,0,r];var c=0,u=0,d=s+i;switch(u=o/(d>1?2-d:d),s){case r:c=((n-a)/o+6)%6;break;case n:c=(a-r)/o+2;break;case a:c=(r-n)/o+4;break}return[c/6,u,d/2]}function O_e(e){var r=e[0],n=e[1],a=e[2],s=n*2*(a<.5?a:1-a),i=a-s/2,o=[i,i,i],c=6*r,u;if(n!==0)switch(c|0){case 0:case 6:u=s*c,o[0]+=s,o[1]+=u;break;case 1:u=s*(2-c),o[0]+=u,o[1]+=s;break;case 2:u=s*(c-2),o[1]+=s,o[2]+=u;break;case 3:u=s*(4-c),o[1]+=u,o[2]+=s;break;case 4:u=s*(c-4),o[2]+=s,o[0]+=u;break;case 5:u=s*(6-c),o[2]+=u,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Qw(e,r){if(r===0)return e;var n=A_e(T_e(e));return r<0?n[2]=n[2]*(1+r):n[2]=1-(1-n[2])*(1-r),pv(O_e(n))}var jK=6,P_e=15,D_e=1,ts=jK;function Zw(e){return Math.floor((e+Math.round(128/ts)/256)*ts)}function eb(e){return Math.floor((e-5)/ts*100+.5)/100}function PE(e){return Math.round((e*ts+5)/ts*256)/256}function Wk(e){return PE(eb(Zw(e)))}function vP(e){var r=Math.abs(e-Wk(e)),n=ts;if(r>.005)for(ts=D_e;ts<P_e;++ts)Math.abs(e-Wk(e))<=r&&(r=Math.abs(e-Wk(e)),n=ts);ts=n}function Ym(e){e.width?(e.wpx=Zw(e.width),e.wch=eb(e.wpx),e.MDW=ts):e.wpx?(e.wch=eb(e.wpx),e.width=PE(e.wch),e.MDW=ts):typeof e.wch=="number"&&(e.width=PE(e.wch),e.wpx=Zw(e.width),e.MDW=ts),e.customWidth&&delete e.customWidth}var R_e=96,kK=R_e;function NK(e){return e*96/kK}function gv(e){return e*kK/96}var I_e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function M_e(e,r,n,a){r.Borders=[];var s={},i=!1;(e[0].match(Va)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},c.diagonalUp&&(s.diagonalUp=Kr(c.diagonalUp)),c.diagonalDown&&(s.diagonalDown=Kr(c.diagonalDown)),r.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in borders")}})}function F_e(e,r,n,a){r.Fills=[];var s={},i=!1;(e[0].match(Va)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},r.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":r.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":c.patternType&&(s.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),c.indexed&&(s.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(s.bgColor.theme=parseInt(c.theme,10)),c.tint&&(s.bgColor.tint=parseFloat(c.tint)),c.rgb&&(s.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),c.theme&&(s.fgColor.theme=parseInt(c.theme,10)),c.tint&&(s.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(s.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fills")}})}function L_e(e,r,n,a){r.Fonts=[];var s={},i=!1;(e[0].match(Va)||[]).forEach(function(o){var c=Ot(o);switch(Rl(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":r.Fonts.push(s),s={};break;case"<name":c.val&&(s.name=Lr(c.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=c.val?Kr(c.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=c.val?Kr(c.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(c.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=c.val?Kr(c.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=c.val?Kr(c.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=c.val?Kr(c.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=c.val?Kr(c.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=c.val?Kr(c.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":c.val&&(s.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(s.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(s.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(s.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=ZO[parseInt(c.val,10)];break;case"<color":if(s.color||(s.color={}),c.auto&&(s.color.auto=Kr(c.auto)),c.rgb)s.color.rgb=c.rgb.slice(-6);else if(c.indexed){s.color.index=parseInt(c.indexed,10);var u=nf[s.color.index];s.color.index==81&&(u=nf[1]),u||(u=nf[1]),s.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(s.color.theme=parseInt(c.theme,10),c.tint&&(s.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Qw(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a&&a.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fonts")}})}function $_e(e,r,n){r.NumberFmt=[];for(var a=Nl(Ut),s=0;s<a.length;++s)r.NumberFmt[a[s]]=Ut[a[s]];var i=e[0].match(Va);if(i)for(s=0;s<i.length;++s){var o=Ot(i[s]);switch(Rl(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=lr(Lr(o.formatCode)),u=parseInt(o.numFmtId,10);if(r.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&r.NumberFmt[u]!=null;--u);r.NumberFmt[u]=c}rf(c,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var e1=["numFmtId","fillId","fontId","borderId","xfId"],t1=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function B_e(e,r,n){r.CellXf=[];var a,s=!1;(e[0].match(Va)||[]).forEach(function(i){var o=Ot(i),c=0;switch(Rl(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=o,delete a[0],c=0;c<e1.length;++c)a[e1[c]]&&(a[e1[c]]=parseInt(a[e1[c]],10));for(c=0;c<t1.length;++c)a[t1[c]]&&(a[t1[c]]=Kr(a[t1[c]]));if(r.NumberFmt&&a.numFmtId>392){for(c=392;c>60;--c)if(r.NumberFmt[a.numFmtId]==r.NumberFmt[c]){a.numFmtId=c;break}}r.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};o.vertical&&(u.vertical=o.vertical),o.horizontal&&(u.horizontal=o.horizontal),o.textRotation!=null&&(u.textRotation=o.textRotation),o.indent&&(u.indent=o.indent),o.wrapText&&(u.wrapText=Kr(o.wrapText)),a.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var U_e=function(){var r=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,d){var f={};if(!c)return f;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=c.match(r))&&$_e(h,f,d),(h=c.match(s))&&L_e(h,f,u,d),(h=c.match(a))&&F_e(h,f,u,d),(h=c.match(i))&&M_e(h,f,u,d),(h=c.match(n))&&B_e(h,f,d),f}}();function V_e(e,r){var n=e.read_shift(2),a=Ma(e);return[n,a]}function z_e(e,r,n){var a={};a.sz=e.read_shift(2)/20;var s=Z1e(e);s.fItalic&&(a.italic=1),s.fCondense&&(a.condense=1),s.fExtend&&(a.extend=1),s.fShadow&&(a.shadow=1),s.fOutline&&(a.outline=1),s.fStrikeout&&(a.strike=1);var i=e.read_shift(2);switch(i===700&&(a.bold=1),e.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(a.underline=o);var c=e.read_shift(1);c>0&&(a.family=c);var u=e.read_shift(1);switch(u>0&&(a.charset=u),e.l++,a.color=Q1e(e),e.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Ma(e),a}var W_e=Ba;function H_e(e,r){var n=e.l+r,a=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:a,numFmtId:s}}var q_e=Ba;function K_e(e,r,n){var a={};a.NumberFmt=[];for(var s in Ut)a.NumberFmt[s]=Ut[s];a.CellXf=[],a.Fonts=[];var i=[],o=!1;return Cc(e,function(u,d,f){switch(f){case 44:a.NumberFmt[u[0]]=u[1],rf(u[1],u[0]);break;case 43:a.Fonts.push(u),u.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme&&(u.color.rgb=Qw(r.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&a.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(f),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(f);else if(d.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),a}var G_e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Y_e(e,r,n){r.themeElements.clrScheme=[];var a={};(e[0].match(Va)||[]).forEach(function(s){var i=Ot(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=i.val;break;case"<a:sysClr":a.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(r.themeElements.clrScheme[G_e.indexOf(i[0])]=a,a={}):a.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function X_e(){}function J_e(){}var Q_e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Z_e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,eSe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function tSe(e,r,n){r.themeElements={};var a;[["clrScheme",Q_e,Y_e],["fontScheme",Z_e,X_e],["fmtScheme",eSe,J_e]].forEach(function(s){if(!(a=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](a,r,n)})}var rSe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function EK(e,r){(!e||e.length===0)&&(e=nSe());var n,a={};if(!(n=e.match(rSe)))throw new Error("themeElements not found in theme");return tSe(n[0],a,r),a.raw=e,a}function nSe(e,r){var n=[Lq];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function aSe(e,r,n){var a=e.l+r,s=e.read_shift(4);if(s!==124226){if(!n.cellStyles){e.l=a;return}var i=e.slice(e.l);e.l=a;var o;try{o=Fq(i,{type:"array"})}catch{return}var c=ai(o,"theme/theme/theme1.xml",!0);if(c)return EK(c,n)}}function sSe(e){return e.read_shift(4)}function iSe(e){var r={};switch(r.xclrType=e.read_shift(2),r.nTintShade=e.read_shift(2),r.xclrType){case 0:e.l+=4;break;case 1:r.xclrValue=oSe(e,4);break;case 2:r.xclrValue=hK(e);break;case 3:r.xclrValue=sSe(e);break;case 4:e.l+=4;break}return e.l+=8,r}function oSe(e,r){return Ba(e,r)}function lSe(e,r){return Ba(e,r)}function cSe(e){var r=e.read_shift(2),n=e.read_shift(2)-4,a=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=iSe(e);break;case 6:a[1]=lSe(e,n);break;case 14:case 15:a[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+n)}return a}function uSe(e,r){var n=e.l+r;e.l+=2;var a=e.read_shift(2);e.l+=2;for(var s=e.read_shift(2),i=[];s-- >0;)i.push(cSe(e,n-e.l));return{ixfe:a,ext:i}}function dSe(e,r){r.forEach(function(n){switch(n[0]){}})}function fSe(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ma(e)}}function hSe(e){for(var r=[],n=e.read_shift(4);n-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function mSe(e){return e.l+=4,e.read_shift(4)!=0}function pSe(e,r,n){var a={Types:[],Cell:[],Value:[]},s=n||{},i=[],o=!1,c=2;return Cc(e,function(u,d,f){switch(f){case 335:a.Types.push({name:u.name});break;case 51:u.forEach(function(h){c==1?a.Cell.push({type:a.Types[h[0]-1].name,index:h[1]}):c==0&&a.Value.push({type:a.Types[h[0]-1].name,index:h[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:i.push(f),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),a}function gSe(e,r,n){var a={Types:[],Cell:[],Value:[]};if(!e)return a;var s=!1,i=2,o;return e.replace(Va,function(c){var u=Ot(c);switch(Rl(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<a.Types.length;++d)a.Types[d].name==u.name&&(o=a.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?a.Cell.push({type:a.Types[u.t-1].name,index:+u.v}):i==0&&a.Value.push({type:a.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+u.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),a}function vSe(e){var r=[];if(!e)return r;var n=1;return(e.match(Va)||[]).forEach(function(a){var s=Ot(a);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,r.push(s);break}}),r}function xSe(e){var r={};r.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),r.r=Mt(n);var a=e.read_shift(1);return a&2&&(r.l="1"),a&8&&(r.a="1"),r}function ySe(e,r,n){var a=[];return Cc(e,function(i,o,c){switch(c){case 63:a.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),a}function wSe(e,r,n,a){if(!e)return e;var s=a||{},i=!1;Cc(e,function(c,u,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!u.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function bSe(e,r){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][n].Target}function BF(e,r,n,a){var s=Array.isArray(e),i;r.forEach(function(o){var c=as(o.ref);if(s?(e[c.r]||(e[c.r]=[]),i=e[c.r][c.c]):i=e[o.ref],!i){i={t:"z"},s?e[c.r][c.c]=i:e[o.ref]=i;var u=un(e["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var d=nr(u);d!==e["!ref"]&&(e["!ref"]=d)}i.c||(i.c=[]);var f={a:o.author,t:o.t,r:o.r,T:n};o.h&&(f.h=o.h);for(var h=i.c.length-1;h>=0;--h){if(!n&&i.c[h].T)return;n&&!i.c[h].T&&i.c.splice(h,1)}if(n&&a){for(h=0;h<a.length;++h)if(f.a==a[h].id){f.a=a[h].name||f.a;break}}i.c.push(f)})}function _Se(e,r){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],a=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=Ot(c[0]),d={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},f=as(u.ref);if(!(r.sheetRows&&r.sheetRows<=f.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&gP(h[1])||{r:"",t:"",h:""};d.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),d.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.cellHTML&&(d.h=m.h),a.push(d)}}}}),a}function SSe(e,r){var n=[],a=!1,s={},i=0;return e.replace(Va,function(c,u){var d=Ot(c);switch(Rl(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=u+c.length;break;case"</text>":s.t=e.slice(i,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function jSe(e,r){var n=[],a=!1;return e.replace(Va,function(i){var o=Ot(i);switch(Rl(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&r.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function kSe(e){var r={};r.iauthor=e.read_shift(4);var n=Wf(e);return r.rfx=n.s,r.ref=Mt(n.s),e.l+=16,r}var NSe=Ma;function ESe(e,r){var n=[],a=[],s={},i=!1;return Cc(e,function(c,u,d){switch(d){case 632:a.push(c);break;case 635:s=c;break;case 637:s.t=c.t,s.h=c.h,s.r=c.r;break;case 636:if(s.author=a[s.iauthor],delete s.iauthor,r.sheetRows&&s.rfx&&r.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var CSe="application/vnd.ms-office.vbaProject";function TSe(e){var r=rr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,a){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");rr.utils.cfb_add(r,s,e.FileIndex[a].content)}}),rr.write(r)}function ASe(){return{"!type":"dialog"}}function OSe(){return{"!type":"dialog"}}function PSe(){return{"!type":"macro"}}function DSe(){return{"!type":"macro"}}var um=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function n(a,s,i,o){var c=!1,u=!1;i.length==0?u=!0:i.charAt(0)=="["&&(u=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=r.c:--f,u?d+=r.r:--d,s+(c?"":"$")+Vn(f)+(u?"":"$")+ha(d)}return function(s,i){return r=i,s.replace(e,n)}}(),CK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,RSe=function(){return function(r,n){return r.replace(CK,function(a,s,i,o,c,u){var d=uP(o)-(i?0:n.c),f=cP(u)-(c?0:n.r),h=f==0?"":c?f+1:"["+f+"]",m=d==0?"":i?d+1:"["+d+"]";return s+"R"+h+"C"+m})}}();function TK(e,r){return e.replace(CK,function(n,a,s,i,o,c){return a+(s=="$"?s+i:Vn(uP(i)+r.c))+(o=="$"?o+c:ha(cP(c)+r.r))})}function ISe(e,r,n){var a=qp(r),s=a.s,i=as(n),o={r:i.r-s.r,c:i.c-s.c};return TK(e,o)}function MSe(e){return e.length!=1}function UF(e){return e.replace(/_xlfn\./g,"")}function bn(e){e.l+=1}function Vu(e,r){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function AK(e,r,n){var a=2;if(n){if(n.biff>=2&&n.biff<=5)return OK(e);n.biff==12&&(a=4)}var s=e.read_shift(a),i=e.read_shift(a),o=Vu(e),c=Vu(e);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function OK(e){var r=Vu(e),n=Vu(e),a=e.read_shift(1),s=e.read_shift(1);return{s:{r:r[0],c:a,cRel:r[1],rRel:r[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function FSe(e,r,n){if(n.biff<8)return OK(e);var a=e.read_shift(n.biff==12?4:2),s=e.read_shift(n.biff==12?4:2),i=Vu(e),o=Vu(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function PK(e,r,n){if(n&&n.biff>=2&&n.biff<=5)return LSe(e);var a=e.read_shift(n&&n.biff==12?4:2),s=Vu(e);return{r:a,c:s[0],cRel:s[1],rRel:s[2]}}function LSe(e){var r=Vu(e),n=e.read_shift(1);return{r:r[0],c:n,cRel:r[1],rRel:r[2]}}function $Se(e){var r=e.read_shift(2),n=e.read_shift(2);return{r,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function BSe(e,r,n){var a=n&&n.biff?n.biff:8;if(a>=2&&a<=5)return USe(e);var s=e.read_shift(a>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function USe(e){var r=e.read_shift(2),n=e.read_shift(1),a=(r&32768)>>15,s=(r&16384)>>14;return r&=16383,a==1&&r>=8192&&(r=r-16384),s==1&&n>=128&&(n=n-256),{r,c:n,cRel:s,rRel:a}}function VSe(e,r,n){var a=(e[e.l++]&96)>>5,s=AK(e,n.biff>=2&&n.biff<=5?6:8,n);return[a,s]}function zSe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=AK(e,i,n);return[a,s,o]}function WSe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[a]}function HSe(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(n)switch(n.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[a,s]}function qSe(e,r,n){var a=(e[e.l++]&96)>>5,s=FSe(e,r-1,n);return[a,s]}function KSe(e,r,n){var a=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[a]}function VF(e){var r=e[e.l+1]&1,n=1;return e.l+=4,[r,n]}function GSe(e,r,n){e.l+=2;for(var a=e.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=a;++i)s.push(e.read_shift(n&&n.biff==2?1:2));return s}function YSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function XSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=2,[a,e.read_shift(n&&n.biff==2?1:2)]}function JSe(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function QSe(e,r,n){var a=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[a]}function DK(e){var r=e.read_shift(1),n=e.read_shift(1);return[r,n]}function ZSe(e){return e.read_shift(2),DK(e)}function eje(e){return e.read_shift(2),DK(e)}function tje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=PK(e,0,n);return[a,s]}function rje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=BSe(e,0,n);return[a,s]}function nje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var i=PK(e,0,n);return[a,s,i]}function aje(e,r,n){var a=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[ske[s],MK[s],a]}function sje(e,r,n){var a=e[e.l++],s=e.read_shift(1),i=n&&n.biff<=3?[a==88?-1:0,e.read_shift(1)]:ije(e);return[s,(i[0]===0?MK:ake)[i[1]]]}function ije(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function oje(e,r,n){e.l+=n&&n.biff==2?3:4}function lje(e,r,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var a=e.read_shift(2),s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function cje(e){return e.l++,Hf[e.read_shift(1)]}function uje(e){return e.l++,e.read_shift(2)}function dje(e){return e.l++,e.read_shift(1)!==0}function fje(e){return e.l++,Da(e)}function hje(e,r,n){return e.l++,Bx(e,r-1,n)}function mje(e,r){var n=[e.read_shift(1)];if(r==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=dn(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:n[1]=Hf[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Da(e);break;case 2:n[1]=qf(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function pje(e,r,n){for(var a=e.read_shift(n.biff==12?4:2),s=[],i=0;i!=a;++i)s.push((n.biff==12?Wf:gS)(e));return s}function gje(e,r,n){var a=0,s=0;n.biff==12?(a=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),a=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--a,--s==0&&(s=256));for(var i=0,o=[];i!=a&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=mje(e,n.biff);return o}function vje(e,r,n){var a=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[a,0,i]}function xje(e,r,n){if(n.biff==5)return yje(e);var a=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[a,s,i]}function yje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var a=e.read_shift(2);return e.l+=12,[r,n,a]}function wje(e,r,n){var a=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function bje(e,r,n){var a=e.read_shift(1)>>>5&3,s=e.read_shift(n&&n.biff==2?1:2);return[a,s]}function _je(e,r,n){var a=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[a]}function Sje(e,r,n){var a=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[a,s]}var jje=Ba,kje=Ba,Nje=Ba;function Vx(e,r,n){return e.l+=2,[$Se(e)]}function xP(e){return e.l+=6,[]}var Eje=Vx,Cje=xP,Tje=xP,Aje=Vx;function RK(e){return e.l+=2,[jn(e),e.read_shift(2)&1]}var Oje=Vx,Pje=RK,Dje=xP,Rje=Vx,Ije=Vx,Mje=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Fje(e){e.l+=2;var r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),o=Mje[n>>2&31];return{ixti:r,coltype:n&3,rt:o,idx:a,c:s,C:i}}function Lje(e){return e.l+=2,[e.read_shift(4)]}function $je(e,r,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function Bje(e,r,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function Uje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function Vje(e){var r=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[r,n]}function zje(e){return e.l+=4,[0,0]}var zF={1:{n:"PtgExp",f:lje},2:{n:"PtgTbl",f:Nje},3:{n:"PtgAdd",f:bn},4:{n:"PtgSub",f:bn},5:{n:"PtgMul",f:bn},6:{n:"PtgDiv",f:bn},7:{n:"PtgPower",f:bn},8:{n:"PtgConcat",f:bn},9:{n:"PtgLt",f:bn},10:{n:"PtgLe",f:bn},11:{n:"PtgEq",f:bn},12:{n:"PtgGe",f:bn},13:{n:"PtgGt",f:bn},14:{n:"PtgNe",f:bn},15:{n:"PtgIsect",f:bn},16:{n:"PtgUnion",f:bn},17:{n:"PtgRange",f:bn},18:{n:"PtgUplus",f:bn},19:{n:"PtgUminus",f:bn},20:{n:"PtgPercent",f:bn},21:{n:"PtgParen",f:bn},22:{n:"PtgMissArg",f:bn},23:{n:"PtgStr",f:hje},26:{n:"PtgSheet",f:$je},27:{n:"PtgEndSheet",f:Bje},28:{n:"PtgErr",f:cje},29:{n:"PtgBool",f:dje},30:{n:"PtgInt",f:uje},31:{n:"PtgNum",f:fje},32:{n:"PtgArray",f:KSe},33:{n:"PtgFunc",f:aje},34:{n:"PtgFuncVar",f:sje},35:{n:"PtgName",f:vje},36:{n:"PtgRef",f:tje},37:{n:"PtgArea",f:VSe},38:{n:"PtgMemArea",f:wje},39:{n:"PtgMemErr",f:jje},40:{n:"PtgMemNoMem",f:kje},41:{n:"PtgMemFunc",f:bje},42:{n:"PtgRefErr",f:_je},43:{n:"PtgAreaErr",f:WSe},44:{n:"PtgRefN",f:rje},45:{n:"PtgAreaN",f:qSe},46:{n:"PtgMemAreaN",f:Uje},47:{n:"PtgMemNoMemN",f:Vje},57:{n:"PtgNameX",f:xje},58:{n:"PtgRef3d",f:nje},59:{n:"PtgArea3d",f:zSe},60:{n:"PtgRefErr3d",f:Sje},61:{n:"PtgAreaErr3d",f:HSe},255:{}},Wje={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Hje={1:{n:"PtgElfLel",f:RK},2:{n:"PtgElfRw",f:Rje},3:{n:"PtgElfCol",f:Eje},6:{n:"PtgElfRwV",f:Ije},7:{n:"PtgElfColV",f:Aje},10:{n:"PtgElfRadical",f:Oje},11:{n:"PtgElfRadicalS",f:Dje},13:{n:"PtgElfColS",f:Cje},15:{n:"PtgElfColSV",f:Tje},16:{n:"PtgElfRadicalLel",f:Pje},25:{n:"PtgList",f:Fje},29:{n:"PtgSxName",f:Lje},255:{}},qje={0:{n:"PtgAttrNoop",f:zje},1:{n:"PtgAttrSemi",f:QSe},2:{n:"PtgAttrIf",f:XSe},4:{n:"PtgAttrChoose",f:GSe},8:{n:"PtgAttrGoto",f:YSe},16:{n:"PtgAttrSum",f:oje},32:{n:"PtgAttrBaxcel",f:VF},33:{n:"PtgAttrBaxcel",f:VF},64:{n:"PtgAttrSpace",f:ZSe},65:{n:"PtgAttrSpaceSemi",f:eje},128:{n:"PtgAttrIfError",f:JSe},255:{}};function zx(e,r,n,a){if(a.biff<8)return Ba(e,r);for(var s=e.l+r,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=gje(e,0,a),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=pje(e,n[o][1],a),i.push(n[o][2]);break;case"PtgExp":a&&a.biff==12&&(n[o][1][1]=e.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return r=s-e.l,r!==0&&i.push(Ba(e,r)),i}function Wx(e,r,n){for(var a=e.l+r,s,i,o=[];a!=e.l;)r=a-e.l,i=e[e.l],s=zF[i]||zF[Wje[i]],(i===24||i===25)&&(s=(i===24?Hje:qje)[e[e.l+1]]),!s||!s.f?Ba(e,r):o.push([s.n,s.f(e,r,n)]);return o}function Kje(e){for(var r=[],n=0;n<e.length;++n){for(var a=e[n],s=[],i=0;i<a.length;++i){var o=a[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}r.push(s.join(","))}return r.join(";")}var Gje={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Yje(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function IK(e,r,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var a=e.XTI[r];if(n.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!a)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[a[0]][0]){case 357:return s=a[1]==-1?"#REF":e.SheetNames[a[1]],a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[a[0]][0];case 355:default:return"SH33TJSSRC"+e[a[0]][0]}switch(e[a[0]][0][0]){case 1025:return s=a[1]==-1?"#REF":e.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?s:s+":"+e.SheetNames[a[2]];case 14849:return e[a[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[a[0]][0][3]?(s=a[1]==-1?"#REF":e[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?s:s+":"+e[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function WF(e,r,n){var a=IK(e,r,n);return a=="#REF"?a:Yje(a,n)}function Ta(e,r,n,a,s){var i=s&&s.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},c=[],u,d,f,h=0,m=0,p,v="";if(!e[0]||!e[0][0])return"";for(var g=-1,x="",b=0,w=e[0].length;b<w;++b){var _=e[0][b];switch(_[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),d=c.pop(),g>=0){switch(e[0][g][1][0]){case 0:x=on(" ",e[0][g][1][1]);break;case 1:x=on("\r",e[0][g][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}d=d+x,g=-1}c.push(d+Gje[_[0]]+u);break;case"PtgIsect":u=c.pop(),d=c.pop(),c.push(d+" "+u);break;case"PtgUnion":u=c.pop(),d=c.pop(),c.push(d+","+u);break;case"PtgRange":u=c.pop(),d=c.pop(),c.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=gg(_[1][1],o,s),c.push(vg(f,i));break;case"PtgRefN":f=n?gg(_[1][1],n,s):_[1][1],c.push(vg(f,i));break;case"PtgRef3d":h=_[1][1],f=gg(_[1][2],o,s),v=WF(a,h,s),c.push(v+"!"+vg(f,i));break;case"PtgFunc":case"PtgFuncVar":var S=_[1][0],j=_[1][1];S||(S=0),S&=127;var N=S==0?[]:c.slice(-S);c.length-=S,j==="User"&&(j=N.shift()),c.push(j+"("+N.join(",")+")");break;case"PtgBool":c.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(_[1]);break;case"PtgNum":c.push(String(_[1]));break;case"PtgStr":c.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(_[1]);break;case"PtgAreaN":p=jF(_[1][1],n?{s:n}:o,s),c.push(Vk(p,s));break;case"PtgArea":p=jF(_[1][1],o,s),c.push(Vk(p,s));break;case"PtgArea3d":h=_[1][1],p=_[1][2],v=WF(a,h,s),c.push(v+"!"+Vk(p,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=_[1][2];var k=(a.names||[])[m-1]||(a[0]||[])[m],C=k?k.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!s.xlfn&&(C=C.slice(6)),c.push(C);break;case"PtgNameX":var E=_[1][1];m=_[1][2];var P;if(s.biff<=5)E<0&&(E=-E),a[E]&&(P=a[E][m]);else{var I="";if(((a[E]||[])[0]||[])[0]==14849||(((a[E]||[])[0]||[])[0]==1025?a[E][m]&&a[E][m].itab>0&&(I=a.SheetNames[a[E][m].itab-1]+"!"):I=a.SheetNames[m-1]+"!"),a[E]&&a[E][m])I+=a[E][m].Name;else if(a[0]&&a[0][m])I+=a[0][m].Name;else{var T=(IK(a,E,s)||"").split(";;");T[m-1]?I=T[m-1]:I+="SH33TJSERRX"}c.push(I);break}P||(P={Name:"SH33TJSERRY"}),c.push(P.Name);break;case"PtgParen":var U="(",H=")";if(g>=0){switch(x="",e[0][g][1][0]){case 2:U=on(" ",e[0][g][1][1])+U;break;case 3:U=on("\r",e[0][g][1][1])+U;break;case 4:H=on(" ",e[0][g][1][1])+H;break;case 5:H=on("\r",e[0][g][1][1])+H;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}c.push(U+c.pop()+H);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:_[1][1],r:_[1][0]};var F={c:n.c,r:n.r};if(a.sharedf[Mt(f)]){var M=a.sharedf[Mt(f)];c.push(Ta(M,o,F,a,s))}else{var z=!1;for(u=0;u!=a.arrayf.length;++u)if(d=a.arrayf[u],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){c.push(Ta(d[1],o,F,a,s)),z=!0;break}z||c.push(_[1])}break;case"PtgArray":c.push("{"+Kje(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var L=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&L.indexOf(e[0][b][0])==-1){_=e[0][g];var R=!0;switch(_[1][0]){case 4:R=!1;case 0:x=on(" ",_[1][1]);break;case 5:R=!1;case 1:x=on("\r",_[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}c.push((R?x:"")+c.pop()+(R?"":x)),g=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function Xje(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Ba(e,r-2)];var c=Wx(e,o,n);return r!==o+s&&(i=zx(e,r-o-s,c,n)),e.l=a,[c,i]}function Jje(e,r,n){var a=e.l+r,s=n.biff==2?1:2,i,o=e.read_shift(s);if(o==65535)return[[],Ba(e,r-2)];var c=Wx(e,o,n);return r!==o+s&&(i=zx(e,r-o-s,c,n)),e.l=a,[c,i]}function Qje(e,r,n,a){var s=e.l+r,i=Wx(e,a,n),o;return s!==e.l&&(o=zx(e,s-e.l,i,n)),[i,o]}function Zje(e,r,n){var a=e.l+r,s,i=e.read_shift(2),o=Wx(e,i,n);return i==65535?[[],Ba(e,r-2)]:(r!==i+2&&(s=zx(e,a-i-2,o,n)),[o,s])}function eke(e){var r;if(ec(e,e.l+6)!==65535)return[Da(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return r=e[e.l+2]===1,e.l+=8,[r,"b"];case 2:return r=e[e.l+2],e.l+=8,[r,"e"];case 3:return e.l+=8,["","s"]}return[]}function Hk(e,r,n){var a=e.l+r,s=Il(e);n.biff==2&&++e.l;var i=eke(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var c=Jje(e,a-e.l,n);return{cell:s,val:i[0],formula:c,shared:o>>3&1,tt:i[1]}}function vS(e,r,n){var a=e.read_shift(4),s=Wx(e,a,n),i=e.read_shift(4),o=i>0?zx(e,i,s,n):null;return[s,o]}var tke=vS,xS=vS,rke=vS,nke=vS,ake={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MK={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ske={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HF(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(r,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function qk(e){var r=e.split(":"),n=r[0].split(".")[0];return[n,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}var bg={},dm={};function _g(e,r){if(e){var n=[.7,.7,.75,.75,.3,.3];r=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function FK(e,r,n,a,s,i){try{a.cellNF&&(e.z=Ut[r])}catch(c){if(a.WTF)throw c}if(!(e.t==="z"&&!a.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ea(e.v)),(!a||a.cellText!==!1)&&e.t!=="z")try{if(Ut[r]==null&&rf(i1e[r]||"General",r),e.t==="e")e.w=e.w||Hf[e.v];else if(r===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dv(e.v);else if(e.t==="d"){var o=ds(e.v);(o|0)===o?e.w=o.toString(10):e.w=dv(o)}else{if(e.v===void 0)return"";e.w=jf(e.v,dm)}else e.t==="d"?e.w=Wi(r,ds(e.v),dm):e.w=Wi(r,e.v,dm)}catch(c){if(a.WTF)throw c}if(a.cellStyles&&n!=null)try{e.s=i.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Qw(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),a.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Qw(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),a.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(c){if(a.WTF&&i.Fills)throw c}}}function ike(e,r){var n=un(r);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=nr(n))}var oke=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,lke=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,cke=/<(?:\w:)?hyperlink [^>]*>/mg,uke=/"(\w*:\w*)"/,dke=/<(?:\w:)?col\b[^>]*[\/]?>/g,fke=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,hke=/<(?:\w:)?pageMargins[^>]*\/>/g,LK=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,mke=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,pke=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function gke(e,r,n,a,s,i,o){if(!e)return e;a||(a={"!id":{}});var c=r.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",f="",h=e.match(lke);h?(d=e.slice(0,h.index),f=e.slice(h.index+h[0].length)):d=f=e;var m=d.match(LK);m?yP(m[0],c,s,n):(m=d.match(mke))&&vke(m[0],m[1]||"",c,s,n);var p=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var v=d.slice(p,p+50).match(uke);v&&ike(c,v[1])}var g=d.match(pke);g&&g[1]&&Ske(g[1],s);var x=[];if(r.cellStyles){var b=d.match(dke);b&&wke(x,b)}h&&jke(h[1],c,r,u,i,o);var w=f.match(fke);w&&(c["!autofilter"]=bke(w[0]));var _=[],S=f.match(oke);if(S)for(p=0;p!=S.length;++p)_[p]=un(S[p].slice(S[p].indexOf('"')+1));var j=f.match(cke);j&&xke(c,j,a);var N=f.match(hke);if(N&&(c["!margins"]=yke(Ot(N[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=nr(u)),r.sheetRows>0&&c["!ref"]){var k=un(c["!ref"]);r.sheetRows<=+k.e.r&&(k.e.r=r.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),c["!fullref"]=c["!ref"],c["!ref"]=nr(k))}return x.length>0&&(c["!cols"]=x),_.length>0&&(c["!merges"]=_),c}function yP(e,r,n,a){var s=Ot(e);n.Sheets[a]||(n.Sheets[a]={}),s.codeName&&(n.Sheets[a].CodeName=lr(Lr(s.codeName)))}function vke(e,r,n,a,s){yP(e.slice(0,e.indexOf(">")),n,a,s)}function xke(e,r,n){for(var a=Array.isArray(e),s=0;s!=r.length;++s){var i=Ot(Lr(r[s]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+lr(i.location))):(i.Target="#"+lr(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var c=un(i.ref),u=c.s.r;u<=c.e.r;++u)for(var d=c.s.c;d<=c.e.c;++d){var f=Mt({c:d,r:u});a?(e[u]||(e[u]=[]),e[u][d]||(e[u][d]={t:"z",v:void 0}),e[u][d].l=i):(e[f]||(e[f]={t:"z",v:void 0}),e[f].l=i)}}}function yke(e){var r={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(r[n]=parseFloat(e[n]))}),r}function wke(e,r){for(var n=!1,a=0;a!=r.length;++a){var s=Ot(r[a],!0);s.hidden&&(s.hidden=Kr(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,vP(s.width)),Ym(s);i<=o;)e[i++]=fa(s)}}function bke(e){var r={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return r}var _ke=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Ske(e,r){r.Views||(r.Views=[{}]),(e.match(_ke)||[]).forEach(function(n,a){var s=Ot(n);r.Views[a]||(r.Views[a]={}),+s.zoomScale&&(r.Views[a].zoom=+s.zoomScale),Kr(s.rightToLeft)&&(r.Views[a].RTL=!0)})}var jke=function(){var e=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=fv("v"),o=fv("f");return function(u,d,f,h,m,p){for(var v=0,g="",x=[],b=[],w=0,_=0,S=0,j="",N,k,C=0,E=0,P,I,T=0,U=0,H=Array.isArray(p.CellXf),F,M=[],z=[],L=Array.isArray(d),R=[],J={},te=!1,A=!!f.sheetStubs,X=u.split(r),V=0,q=X.length;V!=q;++V){g=X[V].trim();var ae=g.length;if(ae!==0){var ce=0;e:for(v=0;v<ae;++v)switch(g[v]){case">":if(g[v-1]!="/"){++v;break e}if(f&&f.cellStyles){if(k=Ot(g.slice(ce,v),!0),C=k.r!=null?parseInt(k.r,10):C+1,E=-1,f.sheetRows&&f.sheetRows<C)continue;J={},te=!1,k.ht&&(te=!0,J.hpt=parseFloat(k.ht),J.hpx=gv(J.hpt)),k.hidden=="1"&&(te=!0,J.hidden=!0),k.outlineLevel!=null&&(te=!0,J.level=+k.outlineLevel),te&&(R[C-1]=J)}break;case"<":ce=v;break}if(ce>=v)break;if(k=Ot(g.slice(ce,v),!0),C=k.r!=null?parseInt(k.r,10):C+1,E=-1,!(f.sheetRows&&f.sheetRows<C)){h.s.r>C-1&&(h.s.r=C-1),h.e.r<C-1&&(h.e.r=C-1),f&&f.cellStyles&&(J={},te=!1,k.ht&&(te=!0,J.hpt=parseFloat(k.ht),J.hpx=gv(J.hpt)),k.hidden=="1"&&(te=!0,J.hidden=!0),k.outlineLevel!=null&&(te=!0,J.level=+k.outlineLevel),te&&(R[C-1]=J)),x=g.slice(v).split(e);for(var me=0;me!=x.length&&x[me].trim().charAt(0)=="<";++me);for(x=x.slice(me),v=0;v!=x.length;++v)if(g=x[v].trim(),g.length!==0){if(b=g.match(n),w=v,_=0,S=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,b!=null&&b.length===2){for(w=0,j=b[1],_=0;_!=j.length&&!((S=j.charCodeAt(_)-64)<1||S>26);++_)w=26*w+S;--w,E=w}else++E;for(_=0;_!=g.length&&g.charCodeAt(_)!==62;++_);if(++_,k=Ot(g.slice(0,_),!0),k.r||(k.r=Mt({r:C-1,c:E})),j=g.slice(_),N={t:""},(b=j.match(i))!=null&&b[1]!==""&&(N.v=lr(b[1])),f.cellFormula){if((b=j.match(o))!=null&&b[1]!==""){if(N.f=lr(Lr(b[1])).replace(/\r\n/g,`
`),f.xlfn||(N.f=UF(N.f)),b[0].indexOf('t="array"')>-1)N.F=(j.match(s)||[])[1],N.F.indexOf(":")>-1&&M.push([un(N.F),N.F]);else if(b[0].indexOf('t="shared"')>-1){I=Ot(b[0]);var ie=lr(Lr(b[1]));f.xlfn||(ie=UF(ie)),z[parseInt(I.si,10)]=[I,ie,k.r]}}else(b=j.match(/<f[^>]*\/>/))&&(I=Ot(b[0]),z[I.si]&&(N.f=ISe(z[I.si][1],z[I.si][2],k.r)));var Q=as(k.r);for(_=0;_<M.length;++_)Q.r>=M[_][0].s.r&&Q.r<=M[_][0].e.r&&Q.c>=M[_][0].s.c&&Q.c<=M[_][0].e.c&&(N.F=M[_][1])}if(k.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(A)N.t="z";else continue;else N.t=k.t||"n";switch(h.s.c>E&&(h.s.c=E),h.e.c<E&&(h.e.c=E),N.t){case"n":if(N.v==""||N.v==null){if(!A)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!A)continue;N.t="z"}else P=bg[parseInt(N.v,10)],N.v=P.t,N.r=P.r,f.cellHTML&&(N.h=P.h);break;case"str":N.t="s",N.v=N.v!=null?Lr(N.v):"",f.cellHTML&&(N.h=iP(N.v));break;case"inlineStr":b=j.match(a),N.t="s",b!=null&&(P=gP(b[1]))?(N.v=P.t,f.cellHTML&&(N.h=P.h)):N.v="";break;case"b":N.v=Kr(N.v);break;case"d":f.cellDates?N.v=ea(N.v,1):(N.v=ds(ea(N.v,1)),N.t="n");break;case"e":(!f||f.cellText!==!1)&&(N.w=N.v),N.v=sK[N.v];break}if(T=U=0,F=null,H&&k.s!==void 0&&(F=p.CellXf[k.s],F!=null&&(F.numFmtId!=null&&(T=F.numFmtId),f.cellStyles&&F.fillId!=null&&(U=F.fillId))),FK(N,T,U,f,m,p),f.cellDates&&H&&N.t=="n"&&Hp(Ut[T])&&(N.t="d",N.v=pS(N.v)),k.cm&&f.xlmeta){var de=(f.xlmeta.Cell||[])[+k.cm-1];de&&de.type=="XLDAPR"&&(N.D=!0)}if(L){var D=as(k.r);d[D.r]||(d[D.r]=[]),d[D.r][D.c]=N}else d[k.r]=N}}}}R.length>0&&(d["!rows"]=R)}}();function kke(e,r){var n={},a=e.l+r;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=a,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var Nke=Wf;function Eke(){}function Cke(e,r){var n={},a=e[e.l];return++e.l,n.above=!(a&64),n.left=!(a&128),e.l+=18,n.name=X1e(e),n}function Tke(e){var r=Ki(e);return[r]}function Ake(e){var r=zf(e);return[r]}function Oke(e){var r=Ki(e),n=e.read_shift(1);return[r,n,"b"]}function Pke(e){var r=zf(e),n=e.read_shift(1);return[r,n,"b"]}function Dke(e){var r=Ki(e),n=e.read_shift(1);return[r,n,"e"]}function Rke(e){var r=zf(e),n=e.read_shift(1);return[r,n,"e"]}function Ike(e){var r=Ki(e),n=e.read_shift(4);return[r,n,"s"]}function Mke(e){var r=zf(e),n=e.read_shift(4);return[r,n,"s"]}function Fke(e){var r=Ki(e),n=Da(e);return[r,n,"n"]}function $K(e){var r=zf(e),n=Da(e);return[r,n,"n"]}function Lke(e){var r=Ki(e),n=hP(e);return[r,n,"n"]}function $ke(e){var r=zf(e),n=hP(e);return[r,n,"n"]}function Bke(e){var r=Ki(e),n=dP(e);return[r,n,"is"]}function Uke(e){var r=Ki(e),n=Ma(e);return[r,n,"str"]}function Vke(e){var r=zf(e),n=Ma(e);return[r,n,"str"]}function zke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"b"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Ta(c,null,s,n.supbooks,n)}else e.l=a;return o}function Wke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=e.read_shift(1),o=[s,i,"e"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Ta(c,null,s,n.supbooks,n)}else e.l=a;return o}function Hke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=Da(e),o=[s,i,"n"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Ta(c,null,s,n.supbooks,n)}else e.l=a;return o}function qke(e,r,n){var a=e.l+r,s=Ki(e);s.r=n["!row"];var i=Ma(e),o=[s,i,"str"];if(n.cellFormula){e.l+=2;var c=xS(e,a-e.l,n);o[3]=Ta(c,null,s,n.supbooks,n)}else e.l=a;return o}var Kke=Wf;function Gke(e,r){var n=e.l+r,a=Wf(e),s=fP(e),i=Ma(e),o=Ma(e),c=Ma(e);e.l=n;var u={rfx:a,relId:s,loc:i,display:c};return o&&(u.Tooltip=o),u}function Yke(){}function Xke(e,r,n){var a=e.l+r,s=rK(e),i=e.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=tke(e,a-e.l,n);o[1]=c}else e.l=a;return o}function Jke(e,r,n){var a=e.l+r,s=Wf(e),i=[s];if(n.cellFormula){var o=nke(e,a-e.l,n);i[1]=o,e.l=a}else e.l=a;return i}var Qke=["left","right","top","bottom","header","footer"];function Zke(e){var r={};return Qke.forEach(function(n){r[n]=Da(e)}),r}function eNe(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function tNe(){}function rNe(){}function nNe(e,r,n,a,s,i,o){if(!e)return e;var c=r||{};a||(a={"!id":{}});var u=c.dense?[]:{},d,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,p,v,g,x,b,w,_,S,j,N=[];c.biff=12,c["!row"]=0;var k=0,C=!1,E=[],P={},I=c.supbooks||s.supbooks||[[]];if(I.sharedf=P,I.arrayf=E,I.SheetNames=s.SheetNames||s.Sheets.map(function(L){return L.name}),!c.supbooks&&(c.supbooks=I,s.Names))for(var T=0;T<s.Names.length;++T)I[0][T+1]=s.Names[T];var U=[],H=[],F=!1;tb[16]={n:"BrtShortReal",f:$K};var M;if(Cc(e,function(R,J,te){if(!m)switch(te){case 148:d=R;break;case 0:p=R,c.sheetRows&&c.sheetRows<=p.r&&(m=!0),S=ha(x=p.r),c["!row"]=p.r,(R.hidden||R.hpt||R.level!=null)&&(R.hpt&&(R.hpx=gv(R.hpt)),H[R.r]=R);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(v={t:R[2]},R[2]){case"n":v.v=R[1];break;case"s":_=bg[R[1]],v.v=_.t,v.r=_.r;break;case"b":v.v=!!R[1];break;case"e":v.v=R[1],c.cellText!==!1&&(v.w=Hf[v.v]);break;case"str":v.t="s",v.v=R[1];break;case"is":v.t="s",v.v=R[1].t;break}if((g=o.CellXf[R[0].iStyleRef])&&FK(v,g.numFmtId,null,c,i,o),b=R[0].c==-1?b+1:R[0].c,c.dense?(u[x]||(u[x]=[]),u[x][b]=v):u[Vn(b)+S]=v,c.cellFormula){for(C=!1,k=0;k<E.length;++k){var A=E[k];p.r>=A[0].s.r&&p.r<=A[0].e.r&&b>=A[0].s.c&&b<=A[0].e.c&&(v.F=nr(A[0]),C=!0)}!C&&R.length>3&&(v.f=R[3])}if(f.s.r>p.r&&(f.s.r=p.r),f.s.c>b&&(f.s.c=b),f.e.r<p.r&&(f.e.r=p.r),f.e.c<b&&(f.e.c=b),c.cellDates&&g&&v.t=="n"&&Hp(Ut[g.numFmtId])){var X=Fd(v.v);X&&(v.t="d",v.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}M&&(M.type=="XLDAPR"&&(v.D=!0),M=void 0);break;case 1:case 12:if(!c.sheetStubs||h)break;v={t:"z",v:void 0},b=R[0].c==-1?b+1:R[0].c,c.dense?(u[x]||(u[x]=[]),u[x][b]=v):u[Vn(b)+S]=v,f.s.r>p.r&&(f.s.r=p.r),f.s.c>b&&(f.s.c=b),f.e.r<p.r&&(f.e.r=p.r),f.e.c<b&&(f.e.c=b),M&&(M.type=="XLDAPR"&&(v.D=!0),M=void 0);break;case 176:N.push(R);break;case 49:M=((c.xlmeta||{}).Cell||[])[R-1];break;case 494:var V=a["!id"][R.relId];for(V?(R.Target=V.Target,R.loc&&(R.Target+="#"+R.loc),R.Rel=V):R.relId==""&&(R.Target="#"+R.loc),x=R.rfx.s.r;x<=R.rfx.e.r;++x)for(b=R.rfx.s.c;b<=R.rfx.e.c;++b)c.dense?(u[x]||(u[x]=[]),u[x][b]||(u[x][b]={t:"z",v:void 0}),u[x][b].l=R):(w=Mt({c:b,r:x}),u[w]||(u[w]={t:"z",v:void 0}),u[w].l=R);break;case 426:if(!c.cellFormula)break;E.push(R),j=c.dense?u[x][b]:u[Vn(b)+S],j.f=Ta(R[1],f,{r:p.r,c:b},I,c),j.F=nr(R[0]);break;case 427:if(!c.cellFormula)break;P[Mt(R[0].s)]=R[1],j=c.dense?u[x][b]:u[Vn(b)+S],j.f=Ta(R[1],f,{r:p.r,c:b},I,c);break;case 60:if(!c.cellStyles)break;for(;R.e>=R.s;)U[R.e--]={width:R.w/256,hidden:!!(R.flags&1),level:R.level},F||(F=!0,vP(R.w/256)),Ym(U[R.e+1]);break;case 161:u["!autofilter"]={ref:nr(R)};break;case 476:u["!margins"]=R;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),R.name&&(s.Sheets[n].CodeName=R.name),(R.above||R.left)&&(u["!outline"]={above:R.above,left:R.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),R.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!J.T){if(!h||c.WTF)throw new Error("Unexpected record 0x"+te.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(f.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(u["!ref"]=nr(d||f)),c.sheetRows&&u["!ref"]){var z=un(u["!ref"]);c.sheetRows<=+z.e.r&&(z.e.r=c.sheetRows-1,z.e.r>f.e.r&&(z.e.r=f.e.r),z.e.r<z.s.r&&(z.s.r=z.e.r),z.e.c>f.e.c&&(z.e.c=f.e.c),z.e.c<z.s.c&&(z.s.c=z.e.c),u["!fullref"]=u["!ref"],u["!ref"]=nr(z))}return N.length>0&&(u["!merges"]=N),U.length>0&&(u["!cols"]=U),H.length>0&&(u["!rows"]=H),u}function aNe(e){var r=[],n=e.match(/^<c:numCache>/),a;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(r[+o[1]]=n?+o[2]:o[2])});var s=lr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){a=i.replace(/<.*?>/g,"")}),[r,s,a]}function sNe(e,r,n,a,s,i){var o=i||{"!type":"chart"};if(!e)return i;var c=0,u=0,d="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=aNe(h);f.s.r=f.s.c=0,f.e.c=c,d=Vn(c),m[0].forEach(function(p,v){o[d+ha(v)]={t:"n",v:p,z:m[1]},u=v}),f.e.r<u&&(f.e.r=u),++c}),c>0&&(o["!ref"]=nr(f)),o}function iNe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,c=e.match(LK);return c&&yP(c[0],i,s,n),(o=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}function oNe(e,r){e.l+=10;var n=Ma(e);return{name:n}}function lNe(e,r,n,a,s){if(!e)return e;a||(a={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Cc(e,function(u,d,f){switch(f){case 550:i["!rel"]=u;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),u.name&&(s.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||r.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},r),a["!id"][i["!rel"]]&&(i["!drawel"]=a["!id"][i["!rel"]]),i}var BK=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],cNe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],uNe=[],dNe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function qF(e,r){for(var n=0;n!=e.length;++n)for(var a=e[n],s=0;s!=r.length;++s){var i=r[s];if(a[i[0]]==null)a[i[0]]=i[1];else switch(i[2]){case"bool":typeof a[i[0]]=="string"&&(a[i[0]]=Kr(a[i[0]]));break;case"int":typeof a[i[0]]=="string"&&(a[i[0]]=parseInt(a[i[0]],10));break}}}function KF(e,r){for(var n=0;n!=r.length;++n){var a=r[n];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Kr(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function UK(e){KF(e.WBProps,BK),KF(e.CalcPr,dNe),qF(e.WBView,cNe),qF(e.Sheets,uNe),dm.date1904=Kr(e.WBProps.date1904)}var fNe="][*?/\\".split("");function hNe(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return fNe.forEach(function(a){if(e.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var mNe=/<\w+:workbook/;function pNe(e,r){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,s="xmlns",i={},o=0;if(e.replace(Va,function(u,d){var f=Ot(u);switch(Rl(f[0])){case"<?xml":break;case"<workbook":u.match(mNe)&&(s="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=f[s];break;case"</workbook>":break;case"<fileVersion":delete f[0],n.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":BK.forEach(function(h){if(f[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=Kr(f[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(f[h[0]],10);break;default:n.WBProps[h[0]]=f[h[0]]}}),f.codeName&&(n.WBProps.CodeName=Lr(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],n.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=lr(Lr(f.name)),delete f[0],n.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":i={},i.Name=Lr(f.name),f.comment&&(i.Comment=f.comment),f.localSheetId&&(i.Sheet=+f.localSheetId),Kr(f.hidden||"0")&&(i.Hidden=!0),o=d+u.length;break;case"</definedName>":i.Ref=lr(Lr(e.slice(o,d))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete f[0],n.CalcPr=f;break;case"<calcPr/>":delete f[0],n.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&r.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return u}),D1e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return UK(n),n}function gNe(e,r){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=TE(e),n.name=Ma(e),n}function vNe(e,r){var n={},a=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=r>8?Ma(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(a&65536),n.backupFile=!!(a&64),n.checkCompatibility=!!(a&4096),n.date1904=!!(a&1),n.filterPrivacy=!!(a&8),n.hidePivotFieldList=!!(a&1024),n.promptedSolutions=!!(a&16),n.publishItems=!!(a&2048),n.refreshAllConnections=!!(a&262144),n.saveExternalLinkValues=!!(a&128),n.showBorderUnselectedTables=!!(a&4),n.showInkAnnotation=!!(a&32),n.showObjects=["all","placeholders","none"][a>>13&3],n.showPivotChartFilter=!!(a&32768),n.updateLinks=["userSet","never","always"][a>>8&3],n}function xNe(e,r){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=r-8,n}function yNe(e,r,n){var a=e.l+r;e.l+=4,e.l+=1;var s=e.read_shift(4),i=J1e(e),o=rke(e,0,n),c=fP(e);e.l=a;var u={Name:i,Ptg:o};return s<268435455&&(u.Sheet=s),c&&(u.Comment=c),u}function wNe(e,r){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],s=!1;r||(r={}),r.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],tb[16]={n:"BrtFRTArchID$",f:xNe},Cc(e,function(u,d,f){switch(f){case 156:o.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(r.SID=u.Sheet),u.Ref=Ta(u.Ptg,null,null,o,r),delete r.SID,delete u.Ptg,i.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([f,u]):o[0]=[f,u],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(u),o.XTI=o.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(f),s=!0;break;case 36:a.pop(),s=!1;break;case 37:a.push(f),s=!0;break;case 38:a.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||r.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},r),UK(n),n.Names=i,n.supbooks=o,n}function bNe(e,r,n){return r.slice(-4)===".bin"?wNe(e,n):pNe(e,n)}function _Ne(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?nNe(e,a,n,s,i,o,c):gke(e,a,n,s,i,o,c)}function SNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?lNe(e,a,n,s,i):iNe(e,a,n,s,i)}function jNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?PSe():DSe()}function kNe(e,r,n,a,s,i,o,c){return r.slice(-4)===".bin"?ASe():OSe()}function NNe(e,r,n,a){return r.slice(-4)===".bin"?K_e(e,n,a):U_e(e,n,a)}function ENe(e,r,n){return EK(e,n)}function CNe(e,r,n){return r.slice(-4)===".bin"?c_e(e,n):o_e(e,n)}function TNe(e,r,n){return r.slice(-4)===".bin"?ESe(e,n):_Se(e,n)}function ANe(e,r,n){return r.slice(-4)===".bin"?ySe(e):vSe(e)}function ONe(e,r,n,a){return n.slice(-4)===".bin"?wSe(e,r,n,a):void 0}function PNe(e,r,n){return r.slice(-4)===".bin"?pSe(e,r,n):gSe(e,r,n)}var VK=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,zK=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Zi(e,r){var n=e.split(/\s+/),a=[];if(a[0]=n[0],n.length===1)return a;var s=e.match(VK),i,o,c,u;if(s)for(u=0;u!=s.length;++u)i=s[u].match(zK),(o=i[1].indexOf(":"))===-1?a[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(o+1),a[c]=i[2].slice(1,i[2].length-1));return a}function DNe(e){var r=e.split(/\s+/),n={};if(r.length===1)return n;var a=e.match(VK),s,i,o,c;if(a)for(c=0;c!=a.length;++c)s=a[c].match(zK),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}var Sg;function RNe(e,r){var n=Sg[e]||lr(e);return n==="General"?jf(r):Wi(n,r)}function INe(e,r,n,a){var s=a;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Kr(a);break;case"i2":case"int":s=parseInt(a,10);break;case"r4":case"float":s=parseFloat(a);break;case"date":case"dateTime.tz":s=ea(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[lr(r)]=s}function MNe(e,r,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||Hf[e.v]:r==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dv(e.v):e.w=jf(e.v):e.w=RNe(r||"General",e.v)}catch(i){if(n.WTF)throw i}try{var a=Sg[r]||r||"General";if(n.cellNF&&(e.z=a),n.cellDates&&e.t=="n"&&Hp(a)){var s=Fd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function FNe(e,r,n){if(n.cellStyles&&r.Interior){var a=r.Interior;a.Pattern&&(a.patternType=I_e[a.Pattern]||a.Pattern)}e[r.ID]=r}function LNe(e,r,n,a,s,i,o,c,u,d){var f="General",h=a.StyleID,m={};d=d||{};var p=[],v=0;for(h===void 0&&c&&(h=c.StyleID),h===void 0&&o&&(h=o.StyleID);i[h]!==void 0&&(i[h].nf&&(f=i[h].nf),i[h].Interior&&p.push(i[h].Interior),!!i[h].Parent);)h=i[h].Parent;switch(n.Type){case"Boolean":a.t="b",a.v=Kr(e);break;case"String":a.t="s",a.r=pF(lr(e)),a.v=e.indexOf("<")>-1?lr(r||e).replace(/<.*?>/g,""):a.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),a.v=(ea(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),a.v!==a.v?a.v=lr(e):a.v<60&&(a.v=a.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+e),a.t||(a.t="n");break;case"Error":a.t="e",a.v=sK[e],d.cellText!==!1&&(a.w=e);break;default:e==""&&r==""?a.t="z":(a.t="s",a.v=pF(r||e));break}if(MNe(a,f,d),d.cellFormula!==!1)if(a.Formula){var g=lr(a.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),a.f=um(g,s),delete a.Formula,a.ArrayRange=="RC"?a.F=um("RC:RC",s):a.ArrayRange&&(a.F=um(a.ArrayRange,s),u.push([un(a.F),a.F]))}else for(v=0;v<u.length;++v)s.r>=u[v][0].s.r&&s.r<=u[v][0].e.r&&s.c>=u[v][0].s.c&&s.c<=u[v][0].e.c&&(a.F=u[v][1]);d.cellStyles&&(p.forEach(function(x){!m.patternType&&x.patternType&&(m.patternType=x.patternType)}),a.s=m),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function $Ne(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function Kk(e,r){var n=r||{};Oq();var a=H0(oP(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(a=Lr(a));var s=a.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=fa(n);return o.type="string",mv.to_workbook(a,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(mt){s.indexOf("<"+mt)>=0&&(i=!0)}),i)return GNe(a,n);Sg={"General Number":"General","General Date":Ut[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ut[15],"Short Date":Ut[14],"Long Time":Ut[19],"Medium Time":Ut[18],"Short Time":Ut[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ut[2],Standard:Ut[4],Percent:Ut[10],Scientific:Ut[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],d,f={},h=[],m=n.dense?[]:{},p="",v={},g={},x=Zi('<Data ss:Type="String">'),b=0,w=0,_=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},N={},k="",C=0,E=[],P={},I={},T=0,U=[],H=[],F={},M=[],z,L=!1,R=[],J=[],te={},A=0,X=0,V={Sheets:[],WBProps:{date1904:!1}},q={};hv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";c=hv.exec(a);)switch(c[3]=(ae=c[3]).toLowerCase()){case"data":if(ae=="data"){if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?LNe(a.slice(b,c.index),k,x,u[u.length-1][0]=="comment"?F:v,{c:w,r:_},j,M[w],g,R,n):(k="",x=Zi(c[0]),b=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(H.length>0&&(v.c=H),(!n.sheetRows||n.sheetRows>_)&&v.v!==void 0&&(n.dense?(m[_]||(m[_]=[]),m[_][w]=v):m[Vn(w)+ha(_)]=v),v.HRef&&(v.l={Target:lr(v.HRef)},v.HRefScreenTip&&(v.l.Tooltip=v.HRefScreenTip),delete v.HRef,delete v.HRefScreenTip),(v.MergeAcross||v.MergeDown)&&(A=w+(parseInt(v.MergeAcross,10)|0),X=_+(parseInt(v.MergeDown,10)|0),E.push({s:{c:w,r:_},e:{c:A,r:X}})),!n.sheetStubs)v.MergeAcross?w=A+1:++w;else if(v.MergeAcross||v.MergeDown){for(var ce=w;ce<=A;++ce)for(var me=_;me<=X;++me)(ce>w||me>_)&&(n.dense?(m[me]||(m[me]=[]),m[me][ce]={t:"z"}):m[Vn(ce)+ha(me)]={t:"z"});w=A+1}else++w;else v=DNe(c[0]),v.Index&&(w=+v.Index-1),w<S.s.c&&(S.s.c=w),w>S.e.c&&(S.e.c=w),c[0].slice(-2)==="/>"&&++w,H=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(_<S.s.r&&(S.s.r=_),_>S.e.r&&(S.e.r=_),c[0].slice(-2)==="/>"&&(g=Zi(c[0]),g.Index&&(_=+g.Index-1)),w=0,++_):(g=Zi(c[0]),g.Index&&(_=+g.Index-1),te={},(g.AutoFitHeight=="0"||g.Height)&&(te.hpx=parseInt(g.Height,10),te.hpt=NK(te.hpx),J[_]=te),g.Hidden=="1"&&(te.hidden=!0,J[_]=te));break;case"worksheet":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));h.push(p),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(m["!ref"]=nr(S),n.sheetRows&&n.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=n.sheetRows-1,m["!ref"]=nr(S))),E.length&&(m["!merges"]=E),M.length>0&&(m["!cols"]=M),J.length>0&&(m["!rows"]=J),f[p]=m}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=w=0,u.push([c[3],!1]),d=Zi(c[0]),p=lr(d.Name),m=n.dense?[]:{},E=[],R=[],J=[],q={name:p,Hidden:0},V.Sheets.push(q);break;case"table":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),M=[],L=!1}break;case"style":c[1]==="/"?FNe(j,N,n):N=Zi(c[0]);break;case"numberformat":N.nf=lr(Zi(c[0]).Format||"General"),Sg[N.nf]&&(N.nf=Sg[N.nf]);for(var ie=0;ie!=392&&Ut[ie]!=N.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Ut[ie]==null){rf(N.nf,ie);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(z=Zi(c[0]),z.Hidden&&(z.hidden=!0,delete z.Hidden),z.Width&&(z.wpx=parseInt(z.Width,10)),!L&&z.wpx>10){L=!0,ts=jK;for(var Q=0;Q<M.length;++Q)M[Q]&&Ym(M[Q])}L&&Ym(z),M[z.Index-1||M.length]=z;for(var de=0;de<+z.Span;++de)M[M.length]=fa(z);break;case"namedrange":if(c[1]==="/")break;V.Names||(V.Names=[]);var D=Ot(c[0]),Be={Name:D.Name,Ref:um(D.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Be.Sheet=V.Sheets.length-1),V.Names.push(Be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?k+=a.slice(C,c.index):C=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;N.Interior=Zi(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?_we(P,ae,a.slice(T,c.index)):T=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));$Ne(F),H.push(F)}else u.push([c[3],!1]),d=Zi(c[0]),F={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Le=Zi(c[0]);m["!autofilter"]={ref:um(Le.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=u.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return ZF(a,n);var Ue=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ue=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ue=!1}break;case"excelworkbook":switch(c[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ue=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ue=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(a.slice(T,c.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else T=c.index+c[0].length;break;case"header":m["!margins"]||_g(m["!margins"]={},"xlml"),isNaN(+Ot(c[0]).Margin)||(m["!margins"].header=+Ot(c[0]).Margin);break;case"footer":m["!margins"]||_g(m["!margins"]={},"xlml"),isNaN(+Ot(c[0]).Margin)||(m["!margins"].footer=+Ot(c[0]).Margin);break;case"pagemargins":var ze=Ot(c[0]);m["!margins"]||_g(m["!margins"]={},"xlml"),isNaN(+ze.Top)||(m["!margins"].top=+ze.Top),isNaN(+ze.Left)||(m["!margins"].left=+ze.Left),isNaN(+ze.Right)||(m["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(m["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ue=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ue=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ue=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ue=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ue=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ue=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ue=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ue=!1}break;case"smarttags":break;default:Ue=!1;break}if(Ue||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?INe(I,ae,U,a.slice(T,c.index)):(U=c,T=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var De={};return!n.bookSheets&&!n.bookProps&&(De.Sheets=f),De.SheetNames=h,De.Workbook=V,De.SSF=fa(Ut),De.Props=P,De.Custprops=I,De}function DE(e,r){switch(_P(r=r||{}),r.type||"base64"){case"base64":return Kk(hi(e),r);case"binary":case"buffer":case"file":return Kk(e,r);case"array":return Kk(Vf(e),r)}}function BNe(e){var r={},n=e.content;if(n.l=28,r.AnsiUserType=n.read_shift(0,"lpstr-ansi"),r.AnsiClipboardFormat=ewe(n),n.length-n.l<=4)return r;var a=n.read_shift(4);if(a==0||a>40||(n.l-=4,r.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(a=n.read_shift(4),a!==1907505652)||(r.UnicodeClipboardFormat=twe(n),a=n.read_shift(4),a==0||a>40))return r;n.l-=4,r.Reserved2=n.read_shift(0,"lpwstr")}var UNe=[60,1084,2066,2165,2175];function VNe(e,r,n,a,s){var i=a,o=[],c=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&c.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(c)}o.push(c),n.l+=i;for(var u=ec(n,n.l),d=RE[u],f=0;d!=null&&UNe.indexOf(u)>-1;)i=ec(n,n.l+2),f=n.l+4,u==2066?f+=4:(u==2165||u==2175)&&(f+=12),c=n.slice(f,n.l+4+i),o.push(c),n.l+=4+i,d=RE[u=ec(n,n.l)];var h=eu(o);ia(h,0);var m=0;h.lens=[];for(var p=0;p<o.length;++p)h.lens.push(m),m+=o[p].length;if(h.length<a)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+a;return r.f(h,h.length,s)}function qo(e,r,n){if(e.t!=="z"&&e.XF){var a=0;try{a=e.z||e.XF.numFmtId||0,r.cellNF&&(e.z=Ut[a])}catch(i){if(r.WTF)throw i}if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Hf[e.v]:a===0||a=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=dv(e.v):e.w=jf(e.v):e.w=Wi(a,e.v,{date1904:!!n,dateNF:r&&r.dateNF})}catch(i){if(r.WTF)throw i}if(r.cellDates&&a&&e.t=="n"&&Hp(Ut[a]||String(a))){var s=Fd(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function r1(e,r,n){return{v:e,ixfe:r,t:n}}function zNe(e,r){var n={opts:{}},a={},s=r.dense?[]:{},i={},o={},c=null,u=[],d="",f={},h,m="",p,v,g,x,b={},w=[],_,S,j=[],N=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},E=function(Ee){return Ee<8?nf[Ee]:Ee<64&&N[Ee-8]||nf[Ee]},P=function(Ee,$e,Fe){var We=$e.XF.data;if(!(!We||!We.patternType||!Fe||!Fe.cellStyles)){$e.s={},$e.s.patternType=We.patternType;var yt;(yt=pv(E(We.icvFore)))&&($e.s.fgColor={rgb:yt}),(yt=pv(E(We.icvBack)))&&($e.s.bgColor={rgb:yt})}},I=function(Ee,$e,Fe){if(!(te>1)&&!(Fe.sheetRows&&Ee.r>=Fe.sheetRows)){if(Fe.cellStyles&&$e.XF&&$e.XF.data&&P(Ee,$e,Fe),delete $e.ixfe,delete $e.XF,h=Ee,m=Mt(Ee),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),Ee.r<o.s.r&&(o.s.r=Ee.r),Ee.c<o.s.c&&(o.s.c=Ee.c),Ee.r+1>o.e.r&&(o.e.r=Ee.r+1),Ee.c+1>o.e.c&&(o.e.c=Ee.c+1),Fe.cellFormula&&$e.f){for(var We=0;We<w.length;++We)if(!(w[We][0].s.c>Ee.c||w[We][0].s.r>Ee.r)&&!(w[We][0].e.c<Ee.c||w[We][0].e.r<Ee.r)){$e.F=nr(w[We][0]),(w[We][0].s.c!=Ee.c||w[We][0].s.r!=Ee.r)&&delete $e.f,$e.f&&($e.f=""+Ta(w[We][1],o,Ee,R,T));break}}Fe.dense?(s[Ee.r]||(s[Ee.r]=[]),s[Ee.r][Ee.c]=$e):s[m]=$e}},T={enc:!1,sbcch:0,snames:[],sharedf:b,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};r.password&&(T.password=r.password);var U,H=[],F=[],M=[],z=[],L=!1,R=[];R.SheetNames=T.snames,R.sharedf=T.sharedf,R.arrayf=T.arrayf,R.names=[],R.XTI=[];var J=0,te=0,A=0,X=[],V=[],q;T.codepage=1200,bo(1200);for(var ae=!1;e.l<e.length-1;){var ce=e.l,me=e.read_shift(2);if(me===0&&J===10)break;var ie=e.l===e.length?0:e.read_shift(2),Q=RE[me];if(Q&&Q.f){if(r.bookSheets&&J===133&&me!==133)break;if(J=me,Q.r===2||Q.r==12){var de=e.read_shift(2);if(ie-=2,!T.enc&&de!==me&&((de&255)<<8|de>>8)!==me)throw new Error("rt mismatch: "+de+"!="+me);Q.r==12&&(e.l+=10,ie-=10)}var D={};if(me===10?D=Q.f(e,ie,T):D=VNe(me,Q,e,ie,T),te==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(me){case 34:n.opts.Date1904=k.WBProps.date1904=D;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=D,!r.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=D;break;case 66:var Be=Number(D);switch(Be){case 21010:Be=1200;break;case 32768:Be=1e4;break;case 32769:Be=1252;break}bo(T.codepage=Be),ae=!0;break;case 317:T.rrtabid=D;break;case 25:T.winlocked=D;break;case 439:n.opts.RefreshAll=D;break;case 12:n.opts.CalcCount=D;break;case 16:n.opts.CalcDelta=D;break;case 17:n.opts.CalcIter=D;break;case 13:n.opts.CalcMode=D;break;case 14:n.opts.CalcPrecision=D;break;case 95:n.opts.CalcSaveRecalc=D;break;case 15:T.CalcRefMode=D;break;case 2211:n.opts.FullCalc=D;break;case 129:D.fDialog&&(s["!type"]="dialog"),D.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),D.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:j.push(D);break;case 430:R.push([D]),R[R.length-1].XTI=[];break;case 35:case 547:R[R.length-1].push(D);break;case 24:case 536:q={Name:D.Name,Ref:Ta(D.rgce,o,null,R,T)},D.itab>0&&(q.Sheet=D.itab-1),R.names.push(q),R[0]||(R[0]=[],R[0].XTI=[]),R[R.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(V[D.itab-1]={ref:nr(D.rgce[0][0][1][2])});break;case 22:T.ExternCount=D;break;case 23:R.length==0&&(R[0]=[],R[0].XTI=[]),R[R.length-1].XTI=R[R.length-1].XTI.concat(D),R.XTI=R.XTI.concat(D);break;case 2196:if(T.biff<8)break;q!=null&&(q.Comment=D[1]);break;case 18:s["!protect"]=D;break;case 19:D!==0&&T.WTF&&console.error("Password verifier: "+D);break;case 133:i[D.pos]=D,T.snames.push(D.name);break;case 10:{if(--te)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=nr(o),r.sheetRows&&r.sheetRows<=o.e.r){var Le=o.e.r;o.e.r=r.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=nr(o),o.e.r=Le}o.e.r++,o.e.c++}H.length>0&&(s["!merges"]=H),F.length>0&&(s["!objects"]=F),M.length>0&&(s["!cols"]=M),z.length>0&&(s["!rows"]=z),k.Sheets.push(C)}d===""?f=s:a[d]=s,s=r.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(T.biff===8&&(T.biff={9:2,521:3,1033:4}[me]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),T.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(T.biff=5,ae=!0,bo(T.codepage=28591)),T.biff==8&&D.BIFFVer==0&&D.dt==16&&(T.biff=2),te++)break;if(s=r.dense?[]:{},T.biff<8&&!ae&&(ae=!0,bo(T.codepage=r.codepage||1252)),T.biff<5||D.BIFFVer==0&&D.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ue={pos:e.l-ie,name:d};i[Ue.pos]=Ue,T.snames.push(d)}else d=(i[ce]||{name:""}).name;D.dt==32&&(s["!type"]="chart"),D.dt==64&&(s["!type"]="macro"),H=[],F=[],T.arrayf=w=[],M=[],z=[],L=!1,C={Hidden:(i[ce]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(r.dense?(s[D.r]||[])[D.c]:s[Mt({c:D.c,r:D.r})])&&++D.c,_={ixfe:D.ixfe,XF:j[D.ixfe]||{},v:D.val,t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r);break;case 5:case 517:_={ixfe:D.ixfe,XF:j[D.ixfe],v:D.val,t:D.t},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r);break;case 638:_={ixfe:D.ixfe,XF:j[D.ixfe],v:D.rknum,t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r);break;case 189:for(var ze=D.c;ze<=D.C;++ze){var De=D.rkrec[ze-D.c][0];_={ixfe:De,XF:j[De],v:D.rkrec[ze-D.c][1],t:"n"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:ze,r:D.r},_,r)}break;case 6:case 518:case 1030:{if(D.val=="String"){c=D;break}if(_=r1(D.val,D.cell.ixfe,D.tt),_.XF=j[_.ixfe],r.cellFormula){var mt=D.formula;if(mt&&mt[0]&&mt[0][0]&&mt[0][0][0]=="PtgExp"){var ut=mt[0][0][1][0],se=mt[0][0][1][1],he=Mt({r:ut,c:se});b[he]?_.f=""+Ta(D.formula,o,D.cell,R,T):_.F=((r.dense?(s[ut]||[])[se]:s[he])||{}).F}else _.f=""+Ta(D.formula,o,D.cell,R,T)}A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I(D.cell,_,r),c=D}break;case 7:case 519:if(c)c.val=D,_=r1(D,c.cell.ixfe,"s"),_.XF=j[_.ixfe],r.cellFormula&&(_.f=""+Ta(c.formula,o,c.cell,R,T)),A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I(c.cell,_,r),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(D);var ee=Mt(D[0].s);if(p=r.dense?(s[D[0].s.r]||[])[D[0].s.c]:s[ee],r.cellFormula&&p){if(!c||!ee||!p)break;p.f=""+Ta(D[1],o,D[0],R,T),p.F=nr(D[0])}}break;case 1212:{if(!r.cellFormula)break;if(m){if(!c)break;b[Mt(c.cell)]=D[0],p=r.dense?(s[c.cell.r]||[])[c.cell.c]:s[Mt(c.cell)],(p||{}).f=""+Ta(D[0],o,h,R,T)}}break;case 253:_=r1(u[D.isst].t,D.ixfe,"s"),u[D.isst].h&&(_.h=u[D.isst].h),_.XF=j[_.ixfe],A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r);break;case 513:r.sheetStubs&&(_={ixfe:D.ixfe,XF:j[D.ixfe],t:"z"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r));break;case 190:if(r.sheetStubs)for(var _e=D.c;_e<=D.C;++_e){var je=D.ixfe[_e-D.c];_={ixfe:je,XF:j[je],t:"z"},A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:_e,r:D.r},_,r)}break;case 214:case 516:case 4:_=r1(D.val,D.ixfe,"s"),_.XF=j[_.ixfe],A>0&&(_.z=X[_.ixfe>>8&63]),qo(_,r,n.opts.Date1904),I({c:D.c,r:D.r},_,r);break;case 0:case 512:te===1&&(o=D);break;case 252:u=D;break;case 1054:if(T.biff==4){X[A++]=D[1];for(var be=0;be<A+163&&Ut[be]!=D[1];++be);be>=163&&rf(D[1],A+163)}else rf(D[1],D[0]);break;case 30:{X[A++]=D;for(var le=0;le<A+163&&Ut[le]!=D;++le);le>=163&&rf(D,A+163)}break;case 229:H=H.concat(D);break;case 93:F[D.cmo[0]]=T.lastobj=D;break;case 438:T.lastobj.TxO=D;break;case 127:T.lastobj.ImData=D;break;case 440:for(x=D[0].s.r;x<=D[0].e.r;++x)for(g=D[0].s.c;g<=D[0].e.c;++g)p=r.dense?(s[x]||[])[g]:s[Mt({c:g,r:x})],p&&(p.l=D[1]);break;case 2048:for(x=D[0].s.r;x<=D[0].e.r;++x)for(g=D[0].s.c;g<=D[0].e.c;++g)p=r.dense?(s[x]||[])[g]:s[Mt({c:g,r:x})],p&&p.l&&(p.l.Tooltip=D[1]);break;case 28:{if(T.biff<=5&&T.biff>=2)break;p=r.dense?(s[D[0].r]||[])[D[0].c]:s[Mt(D[0])];var fe=F[D[2]];p||(r.dense?(s[D[0].r]||(s[D[0].r]=[]),p=s[D[0].r][D[0].c]={t:"z"}):p=s[Mt(D[0])]={t:"z"},o.e.r=Math.max(o.e.r,D[0].r),o.s.r=Math.min(o.s.r,D[0].r),o.e.c=Math.max(o.e.c,D[0].c),o.s.c=Math.min(o.s.c,D[0].c)),p.c||(p.c=[]),v={a:D[1],t:fe.TxO.t},p.c.push(v)}break;case 2173:dSe(j[D.ixfe],D.ext);break;case 125:{if(!T.cellStyles)break;for(;D.e>=D.s;)M[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},L||(L=!0,vP(D.w/256)),Ym(M[D.e+1])}break;case 520:{var ye={};D.level!=null&&(z[D.r]=ye,ye.level=D.level),D.hidden&&(z[D.r]=ye,ye.hidden=!0),D.hpt&&(z[D.r]=ye,ye.hpt=D.hpt,ye.hpx=gv(D.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||_g(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[me]]=D;break;case 161:s["!margins"]||_g(s["!margins"]={}),s["!margins"].header=D.header,s["!margins"].footer=D.footer;break;case 574:D.RTL&&(k.Views[0].RTL=!0);break;case 146:N=D;break;case 2198:U=D;break;case 140:S=D;break;case 442:d?C.CodeName=D||C.name:k.WBProps.CodeName=D||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+me.toString(16)),e.l+=ie}return n.SheetNames=Nl(i).sort(function(pe,Ee){return Number(pe)-Number(Ee)}).map(function(pe){return i[pe].name}),r.bookSheets||(n.Sheets=a),!n.SheetNames.length&&f["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=f)):n.Preamble=f,n.Sheets&&V.forEach(function(pe,Ee){n.Sheets[n.SheetNames[Ee]]["!autofilter"]=pe}),n.Strings=u,n.SSF=fa(Ut),T.enc&&(n.Encryption=T.enc),U&&(n.Themes=U),n.Metadata={},S!==void 0&&(n.Metadata.Country=S),R.names.length>0&&(k.Names=R.names),n.Workbook=k,n}var GF={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function WNe(e,r,n){var a=rr.find(e,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var s=OF(a,owe,GF.DSI);for(var i in s)r[i]=s[i]}catch(d){if(n.WTF)throw d}var o=rr.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var c=OF(o,lwe,GF.SI);for(var u in c)r[u]==null&&(r[u]=c[u])}catch(d){if(n.WTF)throw d}r.HeadingPairs&&r.TitlesOfParts&&(oK(r.HeadingPairs,r.TitlesOfParts,r,n),delete r.HeadingPairs,delete r.TitlesOfParts)}function WK(e,r){r||(r={}),_P(r),yq(),r.codepage&&eP(r.codepage);var n,a;if(e.FullPaths){if(rr.find(e,"/encryption"))throw new Error("File is password-protected");n=rr.find(e,"!CompObj"),a=rr.find(e,"/Workbook")||rr.find(e,"/Book")}else{switch(r.type){case"base64":e=vo(hi(e));break;case"binary":e=vo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ia(e,0),a={content:e}}var s,i;if(n&&BNe(n),r.bookProps&&!r.bookSheets)s={};else{var o=tr?"buffer":"array";if(a&&a.content)s=zNe(a.content,r);else if((i=rr.find(e,"PerfectOffice_MAIN"))&&i.content)s=wg.to_workbook(i.content,(r.type=o,r));else if((i=rr.find(e,"NativeContent_MAIN"))&&i.content)s=wg.to_workbook(i.content,(r.type=o,r));else throw(i=rr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");r.bookVBA&&e.FullPaths&&rr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=TSe(e))}var c={};return e.FullPaths&&WNe(e,c,r),s.Props=s.Custprops=c,r.bookFiles&&(s.cfb=e),s}var tb={0:{f:kke},1:{f:Tke},2:{f:Lke},3:{f:Dke},4:{f:Oke},5:{f:Fke},6:{f:Uke},7:{f:Ike},8:{f:qke},9:{f:Hke},10:{f:zke},11:{f:Wke},12:{f:Ake},13:{f:$ke},14:{f:Rke},15:{f:Pke},16:{f:$K},17:{f:Vke},18:{f:Mke},19:{f:dP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yNe},40:{},42:{},43:{f:z_e},44:{f:V_e},45:{f:W_e},46:{f:q_e},47:{f:H_e},48:{},49:{f:K1e},50:{},51:{f:hSe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:yK},62:{f:Bke},63:{f:xSe},64:{f:tNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ba,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:eNe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Cke},148:{f:Nke,p:16},151:{f:Yke},152:{},153:{f:vNe},154:{},155:{},156:{f:gNe},157:{},158:{},159:{T:1,f:l_e},160:{T:-1},161:{T:1,f:Wf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Kke},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:fSe},336:{T:-1},337:{f:mSe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:TE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:xK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Xke},427:{f:Jke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Zke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Eke},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gke},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:TE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NSe},633:{T:1},634:{T:-1},635:{T:1,f:kSe},636:{T:-1},637:{f:Y1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:oNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},RE={6:{f:Hk},10:{f:Uc},12:{f:jn},13:{f:jn},14:{f:dn},15:{f:dn},16:{f:Da},17:{f:dn},18:{f:dn},19:{f:jn},20:{f:IF},21:{f:IF},23:{f:xK},24:{f:FF},25:{f:dn},26:{},27:{},28:{f:Sbe},29:{},34:{f:dn},35:{f:MF},38:{f:Da},39:{f:Da},40:{f:Da},41:{f:Da},42:{f:dn},43:{f:dn},47:{f:E_e},49:{f:abe},51:{f:jn},60:{},61:{f:tbe},64:{f:dn},65:{f:nbe},66:{f:jn},77:{},80:{},81:{},82:{},85:{f:jn},89:{},90:{},91:{},92:{f:Kwe},93:{f:kbe},94:{},95:{f:dn},96:{},97:{},99:{f:dn},125:{f:yK},128:{f:mbe},129:{f:Gwe},130:{f:jn},131:{f:dn},132:{f:dn},133:{f:Ywe},134:{},140:{f:Obe},141:{f:jn},144:{},146:{f:Dbe},151:{},152:{},153:{},154:{},155:{},156:{f:jn},157:{},158:{},160:{f:Lbe},161:{f:Ibe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:ube},190:{f:dbe},193:{f:Uc},197:{},198:{},199:{},200:{},201:{},202:{f:dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:jn},220:{},221:{f:dn},222:{},224:{f:hbe},225:{f:qwe},226:{f:Uc},227:{},229:{f:jbe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Xwe},253:{f:sbe},255:{f:Jwe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:fK},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dn},353:{f:Uc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gbe},431:{f:dn},432:{},433:{},434:{},437:{},438:{f:Cbe},439:{f:dn},440:{f:Tbe},441:{},442:{f:Ux},443:{},444:{f:jn},445:{},446:{},448:{f:Uc},449:{f:ebe,r:2},450:{f:Uc},512:{f:DF},513:{f:Fbe},515:{f:pbe},516:{f:ibe},517:{f:RF},519:{f:$be},520:{f:Qwe},523:{},545:{f:LF},549:{f:PF},566:{},574:{f:rbe},638:{f:cbe},659:{},1048:{},1054:{f:obe},1084:{},1212:{f:wbe},2048:{f:Abe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Zy},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Uc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Rbe,r:12},2173:{f:uSe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:ybe,r:12},2197:{},2198:{f:aSe,r:12},2199:{},2200:{},2201:{},2202:{f:bbe,r:12},2203:{f:Uc},2204:{},2205:{},2206:{},2207:{},2211:{f:Zwe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:jn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Mbe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Pbe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DF},1:{},2:{f:zbe},3:{f:Vbe},4:{f:Ube},5:{f:RF},7:{f:Wbe},8:{},9:{f:Zy},11:{},22:{f:jn},30:{f:lbe},31:{},32:{},33:{f:LF},36:{},37:{f:PF},50:{f:Hbe},62:{},52:{},67:{},68:{f:jn},69:{},86:{},126:{},127:{f:Bbe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:qbe},223:{},234:{},354:{},421:{},518:{f:Hk},521:{f:Zy},536:{f:FF},547:{f:MF},561:{},579:{},1030:{f:Hk},1033:{f:Zy},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function eo(e,r,n,a){var s=r;if(!isNaN(s)){var i=(n||[]).length||0,o=e.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&Zq(n)&&e.push(n)}}function YF(e,r){var n=r||{},a=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var s=e.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),o=s.index,c=i&&i.index||e.length,u=p1e(e.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,f=0,h=0,m=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},v=[];for(o=0;o<u.length;++o){var g=u[o].trim(),x=g.slice(0,3).toLowerCase();if(x=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}f=0;continue}if(!(x!="<td"&&x!="<th")){var b=g.split(/<\/t[dh]>/i);for(c=0;c<b.length;++c){var w=b[c].trim();if(w.match(/<t[dh]/i)){for(var _=w,S=0;_.charAt(0)=="<"&&(S=_.indexOf(">"))>-1;)_=_.slice(S+1);for(var j=0;j<v.length;++j){var N=v[j];N.s.c==f&&N.s.r<d&&d<=N.e.r&&(f=N.e.c+1,j=-1)}var k=Ot(w.slice(0,w.indexOf(">")));m=k.colspan?+k.colspan:1,((h=+k.rowspan)>1||m>1)&&v.push({s:{r:d,c:f},e:{r:d+(h||1)-1,c:f+m-1}});var C=k.t||k["data-t"]||"";if(!_.length){f+=m;continue}if(_=Bq(_),p.s.r>d&&(p.s.r=d),p.e.r<d&&(p.e.r=d),p.s.c>f&&(p.s.c=f),p.e.c<f&&(p.e.c=f),!_.length){f+=m;continue}var E={t:"s",v:_};n.raw||!_.trim().length||C=="s"||(_==="TRUE"?E={t:"b",v:!0}:_==="FALSE"?E={t:"b",v:!1}:isNaN(ko(_))?isNaN(Gm(_).getDate())||(E={t:"d",v:ea(_)},n.cellDates||(E={t:"n",v:ds(E.v)}),E.z=n.dateNF||Ut[14]):E={t:"n",v:ko(_)}),n.dense?(a[d]||(a[d]=[]),a[d][f]=E):a[Mt({r:d,c:f})]=E,f+=m}}}}return a["!ref"]=nr(p),v.length&&(a["!merges"]=v),a}function HNe(e,r,n,a){for(var s=e["!merges"]||[],i=[],o=r.s.c;o<=r.e.c;++o){for(var c=0,u=0,d=0;d<s.length;++d)if(!(s[d].s.r>n||s[d].s.c>o)&&!(s[d].e.r<n||s[d].e.c<o)){if(s[d].s.r<n||s[d].s.c<o){c=-1;break}c=s[d].e.r-s[d].s.r+1,u=s[d].e.c-s[d].s.c+1;break}if(!(c<0)){var f=Mt({r:n,c:o}),h=a.dense?(e[n]||[])[o]:e[f],m=h&&h.v!=null&&(h.h||iP(h.w||(bc(h),h.w)||""))||"",p={};c>1&&(p.rowspan=c),u>1&&(p.colspan=u),a.editable?m='<span contenteditable="true">'+m+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),p.id=(a.id||"sjs")+"-"+f,i.push(O1e("td",m,p))}}var v="<tr>";return v+i.join("")+"</tr>"}var qNe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',KNe="</body></html>";function GNe(e,r){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return td(YF(n[0],r),r);var a=jP();return n.forEach(function(s,i){kP(a,YF(s,r),"Sheet"+(i+1))}),a}function YNe(e,r,n){var a=[];return a.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function XNe(e,r){var n=r||{},a=n.header!=null?n.header:qNe,s=n.footer!=null?n.footer:KNe,i=[a],o=qp(e["!ref"]);n.dense=Array.isArray(e),i.push(YNe(e,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(HNe(e,o,c,n));return i.push("</table>"+s),i.join("")}function HK(e,r,n){var a=n||{},s=0,i=0;if(a.origin!=null)if(typeof a.origin=="number")s=a.origin;else{var o=typeof a.origin=="string"?as(a.origin):a.origin;s=o.r,i=o.c}var c=r.getElementsByTagName("tr"),u=Math.min(a.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var f=qp(e["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),s==-1&&(d.e.r=s=f.e.r+1)}var h=[],m=0,p=e["!rows"]||(e["!rows"]=[]),v=0,g=0,x=0,b=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);v<c.length&&g<u;++v){var S=c[v];if(XF(S)){if(a.display)continue;p[g]={hidden:!0}}var j=S.children;for(x=b=0;x<j.length;++x){var N=j[x];if(!(a.display&&XF(N))){var k=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):Bq(N.innerHTML),C=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<h.length;++m){var E=h[m];E.s.c==b+i&&E.s.r<g+s&&g+s<=E.e.r&&(b=E.e.c+1-i,m=-1)}_=+N.getAttribute("colspan")||1,((w=+N.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:g+s,c:b+i},e:{r:g+s+(w||1)-1,c:b+i+(_||1)-1}});var P={t:"s",v:k},I=N.getAttribute("data-t")||N.getAttribute("t")||"";k!=null&&(k.length==0?P.t=I||"z":a.raw||k.trim().length==0||I=="s"||(k==="TRUE"?P={t:"b",v:!0}:k==="FALSE"?P={t:"b",v:!1}:isNaN(ko(k))?isNaN(Gm(k).getDate())||(P={t:"d",v:ea(k)},a.cellDates||(P={t:"n",v:ds(P.v)}),P.z=a.dateNF||Ut[14]):P={t:"n",v:ko(k)})),P.z===void 0&&C!=null&&(P.z=C);var T="",U=N.getElementsByTagName("A");if(U&&U.length)for(var H=0;H<U.length&&!(U[H].hasAttribute("href")&&(T=U[H].getAttribute("href"),T.charAt(0)!="#"));++H);T&&T.charAt(0)!="#"&&(P.l={Target:T}),a.dense?(e[g+s]||(e[g+s]=[]),e[g+s][b+i]=P):e[Mt({c:b+i,r:g+s})]=P,d.e.c<b+i&&(d.e.c=b+i),b+=_}}++g}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,g-1+s),e["!ref"]=nr(d),g>=u&&(e["!fullref"]=nr((d.e.r=c.length-v+g-1+s,d))),e}function qK(e,r){var n=r||{},a=n.dense?[]:{};return HK(a,e,r)}function JNe(e,r){return td(qK(e,r),r)}function XF(e){var r="",n=QNe(e);return n&&(r=n(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function QNe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ZNe(e){var r=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=lr(r.replace(/<[^>]*>/g,""));return[n]}var JF={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function KK(e,r){var n=r||{},a=oP(e),s=[],i,o,c={name:""},u="",d=0,f,h,m={},p=[],v=n.dense?[]:{},g,x,b={value:""},w="",_=0,S=[],j=-1,N=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,E={},P=[],I={},T=0,U=0,H=[],F=1,M=1,z=[],L={Names:[]},R={},J=["",""],te=[],A={},X="",V=0,q=!1,ae=!1,ce=0;for(hv.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=hv.exec(a);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?v["!ref"]=nr(k):v["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=k.e.r&&(v["!fullref"]=v["!ref"],k.e.r=n.sheetRows-1,v["!ref"]=nr(k)),P.length&&(v["!merges"]=P),H.length&&(v["!rows"]=H),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),p.push(f.name),m[f.name]=v,ae=!1):g[0].charAt(g[0].length-2)!=="/"&&(f=Ot(g[0],!1),j=N=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,v=n.dense?[]:{},P=[],H=[],ae=!0);break;case"table-row-group":g[1]==="/"?--C:++C;break;case"table-row":case"":if(g[1]==="/"){j+=F,F=1;break}if(h=Ot(g[0],!1),h.?j=h.-1:j==-1&&(j=0),F=+h["number-rows-repeated"]||1,F<10)for(ce=0;ce<F;++ce)C>0&&(H[j+ce]={level:C});N=-1;break;case"covered-table-cell":g[1]!=="/"&&++N,n.sheetStubs&&(n.dense?(v[j]||(v[j]=[]),v[j][N]={t:"z"}):v[Mt({r:j,c:N})]={t:"z"}),w="",S=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++N,b=Ot(g[0],!1),M=parseInt(b["number-columns-repeated"]||"1",10),x={t:"z",v:null},b.formula&&n.cellFormula!=!1&&(x.f=HF(lr(b.formula))),(b.||b["value-type"])=="string"&&(x.t="s",x.v=lr(b["string-value"]||""),n.dense?(v[j]||(v[j]=[]),v[j][N]=x):v[Mt({r:j,c:N})]=x),N+=M-1;else if(g[1]!=="/"){++N,w="",_=0,S=[],M=1;var me=F?j+F-1:j;if(N>k.e.c&&(k.e.c=N),N<k.s.c&&(k.s.c=N),j<k.s.r&&(k.s.r=j),me>k.e.r&&(k.e.r=me),b=Ot(g[0],!1),te=[],A={},x={t:b.||b["value-type"],v:null},n.cellFormula)if(b.formula&&(b.formula=lr(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(T=parseInt(b["number-matrix-rows-spanned"],10)||0,U=parseInt(b["number-matrix-columns-spanned"],10)||0,I={s:{r:j,c:N},e:{r:j+T-1,c:N+U-1}},x.F=nr(I),z.push([I,x.F])),b.formula)x.f=HF(b.formula);else for(ce=0;ce<z.length;++ce)j>=z[ce][0].s.r&&j<=z[ce][0].e.r&&N>=z[ce][0].s.c&&N<=z[ce][0].e.c&&(x.F=z[ce][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(T=parseInt(b["number-rows-spanned"],10)||0,U=parseInt(b["number-columns-spanned"],10)||0,I={s:{r:j,c:N},e:{r:j+T-1,c:N+U-1}},P.push(I)),b["number-columns-repeated"]&&(M=parseInt(b["number-columns-repeated"],10)),x.t){case"boolean":x.t="b",x.v=Kr(b["boolean-value"]);break;case"float":x.t="n",x.v=parseFloat(b.value);break;case"percentage":x.t="n",x.v=parseFloat(b.value);break;case"currency":x.t="n",x.v=parseFloat(b.value);break;case"date":x.t="d",x.v=ea(b["date-value"]),n.cellDates||(x.t="n",x.v=ds(x.v)),x.z="m/d/yy";break;case"time":x.t="n",x.v=f1e(b["time-value"])/86400,n.cellDates&&(x.t="d",x.v=pS(x.v)),x.z="HH:MM:SS";break;case"number":x.t="n",x.v=parseFloat(b.);break;default:if(x.t==="string"||x.t==="text"||!x.t)x.t="s",b["string-value"]!=null&&(w=lr(b["string-value"]),S=[]);else throw new Error("Unsupported value type "+x.t)}}else{if(q=!1,x.t==="s"&&(x.v=w||"",S.length&&(x.R=S),q=_==0),R.Target&&(x.l=R),te.length>0&&(x.c=te,te=[]),w&&n.cellText!==!1&&(x.w=w),q&&(x.t="z",delete x.v),(!q||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=j))for(var ie=0;ie<F;++ie){if(M=parseInt(b["number-columns-repeated"]||"1",10),n.dense)for(v[j+ie]||(v[j+ie]=[]),v[j+ie][N]=ie==0?x:fa(x);--M>0;)v[j+ie][N+M]=fa(x);else for(v[Mt({r:j+ie,c:N})]=x;--M>0;)v[Mt({r:j+ie,c:N+M})]=fa(x);k.e.c<=N&&(k.e.c=N)}M=parseInt(b["number-columns-repeated"]||"1",10),N+=M-1,M=0,x={},w="",S=[]}R={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i;A.t=w,S.length&&(A.R=S),A.a=X,te.push(A)}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);X="",V=0,w="",_=0,S=[];break;case"creator":g[1]==="/"?X=a.slice(V,g.index):V=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);w="",_=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(E[c.name]=u,(i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(u="",c=Ot(g[0],!1),s.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Ot(g[0],!1),u+=JF[g[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=Ot(g[0],!1),u+=JF[g[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":u+=a.slice(d,g.index);break}else d=g.index+g[0].length;break;case"named-range":o=Ot(g[0],!1),J=qk(o["cell-range-address"]);var Q={Name:o.name,Ref:J[0]+"!"+J[1]};ae&&(Q.Sheet=p.length),L.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(g[1]==="/"&&(!b||!b["string-value"])){var de=ZNe(a.slice(_,g.index));w=(w.length>0?w+`
`:"")+de[0]}else Ot(g[0],!1),_=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{J=qk(Ot(g[0])["target-range-address"]),m[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(R=Ot(g[0],!1),!R.href)break;R.Target=lr(R.href),delete R.href,R.Target.charAt(0)=="#"&&R.Target.indexOf(".")>-1?(J=qk(R.Target.slice(1)),R.Target="#"+J[0]+"!"+J[1]):R.Target.match(/^\.\.[\\\/]/)&&(R.Target=R.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(g)}}var D={Sheets:m,SheetNames:p,Workbook:L};return n.bookSheets&&delete D.Sheets,D}function QF(e,r){r=r||{},Ni(e,"META-INF/manifest.xml")&&pwe(Sn(e,"META-INF/manifest.xml"),r);var n=ai(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var a=KK(Lr(n),r);return Ni(e,"meta.xml")&&(a.Props=iK(Sn(e,"meta.xml"))),a}function ZF(e,r){return KK(e,r)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function IE(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Lr(Vf(e))}function ME(e){var r=e.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(r),a=0;return e.forEach(function(s){n.set(s,a),a+=s.length}),n}function e3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function e2e(e,r){for(var n=(e[r+15]&127)<<7|e[r+14]>>1,a=e[r+14]&1,s=r+13;s>=r;--s)a=a*256+e[s];return(e[r+15]&128?-a:a)*Math.pow(10,n-6176)}function vv(e,r){var n=r?r[0]:0,a=e[n]&127;e:if(e[n++]>=128&&(a|=(e[n]&127)<<7,e[n++]<128||(a|=(e[n]&127)<<14,e[n++]<128)||(a|=(e[n]&127)<<21,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(a+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return r&&(r[0]=n),a}function Wn(e){var r=0,n=e[r]&127;e:if(e[r++]>=128){if(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128))break e;n|=(e[r]&127)<<28}return n}function Ia(e){for(var r=[],n=[0];n[0]<e.length;){var a=n[0],s=vv(e,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var u=n[0];e[n[0]++]>=128;);c=e.slice(u,n[0])}break;case 5:o=4,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=vv(e,n),c=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(a))}var d={data:c,type:i};r[s]==null?r[s]=[d]:r[s].push(d)}return r}function bP(e,r){return(e==null?void 0:e.map(function(n){return r(n.data)}))||[]}function t2e(e){for(var r,n=[],a=[0];a[0]<e.length;){var s=vv(e,a),i=Ia(e.slice(a[0],a[0]+s));a[0]+=s;var o={id:Wn(i[1][0].data),messages:[]};i[2].forEach(function(c){var u=Ia(c.data),d=Wn(u[3][0].data);o.messages.push({meta:u,data:e.slice(a[0],a[0]+d)}),a[0]+=d}),(r=i[3])!=null&&r[0]&&(o.merge=Wn(i[3][0].data)>>>0>0),n.push(o)}return n}function r2e(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],a=vv(r,n),s=[];n[0]<r.length;){var i=r[n[0]]&3;if(i==0){var o=r[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=r[n[0]],c>1&&(o|=r[n[0]+1]<<8),c>2&&(o|=r[n[0]+2]<<16),c>3&&(o|=r[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(r.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var u=0,d=0;if(i==1?(d=(r[n[0]]>>2&7)+4,u=(r[n[0]++]&224)<<3,u|=r[n[0]++]):(d=(r[n[0]++]>>2)+1,i==2?(u=r[n[0]]|r[n[0]+1]<<8,n[0]+=2):(u=(r[n[0]]|r[n[0]+1]<<8|r[n[0]+2]<<16|r[n[0]+3]<<24)>>>0,n[0]+=4)),s=[ME(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(s.push(s[0].slice(-u)),d-=u;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-u,-u+d))}}var f=ME(s);if(f.length!=a)throw new Error("Unexpected length: ".concat(f.length," != ").concat(a));return f}function n2e(e){for(var r=[],n=0;n<e.length;){var a=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,r.push(r2e(a,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return ME(r)}function a2e(e,r,n,a){var s=wP(e),i=s.getUint32(4,!0),o=(a>1?12:8)+e3(i&(a>1?3470:398))*4,c=-1,u=-1,d=NaN,f=new Date(2001,0,1);i&512&&(c=s.getUint32(o,!0),o+=4),o+=e3(i&(a>1?12288:4096))*4,i&16&&(u=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(f.setTime(f.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:d};break;case 3:h={t:"s",v:r[u]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(c>-1)h={t:"s",v:n[c]};else if(u>-1)h={t:"s",v:r[u]};else if(!isNaN(d))h={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function s2e(e,r,n){var a=wP(e),s=a.getUint32(8,!0),i=12,o=-1,c=-1,u=NaN,d=NaN,f=new Date(2001,0,1);s&1&&(u=e2e(e,i),i+=16),s&2&&(d=a.getFloat64(i,!0),i+=8),s&4&&(f.setTime(f.getTime()+a.getFloat64(i,!0)*1e3),i+=8),s&8&&(c=a.getUint32(i,!0),i+=4),s&16&&(o=a.getUint32(i,!0),i+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:r[c]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:d>0};break;case 7:h={t:"n",v:d/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(s&31," : ").concat(e.slice(0,4)))}return h}function i2e(e,r,n){switch(e[0]){case 0:case 1:case 2:case 3:return a2e(e,r,n,e[0]);case 5:return s2e(e,r,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Au(e){var r=Ia(e);return vv(r[1][0].data)}function t3(e,r){var n=Ia(r.data),a=Wn(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(o){var c=Ia(o.data),u=Wn(c[1][0].data)>>>0;switch(a){case 1:i[u]=IE(c[3][0].data);break;case 8:{var d=e[Au(c[9][0].data)][0],f=Ia(d.data),h=e[Au(f[1][0].data)][0],m=Wn(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var p=Ia(h.data);i[u]=p[3].map(function(v){return IE(v.data)}).join("")}break}}),i}function o2e(e,r){var n,a,s,i,o,c,u,d,f,h,m,p,v,g,x=Ia(e),b=Wn(x[1][0].data)>>>0,w=Wn(x[2][0].data)>>>0,_=((a=(n=x[8])==null?void 0:n[0])==null?void 0:a.data)&&Wn(x[8][0].data)>0||!1,S,j;if((i=(s=x[7])==null?void 0:s[0])!=null&&i.data&&r!=0)S=(c=(o=x[7])==null?void 0:o[0])==null?void 0:c.data,j=(d=(u=x[6])==null?void 0:u[0])==null?void 0:d.data;else if((h=(f=x[4])==null?void 0:f[0])!=null&&h.data&&r!=1)S=(p=(m=x[4])==null?void 0:m[0])==null?void 0:p.data,j=(g=(v=x[3])==null?void 0:v[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(r," cell storage");for(var N=_?4:1,k=wP(S),C=[],E=0;E<S.length/2;++E){var P=k.getUint16(E*2,!0);P<65535&&C.push([E,P])}if(C.length!=w)throw"Expected ".concat(w," cells, found ").concat(C.length);var I=[];for(E=0;E<C.length-1;++E)I[C[E][0]]=j.subarray(C[E][1]*N,C[E+1][1]*N);return C.length>=1&&(I[C[C.length-1][0]]=j.subarray(C[C.length-1][1]*N)),{R:b,cells:I}}function l2e(e,r){var n,a=Ia(r.data),s=(n=a==null?void 0:a[7])!=null&&n[0]?Wn(a[7][0].data)>>>0>0?1:0:-1,i=bP(a[5],function(o){return o2e(o,s)});return{nrows:Wn(a[4][0].data)>>>0,data:i.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(u,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=u}),o},[])}}function c2e(e,r,n){var a,s=Ia(r.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Wn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Wn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=nr(i);var o=Ia(s[4][0].data),c=t3(e,e[Au(o[4][0].data)][0]),u=(a=o[17])!=null&&a[0]?t3(e,e[Au(o[17][0].data)][0]):[],d=Ia(o[3][0].data),f=0;d[1].forEach(function(h){var m=Ia(h.data),p=e[Au(m[2][0].data)][0],v=Wn(p.meta[1][0].data);if(v!=6002)throw new Error("6001 unexpected reference to ".concat(v));var g=l2e(e,p);g.data.forEach(function(x,b){x.forEach(function(w,_){var S=Mt({r:f+b,c:_}),j=i2e(w,c,u);j&&(n[S]=j)})}),f+=g.nrows})}function u2e(e,r){var n=Ia(r.data),a={"!ref":"A1"},s=e[Au(n[2][0].data)],i=Wn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return c2e(e,s[0],a),a}function d2e(e,r){var n,a=Ia(r.data),s={name:(n=a[1])!=null&&n[0]?IE(a[1][0].data):"",sheets:[]},i=bP(a[2],Au);return i.forEach(function(o){e[o].forEach(function(c){var u=Wn(c.meta[1][0].data);u==6e3&&s.sheets.push(u2e(e,c))})}),s}function f2e(e,r){var n=jP(),a=Ia(r.data),s=bP(a[1],Au);if(s.forEach(function(i){e[i].forEach(function(o){var c=Wn(o.meta[1][0].data);if(c==2){var u=d2e(e,o);u.sheets.forEach(function(d,f){kP(n,d,f==0?u.name:u.name+"_"+f,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Gk(e){var r,n,a,s,i={},o=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var d;try{d=n2e(u.content)}catch(h){return console.log("?? "+u.content.length+" "+(h.message||h))}var f;try{f=t2e(d)}catch(h){return console.log("## "+(h.message||h))}f.forEach(function(h){i[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var c=((s=(a=(n=(r=i==null?void 0:i[1])==null?void 0:r[0])==null?void 0:n.meta)==null?void 0:a[1])==null?void 0:s[0].data)&&Wn(i[1][0].meta[1][0].data)==1&&i[1][0];if(c||o.forEach(function(u){i[u].forEach(function(d){var f=Wn(d.meta[1][0].data)>>>0;if(f==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return f2e(i,c)}function h2e(e){return function(n){for(var a=0;a!=e.length;++a){var s=e[a];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function _P(e){h2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function m2e(e){return Vh.WS.indexOf(e)>-1?"sheet":e==Vh.CS?"chart":e==Vh.DS?"dialog":e==Vh.MS?"macro":e&&e.length?e:"sheet"}function p2e(e,r){if(!e)return 0;try{e=r.map(function(a){return a.id||(a.id=a.strRelID),[a.name,e["!id"][a.id].Target,m2e(e["!id"][a.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function g2e(e,r,n,a,s,i,o,c,u,d,f,h){try{i[a]=xg(ai(e,n,!0),r);var m=Sn(e,r),p;switch(c){case"sheet":p=_Ne(m,r,s,u,i[a],d,f,h);break;case"chart":if(p=SNe(m,r,s,u,i[a],d,f,h),!p||!p["!drawel"])break;var v=K0(p["!drawel"].Target,r),g=AE(v),x=bSe(ai(e,v,!0),xg(ai(e,g,!0),v)),b=K0(x,v),w=AE(b);p=sNe(ai(e,b,!0),b,u,xg(ai(e,w,!0),b),d,p);break;case"macro":p=jNe(m,r,s,u,i[a],d,f,h);break;case"dialog":p=kNe(m,r,s,u,i[a],d,f,h);break;default:throw new Error("Unrecognized sheet type "+c)}o[a]=p;var _=[];i&&i[a]&&Nl(i[a]).forEach(function(S){var j="";if(i[a][S].Type==Vh.CMNT){j=K0(i[a][S].Target,r);var N=TNe(Sn(e,j,!0),j,u);if(!N||!N.length)return;BF(p,N,!1)}i[a][S].Type==Vh.TCMNT&&(j=K0(i[a][S].Target,r),_=_.concat(SSe(Sn(e,j,!0),u)))}),_&&_.length&&BF(p,_,!0,u.people||[])}catch(S){if(u.WTF)throw S}}function wi(e){return e.charAt(0)=="/"?e.slice(1):e}function v2e(e,r){if(Oq(),r=r||{},_P(r),Ni(e,"META-INF/manifest.xml")||Ni(e,"objectdata.xml"))return QF(e,r);if(Ni(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Gk<"u"){if(e.FileIndex)return Gk(e);var n=rr.utils.cfb_new();return hF(e).forEach(function(H){x1e(n,H,v1e(e,H))}),Gk(n)}throw new Error("Unsupported NUMBERS file")}if(!Ni(e,"[Content_Types].xml"))throw Ni(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ni(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=hF(e),s=hwe(ai(e,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",Sn(e,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!Sn(e,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var u={},d={};if(!r.bookSheets&&!r.bookProps){if(bg=[],s.sst)try{bg=CNe(Sn(e,wi(s.sst)),s.sst,r)}catch(H){if(r.WTF)throw H}r.cellStyles&&s.themes.length&&(u=ENe(ai(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],r)),s.style&&(d=NNe(Sn(e,wi(s.style)),s.style,u,r))}s.links.map(function(H){try{var F=xg(ai(e,AE(wi(H))),H);return ONe(Sn(e,wi(H)),F,H,r)}catch{}});var f=bNe(Sn(e,wi(s.workbooks[0])),s.workbooks[0],r),h={},m="";s.coreprops.length&&(m=Sn(e,wi(s.coreprops[0]),!0),m&&(h=iK(m)),s.extprops.length!==0&&(m=Sn(e,wi(s.extprops[0]),!0),m&&xwe(m,h,r)));var p={};(!r.bookSheets||r.bookProps)&&s.custprops.length!==0&&(m=ai(e,wi(s.custprops[0]),!0),m&&(p=wwe(m,r)));var v={};if((r.bookSheets||r.bookProps)&&(f.Sheets?o=f.Sheets.map(function(F){return F.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),r.bookProps&&(v.Props=h,v.Custprops=p),r.bookSheets&&typeof o<"u"&&(v.SheetNames=o),r.bookSheets?v.SheetNames:r.bookProps))return v;o={};var g={};r.bookDeps&&s.calcchain&&(g=ANe(Sn(e,wi(s.calcchain)),s.calcchain));var x=0,b={},w,_;{var S=f.Sheets;h.Worksheets=S.length,h.SheetNames=[];for(var j=0;j!=S.length;++j)h.SheetNames[j]=S[j].name}var N=i?"bin":"xml",k=s.workbooks[0].lastIndexOf("/"),C=(s.workbooks[0].slice(0,k+1)+"_rels/"+s.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");Ni(e,C)||(C="xl/_rels/workbook."+N+".rels");var E=xg(ai(e,C,!0),C.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(r.xlmeta=PNe(Sn(e,wi(s.metadata[0])),s.metadata[0],r)),(s.people||[]).length>=1&&(r.people=jSe(Sn(e,wi(s.people[0])),r)),E&&(E=p2e(E,f.Sheets));var P=Sn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(x=0;x!=h.Worksheets;++x){var I="sheet";if(E&&E[x]?(w="xl/"+E[x][1].replace(/[\/]?xl\//,""),Ni(e,w)||(w=E[x][1]),Ni(e,w)||(w=C.replace(/_rels\/.*$/,"")+E[x][1]),I=E[x][2]):(w="xl/worksheets/sheet"+(x+1-P)+"."+N,w=w.replace(/sheet0\./,"sheet.")),_=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(x!=r.sheets)continue e;break;case"string":if(h.SheetNames[x].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){for(var T=!1,U=0;U!=r.sheets.length;++U)typeof r.sheets[U]=="number"&&r.sheets[U]==x&&(T=1),typeof r.sheets[U]=="string"&&r.sheets[U].toLowerCase()==h.SheetNames[x].toLowerCase()&&(T=1);if(!T)continue e}}g2e(e,w,_,h.SheetNames[x],x,b,o,I,r,f,u,d)}return v={Directory:s,Workbook:f,Props:h,Custprops:p,Deps:g,Sheets:o,SheetNames:h.SheetNames,Strings:bg,Styles:d,Themes:u,SSF:fa(Ut)},r&&r.bookFiles&&(e.files?(v.keys=a,v.files=e.files):(v.keys=[],v.files={},e.FullPaths.forEach(function(H,F){H=H.replace(/^Root Entry[\/]/,""),v.keys.push(H),v.files[H]=e.FileIndex[F]}))),r&&r.bookVBA&&(s.vba.length>0?v.vbaraw=Sn(e,wi(s.vba[0]),!0):s.defaults&&s.defaults.bin===CSe&&(v.vbaraw=Sn(e,"xl/vbaProject.bin",!0))),v}function x2e(e,r){var n=r||{},a="Workbook",s=rr.find(e,a);try{if(a="/!DataSpaces/Version",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(u_e(s.content),a="/!DataSpaces/DataSpaceMap",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=f_e(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=h_e(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);p_e(s.content)}catch{}if(a="/EncryptionInfo",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=g_e(s.content);if(a="/EncryptedPackage",s=rr.find(e,a),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],s.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function SP(e,r){var n="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=hi(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function y2e(e,r){return rr.find(e,"EncryptedPackage")?x2e(e,r):WK(e,r)}function w2e(e,r){var n,a=e,s=r||{};return s.type||(s.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n=Fq(a,s),v2e(n,s)}function GK(e,r){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return DE(e.slice(n),r);default:break e}return mv.to_workbook(e,r)}function b2e(e,r){var n="",a=SP(e,r);switch(r.type){case"base64":n=hi(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=kf(e);break;default:throw new Error("Unrecognized type "+r.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(n=Lr(n)),r.type="binary",GK(n,r)}function _2e(e,r){var n=e;return r.type=="base64"&&(n=hi(n)),n=Zc.utils.decode(1200,n.slice(2),"str"),r.type="binary",GK(n,r)}function S2e(e){return e.match(/[^\x00-\x7F]/)?G0(e):e}function Yk(e,r,n,a){return a?(n.type="string",mv.to_workbook(e,n)):mv.to_workbook(r,n)}function FE(e,r){yq();var n=r||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return FE(new Uint8Array(e),(n=fa(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var a=e,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),dm={},n.dateNF&&(dm.dateNF=n.dateNF),n.type||(n.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=tr?"buffer":"binary",a=u1e(e),typeof Uint8Array<"u"&&!tr&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,a=S2e(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=fa(n),n.type="array",FE(tP(a),n)}switch((s=SP(a,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return y2e(rr.read(a,n),n);break;case 9:if(s[1]<=8)return WK(a,n);break;case 60:return DE(a,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return Jbe(a,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return Ybe.to_workbook(a,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?w2e(a,n):Yk(e,a,n,i);case 239:return s[3]===60?DE(a,n):Yk(e,a,n,i);case 255:if(s[1]===254)return _2e(a,n);if(s[1]===0&&s[2]===2&&s[3]===0)return wg.to_workbook(a,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return wg.to_workbook(a,n);break;case 3:case 131:case 139:case 140:return $F.to_workbook(a,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return C_e.to_workbook(a,n);break;case 10:case 13:case 32:return b2e(a,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Kbe.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?$F.to_workbook(a,n):Yk(e,a,n,i)}function j2e(e,r,n,a,s,i,o,c){var u=ha(n),d=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),h=!0,m=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:n,enumerable:!1})}catch{m.__rowNum__=n}else m.__rowNum__=n;if(!o||e[n])for(var p=r.s.c;p<=r.e.c;++p){var v=o?e[n][p]:e[a[p]+u];if(v===void 0||v.t===void 0){if(d===void 0)continue;i[p]!=null&&(m[i[p]]=d);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[p]!=null){if(g==null)if(v.t=="e"&&g===null)m[i[p]]=null;else if(d!==void 0)m[i[p]]=d;else if(f&&g===null)m[i[p]]=null;else continue;else m[i[p]]=f&&(v.t!=="n"||v.t==="n"&&c.rawNumbers!==!1)?g:bc(v,g,c);g!=null&&(h=!1)}}return{row:m,isempty:h}}function LE(e,r){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},a=0,s=1,i=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=r||{},f=d.range!=null?d.range:e["!ref"];switch(d.header===1?a=1:d.header==="A"?a=2:Array.isArray(d.header)?a=3:d.header==null&&(a=0),typeof f){case"string":u=un(f);break;case"number":u=un(e["!ref"]),u.s.r=f;break;default:u=f}a>0&&(s=0);var h=ha(u.s.r),m=[],p=[],v=0,g=0,x=Array.isArray(e),b=u.s.r,w=0,_={};x&&!e[b]&&(e[b]=[]);var S=d.skipHidden&&e["!cols"]||[],j=d.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(S[w]||{}).hidden)switch(m[w]=Vn(w),n=x?e[b][w]:e[m[w]+h],a){case 1:i[w]=w-u.s.c;break;case 2:i[w]=m[w];break;case 3:i[w]=d.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=bc(n,null,d),g=_[o]||0,!g)_[o]=1;else{do c=o+"_"+g++;while(_[c]);_[o]=g,_[c]=1}i[w]=c}for(b=u.s.r+s;b<=u.e.r;++b)if(!(j[b]||{}).hidden){var N=j2e(e,u,b,m,a,i,x,d);(N.isempty===!1||(a===1?d.blankrows!==!1:d.blankrows))&&(p[v++]=N.row)}return p.length=v,p}var r3=/"/g;function k2e(e,r,n,a,s,i,o,c){for(var u=!0,d=[],f="",h=ha(n),m=r.s.c;m<=r.e.c;++m)if(a[m]){var p=c.dense?(e[n]||[])[m]:e[a[m]+h];if(p==null)f="";else if(p.v!=null){u=!1,f=""+(c.rawNumbers&&p.t=="n"?p.v:bc(p,null,c));for(var v=0,g=0;v!==f.length;++v)if((g=f.charCodeAt(v))===s||g===i||g===34||c.forceQuotes){f='"'+f.replace(r3,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(u=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(r3,'""')+'"')):f="";d.push(f)}return c.blankrows===!1&&u?null:d.join(o)}function YK(e,r){var n=[],a=r??{};if(e==null||e["!ref"]==null)return"";var s=un(e["!ref"]),i=a.FS!==void 0?a.FS:",",o=i.charCodeAt(0),c=a.RS!==void 0?a.RS:`
`,u=c.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),f="",h=[];a.dense=Array.isArray(e);for(var m=a.skipHidden&&e["!cols"]||[],p=a.skipHidden&&e["!rows"]||[],v=s.s.c;v<=s.e.c;++v)(m[v]||{}).hidden||(h[v]=Vn(v));for(var g=0,x=s.s.r;x<=s.e.r;++x)(p[x]||{}).hidden||(f=k2e(e,s,x,h,o,u,i,a),f!=null&&(a.strip&&(f=f.replace(d,"")),(f||a.blankrows!==!1)&&n.push((g++?c:"")+f)));return delete a.dense,n.join("")}function N2e(e,r){r||(r={}),r.FS="	",r.RS=`
`;var n=YK(e,r);return n}function E2e(e){var r="",n,a="";if(e==null||e["!ref"]==null)return[];var s=un(e["!ref"]),i="",o=[],c,u=[],d=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)o[c]=Vn(c);for(var f=s.s.r;f<=s.e.r;++f)for(i=ha(f),c=s.s.c;c<=s.e.c;++c)if(r=o[c]+i,n=d?(e[f]||[])[c]:e[r],a="",n!==void 0){if(n.F!=null){if(r=n.F,!n.f)continue;a=n.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(n.f!=null)a=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)a=""+n.v;else if(n.t=="b")a=n.v?"TRUE":"FALSE";else if(n.w!==void 0)a="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?a="'"+n.v:a=""+n.v}}u[u.length]=r+"="+a}return u}function XK(e,r,n){var a=n||{},s=+!a.skipHeader,i=e||{},o=0,c=0;if(i&&a.origin!=null)if(typeof a.origin=="number")o=a.origin;else{var u=typeof a.origin=="string"?as(a.origin):a.origin;o=u.r,c=u.c}var d,f={s:{c:0,r:0},e:{c,r:o+r.length-1+s}};if(i["!ref"]){var h=un(i["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),o==-1&&(o=h.e.r+1,f.e.r=o+r.length-1+s)}else o==-1&&(o=0,f.e.r=r.length-1+s);var m=a.header||[],p=0;r.forEach(function(g,x){Nl(g).forEach(function(b){(p=m.indexOf(b))==-1&&(m[p=m.length]=b);var w=g[b],_="z",S="",j=Mt({c:c+p,r:o+x+s});d=xv(i,j),w&&typeof w=="object"&&!(w instanceof Date)?i[j]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",a.cellDates||(_="n",w=ds(w)),S=a.dateNF||Ut[14]):w===null&&a.nullError&&(_="e",w=0),d?(d.t=_,d.v=w,delete d.w,delete d.R,S&&(d.z=S)):i[j]=d={t:_,v:w},S&&(d.z=S))})}),f.e.c=Math.max(f.e.c,c+m.length-1);var v=ha(o);if(s)for(p=0;p<m.length;++p)i[Vn(p+c)+v]={t:"s",v:m[p]};return i["!ref"]=nr(f),i}function C2e(e,r){return XK(null,e,r)}function xv(e,r,n){if(typeof r=="string"){if(Array.isArray(e)){var a=as(r);return e[a.r]||(e[a.r]=[]),e[a.r][a.c]||(e[a.r][a.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?xv(e,Mt(r)):xv(e,Mt({r,c:n||0}))}function T2e(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var n=e.SheetNames.indexOf(r);if(n>-1)return n;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function jP(){return{SheetNames:[],Sheets:{}}}function kP(e,r,n,a){var s=1;if(!n)for(;s<=65535&&e.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&e.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&e.SheetNames.indexOf(n=o+s)!=-1;++s);}if(hNe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=r,n}function A2e(e,r,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var a=T2e(e,r);switch(e.Workbook.Sheets[a]||(e.Workbook.Sheets[a]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[a].Hidden=n}function O2e(e,r){return e.z=r,e}function JK(e,r,n){return r?(e.l={Target:r},n&&(e.l.Tooltip=n)):delete e.l,e}function P2e(e,r,n){return JK(e,"#"+r,n)}function D2e(e,r,n){e.c||(e.c=[]),e.c.push({t:r,a:n||"SheetJS"})}function R2e(e,r,n,a){for(var s=typeof r!="string"?r:un(r),i=typeof r=="string"?r:nr(r),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var u=xv(e,o,c);u.t="n",u.F=i,delete u.v,o==s.s.r&&c==s.s.c&&(u.f=n,a&&(u.D=!0))}return e}var I2e={encode_col:Vn,encode_row:ha,encode_cell:Mt,encode_range:nr,decode_col:uP,decode_row:cP,split_cell:q1e,decode_cell:as,decode_range:qp,format_cell:bc,sheet_add_aoa:tK,sheet_add_json:XK,sheet_add_dom:HK,aoa_to_sheet:Kp,json_to_sheet:C2e,table_to_sheet:qK,table_to_book:JNe,sheet_to_csv:YK,sheet_to_txt:N2e,sheet_to_json:LE,sheet_to_html:XNe,sheet_to_formulae:E2e,sheet_to_row_object_array:LE,sheet_get_cell:xv,book_new:jP,book_append_sheet:kP,book_set_sheet_visibility:A2e,cell_set_number_format:O2e,cell_set_hyperlink:JK,cell_set_internal_link:P2e,cell_add_comment:D2e,sheet_set_array_formula:R2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function M2e({templates:e,templateFields:r,onImportComplete:n,onClose:a}){var P,I;const{t:s}=Kt(),{user:i}=Sr(),{toast:o}=Ol(),[c,u]=y.useState("template"),[d,f]=y.useState(null),[h,m]=y.useState([]),[p,v]=y.useState({}),[g,x]=y.useState([]),[b,w]=y.useState(!1),[_,S]=y.useState(0),j=async T=>{var H;const U=(H=T.target.files)==null?void 0:H[0];if(U)try{const F=await U.arrayBuffer(),M=FE(F,{type:"array"}),z=M.Sheets[M.SheetNames[0]],L=I2e.sheet_to_json(z);if(L.length===0){o({title:s("common.error"),description:s("surveys.fileEmpty"),variant:"destructive"});return}m(L),N(L),u("preview")}catch(F){console.error("Error parsing file:",F),o({title:s("common.error"),description:s("surveys.fileParseError"),variant:"destructive"})}},N=T=>{if(!d)return;const U=r[d.template_id]||[],H=Object.keys(T[0]||{}),F=[],M={};for(const z of U){const L=z.field_label||"",R=H.find(J=>J.toLowerCase().trim()===L.toLowerCase().trim());R?M[L]=R:z.is_required&&F.push(s("surveys.requiredFieldNotFound",{field:`"${L}"`}))}v(M),x(F)},k=()=>h.slice(0,5),C=async()=>{if(!d||!i)return;const T=r[d.template_id]||[],U=[];for(const H of T)H.is_required&&!p[H.field_label||""]&&U.push(s("surveys.requiredFieldNotMapped",{field:`"${H.field_label}"`}));if(U.length>0){x(U);return}u("importing"),w(!0);try{const H=h.length,F=[];for(let z=0;z<h.length;z++){const L=h[z],R={};for(const te of T){const A=te.field_label||"",X=p[A];X&&L[X]!==void 0&&L[X]!==null&&L[X]!==""&&(R[A]=L[X])}const J={template_id:d.template_id,survey_name:L.survey_name||L["Survey Name"]||`Bulk Import ${z+1}`,survey_description:L.survey_description||L["Survey Description"]||null,client_name:L.client_name||L["Client Name"]||`Client ${z+1}`,client_name_ar:L.client_name_ar||L["Client Name AR"]||null,client_contact:L.client_contact||L["Client Contact"]||null,client_email:L.client_email||L["Client Email"]||null,client_address:L.client_address||L["Client Address"]||null,client_company:L.client_company||L["Client Company"]||null,client_company_ar:L.client_company_ar||L["Client Company AR"]||null,survey_responses:R,location_latitude:parseFloat(L.location_latitude||L.Latitude||"0"),location_longitude:parseFloat(L.location_longitude||L.Longitude||"0"),location_accuracy:L.location_accuracy?parseFloat(L.location_accuracy):null,location_address:L.location_address||L["Location Address"]||null,created_by:i.id,status:"collected",lead_id:null,converted_to_lead_at:null,device_info:null,completion_time_seconds:null,notes:L.notes||null,notes_ar:L.notes_ar||null,updated_by:null,reviewed_by:null,reviewed_at:null};F.push(J),S(Math.round((z+1)/H*50))}S(50);const M=await Id.createBatch(F);S(100),o({title:s("common.success"),description:s("surveys.importSuccess",{count:M.length})}),n(M),E()}catch(H){console.error("Error importing surveys:",H),o({title:s("common.error"),description:H.message||s("surveys.importFailed"),variant:"destructive"}),u("preview")}finally{w(!1)}},E=()=>{u("template"),f(null),m([]),v({}),x([]),S(0),a()};return l.jsxs(l.Fragment,{children:[l.jsxs(pn,{children:[l.jsx(gn,{children:s("surveys.bulkImport")}),l.jsxs($a,{children:[c==="template"&&s("surveys.selectTemplateForImport"),c==="upload"&&s("surveys.uploadFile"),c==="preview"&&s("surveys.reviewData"),c==="importing"&&s("surveys.importingData")]})]}),l.jsxs("div",{className:"space-y-6 py-4",children:[c==="template"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ge,{className:"text-base font-medium",children:s("surveys.selectTemplate")}),l.jsx("div",{className:"grid gap-3 grid-cols-1 md:grid-cols-2",children:e.filter(T=>T.is_active).map(T=>l.jsx(ot,{className:`cursor-pointer transition-all ${(d==null?void 0:d.template_id)===T.template_id?"ring-2 ring-primary":"hover:shadow-md"}`,onClick:()=>f(T),children:l.jsxs(xt,{className:"p-4",children:[l.jsx("h4",{className:"font-medium text-sm",children:T.template_name}),T.template_description&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:T.template_description}),T.category&&l.jsx(gt,{variant:"outline",className:"mt-2 text-xs",children:T.category})]})},T.template_id))})]}),c==="upload"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(D_,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[l.jsx("p",{className:"font-medium mb-1",children:s("surveys.importInstructions")}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[l.jsx("li",{children:s("surveys.importInstruction1")}),l.jsx("li",{children:s("surveys.importInstruction2")}),l.jsx("li",{children:s("surveys.importInstruction3")})]})]})]})}),l.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[l.jsx(rv,{className:"h-10 w-10 mx-auto text-muted-foreground mb-2"}),l.jsx(Ge,{className:"block text-sm font-medium mb-2",children:s("surveys.dragDropFile")}),l.jsx(He,{type:"file",accept:".xlsx,.xls,.csv",onChange:j,className:"hidden",id:"file-upload"}),l.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer",children:l.jsx(ue,{variant:"outline",asChild:!0,children:l.jsx("span",{children:s("surveys.selectFile")})})})]})]}),c==="preview"&&l.jsxs("div",{className:"space-y-4",children:[g.length>0&&l.jsx("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx(q2,{className:"h-5 w-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-700 dark:text-red-300",children:[l.jsx("p",{className:"font-medium mb-2",children:s("surveys.validationErrors")}),l.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:g.map((T,U)=>l.jsx("li",{children:T},U))})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.columnMapping")}),l.jsxs(gt,{variant:"secondary",children:[Object.keys(p).length," / ",d&&((P=r[d.template_id])==null?void 0:P.length)||0]})]}),l.jsx("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:d?(I=r[d.template_id])==null?void 0:I.map(T=>l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:T.field_label}),T.is_required&&l.jsx(gt,{variant:"destructive",className:"text-xs mt-1",children:s("surveys.required")})]}),p[T.field_label||""]?l.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[l.jsx(ll,{className:"h-4 w-4"}),l.jsx("span",{className:"text-xs font-medium",children:p[T.field_label||""]})]}):l.jsx("div",{className:"text-xs text-muted-foreground",children:T.is_required?l.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:s("surveys.notMapped")}):l.jsx("span",{children:s("surveys.optional")})})]},T.field_id)):l.jsx("div",{className:"text-center text-muted-foreground py-4",children:s("surveys.noTemplateSelected")})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:s("surveys.previewFirstRows",{count:5})}),l.jsx("div",{className:"border rounded-lg overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-muted border-b",children:l.jsx("tr",{children:Object.keys(k()[0]||{}).map(T=>l.jsx("th",{className:"px-3 py-2 text-left font-medium text-xs",children:T},T))})}),l.jsx("tbody",{children:k().map((T,U)=>l.jsx("tr",{className:"border-b hover:bg-muted/50",children:Object.entries(T).map(([H,F],M)=>l.jsx("td",{className:"px-3 py-2 text-xs",children:typeof F=="boolean"?H.toLowerCase().includes("is_default")?F?l.jsx(ll,{className:"h-4 w-4 text-green-600"}):l.jsx("span",{className:"text-transparent",children:"-"}):F?l.jsx(ll,{className:"h-4 w-4 text-green-600"}):l.jsx(_ie,{className:"h-4 w-4 text-gray-400"}):String(F||"")},M))},U))})]})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:s("surveys.showingRows",{shown:Math.min(5,h.length),total:h.length})})]})]}),c==="importing"&&l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(I_,{className:"h-12 w-12 mx-auto animate-spin text-primary mb-4"}),l.jsx("p",{className:"font-medium mb-2",children:s("surveys.importingData")}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[s("surveys.processingRows",{progress:_}),"%"]}),l.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:l.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${_}%`}})})]})})})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:E,disabled:b,children:s("buttons.cancel")}),c==="template"&&l.jsx(ue,{onClick:()=>u("upload"),disabled:!d,children:s("common.next")}),c==="upload"&&l.jsx(ue,{onClick:()=>u("template"),variant:"outline",children:s("common.back")}),c==="preview"&&l.jsxs(l.Fragment,{children:[l.jsx(ue,{onClick:()=>u("upload"),variant:"outline",children:"Back"}),l.jsx(ue,{onClick:C,disabled:g.length>0||b,children:s("surveys.startImport")})]})]})]})}function F2e(){var vi;const{t:e}=Kt(),{user:r}=Sr(),{isRTL:n}=ms(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState([]),[u,d]=y.useState({}),[f,h]=y.useState(!0),[m,p]=y.useState(""),[v,g]=y.useState(null),[x,b]=y.useState(null),[w,_]=y.useState([]);y.useState(!1);const[S,j]=y.useState(!1),[N,k]=y.useState(null),[C,E]=y.useState({}),[P,I]=y.useState({}),[T,U]=y.useState([]),[H,F]=y.useState(!1),[M,z]=y.useState(null),[L,R]=y.useState(null),[J,te]=y.useState(null),[A,X]=y.useState("card"),[V,q]=y.useState("card"),[ae,ce]=y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),[me,ie]=y.useState([]);y.useState({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1});const[Q,de]=y.useState({}),[D,Be]=y.useState(!1),[Le,Ue]=y.useState(!1),[ze,De]=y.useState(new Set);y.useState(!1),y.useEffect(()=>{mt()},[]);const mt=async()=>{try{h(!0);const[oe,Ne,Re]=await Promise.all([Id.getAll().catch(qt=>(console.error("[Surveys] Error fetching surveys:",qt),[])),yi.getAll().catch(qt=>(console.error("[Surveys] Error fetching templates:",qt),[])),cn.getAll().catch(qt=>(console.error("[Surveys] Error fetching users:",qt),[]))]),Me=Ne.map(async qt=>{try{const Ar=await yi.getFields(qt.template_id);return{templateId:qt.template_id,fields:Ar}}catch(Ar){return console.error(`[Surveys] Error fetching fields for template ${qt.template_id}:`,Ar),{templateId:qt.template_id,fields:[]}}}),ft=await Promise.all(Me),tt={};ft.forEach(qt=>{tt[qt.templateId]=qt.fields}),i(oe),c(Ne),U(Re),d(tt)}catch(oe){console.error("Failed to load surveys data:",oe)}finally{h(!1)}},ut=s.filter(oe=>{var Ne,Re;return oe.client_name.toLowerCase().includes(m.toLowerCase())||((Ne=oe.client_company)==null?void 0:Ne.toLowerCase().includes(m.toLowerCase()))||((Re=oe.survey_name)==null?void 0:Re.toLowerCase().includes(m.toLowerCase()))}),se=o.filter(oe=>{var Ne;return Ae(oe,"template_name").toLowerCase().includes(m.toLowerCase())||((Ne=oe.category)==null?void 0:Ne.toLowerCase().includes(m.toLowerCase()))}),he=oe=>{if(!oe)return e("surveys.unknownCreator");const Ne=T.find(Re=>{var Me,ft;return((Me=Re.userid)==null?void 0:Me.toString())===oe||((ft=Re.user_id)==null?void 0:ft.toString())===oe});return Ne?Ae(Ne,"user_name"):e("surveys.unknownCreator")},ee=oe=>{switch(oe.toLowerCase()){case"completed":return l.jsxs(gt,{variant:"default",className:"bg-green-500",children:[l.jsx(ll,{className:"h-3 w-3 mr-1"}),e("surveys.completed")]});case"in_progress":return l.jsxs(gt,{variant:"secondary",children:[l.jsx(Dd,{className:"h-3 w-3 mr-1"}),e("surveys.inProgress")]});case"pending":return l.jsxs(gt,{variant:"outline",children:[l.jsx(Dd,{className:"h-3 w-3 mr-1"}),e("surveys.pending")]});default:return l.jsx(gt,{variant:"outline",children:oe})}},_e=oe=>{i([...oe,...s])},je=async oe=>{if(b(oe),u[oe.template_id])_(u[oe.template_id]);else try{const Ne=await yi.getFields(oe.template_id);d(Re=>({...Re,[oe.template_id]:Ne})),_(Ne)}catch(Ne){console.error("Failed to load template fields:",Ne),_([])}},be=()=>{const oe={field_type:"text",field_label:"",is_required:!1,field_options:null,validation_rules:null,conditional_logic:null};ie(Ne=>[...Ne,oe])},le=oe=>{ie(Ne=>Ne.filter((Re,Me)=>Me!==oe))},fe=(oe,Ne)=>{ie(Re=>Re.map((Me,ft)=>ft===oe?{...Me,...Ne}:Me))},ye=(oe,Ne)=>{ie(Re=>{const Me=[...Re],[ft]=Me.splice(oe,1);return Me.splice(Ne,0,ft),Me})},pe=()=>{ce({template_name:"",template_name_ar:"",template_description:"",template_description_ar:"",category:"",is_active:!0,is_default:!1}),ie([]),z(null)},Ee=async oe=>{ce({template_name:oe.template_name||"",template_name_ar:oe.template_name_ar||"",template_description:oe.template_description||"",template_description_ar:oe.template_description_ar||"",category:oe.category||"",is_active:oe.is_active,is_default:oe.is_default||!1});const Re=(u[oe.template_id]||[]).map(Me=>({field_type:Me.field_type,field_label:Me.field_label||"",field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||"",help_text_ar:Me.help_text_ar||"",is_required:Me.is_required||!1,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value,conditional_logic:Me.conditional_logic,image_path:Me.image_path}));ie(Re),z(oe.template_id),F(!0)},$e=()=>{const oe={};return ae.template_name.trim()||(oe.template_name=e("surveys.templateNameRequired")),me.length===0?oe.fields=e("surveys.atLeastOneFieldRequired"):me.forEach((Ne,Re)=>{Ne.field_label.trim()||(oe[`field_${Re}`]=e("surveys.fieldLabelRequired",{number:Re+1}))}),de(oe),Object.keys(oe).length===0},Fe=async()=>{if(!$e()){a({title:e("common.error"),description:e("surveys.templateValidationFailed"),variant:"destructive"});return}Be(!0);try{if(M){await yi.update(M,ae);const oe=u[M]||[];for(const Ne of oe)Ne.field_id&&await yi.deleteField(Ne.field_id);for(let Ne=0;Ne<me.length;Ne++){const Re=me[Ne];await yi.createField({template_id:M,field_order:Ne+1,field_type:Re.field_type,field_label:Re.field_label,field_label_ar:Re.field_label_ar||"",help_text:Re.help_text||null,help_text_ar:Re.help_text_ar||null,is_required:Re.is_required,field_options:Re.field_options,validation_rules:Re.validation_rules,default_value:Re.default_value||null,conditional_logic:Re.conditional_logic,image_path:Re.image_path||null})}a({title:e("common.success"),description:e("surveys.templateUpdated")})}else{const oe={...ae,created_by:r==null?void 0:r.id},Ne=await yi.create(oe);for(let Re=0;Re<me.length;Re++){const Me=me[Re];await yi.createField({template_id:Ne.template_id,field_order:Re+1,field_type:Me.field_type,field_label:Me.field_label,field_label_ar:Me.field_label_ar||"",help_text:Me.help_text||null,help_text_ar:Me.help_text_ar||null,is_required:Me.is_required,field_options:Me.field_options,validation_rules:Me.validation_rules,default_value:Me.default_value||null,conditional_logic:Me.conditional_logic,image_path:Me.image_path||null})}a({title:e("common.success"),description:e("surveys.templateCreated")})}pe(),F(!1),mt()}catch(oe){console.error("Failed to save template:",oe),a({title:e("common.error"),description:e("surveys.templateSaveError",{action:e(M?"surveys.updateTemplate":"surveys.createTemplate")}),variant:"destructive"})}finally{Be(!1)}},We=async oe=>{if(k(oe),!u[oe.template_id])try{const Me=await yi.getFields(oe.template_id);d(ft=>({...ft,[oe.template_id]:Me}))}catch(Me){console.error("Failed to load template fields:",Me)}const Ne={};(u[oe.template_id]||[]).forEach(Me=>{Me.default_value!==null&&Me.default_value!==void 0&&(Ne[Me.field_id.toString()]=Me.default_value)}),E(Ne)},yt=async oe=>{try{await yi.delete(oe),c(Ne=>Ne.filter(Re=>Re.template_id!==oe)),R(null),d(Ne=>{const Re={...Ne};return delete Re[oe],Re})}catch(Ne){console.error("Failed to delete template:",Ne),alert("Failed to delete template. Please try again.")}},zt=async oe=>{try{await Id.delete(oe),i(Ne=>Ne.filter(Re=>Re.survey_id!==oe)),te(null)}catch(Ne){console.error("Failed to delete survey:",Ne),alert("Failed to delete survey. Please try again.")}},hr=async oe=>{try{const Ne=o.filter(Re=>Re.is_default&&Re.template_id!==oe);for(const Re of Ne)await yi.update(Re.template_id,{is_default:!1});await yi.update(oe,{is_default:!0}),c(Re=>Re.map(Me=>({...Me,is_default:Me.template_id===oe}))),a({title:e("common.success"),description:e("surveys.templateSetAsDefault")})}catch(Ne){console.error("Failed to set default template:",Ne),a({title:e("common.error"),description:e("surveys.templateSetDefaultError"),variant:"destructive"})}},kr=()=>new Promise((oe,Ne)=>{if(!navigator.geolocation){Ne(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(Re=>{oe({latitude:Re.coords.latitude,longitude:Re.coords.longitude,accuracy:Re.coords.accuracy})},Re=>{Ne(Re)},{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}),pr=async()=>{if(!(!N||!r))try{let oe={latitude:0,longitude:0,accuracy:0};try{oe=await kr()}catch(re){console.warn("Could not get location:",re)}const Ne=u[N.template_id]||[],Re=new Map(Ne.map(re=>[re.field_id.toString(),re.field_label])),Me={};for(const[re,Z]of Object.entries(C)){const O=Re.get(re)||re;Me[O]=Z}const ft=Me["Customer Name"]||Me["Client Name"]||Me.client_name||Me.customer_name||"Anonymous",tt=Me["Customer Company"]||Me["Client Company"]||Me.Company||Me.company||Me.client_company||null,qt=Me["Contact Number"]||Me["Contact Email"]||Me.Contact||Me.contact||Me.phone||null,Ar=Me["Contact Email"]||Me.Email||Me.email||Me.client_email||null,vs=Me.Address||Me.address||Me.client_address||null,xs=Me["Additional Notes"]||Me.Notes||Me.notes||null,ar={},id=Object.keys(P);for(const[re,Z]of Object.entries(C))if(!id.includes(re)){const O=Re.get(re)||re;ar[O]=Z}const od={template_id:N.template_id,survey_name:`${Ae(N,"template_name")} - ${new Date().toLocaleDateString()}`,survey_description:Ae(N,"template_description")||null,client_name:ft,client_name_ar:null,client_contact:qt,client_email:Ar,client_address:vs,client_company:tt,client_company_ar:null,survey_responses:ar,location_latitude:oe.latitude,location_longitude:oe.longitude,location_accuracy:oe.accuracy,location_address:vs,status:"collected",created_by:r.id,lead_id:null,converted_to_lead_at:null,device_info:navigator.userAgent,completion_time_seconds:null,notes:xs,notes_ar:null,updated_by:null,reviewed_by:null,reviewed_at:null};console.log("[Survey] Creating survey...");const W=await Id.create(od);if(console.log("[Survey] Survey created with ID:",W.survey_id),Object.keys(P).length>0){console.log("[Survey] Uploading images...",Object.keys(P));const re={...ar};for(const[O,K]of Object.entries(P))try{const Y=K.name.split(".").pop(),xe=`${O.replace(/[^a-zA-Z0-9]/g,"_")}_${Date.now()}.${Y}`,Te=`surveys/survey_${W.survey_id}/${xe}`;console.log(`[Survey] Uploading image for field "${O}" to path: ${Te}`);const{data:Se,error:ke}=await Qt.storage.from("survey-uploads").upload(Te,K,{cacheControl:"3600",upsert:!0,contentType:K.type});if(ke)throw console.error(`[Survey] Failed to upload image for field ${O}:`,ke),ke;console.log(`[Survey] Upload successful for field "${O}":`,Se);const{data:{publicUrl:Ce}}=Qt.storage.from("survey-uploads").getPublicUrl(Te);console.log(`[Survey] Public URL for field "${O}":`,Ce);const Ve=Re.get(O)||O;re[Ve]={bucket:"survey-uploads",path:Te,url:Ce}}catch(Y){throw console.error(`[Survey] Error processing image for field ${O}:`,Y),Y}if(console.log("[Survey] Updating survey with image references..."),!await G.surveys.update(W.survey_id,{survey_responses:re}))throw new Error("Failed to update survey with images");console.log("[Survey] Survey updated successfully with images"),W.survey_responses=re}i([W,...s]),k(null),E({}),I({}),j(!1),console.log("[Survey] Survey creation complete:",W)}catch(oe){console.error("[Survey] Failed to create survey:",oe),alert(`Failed to create survey: ${oe.message}`)}},za=oe=>{const Ne=oe.field_id.toString(),Re=C[Ne]||"";switch(oe.field_type.toLowerCase()){case"text":return l.jsx(He,{id:Ne,value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required});case"textarea":return l.jsx(da,{id:Ne,value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required,rows:3});case"number":return l.jsx(He,{id:Ne,type:"number",value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required});case"email":return l.jsx(He,{id:Ne,type:"email",value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required});case"date":return l.jsx(He,{id:Ne,type:"date",value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),required:oe.is_required});case"select":if(oe.field_options&&typeof oe.field_options=="object"&&!Array.isArray(oe.field_options)&&"options"in oe.field_options&&Array.isArray(oe.field_options.options)){const ft=oe.field_options.options.filter(tt=>typeof tt=="string");return l.jsxs(jt,{value:Re,onValueChange:tt=>E(qt=>({...qt,[Ne]:tt})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:Ae(oe,"help_text")||`${e("common.select")} ${Ae(oe,"field_label")}`})}),l.jsx(St,{children:ft.map((tt,qt)=>l.jsx(Pe,{value:tt,children:tt},qt))})]})}return l.jsx(He,{id:Ne,value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required});case"radio":if(oe.field_options&&typeof oe.field_options=="object"&&!Array.isArray(oe.field_options)&&"options"in oe.field_options&&Array.isArray(oe.field_options.options)){const ft=oe.field_options.options.filter(tt=>typeof tt=="string");return l.jsx("div",{className:"space-y-2",children:ft.map((tt,qt)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"radio",name:Ne,value:tt,checked:Re===tt,onChange:Ar=>E(vs=>({...vs,[Ne]:Ar.target.value}))}),l.jsx("span",{className:"text-sm",children:tt})]},qt))})}return l.jsx(He,{id:Ne,value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required});case"multiselect":case"checkbox":if(oe.field_options&&typeof oe.field_options=="object"&&!Array.isArray(oe.field_options)&&"options"in oe.field_options&&Array.isArray(oe.field_options.options)){const ft=oe.field_options.options.filter(tt=>typeof tt=="string");return l.jsx("div",{className:"space-y-2",children:ft.map((tt,qt)=>l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:Array.isArray(Re)?Re.includes(tt):!1,onChange:Ar=>{const vs=Array.isArray(Re)?Re:[];Ar.target.checked?E(xs=>({...xs,[Ne]:[...vs,tt]})):E(xs=>({...xs,[Ne]:vs.filter(ar=>ar!==tt)}))}}),l.jsx("span",{className:"text-sm",children:tt})]},qt))})}return l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:!!Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.checked}))}),l.jsx("span",{className:"text-sm",children:Ae(oe,"field_label")})]});case"image":const Me=C[Ne];return l.jsxs("div",{className:"space-y-2",children:[l.jsx(He,{id:Ne,type:"file",accept:"image/*",onChange:ft=>{var qt;const tt=(qt=ft.target.files)==null?void 0:qt[0];tt&&(I(Ar=>({...Ar,[Ne]:tt})),E(Ar=>({...Ar,[Ne]:{preview:URL.createObjectURL(tt),filename:tt.name}})))},required:oe.is_required}),(Me==null?void 0:Me.preview)&&l.jsxs("div",{className:"relative w-full",children:[l.jsx("img",{src:Me.preview,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border"}),l.jsx(ue,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{I(ft=>{const tt={...ft};return delete tt[Ne],tt}),E(ft=>{const tt={...ft};return delete tt[Ne],tt})},children:l.jsx(Er,{className:"h-4 w-4"})})]})]});default:return l.jsx(He,{id:Ne,value:Re,onChange:ft=>E(tt=>({...tt,[Ne]:ft.target.value})),placeholder:Ae(oe,"help_text")||oe.field_label,required:oe.is_required})}},qn=()=>{const oe=[{key:"survey",header:e("surveys.surveyName"),render:Me=>l.jsx(wc,{title:Me.survey_name||`${e("surveys.survey")} #${Me.survey_id}`,subtitle:Ae(Me,"client_name")})},{key:"status",header:e("surveys.status"),render:Me=>l.jsx($O,{variant:"outline",children:ee(Me.status)})},{key:"company",header:e("surveys.clientCompany"),hideOnMobile:!0,render:Me=>Me.client_company||e("surveys.noCompany")},{key:"creator",header:e("surveys.createdBy"),hideOnMobile:!0,render:Me=>l.jsx(bf,{name:he(Me.created_by),fallback:e("surveys.unknownCreator")})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Me=>l.jsx(Bu,{date:Me.created_at,fallback:e("leads.notSet")})}],Ne=[{label:e("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:Me=>g(Me)},{label:e("buttons.delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:Me=>te(Me.survey_id),variant:"destructive"}],Re=[{label:e("buttons.delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:async Me=>{if(Me.length===0)return;if(window.confirm(e("surveys.confirmBulkDeleteDesc",{count:Me.length})))try{const tt=Me.map(qt=>Id.delete(qt.survey_id));await Promise.all(tt),i(qt=>qt.filter(Ar=>!Me.find(vs=>vs.survey_id===Ar.survey_id))),De(new Set),a({title:e("common.success"),description:e("surveys.bulkDeleteSuccess",{count:Me.length})})}catch(tt){console.error("Failed to bulk delete surveys:",tt),a({title:e("common.error"),description:e("surveys.bulkDeleteError"),variant:"destructive"})}},variant:"destructive"}];return l.jsx(yc,{data:ut,columns:oe,actions:Ne,bulkActions:Re,keyExtractor:Me=>Me.survey_id,onRowClick:Me=>g(Me),enableBulkSelect:!0,emptyState:l.jsx(pl,{icon:l.jsx(Pi,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noSurveysFound"),description:e(m?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})})},ra=()=>{const oe=[{key:"template",header:e("surveys.templateName"),render:Re=>l.jsx(wc,{title:Ae(Re,"template_name"),subtitle:Ae(Re,"template_description")})},{key:"category",header:e("surveys.category"),render:Re=>Re.category||e("surveys.noCategory")},{key:"status",header:e("surveys.status"),render:Re=>l.jsxs("div",{className:"flex items-center gap-2",children:[Re.is_active?l.jsx(gt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(gt,{variant:"secondary",children:e("surveys.inactive")}),Re.is_default&&l.jsx(gt,{variant:"default",children:e("surveys.default")})]})},{key:"created",header:e("surveys.createdDate"),hideOnMobile:!0,render:Re=>l.jsx(Bu,{date:Re.created_at,fallback:e("leads.notSet")})}],Ne=[{label:e("common.view"),icon:l.jsx(Mi,{className:"h-4 w-4"}),onClick:Re=>je(Re)},{label:e("surveys.setAsDefault"),icon:l.jsx(ll,{className:"h-4 w-4"}),onClick:Re=>hr(Re.template_id),show:Re=>!Re.is_default},{label:e("buttons.edit"),icon:l.jsx(H2,{className:"h-4 w-4"}),onClick:Re=>Ee(Re)},{label:e("buttons.delete"),icon:l.jsx(Er,{className:"h-4 w-4"}),onClick:Re=>R(Re.template_id),variant:"destructive"}];return l.jsx(yc,{data:se,columns:oe,actions:Ne,keyExtractor:Re=>Re.template_id,onRowClick:Re=>je(Re),emptyState:l.jsx(pl,{icon:l.jsx(Pi,{className:"h-12 w-12 text-muted-foreground/50"}),title:e("surveys.noTemplatesFound"),description:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})})};return f?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})}):l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"relative",dir:n?"rtl":"ltr",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(He,{placeholder:e("surveys.searchPlaceholder"),value:m,onChange:oe=>p(oe.target.value),className:"pl-10"})]}),l.jsxs(kl,{defaultValue:"surveys",className:"w-full flex-1 flex flex-col",dir:n?"rtl":"ltr",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsxs(en,{value:"surveys",children:[e("surveys.surveys")," (",ut.length,")"]}),l.jsxs(en,{value:"templates",children:[e("surveys.templates")," (",se.length,")"]})]}),l.jsxs(An,{value:"surveys",className:"space-y-4 flex-1 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"bg-muted p-1 rounded-lg flex items-center gap-1",children:[l.jsx(ue,{variant:A==="card"?"default":"ghost",size:"sm",onClick:()=>X("card"),className:"h-8 w-8 p-0",children:l.jsx(Pi,{className:"h-4 w-4"})}),l.jsx(ue,{variant:A==="list"?"default":"ghost",size:"sm",onClick:()=>X("list"),className:"h-8 w-8 p-0",children:l.jsx(hx,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",children:[l.jsxs(Tn,{open:S,onOpenChange:j,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(ue,{size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("surveys.newSurvey")]})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:e("surveys.createNewSurvey")})}),l.jsx("div",{className:"space-y-6 py-4",children:N?l.jsxs("div",{className:"space-y-6",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium",children:Ae(N,"template_name")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.fillSurveyDetails")})]}),l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{k(null),E({})},children:e("surveys.changeTemplate")})]}),l.jsx("div",{className:"space-y-4",dir:n?"rtl":"ltr",children:(vi=u[N.template_id])==null?void 0:vi.map(oe=>l.jsxs("div",{className:"space-y-2",dir:n?"rtl":"ltr",children:[l.jsxs(Ge,{htmlFor:oe.field_label,className:"text-sm font-medium",dir:n?"rtl":"ltr",children:[(()=>{const Ne=Ae(oe,"field_label");return console.log("Field label debug:",{field:oe,label:Ne,is_required:oe.is_required}),Ne})(),oe.is_required&&l.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),za(oe),Ae(oe,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",dir:n?"rtl":"ltr",children:Ae(oe,"help_text")})]},oe.field_id))}),l.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700 dark:text-blue-300",dir:n?"rtl":"ltr",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{children:e("surveys.locationWillBeCaptured")})]})})]}):l.jsxs("div",{dir:n?"rtl":"ltr",children:[l.jsx(Ge,{className:"text-base font-medium mb-4 block",children:e("surveys.selectTemplate")}),l.jsx("div",{className:"w-full max-w-full grid gap-4 grid-cols-1 md:grid-cols-2",dir:n?"rtl":"ltr",children:o.filter(oe=>oe.is_active).map(oe=>l.jsx(ot,{className:`w-full overflow-hidden cursor-pointer transition-all hover:shadow-md ${(N==null?void 0:N.template_id)===oe.template_id?"ring-2 ring-primary":""}`,onClick:()=>We(oe),children:l.jsx(xt,{className:"p-4",dir:n?"rtl":"ltr",children:l.jsx("div",{className:"flex items-start gap-3",dir:n?"rtl":"ltr",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-sm truncate",children:Ae(oe,"template_name")}),oe.category&&l.jsx(gt,{variant:"outline",className:"mt-1 text-xs",children:oe.category}),Ae(oe,"template_description")&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:Ae(oe,"template_description")})]})})})},oe.template_id))})]})}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2",dir:n?"rtl":"ltr",children:[l.jsx(ue,{variant:"outline",onClick:()=>{j(!1),k(null),E({})},className:"w-full sm:w-auto",children:e("buttons.cancel")}),N&&l.jsx(ue,{onClick:pr,disabled:!N,className:"w-full sm:w-auto",children:e("surveys.submitSurvey")})]})]})]}),l.jsxs(Tn,{open:Le,onOpenChange:Ue,children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(ue,{variant:"outline",size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all border-primary/20 hover:bg-primary/5 px-4 h-9",children:[l.jsx(rv,{className:"h-4 w-4 mr-2 text-primary"}),e("surveys.bulkImport")]})}),l.jsx(mn,{className:"w-[95vw] sm:w-full sm:max-w-4xl max-h-[85vh] overflow-y-auto",children:l.jsx(M2e,{templates:o,templateFields:u,onImportComplete:_e,onClose:()=>Ue(!1)})})]})]})]}),l.jsx(la,{className:"flex-1",dir:n?"rtl":"ltr",children:ut.length===0?l.jsx(ot,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(Pi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noSurveysFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noSurveysFoundDesc":"surveys.noSurveysYet")})]})}):A==="card"?l.jsx("div",{className:"w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 overflow-y-auto",dir:n?"rtl":"ltr",children:ut.map(oe=>l.jsxs(ot,{className:"w-full overflow-auto hover:shadow-lg transition-all duration-200 cursor-pointer",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:oe.survey_name||`${e("surveys.survey")} #${oe.survey_id}`}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:Ae(oe,"client_name")})]}),ee(oe.status)]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(En,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:oe.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Lm,{className:"h-4 w-4"}),l.jsx("span",{className:"truncate",children:oe.location_address||`${oe.location_latitude.toFixed(4)}, ${oe.location_longitude.toFixed(4)}`})]}),l.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[l.jsx(Qn,{className:"h-4 w-4"}),l.jsxs("span",{children:[e("surveys.createdBy"),": ",he(oe.created_by)]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Dd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(oe.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Tn,{children:[l.jsx(Uh,{asChild:!0,children:l.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>g(oe),children:[l.jsx(Mi,{className:"h-4 w-4 mr-1"}),e("common.view")]})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:oe.survey_name||`${e("surveys.survey")} #${oe.survey_id}`})}),v&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientName")}),l.jsx("p",{className:"text-sm",children:Ae(v,"client_name")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.clientCompany")}),l.jsx("p",{className:"text-sm",children:v.client_company||e("surveys.noCompany")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.contact")}),l.jsx("p",{className:"text-sm",children:v.client_contact||e("surveys.noContact")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.email")}),l.jsx("p",{className:"text-sm",children:v.client_email||e("surveys.noEmail")})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.location")}),l.jsx("p",{className:"text-sm",children:l.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${v.location_latitude},${v.location_longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:["https://www.google.com/maps/place/",v.location_address||`${v.location_latitude.toFixed(6)}, ${v.location_longitude.toFixed(6)}`]})})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.responses")}),l.jsx("div",{className:"mt-2 space-y-2",children:v.survey_responses&&Object.keys(v.survey_responses).length>0?Object.entries(v.survey_responses).map(([Ne,Re])=>{const Me=typeof Re=="object"&&Re!==null&&"bucket"in Re&&"path"in Re&&"url"in Re;return l.jsxs("div",{className:"flex flex-col gap-2 p-3 bg-muted/30 rounded-lg",children:[l.jsxs("div",{className:"font-medium text-sm text-primary",children:[Ne,":"]}),Me?l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:Re.url,alt:Ne,className:"w-full max-w-md h-auto rounded-lg border object-cover"})}):l.jsx("div",{className:"text-sm text-muted-foreground break-words",children:Array.isArray(Re)?Re.join(", "):typeof Re=="object"?JSON.stringify(Re):String(Re||"N/A")})]},Ne)}):l.jsx("div",{className:"text-sm text-muted-foreground italic p-3 bg-muted/30 rounded-lg",children:"No responses recorded"})})]})]})]})]}),l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"outline",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:Ne=>{Ne.stopPropagation(),te(oe.survey_id)},children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:Ne=>Ne.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("surveys.deleteSurvey")}),l.jsx(Bs,{children:e("surveys.deleteSurveyConfirmation",{name:oe.survey_name||`${e("surveys.survey")} #${oe.survey_id}`})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:Ne=>{Ne.stopPropagation(),zt(oe.survey_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]})]},oe.survey_id))}):l.jsx("div",{className:"w-full overflow-hidden",children:qn()})})]}),l.jsxs(An,{value:"templates",className:"space-y-4 flex-1 flex flex-col",children:[l.jsx("div",{className:"flex flex-row items-center gap-2 overflow-x-auto pb-1 scrollbar-hide min-w-0 flex-1 justify-end",dir:n?"rtl":"ltr",children:l.jsxs(ue,{onClick:()=>{pe(),F(!0)},size:"sm",className:"whitespace-nowrap shadow-sm hover:shadow-md transition-all bg-primary hover:bg-primary/90 px-4 h-9",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("surveys.createTemplate")]})}),l.jsx(la,{className:"flex-1",dir:n?"rtl":"ltr",children:se.length===0?l.jsx(ot,{children:l.jsxs(xt,{className:"text-center py-12",children:[l.jsx(Pi,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:e("surveys.noTemplatesFound")}),l.jsx("p",{className:"text-muted-foreground",children:e(m?"surveys.noTemplatesFoundDesc":"surveys.noTemplatesYet")})]})}):V==="card"?l.jsx("div",{className:`w-full max-w-full grid gap-4 md:grid-cols-2 lg:grid-cols-3 ${n?"rtl":""}`,dir:n?"rtl":"ltr",children:se.map(oe=>l.jsxs(ot,{className:"w-full overflow-hidden hover:shadow-lg transition-all duration-200",children:[l.jsx(Xt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-base truncate",children:Ae(oe,"template_name")}),oe.category&&l.jsx(gt,{variant:"outline",className:"mt-1 text-xs",children:oe.category})]}),l.jsx("div",{className:"flex items-center gap-1",dir:n?"rtl":"ltr",children:oe.is_default?l.jsx(ll,{className:"h-4 w-4 text-green-500"}):l.jsx("div",{children:""})})]})}),l.jsxs(xt,{className:"pt-0 space-y-3",children:[Ae(oe,"template_description")&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Ae(oe,"template_description")}),l.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",dir:n?"rtl":"ltr",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(Dd,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:new Date(oe.created_at).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(Tn,{children:[l.jsx(Uh,{asChild:!0,children:l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>je(oe),children:l.jsx(Mi,{className:"h-4 w-4 mr-1"})})}),l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsx(pn,{children:l.jsx(gn,{children:Ae(x||oe,"template_name")})}),x&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.category")}),l.jsx("p",{className:"text-sm",children:x.category||e("surveys.noCategory")})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.status")}),l.jsxs("div",{className:"flex items-center gap-2",children:[x.is_active?l.jsx(gt,{variant:"default",className:"bg-green-500",children:e("surveys.active")}):l.jsx(gt,{variant:"secondary",children:e("surveys.inactive")}),x.is_default&&l.jsx(gt,{variant:"default",children:e("surveys.default")})]})]})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.description")}),l.jsx("p",{className:"text-sm mt-1",children:Ae(x,"template_description")||e("surveys.noDescription")})]}),l.jsxs("div",{children:[l.jsxs(Ge,{className:"text-sm font-medium",children:[e("surveys.fields")," (",w.length,")"]}),l.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:e("surveys.noFields")}):w.sort((Ne,Re)=>Ne.field_order-Re.field_order).map(Ne=>l.jsx("div",{className:"border rounded-lg p-3 bg-muted/30",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(gt,{variant:"outline",className:"text-xs",children:Ne.field_type}),l.jsx("span",{className:"text-sm font-medium",children:Ae(Ne,"field_label")}),Ne.is_required&&l.jsx("span",{className:"text-red-500 text-sm",children:"*"})]}),Ae(Ne,"help_text")&&l.jsx("p",{className:"text-xs text-muted-foreground",children:Ae(Ne,"help_text")})]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",Ne.field_order]})]})},Ne.field_id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.created")}),l.jsx("p",{children:new Date(x.created_at).toLocaleString()})]}),l.jsxs("div",{children:[l.jsx(Ge,{className:"text-sm font-medium",children:e("surveys.updated")}),l.jsx("p",{children:new Date(x.updated_at).toLocaleString()})]})]})]})]})]}),!oe.is_default&&l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-green-50",onClick:Ne=>{Ne.stopPropagation(),hr(oe.template_id)},title:e("surveys.setAsDefault"),children:l.jsx(ll,{className:"h-4 w-4 text-green-500"})}),l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-blue-50",onClick:Ne=>{Ne.stopPropagation(),Ee(oe)},children:l.jsx(H2,{className:"h-4 w-4"})}),l.jsxs(fi,{children:[l.jsx(wf,{asChild:!0,children:l.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:Ne=>{Ne.stopPropagation(),R(oe.template_id)},children:l.jsx(Er,{className:"h-4 w-4"})})}),l.jsxs(Ms,{onClick:Ne=>Ne.stopPropagation(),children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("surveys.deleteTemplate")}),l.jsx(Bs,{children:e("surveys.deleteTemplateConfirmation",{name:Ae(oe,"template_name")})})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:Ne=>{Ne.stopPropagation(),yt(oe.template_id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})]})]})]})]})]},oe.template_id))}):l.jsx("div",{className:"w-full overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:ra()})})]})]}),l.jsx(Tn,{open:H,onOpenChange:F,children:l.jsxs(mn,{className:"w-[95vw] sm:w-full sm:max-w-2xl lg:max-w-4xl max-h-[85vh] overflow-y-auto",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e(M?"surveys.editTemplateTitle":"surveys.createTemplateTitle")}),l.jsx($a,{children:e("surveys.createTemplateDesc")})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{htmlFor:"template_name",children:[e("surveys.templateName")," *"]}),l.jsx(He,{id:"template_name",value:ae.template_name,onChange:oe=>ce(Ne=>({...Ne,template_name:oe.target.value})),placeholder:e("surveys.templateName"),className:Q.template_name?"border-red-500":""}),Q.template_name&&l.jsx("p",{className:"text-sm text-red-500",children:Q.template_name})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"category",children:e("surveys.category")}),l.jsxs(jt,{value:ae.category,onValueChange:oe=>ce(Ne=>({...Ne,category:oe})),children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("surveys.selectCategory")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"customer_satisfaction",children:e("surveys.customerSatisfaction")}),l.jsx(Pe,{value:"product_feedback",children:e("surveys.productFeedback")}),l.jsx(Pe,{value:"service_quality",children:e("surveys.serviceQuality")}),l.jsx(Pe,{value:"general",children:e("surveys.general")})]})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"template_description",children:e("surveys.description")}),l.jsx(da,{id:"template_description",value:ae.template_description,onChange:oe=>ce(Ne=>({...Ne,template_description:oe.target.value})),placeholder:e("surveys.description"),rows:3})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:ae.is_active,onChange:oe=>ce(Ne=>({...Ne,is_active:oe.target.checked})),className:"rounded"}),l.jsx(Ge,{htmlFor:"is_active",children:e("surveys.isActive")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h3",{className:"text-lg font-semibold",children:e("surveys.fields")})}),Q.fields&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:Q.fields})}),l.jsx("div",{className:"space-y-3",children:me.map((oe,Ne)=>{var Re,Me,ft;return l.jsx(ot,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ye(Ne,Math.max(0,Ne-1)),disabled:Ne===0,children:l.jsx(gie,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>ye(Ne,Math.min(me.length-1,Ne+1)),disabled:Ne===me.length-1,children:l.jsx(mie,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldLabel")," *"]}),l.jsx(He,{value:oe.field_label,onChange:tt=>fe(Ne,{field_label:tt.target.value}),placeholder:e("surveys.fieldLabel"),className:Q[`field_${Ne}`]?"border-red-500":""}),Q[`field_${Ne}`]&&l.jsx("p",{className:"text-sm text-red-500",children:Q[`field_${Ne}`]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ge,{children:[e("surveys.fieldType")," *"]}),l.jsxs(jt,{value:oe.field_type,onValueChange:tt=>fe(Ne,{field_type:tt}),children:[l.jsx(_t,{children:l.jsx(kt,{})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"text",children:e("surveys.text")}),l.jsx(Pe,{value:"textarea",children:e("surveys.textarea")}),l.jsx(Pe,{value:"email",children:e("surveys.email")}),l.jsx(Pe,{value:"date",children:e("surveys.date")}),l.jsx(Pe,{value:"select",children:e("surveys.select")}),l.jsx(Pe,{value:"multiselect",children:e("surveys.multiselect")}),l.jsx(Pe,{value:"radio",children:e("surveys.radio")}),l.jsx(Pe,{value:"checkbox",children:e("surveys.checkbox")}),l.jsx(Pe,{value:"image",children:e("surveys.image")})]})]})]})]}),(oe.field_type==="select"||oe.field_type==="multiselect"||oe.field_type==="radio")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{children:e("surveys.options")}),l.jsx(da,{defaultValue:((Me=(Re=oe.field_options)==null?void 0:Re.options)==null?void 0:Me.join(`
`))||"",onBlur:tt=>{const qt=tt.target.value.split(/[\n\s]+/).filter(Ar=>Ar.trim()).map(Ar=>Ar.trim());fe(Ne,{field_options:{options:qt,allow_multiple:oe.field_type==="multiselect"}})},placeholder:"Enter options separated by spaces or new lines (e.g., POS CRM ERP)",rows:3}),((ft=oe.field_options)==null?void 0:ft.options)&&oe.field_options.options.length>0&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[oe.field_options.options.length," option(s): ",oe.field_options.options.join(", ")]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:`required-${Ne}`,checked:oe.is_required,onChange:tt=>fe(Ne,{is_required:tt.target.checked}),className:"rounded"}),l.jsx(Ge,{htmlFor:`required-${Ne}`,children:e("surveys.isRequired")})]})]}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>le(Ne),className:"text-red-500 hover:text-red-700",children:l.jsx(Er,{className:"h-4 w-4"})})]})},Ne)})}),l.jsx("div",{className:"flex justify-center pt-4",children:l.jsxs(ue,{onClick:be,size:"sm",variant:"outline",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("surveys.addField")]})})]})]}),l.jsxs(La,{children:[l.jsx(ue,{variant:"outline",onClick:()=>F(!1),disabled:D,children:e("buttons.cancel")}),l.jsx(ue,{onClick:Fe,disabled:!ae.template_name.trim()||D,children:e(D?"buttons.saving":M?"surveys.updateTemplate":"surveys.createTemplate")})]})]})})]})}function L2e(){const{t:e}=Kt();Sr();const{isRTL:r}=ms(),n=yn(),[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(null),[d,f]=y.useState(""),[h,m]=y.useState(null),[p,v]=y.useState(!1),[g,x]=y.useState("leads"),[b,w]=y.useState(""),[_,S]=y.useState("");y.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const I=await ns.getAll();s(I)}catch(I){console.error("Failed to load stages:",I)}finally{o(!1)}},N=I=>a.filter(T=>T.stage_type===I).sort((T,U)=>(T.stager_order_index??0)-(U.stager_order_index??0)),k=async()=>{if(b.trim())try{const I=N(g),T=I.length>0?Math.max(...I.map(H=>H.stager_order_index||0)):-1,U={stage_name:b.trim(),stage_name_ar:_.trim()||null,stage_type:g,stager_order_index:T+1,color:"border-l-4 border-gray-400",color_var:"--gray-400"};await ns.create(U),await j(),w(""),S(""),v(!1)}catch(I){console.error("Failed to create stage:",I)}},C=async(I,T)=>{try{await ns.update(I.stage_id,T),await j(),u(null),f("")}catch(U){console.error("Failed to update stage:",U)}},E=async I=>{try{await ns.delete(I),await j(),m(null)}catch(T){console.error("Failed to delete stage:",T)}},P=I=>{const T=N(I);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4 rtl:flex-row-reverse",children:[l.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:e(`settings.${I}`)}),l.jsxs(ue,{size:n?"default":"sm",onClick:()=>{x(I),v(!0)},className:"w-full sm:w-auto",children:[l.jsx(or,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2"}),e("settings.addStage")]})]}),T.length===0?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e("settings.noStages")}):l.jsx("div",{className:"space-y-2",children:T.map((U,H)=>l.jsx(ot,{className:"p-3 md:p-4",children:l.jsxs("div",{className:ve("flex gap-2 md:gap-3 rtl:flex-row-reverse",n?"flex-col":"items-center"),children:[!n&&l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground cursor-move flex-shrink-0"}),(c==null?void 0:c.stage_id)===U.stage_id?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(He,{value:c.stage_name,onChange:F=>u({...c,stage_name:F.target.value}),placeholder:e("settings.englishName"),autoFocus:!0,className:"text-left rtl:text-right"}),l.jsx(He,{value:d,onChange:F=>f(F.target.value),placeholder:e("settings.arabicName"),dir:"rtl",className:"text-right"})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>C(U,{stage_name:c.stage_name,stage_name_ar:d||null}),className:"flex-1 sm:flex-initial",children:l.jsx(Ao,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{u(null),f("")},className:"flex-1 sm:flex-initial",children:l.jsx(Oo,{className:"h-4 w-4"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:Ae(U,"stage_name")}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("settings.order"),": ",U.stager_order_index]})]}),l.jsxs("div",{className:"flex gap-2 sm:flex-shrink-0 rtl:flex-row-reverse",children:[l.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>{u(U),f(U.stage_name_ar||"")},className:"flex-1 sm:flex-initial",children:l.jsx(Vi,{className:"h-4 w-4"})}),l.jsx(ue,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive flex-1 sm:flex-initial",onClick:()=>m(U.stage_id),children:l.jsx(Er,{className:"h-4 w-4"})})]})]})]})},U.stage_id))})]})};return i?l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l.jsxs("div",{className:"space-y-4 md:space-y-6 bg-background p-4 rounded-md",dir:r?"rtl":"ltr",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:e("settings.title")}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:e("settings.description")})]}),l.jsxs(kl,{defaultValue:"stages",className:"space-y-6",children:[l.jsx(Fo,{className:"bg-muted/50 p-1 w-full sm:w-auto overflow-x-auto overflow-y-hidden",dir:r?"rtl":"ltr",children:l.jsx(en,{value:"stages",className:"px-6",children:e("settings.stageManagement")})}),l.jsx(An,{value:"stages",className:"space-y-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",dir:r?"rtl":"ltr",children:[l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.leads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("leads")})]}),l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.projects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("projects")})]}),l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tasks")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("tasks")})]}),l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.tickets")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("tickets")})]}),l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mleads")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("mleads")})]}),l.jsxs(ot,{className:"border-none shadow-soft overflow-hidden",children:[l.jsx(Xt,{className:"bg-muted/30 pb-3",dir:r?"rtl":"ltr",children:l.jsxs(br,{className:"text-lg flex items-center gap-2",children:[l.jsx(Qo,{className:"h-5 w-5 text-muted-foreground"}),e("settings.mprojects")]})}),l.jsx(xt,{className:"p-4 md:p-6",children:P("mprojects")})]})]})})]}),l.jsx(Tn,{open:p,onOpenChange:v,children:l.jsxs(mn,{className:"w-[95vw] sm:max-w-[425px]",children:[l.jsxs(pn,{children:[l.jsx(gn,{children:e("settings.addStage")}),l.jsx($a,{children:e("settings.addStageDesc",{type:e(`settings.${g}`)})})]}),l.jsxs("div",{className:"space-y-4 py-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name",className:"text-left rtl:text-right",children:e("settings.englishName")}),l.jsx(He,{id:"stage-name",value:b,onChange:I=>w(I.target.value),placeholder:e("settings.stageNamePlaceholder"),className:"text-left rtl:text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"stage-name-ar",className:"text-left rtl:text-right",children:e("settings.arabicName")}),l.jsx(He,{id:"stage-name-ar",value:_,onChange:I=>S(I.target.value),placeholder:e("settings.stageNamePlaceholder"),dir:"rtl",className:"text-right"})]})]}),l.jsxs(La,{className:"flex-col sm:flex-row gap-2",dir:r?"rtl":"ltr",children:[l.jsx(ue,{variant:"outline",onClick:()=>v(!1),className:"w-full sm:w-auto",children:e("buttons.cancel")}),l.jsx(ue,{onClick:k,disabled:!b.trim(),className:"w-full sm:w-auto",children:e("buttons.create")})]})]})}),l.jsx(fi,{open:!!h,onOpenChange:I=>!I&&m(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("settings.deleteStage")}),l.jsx(Bs,{children:e("settings.deleteStageConfirmation")})]}),l.jsxs(Ls,{dir:r?"rtl":"ltr",children:[l.jsx(Vs,{children:e("buttons.cancel")}),l.jsx(Us,{onClick:()=>h&&E(h),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("buttons.delete")})]})]})})]})}const NP=({className:e,...r})=>l.jsx("nav",{role:"navigation","aria-label":"pagination",className:ve("mx-auto flex w-full justify-center",e),...r});NP.displayName="Pagination";const EP=y.forwardRef(({className:e,...r},n)=>l.jsx("ul",{ref:n,className:ve("flex flex-row items-center gap-1",e),...r}));EP.displayName="PaginationContent";const af=y.forwardRef(({className:e,...r},n)=>l.jsx("li",{ref:n,className:ve("",e),...r}));af.displayName="PaginationItem";const CP=({className:e,isActive:r,size:n="icon",...a})=>l.jsx("a",{"aria-current":r?"page":void 0,className:ve($m({variant:r?"outline":"ghost",size:n}),e),...a});CP.displayName="PaginationLink";const TP=({className:e,children:r,...n})=>l.jsx(CP,{"aria-label":"Go to previous page",size:"default",className:ve("gap-1 pl-2.5",e),...n,children:l.jsx("span",{children:r||"Previous"})});TP.displayName="PaginationPrevious";const AP=({className:e,children:r,...n})=>l.jsx(CP,{"aria-label":"Go to next page",size:"default",className:ve("gap-1 pr-2.5",e),...n,children:l.jsx("span",{children:r||"Next"})});AP.displayName="PaginationNext";var n3=1,$2e=.9,B2e=.8,U2e=.17,Xk=.1,Jk=.999,V2e=.9999,z2e=.99,W2e=/[\\\/_+.#"@\[\(\{&]/,H2e=/[\\\/_+.#"@\[\(\{&]/g,q2e=/[\s-]/,QK=/[\s-]/g;function $E(e,r,n,a,s,i,o){if(i===r.length)return s===e.length?n3:z2e;var c=`${s},${i}`;if(o[c]!==void 0)return o[c];for(var u=a.charAt(i),d=n.indexOf(u,s),f=0,h,m,p,v;d>=0;)h=$E(e,r,n,a,d+1,i+1,o),h>f&&(d===s?h*=n3:W2e.test(e.charAt(d-1))?(h*=B2e,p=e.slice(s,d-1).match(H2e),p&&s>0&&(h*=Math.pow(Jk,p.length))):q2e.test(e.charAt(d-1))?(h*=$2e,v=e.slice(s,d-1).match(QK),v&&s>0&&(h*=Math.pow(Jk,v.length))):(h*=U2e,s>0&&(h*=Math.pow(Jk,d-s))),e.charAt(d)!==r.charAt(i)&&(h*=V2e)),(h<Xk&&n.charAt(d-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(d-1)!==a.charAt(i))&&(m=$E(e,r,n,a,d+1,i+2,o),m*Xk>h&&(h=m*Xk)),h>f&&(f=h),d=n.indexOf(u,d+1);return o[c]=f,f}function a3(e){return e.toLowerCase().replace(QK," ")}function K2e(e,r,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,$E(e,r,a3(e),a3(r),0,0,{})}var S0='[cmdk-group=""]',Qk='[cmdk-group-items=""]',G2e='[cmdk-group-heading=""]',ZK='[cmdk-item=""]',s3=`${ZK}:not([aria-disabled="true"])`,BE="cmdk-item-select",_h="data-value",Y2e=(e,r,n)=>K2e(e,r,n),eG=y.createContext(void 0),Hx=()=>y.useContext(eG),tG=y.createContext(void 0),OP=()=>y.useContext(tG),rG=y.createContext(void 0),nG=y.forwardRef((e,r)=>{let n=Sh(()=>{var A,X;return{search:"",value:(X=(A=e.value)!=null?A:e.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Sh(()=>new Set),s=Sh(()=>new Map),i=Sh(()=>new Map),o=Sh(()=>new Set),c=aG(e),{label:u,children:d,value:f,onValueChange:h,filter:m,shouldFilter:p,loop:v,disablePointerSelection:g=!1,vimBindings:x=!0,...b}=e,w=ua(),_=ua(),S=ua(),j=y.useRef(null),N=iEe();Ef(()=>{if(f!==void 0){let A=f.trim();n.current.value=A,k.emit()}},[f]),Ef(()=>{N(6,U)},[]);let k=y.useMemo(()=>({subscribe:A=>(o.current.add(A),()=>o.current.delete(A)),snapshot:()=>n.current,setState:(A,X,V)=>{var q,ae,ce,me;if(!Object.is(n.current[A],X)){if(n.current[A]=X,A==="search")T(),P(),N(1,I);else if(A==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let ie=document.getElementById(S);ie?ie.focus():(q=document.getElementById(w))==null||q.focus()}if(N(7,()=>{var ie;n.current.selectedItemId=(ie=H())==null?void 0:ie.id,k.emit()}),V||N(5,U),((ae=c.current)==null?void 0:ae.value)!==void 0){let ie=X??"";(me=(ce=c.current).onValueChange)==null||me.call(ce,ie);return}}k.emit()}},emit:()=>{o.current.forEach(A=>A())}}),[]),C=y.useMemo(()=>({value:(A,X,V)=>{var q;X!==((q=i.current.get(A))==null?void 0:q.value)&&(i.current.set(A,{value:X,keywords:V}),n.current.filtered.items.set(A,E(X,V)),N(2,()=>{P(),k.emit()}))},item:(A,X)=>(a.current.add(A),X&&(s.current.has(X)?s.current.get(X).add(A):s.current.set(X,new Set([A]))),N(3,()=>{T(),P(),n.current.value||I(),k.emit()}),()=>{i.current.delete(A),a.current.delete(A),n.current.filtered.items.delete(A);let V=H();N(4,()=>{T(),(V==null?void 0:V.getAttribute("id"))===A&&I(),k.emit()})}),group:A=>(s.current.has(A)||s.current.set(A,new Set),()=>{i.current.delete(A),s.current.delete(A)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:w,inputId:S,labelId:_,listInnerRef:j}),[]);function E(A,X){var V,q;let ae=(q=(V=c.current)==null?void 0:V.filter)!=null?q:Y2e;return A?ae(A,n.current.search,X):0}function P(){if(!n.current.search||c.current.shouldFilter===!1)return;let A=n.current.filtered.items,X=[];n.current.filtered.groups.forEach(q=>{let ae=s.current.get(q),ce=0;ae.forEach(me=>{let ie=A.get(me);ce=Math.max(ie,ce)}),X.push([q,ce])});let V=j.current;F().sort((q,ae)=>{var ce,me;let ie=q.getAttribute("id"),Q=ae.getAttribute("id");return((ce=A.get(Q))!=null?ce:0)-((me=A.get(ie))!=null?me:0)}).forEach(q=>{let ae=q.closest(Qk);ae?ae.appendChild(q.parentElement===ae?q:q.closest(`${Qk} > *`)):V.appendChild(q.parentElement===V?q:q.closest(`${Qk} > *`))}),X.sort((q,ae)=>ae[1]-q[1]).forEach(q=>{var ae;let ce=(ae=j.current)==null?void 0:ae.querySelector(`${S0}[${_h}="${encodeURIComponent(q[0])}"]`);ce==null||ce.parentElement.appendChild(ce)})}function I(){let A=F().find(V=>V.getAttribute("aria-disabled")!=="true"),X=A==null?void 0:A.getAttribute(_h);k.setState("value",X||void 0)}function T(){var A,X,V,q;if(!n.current.search||c.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let ce of a.current){let me=(X=(A=i.current.get(ce))==null?void 0:A.value)!=null?X:"",ie=(q=(V=i.current.get(ce))==null?void 0:V.keywords)!=null?q:[],Q=E(me,ie);n.current.filtered.items.set(ce,Q),Q>0&&ae++}for(let[ce,me]of s.current)for(let ie of me)if(n.current.filtered.items.get(ie)>0){n.current.filtered.groups.add(ce);break}n.current.filtered.count=ae}function U(){var A,X,V;let q=H();q&&(((A=q.parentElement)==null?void 0:A.firstChild)===q&&((V=(X=q.closest(S0))==null?void 0:X.querySelector(G2e))==null||V.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function H(){var A;return(A=j.current)==null?void 0:A.querySelector(`${ZK}[aria-selected="true"]`)}function F(){var A;return Array.from(((A=j.current)==null?void 0:A.querySelectorAll(s3))||[])}function M(A){let X=F()[A];X&&k.setState("value",X.getAttribute(_h))}function z(A){var X;let V=H(),q=F(),ae=q.findIndex(me=>me===V),ce=q[ae+A];(X=c.current)!=null&&X.loop&&(ce=ae+A<0?q[q.length-1]:ae+A===q.length?q[0]:q[ae+A]),ce&&k.setState("value",ce.getAttribute(_h))}function L(A){let X=H(),V=X==null?void 0:X.closest(S0),q;for(;V&&!q;)V=A>0?aEe(V,S0):sEe(V,S0),q=V==null?void 0:V.querySelector(s3);q?k.setState("value",q.getAttribute(_h)):z(A)}let R=()=>M(F().length-1),J=A=>{A.preventDefault(),A.metaKey?R():A.altKey?L(1):z(1)},te=A=>{A.preventDefault(),A.metaKey?M(0):A.altKey?L(-1):z(-1)};return y.createElement(dt.div,{ref:r,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:A=>{var X;(X=b.onKeyDown)==null||X.call(b,A);let V=A.nativeEvent.isComposing||A.keyCode===229;if(!(A.defaultPrevented||V))switch(A.key){case"n":case"j":{x&&A.ctrlKey&&J(A);break}case"ArrowDown":{J(A);break}case"p":case"k":{x&&A.ctrlKey&&te(A);break}case"ArrowUp":{te(A);break}case"Home":{A.preventDefault(),M(0);break}case"End":{A.preventDefault(),R();break}case"Enter":{A.preventDefault();let q=H();if(q){let ae=new Event(BE);q.dispatchEvent(ae)}}}}},y.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:lEe},u),yS(e,A=>y.createElement(tG.Provider,{value:k},y.createElement(eG.Provider,{value:C},A))))}),X2e=y.forwardRef((e,r)=>{var n,a;let s=ua(),i=y.useRef(null),o=y.useContext(rG),c=Hx(),u=aG(e),d=(a=(n=u.current)==null?void 0:n.forceMount)!=null?a:o==null?void 0:o.forceMount;Ef(()=>{if(!d)return c.item(s,o==null?void 0:o.id)},[d]);let f=sG(s,i,[e.value,e.children,i],e.keywords),h=OP(),m=zu(N=>N.value&&N.value===f.current),p=zu(N=>d||c.filter()===!1?!0:N.search?N.filtered.items.get(s)>0:!0);y.useEffect(()=>{let N=i.current;if(!(!N||e.disabled))return N.addEventListener(BE,v),()=>N.removeEventListener(BE,v)},[p,e.onSelect,e.disabled]);function v(){var N,k;g(),(k=(N=u.current).onSelect)==null||k.call(N,f.current)}function g(){h.setState("value",f.current,!0)}if(!p)return null;let{disabled:x,value:b,onSelect:w,forceMount:_,keywords:S,...j}=e;return y.createElement(dt.div,{ref:mc(i,r),...j,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||c.getDisablePointerSelection()?void 0:g,onClick:x?void 0:v},e.children)}),J2e=y.forwardRef((e,r)=>{let{heading:n,children:a,forceMount:s,...i}=e,o=ua(),c=y.useRef(null),u=y.useRef(null),d=ua(),f=Hx(),h=zu(p=>s||f.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Ef(()=>f.group(o),[]),sG(o,c,[e.value,e.heading,u]);let m=y.useMemo(()=>({id:o,forceMount:s}),[s]);return y.createElement(dt.div,{ref:mc(c,r),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&y.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),yS(e,p=>y.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},y.createElement(rG.Provider,{value:m},p))))}),Q2e=y.forwardRef((e,r)=>{let{alwaysRender:n,...a}=e,s=y.useRef(null),i=zu(o=>!o.search);return!n&&!i?null:y.createElement(dt.div,{ref:mc(s,r),...a,"cmdk-separator":"",role:"separator"})}),Z2e=y.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,s=e.value!=null,i=OP(),o=zu(d=>d.search),c=zu(d=>d.selectedItemId),u=Hx();return y.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),y.createElement(dt.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":c,id:u.inputId,type:"text",value:s?e.value:o,onChange:d=>{s||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),eEe=y.forwardRef((e,r)=>{let{children:n,label:a="Suggestions",...s}=e,i=y.useRef(null),o=y.useRef(null),c=zu(d=>d.selectedItemId),u=Hx();return y.useEffect(()=>{if(o.current&&i.current){let d=o.current,f=i.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let p=d.offsetHeight;f.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return m.observe(d),()=>{cancelAnimationFrame(h),m.unobserve(d)}}},[]),y.createElement(dt.div,{ref:mc(i,r),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":a,id:u.listId},yS(e,d=>y.createElement("div",{ref:mc(o,u.listInnerRef),"cmdk-list-sizer":""},d)))}),tEe=y.forwardRef((e,r)=>{let{open:n,onOpenChange:a,overlayClassName:s,contentClassName:i,container:o,...c}=e;return y.createElement(Z_,{open:n,onOpenChange:a},y.createElement(eS,{container:o},y.createElement(Fp,{"cmdk-overlay":"",className:s}),y.createElement(Lp,{"aria-label":e.label,"cmdk-dialog":"",className:i},y.createElement(nG,{ref:r,...c}))))}),rEe=y.forwardRef((e,r)=>zu(n=>n.filtered.count===0)?y.createElement(dt.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),nEe=y.forwardRef((e,r)=>{let{progress:n,children:a,label:s="Loading...",...i}=e;return y.createElement(dt.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},yS(e,o=>y.createElement("div",{"aria-hidden":!0},o)))}),Hs=Object.assign(nG,{List:eEe,Item:X2e,Input:Z2e,Group:J2e,Separator:Q2e,Dialog:tEe,Empty:rEe,Loading:nEe});function aEe(e,r){let n=e.nextElementSibling;for(;n;){if(n.matches(r))return n;n=n.nextElementSibling}}function sEe(e,r){let n=e.previousElementSibling;for(;n;){if(n.matches(r))return n;n=n.previousElementSibling}}function aG(e){let r=y.useRef(e);return Ef(()=>{r.current=e}),r}var Ef=typeof window>"u"?y.useEffect:y.useLayoutEffect;function Sh(e){let r=y.useRef();return r.current===void 0&&(r.current=e()),r}function zu(e){let r=OP(),n=()=>e(r.snapshot());return y.useSyncExternalStore(r.subscribe,n,n)}function sG(e,r,n,a=[]){let s=y.useRef(),i=Hx();return Ef(()=>{var o;let c=(()=>{var d;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(d=f.current.textContent)==null?void 0:d.trim():s.current}})(),u=a.map(d=>d.trim());i.value(e,c,u),(o=r.current)==null||o.setAttribute(_h,c),s.current=c}),s}var iEe=()=>{let[e,r]=y.useState(),n=Sh(()=>new Map);return Ef(()=>{n.current.forEach(a=>a()),n.current=new Map},[e]),(a,s)=>{n.current.set(a,s),r({})}};function oEe(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function yS({asChild:e,children:r},n){return e&&y.isValidElement(r)?y.cloneElement(oEe(r),{ref:r.ref},n(r.props.children)):n(r)}var lEe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _a=y.forwardRef(({className:e,...r},n)=>l.jsx(Hs,{ref:n,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));_a.displayName=Hs.displayName;const Sa=y.forwardRef(({className:e,...r},n)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(Ws,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(Hs.Input,{ref:n,className:ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Sa.displayName=Hs.Input.displayName;const ja=y.forwardRef(({className:e,...r},n)=>l.jsx(Hs.List,{ref:n,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));ja.displayName=Hs.List.displayName;const ka=y.forwardRef((e,r)=>l.jsx(Hs.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));ka.displayName=Hs.Empty.displayName;const Na=y.forwardRef(({className:e,...r},n)=>l.jsx(Hs.Group,{ref:n,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));Na.displayName=Hs.Group.displayName;const cEe=y.forwardRef(({className:e,...r},n)=>l.jsx(Hs.Separator,{ref:n,className:ve("-mx-1 h-px bg-border",e),...r}));cEe.displayName=Hs.Separator.displayName;const qr=y.forwardRef(({className:e,...r},n)=>l.jsx(Hs.Item,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...r}));qr.displayName=Hs.Item.displayName;var uEe=Array.isArray,qs=uEe,dEe=typeof ly=="object"&&ly&&ly.Object===Object&&ly,iG=dEe,fEe=iG,hEe=typeof self=="object"&&self&&self.Object===Object&&self,mEe=fEe||hEe||Function("return this")(),Ml=mEe,pEe=Ml,gEe=pEe.Symbol,qx=gEe,i3=qx,oG=Object.prototype,vEe=oG.hasOwnProperty,xEe=oG.toString,j0=i3?i3.toStringTag:void 0;function yEe(e){var r=vEe.call(e,j0),n=e[j0];try{e[j0]=void 0;var a=!0}catch{}var s=xEe.call(e);return a&&(r?e[j0]=n:delete e[j0]),s}var wEe=yEe,bEe=Object.prototype,_Ee=bEe.toString;function SEe(e){return _Ee.call(e)}var jEe=SEe,o3=qx,kEe=wEe,NEe=jEe,EEe="[object Null]",CEe="[object Undefined]",l3=o3?o3.toStringTag:void 0;function TEe(e){return e==null?e===void 0?CEe:EEe:l3&&l3 in Object(e)?kEe(e):NEe(e)}var Tc=TEe;function AEe(e){return e!=null&&typeof e=="object"}var Ac=AEe,OEe=Tc,PEe=Ac,DEe="[object Symbol]";function REe(e){return typeof e=="symbol"||PEe(e)&&OEe(e)==DEe}var Gp=REe,IEe=qs,MEe=Gp,FEe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LEe=/^\w*$/;function $Ee(e,r){if(IEe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||MEe(e)?!0:LEe.test(e)||!FEe.test(e)||r!=null&&e in Object(r)}var PP=$Ee;function BEe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var rd=BEe;const Yp=xr(rd);var UEe=Tc,VEe=rd,zEe="[object AsyncFunction]",WEe="[object Function]",HEe="[object GeneratorFunction]",qEe="[object Proxy]";function KEe(e){if(!VEe(e))return!1;var r=UEe(e);return r==WEe||r==HEe||r==zEe||r==qEe}var DP=KEe;const Pt=xr(DP);var GEe=Ml,YEe=GEe["__core-js_shared__"],XEe=YEe,Zk=XEe,c3=function(){var e=/[^.]+$/.exec(Zk&&Zk.keys&&Zk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function JEe(e){return!!c3&&c3 in e}var QEe=JEe,ZEe=Function.prototype,eCe=ZEe.toString;function tCe(e){if(e!=null){try{return eCe.call(e)}catch{}try{return e+""}catch{}}return""}var lG=tCe,rCe=DP,nCe=QEe,aCe=rd,sCe=lG,iCe=/[\\^$.*+?()[\]{}|]/g,oCe=/^\[object .+?Constructor\]$/,lCe=Function.prototype,cCe=Object.prototype,uCe=lCe.toString,dCe=cCe.hasOwnProperty,fCe=RegExp("^"+uCe.call(dCe).replace(iCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hCe(e){if(!aCe(e)||nCe(e))return!1;var r=rCe(e)?fCe:oCe;return r.test(sCe(e))}var mCe=hCe;function pCe(e,r){return e==null?void 0:e[r]}var gCe=pCe,vCe=mCe,xCe=gCe;function yCe(e,r){var n=xCe(e,r);return vCe(n)?n:void 0}var Kf=yCe,wCe=Kf,bCe=wCe(Object,"create"),wS=bCe,u3=wS;function _Ce(){this.__data__=u3?u3(null):{},this.size=0}var SCe=_Ce;function jCe(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var kCe=jCe,NCe=wS,ECe="__lodash_hash_undefined__",CCe=Object.prototype,TCe=CCe.hasOwnProperty;function ACe(e){var r=this.__data__;if(NCe){var n=r[e];return n===ECe?void 0:n}return TCe.call(r,e)?r[e]:void 0}var OCe=ACe,PCe=wS,DCe=Object.prototype,RCe=DCe.hasOwnProperty;function ICe(e){var r=this.__data__;return PCe?r[e]!==void 0:RCe.call(r,e)}var MCe=ICe,FCe=wS,LCe="__lodash_hash_undefined__";function $Ce(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=FCe&&r===void 0?LCe:r,this}var BCe=$Ce,UCe=SCe,VCe=kCe,zCe=OCe,WCe=MCe,HCe=BCe;function Xp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Xp.prototype.clear=UCe;Xp.prototype.delete=VCe;Xp.prototype.get=zCe;Xp.prototype.has=WCe;Xp.prototype.set=HCe;var qCe=Xp;function KCe(){this.__data__=[],this.size=0}var GCe=KCe;function YCe(e,r){return e===r||e!==e&&r!==r}var RP=YCe,XCe=RP;function JCe(e,r){for(var n=e.length;n--;)if(XCe(e[n][0],r))return n;return-1}var bS=JCe,QCe=bS,ZCe=Array.prototype,eTe=ZCe.splice;function tTe(e){var r=this.__data__,n=QCe(r,e);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():eTe.call(r,n,1),--this.size,!0}var rTe=tTe,nTe=bS;function aTe(e){var r=this.__data__,n=nTe(r,e);return n<0?void 0:r[n][1]}var sTe=aTe,iTe=bS;function oTe(e){return iTe(this.__data__,e)>-1}var lTe=oTe,cTe=bS;function uTe(e,r){var n=this.__data__,a=cTe(n,e);return a<0?(++this.size,n.push([e,r])):n[a][1]=r,this}var dTe=uTe,fTe=GCe,hTe=rTe,mTe=sTe,pTe=lTe,gTe=dTe;function Jp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Jp.prototype.clear=fTe;Jp.prototype.delete=hTe;Jp.prototype.get=mTe;Jp.prototype.has=pTe;Jp.prototype.set=gTe;var _S=Jp,vTe=Kf,xTe=Ml,yTe=vTe(xTe,"Map"),IP=yTe,d3=qCe,wTe=_S,bTe=IP;function _Te(){this.size=0,this.__data__={hash:new d3,map:new(bTe||wTe),string:new d3}}var STe=_Te;function jTe(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var kTe=jTe,NTe=kTe;function ETe(e,r){var n=e.__data__;return NTe(r)?n[typeof r=="string"?"string":"hash"]:n.map}var SS=ETe,CTe=SS;function TTe(e){var r=CTe(this,e).delete(e);return this.size-=r?1:0,r}var ATe=TTe,OTe=SS;function PTe(e){return OTe(this,e).get(e)}var DTe=PTe,RTe=SS;function ITe(e){return RTe(this,e).has(e)}var MTe=ITe,FTe=SS;function LTe(e,r){var n=FTe(this,e),a=n.size;return n.set(e,r),this.size+=n.size==a?0:1,this}var $Te=LTe,BTe=STe,UTe=ATe,VTe=DTe,zTe=MTe,WTe=$Te;function Qp(e){var r=-1,n=e==null?0:e.length;for(this.clear();++r<n;){var a=e[r];this.set(a[0],a[1])}}Qp.prototype.clear=BTe;Qp.prototype.delete=UTe;Qp.prototype.get=VTe;Qp.prototype.has=zTe;Qp.prototype.set=WTe;var MP=Qp,cG=MP,HTe="Expected a function";function FP(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(HTe);var n=function(){var a=arguments,s=r?r.apply(this,a):a[0],i=n.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return n.cache=i.set(s,o)||i,o};return n.cache=new(FP.Cache||cG),n}FP.Cache=cG;var uG=FP;const qTe=xr(uG);var KTe=uG,GTe=500;function YTe(e){var r=KTe(e,function(a){return n.size===GTe&&n.clear(),a}),n=r.cache;return r}var XTe=YTe,JTe=XTe,QTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZTe=/\\(\\)?/g,eAe=JTe(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(QTe,function(n,a,s,i){r.push(s?i.replace(ZTe,"$1"):a||n)}),r}),tAe=eAe;function rAe(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}var LP=rAe,f3=qx,nAe=LP,aAe=qs,sAe=Gp,iAe=1/0,h3=f3?f3.prototype:void 0,m3=h3?h3.toString:void 0;function dG(e){if(typeof e=="string")return e;if(aAe(e))return nAe(e,dG)+"";if(sAe(e))return m3?m3.call(e):"";var r=e+"";return r=="0"&&1/e==-iAe?"-0":r}var oAe=dG,lAe=oAe;function cAe(e){return e==null?"":lAe(e)}var fG=cAe,uAe=qs,dAe=PP,fAe=tAe,hAe=fG;function mAe(e,r){return uAe(e)?e:dAe(e,r)?[e]:fAe(hAe(e))}var hG=mAe,pAe=Gp,gAe=1/0;function vAe(e){if(typeof e=="string"||pAe(e))return e;var r=e+"";return r=="0"&&1/e==-gAe?"-0":r}var jS=vAe,xAe=hG,yAe=jS;function wAe(e,r){r=xAe(r,e);for(var n=0,a=r.length;e!=null&&n<a;)e=e[yAe(r[n++])];return n&&n==a?e:void 0}var $P=wAe,bAe=$P;function _Ae(e,r,n){var a=e==null?void 0:bAe(e,r);return a===void 0?n:a}var mG=_Ae;const ci=xr(mG);function SAe(e){return e==null}var jAe=SAe;const $t=xr(jAe);var kAe=Tc,NAe=qs,EAe=Ac,CAe="[object String]";function TAe(e){return typeof e=="string"||!NAe(e)&&EAe(e)&&kAe(e)==CAe}var AAe=TAe;const Cf=xr(AAe);var pG={exports:{}},jr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=Symbol.for("react.element"),UP=Symbol.for("react.portal"),kS=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),ES=Symbol.for("react.profiler"),CS=Symbol.for("react.provider"),TS=Symbol.for("react.context"),OAe=Symbol.for("react.server_context"),AS=Symbol.for("react.forward_ref"),OS=Symbol.for("react.suspense"),PS=Symbol.for("react.suspense_list"),DS=Symbol.for("react.memo"),RS=Symbol.for("react.lazy"),PAe=Symbol.for("react.offscreen"),gG;gG=Symbol.for("react.module.reference");function Gi(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case BP:switch(e=e.type,e){case kS:case ES:case NS:case OS:case PS:return e;default:switch(e=e&&e.$$typeof,e){case OAe:case TS:case AS:case RS:case DS:case CS:return e;default:return r}}case UP:return r}}}jr.ContextConsumer=TS;jr.ContextProvider=CS;jr.Element=BP;jr.ForwardRef=AS;jr.Fragment=kS;jr.Lazy=RS;jr.Memo=DS;jr.Portal=UP;jr.Profiler=ES;jr.StrictMode=NS;jr.Suspense=OS;jr.SuspenseList=PS;jr.isAsyncMode=function(){return!1};jr.isConcurrentMode=function(){return!1};jr.isContextConsumer=function(e){return Gi(e)===TS};jr.isContextProvider=function(e){return Gi(e)===CS};jr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===BP};jr.isForwardRef=function(e){return Gi(e)===AS};jr.isFragment=function(e){return Gi(e)===kS};jr.isLazy=function(e){return Gi(e)===RS};jr.isMemo=function(e){return Gi(e)===DS};jr.isPortal=function(e){return Gi(e)===UP};jr.isProfiler=function(e){return Gi(e)===ES};jr.isStrictMode=function(e){return Gi(e)===NS};jr.isSuspense=function(e){return Gi(e)===OS};jr.isSuspenseList=function(e){return Gi(e)===PS};jr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kS||e===ES||e===NS||e===OS||e===PS||e===PAe||typeof e=="object"&&e!==null&&(e.$$typeof===RS||e.$$typeof===DS||e.$$typeof===CS||e.$$typeof===TS||e.$$typeof===AS||e.$$typeof===gG||e.getModuleId!==void 0)};jr.typeOf=Gi;pG.exports=jr;var DAe=pG.exports,RAe=Tc,IAe=Ac,MAe="[object Number]";function FAe(e){return typeof e=="number"||IAe(e)&&RAe(e)==MAe}var vG=FAe;const LAe=xr(vG);var $Ae=vG;function BAe(e){return $Ae(e)&&e!=+e}var UAe=BAe;const Kx=xr(UAe);var ss=function(r){return r===0?0:r>0?1:-1},Ld=function(r){return Cf(r)&&r.indexOf("%")===r.length-1},Je=function(r){return LAe(r)&&!Kx(r)},VAe=function(r){return $t(r)},zn=function(r){return Je(r)||Cf(r)},zAe=0,Zp=function(r){var n=++zAe;return"".concat(r||"").concat(n)},is=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(r)&&!Cf(r))return a;var i;if(Ld(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Kx(i)&&(i=a),s&&i>n&&(i=n),i},tu=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},WAe=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,a={},s=0;s<n;s++)if(!a[r[s]])a[r[s]]=!0;else return!0;return!1},ti=function(r,n){return Je(r)&&Je(n)?function(a){return r+a*(n-r)}:function(){return n}};function rb(e,r,n){return!e||!e.length?null:e.find(function(a){return a&&(typeof r=="function"?r(a):ci(a,r))===n})}var HAe=function(r,n){return Je(r)&&Je(n)?r-n:Cf(r)&&Cf(n)?r.localeCompare(n):r instanceof Date&&n instanceof Date?r.getTime()-n.getTime():String(r).localeCompare(String(n))};function fm(e,r){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(r,n)||e[n]!==r[n]))return!1;for(var a in r)if({}.hasOwnProperty.call(r,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function UE(e){"@babel/helpers - typeof";return UE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},UE(e)}var qAe=["viewBox","children"],KAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],p3=["points","pathLength"],eN={svg:qAe,polygon:p3,polyline:p3},VP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nb=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(y.isValidElement(r)&&(a=r.props),!Yp(a))return null;var s={};return Object.keys(a).forEach(function(i){VP.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},GAe=function(r,n,a){return function(s){return r(n,a,s),null}},Tf=function(r,n,a){if(!Yp(r)||UE(r)!=="object")return null;var s=null;return Object.keys(r).forEach(function(i){var o=r[i];VP.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=GAe(o,n,a))}),s},YAe=["children"],XAe=["children"];function g3(e,r){if(e==null)return{};var n=JAe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function JAe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function VE(e){"@babel/helpers - typeof";return VE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},VE(e)}var v3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},oc=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},x3=null,tN=null,zP=function e(r){if(r===x3&&Array.isArray(tN))return tN;var n=[];return y.Children.forEach(r,function(a){$t(a)||(DAe.isFragment(a)?n=n.concat(e(a.props.children)):n.push(a))}),tN=n,x3=r,n};function ui(e,r){var n=[],a=[];return Array.isArray(r)?a=r.map(function(s){return oc(s)}):a=[oc(r)],zP(e).forEach(function(s){var i=ci(s,"type.displayName")||ci(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Xs(e,r){var n=ui(e,r);return n&&n[0]}var y3=function(r){if(!r||!r.props)return!1;var n=r.props,a=n.width,s=n.height;return!(!Je(a)||a<=0||!Je(s)||s<=0)},QAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ZAe=function(r){return r&&r.type&&Cf(r.type)&&QAe.indexOf(r.type)>=0},eOe=function(r){return r&&VE(r)==="object"&&"clipDot"in r},tOe=function(r,n,a,s){var i,o=(i=eN==null?void 0:eN[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Pt(r)&&(s&&o.includes(n)||KAe.includes(n))||a&&VP.includes(n)},Nt=function(r,n,a){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(y.isValidElement(r)&&(s=r.props),!Yp(s))return null;var i={};return Object.keys(s).forEach(function(o){var c;tOe((c=s)===null||c===void 0?void 0:c[o],o,n,a)&&(i[o]=s[o])}),i},zE=function e(r,n){if(r===n)return!0;var a=y.Children.count(r);if(a!==y.Children.count(n))return!1;if(a===0)return!0;if(a===1)return w3(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=r[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!w3(i,o))return!1}return!0},w3=function(r,n){if($t(r)&&$t(n))return!0;if(!$t(r)&&!$t(n)){var a=r.props||{},s=a.children,i=g3(a,YAe),o=n.props||{},c=o.children,u=g3(o,XAe);return s&&c?fm(i,u)&&zE(s,c):!s&&!c?fm(i,u):!1}return!1},b3=function(r,n){var a=[],s={};return zP(r).forEach(function(i,o){if(ZAe(i))a.push(i);else if(i){var c=oc(i.type),u=n[c]||{},d=u.handler,f=u.once;if(d&&(!f||!s[c])){var h=d(i,c,o);a.push(h),s[c]=!0}}}),a},rOe=function(r){var n=r&&r.type;return n&&v3[n]?v3[n]:null},nOe=function(r,n){return zP(n).indexOf(r)},aOe=["children","width","height","viewBox","className","style","title","desc"];function WE(){return WE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WE.apply(this,arguments)}function sOe(e,r){if(e==null)return{};var n=iOe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function iOe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function HE(e){var r=e.children,n=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,c=e.title,u=e.desc,d=sOe(e,aOe),f=s||{width:n,height:a,x:0,y:0},h=Bt("recharts-surface",i);return ne.createElement("svg",WE({},Nt(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ne.createElement("title",null,c),ne.createElement("desc",null,u),r)}var oOe=["children","className"];function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qE.apply(this,arguments)}function lOe(e,r){if(e==null)return{};var n=cOe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function cOe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var dr=ne.forwardRef(function(e,r){var n=e.children,a=e.className,s=lOe(e,oOe),i=Bt("recharts-layer",a);return ne.createElement("g",qE({className:i},Nt(s,!0),{ref:r}),n)}),No=function(r,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function uOe(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+r];return i}var dOe=uOe,fOe=dOe;function hOe(e,r,n){var a=e.length;return n=n===void 0?a:n,!r&&n>=a?e:fOe(e,r,n)}var mOe=hOe,pOe="\\ud800-\\udfff",gOe="\\u0300-\\u036f",vOe="\\ufe20-\\ufe2f",xOe="\\u20d0-\\u20ff",yOe=gOe+vOe+xOe,wOe="\\ufe0e\\ufe0f",bOe="\\u200d",_Oe=RegExp("["+bOe+pOe+yOe+wOe+"]");function SOe(e){return _Oe.test(e)}var xG=SOe;function jOe(e){return e.split("")}var kOe=jOe,yG="\\ud800-\\udfff",NOe="\\u0300-\\u036f",EOe="\\ufe20-\\ufe2f",COe="\\u20d0-\\u20ff",TOe=NOe+EOe+COe,AOe="\\ufe0e\\ufe0f",OOe="["+yG+"]",KE="["+TOe+"]",GE="\\ud83c[\\udffb-\\udfff]",POe="(?:"+KE+"|"+GE+")",wG="[^"+yG+"]",bG="(?:\\ud83c[\\udde6-\\uddff]){2}",_G="[\\ud800-\\udbff][\\udc00-\\udfff]",DOe="\\u200d",SG=POe+"?",jG="["+AOe+"]?",ROe="(?:"+DOe+"(?:"+[wG,bG,_G].join("|")+")"+jG+SG+")*",IOe=jG+SG+ROe,MOe="(?:"+[wG+KE+"?",KE,bG,_G,OOe].join("|")+")",FOe=RegExp(GE+"(?="+GE+")|"+MOe+IOe,"g");function LOe(e){return e.match(FOe)||[]}var $Oe=LOe,BOe=kOe,UOe=xG,VOe=$Oe;function zOe(e){return UOe(e)?VOe(e):BOe(e)}var WOe=zOe,HOe=mOe,qOe=xG,KOe=WOe,GOe=fG;function YOe(e){return function(r){r=GOe(r);var n=qOe(r)?KOe(r):void 0,a=n?n[0]:r.charAt(0),s=n?HOe(n,1).join(""):r.slice(1);return a[e]()+s}}var XOe=YOe,JOe=XOe,QOe=JOe("toUpperCase"),ZOe=QOe;const IS=xr(ZOe);function Mr(e){return function(){return e}}const kG=Math.cos,ab=Math.sin,Bo=Math.sqrt,sb=Math.PI,MS=2*sb,YE=Math.PI,XE=2*YE,yd=1e-6,ePe=XE-yd;function NG(e){this._+=e[0];for(let r=1,n=e.length;r<n;++r)this._+=arguments[r]+e[r]}function tPe(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return NG;const n=10**r;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class rPe{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?NG:tPe(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,a,s){this._append`Q${+r},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(r,n,a,s,i,o){this._append`C${+r},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,a,s,i){if(r=+r,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,u=a-r,d=s-n,f=o-r,h=c-n,m=f*f+h*h;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(m>yd)if(!(Math.abs(h*u-d*f)>yd)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let p=a-o,v=s-c,g=u*u+d*d,x=p*p+v*v,b=Math.sqrt(g),w=Math.sqrt(m),_=i*Math.tan((YE-Math.acos((g+m-x)/(2*b*w)))/2),S=_/w,j=_/b;Math.abs(S-1)>yd&&this._append`L${r+S*f},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*p>f*v)},${this._x1=r+j*u},${this._y1=n+j*d}`}}arc(r,n,a,s,i,o){if(r=+r,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let c=a*Math.cos(s),u=a*Math.sin(s),d=r+c,f=n+u,h=1^o,m=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>yd||Math.abs(this._y1-f)>yd)&&this._append`L${d},${f}`,a&&(m<0&&(m=m%XE+XE),m>ePe?this._append`A${a},${a},0,1,${h},${r-c},${n-u}A${a},${a},0,1,${h},${this._x1=d},${this._y1=f}`:m>yd&&this._append`A${a},${a},0,${+(m>=YE)},${h},${this._x1=r+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(r,n,a,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function WP(e){let r=3;return e.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);r=a}return e},()=>new rPe(r)}function HP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EG(e){this._context=e}EG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function FS(e){return new EG(e)}function CG(e){return e[0]}function TG(e){return e[1]}function AG(e,r){var n=Mr(!0),a=null,s=FS,i=null,o=WP(c);e=typeof e=="function"?e:e===void 0?CG:Mr(e),r=typeof r=="function"?r:r===void 0?TG:Mr(r);function c(u){var d,f=(u=HP(u)).length,h,m=!1,p;for(a==null&&(i=s(p=o())),d=0;d<=f;++d)!(d<f&&n(h=u[d],d,u))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(h,d,u),+r(h,d,u));if(p)return i=null,p+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:Mr(+u),c):e},c.y=function(u){return arguments.length?(r=typeof u=="function"?u:Mr(+u),c):r},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Mr(!!u),c):n},c.curve=function(u){return arguments.length?(s=u,a!=null&&(i=s(a)),c):s},c.context=function(u){return arguments.length?(u==null?a=i=null:i=s(a=u),c):a},c}function n1(e,r,n){var a=null,s=Mr(!0),i=null,o=FS,c=null,u=WP(d);e=typeof e=="function"?e:e===void 0?CG:Mr(+e),r=typeof r=="function"?r:Mr(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?TG:Mr(+n);function d(h){var m,p,v,g=(h=HP(h)).length,x,b=!1,w,_=new Array(g),S=new Array(g);for(i==null&&(c=o(w=u())),m=0;m<=g;++m){if(!(m<g&&s(x=h[m],m,h))===b)if(b=!b)p=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=m-1;v>=p;--v)c.point(_[v],S[v]);c.lineEnd(),c.areaEnd()}b&&(_[m]=+e(x,m,h),S[m]=+r(x,m,h),c.point(a?+a(x,m,h):_[m],n?+n(x,m,h):S[m]))}if(w)return c=null,w+""||null}function f(){return AG().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:Mr(+h),a=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Mr(+h),d):e},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Mr(+h),d):a},d.y=function(h){return arguments.length?(r=typeof h=="function"?h:Mr(+h),n=null,d):r},d.y0=function(h){return arguments.length?(r=typeof h=="function"?h:Mr(+h),d):r},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Mr(+h),d):n},d.lineX0=d.lineY0=function(){return f().x(e).y(r)},d.lineY1=function(){return f().x(e).y(n)},d.lineX1=function(){return f().x(a).y(r)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Mr(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),d):i},d}class OG{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function nPe(e){return new OG(e,!0)}function aPe(e){return new OG(e,!1)}const qP={draw(e,r){const n=Bo(r/sb);e.moveTo(n,0),e.arc(0,0,n,0,MS)}},sPe={draw(e,r){const n=Bo(r/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},PG=Bo(1/3),iPe=PG*2,oPe={draw(e,r){const n=Bo(r/iPe),a=n*PG;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},lPe={draw(e,r){const n=Bo(r),a=-n/2;e.rect(a,a,n,n)}},cPe=.8908130915292852,DG=ab(sb/10)/ab(7*sb/10),uPe=ab(MS/10)*DG,dPe=-kG(MS/10)*DG,fPe={draw(e,r){const n=Bo(r*cPe),a=uPe*n,s=dPe*n;e.moveTo(0,-n),e.lineTo(a,s);for(let i=1;i<5;++i){const o=MS*i/5,c=kG(o),u=ab(o);e.lineTo(u*n,-c*n),e.lineTo(c*a-u*s,u*a+c*s)}e.closePath()}},rN=Bo(3),hPe={draw(e,r){const n=-Bo(r/(rN*3));e.moveTo(0,n*2),e.lineTo(-rN*n,-n),e.lineTo(rN*n,-n),e.closePath()}},bi=-.5,_i=Bo(3)/2,JE=1/Bo(12),mPe=(JE/2+1)*3,pPe={draw(e,r){const n=Bo(r/mPe),a=n/2,s=n*JE,i=a,o=n*JE+n,c=-i,u=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(c,u),e.lineTo(bi*a-_i*s,_i*a+bi*s),e.lineTo(bi*i-_i*o,_i*i+bi*o),e.lineTo(bi*c-_i*u,_i*c+bi*u),e.lineTo(bi*a+_i*s,bi*s-_i*a),e.lineTo(bi*i+_i*o,bi*o-_i*i),e.lineTo(bi*c+_i*u,bi*u-_i*c),e.closePath()}};function gPe(e,r){let n=null,a=WP(s);e=typeof e=="function"?e:Mr(e||qP),r=typeof r=="function"?r:Mr(r===void 0?64:+r);function s(){let i;if(n||(n=i=a()),e.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Mr(i),s):e},s.size=function(i){return arguments.length?(r=typeof i=="function"?i:Mr(+i),s):r},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function ib(){}function ob(e,r,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+n)/6)}function RG(e){this._context=e}RG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ob(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function vPe(e){return new RG(e)}function IG(e){this._context=e}IG.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function xPe(e){return new IG(e)}function MG(e){this._context=e}MG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:ob(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function yPe(e){return new MG(e)}function FG(e){this._context=e}FG.prototype={areaStart:ib,areaEnd:ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function wPe(e){return new FG(e)}function _3(e){return e<0?-1:1}function S3(e,r,n){var a=e._x1-e._x0,s=r-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(n-e._y1)/(s||a<0&&-0),c=(i*s+o*a)/(a+s);return(_3(i)+_3(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function j3(e,r){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-r)/2:r}function nN(e,r,n){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,c=(i-a)/3;e._context.bezierCurveTo(a+c,s+c*r,i-c,o-c*n,i,o)}function lb(e){this._context=e}lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nN(this,this._t0,j3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var n=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,nN(this,j3(this,n=S3(this,e,r)),n);break;default:nN(this,this._t0,n=S3(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=n}}};function LG(e){this._context=new $G(e)}(LG.prototype=Object.create(lb.prototype)).point=function(e,r){lb.prototype.point.call(this,r,e)};function $G(e){this._context=e}$G.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,n,a,s,i){this._context.bezierCurveTo(r,e,a,n,i,s)}};function bPe(e){return new lb(e)}function _Pe(e){return new LG(e)}function BG(e){this._context=e}BG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),n===2)this._context.lineTo(e[1],r[1]);else for(var a=k3(e),s=k3(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function k3(e){var r,n=e.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<n-1;++r)s[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],r=1;r<n;++r)a=s[r]/i[r-1],i[r]-=a,o[r]-=a*o[r-1];for(s[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)s[r]=(o[r]-s[r+1])/i[r];for(i[n-1]=(e[n]+s[n-1])/2,r=0;r<n-1;++r)i[r]=2*e[r+1]-s[r+1];return[s,i]}function SPe(e){return new BG(e)}function LS(e,r){this._context=e,this._t=r}LS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=e,this._y=r}};function jPe(e){return new LS(e,.5)}function kPe(e){return new LS(e,0)}function NPe(e){return new LS(e,1)}function Xm(e,r){if((o=e.length)>1)for(var n=1,a,s,i=e[r[0]],o,c=i.length;n<o;++n)for(s=i,i=e[r[n]],a=0;a<c;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function QE(e){for(var r=e.length,n=new Array(r);--r>=0;)n[r]=r;return n}function EPe(e,r){return e[r]}function CPe(e){const r=[];return r.key=e,r}function TPe(){var e=Mr([]),r=QE,n=Xm,a=EPe;function s(i){var o=Array.from(e.apply(this,arguments),CPe),c,u=o.length,d=-1,f;for(const h of i)for(c=0,++d;c<u;++c)(o[c][d]=[0,+a(h,o[c].key,d,i)]).data=h;for(c=0,f=HP(r(o));c<u;++c)o[f[c]].index=c;return n(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Mr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Mr(+i),s):a},s.order=function(i){return arguments.length?(r=i==null?QE:typeof i=="function"?i:Mr(Array.from(i)),s):r},s.offset=function(i){return arguments.length?(n=i??Xm,s):n},s}function APe(e,r){if((a=e.length)>0){for(var n,a,s=0,i=e[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=e[n][s][1]||0;if(o)for(n=0;n<a;++n)e[n][s][1]/=o}Xm(e,r)}}function OPe(e,r){if((s=e.length)>0){for(var n=0,a=e[r[0]],s,i=a.length;n<i;++n){for(var o=0,c=0;o<s;++o)c+=e[o][n][1]||0;a[n][1]+=a[n][0]=-c/2}Xm(e,r)}}function PPe(e,r){if(!(!((o=e.length)>0)||!((i=(s=e[r[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var c=0,u=0,d=0;c<o;++c){for(var f=e[r[c]],h=f[a][1]||0,m=f[a-1][1]||0,p=(h-m)/2,v=0;v<c;++v){var g=e[r[v]],x=g[a][1]||0,b=g[a-1][1]||0;p+=x-b}u+=h,d+=p*h}s[a-1][1]+=s[a-1][0]=n,u&&(n-=d/u)}s[a-1][1]+=s[a-1][0]=n,Xm(e,r)}}function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yv(e)}var DPe=["type","size","sizeType"];function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZE.apply(this,arguments)}function N3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function E3(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?N3(Object(n),!0).forEach(function(a){RPe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function RPe(e,r,n){return r=IPe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function IPe(e){var r=MPe(e,"string");return yv(r)=="symbol"?r:r+""}function MPe(e,r){if(yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function FPe(e,r){if(e==null)return{};var n=LPe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function LPe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var UG={symbolCircle:qP,symbolCross:sPe,symbolDiamond:oPe,symbolSquare:lPe,symbolStar:fPe,symbolTriangle:hPe,symbolWye:pPe},$Pe=Math.PI/180,BPe=function(r){var n="symbol".concat(IS(r));return UG[n]||qP},UPe=function(r,n,a){if(n==="area")return r;switch(a){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var s=18*$Pe;return 1.25*r*r*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},VPe=function(r,n){UG["symbol".concat(IS(r))]=n},KP=function(r){var n=r.type,a=n===void 0?"circle":n,s=r.size,i=s===void 0?64:s,o=r.sizeType,c=o===void 0?"area":o,u=FPe(r,DPe),d=E3(E3({},u),{},{type:a,size:i,sizeType:c}),f=function(){var x=BPe(a),b=gPe().type(x).size(UPe(i,c,a));return b()},h=d.className,m=d.cx,p=d.cy,v=Nt(d,!0);return m===+m&&p===+p&&i===+i?ne.createElement("path",ZE({},v,{className:Bt("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(p,")"),d:f()})):null};KP.registerSymbol=VPe;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jm(e)}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},eC.apply(this,arguments)}function C3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zPe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?C3(Object(n),!0).forEach(function(a){wv(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function WPe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function HPe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zG(a.key),a)}}function qPe(e,r,n){return r&&HPe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function KPe(e,r,n){return r=cb(r),GPe(e,VG()?Reflect.construct(r,n||[],cb(e).constructor):r.apply(e,n))}function GPe(e,r){if(r&&(Jm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(e)}function YPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cb(e)}function XPe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&tC(e,r)}function tC(e,r){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},tC(e,r)}function wv(e,r,n){return r=zG(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function zG(e){var r=JPe(e,"string");return Jm(r)=="symbol"?r:r+""}function JPe(e,r){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Si=32,GP=function(e){function r(){return WPe(this,r),KPe(this,r,arguments)}return XPe(r,e),qPe(r,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Si/2,o=Si/6,c=Si/3,u=a.inactive?s:a.color;if(a.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Si,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Si,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ne.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Si/8,"h").concat(Si,"v").concat(Si*3/4,"h").concat(-Si,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(a.legendIcon)){var d=zPe({},a);return delete d.legendIcon,ne.cloneElement(a.legendIcon,d)}return ne.createElement(KP,{fill:u,cx:i,cy:i,size:Si,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,c=s.layout,u=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:Si,height:Si},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var g=p.formatter||u,x=Bt(wv(wv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Pt(p.value)?null:p.value;No(!Pt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?d:p.color;return ne.createElement("li",eC({className:x,style:h,key:"legend-item-".concat(v)},Tf(a.props,p,v)),ne.createElement(HE,{width:o,height:o,viewBox:f,style:m},a.renderIcon(p)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,v):b))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(y.PureComponent);wv(GP,"displayName","Legend");wv(GP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var QPe=_S;function ZPe(){this.__data__=new QPe,this.size=0}var e4e=ZPe;function t4e(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}var r4e=t4e;function n4e(e){return this.__data__.get(e)}var a4e=n4e;function s4e(e){return this.__data__.has(e)}var i4e=s4e,o4e=_S,l4e=IP,c4e=MP,u4e=200;function d4e(e,r){var n=this.__data__;if(n instanceof o4e){var a=n.__data__;if(!l4e||a.length<u4e-1)return a.push([e,r]),this.size=++n.size,this;n=this.__data__=new c4e(a)}return n.set(e,r),this.size=n.size,this}var f4e=d4e,h4e=_S,m4e=e4e,p4e=r4e,g4e=a4e,v4e=i4e,x4e=f4e;function e0(e){var r=this.__data__=new h4e(e);this.size=r.size}e0.prototype.clear=m4e;e0.prototype.delete=p4e;e0.prototype.get=g4e;e0.prototype.has=v4e;e0.prototype.set=x4e;var WG=e0,y4e="__lodash_hash_undefined__";function w4e(e){return this.__data__.set(e,y4e),this}var b4e=w4e;function _4e(e){return this.__data__.has(e)}var S4e=_4e,j4e=MP,k4e=b4e,N4e=S4e;function ub(e){var r=-1,n=e==null?0:e.length;for(this.__data__=new j4e;++r<n;)this.add(e[r])}ub.prototype.add=ub.prototype.push=k4e;ub.prototype.has=N4e;var HG=ub;function E4e(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}var qG=E4e;function C4e(e,r){return e.has(r)}var KG=C4e,T4e=HG,A4e=qG,O4e=KG,P4e=1,D4e=2;function R4e(e,r,n,a,s,i){var o=n&P4e,c=e.length,u=r.length;if(c!=u&&!(o&&u>c))return!1;var d=i.get(e),f=i.get(r);if(d&&f)return d==r&&f==e;var h=-1,m=!0,p=n&D4e?new T4e:void 0;for(i.set(e,r),i.set(r,e);++h<c;){var v=e[h],g=r[h];if(a)var x=o?a(g,v,h,r,e,i):a(v,g,h,e,r,i);if(x!==void 0){if(x)continue;m=!1;break}if(p){if(!A4e(r,function(b,w){if(!O4e(p,w)&&(v===b||s(v,b,n,a,i)))return p.push(w)})){m=!1;break}}else if(!(v===g||s(v,g,n,a,i))){m=!1;break}}return i.delete(e),i.delete(r),m}var GG=R4e,I4e=Ml,M4e=I4e.Uint8Array,F4e=M4e;function L4e(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}var $4e=L4e;function B4e(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}var YP=B4e,T3=qx,A3=F4e,U4e=RP,V4e=GG,z4e=$4e,W4e=YP,H4e=1,q4e=2,K4e="[object Boolean]",G4e="[object Date]",Y4e="[object Error]",X4e="[object Map]",J4e="[object Number]",Q4e="[object RegExp]",Z4e="[object Set]",eDe="[object String]",tDe="[object Symbol]",rDe="[object ArrayBuffer]",nDe="[object DataView]",O3=T3?T3.prototype:void 0,aN=O3?O3.valueOf:void 0;function aDe(e,r,n,a,s,i,o){switch(n){case nDe:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case rDe:return!(e.byteLength!=r.byteLength||!i(new A3(e),new A3(r)));case K4e:case G4e:case J4e:return U4e(+e,+r);case Y4e:return e.name==r.name&&e.message==r.message;case Q4e:case eDe:return e==r+"";case X4e:var c=z4e;case Z4e:var u=a&H4e;if(c||(c=W4e),e.size!=r.size&&!u)return!1;var d=o.get(e);if(d)return d==r;a|=q4e,o.set(e,r);var f=V4e(c(e),c(r),a,s,i,o);return o.delete(e),f;case tDe:if(aN)return aN.call(e)==aN.call(r)}return!1}var sDe=aDe;function iDe(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}var YG=iDe,oDe=YG,lDe=qs;function cDe(e,r,n){var a=r(e);return lDe(e)?a:oDe(a,n(e))}var uDe=cDe;function dDe(e,r){for(var n=-1,a=e==null?0:e.length,s=0,i=[];++n<a;){var o=e[n];r(o,n,e)&&(i[s++]=o)}return i}var fDe=dDe;function hDe(){return[]}var mDe=hDe,pDe=fDe,gDe=mDe,vDe=Object.prototype,xDe=vDe.propertyIsEnumerable,P3=Object.getOwnPropertySymbols,yDe=P3?function(e){return e==null?[]:(e=Object(e),pDe(P3(e),function(r){return xDe.call(e,r)}))}:gDe,wDe=yDe;function bDe(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}var _De=bDe,SDe=Tc,jDe=Ac,kDe="[object Arguments]";function NDe(e){return jDe(e)&&SDe(e)==kDe}var EDe=NDe,D3=EDe,CDe=Ac,XG=Object.prototype,TDe=XG.hasOwnProperty,ADe=XG.propertyIsEnumerable,ODe=D3(function(){return arguments}())?D3:function(e){return CDe(e)&&TDe.call(e,"callee")&&!ADe.call(e,"callee")},XP=ODe,db={exports:{}};function PDe(){return!1}var DDe=PDe;db.exports;(function(e,r){var n=Ml,a=DDe,s=r&&!r.nodeType&&r,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,c=o?n.Buffer:void 0,u=c?c.isBuffer:void 0,d=u||a;e.exports=d})(db,db.exports);var JG=db.exports,RDe=9007199254740991,IDe=/^(?:0|[1-9]\d*)$/;function MDe(e,r){var n=typeof e;return r=r??RDe,!!r&&(n=="number"||n!="symbol"&&IDe.test(e))&&e>-1&&e%1==0&&e<r}var JP=MDe,FDe=9007199254740991;function LDe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FDe}var QP=LDe,$De=Tc,BDe=QP,UDe=Ac,VDe="[object Arguments]",zDe="[object Array]",WDe="[object Boolean]",HDe="[object Date]",qDe="[object Error]",KDe="[object Function]",GDe="[object Map]",YDe="[object Number]",XDe="[object Object]",JDe="[object RegExp]",QDe="[object Set]",ZDe="[object String]",eRe="[object WeakMap]",tRe="[object ArrayBuffer]",rRe="[object DataView]",nRe="[object Float32Array]",aRe="[object Float64Array]",sRe="[object Int8Array]",iRe="[object Int16Array]",oRe="[object Int32Array]",lRe="[object Uint8Array]",cRe="[object Uint8ClampedArray]",uRe="[object Uint16Array]",dRe="[object Uint32Array]",zr={};zr[nRe]=zr[aRe]=zr[sRe]=zr[iRe]=zr[oRe]=zr[lRe]=zr[cRe]=zr[uRe]=zr[dRe]=!0;zr[VDe]=zr[zDe]=zr[tRe]=zr[WDe]=zr[rRe]=zr[HDe]=zr[qDe]=zr[KDe]=zr[GDe]=zr[YDe]=zr[XDe]=zr[JDe]=zr[QDe]=zr[ZDe]=zr[eRe]=!1;function fRe(e){return UDe(e)&&BDe(e.length)&&!!zr[$De(e)]}var hRe=fRe;function mRe(e){return function(r){return e(r)}}var QG=mRe,fb={exports:{}};fb.exports;(function(e,r){var n=iG,a=r&&!r.nodeType&&r,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&n.process,c=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(fb,fb.exports);var pRe=fb.exports,gRe=hRe,vRe=QG,R3=pRe,I3=R3&&R3.isTypedArray,xRe=I3?vRe(I3):gRe,ZG=xRe,yRe=_De,wRe=XP,bRe=qs,_Re=JG,SRe=JP,jRe=ZG,kRe=Object.prototype,NRe=kRe.hasOwnProperty;function ERe(e,r){var n=bRe(e),a=!n&&wRe(e),s=!n&&!a&&_Re(e),i=!n&&!a&&!s&&jRe(e),o=n||a||s||i,c=o?yRe(e.length,String):[],u=c.length;for(var d in e)(r||NRe.call(e,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||SRe(d,u)))&&c.push(d);return c}var CRe=ERe,TRe=Object.prototype;function ARe(e){var r=e&&e.constructor,n=typeof r=="function"&&r.prototype||TRe;return e===n}var ORe=ARe;function PRe(e,r){return function(n){return e(r(n))}}var eY=PRe,DRe=eY,RRe=DRe(Object.keys,Object),IRe=RRe,MRe=ORe,FRe=IRe,LRe=Object.prototype,$Re=LRe.hasOwnProperty;function BRe(e){if(!MRe(e))return FRe(e);var r=[];for(var n in Object(e))$Re.call(e,n)&&n!="constructor"&&r.push(n);return r}var URe=BRe,VRe=DP,zRe=QP;function WRe(e){return e!=null&&zRe(e.length)&&!VRe(e)}var Gx=WRe,HRe=CRe,qRe=URe,KRe=Gx;function GRe(e){return KRe(e)?HRe(e):qRe(e)}var $S=GRe,YRe=uDe,XRe=wDe,JRe=$S;function QRe(e){return YRe(e,JRe,XRe)}var ZRe=QRe,M3=ZRe,eIe=1,tIe=Object.prototype,rIe=tIe.hasOwnProperty;function nIe(e,r,n,a,s,i){var o=n&eIe,c=M3(e),u=c.length,d=M3(r),f=d.length;if(u!=f&&!o)return!1;for(var h=u;h--;){var m=c[h];if(!(o?m in r:rIe.call(r,m)))return!1}var p=i.get(e),v=i.get(r);if(p&&v)return p==r&&v==e;var g=!0;i.set(e,r),i.set(r,e);for(var x=o;++h<u;){m=c[h];var b=e[m],w=r[m];if(a)var _=o?a(w,b,m,r,e,i):a(b,w,m,e,r,i);if(!(_===void 0?b===w||s(b,w,n,a,i):_)){g=!1;break}x||(x=m=="constructor")}if(g&&!x){var S=e.constructor,j=r.constructor;S!=j&&"constructor"in e&&"constructor"in r&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(g=!1)}return i.delete(e),i.delete(r),g}var aIe=nIe,sIe=Kf,iIe=Ml,oIe=sIe(iIe,"DataView"),lIe=oIe,cIe=Kf,uIe=Ml,dIe=cIe(uIe,"Promise"),fIe=dIe,hIe=Kf,mIe=Ml,pIe=hIe(mIe,"Set"),tY=pIe,gIe=Kf,vIe=Ml,xIe=gIe(vIe,"WeakMap"),yIe=xIe,rC=lIe,nC=IP,aC=fIe,sC=tY,iC=yIe,rY=Tc,t0=lG,F3="[object Map]",wIe="[object Object]",L3="[object Promise]",$3="[object Set]",B3="[object WeakMap]",U3="[object DataView]",bIe=t0(rC),_Ie=t0(nC),SIe=t0(aC),jIe=t0(sC),kIe=t0(iC),wd=rY;(rC&&wd(new rC(new ArrayBuffer(1)))!=U3||nC&&wd(new nC)!=F3||aC&&wd(aC.resolve())!=L3||sC&&wd(new sC)!=$3||iC&&wd(new iC)!=B3)&&(wd=function(e){var r=rY(e),n=r==wIe?e.constructor:void 0,a=n?t0(n):"";if(a)switch(a){case bIe:return U3;case _Ie:return F3;case SIe:return L3;case jIe:return $3;case kIe:return B3}return r});var NIe=wd,sN=WG,EIe=GG,CIe=sDe,TIe=aIe,V3=NIe,z3=qs,W3=JG,AIe=ZG,OIe=1,H3="[object Arguments]",q3="[object Array]",a1="[object Object]",PIe=Object.prototype,K3=PIe.hasOwnProperty;function DIe(e,r,n,a,s,i){var o=z3(e),c=z3(r),u=o?q3:V3(e),d=c?q3:V3(r);u=u==H3?a1:u,d=d==H3?a1:d;var f=u==a1,h=d==a1,m=u==d;if(m&&W3(e)){if(!W3(r))return!1;o=!0,f=!1}if(m&&!f)return i||(i=new sN),o||AIe(e)?EIe(e,r,n,a,s,i):CIe(e,r,u,n,a,s,i);if(!(n&OIe)){var p=f&&K3.call(e,"__wrapped__"),v=h&&K3.call(r,"__wrapped__");if(p||v){var g=p?e.value():e,x=v?r.value():r;return i||(i=new sN),s(g,x,n,a,i)}}return m?(i||(i=new sN),TIe(e,r,n,a,s,i)):!1}var RIe=DIe,IIe=RIe,G3=Ac;function nY(e,r,n,a,s){return e===r?!0:e==null||r==null||!G3(e)&&!G3(r)?e!==e&&r!==r:IIe(e,r,n,a,nY,s)}var ZP=nY,MIe=WG,FIe=ZP,LIe=1,$Ie=2;function BIe(e,r,n,a){var s=n.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var c=n[s];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<i;){c=n[s];var u=c[0],d=e[u],f=c[1];if(o&&c[2]){if(d===void 0&&!(u in e))return!1}else{var h=new MIe;if(a)var m=a(d,f,u,e,r,h);if(!(m===void 0?FIe(f,d,LIe|$Ie,a,h):m))return!1}}return!0}var UIe=BIe,VIe=rd;function zIe(e){return e===e&&!VIe(e)}var aY=zIe,WIe=aY,HIe=$S;function qIe(e){for(var r=HIe(e),n=r.length;n--;){var a=r[n],s=e[a];r[n]=[a,s,WIe(s)]}return r}var KIe=qIe;function GIe(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}var sY=GIe,YIe=UIe,XIe=KIe,JIe=sY;function QIe(e){var r=XIe(e);return r.length==1&&r[0][2]?JIe(r[0][0],r[0][1]):function(n){return n===e||YIe(n,e,r)}}var ZIe=QIe;function eMe(e,r){return e!=null&&r in Object(e)}var tMe=eMe,rMe=hG,nMe=XP,aMe=qs,sMe=JP,iMe=QP,oMe=jS;function lMe(e,r,n){r=rMe(r,e);for(var a=-1,s=r.length,i=!1;++a<s;){var o=oMe(r[a]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&iMe(s)&&sMe(o,s)&&(aMe(e)||nMe(e)))}var cMe=lMe,uMe=tMe,dMe=cMe;function fMe(e,r){return e!=null&&dMe(e,r,uMe)}var hMe=fMe,mMe=ZP,pMe=mG,gMe=hMe,vMe=PP,xMe=aY,yMe=sY,wMe=jS,bMe=1,_Me=2;function SMe(e,r){return vMe(e)&&xMe(r)?yMe(wMe(e),r):function(n){var a=pMe(n,e);return a===void 0&&a===r?gMe(n,e):mMe(r,a,bMe|_Me)}}var jMe=SMe;function kMe(e){return e}var r0=kMe;function NMe(e){return function(r){return r==null?void 0:r[e]}}var EMe=NMe,CMe=$P;function TMe(e){return function(r){return CMe(r,e)}}var AMe=TMe,OMe=EMe,PMe=AMe,DMe=PP,RMe=jS;function IMe(e){return DMe(e)?OMe(RMe(e)):PMe(e)}var MMe=IMe,FMe=ZIe,LMe=jMe,$Me=r0,BMe=qs,UMe=MMe;function VMe(e){return typeof e=="function"?e:e==null?$Me:typeof e=="object"?BMe(e)?LMe(e[0],e[1]):FMe(e):UMe(e)}var Fl=VMe;function zMe(e,r,n,a){for(var s=e.length,i=n+(a?1:-1);a?i--:++i<s;)if(r(e[i],i,e))return i;return-1}var iY=zMe;function WMe(e){return e!==e}var HMe=WMe;function qMe(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}var KMe=qMe,GMe=iY,YMe=HMe,XMe=KMe;function JMe(e,r,n){return r===r?XMe(e,r,n):GMe(e,YMe,n)}var QMe=JMe,ZMe=QMe;function eFe(e,r){var n=e==null?0:e.length;return!!n&&ZMe(e,r,0)>-1}var tFe=eFe;function rFe(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}var nFe=rFe;function aFe(){}var sFe=aFe,iN=tY,iFe=sFe,oFe=YP,lFe=1/0,cFe=iN&&1/oFe(new iN([,-0]))[1]==lFe?function(e){return new iN(e)}:iFe,uFe=cFe,dFe=HG,fFe=tFe,hFe=nFe,mFe=KG,pFe=uFe,gFe=YP,vFe=200;function xFe(e,r,n){var a=-1,s=fFe,i=e.length,o=!0,c=[],u=c;if(n)o=!1,s=hFe;else if(i>=vFe){var d=r?null:pFe(e);if(d)return gFe(d);o=!1,s=mFe,u=new dFe}else u=r?[]:c;e:for(;++a<i;){var f=e[a],h=r?r(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var m=u.length;m--;)if(u[m]===h)continue e;r&&u.push(h),c.push(f)}else s(u,h,n)||(u!==c&&u.push(h),c.push(f))}return c}var yFe=xFe,wFe=Fl,bFe=yFe;function _Fe(e,r){return e&&e.length?bFe(e,wFe(r)):[]}var SFe=_Fe;const Y3=xr(SFe);function oY(e,r,n){return r===!0?Y3(e,n):Pt(r)?Y3(e,r):e}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qm(e)}var jFe=["ref"];function X3(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ul(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?X3(Object(n),!0).forEach(function(a){BS(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kFe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function J3(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cY(a.key),a)}}function NFe(e,r,n){return r&&J3(e.prototype,r),n&&J3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EFe(e,r,n){return r=hb(r),CFe(e,lY()?Reflect.construct(r,n||[],hb(e).constructor):r.apply(e,n))}function CFe(e,r){if(r&&(Qm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TFe(e)}function TFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!e})()}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(e)}function AFe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&oC(e,r)}function oC(e,r){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},oC(e,r)}function BS(e,r,n){return r=cY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cY(e){var r=OFe(e,"string");return Qm(r)=="symbol"?r:r+""}function OFe(e,r){if(Qm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Qm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function PFe(e,r){if(e==null)return{};var n=DFe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function DFe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function RFe(e){return e.value}function IFe(e,r){if(ne.isValidElement(e))return ne.cloneElement(e,r);if(typeof e=="function")return ne.createElement(e,r);r.ref;var n=PFe(r,jFe);return ne.createElement(GP,n)}var Q3=1,Ou=function(e){function r(){var n;kFe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=EFe(this,r,[].concat(s)),BS(n,"lastBoundingBox",{width:-1,height:-1}),n}return AFe(r,e),NFe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>Q3||Math.abs(s.height-this.lastBoundingBox.height)>Q3)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ul({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,c=s.verticalAlign,u=s.margin,d=s.chartWidth,f=s.chartHeight,h,m;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();m={top:((f||0)-v.height)/2}}else m=c==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Ul(Ul({},h),m)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,c=s.height,u=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,h=Ul(Ul({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(u)),u);return ne.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){a.wrapperNode=p}},IFe(i,Ul(Ul({},this.props),{},{payload:oY(f,d,RFe)})))}}],[{key:"getWithHeight",value:function(a,s){var i=Ul(Ul({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Je(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(y.PureComponent);BS(Ou,"displayName","Legend");BS(Ou,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Z3=qx,MFe=XP,FFe=qs,eL=Z3?Z3.isConcatSpreadable:void 0;function LFe(e){return FFe(e)||MFe(e)||!!(eL&&e&&e[eL])}var $Fe=LFe,BFe=YG,UFe=$Fe;function uY(e,r,n,a,s){var i=-1,o=e.length;for(n||(n=UFe),s||(s=[]);++i<o;){var c=e[i];r>0&&n(c)?r>1?uY(c,r-1,n,a,s):BFe(s,c):a||(s[s.length]=c)}return s}var dY=uY;function VFe(e){return function(r,n,a){for(var s=-1,i=Object(r),o=a(r),c=o.length;c--;){var u=o[e?c:++s];if(n(i[u],u,i)===!1)break}return r}}var zFe=VFe,WFe=zFe,HFe=WFe(),qFe=HFe,KFe=qFe,GFe=$S;function YFe(e,r){return e&&KFe(e,r,GFe)}var fY=YFe,XFe=Gx;function JFe(e,r){return function(n,a){if(n==null)return n;if(!XFe(n))return e(n,a);for(var s=n.length,i=r?s:-1,o=Object(n);(r?i--:++i<s)&&a(o[i],i,o)!==!1;);return n}}var QFe=JFe,ZFe=fY,e3e=QFe,t3e=e3e(ZFe),e4=t3e,r3e=e4,n3e=Gx;function a3e(e,r){var n=-1,a=n3e(e)?Array(e.length):[];return r3e(e,function(s,i,o){a[++n]=r(s,i,o)}),a}var hY=a3e;function s3e(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}var i3e=s3e,tL=Gp;function o3e(e,r){if(e!==r){var n=e!==void 0,a=e===null,s=e===e,i=tL(e),o=r!==void 0,c=r===null,u=r===r,d=tL(r);if(!c&&!d&&!i&&e>r||i&&o&&u&&!c&&!d||a&&o&&u||!n&&u||!s)return 1;if(!a&&!i&&!d&&e<r||d&&n&&s&&!a&&!i||c&&n&&s||!o&&s||!u)return-1}return 0}var l3e=o3e,c3e=l3e;function u3e(e,r,n){for(var a=-1,s=e.criteria,i=r.criteria,o=s.length,c=n.length;++a<o;){var u=c3e(s[a],i[a]);if(u){if(a>=c)return u;var d=n[a];return u*(d=="desc"?-1:1)}}return e.index-r.index}var d3e=u3e,oN=LP,f3e=$P,h3e=Fl,m3e=hY,p3e=i3e,g3e=QG,v3e=d3e,x3e=r0,y3e=qs;function w3e(e,r,n){r.length?r=oN(r,function(i){return y3e(i)?function(o){return f3e(o,i.length===1?i[0]:i)}:i}):r=[x3e];var a=-1;r=oN(r,g3e(h3e));var s=m3e(e,function(i,o,c){var u=oN(r,function(d){return d(i)});return{criteria:u,index:++a,value:i}});return p3e(s,function(i,o){return v3e(i,o,n)})}var b3e=w3e;function _3e(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}var S3e=_3e,j3e=S3e,rL=Math.max;function k3e(e,r,n){return r=rL(r===void 0?e.length-1:r,0),function(){for(var a=arguments,s=-1,i=rL(a.length-r,0),o=Array(i);++s<i;)o[s]=a[r+s];s=-1;for(var c=Array(r+1);++s<r;)c[s]=a[s];return c[r]=n(o),j3e(e,this,c)}}var N3e=k3e;function E3e(e){return function(){return e}}var C3e=E3e,T3e=Kf,A3e=function(){try{var e=T3e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mY=A3e,O3e=C3e,nL=mY,P3e=r0,D3e=nL?function(e,r){return nL(e,"toString",{configurable:!0,enumerable:!1,value:O3e(r),writable:!0})}:P3e,R3e=D3e,I3e=800,M3e=16,F3e=Date.now;function L3e(e){var r=0,n=0;return function(){var a=F3e(),s=M3e-(a-n);if(n=a,s>0){if(++r>=I3e)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var $3e=L3e,B3e=R3e,U3e=$3e,V3e=U3e(B3e),z3e=V3e,W3e=r0,H3e=N3e,q3e=z3e;function K3e(e,r){return q3e(H3e(e,r,W3e),e+"")}var G3e=K3e,Y3e=RP,X3e=Gx,J3e=JP,Q3e=rd;function Z3e(e,r,n){if(!Q3e(n))return!1;var a=typeof r;return(a=="number"?X3e(n)&&J3e(r,n.length):a=="string"&&r in n)?Y3e(n[r],e):!1}var US=Z3e,eLe=dY,tLe=b3e,rLe=G3e,aL=US,nLe=rLe(function(e,r){if(e==null)return[];var n=r.length;return n>1&&aL(e,r[0],r[1])?r=[]:n>2&&aL(r[0],r[1],r[2])&&(r=[r[0]]),tLe(e,eLe(r,1),[])}),aLe=nLe;const t4=xr(aLe);function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bv(e)}function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},lC.apply(this,arguments)}function sLe(e,r){return cLe(e)||lLe(e,r)||oLe(e,r)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(e,r){if(e){if(typeof e=="string")return sL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sL(e,r)}}function sL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function lLe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function cLe(e){if(Array.isArray(e))return e}function iL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lN(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?iL(Object(n),!0).forEach(function(a){uLe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function uLe(e,r,n){return r=dLe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function dLe(e){var r=fLe(e,"string");return bv(r)=="symbol"?r:r+""}function fLe(e,r){if(bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(bv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function hLe(e){return Array.isArray(e)&&zn(e[0])&&zn(e[1])?e.join(" ~ "):e}var mLe=function(r){var n=r.separator,a=n===void 0?" : ":n,s=r.contentStyle,i=s===void 0?{}:s,o=r.itemStyle,c=o===void 0?{}:o,u=r.labelStyle,d=u===void 0?{}:u,f=r.payload,h=r.formatter,m=r.itemSorter,p=r.wrapperClassName,v=r.labelClassName,g=r.label,x=r.labelFormatter,b=r.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(f&&f.length){var T={padding:0,margin:0},U=(m?t4(f,m):f).map(function(H,F){if(H.type==="none")return null;var M=lN({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},c),z=H.formatter||h||hLe,L=H.value,R=H.name,J=L,te=R;if(z&&J!=null&&te!=null){var A=z(L,R,H,F,f);if(Array.isArray(A)){var X=sLe(A,2);J=X[0],te=X[1]}else J=A}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:M},zn(te)?ne.createElement("span",{className:"recharts-tooltip-item-name"},te):null,zn(te)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},J),ne.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},S=lN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=lN({margin:0},d),N=!$t(g),k=N?g:"",C=Bt("recharts-default-tooltip",p),E=Bt("recharts-tooltip-label",v);N&&x&&f!==void 0&&f!==null&&(k=x(g,f));var P=w?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",lC({className:C,style:S},P),ne.createElement("p",{className:E,style:j},ne.isValidElement(k)?k:"".concat(k)),_())};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_v(e)}function s1(e,r,n){return r=pLe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function pLe(e){var r=gLe(e,"string");return _v(r)=="symbol"?r:r+""}function gLe(e,r){if(_v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(_v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var k0="recharts-tooltip-wrapper",vLe={visibility:"hidden"};function xLe(e){var r=e.coordinate,n=e.translateX,a=e.translateY;return Bt(k0,s1(s1(s1(s1({},"".concat(k0,"-right"),Je(n)&&r&&Je(r.x)&&n>=r.x),"".concat(k0,"-left"),Je(n)&&r&&Je(r.x)&&n<r.x),"".concat(k0,"-bottom"),Je(a)&&r&&Je(r.y)&&a>=r.y),"".concat(k0,"-top"),Je(a)&&r&&Je(r.y)&&a<r.y))}function oL(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(i&&Je(i[a]))return i[a];var f=n[a]-c-s,h=n[a]+s;if(r[a])return o[a]?f:h;if(o[a]){var m=f,p=u[a];return m<p?Math.max(h,u[a]):Math.max(f,u[a])}var v=h+c,g=u[a]+d;return v>g?Math.max(f,u[a]):Math.max(h,u[a])}function yLe(e){var r=e.translateX,n=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function wLe(e){var r=e.allowEscapeViewBox,n=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox,d,f,h;return o.height>0&&o.width>0&&n?(f=oL({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=oL({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=yLe({translateX:f,translateY:h,useTranslate3d:c})):d=vLe,{cssProperties:d,cssClasses:xLe({translateX:f,translateY:h,coordinate:n})}}function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(e)}function lL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function cL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lL(Object(n),!0).forEach(function(a){uC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _Le(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,gY(a.key),a)}}function SLe(e,r,n){return r&&_Le(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jLe(e,r,n){return r=mb(r),kLe(e,pY()?Reflect.construct(r,n||[],mb(e).constructor):r.apply(e,n))}function kLe(e,r){if(r&&(Zm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NLe(e)}function NLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pY=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(e)}function ELe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&cC(e,r)}function cC(e,r){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},cC(e,r)}function uC(e,r,n){return r=gY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function gY(e){var r=CLe(e,"string");return Zm(r)=="symbol"?r:r+""}function CLe(e,r){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Zm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var uL=1,TLe=function(e){function r(){var n;bLe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=jLe(this,r,[].concat(s)),uC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var c,u,d,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&c!==void 0?c:0,y:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),n}return ELe(r,e),SLe(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>uL||Math.abs(a.height-this.state.lastBoundingBox.height)>uL)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.children,f=s.coordinate,h=s.hasPayload,m=s.isAnimationActive,p=s.offset,v=s.position,g=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,w=s.wrapperStyle,_=wLe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),S=_.cssClasses,j=_.cssProperties,N=cL(cL({transition:m&&i?"transform ".concat(c,"ms ").concat(u):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ne.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(C){a.wrapperNode=C}},d)}}])}(y.PureComponent),ALe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:ALe(),get:function(r){return gl[r]},set:function(r,n){if(typeof r=="string")gl[r]=n;else{var a=Object.keys(r);a&&a.length&&a.forEach(function(s){gl[s]=r[s]})}}};function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ep(e)}function dL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fL(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dL(Object(n),!0).forEach(function(a){r4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function OLe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function PLe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xY(a.key),a)}}function DLe(e,r,n){return r&&PLe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RLe(e,r,n){return r=pb(r),ILe(e,vY()?Reflect.construct(r,n||[],pb(e).constructor):r.apply(e,n))}function ILe(e,r){if(r&&(ep(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MLe(e)}function MLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pb(e)}function FLe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&dC(e,r)}function dC(e,r){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dC(e,r)}function r4(e,r,n){return r=xY(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function xY(e){var r=LLe(e,"string");return ep(r)=="symbol"?r:r+""}function LLe(e,r){if(ep(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ep(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $Le(e){return e.dataKey}function BLe(e,r){return ne.isValidElement(e)?ne.cloneElement(e,r):typeof e=="function"?ne.createElement(e,r):ne.createElement(mLe,r)}var Ti=function(e){function r(){return OLe(this,r),RLe(this,r,arguments)}return FLe(r,e),DLe(r,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,c=s.animationDuration,u=s.animationEasing,d=s.content,f=s.coordinate,h=s.filterNull,m=s.isAnimationActive,p=s.offset,v=s.payload,g=s.payloadUniqBy,x=s.position,b=s.reverseDirection,w=s.useTranslate3d,_=s.viewBox,S=s.wrapperStyle,j=v??[];h&&j.length&&(j=oY(v.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),g,$Le));var N=j.length>0;return ne.createElement(TLe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:u,isAnimationActive:m,active:i,coordinate:f,hasPayload:N,offset:p,position:x,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:S},BLe(d,fL(fL({},this.props),{},{payload:j})))}}])}(y.PureComponent);r4(Ti,"displayName","Tooltip");r4(Ti,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ULe=Ml,VLe=function(){return ULe.Date.now()},zLe=VLe,WLe=/\s/;function HLe(e){for(var r=e.length;r--&&WLe.test(e.charAt(r)););return r}var qLe=HLe,KLe=qLe,GLe=/^\s+/;function YLe(e){return e&&e.slice(0,KLe(e)+1).replace(GLe,"")}var XLe=YLe,JLe=XLe,hL=rd,QLe=Gp,mL=NaN,ZLe=/^[-+]0x[0-9a-f]+$/i,e$e=/^0b[01]+$/i,t$e=/^0o[0-7]+$/i,r$e=parseInt;function n$e(e){if(typeof e=="number")return e;if(QLe(e))return mL;if(hL(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=hL(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=JLe(e);var n=e$e.test(e);return n||t$e.test(e)?r$e(e.slice(2),n?2:8):ZLe.test(e)?mL:+e}var yY=n$e,a$e=rd,cN=zLe,pL=yY,s$e="Expected a function",i$e=Math.max,o$e=Math.min;function l$e(e,r,n){var a,s,i,o,c,u,d=0,f=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(s$e);r=pL(r)||0,a$e(n)&&(f=!!n.leading,h="maxWait"in n,i=h?i$e(pL(n.maxWait)||0,r):i,m="trailing"in n?!!n.trailing:m);function p(N){var k=a,C=s;return a=s=void 0,d=N,o=e.apply(C,k),o}function v(N){return d=N,c=setTimeout(b,r),f?p(N):o}function g(N){var k=N-u,C=N-d,E=r-k;return h?o$e(E,i-C):E}function x(N){var k=N-u,C=N-d;return u===void 0||k>=r||k<0||h&&C>=i}function b(){var N=cN();if(x(N))return w(N);c=setTimeout(b,g(N))}function w(N){return c=void 0,m&&a?p(N):(a=s=void 0,o)}function _(){c!==void 0&&clearTimeout(c),d=0,a=u=s=c=void 0}function S(){return c===void 0?o:w(cN())}function j(){var N=cN(),k=x(N);if(a=arguments,s=this,u=N,k){if(c===void 0)return v(u);if(h)return clearTimeout(c),c=setTimeout(b,r),p(u)}return c===void 0&&(c=setTimeout(b,r)),o}return j.cancel=_,j.flush=S,j}var c$e=l$e,u$e=c$e,d$e=rd,f$e="Expected a function";function h$e(e,r,n){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(f$e);return d$e(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),u$e(e,r,{leading:a,maxWait:r,trailing:s})}var m$e=h$e;const wY=xr(m$e);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sv(e)}function gL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function i1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gL(Object(n),!0).forEach(function(a){p$e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function p$e(e,r,n){return r=g$e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g$e(e){var r=v$e(e,"string");return Sv(r)=="symbol"?r:r+""}function v$e(e,r){if(Sv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Sv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function x$e(e,r){return _$e(e)||b$e(e,r)||w$e(e,r)||y$e()}function y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(e,r){if(e){if(typeof e=="string")return vL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(e,r)}}function vL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function b$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function _$e(e){if(Array.isArray(e))return e}var n4=y.forwardRef(function(e,r){var n=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,c=e.height,u=c===void 0?"100%":c,d=e.minWidth,f=d===void 0?0:d,h=e.minHeight,m=e.maxHeight,p=e.children,v=e.debounce,g=v===void 0?0:v,x=e.id,b=e.className,w=e.onResize,_=e.style,S=_===void 0?{}:_,j=y.useRef(null),N=y.useRef();N.current=w,y.useImperativeHandle(r,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=y.useState({containerWidth:s.width,containerHeight:s.height}),C=x$e(k,2),E=C[0],P=C[1],I=y.useCallback(function(U,H){P(function(F){var M=Math.round(U),z=Math.round(H);return F.containerWidth===M&&F.containerHeight===z?F:{containerWidth:M,containerHeight:z}})},[]);y.useEffect(function(){var U=function(R){var J,te=R[0].contentRect,A=te.width,X=te.height;I(A,X),(J=N.current)===null||J===void 0||J.call(N,A,X)};g>0&&(U=wY(U,g,{trailing:!0,leading:!1}));var H=new ResizeObserver(U),F=j.current.getBoundingClientRect(),M=F.width,z=F.height;return I(M,z),H.observe(j.current),function(){H.disconnect()}},[I,g]);var T=y.useMemo(function(){var U=E.containerWidth,H=E.containerHeight;if(U<0||H<0)return null;No(Ld(o)||Ld(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),No(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Ld(o)?U:o,M=Ld(u)?H:u;n&&n>0&&(F?M=F/n:M&&(F=M*n),m&&M>m&&(M=m)),No(F>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,M,o,u,f,h,n);var z=!Array.isArray(p)&&oc(p.type).endsWith("Chart");return ne.Children.map(p,function(L){return ne.isValidElement(L)?y.cloneElement(L,i1({width:F,height:M},z?{style:i1({height:"100%",width:"100%",maxHeight:M,maxWidth:F},L.props.style)}:{})):L})},[n,p,u,m,h,f,E,o]);return ne.createElement("div",{id:x?"".concat(x):void 0,className:Bt("recharts-responsive-container",b),style:i1(i1({},S),{},{width:o,height:u,minWidth:f,minHeight:h,maxHeight:m}),ref:j},T)}),sl=function(r){return null};sl.displayName="Cell";function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jv(e)}function xL(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fC(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?xL(Object(n),!0).forEach(function(a){S$e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function S$e(e,r,n){return r=j$e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j$e(e){var r=k$e(e,"string");return jv(r)=="symbol"?r:r+""}function k$e(e,r){if(jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(jv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var fh={widthCache:{},cacheCount:0},N$e=2e3,E$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yL="recharts_measurement_span";function C$e(e){var r=fC({},e);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var jg=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||gl.isSsr)return{width:0,height:0};var a=C$e(n),s=JSON.stringify({text:r,copyStyle:a});if(fh.widthCache[s])return fh.widthCache[s];try{var i=document.getElementById(yL);i||(i=document.createElement("span"),i.setAttribute("id",yL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=fC(fC({},E$e),a);Object.assign(i.style,o),i.textContent="".concat(r);var c=i.getBoundingClientRect(),u={width:c.width,height:c.height};return fh.widthCache[s]=u,++fh.cacheCount>N$e&&(fh.cacheCount=0,fh.widthCache={}),u}catch{return{width:0,height:0}}},T$e=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kv(e)}function gb(e,r){return D$e(e)||P$e(e,r)||O$e(e,r)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,r){if(e){if(typeof e=="string")return wL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wL(e,r)}}function wL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function P$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function D$e(e){if(Array.isArray(e))return e}function R$e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bL(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,M$e(a.key),a)}}function I$e(e,r,n){return r&&bL(e.prototype,r),n&&bL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M$e(e){var r=F$e(e,"string");return kv(r)=="symbol"?r:r+""}function F$e(e,r){if(kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(kv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _L=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bY={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B$e=Object.keys(bY),zh="NaN";function U$e(e,r){return e*bY[r]}var o1=function(){function e(r,n){R$e(this,e),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!L$e.test(n)&&(this.num=NaN,this.unit=""),B$e.includes(n)&&(this.num=U$e(r,n),this.unit="px")}return I$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=$$e.exec(n))!==null&&a!==void 0?a:[],i=gb(s,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])}();function _Y(e){if(e.includes(zh))return zh;for(var r=e;r.includes("*")||r.includes("/");){var n,a=(n=_L.exec(r))!==null&&n!==void 0?n:[],s=gb(a,4),i=s[1],o=s[2],c=s[3],u=o1.parse(i??""),d=o1.parse(c??""),f=o==="*"?u.multiply(d):u.divide(d);if(f.isNaN())return zh;r=r.replace(_L,f.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var h,m=(h=SL.exec(r))!==null&&h!==void 0?h:[],p=gb(m,4),v=p[1],g=p[2],x=p[3],b=o1.parse(v??""),w=o1.parse(x??""),_=g==="+"?b.add(w):b.subtract(w);if(_.isNaN())return zh;r=r.replace(SL,_.toString())}return r}var jL=/\(([^()]*)\)/;function V$e(e){for(var r=e;r.includes("(");){var n=jL.exec(r),a=gb(n,2),s=a[1];r=r.replace(jL,_Y(s))}return r}function z$e(e){var r=e.replace(/\s+/g,"");return r=V$e(r),r=_Y(r),r}function W$e(e){try{return z$e(e)}catch{return zh}}function uN(e){var r=W$e(e.slice(5,-1));return r===zh?"":r}var H$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],q$e=["dx","dy","angle","className","breakAll"];function hC(){return hC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},hC.apply(this,arguments)}function kL(e,r){if(e==null)return{};var n=K$e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function K$e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function NL(e,r){return J$e(e)||X$e(e,r)||Y$e(e,r)||G$e()}function G$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$e(e,r){if(e){if(typeof e=="string")return EL(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(e,r)}}function EL(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function X$e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function J$e(e){if(Array.isArray(e))return e}var SY=/[ \f\n\r\t\v\u2028\u2029]+/,jY=function(r){var n=r.children,a=r.breakAll,s=r.style;try{var i=[];$t(n)||(a?i=n.toString().split(""):i=n.toString().split(SY));var o=i.map(function(u){return{word:u,width:jg(u,s).width}}),c=a?0:jg("",s).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},Q$e=function(r,n,a,s,i){var o=r.maxLines,c=r.children,u=r.style,d=r.breakAll,f=Je(o),h=c,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(M,z){var L=z.word,R=z.width,J=M[M.length-1];if(J&&(s==null||i||J.width+R+a<Number(s)))J.words.push(L),J.width+=R+a;else{var te={words:[L],width:R};M.push(te)}return M},[])},p=m(n),v=function(F){return F.reduce(function(M,z){return M.width>z.width?M:z})};if(!f)return p;for(var g="",x=function(F){var M=h.slice(0,F),z=jY({breakAll:d,style:u,children:M+g}).wordsWithComputedWidth,L=m(z),R=L.length>o||v(L).width>Number(s);return[R,L]},b=0,w=h.length-1,_=0,S;b<=w&&_<=h.length-1;){var j=Math.floor((b+w)/2),N=j-1,k=x(N),C=NL(k,2),E=C[0],P=C[1],I=x(j),T=NL(I,1),U=T[0];if(!E&&!U&&(b=j+1),E&&U&&(w=j-1),!E&&U){S=P;break}_++}return S||p},CL=function(r){var n=$t(r)?[]:r.toString().split(SY);return[{words:n}]},Z$e=function(r){var n=r.width,a=r.scaleToFit,s=r.children,i=r.style,o=r.breakAll,c=r.maxLines;if((n||a)&&!gl.isSsr){var u,d,f=jY({breakAll:o,children:s,style:i});if(f){var h=f.wordsWithComputedWidth,m=f.spaceWidth;u=h,d=m}else return CL(s);return Q$e({breakAll:o,children:s,maxLines:c,style:i},u,d,n,a)}return CL(s)},TL="#808080",Af=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.lineHeight,c=o===void 0?"1em":o,u=r.capHeight,d=u===void 0?"0.71em":u,f=r.scaleToFit,h=f===void 0?!1:f,m=r.textAnchor,p=m===void 0?"start":m,v=r.verticalAnchor,g=v===void 0?"end":v,x=r.fill,b=x===void 0?TL:x,w=kL(r,H$e),_=y.useMemo(function(){return Z$e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),S=w.dx,j=w.dy,N=w.angle,k=w.className,C=w.breakAll,E=kL(w,q$e);if(!zn(a)||!zn(i))return null;var P=a+(Je(S)?S:0),I=i+(Je(j)?j:0),T;switch(g){case"start":T=uN("calc(".concat(d,")"));break;case"middle":T=uN("calc(".concat((_.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:T=uN("calc(".concat(_.length-1," * -").concat(c,")"));break}var U=[];if(h){var H=_[0].width,F=w.width;U.push("scale(".concat((Je(F)?F/H:1)/H,")"))}return N&&U.push("rotate(".concat(N,", ").concat(P,", ").concat(I,")")),U.length&&(E.transform=U.join(" ")),ne.createElement("text",hC({},Nt(E,!0),{x:P,y:I,className:Bt("recharts-text",k),textAnchor:p,fill:b.includes("url")?TL:b}),_.map(function(M,z){var L=M.words.join(C?"":" ");return ne.createElement("tspan",{x:P,dy:z===0?T:c,key:"".concat(L,"-").concat(z)},L)}))};function Pu(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function e5e(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function a4(e){let r,n,a;e.length!==2?(r=Pu,n=(c,u)=>Pu(e(c),u),a=(c,u)=>e(c)-u):(r=e===Pu||e===e5e?e:t5e,n=e,a=e);function s(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<0?d=h+1:f=h}while(d<f)}return d}function i(c,u,d=0,f=c.length){if(d<f){if(r(u,u)!==0)return f;do{const h=d+f>>>1;n(c[h],u)<=0?d=h+1:f=h}while(d<f)}return d}function o(c,u,d=0,f=c.length){const h=s(c,u,d,f-1);return h>d&&a(c[h-1],u)>-a(c[h],u)?h-1:h}return{left:s,center:o,right:i}}function t5e(){return 0}function kY(e){return e===null?NaN:+e}function*r5e(e,r){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const n5e=a4(Pu),Yx=n5e.right;a4(kY).center;class AL extends Map{constructor(r,n=i5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[a,s]of r)this.set(a,s)}get(r){return super.get(OL(this,r))}has(r){return super.has(OL(this,r))}set(r,n){return super.set(a5e(this,r),n)}delete(r){return super.delete(s5e(this,r))}}function OL({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):n}function a5e({_intern:e,_key:r},n){const a=r(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function s5e({_intern:e,_key:r},n){const a=r(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function i5e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function o5e(e=Pu){if(e===Pu)return NY;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,n)=>{const a=e(r,n);return a||a===0?a:(e(n,n)===0)-(e(r,r)===0)}}function NY(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const l5e=Math.sqrt(50),c5e=Math.sqrt(10),u5e=Math.sqrt(2);function vb(e,r,n){const a=(r-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=l5e?10:i>=c5e?5:i>=u5e?2:1;let c,u,d;return s<0?(d=Math.pow(10,-s)/o,c=Math.round(e*d),u=Math.round(r*d),c/d<e&&++c,u/d>r&&--u,d=-d):(d=Math.pow(10,s)*o,c=Math.round(e/d),u=Math.round(r/d),c*d<e&&++c,u*d>r&&--u),u<c&&.5<=n&&n<2?vb(e,r,n*2):[c,u,d]}function mC(e,r,n){if(r=+r,e=+e,n=+n,!(n>0))return[];if(e===r)return[e];const a=r<e,[s,i,o]=a?vb(r,e,n):vb(e,r,n);if(!(i>=s))return[];const c=i-s+1,u=new Array(c);if(a)if(o<0)for(let d=0;d<c;++d)u[d]=(i-d)/-o;else for(let d=0;d<c;++d)u[d]=(i-d)*o;else if(o<0)for(let d=0;d<c;++d)u[d]=(s+d)/-o;else for(let d=0;d<c;++d)u[d]=(s+d)*o;return u}function pC(e,r,n){return r=+r,e=+e,n=+n,vb(e,r,n)[2]}function gC(e,r,n){r=+r,e=+e,n=+n;const a=r<e,s=a?pC(r,e,n):pC(e,r,n);return(a?-1:1)*(s<0?1/-s:s)}function PL(e,r){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function DL(e,r){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function EY(e,r,n=0,a=1/0,s){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=r&&r<=a))return e;for(s=s===void 0?NY:o5e(s);a>n;){if(a-n>600){const u=a-n+1,d=r-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*h*(u-h)/u)*(d-u/2<0?-1:1),p=Math.max(n,Math.floor(r-d*h/u+m)),v=Math.min(a,Math.floor(r+(u-d)*h/u+m));EY(e,r,p,v,s)}const i=e[r];let o=n,c=a;for(N0(e,n,r),s(e[a],i)>0&&N0(e,n,a);o<c;){for(N0(e,o,c),++o,--c;s(e[o],i)<0;)++o;for(;s(e[c],i)>0;)--c}s(e[n],i)===0?N0(e,n,c):(++c,N0(e,c,a)),c<=r&&(n=c+1),r<=c&&(a=c-1)}return e}function N0(e,r,n){const a=e[r];e[r]=e[n],e[n]=a}function d5e(e,r,n){if(e=Float64Array.from(r5e(e)),!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return DL(e);if(r>=1)return PL(e);var a,s=(a-1)*r,i=Math.floor(s),o=PL(EY(e,i).subarray(0,i+1)),c=DL(e.subarray(i+1));return o+(c-o)*(s-i)}}function f5e(e,r,n=kY){if(!(!(a=e.length)||isNaN(r=+r))){if(r<=0||a<2)return+n(e[0],0,e);if(r>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*r,i=Math.floor(s),o=+n(e[i],i,e),c=+n(e[i+1],i+1,e);return o+(c-o)*(s-i)}}function h5e(e,r,n){e=+e,r=+r,n=(s=arguments.length)<2?(r=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((r-e)/n))|0,i=new Array(s);++a<s;)i[a]=e+a*n;return i}function Yi(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Oc(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const vC=Symbol("implicit");function s4(){var e=new AL,r=[],n=[],a=vC;function s(i){let o=e.get(i);if(o===void 0){if(a!==vC)return a;e.set(i,o=r.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new AL;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return s4(r,n).unknown(a)},Yi.apply(s,arguments),s}function Nv(){var e=s4().unknown(void 0),r=e.domain,n=e.range,a=0,s=1,i,o,c=!1,u=0,d=0,f=.5;delete e.unknown;function h(){var m=r().length,p=s<a,v=p?s:a,g=p?a:s;i=(g-v)/Math.max(1,m-u+d*2),c&&(i=Math.floor(i)),v+=(g-v-i*(m-u))*f,o=i*(1-u),c&&(v=Math.round(v),o=Math.round(o));var x=h5e(m).map(function(b){return v+i*b});return n(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(r(m),h()):r()},e.range=function(m){return arguments.length?([a,s]=m,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(m){return[a,s]=m,a=+a,s=+s,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(c=!!m,h()):c},e.padding=function(m){return arguments.length?(u=Math.min(1,d=+m),h()):u},e.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),h()):u},e.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),h()):f},e.copy=function(){return Nv(r(),[a,s]).round(c).paddingInner(u).paddingOuter(d).align(f)},Yi.apply(h(),arguments)}function CY(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CY(r())},e}function kg(){return CY(Nv.apply(null,arguments).paddingInner(1))}function i4(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function TY(e,r){var n=Object.create(e.prototype);for(var a in r)n[a]=r[a];return n}function Xx(){}var Ev=.7,xb=1/Ev,hm="\\s*([+-]?\\d+)\\s*",Cv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",m5e=/^#([0-9a-f]{3,8})$/,p5e=new RegExp(`^rgb\\(${hm},${hm},${hm}\\)$`),g5e=new RegExp(`^rgb\\(${vl},${vl},${vl}\\)$`),v5e=new RegExp(`^rgba\\(${hm},${hm},${hm},${Cv}\\)$`),x5e=new RegExp(`^rgba\\(${vl},${vl},${vl},${Cv}\\)$`),y5e=new RegExp(`^hsl\\(${Cv},${vl},${vl}\\)$`),w5e=new RegExp(`^hsla\\(${Cv},${vl},${vl},${Cv}\\)$`),RL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};i4(Xx,Tv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:IL,formatHex:IL,formatHex8:b5e,formatHsl:_5e,formatRgb:ML,toString:ML});function IL(){return this.rgb().formatHex()}function b5e(){return this.rgb().formatHex8()}function _5e(){return AY(this).formatHsl()}function ML(){return this.rgb().formatRgb()}function Tv(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=m5e.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?FL(r):n===3?new Ns(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?l1(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?l1(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=p5e.exec(e))?new Ns(r[1],r[2],r[3],1):(r=g5e.exec(e))?new Ns(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=v5e.exec(e))?l1(r[1],r[2],r[3],r[4]):(r=x5e.exec(e))?l1(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=y5e.exec(e))?BL(r[1],r[2]/100,r[3]/100,1):(r=w5e.exec(e))?BL(r[1],r[2]/100,r[3]/100,r[4]):RL.hasOwnProperty(e)?FL(RL[e]):e==="transparent"?new Ns(NaN,NaN,NaN,0):null}function FL(e){return new Ns(e>>16&255,e>>8&255,e&255,1)}function l1(e,r,n,a){return a<=0&&(e=r=n=NaN),new Ns(e,r,n,a)}function S5e(e){return e instanceof Xx||(e=Tv(e)),e?(e=e.rgb(),new Ns(e.r,e.g,e.b,e.opacity)):new Ns}function xC(e,r,n,a){return arguments.length===1?S5e(e):new Ns(e,r,n,a??1)}function Ns(e,r,n,a){this.r=+e,this.g=+r,this.b=+n,this.opacity=+a}i4(Ns,xC,TY(Xx,{brighter(e){return e=e==null?xb:Math.pow(xb,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ev:Math.pow(Ev,e),new Ns(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ns(sf(this.r),sf(this.g),sf(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LL,formatHex:LL,formatHex8:j5e,formatRgb:$L,toString:$L}));function LL(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}`}function j5e(){return`#${$d(this.r)}${$d(this.g)}${$d(this.b)}${$d((isNaN(this.opacity)?1:this.opacity)*255)}`}function $L(){const e=yb(this.opacity);return`${e===1?"rgb(":"rgba("}${sf(this.r)}, ${sf(this.g)}, ${sf(this.b)}${e===1?")":`, ${e})`}`}function yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $d(e){return e=sf(e),(e<16?"0":"")+e.toString(16)}function BL(e,r,n,a){return a<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new xo(e,r,n,a)}function AY(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof Xx||(e=Tv(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var r=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(r,n,a),i=Math.max(r,n,a),o=NaN,c=i-s,u=(i+s)/2;return c?(r===i?o=(n-a)/c+(n<a)*6:n===i?o=(a-r)/c+2:o=(r-n)/c+4,c/=u<.5?i+s:2-i-s,o*=60):c=u>0&&u<1?0:o,new xo(o,c,u,e.opacity)}function k5e(e,r,n,a){return arguments.length===1?AY(e):new xo(e,r,n,a??1)}function xo(e,r,n,a){this.h=+e,this.s=+r,this.l=+n,this.opacity=+a}i4(xo,k5e,TY(Xx,{brighter(e){return e=e==null?xb:Math.pow(xb,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ev:Math.pow(Ev,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*r,s=2*n-a;return new Ns(dN(e>=240?e-240:e+120,s,a),dN(e,s,a),dN(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new xo(UL(this.h),c1(this.s),c1(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yb(this.opacity);return`${e===1?"hsl(":"hsla("}${UL(this.h)}, ${c1(this.s)*100}%, ${c1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UL(e){return e=(e||0)%360,e<0?e+360:e}function c1(e){return Math.max(0,Math.min(1,e||0))}function dN(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}const o4=e=>()=>e;function N5e(e,r){return function(n){return e+n*r}}function E5e(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(a){return Math.pow(e+a*r,n)}}function C5e(e){return(e=+e)==1?OY:function(r,n){return n-r?E5e(r,n,e):o4(isNaN(r)?n:r)}}function OY(e,r){var n=r-e;return n?N5e(e,n):o4(isNaN(e)?r:e)}const VL=function e(r){var n=C5e(r);function a(s,i){var o=n((s=xC(s)).r,(i=xC(i)).r),c=n(s.g,i.g),u=n(s.b,i.b),d=OY(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=c(f),s.b=u(f),s.opacity=d(f),s+""}}return a.gamma=e,a}(1);function T5e(e,r){r||(r=[]);var n=e?Math.min(r.length,e.length):0,a=r.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=e[s]*(1-i)+r[s]*i;return a}}function A5e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O5e(e,r){var n=r?r.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=n0(e[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(c){for(o=0;o<a;++o)i[o]=s[o](c);return i}}function P5e(e,r){var n=new Date;return e=+e,r=+r,function(a){return n.setTime(e*(1-a)+r*a),n}}function wb(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}function D5e(e,r){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(s in r)s in e?n[s]=n0(e[s],r[s]):a[s]=r[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var yC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fN=new RegExp(yC.source,"g");function R5e(e){return function(){return e}}function I5e(e){return function(r){return e(r)+""}}function M5e(e,r){var n=yC.lastIndex=fN.lastIndex=0,a,s,i,o=-1,c=[],u=[];for(e=e+"",r=r+"";(a=yC.exec(e))&&(s=fN.exec(r));)(i=s.index)>n&&(i=r.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(a=a[0])===(s=s[0])?c[o]?c[o]+=s:c[++o]=s:(c[++o]=null,u.push({i:o,x:wb(a,s)})),n=fN.lastIndex;return n<r.length&&(i=r.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?I5e(u[0].x):R5e(r):(r=u.length,function(d){for(var f=0,h;f<r;++f)c[(h=u[f]).i]=h.x(d);return c.join("")})}function n0(e,r){var n=typeof r,a;return r==null||n==="boolean"?o4(r):(n==="number"?wb:n==="string"?(a=Tv(r))?(r=a,VL):M5e:r instanceof Tv?VL:r instanceof Date?P5e:A5e(r)?T5e:Array.isArray(r)?O5e:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?D5e:wb)(e,r)}function l4(e,r){return e=+e,r=+r,function(n){return Math.round(e*(1-n)+r*n)}}function F5e(e,r){r===void 0&&(r=e,e=n0);for(var n=0,a=r.length-1,s=r[0],i=new Array(a<0?0:a);n<a;)i[n]=e(s,s=r[++n]);return function(o){var c=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[c](o-c)}}function L5e(e){return function(){return e}}function bb(e){return+e}var zL=[0,1];function os(e){return e}function wC(e,r){return(r-=e=+e)?function(n){return(n-e)/r}:L5e(isNaN(r)?NaN:.5)}function $5e(e,r){var n;return e>r&&(n=e,e=r,r=n),function(a){return Math.max(e,Math.min(r,a))}}function B5e(e,r,n){var a=e[0],s=e[1],i=r[0],o=r[1];return s<a?(a=wC(s,a),i=n(o,i)):(a=wC(a,s),i=n(i,o)),function(c){return i(a(c))}}function U5e(e,r,n){var a=Math.min(e.length,r.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<a;)s[o]=wC(e[o],e[o+1]),i[o]=n(r[o],r[o+1]);return function(c){var u=Yx(e,c,1,a)-1;return i[u](s[u](c))}}function Jx(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function VS(){var e=zL,r=zL,n=n0,a,s,i,o=os,c,u,d;function f(){var m=Math.min(e.length,r.length);return o!==os&&(o=$5e(e[0],e[m-1])),c=m>2?U5e:B5e,u=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(u||(u=c(e.map(a),r,n)))(a(o(m)))}return h.invert=function(m){return o(s((d||(d=c(r,e.map(a),wb)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,bb),f()):e.slice()},h.range=function(m){return arguments.length?(r=Array.from(m),f()):r.slice()},h.rangeRound=function(m){return r=Array.from(m),n=l4,f()},h.clamp=function(m){return arguments.length?(o=m?!0:os,f()):o!==os},h.interpolate=function(m){return arguments.length?(n=m,f()):n},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,p){return a=m,s=p,f()}}function c4(){return VS()(os,os)}function V5e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _b(e,r){if((n=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function tp(e){return e=_b(Math.abs(e)),e?e[1]:NaN}function z5e(e,r){return function(n,a){for(var s=n.length,i=[],o=0,c=e[0],u=0;s>0&&c>0&&(u+c+1>a&&(c=Math.max(1,a-u)),i.push(n.substring(s-=c,s+c)),!((u+=c+1)>a));)c=e[o=(o+1)%e.length];return i.reverse().join(r)}}function W5e(e){return function(r){return r.replace(/[0-9]/g,function(n){return e[+n]})}}var H5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Av(e){if(!(r=H5e.exec(e)))throw new Error("invalid format: "+e);var r;return new u4({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Av.prototype=u4.prototype;function u4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}u4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function q5e(e){e:for(var r=e.length,n=1,a=-1,s;n<r;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var PY;function K5e(e,r){var n=_b(e,r);if(!n)return e+"";var a=n[0],s=n[1],i=s-(PY=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+_b(e,Math.max(0,r+i-1))[0]}function WL(e,r){var n=_b(e,r);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const HL={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:V5e,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>WL(e*100,r),r:WL,s:K5e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qL(e){return e}var KL=Array.prototype.map,GL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function G5e(e){var r=e.grouping===void 0||e.thousands===void 0?qL:z5e(KL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qL:W5e(KL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(h){h=Av(h);var m=h.fill,p=h.align,v=h.sign,g=h.symbol,x=h.zero,b=h.width,w=h.comma,_=h.precision,S=h.trim,j=h.type;j==="n"?(w=!0,j="g"):HL[j]||(_===void 0&&(_=12),S=!0,j="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var N=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=g==="$"?a:/[%p]/.test(j)?o:"",C=HL[j],E=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(I){var T=N,U=k,H,F,M;if(j==="c")U=C(I)+U,I="";else{I=+I;var z=I<0||1/I<0;if(I=isNaN(I)?u:C(Math.abs(I),_),S&&(I=q5e(I)),z&&+I==0&&v!=="+"&&(z=!1),T=(z?v==="("?v:c:v==="-"||v==="("?"":v)+T,U=(j==="s"?GL[8+PY/3]:"")+U+(z&&v==="("?")":""),E){for(H=-1,F=I.length;++H<F;)if(M=I.charCodeAt(H),48>M||M>57){U=(M===46?s+I.slice(H+1):I.slice(H))+U,I=I.slice(0,H);break}}}w&&!x&&(I=r(I,1/0));var L=T.length+I.length+U.length,R=L<b?new Array(b-L+1).join(m):"";switch(w&&x&&(I=r(R+I,R.length?b-U.length:1/0),R=""),p){case"<":I=T+I+U+R;break;case"=":I=T+R+I+U;break;case"^":I=R.slice(0,L=R.length>>1)+T+I+U+R.slice(L);break;default:I=R+T+I+U;break}return i(I)}return P.toString=function(){return h+""},P}function f(h,m){var p=d((h=Av(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(tp(m)/3)))*3,g=Math.pow(10,-v),x=GL[8+v/3];return function(b){return p(g*b)+x}}return{format:d,formatPrefix:f}}var u1,d4,DY;Y5e({thousands:",",grouping:[3],currency:["$",""]});function Y5e(e){return u1=G5e(e),d4=u1.format,DY=u1.formatPrefix,u1}function X5e(e){return Math.max(0,-tp(Math.abs(e)))}function J5e(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tp(r)/3)))*3-tp(Math.abs(e)))}function Q5e(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,tp(r)-tp(e))+1}function RY(e,r,n,a){var s=gC(e,r,n),i;switch(a=Av(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return a.precision==null&&!isNaN(i=J5e(s,o))&&(a.precision=i),DY(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Q5e(s,Math.max(Math.abs(e),Math.abs(r))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=X5e(s))&&(a.precision=i-(a.type==="%")*2);break}}return d4(a)}function nd(e){var r=e.domain;return e.ticks=function(n){var a=r();return mC(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=r();return RY(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=r(),s=0,i=a.length-1,o=a[s],c=a[i],u,d,f=10;for(c<o&&(d=o,o=c,c=d,d=s,s=i,i=d);f-- >0;){if(d=pC(o,c,n),d===u)return a[s]=o,a[i]=c,r(a);if(d>0)o=Math.floor(o/d)*d,c=Math.ceil(c/d)*d;else if(d<0)o=Math.ceil(o*d)/d,c=Math.floor(c*d)/d;else break;u=d}return e},e}function Sb(){var e=c4();return e.copy=function(){return Jx(e,Sb())},Yi.apply(e,arguments),nd(e)}function IY(e){var r;function n(a){return a==null||isNaN(a=+a)?r:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,bb),n):e.slice()},n.unknown=function(a){return arguments.length?(r=a,n):r},n.copy=function(){return IY(e).unknown(r)},e=arguments.length?Array.from(e,bb):[0,1],nd(n)}function MY(e,r){e=e.slice();var n=0,a=e.length-1,s=e[n],i=e[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),e[n]=r.floor(s),e[a]=r.ceil(i),e}function YL(e){return Math.log(e)}function XL(e){return Math.exp(e)}function Z5e(e){return-Math.log(-e)}function e8e(e){return-Math.exp(-e)}function t8e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function r8e(e){return e===10?t8e:e===Math.E?Math.exp:r=>Math.pow(e,r)}function n8e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function JL(e){return(r,n)=>-e(-r,n)}function f4(e){const r=e(YL,XL),n=r.domain;let a=10,s,i;function o(){return s=n8e(a),i=r8e(a),n()[0]<0?(s=JL(s),i=JL(i),e(Z5e,e8e)):e(YL,XL),r}return r.base=function(c){return arguments.length?(a=+c,o()):a},r.domain=function(c){return arguments.length?(n(c),o()):n()},r.ticks=c=>{const u=n();let d=u[0],f=u[u.length-1];const h=f<d;h&&([d,f]=[f,d]);let m=s(d),p=s(f),v,g;const x=c==null?10:+c;let b=[];if(!(a%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),d>0){for(;m<=p;++m)for(v=1;v<a;++v)if(g=m<0?v/i(-m):v*i(m),!(g<d)){if(g>f)break;b.push(g)}}else for(;m<=p;++m)for(v=a-1;v>=1;--v)if(g=m>0?v/i(-m):v*i(m),!(g<d)){if(g>f)break;b.push(g)}b.length*2<x&&(b=mC(d,f,x))}else b=mC(m,p,Math.min(p-m,x)).map(i);return h?b.reverse():b},r.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Av(u)).precision==null&&(u.trim=!0),u=d4(u)),c===1/0)return u;const d=Math.max(1,a*c/r.ticks().length);return f=>{let h=f/i(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=d?u(f):""}},r.nice=()=>n(MY(n(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),r}function FY(){const e=f4(VS()).domain([1,10]);return e.copy=()=>Jx(e,FY()).base(e.base()),Yi.apply(e,arguments),e}function QL(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function ZL(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function h4(e){var r=1,n=e(QL(r),ZL(r));return n.constant=function(a){return arguments.length?e(QL(r=+a),ZL(r)):r},nd(n)}function LY(){var e=h4(VS());return e.copy=function(){return Jx(e,LY()).constant(e.constant())},Yi.apply(e,arguments)}function e$(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function a8e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function s8e(e){return e<0?-e*e:e*e}function m4(e){var r=e(os,os),n=1;function a(){return n===1?e(os,os):n===.5?e(a8e,s8e):e(e$(n),e$(1/n))}return r.exponent=function(s){return arguments.length?(n=+s,a()):n},nd(r)}function p4(){var e=m4(VS());return e.copy=function(){return Jx(e,p4()).exponent(e.exponent())},Yi.apply(e,arguments),e}function i8e(){return p4.apply(null,arguments).exponent(.5)}function t$(e){return Math.sign(e)*e*e}function o8e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $Y(){var e=c4(),r=[0,1],n=!1,a;function s(i){var o=o8e(e(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return e.invert(t$(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((r=Array.from(i,bb)).map(t$)),s):r.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return $Y(e.domain(),r).round(n).clamp(e.clamp()).unknown(a)},Yi.apply(s,arguments),nd(s)}function BY(){var e=[],r=[],n=[],a;function s(){var o=0,c=Math.max(1,r.length);for(n=new Array(c-1);++o<c;)n[o-1]=f5e(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?a:r[Yx(n,o)]}return i.invertExtent=function(o){var c=r.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Pu),s()},i.range=function(o){return arguments.length?(r=Array.from(o),s()):r.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return BY().domain(e).range(r).unknown(a)},Yi.apply(i,arguments)}function UY(){var e=0,r=1,n=1,a=[.5],s=[0,1],i;function o(u){return u!=null&&u<=u?s[Yx(a,u,0,n)]:i}function c(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*r-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,r]=u,e=+e,r=+r,c()):[e,r]},o.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,c()):s.slice()},o.invertExtent=function(u){var d=s.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=n?[a[n-1],r]:[a[d-1],a[d]]},o.unknown=function(u){return arguments.length&&(i=u),o},o.thresholds=function(){return a.slice()},o.copy=function(){return UY().domain([e,r]).range(s).unknown(i)},Yi.apply(nd(o),arguments)}function VY(){var e=[.5],r=[0,1],n,a=1;function s(i){return i!=null&&i<=i?r[Yx(e,i,0,a)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,r.length-1),s):e.slice()},s.range=function(i){return arguments.length?(r=Array.from(i),a=Math.min(e.length,r.length-1),s):r.slice()},s.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return VY().domain(e).range(r).unknown(n)},Yi.apply(s,arguments)}const hN=new Date,mN=new Date;function Hn(e,r,n,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),s.round=i=>{const o=s(i),c=s.ceil(i);return i-o<c-i?o:c},s.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,c)=>{const u=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let d;do u.push(d=new Date(+i)),r(i,c),e(i);while(d<i&&i<o);return u},s.filter=i=>Hn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;r(o,-1),!i(o););else for(;--c>=0;)for(;r(o,1),!i(o););}),n&&(s.count=(i,o)=>(hN.setTime(+i),mN.setTime(+o),e(hN),e(mN),Math.floor(n(hN,mN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const jb=Hn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hn(r=>{r.setTime(Math.floor(r/e)*e)},(r,n)=>{r.setTime(+r+n*e)},(r,n)=>(n-r)/e):jb);jb.range;const tc=1e3,Fi=tc*60,rc=Fi*60,_c=rc*24,g4=_c*7,r$=_c*30,pN=_c*365,Bd=Hn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*tc)},(e,r)=>(r-e)/tc,e=>e.getUTCSeconds());Bd.range;const v4=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getMinutes());v4.range;const x4=Hn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*Fi)},(e,r)=>(r-e)/Fi,e=>e.getUTCMinutes());x4.range;const y4=Hn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tc-e.getMinutes()*Fi)},(e,r)=>{e.setTime(+e+r*rc)},(e,r)=>(r-e)/rc,e=>e.getHours());y4.range;const w4=Hn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*rc)},(e,r)=>(r-e)/rc,e=>e.getUTCHours());w4.range;const Qx=Hn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Fi)/_c,e=>e.getDate()-1);Qx.range;const zS=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_c,e=>e.getUTCDate()-1);zS.range;const zY=Hn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/_c,e=>Math.floor(e/_c));zY.range;function Gf(e){return Hn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*Fi)/g4)}const WS=Gf(0),kb=Gf(1),l8e=Gf(2),c8e=Gf(3),rp=Gf(4),u8e=Gf(5),d8e=Gf(6);WS.range;kb.range;l8e.range;c8e.range;rp.range;u8e.range;d8e.range;function Yf(e){return Hn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/g4)}const HS=Yf(0),Nb=Yf(1),f8e=Yf(2),h8e=Yf(3),np=Yf(4),m8e=Yf(5),p8e=Yf(6);HS.range;Nb.range;f8e.range;h8e.range;np.range;m8e.range;p8e.range;const b4=Hn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b4.range;const _4=Hn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_4.range;const Sc=Hn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*e)});Sc.range;const jc=Hn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());jc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*e)});jc.range;function WY(e,r,n,a,s,i){const o=[[Bd,1,tc],[Bd,5,5*tc],[Bd,15,15*tc],[Bd,30,30*tc],[i,1,Fi],[i,5,5*Fi],[i,15,15*Fi],[i,30,30*Fi],[s,1,rc],[s,3,3*rc],[s,6,6*rc],[s,12,12*rc],[a,1,_c],[a,2,2*_c],[n,1,g4],[r,1,r$],[r,3,3*r$],[e,1,pN]];function c(d,f,h){const m=f<d;m&&([d,f]=[f,d]);const p=h&&typeof h.range=="function"?h:u(d,f,h),v=p?p.range(d,+f+1):[];return m?v.reverse():v}function u(d,f,h){const m=Math.abs(f-d)/h,p=a4(([,,x])=>x).right(o,m);if(p===o.length)return e.every(gC(d/pN,f/pN,h));if(p===0)return jb.every(Math.max(gC(d,f,h),1));const[v,g]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return v.every(g)}return[c,u]}const[g8e,v8e]=WY(jc,_4,HS,zY,w4,x4),[x8e,y8e]=WY(Sc,b4,WS,Qx,y4,v4);function gN(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vN(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function E0(e,r,n){return{y:e,m:r,d:n,H:0,M:0,S:0,L:0}}function w8e(e){var r=e.dateTime,n=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,d=C0(s),f=T0(s),h=C0(i),m=T0(i),p=C0(o),v=T0(o),g=C0(c),x=T0(c),b=C0(u),w=T0(u),_={a:z,A:L,b:R,B:J,c:null,d:l$,e:l$,f:z8e,g:Z8e,G:t6e,H:B8e,I:U8e,j:V8e,L:HY,m:W8e,M:H8e,p:te,q:A,Q:d$,s:f$,S:q8e,u:K8e,U:G8e,V:Y8e,w:X8e,W:J8e,x:null,X:null,y:Q8e,Y:e6e,Z:r6e,"%":u$},S={a:X,A:V,b:q,B:ae,c:null,d:c$,e:c$,f:i6e,g:g6e,G:x6e,H:n6e,I:a6e,j:s6e,L:KY,m:o6e,M:l6e,p:ce,q:me,Q:d$,s:f$,S:c6e,u:u6e,U:d6e,V:f6e,w:h6e,W:m6e,x:null,X:null,y:p6e,Y:v6e,Z:y6e,"%":u$},j={a:P,A:I,b:T,B:U,c:H,d:i$,e:i$,f:M8e,g:s$,G:a$,H:o$,I:o$,j:P8e,L:I8e,m:O8e,M:D8e,p:E,q:A8e,Q:L8e,s:$8e,S:R8e,u:k8e,U:N8e,V:E8e,w:j8e,W:C8e,x:F,X:M,y:s$,Y:a$,Z:T8e,"%":F8e};_.x=N(n,_),_.X=N(a,_),_.c=N(r,_),S.x=N(n,S),S.X=N(a,S),S.c=N(r,S);function N(ie,Q){return function(de){var D=[],Be=-1,Le=0,Ue=ie.length,ze,De,mt;for(de instanceof Date||(de=new Date(+de));++Be<Ue;)ie.charCodeAt(Be)===37&&(D.push(ie.slice(Le,Be)),(De=n$[ze=ie.charAt(++Be)])!=null?ze=ie.charAt(++Be):De=ze==="e"?" ":"0",(mt=Q[ze])&&(ze=mt(de,De)),D.push(ze),Le=Be+1);return D.push(ie.slice(Le,Be)),D.join("")}}function k(ie,Q){return function(de){var D=E0(1900,void 0,1),Be=C(D,ie,de+="",0),Le,Ue;if(Be!=de.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(Q&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(Le=vN(E0(D.y,0,1)),Ue=Le.getUTCDay(),Le=Ue>4||Ue===0?Nb.ceil(Le):Nb(Le),Le=zS.offset(Le,(D.V-1)*7),D.y=Le.getUTCFullYear(),D.m=Le.getUTCMonth(),D.d=Le.getUTCDate()+(D.w+6)%7):(Le=gN(E0(D.y,0,1)),Ue=Le.getDay(),Le=Ue>4||Ue===0?kb.ceil(Le):kb(Le),Le=Qx.offset(Le,(D.V-1)*7),D.y=Le.getFullYear(),D.m=Le.getMonth(),D.d=Le.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),Ue="Z"in D?vN(E0(D.y,0,1)).getUTCDay():gN(E0(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(Ue+5)%7:D.w+D.U*7-(Ue+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,vN(D)):gN(D)}}function C(ie,Q,de,D){for(var Be=0,Le=Q.length,Ue=de.length,ze,De;Be<Le;){if(D>=Ue)return-1;if(ze=Q.charCodeAt(Be++),ze===37){if(ze=Q.charAt(Be++),De=j[ze in n$?Q.charAt(Be++):ze],!De||(D=De(ie,de,D))<0)return-1}else if(ze!=de.charCodeAt(D++))return-1}return D}function E(ie,Q,de){var D=d.exec(Q.slice(de));return D?(ie.p=f.get(D[0].toLowerCase()),de+D[0].length):-1}function P(ie,Q,de){var D=p.exec(Q.slice(de));return D?(ie.w=v.get(D[0].toLowerCase()),de+D[0].length):-1}function I(ie,Q,de){var D=h.exec(Q.slice(de));return D?(ie.w=m.get(D[0].toLowerCase()),de+D[0].length):-1}function T(ie,Q,de){var D=b.exec(Q.slice(de));return D?(ie.m=w.get(D[0].toLowerCase()),de+D[0].length):-1}function U(ie,Q,de){var D=g.exec(Q.slice(de));return D?(ie.m=x.get(D[0].toLowerCase()),de+D[0].length):-1}function H(ie,Q,de){return C(ie,r,Q,de)}function F(ie,Q,de){return C(ie,n,Q,de)}function M(ie,Q,de){return C(ie,a,Q,de)}function z(ie){return o[ie.getDay()]}function L(ie){return i[ie.getDay()]}function R(ie){return u[ie.getMonth()]}function J(ie){return c[ie.getMonth()]}function te(ie){return s[+(ie.getHours()>=12)]}function A(ie){return 1+~~(ie.getMonth()/3)}function X(ie){return o[ie.getUTCDay()]}function V(ie){return i[ie.getUTCDay()]}function q(ie){return u[ie.getUTCMonth()]}function ae(ie){return c[ie.getUTCMonth()]}function ce(ie){return s[+(ie.getUTCHours()>=12)]}function me(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var Q=N(ie+="",_);return Q.toString=function(){return ie},Q},parse:function(ie){var Q=k(ie+="",!1);return Q.toString=function(){return ie},Q},utcFormat:function(ie){var Q=N(ie+="",S);return Q.toString=function(){return ie},Q},utcParse:function(ie){var Q=k(ie+="",!0);return Q.toString=function(){return ie},Q}}}var n$={"-":"",_:" ",0:"0"},ta=/^\s*\d+/,b8e=/^%/,_8e=/[\\^$*+?|[\]().{}]/g;function fr(e,r,n){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(r)+s:s)}function S8e(e){return e.replace(_8e,"\\$&")}function C0(e){return new RegExp("^(?:"+e.map(S8e).join("|")+")","i")}function T0(e){return new Map(e.map((r,n)=>[r.toLowerCase(),n]))}function j8e(e,r,n){var a=ta.exec(r.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function k8e(e,r,n){var a=ta.exec(r.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function N8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function E8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function C8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function a$(e,r,n){var a=ta.exec(r.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function s$(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function T8e(e,r,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function A8e(e,r,n){var a=ta.exec(r.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function O8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function i$(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function P8e(e,r,n){var a=ta.exec(r.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function o$(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function D8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function R8e(e,r,n){var a=ta.exec(r.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function I8e(e,r,n){var a=ta.exec(r.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function M8e(e,r,n){var a=ta.exec(r.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function F8e(e,r,n){var a=b8e.exec(r.slice(n,n+1));return a?n+a[0].length:-1}function L8e(e,r,n){var a=ta.exec(r.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function $8e(e,r,n){var a=ta.exec(r.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function l$(e,r){return fr(e.getDate(),r,2)}function B8e(e,r){return fr(e.getHours(),r,2)}function U8e(e,r){return fr(e.getHours()%12||12,r,2)}function V8e(e,r){return fr(1+Qx.count(Sc(e),e),r,3)}function HY(e,r){return fr(e.getMilliseconds(),r,3)}function z8e(e,r){return HY(e,r)+"000"}function W8e(e,r){return fr(e.getMonth()+1,r,2)}function H8e(e,r){return fr(e.getMinutes(),r,2)}function q8e(e,r){return fr(e.getSeconds(),r,2)}function K8e(e){var r=e.getDay();return r===0?7:r}function G8e(e,r){return fr(WS.count(Sc(e)-1,e),r,2)}function qY(e){var r=e.getDay();return r>=4||r===0?rp(e):rp.ceil(e)}function Y8e(e,r){return e=qY(e),fr(rp.count(Sc(e),e)+(Sc(e).getDay()===4),r,2)}function X8e(e){return e.getDay()}function J8e(e,r){return fr(kb.count(Sc(e)-1,e),r,2)}function Q8e(e,r){return fr(e.getFullYear()%100,r,2)}function Z8e(e,r){return e=qY(e),fr(e.getFullYear()%100,r,2)}function e6e(e,r){return fr(e.getFullYear()%1e4,r,4)}function t6e(e,r){var n=e.getDay();return e=n>=4||n===0?rp(e):rp.ceil(e),fr(e.getFullYear()%1e4,r,4)}function r6e(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+fr(r/60|0,"0",2)+fr(r%60,"0",2)}function c$(e,r){return fr(e.getUTCDate(),r,2)}function n6e(e,r){return fr(e.getUTCHours(),r,2)}function a6e(e,r){return fr(e.getUTCHours()%12||12,r,2)}function s6e(e,r){return fr(1+zS.count(jc(e),e),r,3)}function KY(e,r){return fr(e.getUTCMilliseconds(),r,3)}function i6e(e,r){return KY(e,r)+"000"}function o6e(e,r){return fr(e.getUTCMonth()+1,r,2)}function l6e(e,r){return fr(e.getUTCMinutes(),r,2)}function c6e(e,r){return fr(e.getUTCSeconds(),r,2)}function u6e(e){var r=e.getUTCDay();return r===0?7:r}function d6e(e,r){return fr(HS.count(jc(e)-1,e),r,2)}function GY(e){var r=e.getUTCDay();return r>=4||r===0?np(e):np.ceil(e)}function f6e(e,r){return e=GY(e),fr(np.count(jc(e),e)+(jc(e).getUTCDay()===4),r,2)}function h6e(e){return e.getUTCDay()}function m6e(e,r){return fr(Nb.count(jc(e)-1,e),r,2)}function p6e(e,r){return fr(e.getUTCFullYear()%100,r,2)}function g6e(e,r){return e=GY(e),fr(e.getUTCFullYear()%100,r,2)}function v6e(e,r){return fr(e.getUTCFullYear()%1e4,r,4)}function x6e(e,r){var n=e.getUTCDay();return e=n>=4||n===0?np(e):np.ceil(e),fr(e.getUTCFullYear()%1e4,r,4)}function y6e(){return"+0000"}function u$(){return"%"}function d$(e){return+e}function f$(e){return Math.floor(+e/1e3)}var hh,YY,XY;w6e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w6e(e){return hh=w8e(e),YY=hh.format,hh.parse,XY=hh.utcFormat,hh.utcParse,hh}function b6e(e){return new Date(e)}function _6e(e){return e instanceof Date?+e:+new Date(+e)}function S4(e,r,n,a,s,i,o,c,u,d){var f=c4(),h=f.invert,m=f.domain,p=d(".%L"),v=d(":%S"),g=d("%I:%M"),x=d("%I %p"),b=d("%a %d"),w=d("%b %d"),_=d("%B"),S=d("%Y");function j(N){return(u(N)<N?p:c(N)<N?v:o(N)<N?g:i(N)<N?x:a(N)<N?s(N)<N?b:w:n(N)<N?_:S)(N)}return f.invert=function(N){return new Date(h(N))},f.domain=function(N){return arguments.length?m(Array.from(N,_6e)):m().map(b6e)},f.ticks=function(N){var k=m();return e(k[0],k[k.length-1],N??10)},f.tickFormat=function(N,k){return k==null?j:d(k)},f.nice=function(N){var k=m();return(!N||typeof N.range!="function")&&(N=r(k[0],k[k.length-1],N??10)),N?m(MY(k,N)):f},f.copy=function(){return Jx(f,S4(e,r,n,a,s,i,o,c,u,d))},f}function S6e(){return Yi.apply(S4(x8e,y8e,Sc,b4,WS,Qx,y4,v4,Bd,YY).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j6e(){return Yi.apply(S4(g8e,v8e,jc,_4,HS,zS,w4,x4,Bd,XY).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qS(){var e=0,r=1,n,a,s,i,o=os,c=!1,u;function d(h){return h==null||isNaN(h=+h)?u:o(s===0?.5:(h=(i(h)-n)*s,c?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,r]=h,n=i(e=+e),a=i(r=+r),s=n===a?0:1/(a-n),d):[e,r]},d.clamp=function(h){return arguments.length?(c=!!h,d):c},d.interpolator=function(h){return arguments.length?(o=h,d):o};function f(h){return function(m){var p,v;return arguments.length?([p,v]=m,o=h(p,v),d):[o(0),o(1)]}}return d.range=f(n0),d.rangeRound=f(l4),d.unknown=function(h){return arguments.length?(u=h,d):u},function(h){return i=h,n=h(e),a=h(r),s=n===a?0:1/(a-n),d}}function ad(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JY(){var e=nd(qS()(os));return e.copy=function(){return ad(e,JY())},Oc.apply(e,arguments)}function QY(){var e=f4(qS()).domain([1,10]);return e.copy=function(){return ad(e,QY()).base(e.base())},Oc.apply(e,arguments)}function ZY(){var e=h4(qS());return e.copy=function(){return ad(e,ZY()).constant(e.constant())},Oc.apply(e,arguments)}function j4(){var e=m4(qS());return e.copy=function(){return ad(e,j4()).exponent(e.exponent())},Oc.apply(e,arguments)}function k6e(){return j4.apply(null,arguments).exponent(.5)}function eX(){var e=[],r=os;function n(a){if(a!=null&&!isNaN(a=+a))return r((Yx(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Pu),n},n.interpolator=function(a){return arguments.length?(r=a,n):r},n.range=function(){return e.map((a,s)=>r(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>d5e(e,i/a))},n.copy=function(){return eX(r).domain(e)},Oc.apply(n,arguments)}function KS(){var e=0,r=.5,n=1,a=1,s,i,o,c,u,d=os,f,h=!1,m;function p(g){return isNaN(g=+g)?m:(g=.5+((g=+f(g))-i)*(a*g<a*i?c:u),d(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,r,n]=g,s=f(e=+e),i=f(r=+r),o=f(n=+n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p):[e,r,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(d=g,p):d};function v(g){return function(x){var b,w,_;return arguments.length?([b,w,_]=x,d=F5e(g,[b,w,_]),p):[d(0),d(.5),d(1)]}}return p.range=v(n0),p.rangeRound=v(l4),p.unknown=function(g){return arguments.length?(m=g,p):m},function(g){return f=g,s=g(e),i=g(r),o=g(n),c=s===i?0:.5/(i-s),u=i===o?0:.5/(o-i),a=i<s?-1:1,p}}function tX(){var e=nd(KS()(os));return e.copy=function(){return ad(e,tX())},Oc.apply(e,arguments)}function rX(){var e=f4(KS()).domain([.1,1,10]);return e.copy=function(){return ad(e,rX()).base(e.base())},Oc.apply(e,arguments)}function nX(){var e=h4(KS());return e.copy=function(){return ad(e,nX()).constant(e.constant())},Oc.apply(e,arguments)}function k4(){var e=m4(KS());return e.copy=function(){return ad(e,k4()).exponent(e.exponent())},Oc.apply(e,arguments)}function N6e(){return k4.apply(null,arguments).exponent(.5)}const h$=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nv,scaleDiverging:tX,scaleDivergingLog:rX,scaleDivergingPow:k4,scaleDivergingSqrt:N6e,scaleDivergingSymlog:nX,scaleIdentity:IY,scaleImplicit:vC,scaleLinear:Sb,scaleLog:FY,scaleOrdinal:s4,scalePoint:kg,scalePow:p4,scaleQuantile:BY,scaleQuantize:UY,scaleRadial:$Y,scaleSequential:JY,scaleSequentialLog:QY,scaleSequentialPow:j4,scaleSequentialQuantile:eX,scaleSequentialSqrt:k6e,scaleSequentialSymlog:ZY,scaleSqrt:i8e,scaleSymlog:LY,scaleThreshold:VY,scaleTime:S6e,scaleUtc:j6e,tickFormat:RY},Symbol.toStringTag,{value:"Module"}));var E6e=Gp;function C6e(e,r,n){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=r(i);if(o!=null&&(c===void 0?o===o&&!E6e(o):n(o,c)))var c=o,u=i}return u}var GS=C6e;function T6e(e,r){return e>r}var aX=T6e,A6e=GS,O6e=aX,P6e=r0;function D6e(e){return e&&e.length?A6e(e,P6e,O6e):void 0}var R6e=D6e;const YS=xr(R6e);function I6e(e,r){return e<r}var sX=I6e,M6e=GS,F6e=sX,L6e=r0;function $6e(e){return e&&e.length?M6e(e,L6e,F6e):void 0}var B6e=$6e;const XS=xr(B6e);var U6e=LP,V6e=Fl,z6e=hY,W6e=qs;function H6e(e,r){var n=W6e(e)?U6e:z6e;return n(e,V6e(r))}var q6e=H6e,K6e=dY,G6e=q6e;function Y6e(e,r){return K6e(G6e(e,r),1)}var X6e=Y6e;const J6e=xr(X6e);var Q6e=ZP;function Z6e(e,r){return Q6e(e,r)}var eBe=Z6e;const Zx=xr(eBe);var a0=1e9,tBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E4,Xr=!0,Hi="[DecimalError] ",of=Hi+"Invalid argument: ",N4=Hi+"Exponent out of range: ",s0=Math.floor,bd=Math.pow,rBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,si,Gn=1e7,Wr=7,iX=9007199254740991,Eb=s0(iX/Wr),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var r,n,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,r=0,n=a<s?a:s;r<n;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,r=e.d.length-1,n=(r-e.e)*Wr;if(r=e.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};lt.dividedBy=lt.div=function(e){return lc(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var r=this,n=r.constructor;return Tr(lc(r,new n(e),0,1),n.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return On(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var r,n=this,a=n.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(si))throw Error(Hi+"NaN");if(n.s<1)throw Error(Hi+(n.s?"NaN":"-Infinity"));return n.eq(si)?new a(0):(Xr=!1,r=lc(Ov(n,i),Ov(e,i),i),Xr=!0,Tr(r,s))};lt.minus=lt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?cX(r,e):oX(r,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var r,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Hi+"NaN");return n.s?(Xr=!1,r=lc(n,e,0,1).times(e),Xr=!0,n.minus(r)):Tr(new a(n),s)};lt.naturalExponential=lt.exp=function(){return lX(this)};lt.naturalLogarithm=lt.ln=function(){return Ov(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?oX(r,e):cX(r,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var r,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(of+e);if(r=On(s)+1,a=s.d.length-1,n=a*Wr+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&r>n?r:n};lt.squareRoot=lt.sqrt=function(){var e,r,n,a,s,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Hi+"NaN")}for(e=On(c),Xr=!1,s=Math.sqrt(+c),s==0||s==1/0?(r=ul(c.d),(r.length+e)%2==0&&(r+="0"),s=Math.sqrt(r),e=s0((e+1)/2)-(e<0||e%2),s==1/0?r="5e"+e:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),a=new u(r)):a=new u(s.toString()),n=u.precision,s=o=n+3;;)if(i=a,a=i.plus(lc(c,i,o+2)).times(.5),ul(i.d).slice(0,o)===(r=ul(a.d)).slice(0,o)){if(r=r.slice(o-3,o+1),s==o&&r=="4999"){if(Tr(i,n+1,0),i.times(i).eq(c)){a=i;break}}else if(r!="9999")break;o+=4}return Xr=!0,Tr(a,n)};lt.times=lt.mul=function(e){var r,n,a,s,i,o,c,u,d,f=this,h=f.constructor,m=f.d,p=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=m.length,d=p.length,u<d&&(i=m,m=p,p=i,o=u,u=d,d=o),i=[],o=u+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(r=0,s=u+a;s>a;)c=i[s]+p[a]*m[s-a-1]+r,i[s--]=c%Gn|0,r=c/Gn|0;i[s]=(i[s]+r)%Gn|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),e.d=i,e.e=n,Xr?Tr(e,h.precision):e};lt.toDecimalPlaces=lt.todp=function(e,r){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(El(e,0,a0),r===void 0?r=a.rounding:El(r,0,8),Tr(n,e+On(n)+1,r))};lt.toExponential=function(e,r){var n,a=this,s=a.constructor;return e===void 0?n=Of(a,!0):(El(e,0,a0),r===void 0?r=s.rounding:El(r,0,8),a=Tr(new s(a),e+1,r),n=Of(a,!0,e+1)),n};lt.toFixed=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?Of(s):(El(e,0,a0),r===void 0?r=i.rounding:El(r,0,8),a=Tr(new i(s),e+On(s)+1,r),n=Of(a.abs(),!1,e+On(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};lt.toInteger=lt.toint=function(){var e=this,r=e.constructor;return Tr(new r(e),On(e)+1,r.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var r,n,a,s,i,o,c=this,u=c.constructor,d=12,f=+(e=new u(e));if(!e.s)return new u(si);if(c=new u(c),!c.s){if(e.s<1)throw Error(Hi+"Infinity");return c}if(c.eq(si))return c;if(a=u.precision,e.eq(si))return Tr(c,a);if(r=e.e,n=e.d.length-1,o=r>=n,i=c.s,o){if((n=f<0?-f:f)<=iX){for(s=new u(si),r=Math.ceil(a/Wr+4),Xr=!1;n%2&&(s=s.times(c),p$(s.d,r)),n=s0(n/2),n!==0;)c=c.times(c),p$(c.d,r);return Xr=!0,e.s<0?new u(si).div(s):Tr(s,a)}}else if(i<0)throw Error(Hi+"NaN");return i=i<0&&e.d[Math.max(r,n)]&1?-1:1,c.s=1,Xr=!1,s=e.times(Ov(c,a+d)),Xr=!0,s=lX(s),s.s=i,s};lt.toPrecision=function(e,r){var n,a,s=this,i=s.constructor;return e===void 0?(n=On(s),a=Of(s,n<=i.toExpNeg||n>=i.toExpPos)):(El(e,1,a0),r===void 0?r=i.rounding:El(r,0,8),s=Tr(new i(s),e,r),n=On(s),a=Of(s,e<=n||n<=i.toExpNeg,e)),a};lt.toSignificantDigits=lt.tosd=function(e,r){var n=this,a=n.constructor;return e===void 0?(e=a.precision,r=a.rounding):(El(e,1,a0),r===void 0?r=a.rounding:El(r,0,8)),Tr(new a(n),e,r)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=On(e),n=e.constructor;return Of(e,r<=n.toExpNeg||r>=n.toExpPos)};function oX(e,r){var n,a,s,i,o,c,u,d,f=e.constructor,h=f.precision;if(!e.s||!r.s)return r.s||(r=new f(e)),Xr?Tr(r,h):r;if(u=e.d,d=r.d,o=e.e,s=r.e,u=u.slice(),i=o-s,i){for(i<0?(a=u,i=-i,c=d.length):(a=d,s=o,c=u.length),o=Math.ceil(h/Wr),c=o>c?o+1:c+1,i>c&&(i=c,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(c=u.length,i=d.length,c-i<0&&(i=c,a=d,d=u,u=a),n=0;i;)n=(u[--i]=u[i]+d[i]+n)/Gn|0,u[i]%=Gn;for(n&&(u.unshift(n),++s),c=u.length;u[--c]==0;)u.pop();return r.d=u,r.e=s,Xr?Tr(r,h):r}function El(e,r,n){if(e!==~~e||e<r||e>n)throw Error(of+e)}function ul(e){var r,n,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,r=1;r<s;r++)a=e[r]+"",n=Wr-a.length,n&&(i+=Kc(n)),i+=a;o=e[r],a=o+"",n=Wr-a.length,n&&(i+=Kc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var lc=function(){function e(a,s){var i,o=0,c=a.length;for(a=a.slice();c--;)i=a[c]*s+o,a[c]=i%Gn|0,o=i/Gn|0;return o&&a.unshift(o),a}function r(a,s,i,o){var c,u;if(i!=o)u=i>o?1:-1;else for(c=u=0;c<i;c++)if(a[c]!=s[c]){u=a[c]>s[c]?1:-1;break}return u}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*Gn+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var c,u,d,f,h,m,p,v,g,x,b,w,_,S,j,N,k,C,E=a.constructor,P=a.s==s.s?1:-1,I=a.d,T=s.d;if(!a.s)return new E(a);if(!s.s)throw Error(Hi+"Division by zero");for(u=a.e-s.e,k=T.length,j=I.length,p=new E(P),v=p.d=[],d=0;T[d]==(I[d]||0);)++d;if(T[d]>(I[d]||0)&&--u,i==null?w=i=E.precision:o?w=i+(On(a)-On(s))+1:w=i,w<0)return new E(0);if(w=w/Wr+2|0,d=0,k==1)for(f=0,T=T[0],w++;(d<j||f)&&w--;d++)_=f*Gn+(I[d]||0),v[d]=_/T|0,f=_%T|0;else{for(f=Gn/(T[0]+1)|0,f>1&&(T=e(T,f),I=e(I,f),k=T.length,j=I.length),S=k,g=I.slice(0,k),x=g.length;x<k;)g[x++]=0;C=T.slice(),C.unshift(0),N=T[0],T[1]>=Gn/2&&++N;do f=0,c=r(T,g,k,x),c<0?(b=g[0],k!=x&&(b=b*Gn+(g[1]||0)),f=b/N|0,f>1?(f>=Gn&&(f=Gn-1),h=e(T,f),m=h.length,x=g.length,c=r(h,g,m,x),c==1&&(f--,n(h,k<m?C:T,m))):(f==0&&(c=f=1),h=T.slice()),m=h.length,m<x&&h.unshift(0),n(g,h,x),c==-1&&(x=g.length,c=r(T,g,k,x),c<1&&(f++,n(g,k<x?C:T,x))),x=g.length):c===0&&(f++,g=[0]),v[d++]=f,c&&g[0]?g[x++]=I[S]||0:(g=[I[S]],x=1);while((S++<j||g[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=u,Tr(p,o?i+On(p)+1:i)}}();function lX(e,r){var n,a,s,i,o,c,u=0,d=0,f=e.constructor,h=f.precision;if(On(e)>16)throw Error(N4+On(e));if(!e.s)return new f(si);for(r==null?(Xr=!1,c=h):c=r,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(bd(2,d))/Math.LN10*2+5|0,c+=a,n=s=i=new f(si),f.precision=c;;){if(s=Tr(s.times(e),c),n=n.times(++u),o=i.plus(lc(s,n,c)),ul(o.d).slice(0,c)===ul(i.d).slice(0,c)){for(;d--;)i=Tr(i.times(i),c);return f.precision=h,r==null?(Xr=!0,Tr(i,h)):i}i=o}}function On(e){for(var r=e.e*Wr,n=e.d[0];n>=10;n/=10)r++;return r}function xN(e,r,n){if(r>e.LN10.sd())throw Xr=!0,n&&(e.precision=n),Error(Hi+"LN10 precision limit exceeded");return Tr(new e(e.LN10),r)}function Kc(e){for(var r="";e--;)r+="0";return r}function Ov(e,r){var n,a,s,i,o,c,u,d,f,h=1,m=10,p=e,v=p.d,g=p.constructor,x=g.precision;if(p.s<1)throw Error(Hi+(p.s?"NaN":"-Infinity"));if(p.eq(si))return new g(0);if(r==null?(Xr=!1,d=x):d=r,p.eq(10))return r==null&&(Xr=!0),xN(g,d);if(d+=m,g.precision=d,n=ul(v),a=n.charAt(0),i=On(p),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)p=p.times(e),n=ul(p.d),a=n.charAt(0),h++;i=On(p),a>1?(p=new g("0."+n),i++):p=new g(a+"."+n.slice(1))}else return u=xN(g,d+2,x).times(i+""),p=Ov(new g(a+"."+n.slice(1)),d-m).plus(u),g.precision=x,r==null?(Xr=!0,Tr(p,x)):p;for(c=o=p=lc(p.minus(si),p.plus(si),d),f=Tr(p.times(p),d),s=3;;){if(o=Tr(o.times(f),d),u=c.plus(lc(o,new g(s),d)),ul(u.d).slice(0,d)===ul(c.d).slice(0,d))return c=c.times(2),i!==0&&(c=c.plus(xN(g,d+2,x).times(i+""))),c=lc(c,new g(h),d),g.precision=x,r==null?(Xr=!0,Tr(c,x)):c;c=u,s+=2}}function m$(e,r){var n,a,s;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(a=r.search(/e/i))>0?(n<0&&(n=a),n+=+r.slice(a+1),r=r.substring(0,a)):n<0&&(n=r.length),a=0;r.charCodeAt(a)===48;)++a;for(s=r.length;r.charCodeAt(s-1)===48;)--s;if(r=r.slice(a,s),r){if(s-=a,n=n-a-1,e.e=s0(n/Wr),e.d=[],a=(n+1)%Wr,n<0&&(a+=Wr),a<s){for(a&&e.d.push(+r.slice(0,a)),s-=Wr;a<s;)e.d.push(+r.slice(a,a+=Wr));r=r.slice(a),a=Wr-r.length}else a-=s;for(;a--;)r+="0";if(e.d.push(+r),Xr&&(e.e>Eb||e.e<-Eb))throw Error(N4+n)}else e.s=0,e.e=0,e.d=[0];return e}function Tr(e,r,n){var a,s,i,o,c,u,d,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=r-o,a<0)a+=Wr,s=r,d=h[f=0];else{if(f=Math.ceil((a+1)/Wr),i=h.length,f>=i)return e;for(d=i=h[f],o=1;i>=10;i/=10)o++;a%=Wr,s=a-Wr+o}if(n!==void 0&&(i=bd(10,o-s-1),c=d/i%10|0,u=r<0||h[f+1]!==void 0||d%i,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(a>0?s>0?d/bd(10,o-s):0:h[f-1])%10&1||n==(e.s<0?8:7))),r<1||!h[0])return u?(i=On(e),h.length=1,r=r-i-1,h[0]=bd(10,(Wr-r%Wr)%Wr),e.e=s0(-r/Wr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,i=1,f--):(h.length=f+1,i=bd(10,Wr-a),h[f]=s>0?(d/bd(10,o-s)%bd(10,s)|0)*i:0),u)for(;;)if(f==0){(h[0]+=i)==Gn&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=Gn)break;h[f--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(Xr&&(e.e>Eb||e.e<-Eb))throw Error(N4+On(e));return e}function cX(e,r){var n,a,s,i,o,c,u,d,f,h,m=e.constructor,p=m.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new m(e),Xr?Tr(r,p):r;if(u=e.d,h=r.d,a=r.e,d=e.e,u=u.slice(),o=d-a,o){for(f=o<0,f?(n=u,o=-o,c=h.length):(n=h,a=d,c=u.length),s=Math.max(Math.ceil(p/Wr),c)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=u.length,c=h.length,f=s<c,f&&(c=s),s=0;s<c;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}o=0}for(f&&(n=u,u=h,h=n,r.s=-r.s),c=u.length,s=h.length-c;s>0;--s)u[c++]=0;for(s=h.length;s>o;){if(u[--s]<h[s]){for(i=s;i&&u[--i]===0;)u[i]=Gn-1;--u[i],u[s]+=Gn}u[s]-=h[s]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(r.d=u,r.e=a,Xr?Tr(r,p):r):new m(0)}function Of(e,r,n){var a,s=On(e),i=ul(e.d),o=i.length;return r?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Kc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Kc(-s-1)+i,n&&(a=n-o)>0&&(i+=Kc(a))):s>=o?(i+=Kc(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Kc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Kc(a))),e.s<0?"-"+i:i}function p$(e,r){if(e.length>r)return e.length=r,!0}function uX(e){var r,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(of+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return m$(o,i.toString())}else if(typeof i!="string")throw Error(of+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rBe.test(i))m$(o,i);else throw Error(of+i)}if(s.prototype=lt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=uX,s.config=s.set=nBe,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)e.hasOwnProperty(n=a[r++])||(e[n]=this[n]);return s.config(e),s}function nBe(e){if(!e||typeof e!="object")throw Error(Hi+"Object expected");var r,n,a,s=["precision",1,a0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<s.length;r+=3)if((a=e[n=s[r]])!==void 0)if(s0(a)===a&&a>=s[r+1]&&a<=s[r+2])this[n]=a;else throw Error(of+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(of+n+": "+a);return this}var E4=uX(tBe);si=new E4(1);const Nr=E4;function aBe(e){return lBe(e)||oBe(e)||iBe(e)||sBe()}function sBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(e,r){if(e){if(typeof e=="string")return bC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(e,r)}}function oBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lBe(e){if(Array.isArray(e))return bC(e)}function bC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var cBe=function(r){return r},dX={"@@functional/placeholder":!0},fX=function(r){return r===dX},g$=function(r){return function n(){return arguments.length===0||arguments.length===1&&fX(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},uBe=function e(r,n){return r===1?n:g$(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(c){return c!==dX}).length;return o>=r?n.apply(void 0,s):e(r-o,g$(function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=s.map(function(h){return fX(h)?u.shift():h});return n.apply(void 0,aBe(f).concat(u))}))})},JS=function(r){return uBe(r.length,r)},_C=function(r,n){for(var a=[],s=r;s<n;++s)a[s-r]=s;return a},dBe=JS(function(e,r){return Array.isArray(r)?r.map(e):Object.keys(r).map(function(n){return r[n]}).map(e)}),fBe=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(!n.length)return cBe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(c,u){return u(c)},i.apply(void 0,arguments))}},SC=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},hX=function(r){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(c,u){return c===n[u]})||(n=i,a=r.apply(void 0,i)),a}};function hBe(e){var r;return e===0?r=1:r=Math.floor(new Nr(e).abs().log(10).toNumber())+1,r}function mBe(e,r,n){for(var a=new Nr(e),s=0,i=[];a.lt(r)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var pBe=JS(function(e,r,n){var a=+e,s=+r;return a+n*(s-a)}),gBe=JS(function(e,r,n){var a=r-+e;return a=a||1/0,(n-e)/a}),vBe=JS(function(e,r,n){var a=r-+e;return a=a||1/0,Math.max(0,Math.min(1,(n-e)/a))});const QS={rangeStep:mBe,getDigitCount:hBe,interpolateNumber:pBe,uninterpolateNumber:gBe,uninterpolateTruncation:vBe};function jC(e){return wBe(e)||yBe(e)||mX(e)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wBe(e){if(Array.isArray(e))return kC(e)}function Pv(e,r){return SBe(e)||_Be(e,r)||mX(e,r)||bBe()}function bBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(e,r){if(e){if(typeof e=="string")return kC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(e,r)}}function kC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function _Be(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(a=(c=o.next()).done)&&(n.push(c.value),!(r&&n.length===r));a=!0);}catch(u){s=!0,i=u}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function SBe(e){if(Array.isArray(e))return e}function pX(e){var r=Pv(e,2),n=r[0],a=r[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function gX(e,r,n){if(e.lte(0))return new Nr(0);var a=QS.getDigitCount(e.toNumber()),s=new Nr(10).pow(a),i=e.div(s),o=a!==1?.05:.1,c=new Nr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),u=c.mul(s);return r?u:new Nr(Math.ceil(u))}function jBe(e,r,n){var a=1,s=new Nr(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(a=new Nr(10).pow(QS.getDigitCount(e)-1),s=new Nr(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Nr(Math.floor(e)))}else e===0?s=new Nr(Math.floor((r-1)/2)):n||(s=new Nr(Math.floor(e)));var o=Math.floor((r-1)/2),c=fBe(dBe(function(u){return s.add(new Nr(u-o).mul(a)).toNumber()}),_C);return c(0,r)}function vX(e,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var i=gX(new Nr(r).sub(e).div(n-1),a,s),o;e<=0&&r>=0?o=new Nr(0):(o=new Nr(e).add(r).div(2),o=o.sub(new Nr(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),u=Math.ceil(new Nr(r).sub(o).div(i).toNumber()),d=c+u+1;return d>n?vX(e,r,n,a,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:o.sub(new Nr(c).mul(i)),tickMax:o.add(new Nr(u).mul(i))})}function kBe(e){var r=Pv(e,2),n=r[0],a=r[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),c=pX([n,a]),u=Pv(c,2),d=u[0],f=u[1];if(d===-1/0||f===1/0){var h=f===1/0?[d].concat(jC(_C(0,s-1).map(function(){return 1/0}))):[].concat(jC(_C(0,s-1).map(function(){return-1/0})),[f]);return n>a?SC(h):h}if(d===f)return jBe(d,s,i);var m=vX(d,f,o,i),p=m.step,v=m.tickMin,g=m.tickMax,x=QS.rangeStep(v,g.add(new Nr(.1).mul(p)),p);return n>a?SC(x):x}function NBe(e,r){var n=Pv(e,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=pX([a,s]),c=Pv(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0)return[a,s];if(u===d)return[u];var f=Math.max(r,2),h=gX(new Nr(d).sub(u).div(f-1),i,0),m=[].concat(jC(QS.rangeStep(new Nr(u),new Nr(d).sub(new Nr(.99).mul(h)),h)),[d]);return a>s?SC(m):m}var EBe=hX(kBe),CBe=hX(NBe),TBe="Invariant failed";function Pf(e,r){throw new Error(TBe)}var ABe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ap(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Cb.apply(this,arguments)}function OBe(e,r){return IBe(e)||RBe(e,r)||DBe(e,r)||PBe()}function PBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DBe(e,r){if(e){if(typeof e=="string")return v$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(e,r)}}function v$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function RBe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function IBe(e){if(Array.isArray(e))return e}function MBe(e,r){if(e==null)return{};var n=FBe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FBe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function LBe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $Be(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wX(a.key),a)}}function BBe(e,r,n){return r&&$Be(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UBe(e,r,n){return r=Tb(r),VBe(e,xX()?Reflect.construct(r,n||[],Tb(e).constructor):r.apply(e,n))}function VBe(e,r){if(r&&(ap(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zBe(e)}function zBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xX=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(e)}function WBe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&NC(e,r)}function NC(e,r){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},NC(e,r)}function yX(e,r,n){return r=wX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wX(e){var r=HBe(e,"string");return ap(r)=="symbol"?r:r+""}function HBe(e,r){if(ap(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ap(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ey=function(e){function r(){return LBe(this,r),UBe(this,r,arguments)}return WBe(r,e),BBe(r,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,c=a.dataKey,u=a.data,d=a.dataPointFormatter,f=a.xAxis,h=a.yAxis,m=MBe(a,ABe),p=Nt(m,!1);this.props.direction==="x"&&f.type!=="number"&&Pf();var v=u.map(function(g){var x=d(g,c),b=x.x,w=x.y,_=x.value,S=x.errorVal;if(!S)return null;var j=[],N,k;if(Array.isArray(S)){var C=OBe(S,2);N=C[0],k=C[1]}else N=k=S;if(i==="vertical"){var E=f.scale,P=w+s,I=P+o,T=P-o,U=E(_-N),H=E(_+k);j.push({x1:H,y1:I,x2:H,y2:T}),j.push({x1:U,y1:P,x2:H,y2:P}),j.push({x1:U,y1:I,x2:U,y2:T})}else if(i==="horizontal"){var F=h.scale,M=b+s,z=M-o,L=M+o,R=F(_-N),J=F(_+k);j.push({x1:z,y1:J,x2:L,y2:J}),j.push({x1:M,y1:R,x2:M,y2:J}),j.push({x1:z,y1:R,x2:L,y2:R})}return ne.createElement(dr,Cb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),j.map(function(te){return ne.createElement("line",Cb({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return ne.createElement(dr,{className:"recharts-errorBars"},v)}}])}(ne.Component);yX(ey,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yX(ey,"displayName","ErrorBar");function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dv(e)}function x$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?x$(Object(n),!0).forEach(function(a){qBe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function qBe(e,r,n){return r=KBe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function KBe(e){var r=GBe(e,"string");return Dv(r)=="symbol"?r:r+""}function GBe(e,r){if(Dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Dv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var bX=function(r){var n=r.children,a=r.formattedGraphicalItems,s=r.legendWidth,i=r.legendContent,o=Xs(n,Ou);if(!o)return null;var c=Ou.defaultProps,u=c!==void 0?fd(fd({},c),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(f,h){var m=h.item,p=h.props,v=p.sectors||p.data||[];return f.concat(v.map(function(g){return{type:o.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(a||[]).map(function(f){var h=f.item,m=h.type.defaultProps,p=m!==void 0?fd(fd({},m),h.props):{},v=p.dataKey,g=p.name,x=p.legendType,b=p.hide;return{inactive:b,dataKey:v,type:u.iconType||x||"square",color:C4(h),value:g||v,payload:p}}),fd(fd(fd({},u),Ou.getWithHeight(o,s)),{},{payload:d,item:o})};function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rv(e)}function y$(e){return QBe(e)||JBe(e)||XBe(e)||YBe()}function YBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XBe(e,r){if(e){if(typeof e=="string")return EC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(e,r)}}function JBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QBe(e){if(Array.isArray(e))return EC(e)}function EC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function w$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ln(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?w$(Object(n),!0).forEach(function(a){mm(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function mm(e,r,n){return r=ZBe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ZBe(e){var r=eUe(e,"string");return Rv(r)=="symbol"?r:r+""}function eUe(e,r){if(Rv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Rv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Bn(e,r,n){return $t(e)||$t(r)?n:zn(r)?ci(e,r,n):Pt(r)?r(e):n}function Ng(e,r,n,a){var s=J6e(e,function(c){return Bn(c,r)});if(n==="number"){var i=s.filter(function(c){return Je(c)||parseFloat(c)});return i.length?[XS(i),YS(i)]:[1/0,-1/0]}var o=a?s.filter(function(c){return!$t(c)}):s;return o.map(function(c){return zn(c)||c instanceof Date?c:""})}var tUe=function(r){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var u=i.range,d=0;d<c;d++){var f=d>0?s[d-1].coordinate:s[c-1].coordinate,h=s[d].coordinate,m=d>=c-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(ss(h-f)!==ss(m-h)){var v=[];if(ss(m-h)===ss(u[1]-u[0])){p=m;var g=h+u[1]-u[0];v[0]=Math.min(g,(g+f)/2),v[1]=Math.max(g,(g+f)/2)}else{p=f;var x=m+u[1]-u[0];v[0]=Math.min(h,(x+h)/2),v[1]=Math.max(h,(x+h)/2)}var b=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(r>b[0]&&r<=b[1]||r>=v[0]&&r<=v[1]){o=s[d].index;break}}else{var w=Math.min(f,m),_=Math.max(f,m);if(r>(w+h)/2&&r<=(_+h)/2){o=s[d].index;break}}}else for(var S=0;S<c;S++)if(S===0&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2&&r<=(a[S].coordinate+a[S+1].coordinate)/2||S===c-1&&r>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},C4=function(r){var n,a=r,s=a.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,o=i.stroke,c=i.fill,u;switch(s){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:c;break;default:u=c;break}return u},rUe=function(r){var n=r.barSize,a=r.totalSize,s=r.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},c=Object.keys(i),u=0,d=c.length;u<d;u++)for(var f=i[c[u]].stackGroups,h=Object.keys(f),m=0,p=h.length;m<p;m++){var v=f[h[m]],g=v.items,x=v.cateAxisId,b=g.filter(function(k){return oc(k.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?ln(ln({},w),b[0].props):b[0].props,S=_.barSize,j=_[x];o[j]||(o[j]=[]);var N=$t(S)?n:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:$t(N)?void 0:is(N,a,0)})}}return o},nUe=function(r){var n=r.barGap,a=r.barCategoryGap,s=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,c=r.maxBarSize,u=o.length;if(u<1)return null;var d=is(n,s,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=s/u,v=o.reduce(function(S,j){return S+j.barSize||0},0);v+=(u-1)*d,v>=s&&(v-=(u-1)*d,d=0),v>=s&&p>0&&(m=!0,p*=.9,v=u*p);var g=(s-v)/2>>0,x={offset:g-d,size:0};f=o.reduce(function(S,j){var N={item:j.item,position:{offset:x.offset+x.size+d,size:m?p:j.barSize}},k=[].concat(y$(S),[N]);return x=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){k.push({item:C,position:x})}),k},h)}else{var b=is(a,s,0,!0);s-2*b-(u-1)*d<=0&&(d=0);var w=(s-2*b-(u-1)*d)/u;w>1&&(w>>=0);var _=c===+c?Math.min(w,c):w;f=o.reduce(function(S,j,N){var k=[].concat(y$(S),[{item:j.item,position:{offset:b+(w+d)*N+(w-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},h)}return f},aUe=function(r,n,a,s){var i=a.children,o=a.width,c=a.margin,u=o-(c.left||0)-(c.right||0),d=bX({children:i,legendWidth:u});if(d){var f=s||{},h=f.width,m=f.height,p=d.align,v=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&Je(r[p]))return ln(ln({},r),{},mm({},p,r[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&Je(r[v]))return ln(ln({},r),{},mm({},v,r[v]+(m||0)))}return r},sUe=function(r,n,a){return $t(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},_X=function(r,n,a,s,i){var o=n.props.children,c=ui(o,ey).filter(function(d){return sUe(s,i,d.props.direction)});if(c&&c.length){var u=c.map(function(d){return d.props.dataKey});return r.reduce(function(d,f){var h=Bn(f,a);if($t(h))return d;var m=Array.isArray(h)?[XS(h),YS(h)]:[h,h],p=u.reduce(function(v,g){var x=Bn(f,g,0),b=m[0]-Math.abs(Array.isArray(x)?x[0]:x),w=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},iUe=function(r,n,a,s,i){var o=n.map(function(c){return _X(r,c,a,i,s)}).filter(function(c){return!$t(c)});return o&&o.length?o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]):null},SX=function(r,n,a,s,i){var o=n.map(function(u){var d=u.props.dataKey;return a==="number"&&d&&_X(r,u,d,s)||Ng(r,d,a,i)});if(a==="number")return o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var c={};return o.reduce(function(u,d){for(var f=0,h=d.length;f<h;f++)c[d[f]]||(c[d[f]]=!0,u.push(d[f]));return u},[])},jX=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},kX=function(r,n,a,s){if(s)return r.map(function(u){return u.coordinate});var i,o,c=r.map(function(u){return u.coordinate===n&&(i=!0),u.coordinate===a&&(o=!0),u.coordinate});return i||c.push(n),o||c.push(a),c},nc=function(r,n,a){if(!r)return null;var s=r.scale,i=r.duplicateDomain,o=r.type,c=r.range,u=r.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/u:0;if(d=r.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?ss(c[0]-c[1])*2*d:d,n&&(r.ticks||r.niceTicks)){var f=(r.ticks||r.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:s(m)+d,value:h,offset:d}});return f.filter(function(h){return!Kx(h.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(h,m){return{coordinate:s(h)+d,value:h,index:m,offset:d}}):s.ticks&&!a?s.ticks(r.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,m){return{coordinate:s(h)+d,value:i?i[h]:h,index:m,offset:d}})},yN=new WeakMap,d1=function(r,n){if(typeof n!="function")return r;yN.has(r)||yN.set(r,new WeakMap);var a=yN.get(r);if(a.has(n))return a.get(n);var s=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},NX=function(r,n,a){var s=r.scale,i=r.type,o=r.layout,c=r.axisType;if(s==="auto")return o==="radial"&&c==="radiusAxis"?{scale:Nv(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Sb(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:kg(),realScaleType:"point"}:i==="category"?{scale:Nv(),realScaleType:"band"}:{scale:Sb(),realScaleType:"linear"};if(Cf(s)){var u="scale".concat(IS(s));return{scale:(h$[u]||kg)(),realScaleType:h$[u]?u:"point"}}return Pt(s)?{scale:s}:{scale:kg(),realScaleType:"point"}},b$=1e-4,EX=function(r){var n=r.domain();if(!(!n||n.length<=2)){var a=n.length,s=r.range(),i=Math.min(s[0],s[1])-b$,o=Math.max(s[0],s[1])+b$,c=r(n[0]),u=r(n[a-1]);(c<i||c>o||u<i||u>o)&&r.domain([n[0],n[a-1]])}},oUe=function(r,n){if(!r)return null;for(var a=0,s=r.length;a<s;a++)if(r[a].item===n)return r[a].position;return null},lUe=function(r,n){if(!n||n.length!==2||!Je(n[0])||!Je(n[1]))return r;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Je(r[0])||r[0]<a)&&(i[0]=a),(!Je(r[1])||r[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},cUe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0,c=0;c<n;++c){var u=Kx(r[c][a][1])?r[c][a][0]:r[c][a][1];u>=0?(r[c][a][0]=i,r[c][a][1]=i+u,i=r[c][a][1]):(r[c][a][0]=o,r[c][a][1]=o+u,o=r[c][a][1])}},uUe=function(r){var n=r.length;if(!(n<=0))for(var a=0,s=r[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var c=Kx(r[o][a][1])?r[o][a][0]:r[o][a][1];c>=0?(r[o][a][0]=i,r[o][a][1]=i+c,i=r[o][a][1]):(r[o][a][0]=0,r[o][a][1]=0)}},dUe={sign:cUe,expand:APe,none:Xm,silhouette:OPe,wiggle:PPe,positive:uUe},fUe=function(r,n,a){var s=n.map(function(c){return c.props.dataKey}),i=dUe[a],o=TPe().keys(s).value(function(c,u){return+Bn(c,u,0)}).order(QE).offset(i);return o(r)},hUe=function(r,n,a,s,i,o){if(!r)return null;var c=o?n.reverse():n,u={},d=c.reduce(function(h,m){var p,v=(p=m.type)!==null&&p!==void 0&&p.defaultProps?ln(ln({},m.type.defaultProps),m.props):m.props,g=v.stackId,x=v.hide;if(x)return h;var b=v[a],w=h[b]||{hasStack:!1,stackGroups:{}};if(zn(g)){var _=w.stackGroups[g]||{numericAxisId:a,cateAxisId:s,items:[]};_.items.push(m),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Zp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[m]};return ln(ln({},h),{},mm({},b,w))},u),f={};return Object.keys(d).reduce(function(h,m){var p=d[m];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,x){var b=p.stackGroups[x];return ln(ln({},g),{},mm({},x,{numericAxisId:a,cateAxisId:s,items:b.items,stackedData:fUe(r,b.items,i)}))},v)}return ln(ln({},h),{},mm({},m,p))},f)},CX=function(r,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,c=n.allowDecimals,u=a||n.scale;if(u!=="auto"&&u!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=r.domain();if(!d.length)return null;var f=EBe(d,i,c);return r.domain([XS(f),YS(f)]),{niceTicks:f}}if(i&&s==="number"){var h=r.domain(),m=CBe(h,i,c);return{niceTicks:m}}return null};function _$(e){var r=e.axis,n=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!$t(s[r.dataKey])){var c=rb(n,"value",s[r.dataKey]);if(c)return c.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var u=Bn(s,$t(o)?r.dataKey:o);return $t(u)?null:r.scale(u)}var S$=function(r){var n=r.axis,a=r.ticks,s=r.offset,i=r.bandSize,o=r.entry,c=r.index;if(n.type==="category")return a[c]?a[c].coordinate+s:null;var u=Bn(o,n.dataKey,n.domain[c]);return $t(u)?null:n.scale(u)-i/2+s},mUe=function(r){var n=r.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},pUe=function(r,n){var a,s=(a=r.type)!==null&&a!==void 0&&a.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,i=s.stackId;if(zn(i)){var o=n[i];if(o){var c=o.items.indexOf(r);return c>=0?o.stackedData[c]:null}}return null},gUe=function(r){return r.reduce(function(n,a){return[XS(a.concat([n[0]]).filter(Je)),YS(a.concat([n[1]]).filter(Je))]},[1/0,-1/0])},TX=function(r,n,a){return Object.keys(r).reduce(function(s,i){var o=r[i],c=o.stackedData,u=c.reduce(function(d,f){var h=gUe(f.slice(n,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],s[0]),Math.max(u[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},j$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,k$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CC=function(r,n,a){if(Pt(r))return r(n,a);if(!Array.isArray(r))return n;var s=[];if(Je(r[0]))s[0]=a?r[0]:Math.min(r[0],n[0]);else if(j$.test(r[0])){var i=+j$.exec(r[0])[1];s[0]=n[0]-i}else Pt(r[0])?s[0]=r[0](n[0]):s[0]=n[0];if(Je(r[1]))s[1]=a?r[1]:Math.max(r[1],n[1]);else if(k$.test(r[1])){var o=+k$.exec(r[1])[1];s[1]=n[1]+o}else Pt(r[1])?s[1]=r[1](n[1]):s[1]=n[1];return s},Ab=function(r,n,a){if(r&&r.scale&&r.scale.bandwidth){var s=r.scale.bandwidth();if(!a||s>0)return s}if(r&&n&&n.length>=2){for(var i=t4(n,function(h){return h.coordinate}),o=1/0,c=1,u=i.length;c<u;c++){var d=i[c],f=i[c-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},N$=function(r,n,a){return!r||!r.length||Zx(r,ci(a,"type.defaultProps.domain"))?n:r},AX=function(r,n){var a=r.type.defaultProps?ln(ln({},r.type.defaultProps),r.props):r.props,s=a.dataKey,i=a.name,o=a.unit,c=a.formatter,u=a.tooltipType,d=a.chartType,f=a.hide;return ln(ln({},Nt(r,!1)),{},{dataKey:s,unit:o,formatter:c,name:i||s,color:C4(r),value:Bn(n,s),type:u,payload:n,chartType:d,hide:f})};function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iv(e)}function E$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ql(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?E$(Object(n),!0).forEach(function(a){OX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function OX(e,r,n){return r=vUe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function vUe(e){var r=xUe(e,"string");return Iv(r)=="symbol"?r:r+""}function xUe(e,r){if(Iv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Iv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function yUe(e,r){return SUe(e)||_Ue(e,r)||bUe(e,r)||wUe()}function wUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bUe(e,r){if(e){if(typeof e=="string")return C$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C$(e,r)}}function C$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function _Ue(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function SUe(e){if(Array.isArray(e))return e}var Ob=Math.PI/180,jUe=function(r){return r*180/Math.PI},$r=function(r,n,a,s){return{x:r+Math.cos(-Ob*s)*a,y:n+Math.sin(-Ob*s)*a}},PX=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},kUe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.startAngle,d=r.endAngle,f=is(r.cx,o,o/2),h=is(r.cy,c,c/2),m=PX(o,c,a),p=is(r.innerRadius,m,0),v=is(r.outerRadius,m,m*.8),g=Object.keys(n);return g.reduce(function(x,b){var w=n[b],_=w.domain,S=w.reversed,j;if($t(w.range))s==="angleAxis"?j=[u,d]:s==="radiusAxis"&&(j=[p,v]),S&&(j=[j[1],j[0]]);else{j=w.range;var N=j,k=yUe(N,2);u=k[0],d=k[1]}var C=NX(w,i),E=C.realScaleType,P=C.scale;P.domain(_).range(j),EX(P);var I=CX(P,ql(ql({},w),{},{realScaleType:E})),T=ql(ql(ql({},w),I),{},{range:j,radius:v,realScaleType:E,scale:P,cx:f,cy:h,innerRadius:p,outerRadius:v,startAngle:u,endAngle:d});return ql(ql({},x),{},OX({},b,T))},{})},NUe=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},EUe=function(r,n){var a=r.x,s=r.y,i=n.cx,o=n.cy,c=NUe({x:a,y:s},{x:i,y:o});if(c<=0)return{radius:c};var u=(a-i)/c,d=Math.acos(u);return s>o&&(d=2*Math.PI-d),{radius:c,angle:jUe(d),angleInRadian:d}},CUe=function(r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},TUe=function(r,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),c=Math.min(i,o);return r+c*360},T$=function(r,n){var a=r.x,s=r.y,i=EUe({x:a,y:s},n),o=i.radius,c=i.angle,u=n.innerRadius,d=n.outerRadius;if(o<u||o>d)return!1;if(o===0)return!0;var f=CUe(n),h=f.startAngle,m=f.endAngle,p=c,v;if(h<=m){for(;p>m;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=m}else{for(;p>h;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=h}return v?ql(ql({},n),{},{radius:o,angle:TUe(p,n)}):null},DX=function(r){return!y.isValidElement(r)&&!Pt(r)&&typeof r!="boolean"?r.className:""};function Mv(e){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mv(e)}var AUe=["offset"];function OUe(e){return IUe(e)||RUe(e)||DUe(e)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DUe(e,r){if(e){if(typeof e=="string")return TC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(e,r)}}function RUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IUe(e){if(Array.isArray(e))return TC(e)}function TC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function MUe(e,r){if(e==null)return{};var n=FUe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function FUe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function A$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function In(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?A$(Object(n),!0).forEach(function(a){LUe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LUe(e,r,n){return r=$Ue(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function $Ue(e){var r=BUe(e,"string");return Mv(r)=="symbol"?r:r+""}function BUe(e,r){if(Mv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Mv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fv.apply(this,arguments)}var UUe=function(r){var n=r.value,a=r.formatter,s=$t(r.children)?n:r.children;return Pt(a)?a(s):s},VUe=function(r,n){var a=ss(n-r),s=Math.min(Math.abs(n-r),360);return a*s},zUe=function(r,n,a){var s=r.position,i=r.viewBox,o=r.offset,c=r.className,u=i,d=u.cx,f=u.cy,h=u.innerRadius,m=u.outerRadius,p=u.startAngle,v=u.endAngle,g=u.clockWise,x=(h+m)/2,b=VUe(p,v),w=b>=0?1:-1,_,S;s==="insideStart"?(_=p+w*o,S=g):s==="insideEnd"?(_=v-w*o,S=!g):s==="end"&&(_=v+w*o,S=g),S=b<=0?S:!S;var j=$r(d,f,x,_),N=$r(d,f,x,_+(S?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),C=$t(r.id)?Zp("recharts-radial-line-"):r.id;return ne.createElement("text",Fv({},a,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",c)}),ne.createElement("defs",null,ne.createElement("path",{id:C,d:k})),ne.createElement("textPath",{xlinkHref:"#".concat(C)},n))},WUe=function(r){var n=r.viewBox,a=r.offset,s=r.position,i=n,o=i.cx,c=i.cy,u=i.innerRadius,d=i.outerRadius,f=i.startAngle,h=i.endAngle,m=(f+h)/2;if(s==="outside"){var p=$r(o,c,d+a,m),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(u+d)/2,b=$r(o,c,x,m),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},HUe=function(r){var n=r.viewBox,a=r.parentViewBox,s=r.offset,i=r.position,o=n,c=o.x,u=o.y,d=o.width,f=o.height,h=f>=0?1:-1,m=h*s,p=h>0?"end":"start",v=h>0?"start":"end",g=d>=0?1:-1,x=g*s,b=g>0?"end":"start",w=g>0?"start":"end";if(i==="top"){var _={x:c+d/2,y:u-h*s,textAnchor:"middle",verticalAnchor:p};return In(In({},_),a?{height:Math.max(u-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:c+d/2,y:u+f+m,textAnchor:"middle",verticalAnchor:v};return In(In({},S),a?{height:Math.max(a.y+a.height-(u+f),0),width:d}:{})}if(i==="left"){var j={x:c-x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"};return In(In({},j),a?{width:Math.max(j.x-a.x,0),height:f}:{})}if(i==="right"){var N={x:c+d+x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"};return In(In({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:f}:{})}var k=a?{width:d,height:f}:{};return i==="insideLeft"?In({x:c+x,y:u+f/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideRight"?In({x:c+d-x,y:u+f/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?In({x:c+d/2,y:u+m,textAnchor:"middle",verticalAnchor:v},k):i==="insideBottom"?In({x:c+d/2,y:u+f-m,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?In({x:c+x,y:u+m,textAnchor:w,verticalAnchor:v},k):i==="insideTopRight"?In({x:c+d-x,y:u+m,textAnchor:b,verticalAnchor:v},k):i==="insideBottomLeft"?In({x:c+x,y:u+f-m,textAnchor:w,verticalAnchor:p},k):i==="insideBottomRight"?In({x:c+d-x,y:u+f-m,textAnchor:b,verticalAnchor:p},k):Yp(i)&&(Je(i.x)||Ld(i.x))&&(Je(i.y)||Ld(i.y))?In({x:c+is(i.x,d),y:u+is(i.y,f),textAnchor:"end",verticalAnchor:"end"},k):In({x:c+d/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},qUe=function(r){return"cx"in r&&Je(r.cx)};function Xn(e){var r=e.offset,n=r===void 0?5:r,a=MUe(e,AUe),s=In({offset:n},a),i=s.viewBox,o=s.position,c=s.value,u=s.children,d=s.content,f=s.className,h=f===void 0?"":f,m=s.textBreakAll;if(!i||$t(c)&&$t(u)&&!y.isValidElement(d)&&!Pt(d))return null;if(y.isValidElement(d))return y.cloneElement(d,s);var p;if(Pt(d)){if(p=y.createElement(d,s),y.isValidElement(p))return p}else p=UUe(s);var v=qUe(i),g=Nt(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return zUe(s,p,g);var x=v?WUe(s):HUe(s);return ne.createElement(Af,Fv({className:Bt("recharts-label",h)},g,x,{breakAll:m}),p)}Xn.displayName="Label";var RX=function(r){var n=r.cx,a=r.cy,s=r.angle,i=r.startAngle,o=r.endAngle,c=r.r,u=r.radius,d=r.innerRadius,f=r.outerRadius,h=r.x,m=r.y,p=r.top,v=r.left,g=r.width,x=r.height,b=r.clockWise,w=r.labelViewBox;if(w)return w;if(Je(g)&&Je(x)){if(Je(h)&&Je(m))return{x:h,y:m,width:g,height:x};if(Je(p)&&Je(v))return{x:p,y:v,width:g,height:x}}return Je(h)&&Je(m)?{x:h,y:m,width:0,height:0}:Je(n)&&Je(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||u||c||0,clockWise:b}:r.viewBox?r.viewBox:{}},KUe=function(r,n){return r?r===!0?ne.createElement(Xn,{key:"label-implicit",viewBox:n}):zn(r)?ne.createElement(Xn,{key:"label-implicit",viewBox:n,value:r}):y.isValidElement(r)?r.type===Xn?y.cloneElement(r,{key:"label-implicit",viewBox:n}):ne.createElement(Xn,{key:"label-implicit",content:r,viewBox:n}):Pt(r)?ne.createElement(Xn,{key:"label-implicit",content:r,viewBox:n}):Yp(r)?ne.createElement(Xn,Fv({viewBox:n},r,{key:"label-implicit"})):null:null},GUe=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&a&&!r.label)return null;var s=r.children,i=RX(r),o=ui(s,Xn).map(function(u,d){return y.cloneElement(u,{viewBox:n||i,key:"label-".concat(d)})});if(!a)return o;var c=KUe(r.label,n||i);return[c].concat(OUe(o))};Xn.parseViewBox=RX;Xn.renderCallByParent=GUe;function YUe(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var XUe=YUe;const JUe=xr(XUe);function Lv(e){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lv(e)}var QUe=["valueAccessor"],ZUe=["data","dataKey","clockWise","id","textBreakAll"];function e9e(e){return a9e(e)||n9e(e)||r9e(e)||t9e()}function t9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9e(e,r){if(e){if(typeof e=="string")return AC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(e,r)}}function n9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a9e(e){if(Array.isArray(e))return AC(e)}function AC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Pb.apply(this,arguments)}function O$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function P$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?O$(Object(n),!0).forEach(function(a){s9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function s9e(e,r,n){return r=i9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i9e(e){var r=o9e(e,"string");return Lv(r)=="symbol"?r:r+""}function o9e(e,r){if(Lv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Lv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function D$(e,r){if(e==null)return{};var n=l9e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function l9e(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var c9e=function(r){return Array.isArray(r.value)?JUe(r.value):r.value};function cc(e){var r=e.valueAccessor,n=r===void 0?c9e:r,a=D$(e,QUe),s=a.data,i=a.dataKey,o=a.clockWise,c=a.id,u=a.textBreakAll,d=D$(a,ZUe);return!s||!s.length?null:ne.createElement(dr,{className:"recharts-label-list"},s.map(function(f,h){var m=$t(i)?n(f,h):Bn(f&&f.payload,i),p=$t(c)?{}:{id:"".concat(c,"-").concat(h)};return ne.createElement(Xn,Pb({},Nt(f,!0),d,p,{parentViewBox:f.parentViewBox,value:m,textBreakAll:u,viewBox:Xn.parseViewBox($t(o)?f:P$(P$({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}cc.displayName="LabelList";function u9e(e,r){return e?e===!0?ne.createElement(cc,{key:"labelList-implicit",data:r}):ne.isValidElement(e)||Pt(e)?ne.createElement(cc,{key:"labelList-implicit",data:r,content:e}):Yp(e)?ne.createElement(cc,Pb({data:r},e,{key:"labelList-implicit"})):null:null}function d9e(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=ui(a,cc).map(function(o,c){return y.cloneElement(o,{data:r,key:"labelList-".concat(c)})});if(!n)return s;var i=u9e(e.label,r);return[i].concat(e9e(s))}cc.renderCallByParent=d9e;function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$v(e)}function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},OC.apply(this,arguments)}function R$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function I$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?R$(Object(n),!0).forEach(function(a){f9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function f9e(e,r,n){return r=h9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function h9e(e){var r=m9e(e,"string");return $v(r)=="symbol"?r:r+""}function m9e(e,r){if($v(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if($v(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var p9e=function(r,n){var a=ss(n-r),s=Math.min(Math.abs(n-r),359.999);return a*s},f1=function(r){var n=r.cx,a=r.cy,s=r.radius,i=r.angle,o=r.sign,c=r.isExternal,u=r.cornerRadius,d=r.cornerIsExternal,f=u*(c?1:-1)+s,h=Math.asin(u/f)/Ob,m=d?i:i+o*h,p=$r(n,a,f,m),v=$r(n,a,s,m),g=d?i-o*h:i,x=$r(n,a,f*Math.cos(h*Ob),g);return{center:p,circleTangency:v,lineTangency:x,theta:h}},IX=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.startAngle,c=r.endAngle,u=p9e(o,c),d=o+u,f=$r(n,a,i,o),h=$r(n,a,i,d),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var p=$r(n,a,s,o),v=$r(n,a,s,d);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(n,",").concat(a," Z");return m},g9e=function(r){var n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=ss(f-d),m=f1({cx:n,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),p=m.circleTangency,v=m.lineTangency,g=m.theta,x=f1({cx:n,cy:a,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),b=x.circleTangency,w=x.lineTangency,_=x.theta,S=u?Math.abs(d-f):Math.abs(d-f)-g-_;if(S<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IX({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(s>0){var N=f1({cx:n,cy:a,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=N.circleTangency,C=N.lineTangency,E=N.theta,P=f1({cx:n,cy:a,radius:s,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),I=P.circleTangency,T=P.lineTangency,U=P.theta,H=u?Math.abs(d-f):Math.abs(d-f)-E-U;if(H<0&&o===0)return"".concat(j,"L").concat(n,",").concat(a,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(n,",").concat(a,"Z");return j},v9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MX=function(r){var n=I$(I$({},v9e),r),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,c=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,m=n.className;if(o<i||f===h)return null;var p=Bt("recharts-sector",m),v=o-i,g=is(c,v,0,!0),x;return g>0&&Math.abs(f-h)<360?x=g9e({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,v/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):x=IX({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),ne.createElement("path",OC({},Nt(n,!0),{className:p,d:x,role:"img"}))};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bv(e)}function PC(){return PC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},PC.apply(this,arguments)}function M$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function F$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?M$(Object(n),!0).forEach(function(a){x9e(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function x9e(e,r,n){return r=y9e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function y9e(e){var r=w9e(e,"string");return Bv(r)=="symbol"?r:r+""}function w9e(e,r){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Bv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var L$={curveBasisClosed:xPe,curveBasisOpen:yPe,curveBasis:vPe,curveBumpX:nPe,curveBumpY:aPe,curveLinearClosed:wPe,curveLinear:FS,curveMonotoneX:bPe,curveMonotoneY:_Pe,curveNatural:SPe,curveStep:jPe,curveStepAfter:NPe,curveStepBefore:kPe},h1=function(r){return r.x===+r.x&&r.y===+r.y},A0=function(r){return r.x},O0=function(r){return r.y},b9e=function(r,n){if(Pt(r))return r;var a="curve".concat(IS(r));return(a==="curveMonotone"||a==="curveBump")&&n?L$["".concat(a).concat(n==="vertical"?"Y":"X")]:L$[a]||FS},_9e=function(r){var n=r.type,a=n===void 0?"linear":n,s=r.points,i=s===void 0?[]:s,o=r.baseLine,c=r.layout,u=r.connectNulls,d=u===void 0?!1:u,f=b9e(a,c),h=d?i.filter(function(g){return h1(g)}):i,m;if(Array.isArray(o)){var p=d?o.filter(function(g){return h1(g)}):o,v=h.map(function(g,x){return F$(F$({},g),{},{base:p[x]})});return c==="vertical"?m=n1().y(O0).x1(A0).x0(function(g){return g.base.x}):m=n1().x(A0).y1(O0).y0(function(g){return g.base.y}),m.defined(h1).curve(f),m(v)}return c==="vertical"&&Je(o)?m=n1().y(O0).x1(A0).x0(o):Je(o)?m=n1().x(A0).y1(O0).y0(o):m=AG().x(A0).y(O0),m.defined(h1).curve(f),m(h)},Db=function(r){var n=r.className,a=r.points,s=r.path,i=r.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?_9e(r):s;return y.createElement("path",PC({},Nt(r,!1),nb(r),{className:Bt("recharts-curve",n),d:o,ref:i}))},FX={exports:{}},S9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j9e=S9e,k9e=j9e;function LX(){}function $X(){}$X.resetWarningCache=LX;var N9e=function(){function e(a,s,i,o,c,u){if(u!==k9e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function r(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:$X,resetWarningCache:LX};return n.PropTypes=n,n};FX.exports=N9e();var E9e=FX.exports;const gr=xr(E9e);var C9e=Object.getOwnPropertyNames,T9e=Object.getOwnPropertySymbols,A9e=Object.prototype.hasOwnProperty;function $$(e,r){return function(a,s,i){return e(a,s,i)&&r(a,s,i)}}function m1(e){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return e(n,a,s);var i=s.cache,o=i.get(n),c=i.get(a);if(o&&c)return o===a&&c===n;i.set(n,a),i.set(a,n);var u=e(n,a,s);return i.delete(n),i.delete(a),u}}function B$(e){return C9e(e).concat(T9e(e))}var O9e=Object.hasOwn||function(e,r){return A9e.call(e,r)};function Xf(e,r){return e===r||!e&&!r&&e!==e&&r!==r}var P9e="__v",D9e="__o",R9e="_owner",U$=Object.getOwnPropertyDescriptor,V$=Object.keys;function I9e(e,r,n){var a=e.length;if(r.length!==a)return!1;for(;a-- >0;)if(!n.equals(e[a],r[a],a,a,e,r,n))return!1;return!0}function M9e(e,r){return Xf(e.getTime(),r.getTime())}function F9e(e,r){return e.name===r.name&&e.message===r.message&&e.cause===r.cause&&e.stack===r.stack}function L9e(e,r){return e===r}function z$(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,c,u=0;(o=i.next())&&!o.done;){for(var d=r.entries(),f=!1,h=0;(c=d.next())&&!c.done;){if(s[h]){h++;continue}var m=o.value,p=c.value;if(n.equals(m[0],p[0],u,h,e,r,n)&&n.equals(m[1],p[1],m[0],p[0],e,r,n)){f=s[h]=!0;break}h++}if(!f)return!1;u++}return!0}var $9e=Xf;function B9e(e,r,n){var a=V$(e),s=a.length;if(V$(r).length!==s)return!1;for(;s-- >0;)if(!BX(e,r,n,a[s]))return!1;return!0}function P0(e,r,n){var a=B$(e),s=a.length;if(B$(r).length!==s)return!1;for(var i,o,c;s-- >0;)if(i=a[s],!BX(e,r,n,i)||(o=U$(e,i),c=U$(r,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function U9e(e,r){return Xf(e.valueOf(),r.valueOf())}function V9e(e,r){return e.source===r.source&&e.flags===r.flags}function W$(e,r,n){var a=e.size;if(a!==r.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var u=r.values(),d=!1,f=0;(c=u.next())&&!c.done;){if(!s[f]&&n.equals(o.value,c.value,o.value,c.value,e,r,n)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function z9e(e,r){var n=e.length;if(r.length!==n)return!1;for(;n-- >0;)if(e[n]!==r[n])return!1;return!0}function W9e(e,r){return e.hostname===r.hostname&&e.pathname===r.pathname&&e.protocol===r.protocol&&e.port===r.port&&e.hash===r.hash&&e.username===r.username&&e.password===r.password}function BX(e,r,n,a){return(a===R9e||a===D9e||a===P9e)&&(e.$$typeof||r.$$typeof)?!0:O9e(r,a)&&n.equals(e[a],r[a],a,a,e,r,n)}var H9e="[object Arguments]",q9e="[object Boolean]",K9e="[object Date]",G9e="[object Error]",Y9e="[object Map]",X9e="[object Number]",J9e="[object Object]",Q9e="[object RegExp]",Z9e="[object Set]",e7e="[object String]",t7e="[object URL]",r7e=Array.isArray,H$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,q$=Object.assign,n7e=Object.prototype.toString.call.bind(Object.prototype.toString);function a7e(e){var r=e.areArraysEqual,n=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(v,g,x){if(v===g)return!0;if(v==null||g==null)return!1;var b=typeof v;if(b!==typeof g)return!1;if(b!=="object")return b==="number"?o(v,g,x):b==="function"?s(v,g,x):!1;var w=v.constructor;if(w!==g.constructor)return!1;if(w===Object)return c(v,g,x);if(r7e(v))return r(v,g,x);if(H$!=null&&H$(v))return h(v,g,x);if(w===Date)return n(v,g,x);if(w===RegExp)return d(v,g,x);if(w===Map)return i(v,g,x);if(w===Set)return f(v,g,x);var _=n7e(v);return _===K9e?n(v,g,x):_===Q9e?d(v,g,x):_===Y9e?i(v,g,x):_===Z9e?f(v,g,x):_===J9e?typeof v.then!="function"&&typeof g.then!="function"&&c(v,g,x):_===t7e?m(v,g,x):_===G9e?a(v,g,x):_===H9e?c(v,g,x):_===q9e||_===X9e||_===e7e?u(v,g,x):!1}}function s7e(e){var r=e.circular,n=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?P0:I9e,areDatesEqual:M9e,areErrorsEqual:F9e,areFunctionsEqual:L9e,areMapsEqual:a?$$(z$,P0):z$,areNumbersEqual:$9e,areObjectsEqual:a?P0:B9e,arePrimitiveWrappersEqual:U9e,areRegExpsEqual:V9e,areSetsEqual:a?$$(W$,P0):W$,areTypedArraysEqual:a?P0:z9e,areUrlsEqual:W9e};if(n&&(s=q$({},s,n(s))),r){var i=m1(s.areArraysEqual),o=m1(s.areMapsEqual),c=m1(s.areObjectsEqual),u=m1(s.areSetsEqual);s=q$({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return s}function i7e(e){return function(r,n,a,s,i,o,c){return e(r,n,c)}}function o7e(e){var r=e.circular,n=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(u,d){var f=a(),h=f.cache,m=h===void 0?r?new WeakMap:void 0:h,p=f.meta;return n(u,d,{cache:m,equals:s,meta:p,strict:i})};if(r)return function(u,d){return n(u,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,d){return n(u,d,o)}}var l7e=sd();sd({strict:!0});sd({circular:!0});sd({circular:!0,strict:!0});sd({createInternalComparator:function(){return Xf}});sd({strict:!0,createInternalComparator:function(){return Xf}});sd({circular:!0,createInternalComparator:function(){return Xf}});sd({circular:!0,createInternalComparator:function(){return Xf},strict:!0});function sd(e){e===void 0&&(e={});var r=e.circular,n=r===void 0?!1:r,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,c=s7e(e),u=a7e(c),d=a?a(u):i7e(u);return o7e({circular:n,comparator:u,createState:s,equals:d,strict:o})}function c7e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function K$(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>r?(e(i),n=-1):c7e(s)};requestAnimationFrame(a)}function DC(e){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},DC(e)}function u7e(e){return m7e(e)||h7e(e)||f7e(e)||d7e()}function d7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f7e(e,r){if(e){if(typeof e=="string")return G$(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G$(e,r)}}function G$(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function h7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m7e(e){if(Array.isArray(e))return e}function p7e(){var e={},r=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,c=u7e(o),u=c[0],d=c.slice(1);if(typeof u=="number"){K$(s.bind(null,d),u);return}s(u),K$(s.bind(null,d));return}DC(i)==="object"&&(e=i,r(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uv(e)}function Y$(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function X$(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Y$(Object(n),!0).forEach(function(a){UX(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function UX(e,r,n){return r=g7e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function g7e(e){var r=v7e(e,"string");return Uv(r)==="symbol"?r:String(r)}function v7e(e,r){if(Uv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Uv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var x7e=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},y7e=function(r){return r},w7e=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Eg=function(r,n){return Object.keys(n).reduce(function(a,s){return X$(X$({},a),{},UX({},s,r(s,n[s])))},{})},J$=function(r,n,a){return r.map(function(s){return"".concat(w7e(s)," ").concat(n,"ms ").concat(a)}).join(",")};function b7e(e,r){return j7e(e)||S7e(e,r)||VX(e,r)||_7e()}function _7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function j7e(e){if(Array.isArray(e))return e}function k7e(e){return C7e(e)||E7e(e)||VX(e)||N7e()}function N7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(e,r){if(e){if(typeof e=="string")return RC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(e,r)}}function E7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C7e(e){if(Array.isArray(e))return RC(e)}function RC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var Rb=1e-4,zX=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},WX=function(r,n){return r.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},Q$=function(r,n){return function(a){var s=zX(r,n);return WX(s,a)}},T7e=function(r,n){return function(a){var s=zX(r,n),i=[].concat(k7e(s.map(function(o,c){return o*c}).slice(1)),[0]);return WX(i,a)}},Z$=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,c=1;break;case"ease":s=.25,i=.1,o=.25,c=1;break;case"ease-in":s=.42,i=0,o=1,c=1;break;case"ease-out":s=.42,i=0,o=.58,c=1;break;case"ease-in-out":s=0,i=0,o=.58,c=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),f=b7e(d,4);s=f[0],i=f[1],o=f[2],c=f[3]}}}var h=Q$(s,o),m=Q$(i,c),p=T7e(s,o),v=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,_=w,S=0;S<8;++S){var j=h(_)-w,N=p(_);if(Math.abs(j-w)<Rb||N<Rb)return m(_);_=v(_-j/N)}return m(_)};return g.isStepper=!1,g},A7e=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,a=n===void 0?100:n,s=r.damping,i=s===void 0?8:s,o=r.dt,c=o===void 0?17:o,u=function(f,h,m){var p=-(f-h)*a,v=m*i,g=m+(p-v)*c/1e3,x=m*c/1e3+f;return Math.abs(x-h)<Rb&&Math.abs(g)<Rb?[h,0]:[x,g]};return u.isStepper=!0,u.dt=c,u},O7e=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Z$(s);case"spring":return A7e();default:if(s.split("(")[0]==="cubic-bezier")return Z$(s)}return typeof s=="function"?s:null};function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vv(e)}function e5(e){return R7e(e)||D7e(e)||HX(e)||P7e()}function P7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R7e(e){if(Array.isArray(e))return MC(e)}function t5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?t5(Object(n),!0).forEach(function(a){IC(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IC(e,r,n){return r=I7e(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function I7e(e){var r=M7e(e,"string");return Vv(r)==="symbol"?r:String(r)}function M7e(e,r){if(Vv(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Vv(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function F7e(e,r){return B7e(e)||$7e(e,r)||HX(e,r)||L7e()}function L7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,r){if(e){if(typeof e=="string")return MC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(e,r)}}function MC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function $7e(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function B7e(e){if(Array.isArray(e))return e}var Ib=function(r,n,a){return r+(n-r)*a},FC=function(r){var n=r.from,a=r.to;return n!==a},U7e=function e(r,n,a){var s=Eg(function(i,o){if(FC(o)){var c=r(o.from,o.to,o.velocity),u=F7e(c,2),d=u[0],f=u[1];return aa(aa({},o),{},{from:d,velocity:f})}return o},n);return a<1?Eg(function(i,o){return FC(o)?aa(aa({},o),{},{velocity:Ib(o.velocity,s[i].velocity,a),from:Ib(o.from,s[i].from,a)}):o},n):e(r,s,a-1)};const V7e=function(e,r,n,a,s){var i=x7e(e,r),o=i.reduce(function(x,b){return aa(aa({},x),{},IC({},b,[e[b],r[b]]))},{}),c=i.reduce(function(x,b){return aa(aa({},x),{},IC({},b,{from:e[b],velocity:0,to:r[b]}))},{}),u=-1,d,f,h=function(){return null},m=function(){return Eg(function(b,w){return w.from},c)},p=function(){return!Object.values(c).filter(FC).length},v=function(b){d||(d=b);var w=b-d,_=w/n.dt;c=U7e(n,c,_),s(aa(aa(aa({},e),r),m())),d=b,p()||(u=requestAnimationFrame(h))},g=function(b){f||(f=b);var w=(b-f)/a,_=Eg(function(j,N){return Ib.apply(void 0,e5(N).concat([n(w)]))},o);if(s(aa(aa(aa({},e),r),_)),w<1)u=requestAnimationFrame(h);else{var S=Eg(function(j,N){return Ib.apply(void 0,e5(N).concat([n(1)]))},o);s(aa(aa(aa({},e),r),S))}};return h=n.isStepper?v:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sp(e)}var z7e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W7e(e,r){if(e==null)return{};var n=H7e(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function H7e(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function wN(e){return Y7e(e)||G7e(e)||K7e(e)||q7e()}function q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7e(e,r){if(e){if(typeof e=="string")return LC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(e,r)}}function G7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y7e(e){if(Array.isArray(e))return LC(e)}function LC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function r5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function to(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?r5(Object(n),!0).forEach(function(a){Y0(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Y0(e,r,n){return r=qX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function X7e(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function J7e(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,qX(a.key),a)}}function Q7e(e,r,n){return r&&J7e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qX(e){var r=Z7e(e,"string");return sp(r)==="symbol"?r:String(r)}function Z7e(e,r){if(sp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(sp(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function eVe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&$C(e,r)}function $C(e,r){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},$C(e,r)}function tVe(e){var r=rVe();return function(){var a=Mb(e),s;if(r){var i=Mb(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return BC(this,s)}}function BC(e,r){if(r&&(sp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UC(e)}function UC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(e)}var Cl=function(e){eVe(n,e);var r=tVe(n);function n(a,s){var i;X7e(this,n),i=r.call(this,a,s);var o=i.props,c=o.isActive,u=o.attributeName,d=o.from,f=o.to,h=o.steps,m=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(UC(i)),i.changeStyle=i.changeStyle.bind(UC(i)),!c||p<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:f}),BC(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},BC(i);i.state={style:u?Y0({},u,d):d}}else i.state={style:{}};return i}return Q7e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,c=i.canBegin,u=i.attributeName,d=i.shouldReAnimate,f=i.to,h=i.from,m=this.state.style;if(c){if(!o){var p={style:u?Y0({},u,f):f};this.state&&m&&(u&&m[u]!==f||!u&&m!==f)&&this.setState(p);return}if(!(l7e(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||d?h:s.to;if(this.state&&m){var x={style:u?Y0({},u,g):g};(u&&m[u]!==g||!u&&m!==g)&&this.setState(x)}this.runAnimation(to(to({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,c=s.to,u=s.duration,d=s.easing,f=s.begin,h=s.onAnimationEnd,m=s.onAnimationStart,p=V7e(o,c,O7e(d),u,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([m,f,v,u,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,c=s.begin,u=s.onAnimationStart,d=o[0],f=d.style,h=d.duration,m=h===void 0?0:h,p=function(g,x,b){if(b===0)return g;var w=x.duration,_=x.easing,S=_===void 0?"ease":_,j=x.style,N=x.properties,k=x.onAnimationEnd,C=b>0?o[b-1]:x,E=N||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(wN(g),[i.runJSAnimation.bind(i,{from:C.style,to:j,duration:w,easing:S}),w]);var P=J$(E,w,S),I=to(to(to({},C.style),j),{},{transition:P});return[].concat(wN(g),[I,w,k]).filter(y7e)};return this.manager.start([u].concat(wN(o.reduce(p,[f,Math.max(m,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=p7e());var i=s.begin,o=s.duration,c=s.attributeName,u=s.to,d=s.easing,f=s.onAnimationStart,h=s.onAnimationEnd,m=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var g=c?Y0({},c,u):u,x=J$(Object.keys(g),o,d);v.start([f,i,to(to({},g),{},{transition:x}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var u=W7e(s,z7e),d=y.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!c||d===0||o<=0)return i;var h=function(p){var v=p.props,g=v.style,x=g===void 0?{}:g,b=v.className,w=y.cloneElement(p,to(to({},u),{},{style:to(to({},x),f),className:b}));return w};return d===1?h(y.Children.only(i)):ne.createElement("div",null,y.Children.map(i,function(m){return h(m)}))}}]),n}(y.PureComponent);Cl.displayName="Animate";Cl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cl.propTypes={from:gr.oneOfType([gr.object,gr.string]),to:gr.oneOfType([gr.object,gr.string]),attributeName:gr.string,duration:gr.number,begin:gr.number,easing:gr.oneOfType([gr.string,gr.func]),steps:gr.arrayOf(gr.shape({duration:gr.number.isRequired,style:gr.object.isRequired,easing:gr.oneOfType([gr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gr.func]),properties:gr.arrayOf("string"),onAnimationEnd:gr.func})),children:gr.oneOfType([gr.node,gr.func]),isActive:gr.bool,canBegin:gr.bool,onAnimationEnd:gr.func,shouldReAnimate:gr.bool,onAnimationStart:gr.func,onAnimationReStart:gr.func};function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zv(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fb.apply(this,arguments)}function nVe(e,r){return oVe(e)||iVe(e,r)||sVe(e,r)||aVe()}function aVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(e,r){if(e){if(typeof e=="string")return n5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(e,r)}}function n5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function iVe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function oVe(e){if(Array.isArray(e))return e}function a5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function s5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?a5(Object(n),!0).forEach(function(a){lVe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lVe(e,r,n){return r=cVe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cVe(e){var r=uVe(e,"string");return zv(r)=="symbol"?r:r+""}function uVe(e,r){if(zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(zv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var i5=function(r,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f="M".concat(r,",").concat(n+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(r+u*h[0],",").concat(n)),f+="L ".concat(r+a-u*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(r+a,",").concat(n+c*h[1])),f+="L ".concat(r+a,",").concat(n+s-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(r+a-u*h[2],",").concat(n+s)),f+="L ".concat(r+u*h[3],",").concat(n+s),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(n+s-c*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(r,",").concat(n+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+u*v,",").concat(n,`
            L `).concat(r+a-u*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a,",").concat(n+c*v,`
            L `).concat(r+a,",").concat(n+s-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r+a-u*v,",").concat(n+s,`
            L `).concat(r+u*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(r,",").concat(n+s-c*v," Z")}else f="M ".concat(r,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},dVe=function(r,n){if(!r||!n)return!1;var a=r.x,s=r.y,i=n.x,o=n.y,c=n.width,u=n.height;if(Math.abs(c)>0&&Math.abs(u)>0){var d=Math.min(i,i+c),f=Math.max(i,i+c),h=Math.min(o,o+u),m=Math.max(o,o+u);return a>=d&&a<=f&&s>=h&&s<=m}return!1},fVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T4=function(r){var n=s5(s5({},fVe),r),a=y.useRef(),s=y.useState(-1),i=nVe(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&c(S)}catch{}},[]);var u=n.x,d=n.y,f=n.width,h=n.height,m=n.radius,p=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||f===0||h===0)return null;var _=Bt("recharts-rectangle",p);return w?ne.createElement(Cl,{canBegin:o>0,from:{width:f,height:h,x:u,y:d},to:{width:f,height:h,x:u,y:d},duration:g,animationEasing:v,isActive:w},function(S){var j=S.width,N=S.height,k=S.x,C=S.y;return ne.createElement(Cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,isActive:b,easing:v},ne.createElement("path",Fb({},Nt(n,!0),{className:_,d:i5(k,C,j,N,m),ref:a})))}):ne.createElement("path",Fb({},Nt(n,!0),{className:_,d:i5(u,d,f,h,m)}))},hVe=["points","className","baseLinePoints","connectNulls"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wh.apply(this,arguments)}function mVe(e,r){if(e==null)return{};var n=pVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function o5(e){return yVe(e)||xVe(e)||vVe(e)||gVe()}function gVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vVe(e,r){if(e){if(typeof e=="string")return VC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(e,r)}}function xVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yVe(e){if(Array.isArray(e))return VC(e)}function VC(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var l5=function(r){return r&&r.x===+r.x&&r.y===+r.y},wVe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(a){l5(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),l5(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Cg=function(r,n){var a=wVe(r);n&&(a=[a.reduce(function(i,o){return[].concat(o5(i),o5(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,c,u){return"".concat(o).concat(u===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},bVe=function(r,n,a){var s=Cg(r,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Cg(n.reverse(),a).slice(1))},_Ve=function(r){var n=r.points,a=r.className,s=r.baseLinePoints,i=r.connectNulls,o=mVe(r,hVe);if(!n||!n.length)return null;var c=Bt("recharts-polygon",a);if(s&&s.length){var u=o.stroke&&o.stroke!=="none",d=bVe(n,s,i);return ne.createElement("g",{className:c},ne.createElement("path",Wh({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),u?ne.createElement("path",Wh({},Nt(o,!0),{fill:"none",d:Cg(n,i)})):null,u?ne.createElement("path",Wh({},Nt(o,!0),{fill:"none",d:Cg(s,i)})):null)}var f=Cg(n,i);return ne.createElement("path",Wh({},Nt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:c,d:f}))};function zC(){return zC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zC.apply(this,arguments)}var ZS=function(r){var n=r.cx,a=r.cy,s=r.r,i=r.className,o=Bt("recharts-dot",i);return n===+n&&a===+a&&s===+s?y.createElement("circle",zC({},Nt(r,!1),nb(r),{className:o,cx:n,cy:a,r:s})):null};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wv(e)}var SVe=["x","y","top","left","width","height","className"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},WC.apply(this,arguments)}function c5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function jVe(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?c5(Object(n),!0).forEach(function(a){kVe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kVe(e,r,n){return r=NVe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function NVe(e){var r=EVe(e,"string");return Wv(r)=="symbol"?r:r+""}function EVe(e,r){if(Wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Wv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function CVe(e,r){if(e==null)return{};var n=TVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function TVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var AVe=function(r,n,a,s,i,o){return"M".concat(r,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},OVe=function(r){var n=r.x,a=n===void 0?0:n,s=r.y,i=s===void 0?0:s,o=r.top,c=o===void 0?0:o,u=r.left,d=u===void 0?0:u,f=r.width,h=f===void 0?0:f,m=r.height,p=m===void 0?0:m,v=r.className,g=CVe(r,SVe),x=jVe({x:a,y:i,top:c,left:d,width:h,height:p},g);return!Je(a)||!Je(i)||!Je(h)||!Je(p)||!Je(c)||!Je(d)?null:ne.createElement("path",WC({},Nt(x,!0),{className:Bt("recharts-cross",v),d:AVe(a,i,h,p,c,d)}))},PVe=GS,DVe=aX,RVe=Fl;function IVe(e,r){return e&&e.length?PVe(e,RVe(r),DVe):void 0}var MVe=IVe;const FVe=xr(MVe);var LVe=GS,$Ve=Fl,BVe=sX;function UVe(e,r){return e&&e.length?LVe(e,$Ve(r),BVe):void 0}var VVe=UVe;const zVe=xr(VVe);var WVe=["cx","cy","angle","ticks","axisLine"],HVe=["ticks","tick","angle","tickFormatter","stroke"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ip(e)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tg.apply(this,arguments)}function u5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function hd(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?u5(Object(n),!0).forEach(function(a){ej(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function d5(e,r){if(e==null)return{};var n=qVe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function qVe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function KVe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GX(a.key),a)}}function GVe(e,r,n){return r&&f5(e.prototype,r),n&&f5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YVe(e,r,n){return r=Lb(r),XVe(e,KX()?Reflect.construct(r,n||[],Lb(e).constructor):r.apply(e,n))}function XVe(e,r){if(r&&(ip(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JVe(e)}function JVe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KX=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lb(e)}function QVe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&HC(e,r)}function HC(e,r){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HC(e,r)}function ej(e,r,n){return r=GX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function GX(e){var r=ZVe(e,"string");return ip(r)=="symbol"?r:r+""}function ZVe(e,r){if(ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(ip(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var tj=function(e){function r(){return KVe(this,r),YVe(this,r,arguments)}return QVe(r,e),GVe(r,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,c=i.cx,u=i.cy;return $r(c,u,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=FVe(c,function(f){return f.coordinate||0}),d=zVe(c,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,c=a.ticks,u=a.axisLine,d=d5(a,WVe),f=c.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),h=$r(s,i,f[0],o),m=$r(s,i,f[1],o),p=hd(hd(hd({},Nt(d,!1)),{},{fill:"none"},Nt(u,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ne.createElement("line",Tg({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.angle,u=s.tickFormatter,d=s.stroke,f=d5(s,HVe),h=this.getTickTextAnchor(),m=Nt(f,!1),p=Nt(o,!1),v=i.map(function(g,x){var b=a.getTickValueCoord(g),w=hd(hd(hd(hd({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(b.x,", ").concat(b.y,")")},m),{},{stroke:"none",fill:d},p),{},{index:x},b),{},{payload:g});return ne.createElement(dr,Tg({className:Bt("recharts-polar-radius-axis-tick",DX(o)),key:"tick-".concat(g.coordinate)},Tf(a.props,g,x)),r.renderTickItem(o,w,u?u(g.value,x):g.value))});return ne.createElement(dr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:ne.createElement(dr,{className:Bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Xn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Pt(a)?o=a(s):o=ne.createElement(Af,Tg({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);ej(tj,"displayName","PolarRadiusAxis");ej(tj,"axisType","radiusAxis");ej(tj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},op(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ed.apply(this,arguments)}function h5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function md(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?h5(Object(n),!0).forEach(function(a){rj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eze(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function m5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XX(a.key),a)}}function tze(e,r,n){return r&&m5(e.prototype,r),n&&m5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rze(e,r,n){return r=$b(r),nze(e,YX()?Reflect.construct(r,n||[],$b(e).constructor):r.apply(e,n))}function nze(e,r){if(r&&(op(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aze(e)}function aze(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YX=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$b(e)}function sze(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&qC(e,r)}function qC(e,r){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},qC(e,r)}function rj(e,r,n){return r=XX(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function XX(e){var r=ize(e,"string");return op(r)=="symbol"?r:r+""}function ize(e,r){if(op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(op(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var oze=Math.PI/180,p5=1e-5,nj=function(e){function r(){return eze(this,r),rze(this,r,arguments)}return sze(r,e),tze(r,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,c=s.radius,u=s.orientation,d=s.tickSize,f=d||8,h=$r(i,o,c,a.coordinate),m=$r(i,o,c+(u==="inner"?-1:1)*f,a.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*oze),o;return i>p5?o=s==="outer"?"start":"end":i<-p5?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,c=a.axisLine,u=a.axisLineType,d=md(md({},Nt(this.props,!1)),{},{fill:"none"},Nt(c,!1));if(u==="circle")return ne.createElement(ZS,Ed({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(m){return $r(s,i,o,m.coordinate)});return ne.createElement(_Ve,Ed({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,c=s.tickLine,u=s.tickFormatter,d=s.stroke,f=Nt(this.props,!1),h=Nt(o,!1),m=md(md({},f),{},{fill:"none"},Nt(c,!1)),p=i.map(function(v,g){var x=a.getTickLineCoord(v),b=a.getTickTextAnchor(v),w=md(md(md({textAnchor:b},f),{},{stroke:"none",fill:d},h),{},{index:g,payload:v,x:x.x2,y:x.y2});return ne.createElement(dr,Ed({className:Bt("recharts-polar-angle-axis-tick",DX(o)),key:"tick-".concat(v.coordinate)},Tf(a.props,v,g)),c&&ne.createElement("line",Ed({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&r.renderTickItem(o,w,u?u(v.value,g):v.value))});return ne.createElement(dr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:ne.createElement(dr,{className:Bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ne.isValidElement(a)?o=ne.cloneElement(a,s):Pt(a)?o=a(s):o=ne.createElement(Af,Ed({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);rj(nj,"displayName","PolarAngleAxis");rj(nj,"axisType","angleAxis");rj(nj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lze=eY,cze=lze(Object.getPrototypeOf,Object),uze=cze,dze=Tc,fze=uze,hze=Ac,mze="[object Object]",pze=Function.prototype,gze=Object.prototype,JX=pze.toString,vze=gze.hasOwnProperty,xze=JX.call(Object);function yze(e){if(!hze(e)||dze(e)!=mze)return!1;var r=fze(e);if(r===null)return!0;var n=vze.call(r,"constructor")&&r.constructor;return typeof n=="function"&&n instanceof n&&JX.call(n)==xze}var wze=yze;const bze=xr(wze);var _ze=Tc,Sze=Ac,jze="[object Boolean]";function kze(e){return e===!0||e===!1||Sze(e)&&_ze(e)==jze}var Nze=kze;const Eze=xr(Nze);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hv(e)}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Bb.apply(this,arguments)}function Cze(e,r){return Pze(e)||Oze(e,r)||Aze(e,r)||Tze()}function Tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aze(e,r){if(e){if(typeof e=="string")return g5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g5(e,r)}}function g5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Oze(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function Pze(e){if(Array.isArray(e))return e}function v5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function x5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?v5(Object(n),!0).forEach(function(a){Dze(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Dze(e,r,n){return r=Rze(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Rze(e){var r=Ize(e,"string");return Hv(r)=="symbol"?r:r+""}function Ize(e,r){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Hv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var y5=function(r,n,a,s,i){var o=a-s,c;return c="M ".concat(r,",").concat(n),c+="L ".concat(r+a,",").concat(n),c+="L ".concat(r+a-o/2,",").concat(n+i),c+="L ".concat(r+a-o/2-s,",").concat(n+i),c+="L ".concat(r,",").concat(n," Z"),c},Mze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fze=function(r){var n=x5(x5({},Mze),r),a=y.useRef(),s=y.useState(-1),i=Cze(s,2),o=i[0],c=i[1];y.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var _=a.current.getTotalLength();_&&c(_)}catch{}},[]);var u=n.x,d=n.y,f=n.upperWidth,h=n.lowerWidth,m=n.height,p=n.className,v=n.animationEasing,g=n.animationDuration,x=n.animationBegin,b=n.isUpdateAnimationActive;if(u!==+u||d!==+d||f!==+f||h!==+h||m!==+m||f===0&&h===0||m===0)return null;var w=Bt("recharts-trapezoid",p);return b?ne.createElement(Cl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:u,y:d},to:{upperWidth:f,lowerWidth:h,height:m,x:u,y:d},duration:g,animationEasing:v,isActive:b},function(_){var S=_.upperWidth,j=_.lowerWidth,N=_.height,k=_.x,C=_.y;return ne.createElement(Cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:g,easing:v},ne.createElement("path",Bb({},Nt(n,!0),{className:w,d:y5(k,C,S,j,N),ref:a})))}):ne.createElement("g",null,ne.createElement("path",Bb({},Nt(n,!0),{className:w,d:y5(u,d,f,h,m)})))},Lze=["option","shapeType","propTransformer","activeClassName","isActive"];function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qv(e)}function $ze(e,r){if(e==null)return{};var n=Bze(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Bze(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function w5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ub(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?w5(Object(n),!0).forEach(function(a){Uze(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Uze(e,r,n){return r=Vze(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Vze(e){var r=zze(e,"string");return qv(r)=="symbol"?r:r+""}function zze(e,r){if(qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Wze(e,r){return Ub(Ub({},r),e)}function Hze(e,r){return e==="symbols"}function b5(e){var r=e.shapeType,n=e.elementProps;switch(r){case"rectangle":return ne.createElement(T4,n);case"trapezoid":return ne.createElement(Fze,n);case"sector":return ne.createElement(MX,n);case"symbols":if(Hze(r))return ne.createElement(KP,n);break;default:return null}}function qze(e){return y.isValidElement(e)?e.props:e}function QX(e){var r=e.option,n=e.shapeType,a=e.propTransformer,s=a===void 0?Wze:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,u=$ze(e,Lze),d;if(y.isValidElement(r))d=y.cloneElement(r,Ub(Ub({},u),qze(r)));else if(Pt(r))d=r(u);else if(bze(r)&&!Eze(r)){var f=s(r,u);d=ne.createElement(b5,{shapeType:n,elementProps:f})}else{var h=u;d=ne.createElement(b5,{shapeType:n,elementProps:h})}return c?ne.createElement(dr,{className:o},d):d}function aj(e,r){return r!=null&&"trapezoids"in e.props}function sj(e,r){return r!=null&&"sectors"in e.props}function Kv(e,r){return r!=null&&"points"in e.props}function Kze(e,r){var n,a,s=e.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===r.x,i=e.y===(r==null||(a=r.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===r.y;return s&&i}function Gze(e,r){var n=e.endAngle===r.endAngle,a=e.startAngle===r.startAngle;return n&&a}function Yze(e,r){var n=e.x===r.x,a=e.y===r.y,s=e.z===r.z;return n&&a&&s}function Xze(e,r){var n;return aj(e,r)?n=Kze:sj(e,r)?n=Gze:Kv(e,r)&&(n=Yze),n}function Jze(e,r){var n;return aj(e,r)?n="trapezoids":sj(e,r)?n="sectors":Kv(e,r)&&(n="points"),n}function Qze(e,r){if(aj(e,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sj(e,r)){var a;return(a=r.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Kv(e,r)?r.payload:{}}function Zze(e){var r=e.activeTooltipItem,n=e.graphicalItem,a=e.itemData,s=Jze(n,r),i=Qze(n,r),o=a.filter(function(u,d){var f=Zx(i,u),h=n.props[s].filter(function(v){var g=Xze(n,r);return g(v,r)}),m=n.props[s].indexOf(h[h.length-1]),p=d===m;return f&&p}),c=a.indexOf(o[o.length-1]);return c}var W1;function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lp(e)}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hh.apply(this,arguments)}function _5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ir(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_5(Object(n),!0).forEach(function(a){Ri(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function eWe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function S5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eJ(a.key),a)}}function tWe(e,r,n){return r&&S5(e.prototype,r),n&&S5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rWe(e,r,n){return r=Vb(r),nWe(e,ZX()?Reflect.construct(r,n||[],Vb(e).constructor):r.apply(e,n))}function nWe(e,r){if(r&&(lp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aWe(e)}function aWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZX=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vb(e)}function sWe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&KC(e,r)}function KC(e,r){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},KC(e,r)}function Ri(e,r,n){return r=eJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function eJ(e){var r=iWe(e,"string");return lp(r)=="symbol"?r:r+""}function iWe(e,r){if(lp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(lp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rs=function(e){function r(n){var a;return eWe(this,r),a=rWe(this,r,[n]),Ri(a,"pieRef",null),Ri(a,"sectorRefs",[]),Ri(a,"id",Zp("recharts-pie-")),Ri(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Pt(s)&&s()}),Ri(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Pt(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return sWe(r,e),tWe(r,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,u=i.dataKey,d=i.valueKey,f=Nt(this.props,!1),h=Nt(o,!1),m=Nt(c,!1),p=o&&o.offsetRadius||20,v=a.map(function(g,x){var b=(g.startAngle+g.endAngle)/2,w=$r(g.cx,g.cy,g.outerRadius+p,b),_=Ir(Ir(Ir(Ir({},f),g),{},{stroke:"none"},h),{},{index:x,textAnchor:r.getTextAnchor(w.x,g.cx)},w),S=Ir(Ir(Ir(Ir({},f),g),{},{fill:"none",stroke:g.fill},m),{},{index:x,points:[$r(g.cx,g.cy,g.outerRadius,b),w]}),j=u;return $t(u)&&$t(d)?j="value":$t(u)&&(j=d),ne.createElement(dr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},c&&r.renderLabelLineItem(c,S,"line"),r.renderLabelItem(o,_,Bn(g,j)))});return ne.createElement(dr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,c=i.blendStroke,u=i.inactiveShape;return a.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(f),m=u&&s.hasActiveIndex()?u:null,p=h?o:m,v=Ir(Ir({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return ne.createElement(dr,Hh({ref:function(x){x&&!s.sectorRefs.includes(x)&&s.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Tf(s.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),ne.createElement(QX,Hh({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state,m=h.prevSectors,p=h.prevIsAnimationActive;return ne.createElement(Cl,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,x=[],b=i&&i[0],w=b.startAngle;return i.forEach(function(_,S){var j=m&&m[S],N=S>0?ci(_,"paddingAngle",0):0;if(j){var k=ti(j.endAngle-j.startAngle,_.endAngle-_.startAngle),C=Ir(Ir({},_),{},{startAngle:w+N,endAngle:w+k(g)+N});x.push(C),w=C.endAngle}else{var E=_.endAngle,P=_.startAngle,I=ti(0,E-P),T=I(g),U=Ir(Ir({},_),{},{startAngle:w+N,endAngle:w+T+N});x.push(U),w=U.endAngle}}),ne.createElement(dr,null,a.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Zx(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,c=s.className,u=s.label,d=s.cx,f=s.cy,h=s.innerRadius,m=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Je(d)||!Je(f)||!Je(h)||!Je(m))return null;var g=Bt("recharts-pie",c);return ne.createElement(dr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){a.pieRef=b}},this.renderSectors(),u&&this.renderLabels(o),Xn.renderCallByParent(this.props,null,!1),(!p||v)&&cc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);if(Pt(a))return a(s);var o=Bt("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ne.createElement(Db,Hh({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(ne.isValidElement(a))return ne.cloneElement(a,s);var o=i;if(Pt(a)&&(o=a(s),ne.isValidElement(o)))return o;var c=Bt("recharts-pie-label-text",typeof a!="boolean"&&!Pt(a)?a.className:"");return ne.createElement(Af,Hh({},s,{alignmentBaseline:"middle",className:c}),o)}}])}(y.PureComponent);W1=rs;Ri(rs,"displayName","Pie");Ri(rs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ri(rs,"parseDeltaAngle",function(e,r){var n=ss(r-e),a=Math.min(Math.abs(r-e),360);return n*a});Ri(rs,"getRealPieData",function(e){var r=e.data,n=e.children,a=Nt(e,!1),s=ui(n,sl);return r&&r.length?r.map(function(i,o){return Ir(Ir(Ir({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ir(Ir({},a),i.props)}):[]});Ri(rs,"parseCoordinateOfPie",function(e,r){var n=r.top,a=r.left,s=r.width,i=r.height,o=PX(s,i),c=a+is(e.cx,s,s/2),u=n+is(e.cy,i,i/2),d=is(e.innerRadius,o,0),f=is(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}});Ri(rs,"getComposedData",function(e){var r=e.item,n=e.offset,a=r.type.defaultProps!==void 0?Ir(Ir({},r.type.defaultProps),r.props):r.props,s=W1.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,c=a.endAngle,u=a.paddingAngle,d=a.dataKey,f=a.nameKey,h=a.valueKey,m=a.tooltipType,p=Math.abs(a.minAngle),v=W1.parseCoordinateOfPie(a,n),g=W1.parseDeltaAngle(o,c),x=Math.abs(g),b=d;$t(d)&&$t(h)?(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):$t(d)&&(No(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=s.filter(function(C){return Bn(C,b,0)!==0}).length,_=(x>=360?w:w-1)*u,S=x-w*p-_,j=s.reduce(function(C,E){var P=Bn(E,b,0);return C+(Je(P)?P:0)},0),N;if(j>0){var k;N=s.map(function(C,E){var P=Bn(C,b,0),I=Bn(C,f,E),T=(Je(P)?P:0)/j,U;E?U=k.endAngle+ss(g)*u*(P!==0?1:0):U=o;var H=U+ss(g)*((P!==0?p:0)+T*S),F=(U+H)/2,M=(v.innerRadius+v.outerRadius)/2,z=[{name:I,value:P,payload:C,dataKey:b,type:m}],L=$r(v.cx,v.cy,M,F);return k=Ir(Ir(Ir({percent:T,cornerRadius:i,name:I,tooltipPayload:z,midAngle:F,middleRadius:M,tooltipPosition:L},C),v),{},{value:Bn(C,b),startAngle:U,endAngle:H,payload:C,paddingAngle:ss(g)*u}),k})}return Ir(Ir({},v),{},{sectors:N,data:s})});var oWe=Math.ceil,lWe=Math.max;function cWe(e,r,n,a){for(var s=-1,i=lWe(oWe((r-e)/(n||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=n;return o}var uWe=cWe,dWe=yY,j5=1/0,fWe=17976931348623157e292;function hWe(e){if(!e)return e===0?e:0;if(e=dWe(e),e===j5||e===-j5){var r=e<0?-1:1;return r*fWe}return e===e?e:0}var tJ=hWe,mWe=uWe,pWe=US,bN=tJ;function gWe(e){return function(r,n,a){return a&&typeof a!="number"&&pWe(r,n,a)&&(n=a=void 0),r=bN(r),n===void 0?(n=r,r=0):n=bN(n),a=a===void 0?r<n?1:-1:bN(a),mWe(r,n,a,e)}}var vWe=gWe,xWe=vWe,yWe=xWe(),wWe=yWe;const zb=xr(wWe);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gv(e)}function k5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function N5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?k5(Object(n),!0).forEach(function(a){rJ(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rJ(e,r,n){return r=bWe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function bWe(e){var r=_We(e,"string");return Gv(r)=="symbol"?r:r+""}function _We(e,r){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Gv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var SWe=["Webkit","Moz","O","ms"],jWe=function(r,n){var a=r.replace(/(\w)/,function(i){return i.toUpperCase()}),s=SWe.reduce(function(i,o){return N5(N5({},i),{},rJ({},o+a,n))},{});return s[r]=n,s};function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cp(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Wb.apply(this,arguments)}function E5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function _N(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?E5(Object(n),!0).forEach(function(a){Gs(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function kWe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function C5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aJ(a.key),a)}}function NWe(e,r,n){return r&&C5(e.prototype,r),n&&C5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EWe(e,r,n){return r=Hb(r),CWe(e,nJ()?Reflect.construct(r,n||[],Hb(e).constructor):r.apply(e,n))}function CWe(e,r){if(r&&(cp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TWe(e)}function TWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(e)}function AWe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&GC(e,r)}function GC(e,r){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GC(e,r)}function Gs(e,r,n){return r=aJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function aJ(e){var r=OWe(e,"string");return cp(r)=="symbol"?r:r+""}function OWe(e,r){if(cp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(cp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var PWe=function(r){var n=r.data,a=r.startIndex,s=r.endIndex,i=r.x,o=r.width,c=r.travellerWidth;if(!n||!n.length)return{};var u=n.length,d=kg().domain(zb(0,u)).range([i,i+o-c]),f=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:f}},T5=function(r){return r.changedTouches&&!!r.changedTouches.length},up=function(e){function r(n){var a;return kWe(this,r),a=EWe(this,r,[n]),Gs(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Gs(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Gs(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,c=s.startIndex;o==null||o({endIndex:i,startIndex:c})}),a.detachDragEndListener()}),Gs(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Gs(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Gs(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Gs(a,"handleSlideDragStart",function(s){var i=T5(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return AWe(r,e),NWe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,c=this.props,u=c.gap,d=c.data,f=d.length-1,h=Math.min(s,i),m=Math.max(s,i),p=r.getIndexInRange(o,h),v=r.getIndexInRange(o,m);return{startIndex:p-p%u,endIndex:v===f?f:v-v%u}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,c=s.dataKey,u=Bn(i[a],c,a);return Pt(o)?o(u,a):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,c=s.endX,u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.startIndex,p=u.endIndex,v=u.onChange,g=a.pageX-i;g>0?g=Math.min(g,d+f-h-c,d+f-h-o):g<0&&(g=Math.max(g,d-o,d-c));var x=this.getIndex({startX:o+g,endX:c+g});(x.startIndex!==m||x.endIndex!==p)&&v&&v(x),this.setState({startX:o+g,endX:c+g,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=T5(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,c=s.endX,u=s.startX,d=this.state[o],f=this.props,h=f.x,m=f.width,p=f.travellerWidth,v=f.onChange,g=f.gap,x=f.data,b={startX:this.state.startX,endX:this.state.endX},w=a.pageX-i;w>0?w=Math.min(w,h+m-p-d):w<0&&(w=Math.max(w,h-d)),b[o]=d+w;var _=this.getIndex(b),S=_.startIndex,j=_.endIndex,N=function(){var C=x.length-1;return o==="startX"&&(c>u?S%g===0:j%g===0)||c<u&&j===C||o==="endX"&&(c>u?j%g===0:S%g===0)||c>u&&j===C};this.setState(Gs(Gs({},o,d+w),"brushMoveStartX",a.pageX),function(){v&&N()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,c=o.scaleValues,u=o.startX,d=o.endX,f=this.state[s],h=c.indexOf(f);if(h!==-1){var m=h+a;if(!(m===-1||m>=c.length)){var p=c[m];s==="startX"&&p>=d||s==="endX"&&p<=u||this.setState(Gs({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.fill,d=a.stroke;return ne.createElement("rect",{stroke:d,fill:u,x:s,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.data,d=a.children,f=a.padding,h=y.Children.only(d);return h?ne.cloneElement(h,{x:s,y:i,width:o,height:c,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,c=this,u=this.props,d=u.y,f=u.travellerWidth,h=u.height,m=u.traveller,p=u.ariaLabel,v=u.data,g=u.startIndex,x=u.endIndex,b=Math.max(a,this.props.x),w=_N(_N({},Nt(this.props,!1)),{},{x:b,y:d,width:f,height:h}),_=p||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[x])===null||o===void 0?void 0:o.name);return ne.createElement(dr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(m,w))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,c=i.height,u=i.stroke,d=i.travellerWidth,f=Math.min(a,s)+d,h=Math.max(Math.abs(s-a)-d,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:h,height:c})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,c=a.height,u=a.travellerWidth,d=a.stroke,f=this.state,h=f.startX,m=f.endX,p=5,v={pointerEvents:"none",fill:d};return ne.createElement(dr,{className:"recharts-brush-texts"},ne.createElement(Af,Wb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-p,y:o+c/2},v),this.getTextOfTick(s)),ne.createElement(Af,Wb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+u+p,y:o+c/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,c=a.x,u=a.y,d=a.width,f=a.height,h=a.alwaysShowText,m=this.state,p=m.startX,v=m.endX,g=m.isTextActive,x=m.isSlideMoving,b=m.isTravellerMoving,w=m.isTravellerFocused;if(!s||!s.length||!Je(c)||!Je(u)||!Je(d)||!Je(f)||d<=0||f<=0)return null;var _=Bt("recharts-brush",i),S=ne.Children.count(o)===1,j=jWe("userSelect","none");return ne.createElement(dr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||x||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,c=a.height,u=a.stroke,d=Math.floor(i+c/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:s,y:i,width:o,height:c,fill:u,stroke:"none"}),ne.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return ne.isValidElement(a)?i=ne.cloneElement(a,s):Pt(a)?i=a(s):i=r.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,c=a.x,u=a.travellerWidth,d=a.updateId,f=a.startIndex,h=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return _N({prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o},i&&i.length?PWe({data:i,width:o,x:c,travellerWidth:u,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||c!==s.prevX||u!==s.prevTravellerWidth)){s.scale.range([c,c+o-u]);var m=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:u,prevUpdateId:d,prevX:c,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,c=i-1;c-o>1;){var u=Math.floor((o+c)/2);a[u]>s?c=u:o=u}return s>=a[c]?c:o}}])}(y.PureComponent);Gs(up,"displayName","Brush");Gs(up,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DWe=e4;function RWe(e,r){var n;return DWe(e,function(a,s,i){return n=r(a,s,i),!n}),!!n}var IWe=RWe,MWe=qG,FWe=Fl,LWe=IWe,$We=qs,BWe=US;function UWe(e,r,n){var a=$We(e)?MWe:LWe;return n&&BWe(e,r,n)&&(r=void 0),a(e,FWe(r))}var VWe=UWe;const zWe=xr(VWe);var xl=function(r,n){var a=r.alwaysShow,s=r.ifOverflow;return a&&(s="extendDomain"),s===n},A5=mY;function WWe(e,r,n){r=="__proto__"&&A5?A5(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n}var HWe=WWe,qWe=HWe,KWe=fY,GWe=Fl;function YWe(e,r){var n={};return r=GWe(r),KWe(e,function(a,s,i){qWe(n,s,r(a,s,i))}),n}var XWe=YWe;const JWe=xr(XWe);function QWe(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}var ZWe=QWe,eHe=e4;function tHe(e,r){var n=!0;return eHe(e,function(a,s,i){return n=!!r(a,s,i),n}),n}var rHe=tHe,nHe=ZWe,aHe=rHe,sHe=Fl,iHe=qs,oHe=US;function lHe(e,r,n){var a=iHe(e)?nHe:aHe;return n&&oHe(e,r,n)&&(r=void 0),a(e,sHe(r))}var cHe=lHe;const sJ=xr(cHe);var uHe=["x","y"];function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yv(e)}function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},YC.apply(this,arguments)}function O5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function D0(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?O5(Object(n),!0).forEach(function(a){dHe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dHe(e,r,n){return r=fHe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fHe(e){var r=hHe(e,"string");return Yv(r)=="symbol"?r:r+""}function hHe(e,r){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Yv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mHe(e,r){if(e==null)return{};var n=pHe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pHe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function gHe(e,r){var n=e.x,a=e.y,s=mHe(e,uHe),i="".concat(n),o=parseInt(i,10),c="".concat(a),u=parseInt(c,10),d="".concat(r.height||s.height),f=parseInt(d,10),h="".concat(r.width||s.width),m=parseInt(h,10);return D0(D0(D0(D0(D0({},r),s),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:m,name:r.name,radius:r.radius})}function P5(e){return ne.createElement(QX,YC({shapeType:"rectangle",propTransformer:gHe,activeClassName:"recharts-active-bar"},e))}var vHe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof r=="number")return r;var i=Je(a)||VAe(a);return i?r(a,s):(i||Pf(),n)}},xHe=["value","background"],iJ;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dp(e)}function yHe(e,r){if(e==null)return{};var n=wHe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function wHe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qb.apply(this,arguments)}function D5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function kn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?D5(Object(n),!0).forEach(function(a){vu(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function bHe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function R5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lJ(a.key),a)}}function _He(e,r,n){return r&&R5(e.prototype,r),n&&R5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SHe(e,r,n){return r=Kb(r),jHe(e,oJ()?Reflect.construct(r,n||[],Kb(e).constructor):r.apply(e,n))}function jHe(e,r){if(r&&(dp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kHe(e)}function kHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oJ=function(){return!!e})()}function Kb(e){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(e)}function NHe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&XC(e,r)}function XC(e,r){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XC(e,r)}function vu(e,r,n){return r=lJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function lJ(e){var r=EHe(e,"string");return dp(r)=="symbol"?r:r+""}function EHe(e,r){if(dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(dp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ty=function(e){function r(){var n;bHe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=SHe(this,r,[].concat(s)),vu(n,"state",{isAnimationFinished:!1}),vu(n,"id",Zp("recharts-bar-")),vu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),vu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return NHe(r,e),_He(r,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,c=i.dataKey,u=i.activeIndex,d=i.activeBar,f=Nt(this.props,!1);return a&&a.map(function(h,m){var p=m===u,v=p?d:o,g=kn(kn(kn({},f),h),{},{isActive:p,option:v,index:m,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ne.createElement(dr,qb({className:"recharts-bar-rectangle"},Tf(s.props,h,m),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(m)}),ne.createElement(P5,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,m=this.state.prevData;return ne.createElement(Cl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=i.map(function(x,b){var w=m&&m[b];if(w){var _=ti(w.x,x.x),S=ti(w.y,x.y),j=ti(w.width,x.width),N=ti(w.height,x.height);return kn(kn({},x),{},{x:_(v),y:S(v),width:j(v),height:N(v)})}if(o==="horizontal"){var k=ti(0,x.height),C=k(v);return kn(kn({},x),{},{y:x.y+x.height-C,height:C})}var E=ti(0,x.width),P=E(v);return kn(kn({},x),{},{width:P})});return ne.createElement(dr,null,a.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Zx(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,c=s.activeIndex,u=Nt(this.props.background,!1);return i.map(function(d,f){d.value;var h=d.background,m=yHe(d,xHe);if(!h)return null;var p=kn(kn(kn(kn(kn({},m),{},{fill:"#eee"},h),u),Tf(a.props,d,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ne.createElement(P5,qb({key:"background-bar-".concat(f),option:a.props.background,isActive:f===c},p))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=ui(f,ey);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,p=function(x,b){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Bn(x,b)}},v={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(dr,v,h.map(function(g){return ne.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,c=a.xAxis,u=a.yAxis,d=a.left,f=a.top,h=a.width,m=a.height,p=a.isAnimationActive,v=a.background,g=a.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=Bt("recharts-bar",o),w=c&&c.allowDataOverflow,_=u&&u.allowDataOverflow,S=w||_,j=$t(g)?this.id:g;return ne.createElement(dr,{className:b},w||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(j)},ne.createElement("rect",{x:w?d:d-h/2,y:_?f:f-m/2,width:w?h:h*2,height:_?m:m*2}))):null,ne.createElement(dr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||x)&&cc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(y.PureComponent);iJ=ty;vu(ty,"displayName","Bar");vu(ty,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});vu(ty,"getComposedData",function(e){var r=e.props,n=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,f=e.dataStartIndex,h=e.displayedData,m=e.offset,p=oUe(a,n);if(!p)return null;var v=r.layout,g=n.type.defaultProps,x=g!==void 0?kn(kn({},g),n.props):n.props,b=x.dataKey,w=x.children,_=x.minPointSize,S=v==="horizontal"?o:i,j=d?S.scale.domain():null,N=mUe({numericAxis:S}),k=ui(w,sl),C=h.map(function(E,P){var I,T,U,H,F,M;d?I=lUe(d[f+P],j):(I=Bn(E,b),Array.isArray(I)||(I=[N,I]));var z=vHe(_,iJ.defaultProps.minPointSize)(I[1],P);if(v==="horizontal"){var L,R=[o.scale(I[0]),o.scale(I[1])],J=R[0],te=R[1];T=S$({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:E,index:P}),U=(L=te??J)!==null&&L!==void 0?L:void 0,H=p.size;var A=J-te;if(F=Number.isNaN(A)?0:A,M={x:T,y:o.y,width:H,height:o.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var X=ss(F||z)*(Math.abs(z)-Math.abs(F));U-=X,F+=X}}else{var V=[i.scale(I[0]),i.scale(I[1])],q=V[0],ae=V[1];if(T=q,U=S$({axis:o,ticks:u,bandSize:s,offset:p.offset,entry:E,index:P}),H=ae-q,F=p.size,M={x:i.x,y:U,width:i.width,height:F},Math.abs(z)>0&&Math.abs(H)<Math.abs(z)){var ce=ss(H||z)*(Math.abs(z)-Math.abs(H));H+=ce}}return kn(kn(kn({},E),{},{x:T,y:U,width:H,height:F,value:d?I:I[1],payload:E,background:M},k&&k[P]&&k[P].props),{},{tooltipPayload:[AX(n,E)],tooltipPosition:{x:T+H/2,y:U+F/2}})});return kn({data:C,layout:v},m)});function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xv(e)}function CHe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function I5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,cJ(a.key),a)}}function THe(e,r,n){return r&&I5(e.prototype,r),n&&I5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function mo(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?M5(Object(n),!0).forEach(function(a){ij(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ij(e,r,n){return r=cJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cJ(e){var r=AHe(e,"string");return Xv(r)=="symbol"?r:r+""}function AHe(e,r){if(Xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Xv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var OHe=function(r,n,a,s,i){var o=r.width,c=r.height,u=r.layout,d=r.children,f=Object.keys(n),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:c-a.bottom,bottomMirror:c-a.bottom},m=!!Xs(d,ty);return f.reduce(function(p,v){var g=n[v],x=g.orientation,b=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,j=g.reversed,N="".concat(x).concat(S?"Mirror":""),k,C,E,P,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var T=b[1]-b[0],U=1/0,H=g.categoricalDomain.sort(HAe);if(H.forEach(function(V,q){q>0&&(U=Math.min((V||0)-(H[q-1]||0),U))}),Number.isFinite(U)){var F=U/T,M=g.layout==="vertical"?a.height:a.width;if(g.padding==="gap"&&(k=F*M/2),g.padding==="no-gap"){var z=is(r.barCategoryGap,F*M),L=F*M/2;k=L-z-(L-z)/M*z}}}s==="xAxis"?C=[a.left+(_.left||0)+(k||0),a.left+a.width-(_.right||0)-(k||0)]:s==="yAxis"?C=u==="horizontal"?[a.top+a.height-(_.bottom||0),a.top+(_.top||0)]:[a.top+(_.top||0)+(k||0),a.top+a.height-(_.bottom||0)-(k||0)]:C=g.range,j&&(C=[C[1],C[0]]);var R=NX(g,i,m),J=R.scale,te=R.realScaleType;J.domain(b).range(C),EX(J);var A=CX(J,mo(mo({},g),{},{realScaleType:te}));s==="xAxis"?(I=x==="top"&&!S||x==="bottom"&&S,E=a.left,P=h[N]-I*g.height):s==="yAxis"&&(I=x==="left"&&!S||x==="right"&&S,E=h[N]-I*g.width,P=a.top);var X=mo(mo(mo({},g),A),{},{realScaleType:te,x:E,y:P,scale:J,width:s==="xAxis"?a.width:g.width,height:s==="yAxis"?a.height:g.height});return X.bandSize=Ab(X,A),!g.hide&&s==="xAxis"?h[N]+=(I?-1:1)*X.height:g.hide||(h[N]+=(I?-1:1)*X.width),mo(mo({},p),{},ij({},v,X))},{})},uJ=function(r,n){var a=r.x,s=r.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},PHe=function(r){var n=r.x1,a=r.y1,s=r.x2,i=r.y2;return uJ({x:n,y:a},{x:s,y:i})},dJ=function(){function e(r){CHe(this,e),this.scale=r}return THe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(s){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])}();ij(dJ,"EPS",1e-4);var A4=function(r){var n=Object.keys(r).reduce(function(a,s){return mo(mo({},a),{},ij({},s,dJ.create(r[s])))},{});return mo(mo({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return JWe(s,function(u,d){return n[d].apply(u,{bandAware:o,position:c})})},isInRange:function(s){return sJ(s,function(i,o){return n[o].isInRange(i)})}})};function DHe(e){return(e%180+180)%180}var RHe=function(r){var n=r.width,a=r.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=DHe(s),o=i*Math.PI/180,c=Math.atan(a/n),u=o>c&&o<Math.PI-c?a/Math.sin(o):n/Math.cos(o);return Math.abs(u)},IHe=Fl,MHe=Gx,FHe=$S;function LHe(e){return function(r,n,a){var s=Object(r);if(!MHe(r)){var i=IHe(n);r=FHe(r),n=function(c){return i(s[c],c,s)}}var o=e(r,n,a);return o>-1?s[i?r[o]:o]:void 0}}var $He=LHe,BHe=tJ;function UHe(e){var r=BHe(e),n=r%1;return r===r?n?r-n:r:0}var VHe=UHe,zHe=iY,WHe=Fl,HHe=VHe,qHe=Math.max;function KHe(e,r,n){var a=e==null?0:e.length;if(!a)return-1;var s=n==null?0:HHe(n);return s<0&&(s=qHe(a+s,0)),zHe(e,WHe(r),s)}var GHe=KHe,YHe=$He,XHe=GHe,JHe=YHe(XHe),QHe=JHe;const ZHe=xr(QHe);var eqe=qTe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),O4=y.createContext(void 0),P4=y.createContext(void 0),fJ=y.createContext(void 0),hJ=y.createContext({}),mJ=y.createContext(void 0),pJ=y.createContext(0),gJ=y.createContext(0),F5=function(r){var n=r.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=r.clipPathId,c=r.children,u=r.width,d=r.height,f=eqe(i);return ne.createElement(O4.Provider,{value:a},ne.createElement(P4.Provider,{value:s},ne.createElement(hJ.Provider,{value:i},ne.createElement(fJ.Provider,{value:f},ne.createElement(mJ.Provider,{value:o},ne.createElement(pJ.Provider,{value:d},ne.createElement(gJ.Provider,{value:u},c)))))))},tqe=function(){return y.useContext(mJ)},vJ=function(r){var n=y.useContext(O4);n==null&&Pf();var a=n[r];return a==null&&Pf(),a},rqe=function(){var r=y.useContext(O4);return tu(r)},nqe=function(){var r=y.useContext(P4),n=ZHe(r,function(a){return sJ(a.domain,Number.isFinite)});return n||tu(r)},xJ=function(r){var n=y.useContext(P4);n==null&&Pf();var a=n[r];return a==null&&Pf(),a},aqe=function(){var r=y.useContext(fJ);return r},sqe=function(){return y.useContext(hJ)},D4=function(){return y.useContext(gJ)},R4=function(){return y.useContext(pJ)};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fp(e)}function iqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function oqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,wJ(a.key),a)}}function lqe(e,r,n){return r&&oqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cqe(e,r,n){return r=Gb(r),uqe(e,yJ()?Reflect.construct(r,n||[],Gb(e).constructor):r.apply(e,n))}function uqe(e,r){if(r&&(fp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dqe(e)}function dqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yJ=function(){return!!e})()}function Gb(e){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(e)}function fqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&JC(e,r)}function JC(e,r){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JC(e,r)}function L5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?L5(Object(n),!0).forEach(function(a){I4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function I4(e,r,n){return r=wJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wJ(e){var r=hqe(e,"string");return fp(r)=="symbol"?r:r+""}function hqe(e,r){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(fp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mqe(e,r){return xqe(e)||vqe(e,r)||gqe(e,r)||pqe()}function pqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gqe(e,r){if(e){if(typeof e=="string")return B5(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B5(e,r)}}function B5(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function vqe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function xqe(e){if(Array.isArray(e))return e}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},QC.apply(this,arguments)}var yqe=function(r,n){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,n):Pt(r)?a=r(n):a=ne.createElement("line",QC({},n,{className:"recharts-reference-line-line"})),a},wqe=function(r,n,a,s,i,o,c,u,d){var f=i.x,h=i.y,m=i.width,p=i.height;if(a){var v=d.y,g=r.y.apply(v,{position:o});if(xl(d,"discard")&&!r.y.isInRange(g))return null;var x=[{x:f+m,y:g},{x:f,y:g}];return u==="left"?x.reverse():x}if(n){var b=d.x,w=r.x.apply(b,{position:o});if(xl(d,"discard")&&!r.x.isInRange(w))return null;var _=[{x:w,y:h+p},{x:w,y:h}];return c==="top"?_.reverse():_}if(s){var S=d.segment,j=S.map(function(N){return r.apply(N,{position:o})});return xl(d,"discard")&&zWe(j,function(N){return!r.isInRange(N)})?null:j}return null};function bqe(e){var r=e.x,n=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,u=e.alwaysShow,d=tqe(),f=vJ(s),h=xJ(i),m=aqe();if(!d||!m)return null;No(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=A4({x:f.scale,y:h.scale}),v=zn(r),g=zn(n),x=a&&a.length===2,b=wqe(p,v,g,x,m,e.position,f.orientation,h.orientation,e);if(!b)return null;var w=mqe(b,2),_=w[0],S=_.x,j=_.y,N=w[1],k=N.x,C=N.y,E=xl(e,"hidden")?"url(#".concat(d,")"):void 0,P=$5($5({clipPath:E},Nt(e,!0)),{},{x1:S,y1:j,x2:k,y2:C});return ne.createElement(dr,{className:Bt("recharts-reference-line",c)},yqe(o,P),Xn.renderCallByParent(e,PHe({x1:S,y1:j,x2:k,y2:C})))}var M4=function(e){function r(){return iqe(this,r),cqe(this,r,arguments)}return fqe(r,e),lqe(r,[{key:"render",value:function(){return ne.createElement(bqe,this.props)}}])}(ne.Component);I4(M4,"displayName","ReferenceLine");I4(M4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ZC.apply(this,arguments)}function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hp(e)}function U5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function V5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?U5(Object(n),!0).forEach(function(a){oj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _qe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_J(a.key),a)}}function jqe(e,r,n){return r&&Sqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kqe(e,r,n){return r=Yb(r),Nqe(e,bJ()?Reflect.construct(r,n||[],Yb(e).constructor):r.apply(e,n))}function Nqe(e,r){if(r&&(hp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eqe(e)}function Eqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bJ=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(e)}function Cqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&eT(e,r)}function eT(e,r){return eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},eT(e,r)}function oj(e,r,n){return r=_J(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function _J(e){var r=Tqe(e,"string");return hp(r)=="symbol"?r:r+""}function Tqe(e,r){if(hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(hp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Aqe=function(r){var n=r.x,a=r.y,s=r.xAxis,i=r.yAxis,o=A4({x:s.scale,y:i.scale}),c=o.apply({x:n,y:a},{bandAware:!0});return xl(r,"discard")&&!o.isInRange(c)?null:c},lj=function(e){function r(){return _qe(this,r),kqe(this,r,arguments)}return Cqe(r,e),jqe(r,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,c=a.alwaysShow,u=a.clipPathId,d=zn(s),f=zn(i);if(No(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var h=Aqe(this.props);if(!h)return null;var m=h.x,p=h.y,v=this.props,g=v.shape,x=v.className,b=xl(this.props,"hidden")?"url(#".concat(u,")"):void 0,w=V5(V5({clipPath:b},Nt(this.props,!0)),{},{cx:m,cy:p});return ne.createElement(dr,{className:Bt("recharts-reference-dot",x)},r.renderDot(g,w),Xn.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(ne.Component);oj(lj,"displayName","ReferenceDot");oj(lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});oj(lj,"renderDot",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Pt(e)?n=e(r):n=ne.createElement(ZS,ZC({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function tT(){return tT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tT.apply(this,arguments)}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mp(e)}function z5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function W5(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?z5(Object(n),!0).forEach(function(a){cj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Oqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pqe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,jJ(a.key),a)}}function Dqe(e,r,n){return r&&Pqe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rqe(e,r,n){return r=Xb(r),Iqe(e,SJ()?Reflect.construct(r,n||[],Xb(e).constructor):r.apply(e,n))}function Iqe(e,r){if(r&&(mp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mqe(e)}function Mqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SJ=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(e)}function Fqe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&rT(e,r)}function rT(e,r){return rT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},rT(e,r)}function cj(e,r,n){return r=jJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function jJ(e){var r=Lqe(e,"string");return mp(r)=="symbol"?r:r+""}function Lqe(e,r){if(mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(mp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var $qe=function(r,n,a,s,i){var o=i.x1,c=i.x2,u=i.y1,d=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var m=A4({x:f.scale,y:h.scale}),p={x:r?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:a?m.y.apply(u,{position:"start"}):m.y.rangeMin},v={x:n?m.x.apply(c,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(d,{position:"end"}):m.y.rangeMax};return xl(i,"discard")&&(!m.isInRange(p)||!m.isInRange(v))?null:uJ(p,v)},uj=function(e){function r(){return Oqe(this,r),Rqe(this,r,arguments)}return Fqe(r,e),Dqe(r,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,c=a.y2,u=a.className,d=a.alwaysShow,f=a.clipPathId;No(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zn(s),m=zn(i),p=zn(o),v=zn(c),g=this.props.shape;if(!h&&!m&&!p&&!v&&!g)return null;var x=$qe(h,m,p,v,this.props);if(!x&&!g)return null;var b=xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ne.createElement(dr,{className:Bt("recharts-reference-area",u)},r.renderRect(g,W5(W5({clipPath:b},Nt(this.props,!0)),x)),Xn.renderCallByParent(this.props,x))}}])}(ne.Component);cj(uj,"displayName","ReferenceArea");cj(uj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cj(uj,"renderRect",function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):Pt(e)?n=e(r):n=ne.createElement(T4,tT({},r,{className:"recharts-reference-area-rect"})),n});function kJ(e,r,n){if(r<1)return[];if(r===1&&n===void 0)return e;for(var a=[],s=0;s<e.length;s+=r)a.push(e[s]);return a}function Bqe(e,r,n){var a={width:e.width+r.width,height:e.height+r.height};return RHe(a,n)}function Uqe(e,r,n){var a=n==="width",s=e.x,i=e.y,o=e.width,c=e.height;return r===1?{start:a?s:i,end:a?s+o:i+c}:{start:a?s+o:i+c,end:a?s:i}}function Jb(e,r,n,a,s){if(e*r<e*a||e*r>e*s)return!1;var i=n();return e*(r-e*i/2-a)>=0&&e*(r+e*i/2-s)<=0}function Vqe(e,r){return kJ(e,r+1)}function zqe(e,r,n,a,s){for(var i=(a||[]).slice(),o=r.start,c=r.end,u=0,d=1,f=o,h=function(){var v=a==null?void 0:a[u];if(v===void 0)return{v:kJ(a,d)};var g=u,x,b=function(){return x===void 0&&(x=n(v,g)),x},w=v.coordinate,_=u===0||Jb(e,w,b,f,c);_||(u=0,f=o,d+=1),_&&(f=w+e*(b()/2+s),u+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jv(e)}function H5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ca(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?H5(Object(n),!0).forEach(function(a){Wqe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Wqe(e,r,n){return r=Hqe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Hqe(e){var r=qqe(e,"string");return Jv(r)=="symbol"?r:r+""}function qqe(e,r){if(Jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Jv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Kqe(e,r,n,a,s){for(var i=(a||[]).slice(),o=i.length,c=r.start,u=r.end,d=function(m){var p=i[m],v,g=function(){return v===void 0&&(v=n(p,m)),v};if(m===o-1){var x=e*(p.coordinate+e*g()/2-u);i[m]=p=Ca(Ca({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[m]=p=Ca(Ca({},p),{},{tickCoord:p.coordinate});var b=Jb(e,p.tickCoord,g,c,u);b&&(u=p.tickCoord-e*(g()/2+s),i[m]=Ca(Ca({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function Gqe(e,r,n,a,s,i){var o=(a||[]).slice(),c=o.length,u=r.start,d=r.end;if(i){var f=a[c-1],h=n(f,c-1),m=e*(f.coordinate+e*h/2-d);o[c-1]=f=Ca(Ca({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var p=Jb(e,f.tickCoord,function(){return h},u,d);p&&(d=f.tickCoord-e*(h/2+s),o[c-1]=Ca(Ca({},f),{},{isShow:!0}))}for(var v=i?c-1:c,g=function(w){var _=o[w],S,j=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var N=e*(_.coordinate-e*j()/2-u);o[w]=_=Ca(Ca({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else o[w]=_=Ca(Ca({},_),{},{tickCoord:_.coordinate});var k=Jb(e,_.tickCoord,j,u,d);k&&(u=_.tickCoord+e*(j()/2+s),o[w]=Ca(Ca({},_),{},{isShow:!0}))},x=0;x<v;x++)g(x);return o}function F4(e,r,n){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,u=e.interval,d=e.tickFormatter,f=e.unit,h=e.angle;if(!s||!s.length||!a)return[];if(Je(u)||gl.isSsr)return Vqe(s,typeof u=="number"&&Je(u)?u:0);var m=[],p=c==="top"||c==="bottom"?"width":"height",v=f&&p==="width"?jg(f,{fontSize:r,letterSpacing:n}):{width:0,height:0},g=function(_,S){var j=Pt(d)?d(_.value,S):_.value;return p==="width"?Bqe(jg(j,{fontSize:r,letterSpacing:n}),v,h):jg(j,{fontSize:r,letterSpacing:n})[p]},x=s.length>=2?ss(s[1].coordinate-s[0].coordinate):1,b=Uqe(i,x,p);return u==="equidistantPreserveStart"?zqe(x,b,g,s,o):(u==="preserveStart"||u==="preserveStartEnd"?m=Gqe(x,b,g,s,o,u==="preserveStartEnd"):m=Kqe(x,b,g,s,o),m.filter(function(w){return w.isShow}))}var Yqe=["viewBox"],Xqe=["viewBox"],Jqe=["ticks"];function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pp(e)}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qh.apply(this,arguments)}function q5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Rn(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?q5(Object(n),!0).forEach(function(a){L4(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function SN(e,r){if(e==null)return{};var n=Qqe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Qqe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Zqe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function K5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EJ(a.key),a)}}function eKe(e,r,n){return r&&K5(e.prototype,r),n&&K5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tKe(e,r,n){return r=Qb(r),rKe(e,NJ()?Reflect.construct(r,n||[],Qb(e).constructor):r.apply(e,n))}function rKe(e,r){if(r&&(pp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nKe(e)}function nKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!e})()}function Qb(e){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(e)}function aKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&nT(e,r)}function nT(e,r){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},nT(e,r)}function L4(e,r,n){return r=EJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function EJ(e){var r=sKe(e,"string");return pp(r)=="symbol"?r:r+""}function sKe(e,r){if(pp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(pp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var i0=function(e){function r(n){var a;return Zqe(this,r),a=tKe(this,r,[n]),a.state={fontSize:"",letterSpacing:""},a}return aKe(r,e),eKe(r,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=SN(a,Yqe),c=this.props,u=c.viewBox,d=SN(c,Xqe);return!fm(i,u)||!fm(o,d)||!fm(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,c=s.width,u=s.height,d=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,p,v,g,x,b,w,_=h?-1:1,S=a.tickSize||f,j=Je(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=v=a.coordinate,x=o+ +!h*u,g=x-_*S,w=g-_*m,b=j;break;case"left":g=x=a.coordinate,v=i+ +!h*c,p=v-_*S,b=p-_*m,w=j;break;case"right":g=x=a.coordinate,v=i+ +h*c,p=v+_*S,b=p+_*m,w=j;break;default:p=v=a.coordinate,x=o+ +h*u,g=x+_*S,w=g+_*m,b=j;break}return{line:{x1:p,y1:g,x2:v,y2:x},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,c=a.height,u=a.orientation,d=a.mirror,f=a.axisLine,h=Rn(Rn(Rn({},Nt(this.props,!1)),Nt(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var m=+(u==="top"&&!d||u==="bottom"&&d);h=Rn(Rn({},h),{},{x1:s,y1:i+m*c,x2:s+o,y2:i+m*c})}else{var p=+(u==="left"&&!d||u==="right"&&d);h=Rn(Rn({},h),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+c})}return ne.createElement("line",qh({},h,{className:Bt("recharts-cartesian-axis-line",ci(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,c=this.props,u=c.tickLine,d=c.stroke,f=c.tick,h=c.tickFormatter,m=c.unit,p=F4(Rn(Rn({},this.props),{},{ticks:a}),s,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),x=Nt(this.props,!1),b=Nt(f,!1),w=Rn(Rn({},x),{},{fill:"none"},Nt(u,!1)),_=p.map(function(S,j){var N=o.getTickLineCoord(S),k=N.line,C=N.tick,E=Rn(Rn(Rn(Rn({textAnchor:v,verticalAnchor:g},x),{},{stroke:"none",fill:d},b),C),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:h});return ne.createElement(dr,qh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Tf(o.props,S,j)),u&&ne.createElement("line",qh({},w,k,{className:Bt("recharts-cartesian-axis-tick-line",ci(u,"className"))})),f&&r.renderTickItem(f,E,"".concat(Pt(h)?h(S.value,j):S.value).concat(m||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,c=s.height,u=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var h=this.props,m=h.ticks,p=SN(h,Jqe),v=m;return Pt(u)&&(v=m&&m.length>0?u(this.props):u(p)),o<=0||c<=0||!v||!v.length?null:ne.createElement(dr,{className:Bt("recharts-cartesian-axis",d),ref:function(x){a.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,c=Bt(s.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(a)?o=ne.cloneElement(a,Rn(Rn({},s),{},{className:c})):Pt(a)?o=a(Rn(Rn({},s),{},{className:c})):o=ne.createElement(Af,qh({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);L4(i0,"displayName","CartesianAxis");L4(i0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iKe=["x1","y1","x2","y2","key"],oKe=["offset"];function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Df(e)}function G5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Oa(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?G5(Object(n),!0).forEach(function(a){lKe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lKe(e,r,n){return r=cKe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function cKe(e){var r=uKe(e,"string");return Df(r)=="symbol"?r:r+""}function uKe(e,r){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Df(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ud.apply(this,arguments)}function Y5(e,r){if(e==null)return{};var n=dKe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function dKe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}var fKe=function(r){var n=r.fill;if(!n||n==="none")return null;var a=r.fillOpacity,s=r.x,i=r.y,o=r.width,c=r.height,u=r.ry;return ne.createElement("rect",{x:s,y:i,ry:u,width:o,height:c,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function CJ(e,r){var n;if(ne.isValidElement(e))n=ne.cloneElement(e,r);else if(Pt(e))n=e(r);else{var a=r.x1,s=r.y1,i=r.x2,o=r.y2,c=r.key,u=Y5(r,iKe),d=Nt(u,!1);d.offset;var f=Y5(d,oKe);n=ne.createElement("line",Ud({},f,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:c}))}return n}function hKe(e){var r=e.x,n=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Oa(Oa({},e),{},{x1:r,y1:c,x2:r+n,y2:c,key:"line-".concat(u),index:u});return CJ(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mKe(e){var r=e.y,n=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(c,u){var d=Oa(Oa({},e),{},{x1:c,y1:r,x2:c,y2:r+n,key:"line-".concat(u),index:u});return CJ(s,d)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function pKe(e){var r=e.horizontalFill,n=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,c=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!r||!r.length)return null;var f=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var v=!f[p+1],g=v?s+o-m:f[p+1]-m;if(g<=0)return null;var x=p%r.length;return ne.createElement("rect",{key:"react-".concat(p),y:m,x:a,height:g,width:i,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function gKe(e){var r=e.vertical,n=r===void 0?!0:r,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,c=e.width,u=e.height,d=e.verticalPoints;if(!n||!a||!a.length)return null;var f=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,p){return m-p});i!==f[0]&&f.unshift(0);var h=f.map(function(m,p){var v=!f[p+1],g=v?i+c-m:f[p+1]-m;if(g<=0)return null;var x=p%a.length;return ne.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:g,height:u,stroke:"none",fill:a[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vKe=function(r,n){var a=r.xAxis,s=r.width,i=r.height,o=r.offset;return kX(F4(Oa(Oa(Oa({},i0.defaultProps),a),{},{ticks:nc(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},xKe=function(r,n){var a=r.yAxis,s=r.width,i=r.height,o=r.offset;return kX(F4(Oa(Oa(Oa({},i0.defaultProps),a),{},{ticks:nc(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},mh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $4(e){var r,n,a,s,i,o,c=D4(),u=R4(),d=sqe(),f=Oa(Oa({},e),{},{stroke:(r=e.stroke)!==null&&r!==void 0?r:mh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:mh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:mh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:mh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:mh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:mh.verticalFill,x:Je(e.x)?e.x:d.left,y:Je(e.y)?e.y:d.top,width:Je(e.width)?e.width:d.width,height:Je(e.height)?e.height:d.height}),h=f.x,m=f.y,p=f.width,v=f.height,g=f.syncWithTicks,x=f.horizontalValues,b=f.verticalValues,w=rqe(),_=nqe();if(!Je(p)||p<=0||!Je(v)||v<=0||!Je(h)||h!==+h||!Je(m)||m!==+m)return null;var S=f.verticalCoordinatesGenerator||vKe,j=f.horizontalCoordinatesGenerator||xKe,N=f.horizontalPoints,k=f.verticalPoints;if((!N||!N.length)&&Pt(j)){var C=x&&x.length,E=j({yAxis:_?Oa(Oa({},_),{},{ticks:C?x:_.ticks}):void 0,width:c,height:u,offset:d},C?!0:g);No(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Df(E),"]")),Array.isArray(E)&&(N=E)}if((!k||!k.length)&&Pt(S)){var P=b&&b.length,I=S({xAxis:w?Oa(Oa({},w),{},{ticks:P?b:w.ticks}):void 0,width:c,height:u,offset:d},P?!0:g);No(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Df(I),"]")),Array.isArray(I)&&(k=I)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(fKe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ne.createElement(hKe,Ud({},f,{offset:d,horizontalPoints:N,xAxis:w,yAxis:_})),ne.createElement(mKe,Ud({},f,{offset:d,verticalPoints:k,xAxis:w,yAxis:_})),ne.createElement(pKe,Ud({},f,{horizontalPoints:N})),ne.createElement(gKe,Ud({},f,{verticalPoints:k})))}$4.displayName="CartesianGrid";var yKe=["type","layout","connectNulls","ref"],wKe=["key"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gp(e)}function X5(e,r){if(e==null)return{};var n=bKe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function bKe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ag.apply(this,arguments)}function J5(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ks(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?J5(Object(n),!0).forEach(function(a){po(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function ph(e){return kKe(e)||jKe(e)||SKe(e)||_Ke()}function _Ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SKe(e,r){if(e){if(typeof e=="string")return aT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(e,r)}}function jKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kKe(e){if(Array.isArray(e))return aT(e)}function aT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function NKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Q5(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AJ(a.key),a)}}function EKe(e,r,n){return r&&Q5(e.prototype,r),n&&Q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CKe(e,r,n){return r=Zb(r),TKe(e,TJ()?Reflect.construct(r,n||[],Zb(e).constructor):r.apply(e,n))}function TKe(e,r){if(r&&(gp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AKe(e)}function AKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TJ=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zb(e)}function OKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&sT(e,r)}function sT(e,r){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sT(e,r)}function po(e,r,n){return r=AJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function AJ(e){var r=PKe(e,"string");return gp(r)=="symbol"?r:r+""}function PKe(e,r){if(gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(gp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var o0=function(e){function r(){var n;NKe(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=CKe(this,r,[].concat(s)),po(n,"state",{isAnimationFinished:!0,totalLength:0}),po(n,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),po(n,"getStrokeDasharray",function(o,c,u){var d=u.reduce(function(b,w){return b+w});if(!d)return n.generateSimpleStrokeDasharray(c,o);for(var f=Math.floor(o/d),h=o%d,m=c-o,p=[],v=0,g=0;v<u.length;g+=u[v],++v)if(g+u[v]>h){p=[].concat(ph(u.slice(0,v)),[h-g]);break}var x=p.length%2===0?[0,m]:[m];return[].concat(ph(r.repeat(u,f)),ph(p),x).map(function(b){return"".concat(b,"px")}).join(", ")}),po(n,"id",Zp("recharts-line-")),po(n,"pathRef",function(o){n.mainCurve=o}),po(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),po(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return OKe(r,e),EKe(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,u=i.yAxis,d=i.layout,f=i.children,h=ui(f,ey);if(!h)return null;var m=function(g,x){return{x:g.x,y:g.y,value:g.value,errorVal:Bn(g.payload,x)}},p={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ne.createElement(dr,p,h.map(function(v){return ne.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:c,yAxis:u,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Nt(this.props,!1),m=Nt(u,!0),p=d.map(function(g,x){var b=Ks(Ks(Ks({key:"dot-".concat(x),r:3},h),m),{},{index:x,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:d});return r.renderDotItem(u,b)}),v={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ne.createElement(dr,Ag({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(a,s,i,o){var c=this.props,u=c.type,d=c.layout,f=c.connectNulls;c.ref;var h=X5(c,yKe),m=Ks(Ks(Ks({},Nt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:u,layout:d,connectNulls:f});return ne.createElement(Db,Ag({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,c=o.points,u=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,m=o.animationEasing,p=o.animationId,v=o.animateNewValues,g=o.width,x=o.height,b=this.state,w=b.prevPoints,_=b.totalLength;return ne.createElement(Cl,{begin:f,duration:h,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(w){var N=w.length/c.length,k=c.map(function(T,U){var H=Math.floor(U*N);if(w[H]){var F=w[H],M=ti(F.x,T.x),z=ti(F.y,T.y);return Ks(Ks({},T),{},{x:M(j),y:z(j)})}if(v){var L=ti(g*2,T.x),R=ti(x/2,T.y);return Ks(Ks({},T),{},{x:L(j),y:R(j)})}return Ks(Ks({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(k,a,s)}var C=ti(0,_),E=C(j),P;if(u){var I="".concat(u).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});P=i.getStrokeDasharray(E,_,I)}else P=i.generateSimpleStrokeDasharray(_,E);return i.renderCurveStatically(c,a,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.totalLength;return c&&o&&o.length&&(!d&&f>0||!Zx(d,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,c=s.points,u=s.className,d=s.xAxis,f=s.yAxis,h=s.top,m=s.left,p=s.width,v=s.height,g=s.isAnimationActive,x=s.id;if(i||!c||!c.length)return null;var b=this.state.isAnimationFinished,w=c.length===1,_=Bt("recharts-line",u),S=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,N=S||j,k=$t(x)?this.id:x,C=(a=Nt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},E=C.r,P=E===void 0?3:E,I=C.strokeWidth,T=I===void 0?2:I,U=eOe(o)?o:{},H=U.clipDot,F=H===void 0?!0:H,M=P*2+T;return ne.createElement(dr,{className:_},S||j?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(k)},ne.createElement("rect",{x:S?m:m-p/2,y:j?h:h-v/2,width:S?p:p*2,height:j?v:v*2})),!F&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(k)},ne.createElement("rect",{x:m-M/2,y:h-M/2,width:p+M,height:v+M}))):null,!w&&this.renderCurve(N,k),this.renderErrorBar(N,k),(w||o)&&this.renderDots(N,F,k),(!g||b)&&cc.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(ph(a),[0]):a,o=[],c=0;c<s;++c)o=[].concat(ph(o),ph(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(ne.isValidElement(a))i=ne.cloneElement(a,s);else if(Pt(a))i=a(s);else{var o=s.key,c=X5(s,wKe),u=Bt("recharts-line-dot",typeof a!="boolean"?a.className:"");i=ne.createElement(ZS,Ag({key:o},c,{className:u}))}return i}}])}(y.PureComponent);po(o0,"displayName","Line");po(o0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});po(o0,"getComposedData",function(e){var r=e.props,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,u=e.displayedData,d=e.offset,f=r.layout,h=u.map(function(m,p){var v=Bn(m,o);return f==="horizontal"?{x:_$({axis:n,ticks:s,bandSize:c,entry:m,index:p}),y:$t(v)?null:a.scale(v),value:v,payload:m}:{x:$t(v)?null:n.scale(v),y:_$({axis:a,ticks:i,bandSize:c,entry:m,index:p}),value:v,payload:m}});return Ks({points:h,layout:f},d)});function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vp(e)}function DKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function RKe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,DJ(a.key),a)}}function IKe(e,r,n){return r&&RKe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MKe(e,r,n){return r=e_(r),FKe(e,OJ()?Reflect.construct(r,n||[],e_(e).constructor):r.apply(e,n))}function FKe(e,r){if(r&&(vp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LKe(e)}function LKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OJ=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e_(e)}function $Ke(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&iT(e,r)}function iT(e,r){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iT(e,r)}function PJ(e,r,n){return r=DJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function DJ(e){var r=BKe(e,"string");return vp(r)=="symbol"?r:r+""}function BKe(e,r){if(vp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(vp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function oT(){return oT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oT.apply(this,arguments)}function UKe(e){var r=e.xAxisId,n=D4(),a=R4(),s=vJ(r);return s==null?null:y.createElement(i0,oT({},s,{className:Bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return nc(o,!0)}}))}var ry=function(e){function r(){return DKe(this,r),MKe(this,r,arguments)}return $Ke(r,e),IKe(r,[{key:"render",value:function(){return y.createElement(UKe,this.props)}}])}(y.Component);PJ(ry,"displayName","XAxis");PJ(ry,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xp(e)}function VKe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zKe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MJ(a.key),a)}}function WKe(e,r,n){return r&&zKe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HKe(e,r,n){return r=t_(r),qKe(e,RJ()?Reflect.construct(r,n||[],t_(e).constructor):r.apply(e,n))}function qKe(e,r){if(r&&(xp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KKe(e)}function KKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RJ=function(){return!!e})()}function t_(e){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t_(e)}function GKe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&lT(e,r)}function lT(e,r){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lT(e,r)}function IJ(e,r,n){return r=MJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function MJ(e){var r=YKe(e,"string");return xp(r)=="symbol"?r:r+""}function YKe(e,r){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(xp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},cT.apply(this,arguments)}var XKe=function(r){var n=r.yAxisId,a=D4(),s=R4(),i=xJ(n);return i==null?null:y.createElement(i0,cT({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(c){return nc(c,!0)}}))},ny=function(e){function r(){return VKe(this,r),HKe(this,r,arguments)}return GKe(r,e),WKe(r,[{key:"render",value:function(){return y.createElement(XKe,this.props)}}])}(y.Component);IJ(ny,"displayName","YAxis");IJ(ny,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Z5(e){return eGe(e)||ZKe(e)||QKe(e)||JKe()}function JKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QKe(e,r){if(e){if(typeof e=="string")return uT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uT(e,r)}}function ZKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eGe(e){if(Array.isArray(e))return uT(e)}function uT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}var dT=function(r,n,a,s,i){var o=ui(r,M4),c=ui(r,lj),u=[].concat(Z5(o),Z5(c)),d=ui(r,uj),f="".concat(s,"Id"),h=s[0],m=n;if(u.length&&(m=u.reduce(function(g,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Je(x.props[h])){var b=x.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},m)),d.length){var p="".concat(h,"1"),v="".concat(h,"2");m=d.reduce(function(g,x){if(x.props[f]===a&&xl(x.props,"extendDomain")&&Je(x.props[p])&&Je(x.props[v])){var b=x.props[p],w=x.props[v];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,x){return Je(x)?[Math.min(g[0],x),Math.max(g[1],x)]:g},m)),m},FJ={exports:{}};(function(e){var r=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function i(u,d,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,h||u,m),v=n?n+d:d;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],p]:u._events[v].push(p):(u._events[v]=p,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new a:delete u._events[d]}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)r.call(f,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},c.prototype.listeners=function(d){var f=n?n+d:d,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,v=new Array(p);m<p;m++)v[m]=h[m].fn;return v},c.prototype.listenerCount=function(d){var f=n?n+d:d,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(d,f,h,m,p,v){var g=n?n+d:d;if(!this._events[g])return!1;var x=this._events[g],b=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,h),!0;case 4:return x.fn.call(x.context,f,h,m),!0;case 5:return x.fn.call(x.context,f,h,m,p),!0;case 6:return x.fn.call(x.context,f,h,m,p,v),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var S=x.length,j;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(d,x[_].fn,void 0,!0),b){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,f);break;case 3:x[_].fn.call(x[_].context,f,h);break;case 4:x[_].fn.call(x[_].context,f,h,m);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];x[_].fn.apply(x[_].context,w)}}return!0},c.prototype.on=function(d,f,h){return i(this,d,f,h,!1)},c.prototype.once=function(d,f,h){return i(this,d,f,h,!0)},c.prototype.removeListener=function(d,f,h,m){var p=n?n+d:d;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!m||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var g=0,x=[],b=v.length;g<b;g++)(v[g].fn!==f||m&&!v[g].once||h&&v[g].context!==h)&&x.push(v[g]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},c.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(FJ);var tGe=FJ.exports;const rGe=xr(tGe);var jN=new rGe,kN="recharts.syncMouseEvents";function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qv(e)}function nGe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function aGe(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,LJ(a.key),a)}}function sGe(e,r,n){return r&&aGe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NN(e,r,n){return r=LJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function LJ(e){var r=iGe(e,"string");return Qv(r)=="symbol"?r:r+""}function iGe(e,r){if(Qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r);if(Qv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oGe=function(){function e(){nGe(this,e),NN(this,"activeIndex",0),NN(this,"coordinateList",[]),NN(this,"layout","horizontal")}return sGe(e,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,c=o===void 0?null:o,u=n.layout,d=u===void 0?null:u,f=n.offset,h=f===void 0?null:f,m=n.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=c??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,c=s.height,u=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+u+d,m=o+this.offset.top+c/2+f;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])}();function lGe(e,r,n){if(n==="number"&&r===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Je(a)&&Je(s))return!0}return!1}function cGe(e,r,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:r.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function $J(e){var r=e.cx,n=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=$r(r,n,a,s),c=$r(r,n,a,i);return{points:[o,c],cx:r,cy:n,radius:a,startAngle:s,endAngle:i}}function uGe(e,r,n){var a,s,i,o;if(e==="horizontal")a=r.x,i=a,s=n.top,o=n.top+n.height;else if(e==="vertical")s=r.y,o=s,a=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(e==="centric"){var c=r.cx,u=r.cy,d=r.innerRadius,f=r.outerRadius,h=r.angle,m=$r(c,u,d,h),p=$r(c,u,f,h);a=m.x,s=m.y,i=p.x,o=p.y}else return $J(r);return[{x:a,y:s},{x:i,y:o}]}function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zv(e)}function e8(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function p1(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?e8(Object(n),!0).forEach(function(a){dGe(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dGe(e,r,n){return r=fGe(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fGe(e){var r=hGe(e,"string");return Zv(r)=="symbol"?r:r+""}function hGe(e,r){if(Zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(Zv(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mGe(e){var r,n,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,m=e.chartName,p=(r=a.props.cursor)!==null&&r!==void 0?r:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!p||!i||!o||m!=="ScatterChart"&&s!=="axis")return null;var v,g=Db;if(m==="ScatterChart")v=o,g=OVe;else if(m==="BarChart")v=cGe(h,o,u,f),g=T4;else if(h==="radial"){var x=$J(o),b=x.cx,w=x.cy,_=x.radius,S=x.startAngle,j=x.endAngle;v={cx:b,cy:w,startAngle:S,endAngle:j,innerRadius:_,outerRadius:_},g=MX}else v={points:uGe(h,o,u)},g=Db;var N=p1(p1(p1(p1({stroke:"#ccc",pointerEvents:"none"},u),v),Nt(p,!1)),{},{payload:c,payloadIndex:d,className:Bt("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,N):y.createElement(g,N)}var pGe=["item"],gGe=["children","className","width","height","style","compact","title","desc"];function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yp(e)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Kh.apply(this,arguments)}function t8(e,r){return yGe(e)||xGe(e,r)||UJ(e,r)||vGe()}function vGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xGe(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a,s,i,o,c=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,r!==0)for(;!(u=(a=i.call(n)).done)&&(c.push(a.value),c.length!==r);u=!0);}catch(f){d=!0,s=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return c}}function yGe(e){if(Array.isArray(e))return e}function r8(e,r){if(e==null)return{};var n=wGe(e,r),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function wGe(e,r){if(e==null)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;n[a]=e[a]}return n}function bGe(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _Ge(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,VJ(a.key),a)}}function SGe(e,r,n){return r&&_Ge(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jGe(e,r,n){return r=r_(r),kGe(e,BJ()?Reflect.construct(r,n||[],r_(e).constructor):r.apply(e,n))}function kGe(e,r){if(r&&(yp(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NGe(e)}function NGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r_(e)}function EGe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&fT(e,r)}function fT(e,r){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},fT(e,r)}function wp(e){return AGe(e)||TGe(e)||UJ(e)||CGe()}function CGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UJ(e,r){if(e){if(typeof e=="string")return hT(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(e,r)}}function TGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AGe(e){if(Array.isArray(e))return hT(e)}function hT(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function n8(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ie(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?n8(Object(n),!0).forEach(function(a){Et(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Et(e,r,n){return r=VJ(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function VJ(e){var r=OGe(e,"string");return yp(r)=="symbol"?r:r+""}function OGe(e,r){if(yp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,r||"default");if(yp(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var PGe={xAxis:["bottom","top"],yAxis:["left","right"]},DGe={width:"100%",height:"100%"},zJ={x:0,y:0};function g1(e){return e}var RGe=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},IGe=function(r,n,a,s){var i=n.find(function(f){return f&&f.index===a});if(i){if(r==="horizontal")return{x:i.coordinate,y:s.y};if(r==="vertical")return{x:s.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,c=s.radius;return Ie(Ie(Ie({},s),$r(s.cx,s.cy,c,o)),{},{angle:o,radius:c})}var u=i.coordinate,d=s.angle;return Ie(Ie(Ie({},s),$r(s.cx,s.cy,u,d)),{},{angle:d,radius:u})}return zJ},dj=function(r,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(c,u){var d=u.props.data;return d&&d.length?[].concat(wp(c),wp(d)):c},[]);return o.length>0?o:r&&r.length&&Je(s)&&Je(i)?r.slice(s,i+1):[]};function WJ(e){return e==="number"?[0,"auto"]:void 0}var mT=function(r,n,a,s){var i=r.graphicalItems,o=r.tooltipAxis,c=dj(n,r);return a<0||!i||!i.length||a>=c.length?null:i.reduce(function(u,d){var f,h=(f=d.props.data)!==null&&f!==void 0?f:n;h&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=a&&(h=h.slice(r.dataStartIndex,r.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?c:h;m=rb(p,o.dataKey,s)}else m=h&&h[a]||c[a];return m?[].concat(wp(u),[AX(d,m)]):u},[])},a8=function(r,n,a,s){var i=s||{x:r.chartX,y:r.chartY},o=RGe(i,a),c=r.orderedTooltipTicks,u=r.tooltipAxis,d=r.tooltipTicks,f=tUe(o,c,d,u);if(f>=0&&d){var h=d[f]&&d[f].value,m=mT(r,n,f,h),p=IGe(a,c,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:m,activeCoordinate:p}}return null},MGe=function(r,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=r.stackOffset,p=jX(f,i);return a.reduce(function(v,g){var x,b=g.type.defaultProps!==void 0?Ie(Ie({},g.type.defaultProps),g.props):g.props,w=b.type,_=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,C=b.includeHidden,E=b[o];if(v[E])return v;var P=dj(r.data,{graphicalItems:s.filter(function(A){var X,V=o in A.props?A.props[o]:(X=A.type.defaultProps)===null||X===void 0?void 0:X[o];return V===E}),dataStartIndex:u,dataEndIndex:d}),I=P.length,T,U,H;lGe(b.domain,S,w)&&(T=CC(b.domain,null,S),p&&(w==="number"||N!=="auto")&&(H=Ng(P,_,"category")));var F=WJ(w);if(!T||T.length===0){var M,z=(M=b.domain)!==null&&M!==void 0?M:F;if(_){if(T=Ng(P,_,w),w==="category"&&p){var L=WAe(T);j&&L?(U=T,T=zb(0,I)):j||(T=N$(z,T,g).reduce(function(A,X){return A.indexOf(X)>=0?A:[].concat(wp(A),[X])},[]))}else if(w==="category")j?T=T.filter(function(A){return A!==""&&!$t(A)}):T=N$(z,T,g).reduce(function(A,X){return A.indexOf(X)>=0||X===""||$t(X)?A:[].concat(wp(A),[X])},[]);else if(w==="number"){var R=iUe(P,s.filter(function(A){var X,V,q=o in A.props?A.props[o]:(X=A.type.defaultProps)===null||X===void 0?void 0:X[o],ae="hide"in A.props?A.props.hide:(V=A.type.defaultProps)===null||V===void 0?void 0:V.hide;return q===E&&(C||!ae)}),_,i,f);R&&(T=R)}p&&(w==="number"||N!=="auto")&&(H=Ng(P,_,"category"))}else p?T=zb(0,I):c&&c[E]&&c[E].hasStack&&w==="number"?T=m==="expand"?[0,1]:TX(c[E].stackGroups,u,d):T=SX(P,s.filter(function(A){var X=o in A.props?A.props[o]:A.type.defaultProps[o],V="hide"in A.props?A.props.hide:A.type.defaultProps.hide;return X===E&&(C||!V)}),w,f,!0);if(w==="number")T=dT(h,T,E,i,k),z&&(T=CC(z,T,S));else if(w==="category"&&z){var J=z,te=T.every(function(A){return J.indexOf(A)>=0});te&&(T=J)}}return Ie(Ie({},v),{},Et({},E,Ie(Ie({},b),{},{axisType:i,domain:T,categoricalDomain:H,duplicateDomain:U,originalDomain:(x=b.domain)!==null&&x!==void 0?x:F,isCategorical:p,layout:f})))},{})},FGe=function(r,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.layout,h=r.children,m=dj(r.data,{graphicalItems:a,dataStartIndex:u,dataEndIndex:d}),p=m.length,v=jX(f,i),g=-1;return a.reduce(function(x,b){var w=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,_=w[o],S=WJ("number");if(!x[_]){g++;var j;return v?j=zb(0,p):c&&c[_]&&c[_].hasStack?(j=TX(c[_].stackGroups,u,d),j=dT(h,j,_,i)):(j=CC(S,SX(m,a.filter(function(N){var k,C,E=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],P="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===_&&!P}),"number",f),s.defaultProps.allowDataOverflow),j=dT(h,j,_,i)),Ie(Ie({},x),{},Et({},_,Ie(Ie({axisType:i},s.defaultProps),{},{hide:!0,orientation:ci(PGe,"".concat(i,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:v,layout:f})))}return x},{})},LGe=function(r,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,c=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,f=r.children,h="".concat(s,"Id"),m=ui(f,i),p={};return m&&m.length?p=MGe(r,{axes:m,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d}):o&&o.length&&(p=FGe(r,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:c,dataStartIndex:u,dataEndIndex:d})),p},$Ge=function(r){var n=tu(r),a=nc(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:t4(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ab(n,a)}},s8=function(r){var n=r.children,a=r.defaultShowTooltip,s=Xs(n,up),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},BGe=function(r){return!r||!r.length?!1:r.some(function(n){var a=oc(n&&n.type);return a&&a.indexOf("Bar")>=0})},i8=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},UGe=function(r,n){var a=r.props,s=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,c=r.yAxisMap,u=c===void 0?{}:c,d=a.width,f=a.height,h=a.children,m=a.margin||{},p=Xs(h,up),v=Xs(h,Ou),g=Object.keys(u).reduce(function(j,N){var k=u[N],C=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},j),{},Et({},C,j[C]+k.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(j,N){var k=o[N],C=k.orientation;return!k.mirror&&!k.hide?Ie(Ie({},j),{},Et({},C,ci(j,"".concat(C))+k.height)):j},{top:m.top||0,bottom:m.bottom||0}),b=Ie(Ie({},x),g),w=b.bottom;p&&(b.bottom+=p.props.height||up.defaultProps.height),v&&n&&(b=aUe(b,s,a,n));var _=d-b.left-b.right,S=f-b.top-b.bottom;return Ie(Ie({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(S,0)})},VGe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},HJ=function(r){var n=r.chartName,a=r.GraphicalChild,s=r.defaultTooltipEventType,i=s===void 0?"axis":s,o=r.validateTooltipEventTypes,c=o===void 0?["axis"]:o,u=r.axisComponents,d=r.legendContent,f=r.formatAxisMap,h=r.defaultProps,m=function(b,w){var _=w.graphicalItems,S=w.stackGroups,j=w.offset,N=w.updateId,k=w.dataStartIndex,C=w.dataEndIndex,E=b.barSize,P=b.layout,I=b.barGap,T=b.barCategoryGap,U=b.maxBarSize,H=i8(P),F=H.numericAxisName,M=H.cateAxisName,z=BGe(_),L=[];return _.forEach(function(R,J){var te=dj(b.data,{graphicalItems:[R],dataStartIndex:k,dataEndIndex:C}),A=R.type.defaultProps!==void 0?Ie(Ie({},R.type.defaultProps),R.props):R.props,X=A.dataKey,V=A.maxBarSize,q=A["".concat(F,"Id")],ae=A["".concat(M,"Id")],ce={},me=u.reduce(function(he,ee){var _e=w["".concat(ee.axisType,"Map")],je=A["".concat(ee.axisType,"Id")];_e&&_e[je]||ee.axisType==="zAxis"||Pf();var be=_e[je];return Ie(Ie({},he),{},Et(Et({},ee.axisType,be),"".concat(ee.axisType,"Ticks"),nc(be)))},ce),ie=me[M],Q=me["".concat(M,"Ticks")],de=S&&S[q]&&S[q].hasStack&&pUe(R,S[q].stackGroups),D=oc(R.type).indexOf("Bar")>=0,Be=Ab(ie,Q),Le=[],Ue=z&&rUe({barSize:E,stackGroups:S,totalSize:VGe(me,M)});if(D){var ze,De,mt=$t(V)?U:V,ut=(ze=(De=Ab(ie,Q,!0))!==null&&De!==void 0?De:mt)!==null&&ze!==void 0?ze:0;Le=nUe({barGap:I,barCategoryGap:T,bandSize:ut!==Be?ut:Be,sizeList:Ue[ae],maxBarSize:mt}),ut!==Be&&(Le=Le.map(function(he){return Ie(Ie({},he),{},{position:Ie(Ie({},he.position),{},{offset:he.position.offset-ut/2})})}))}var se=R&&R.type&&R.type.getComposedData;se&&L.push({props:Ie(Ie({},se(Ie(Ie({},me),{},{displayedData:te,props:b,dataKey:X,item:R,bandSize:Be,barPosition:Le,offset:j,stackedData:de,layout:P,dataStartIndex:k,dataEndIndex:C}))),{},Et(Et(Et({key:R.key||"item-".concat(J)},F,me[F]),M,me[M]),"animationId",N)),childIndex:nOe(R,b.children),item:R})}),L},p=function(b,w){var _=b.props,S=b.dataStartIndex,j=b.dataEndIndex,N=b.updateId;if(!y3({props:_}))return null;var k=_.children,C=_.layout,E=_.stackOffset,P=_.data,I=_.reverseStackOrder,T=i8(C),U=T.numericAxisName,H=T.cateAxisName,F=ui(k,a),M=hUe(P,F,"".concat(U,"Id"),"".concat(H,"Id"),E,I),z=u.reduce(function(A,X){var V="".concat(X.axisType,"Map");return Ie(Ie({},A),{},Et({},V,LGe(_,Ie(Ie({},X),{},{graphicalItems:F,stackGroups:X.axisType===U&&M,dataStartIndex:S,dataEndIndex:j}))))},{}),L=UGe(Ie(Ie({},z),{},{props:_,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(z).forEach(function(A){z[A]=f(_,z[A],L,A.replace("Map",""),n)});var R=z["".concat(H,"Map")],J=$Ge(R),te=m(_,Ie(Ie({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:N,graphicalItems:F,stackGroups:M,offset:L}));return Ie(Ie({formattedGraphicalItems:te,graphicalItems:F,offset:L,stackGroups:M},J),z)},v=function(x){function b(w){var _,S,j;return bGe(this,b),j=jGe(this,b,[w]),Et(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(j,"accessibilityManager",new oGe),Et(j,"handleLegendBBoxUpdate",function(N){if(N){var k=j.state,C=k.dataStartIndex,E=k.dataEndIndex,P=k.updateId;j.setState(Ie({legendBBox:N},p({props:j.props,dataStartIndex:C,dataEndIndex:E,updateId:P},Ie(Ie({},j.state),{},{legendBBox:N}))))}}),Et(j,"handleReceiveSyncEvent",function(N,k,C){if(j.props.syncId===N){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),Et(j,"handleBrushChange",function(N){var k=N.startIndex,C=N.endIndex;if(k!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return Ie({dataStartIndex:k,dataEndIndex:C},p({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),Et(j,"handleMouseEnter",function(N){var k=j.getMouseInfo(N);if(k){var C=Ie(Ie({},k),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseEnter;Pt(E)&&E(C,N)}}),Et(j,"triggeredAfterMouseMove",function(N){var k=j.getMouseInfo(N),C=k?Ie(Ie({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseMove;Pt(E)&&E(C,N)}),Et(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Et(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Et(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Et(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseLeave;Pt(C)&&C(k,N)}),Et(j,"handleOuterEvent",function(N){var k=rOe(N),C=ci(j.props,"".concat(k));if(k&&Pt(C)){var E,P;/.*touch.*/i.test(k)?P=j.getMouseInfo(N.changedTouches[0]):P=j.getMouseInfo(N),C((E=P)!==null&&E!==void 0?E:{},N)}}),Et(j,"handleClick",function(N){var k=j.getMouseInfo(N);if(k){var C=Ie(Ie({},k),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var E=j.props.onClick;Pt(E)&&E(C,N)}}),Et(j,"handleMouseDown",function(N){var k=j.props.onMouseDown;if(Pt(k)){var C=j.getMouseInfo(N);k(C,N)}}),Et(j,"handleMouseUp",function(N){var k=j.props.onMouseUp;if(Pt(k)){var C=j.getMouseInfo(N);k(C,N)}}),Et(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Et(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Et(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Et(j,"handleDoubleClick",function(N){var k=j.props.onDoubleClick;if(Pt(k)){var C=j.getMouseInfo(N);k(C,N)}}),Et(j,"handleContextMenu",function(N){var k=j.props.onContextMenu;if(Pt(k)){var C=j.getMouseInfo(N);k(C,N)}}),Et(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&jN.emit(kN,j.props.syncId,N,j.eventEmitterSymbol)}),Et(j,"applySyncEvent",function(N){var k=j.props,C=k.layout,E=k.syncMethod,P=j.state.updateId,I=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Ie({dataStartIndex:I,dataEndIndex:T},p({props:j.props,dataStartIndex:I,dataEndIndex:T,updateId:P},j.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,H=N.chartY,F=N.activeTooltipIndex,M=j.state,z=M.offset,L=M.tooltipTicks;if(!z)return;if(typeof E=="function")F=E(L,N);else if(E==="value"){F=-1;for(var R=0;R<L.length;R++)if(L[R].value===N.activeLabel){F=R;break}}var J=Ie(Ie({},z),{},{x:z.left,y:z.top}),te=Math.min(U,J.x+J.width),A=Math.min(H,J.y+J.height),X=L[F]&&L[F].value,V=mT(j.state,j.props.data,F),q=L[F]?{x:C==="horizontal"?L[F].coordinate:te,y:C==="horizontal"?A:L[F].coordinate}:zJ;j.setState(Ie(Ie({},N),{},{activeLabel:X,activeCoordinate:q,activePayload:V,activeTooltipIndex:F}))}else j.setState(N)}),Et(j,"renderCursor",function(N){var k,C=j.state,E=C.isTooltipActive,P=C.activeCoordinate,I=C.activePayload,T=C.offset,U=C.activeTooltipIndex,H=C.tooltipAxisBandSize,F=j.getTooltipEventType(),M=(k=N.props.active)!==null&&k!==void 0?k:E,z=j.props.layout,L=N.key||"_recharts-cursor";return ne.createElement(mGe,{key:L,activeCoordinate:P,activePayload:I,activeTooltipIndex:U,chartName:n,element:N,isActive:M,layout:z,offset:T,tooltipAxisBandSize:H,tooltipEventType:F})}),Et(j,"renderPolarAxis",function(N,k,C){var E=ci(N,"type.axisType"),P=ci(j.state,"".concat(E,"Map")),I=N.type.defaultProps,T=I!==void 0?Ie(Ie({},I),N.props):N.props,U=P&&P[T["".concat(E,"Id")]];return y.cloneElement(N,Ie(Ie({},U),{},{className:Bt(E,U.className),key:N.key||"".concat(k,"-").concat(C),ticks:nc(U,!0)}))}),Et(j,"renderPolarGrid",function(N){var k=N.props,C=k.radialLines,E=k.polarAngles,P=k.polarRadius,I=j.state,T=I.radiusAxisMap,U=I.angleAxisMap,H=tu(T),F=tu(U),M=F.cx,z=F.cy,L=F.innerRadius,R=F.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(E)?E:nc(F,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(P)?P:nc(H,!0).map(function(J){return J.coordinate}),cx:M,cy:z,innerRadius:L,outerRadius:R,key:N.key||"polar-grid",radialLines:C})}),Et(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,k=j.props,C=k.children,E=k.width,P=k.height,I=j.props.margin||{},T=E-(I.left||0)-(I.right||0),U=bX({children:C,formattedGraphicalItems:N,legendWidth:T,legendContent:d});if(!U)return null;var H=U.item,F=r8(U,pGe);return y.cloneElement(H,Ie(Ie({},F),{},{chartWidth:E,chartHeight:P,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Et(j,"renderTooltip",function(){var N,k=j.props,C=k.children,E=k.accessibilityLayer,P=Xs(C,Ti);if(!P)return null;var I=j.state,T=I.isTooltipActive,U=I.activeCoordinate,H=I.activePayload,F=I.activeLabel,M=I.offset,z=(N=P.props.active)!==null&&N!==void 0?N:T;return y.cloneElement(P,{viewBox:Ie(Ie({},M),{},{x:M.left,y:M.top}),active:z,label:F,payload:z?H:[],coordinate:U,accessibilityLayer:E})}),Et(j,"renderBrush",function(N){var k=j.props,C=k.margin,E=k.data,P=j.state,I=P.offset,T=P.dataStartIndex,U=P.dataEndIndex,H=P.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:d1(j.handleBrushChange,N.props.onChange),data:E,x:Je(N.props.x)?N.props.x:I.left,y:Je(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:Je(N.props.width)?N.props.width:I.width,startIndex:T,endIndex:U,updateId:"brush-".concat(H)})}),Et(j,"renderReferenceElement",function(N,k,C){if(!N)return null;var E=j,P=E.clipPathId,I=j.state,T=I.xAxisMap,U=I.yAxisMap,H=I.offset,F=N.type.defaultProps||{},M=N.props,z=M.xAxisId,L=z===void 0?F.xAxisId:z,R=M.yAxisId,J=R===void 0?F.yAxisId:R;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(C),xAxis:T[L],yAxis:U[J],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:P})}),Et(j,"renderActivePoints",function(N){var k=N.item,C=N.activePoint,E=N.basePoint,P=N.childIndex,I=N.isRange,T=[],U=k.props.key,H=k.item.type.defaultProps!==void 0?Ie(Ie({},k.item.type.defaultProps),k.item.props):k.item.props,F=H.activeDot,M=H.dataKey,z=Ie(Ie({index:P,dataKey:M,cx:C.x,cy:C.y,r:4,fill:C4(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Nt(F,!1)),nb(F));return T.push(b.renderActiveDot(F,z,"".concat(U,"-activePoint-").concat(P))),E?T.push(b.renderActiveDot(F,Ie(Ie({},z),{},{cx:E.x,cy:E.y}),"".concat(U,"-basePoint-").concat(P))):I&&T.push(null),T}),Et(j,"renderGraphicChild",function(N,k,C){var E=j.filterFormatItem(N,k,C);if(!E)return null;var P=j.getTooltipEventType(),I=j.state,T=I.isTooltipActive,U=I.tooltipAxis,H=I.activeTooltipIndex,F=I.activeLabel,M=j.props.children,z=Xs(M,Ti),L=E.props,R=L.points,J=L.isRange,te=L.baseLine,A=E.item.type.defaultProps!==void 0?Ie(Ie({},E.item.type.defaultProps),E.item.props):E.item.props,X=A.activeDot,V=A.hide,q=A.activeBar,ae=A.activeShape,ce=!!(!V&&T&&z&&(X||q||ae)),me={};P!=="axis"&&z&&z.props.trigger==="click"?me={onClick:d1(j.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(me={onMouseLeave:d1(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:d1(j.handleItemMouseEnter,N.props.onMouseEnter)});var ie=y.cloneElement(N,Ie(Ie({},E.props),me));function Q(ee){return typeof U.dataKey=="function"?U.dataKey(ee.payload):null}if(ce)if(H>=0){var de,D;if(U.dataKey&&!U.allowDuplicatedCategory){var Be=typeof U.dataKey=="function"?Q:"payload.".concat(U.dataKey.toString());de=rb(R,Be,F),D=J&&te&&rb(te,Be,F)}else de=R==null?void 0:R[H],D=J&&te&&te[H];if(ae||q){var Le=N.props.activeIndex!==void 0?N.props.activeIndex:H;return[y.cloneElement(N,Ie(Ie(Ie({},E.props),me),{},{activeIndex:Le})),null,null]}if(!$t(de))return[ie].concat(wp(j.renderActivePoints({item:E,activePoint:de,basePoint:D,childIndex:H,isRange:J})))}else{var Ue,ze=(Ue=j.getItemByXY(j.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:ie},De=ze.graphicalItem,mt=De.item,ut=mt===void 0?N:mt,se=De.childIndex,he=Ie(Ie(Ie({},E.props),me),{},{activeIndex:se});return[y.cloneElement(ut,he),null,null]}return J?[ie,null,null]:[ie,null]}),Et(j,"renderCustomized",function(N,k,C){return y.cloneElement(N,Ie(Ie({key:"recharts-customized-".concat(C)},j.props),j.state))}),Et(j,"renderMap",{CartesianGrid:{handler:g1,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:g1},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:g1},YAxis:{handler:g1},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Zp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=wY(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return EGe(b,x),SGe(b,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,j=_.data,N=_.height,k=_.layout,C=Xs(S,Ti);if(C){var E=C.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=mT(this.state,j,E,P),T=this.state.tooltipTicks[E].coordinate,U=(this.state.offset.top+N)/2,H=k==="horizontal",F=H?{x:T,y:U}:{y:T,x:U},M=this.state.formattedGraphicalItems.find(function(L){var R=L.item;return R.type.name==="Scatter"});M&&(F=Ie(Ie({},F),M.props.points[E].tooltipPosition),I=M.props.points[E].tooltipPayload);var z={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:I,activeCoordinate:F};this.setState(z),this.renderCursor(C),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){zE([Xs(_.children,Ti)],[Xs(this.props.children,Ti)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Xs(this.props.children,Ti);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return c.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),N=T$e(j),k={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},C=j.width/S.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,C);if(!E)return null;var P=this.state,I=P.xAxisMap,T=P.yAxisMap,U=this.getTooltipEventType(),H=a8(this.state,this.props.data,this.props.layout,E);if(U!=="axis"&&I&&T){var F=tu(I).scale,M=tu(T).scale,z=F&&F.invert?F.invert(k.chartX):null,L=M&&M.invert?M.invert(k.chartY):null;return Ie(Ie({},k),{},{xValue:z,yValue:L},H)}return H?Ie(Ie({},k),H):null}},{key:"inRange",value:function(_,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=_/j,C=S/j;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,P=k>=E.left&&k<=E.left+E.width&&C>=E.top&&C<=E.top+E.height;return P?{x:k,y:C}:null}var I=this.state,T=I.angleAxisMap,U=I.radiusAxisMap;if(T&&U){var H=tu(T);return T$({x:k,y:C},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),j=Xs(_,Ti),N={};j&&S==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=nb(this.props,this.handleOuterEvent);return Ie(Ie({},k),N)}},{key:"addListener",value:function(){jN.on(kN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jN.removeListener(kN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,j){for(var N=this.state.formattedGraphicalItems,k=0,C=N.length;k<C;k++){var E=N[k];if(E.item===_||E.props.key===_.key||S===oc(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,j=S.left,N=S.top,k=S.height,C=S.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:_},ne.createElement("rect",{x:j,y:N,height:k,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=t8(j,2),k=N[0],C=N[1];return Ie(Ie({},S),{},Et({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,j){var N=t8(j,2),k=N[0],C=N[1];return Ie(Ie({},S),{},Et({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,j=S.formattedGraphicalItems,N=S.activeItem;if(j&&j.length)for(var k=0,C=j.length;k<C;k++){var E=j[k],P=E.props,I=E.item,T=I.type.defaultProps!==void 0?Ie(Ie({},I.type.defaultProps),I.props):I.props,U=oc(I.type);if(U==="Bar"){var H=(P.data||[]).find(function(L){return dVe(_,L)});if(H)return{graphicalItem:E,payload:H}}else if(U==="RadialBar"){var F=(P.data||[]).find(function(L){return T$(_,L)});if(F)return{graphicalItem:E,payload:F}}else if(aj(E,N)||sj(E,N)||Kv(E,N)){var M=Zze({graphicalItem:E,activeTooltipItem:N,itemData:T.data}),z=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:Ie(Ie({},E),{},{childIndex:z}),payload:Kv(E,N)?T.data[M]:E.props.data[M]}}}return null}},{key:"render",value:function(){var _=this;if(!y3(this))return null;var S=this.props,j=S.children,N=S.className,k=S.width,C=S.height,E=S.style,P=S.compact,I=S.title,T=S.desc,U=r8(S,gGe),H=Nt(U,!1);if(P)return ne.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(HE,Kh({},H,{width:k,height:C,title:I,desc:T}),this.renderClipPath(),b3(j,this.renderMap)));if(this.props.accessibilityLayer){var F,M;H.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,H.role=(M=this.props.role)!==null&&M!==void 0?M:"application",H.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},H.onFocus=function(){_.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return ne.createElement(F5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Kh({className:Bt("recharts-wrapper",N),style:Ie({position:"relative",cursor:"default",width:k,height:C},E)},z,{ref:function(R){_.container=R}}),ne.createElement(HE,Kh({},H,{width:k,height:C,title:I,desc:T,style:DGe}),this.renderClipPath(),b3(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Et(v,"displayName",n),Et(v,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Et(v,"getDerivedStateFromProps",function(x,b){var w=x.dataKey,_=x.data,S=x.children,j=x.width,N=x.height,k=x.layout,C=x.stackOffset,E=x.margin,P=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var T=s8(x);return Ie(Ie(Ie({},T),{},{updateId:0},p(Ie(Ie({props:x},T),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(w!==b.prevDataKey||_!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||C!==b.prevStackOffset||!fm(E,b.prevMargin)){var U=s8(x),H={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=Ie(Ie({},a8(b,_,k)),{},{updateId:b.updateId+1}),M=Ie(Ie(Ie({},U),H),F);return Ie(Ie(Ie({},M),p(Ie({props:x},M),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:E,prevChildren:S})}if(!zE(S,b.prevChildren)){var z,L,R,J,te=Xs(S,up),A=te&&(z=(L=te.props)===null||L===void 0?void 0:L.startIndex)!==null&&z!==void 0?z:P,X=te&&(R=(J=te.props)===null||J===void 0?void 0:J.endIndex)!==null&&R!==void 0?R:I,V=A!==P||X!==I,q=!$t(_),ae=q&&!V?b.updateId:b.updateId+1;return Ie(Ie({updateId:ae},p(Ie(Ie({props:x},b),{},{updateId:ae,dataStartIndex:A,dataEndIndex:X}),b)),{},{prevChildren:S,dataStartIndex:A,dataEndIndex:X})}return null}),Et(v,"renderActiveDot",function(x,b,w){var _;return y.isValidElement(x)?_=y.cloneElement(x,b):Pt(x)?_=x(b):_=ne.createElement(ZS,b),ne.createElement(dr,{className:"recharts-active-dot",key:w},_)});var g=y.forwardRef(function(b,w){return ne.createElement(v,Kh({},b,{ref:w}))});return g.displayName=v.displayName,g},qJ=HJ({chartName:"LineChart",GraphicalChild:o0,axisComponents:[{axisType:"xAxis",AxisComp:ry},{axisType:"yAxis",AxisComp:ny}],formatAxisMap:OHe}),Cd=HJ({chartName:"PieChart",GraphicalChild:rs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nj},{axisType:"radiusAxis",AxisComp:tj}],formatAxisMap:kUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zGe={light:"",dark:".dark"},KJ=y.createContext(null);function GJ(){const e=y.useContext(KJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const ru=y.forwardRef(({id:e,className:r,children:n,config:a,...s},i)=>{const o=y.useId(),c=`chart-${e||o.replace(/:/g,"")}`;return l.jsx(KJ.Provider,{value:{config:a},children:l.jsxs("div",{"data-chart":c,ref:i,className:ve("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",r),...s,children:[l.jsx(WGe,{id:c,config:a}),l.jsx(n4,{children:n})]})})});ru.displayName="Chart";const WGe=({id:e,config:r})=>{const n=Object.entries(r).filter(([a,s])=>s.theme||s.color);return n.length?l.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(zGe).map(([a,s])=>`
${s} [data-chart=${e}] {
${n.map(([i,o])=>{var u;const c=((u=o.theme)==null?void 0:u[a])||o.color;return c?`  --color-${i}: ${c};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Td=Ti,nu=y.forwardRef(({active:e,payload:r,className:n,indicator:a="dot",hideLabel:s=!1,hideIndicator:i=!1,label:o,labelFormatter:c,labelClassName:u,formatter:d,color:f,nameKey:h,labelKey:m},p)=>{const{config:v}=GJ(),g=y.useMemo(()=>{var j;if(s||!(r!=null&&r.length))return null;const[b]=r,w=`${m||b.dataKey||b.name||"value"}`,_=pT(v,b,w),S=!m&&typeof o=="string"?((j=v[o])==null?void 0:j.label)||o:_==null?void 0:_.label;return c?l.jsx("div",{className:ve("font-medium",u),children:c(S,r)}):S?l.jsx("div",{className:ve("font-medium",u),children:S}):null},[o,c,r,s,u,v,m]);if(!e||!(r!=null&&r.length))return null;const x=r.length===1&&a!=="dot";return l.jsxs("div",{ref:p,className:ve("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:g,l.jsx("div",{className:"grid gap-1.5",children:r.map((b,w)=>{const _=`${h||b.name||b.dataKey||"value"}`,S=pT(v,b,_),j=f||b.payload.fill||b.color;return l.jsx("div",{className:ve("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:d&&(b==null?void 0:b.value)!==void 0&&b.name?d(b.value,b.name,b,w,b.payload):l.jsxs(l.Fragment,{children:[S!=null&&S.icon?l.jsx(S.icon,{}):!i&&l.jsx("div",{className:ve("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":x&&a==="dashed"}),style:{"--color-bg":j,"--color-border":j}}),l.jsxs("div",{className:ve("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[l.jsxs("div",{className:"grid gap-1.5",children:[x?g:null,l.jsx("span",{className:"text-muted-foreground",children:(S==null?void 0:S.label)||b.name})]}),b.value&&l.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});nu.displayName="ChartTooltip";const HGe=y.forwardRef(({className:e,hideIcon:r=!1,payload:n,verticalAlign:a="bottom",nameKey:s},i)=>{const{config:o}=GJ();return n!=null&&n.length?l.jsx("div",{ref:i,className:ve("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:n.map(c=>{const u=`${s||c.dataKey||"value"}`,d=pT(o,c,u);return l.jsxs("div",{className:ve("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!r?l.jsx(d.icon,{}):l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:c.color}}),d==null?void 0:d.label]},c.value)})}):null});HGe.displayName="ChartLegend";function pT(e,r,n){if(typeof r!="object"||r===null)return;const a="payload"in r&&typeof r.payload=="object"&&r.payload!==null?r.payload:void 0;let s=n;return n in r&&typeof r[n]=="string"?s=r[n]:a&&n in a&&typeof a[n]=="string"&&(s=a[n]),s in e?e[s]:e[n]}function qGe(){var dD,fD,hD,mD,pD,gD,vD;const{t:e}=Kt(),{user:r}=Sr(),{currentLanguage:n}=ms(),{toast:a}=Ol(),s=yn(),{setBreadcrumbs:i}=fx();zs();const[o,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[v,g]=y.useState([]),[x,b]=y.useState([]),[w,_]=y.useState([]),[S,j]=y.useState([]),[N,k]=y.useState([]),[C,E]=y.useState([]),[P,I]=y.useState([]),[T,U]=y.useState([]),[H,F]=y.useState(!0),[M,z]=y.useState(null),[L,R]=y.useState(""),[J,te]=y.useState(""),[A,X]=y.useState(!1),[V,q]=y.useState(1),[ae]=y.useState(10),[ce,me]=y.useState(0),[ie,Q]=y.useState(0),[de,D]=y.useState(""),[Be,Le]=y.useState(""),[Ue,ze]=y.useState(""),[De,mt]=y.useState(""),[ut,se]=y.useState(""),[he,ee]=y.useState(""),[_e,je]=y.useState(null),[be,le]=y.useState(null),[fe,ye]=y.useState(!1),[pe,Ee]=y.useState(!1),[$e,Fe]=y.useState({city_name_en:"",city_name_ar:"",country_id:null}),[We,yt]=y.useState(!1),[zt,hr]=y.useState({system_name_en:"",system_name_ar:""}),[kr,pr]=y.useState(!1),[za,qn]=y.useState({activity_name_en:"",activity_name_ar:""}),[ra,vi]=y.useState(!1),[oe,Ne]=y.useState({status_name_en:"",status_name_ar:""}),[Re,Me]=y.useState([]),[ft,tt]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[qt,Ar]=y.useState(!1),[vs,xs]=y.useState(null),[ar,id]=y.useState(null),[od,W]=y.useState(!1),[re,Z]=y.useState([]),[O,K]=y.useState(!1),[Y,xe]=y.useState("list"),[Te,Se]=y.useState(null),[ke,Ce]=y.useState(!1),[Ve,Ze]=y.useState(!1),[at,Ye]=y.useState(!1),[nt,Dt]=y.useState(!1),[Or,Pr]=y.useState(!1),[Dn,Pc]=y.useState(!1),[Dc,Rc]=y.useState(!1),[Uo,Jf]=y.useState(!1),[xi,G4]=y.useState(!1),[sy,Y4]=y.useState(null),[X4,hQ]=y.useState(null),[J4,pj]=y.useState(!1),[Q4,gj]=y.useState(!1),[Z4,vj]=y.useState(!1),[eD,xj]=y.useState(!1),[tD,yj]=y.useState(!1),[rD,wj]=y.useState(!1),[sr,Wa]=y.useState({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null});y.useEffect(()=>{i([{label:e("navigation.dashboard"),href:"/"},{label:"Master Leads",href:"/mleads"}])},[i,e]),y.useEffect(()=>{aD()},[]),y.useEffect(()=>{const B=setTimeout(()=>{te(L)},500);return()=>clearTimeout(B)},[L]);const nD=y.useMemo(()=>!!(de||Be||Ue||De||ut||he),[de,Be,Ue,De,ut,he]),Ic=y.useMemo(()=>nD||!!J,[nD,J]);y.useEffect(()=>{l0(J!=="")},[V,J,de,Be,Ue,De,ut,he,n]),y.useEffect(()=>{O&&mQ()},[O,J,de,Be,Ue,De,ut,he,n]);const aD=async()=>{try{F(!0),z(null);const[B,we,qe,wt,Dr,Ha,Ji,Ll,wn]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc",pageSize:200,select_fields:"city_id,city_name_en,city_name_ar"}),G.mActivity.list({sort_by:"activity_name_en",sort_order:"asc",pageSize:200,select_fields:"activity_id,activity_name_en,activity_name_ar"}),G.mStatus.list({sort_by:"status_name_en",sort_order:"asc",pageSize:200,select_fields:"status_id,status_name_en,status_name_ar"}),G.mSystem.list({sort_by:"system_name_en",sort_order:"asc",pageSize:200,select_fields:"system_id,system_name_en,system_name_ar"}),G.stages.list({exact_filters:{stage_type:"mleads"},sort_by:"stager_order_index",sort_order:"asc",pageSize:200,select_fields:"stage_id,stage_name,stage_name_ar,stage_type,stager_order_index"}),G.mContacts.list({select_fields:"contact_id,contact_name,leads_id",sort_by:"contact_name",sort_order:"asc",pageSize:200}),G.Users.list({sort_by:"name",sort_order:"asc",pageSize:200,select_fields:"name,Employee,userid,user_id,permissions,permissions_permissions_Name"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc",pageSize:200,select_fields:"country_id,country_name_en,country_name_ar"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc",pageSize:200,select_fields:"jobtitle_id,jobtitle_name_en,jobtitle_name_ar"})]),ga=cd=>Array.isArray(cd)?cd:cd!=null&&cd.data&&Array.isArray(cd.data)?cd.data:[];h(ga(B)),p(ga(we)),g(ga(qe)),b(ga(wt)),_(ga(Dr)),j(ga(Ha)),E(ga(Ji)),I(ga(Ll)),U(ga(wn))}catch(B){const we=B instanceof Error?B.message:"Failed to load data";z(we),a({title:"Error",description:we,variant:"destructive"})}finally{F(!1)}},l0=async(B=!1)=>{try{B?X(!0):F(!0),z(null);const we={};de&&(we.city_id=parseInt(de)),Ue&&(we.system_id=parseInt(Ue)),De&&(we.status_id=parseInt(De)),ut&&(we.activity_id=parseInt(ut)),he&&(we.assigned_to=parseInt(he)),Be&&(we.m_city_country_id=parseInt(Be));const Ll=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),wn={page:Ic?0:V-1,pageSize:Ic?1e3:ae,sort_by:"created_at",sort_order:"desc",exact_filters:we,select_fields:Ll};J&&(wn.search_fields="company_name",wn.search=J);const ga=await G.mLeads.list(wn);c(ga.data||[]),Q(ga.total||0)}catch(we){const qe=we instanceof Error?we.message:"Failed to load data";z(qe),a({title:"Error",description:qe,variant:"destructive"})}finally{F(!1),X(!1)}},mQ=async()=>{try{const B={};de&&(B.city_id=parseInt(de)),Ue&&(B.system_id=parseInt(Ue)),De&&(B.status_id=parseInt(De)),ut&&(B.activity_id=parseInt(ut)),he&&(B.assigned_to=parseInt(he)),Be&&(B.m_city_country_id=parseInt(Be));const Ji=["leads_id","created_at","company_name","city_id","address","activity_id","system_id","stage_id","status_id","assigned_to","created_by","notes","lead_quotation",n==="ar"?"m_activity_activity_name_ar":"m_activity_activity_name_en",n==="ar"?"m_city_city_name_ar":"m_city_city_name_en",n==="ar"?"m_system_system_name_ar":"m_system_system_name_en",n==="ar"?"m_status_status_name_ar":"m_status_status_name_en",n==="ar"?"stages_stage_name_ar":"stages_stage_name","stages_color","stages_stager_order_index","created_by_name","Users_name"].join(","),Ll={pageSize:1e3,exact_filters:B,select_fields:Ji};J&&(Ll.search=J);const wn=await G.mLeads.list(Ll);d(wn.data||[])}catch(B){console.error("Failed to load all filtered leads:",B)}},sD=y.useMemo(()=>{if(!Ic)return o;const B=wn=>wn?parseInt(wn,10):void 0,we=B(De),qe=B(ut),wt=B(Ue),Dr=B(de),Ha=B(Be),Ji=B(he),Ll=J.trim().toLowerCase();return o.filter(wn=>{if(we!==void 0&&wn.status_id!==we||qe!==void 0&&wn.activity_id!==qe||wt!==void 0&&wn.system_id!==wt||Dr!==void 0&&wn.city_id!==Dr)return!1;if(Ha!==void 0){const ga=wn.m_city_country_id??null;if(ga===null||ga!==Ha)return!1}return!(Ji!==void 0&&(wn.assigned_to===null||wn.assigned_to===void 0||wn.assigned_to!==Ji)||Ll&&!(wn.company_name||"").toLowerCase().includes(Ll))})},[Ic,o,De,ut,Ue,de,Be,he,J]),pa=y.useMemo(()=>O?u:sD,[O,u,sD]),pQ=y.useMemo(()=>{if(O){const B=(V-1)*ae,we=B+ae;return pa.slice(B,we)}if(Ic){const B=(V-1)*ae,we=B+ae;return pa.slice(B,we)}return o},[O,Ic,pa,o,V,ae]),ld=y.useMemo(()=>Math.max(1,Math.ceil(ce/ae)),[ce,ae]);y.useEffect(()=>{me(Ic?pa.length:ie)},[pa,Ic,ie]),y.useEffect(()=>{V>ld&&q(ld)},[V,ld]);const mr=(B,we,qe)=>{if(!B)return"-";let wt=n==="ar"&&(B==null?void 0:B[qe])||(B==null?void 0:B[we]);if(!wt){const Dr=we.replace(/_en$/,""),Ha=qe.replace(/_ar$/,"");wt=n==="ar"&&(B==null?void 0:B[Ha])||(B==null?void 0:B[Dr])}return wt||(B==null?void 0:B.name)||(B==null?void 0:B.label)||(B==null?void 0:B.title)||"-"},bj=B=>B&&(n==="ar"?B.m_city_city_name_ar||B.m_city_city_name_en:B.m_city_city_name_en||B.m_city_city_name_ar)||"-",_j=B=>B&&(n==="ar"?B.m_activity_activity_name_ar||B.m_activity_activity_name_en:B.m_activity_activity_name_en||B.m_activity_activity_name_ar)||"-",Sj=B=>B&&(n==="ar"?B.m_status_status_name_ar||B.m_status_status_name_en:B.m_status_status_name_en||B.m_status_status_name_ar)||"-",jj=B=>B&&(n==="ar"?B.m_system_system_name_ar||B.m_system_system_name_en:B.m_system_system_name_en||B.m_system_system_name_ar)||"-",iD=B=>B&&(n==="ar"?B.stages_stage_name_ar||B.stages_stage_name:B.stages_stage_name||B.stages_stage_name_ar)||"-",iy=B=>{if(!B)return"-";const we=C.find(qe=>{var wt,Dr;return((wt=qe.userid)==null?void 0:wt.toString())===B||((Dr=qe.user_id)==null?void 0:Dr.toString())===B});return(we==null?void 0:we.name)||(we==null?void 0:we.user_name)||(we==null?void 0:we.display_name)||"-"},gQ=B=>{if(B==null||B==="")return"";const we=Number(B),qe=f.find(wt=>Number(wt.city_id)===we);return mr(qe,"city_name_en","city_name_ar")},vQ=B=>{if(B==null||B==="")return"";const we=Number(B),qe=m.find(wt=>Number(wt.activity_id)===we);return mr(qe,"activity_name_en","activity_name_ar")},xQ=B=>{if(B==null||B==="")return"";const we=Number(B),qe=v.find(wt=>Number(wt.status_id)===we);return mr(qe,"status_name_en","status_name_ar")},yQ=B=>{if(B==null||B==="")return"";const we=Number(B),qe=x.find(wt=>Number(wt.system_id)===we);return mr(qe,"system_name_en","system_name_ar")},wQ=B=>{if(!B)return"";const we=w.find(qe=>Number(qe.stage_id)===Number(B));return mr(we,"stage_name","stage_name_ar")},kj=B=>{const qe={2:{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"},4:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"},5:{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"},1:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"},6:{bg:"bg-white-100",text:"text-white-800",border:"border-white-200"},3:{bg:"bg-orange-100",text:"text-orange-800",border:"border-orange-200"}}[B]||{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"};return`${qe.bg} ${qe.text} ${qe.border}`},bQ=async(B,we)=>{const qe=B.name.split(".").pop(),Dr=`leads-quotation/${`${we}/${Math.random().toString(36).substring(2)}.${qe}`}`,{error:Ha}=await Qt.storage.from("leads-quotation").upload(Dr,B);if(Ha)throw Ha;const{data:{publicUrl:Ji}}=Qt.storage.from("leads-quotation").getPublicUrl(Dr);return{file_key:Dr,public_url:Ji,name:B.name,size:B.size,content_type:B.type,uploaded_at:new Date().toISOString(),uploaded_by:r==null?void 0:r.id}},_Q=async()=>{try{let B;if(be)await G.mLeads.update(be,sr),B=be,a({title:e("common.success"),description:e("mleads.leadUpdatedSuccessfully")});else{const we={...sr,created_by:r==null?void 0:r.id},qe=await G.mLeads.create(we);if(qe&&qe.leads_id)B=qe.leads_id;else if(B=qe.id||qe.leads_id,!B)throw new Error("Failed to create lead");a({title:e("common.success"),description:e("mleads.leadCreatedSuccessfully")})}if(be){await Nj(be);const we=N.filter(qe=>qe.leads_id===be);for(const qe of we)await G.mContacts.delete(qe.contact_id);Re.length>0&&await uD(B)}else Re.length>0&&await uD(B);if(Te&&sr.status_id===7){Ce(!0);try{const we=await bQ(Te,B);await G.mLeads.update(B,{lead_quotation:we})}catch(we){console.error("File upload failed:",we),a({title:"Warning",description:"Lead saved but file upload failed",variant:"destructive"})}finally{Ce(!1),Se(null)}}ye(!1),le(null),Wa({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Me([]),await l0()}catch(B){const we=B instanceof Error?B.message:"Failed to save";a({title:"Error",description:we,variant:"destructive"})}},SQ=async B=>{try{await G.mLeads.delete(B),a({title:e("common.success"),description:e("mleads.leadDeletedSuccessfully")}),je(null),await l0()}catch(we){const qe=we instanceof Error?we.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},oD=B=>{id(B),lD(B.leads_id),Nj(B.leads_id),W(!0)},lD=async B=>{try{const we=await im.getByRelated("mlead",B);Z(we)}catch(we){console.error("Failed to load notes:",we),Z([])}},Nj=async B=>{try{const we=await G.mContacts.list({exact_filters:{leads_id:B},select_fields:"contact_id,contact_name,contact_mobile,contact_email,jobtitle_id,leads_id",sort_by:"contact_name",sort_order:"asc"});k(we.data||[])}catch(we){console.error("Failed to load contacts:",we),k([])}},cD=async B=>{le(B.leads_id),Wa(B),await Nj(B.leads_id);const we=N.filter(qe=>qe.leads_id===B.leads_id);Me(we.map(qe=>{var wt;return{contact_name:qe.contact_name||"",contact_email:qe.contact_email||"",contact_mobile:((wt=qe.contact_mobile)==null?void 0:wt.toString())||"",jobtitle_id:qe.jobtitle_id}})),ye(!0)},jQ=async B=>{try{await Promise.all(B.map(we=>G.mLeads.delete(we))),a({title:e("common.success"),description:e("mleads.leadsDeletedSuccessfully")}),await l0()}catch(we){const qe=we instanceof Error?we.message:"Failed to delete";a({title:"Error",description:qe,variant:"destructive"})}},kQ=async()=>{try{if(!$e.city_name_en&&!$e.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const B=await G.mCity.create($e);B&&(h([...f,B]),Wa({...sr,city_id:B.city_id}),Ee(!1),Fe({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mleads.cityCreatedSuccessfully")}))}catch(B){const we=B instanceof Error?B.message:"Failed to create city";a({title:"Error",description:we,variant:"destructive"})}},NQ=async()=>{try{if(!zt.system_name_en&&!zt.system_name_ar){a({title:"Error",description:"Please enter at least one system name",variant:"destructive"});return}const B=await G.mSystem.create(zt);B&&(b([...x,B]),Wa({...sr,system_id:B.system_id}),yt(!1),hr({system_name_en:"",system_name_ar:""}),a({title:e("common.success"),description:e("mleads.systemCreatedSuccessfully")}))}catch(B){const we=B instanceof Error?B.message:"Failed to create system";a({title:"Error",description:we,variant:"destructive"})}},EQ=async()=>{try{if(!za.activity_name_en&&!za.activity_name_ar){a({title:"Error",description:"Please enter at least one activity name",variant:"destructive"});return}const B=await G.mActivity.create(za);B&&(p([...m,B]),Wa({...sr,activity_id:B.activity_id}),pr(!1),qn({activity_name_en:"",activity_name_ar:""}),a({title:e("common.success"),description:e("mleads.activityCreatedSuccessfully")}))}catch(B){const we=B instanceof Error?B.message:"Failed to create activity";a({title:"Error",description:we,variant:"destructive"})}},CQ=async()=>{try{if(!oe.status_name_en&&!oe.status_name_ar){a({title:"Error",description:"Please enter at least one status name",variant:"destructive"});return}const B=await G.mStatus.create(oe);B&&(g([...v,B]),Wa({...sr,status_id:B.status_id}),vi(!1),Ne({status_name_en:"",status_name_ar:""}),a({title:e("common.success"),description:e("mleads.statusCreatedSuccessfully")}))}catch(B){const we=B instanceof Error?B.message:"Failed to create status";a({title:"Error",description:we,variant:"destructive"})}},TQ=()=>{if(!ft.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}Me([...Re,{...ft}]),tt({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),Ar(!1)},AQ=B=>{Me(Re.filter((we,qe)=>qe!==B))},uD=async B=>{try{const we=Re.map(qe=>({...qe,leads_id:B,contact_mobile:qe.contact_mobile?parseInt(qe.contact_mobile):null}));if(we.length>0)for(const qe of we)await G.mContacts.create(qe)}catch(we){const qe=we instanceof Error?we.message:"Failed to save contacts";a({title:"Error",description:qe,variant:"destructive"})}},OQ=B=>{Y4(B)},PQ=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},DQ=async B=>{if(!sy)return;const we=o.find(qe=>qe.leads_id===sy);if(we&&we.stage_id!==B)try{await G.mLeads.update(sy,{stage_id:B}),a({title:e("common.success"),description:"Lead stage updated successfully"}),await l0()}catch(qe){console.error("Failed to update lead stage:",qe),a({title:"Error",description:"Failed to update lead stage",variant:"destructive"})}Y4(null)};if(H)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(M)return l.jsx(Vp,{message:M,onRetry:aD});const RQ=[{label:e("common.delete"),icon:l.jsx(Er,{}),onClick:B=>{window.confirm(`Delete ${B.length} leads?`)&&jQ(B.map(we=>we.leads_id))},variant:"destructive"}],IQ=[{key:"company_name",header:e("mleads.company"),className:"w-1/4 min-w-[200px]",render:B=>l.jsx(wc,{title:B.company_name||"-",subtitle:B.address||"",icon:l.jsx(En,{className:"h-4 w-4"})})},{key:"city_id",header:e("mleads.city"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx("span",{className:"text-sm text-foreground",children:bj(B)})},{key:"activity_id",header:e("mleads.activity"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx(gt,{variant:"outline",className:"text-xs truncate",children:_j(B)})},{key:"status_id",header:e("mleads.status"),className:"w-1/6 min-w-[120px]",render:B=>{const we=Sj(B);return l.jsx(gt,{variant:"outline",className:`text-xs truncate ${kj(B.status_id)}`,children:we})}},{key:"stage_id",header:e("mleads.stage"),className:"w-1/6 min-w-[120px]",render:B=>l.jsx(gt,{variant:"outline",className:"text-xs truncate bg-blue-50 text-blue-700 border-blue-200",children:iD(B)})},{key:"system_id",header:e("mleads.system"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:jj(B)})},{key:"created_by",header:e("mleads.createdBy"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx("div",{className:"truncate",children:l.jsx(bf,{name:B.created_by_name||"-"})})},{key:"assigned_to",header:e("mleads.assignedTo"),className:"w-1/8 min-w-[120px]",hideOnMobile:!0,render:B=>(e("mleads.unassigned",{defaultValue:e("common.unassigned")}),l.jsx("div",{className:"truncate",children:l.jsx(bf,{name:B.Users_name||"-"})}))},{key:"created_at",header:e("mleads.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:B=>l.jsx(Bu,{date:B.created_at})}],MQ=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:B=>cD(B)},{icon:l.jsx(Er,{}),label:e("common.delete"),onClick:B=>je(B.leads_id),variant:"destructive"}];return l.jsxs("div",{className:"h-full flex flex-col bg-background rounded-md",dir:Yt()?"rtl":"ltr",children:[l.jsx("div",{className:"flex-shrink-0 pb-3",children:l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>xe(Y==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[Y==="list"?l.jsx(Mi,{className:"h-4 w-4"}):l.jsx(En,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(Y==="list"?"mleads.kanbanView":"mleads.listView")})]}),l.jsxs(ue,{variant:O?"default":"outline",size:"default",onClick:()=>K(!O),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mleads.showChart")}),l.jsx(O_,{className:`h-4 w-4 transition-transform ${O?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:Yt()?"rtl":"ltr",children:[l.jsx(Ws,{className:`absolute ${Yt()?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(He,{placeholder:e("mleads.searchPlaceholder"),value:L,onChange:B=>{R(B.target.value),q(1)},className:`${Yt()?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(ue,{size:"default",onClick:()=>{le(null),Wa({company_name:"",city_id:null,address:"",activity_id:null,system_id:null,stage_id:null,status_id:null,assigned_to:null}),Me([]),xs(null),Ee(!1),yt(!1),pr(!1),vi(!1),Fe({city_name_en:"",city_name_ar:"",country_id:null}),hr({system_name_en:"",system_name_ar:""}),qn({activity_name_en:"",activity_name_ar:""}),Ne({status_name_en:"",status_name_ar:""}),Se(null),ye(!0)},variant:"outline",className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",dir:Yt()?"rtl":"ltr",children:[l.jsx(or,{className:`w-4 h-4 ${Yt()?"order-2":"order-1"}`}),l.jsx("span",{className:`${Yt()?"order-1":"order-2"}`,children:e("common.add")})]})]})})}),l.jsx("div",{className:"flex-shrink-0 pb-4",children:l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")}),(de||Be||Ue||De||ut||he)&&l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>{D(""),Le(""),ze(""),mt(""),se(""),ee(""),q(1)},title:e("mleads.clearFilters"),className:"h-8 px-3 hover:bg-destructive/10 hover:border-destructive/30 hover:text-destructive transition-colors",children:[l.jsx(Oo,{className:`h-3 w-3 ${Yt()?"ml-2":"mr-2"}`}),e("mleads.clearFilters")]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3",children:[l.jsxs(wa,{open:J4,onOpenChange:pj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":J4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:De?mr(v.find(B=>B.status_id.toString()===De),"status_name_en","status_name_ar"):e("mleads.allStatuses")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchStatus")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allStatuses"),onSelect:()=>{mt(""),q(1),pj(!1)},children:e("mleads.allStatuses")}),v.map(B=>l.jsx(qr,{value:B.status_id.toString(),onSelect:()=>{mt(B.status_id.toString()),q(1),pj(!1)},children:mr(B,"status_name_en","status_name_ar")},B.status_id))]})]})]})})]}),l.jsxs(wa,{open:Q4,onOpenChange:gj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Q4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:ut?mr(m.find(B=>B.activity_id.toString()===ut),"activity_name_en","activity_name_ar"):e("mleads.allActivities")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchActivity")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allActivities"),onSelect:()=>{se(""),q(1),gj(!1)},children:e("mleads.allActivities")}),m.map(B=>l.jsx(qr,{value:B.activity_id.toString(),onSelect:()=>{se(B.activity_id.toString()),q(1),gj(!1)},children:mr(B,"activity_name_en","activity_name_ar")},B.activity_id))]})]})]})})]}),l.jsxs(wa,{open:Z4,onOpenChange:vj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Z4,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Ue?mr(x.find(B=>B.system_id.toString()===Ue),"system_name_en","system_name_ar"):e("mleads.allSystems")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchSystem")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allSystems"),onSelect:()=>{ze(""),q(1),vj(!1)},children:e("mleads.allSystems")}),x.map(B=>l.jsx(qr,{value:B.system_id.toString(),onSelect:()=>{ze(B.system_id.toString()),q(1),vj(!1)},children:mr(B,"system_name_en","system_name_ar")},B.system_id))]})]})]})})]}),l.jsxs(wa,{open:eD,onOpenChange:xj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":eD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:Be?mr(P.find(B=>B.country_id.toString()===Be),"country_name_en","country_name_ar"):e("mleads.allCountries")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchCountry")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allCountries"),onSelect:()=>{Le(""),q(1),xj(!1)},children:e("mleads.allCountries")}),P.map(B=>l.jsx(qr,{value:B.country_id.toString(),onSelect:()=>{Le(B.country_id.toString()),q(1),xj(!1)},children:mr(B,"country_name_en","country_name_ar")},B.country_id))]})]})]})})]}),l.jsxs(wa,{open:tD,onOpenChange:yj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":tD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:de?mr(f.find(B=>B.city_id.toString()===de),"city_name_en","city_name_ar"):e("mleads.allCities")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchCity")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allCities"),onSelect:()=>{D(""),q(1),yj(!1)},children:e("mleads.allCities")}),f.map(B=>l.jsx(qr,{value:B.city_id.toString(),onSelect:()=>{D(B.city_id.toString()),q(1),yj(!1)},children:mr(B,"city_name_en","city_name_ar")},B.city_id))]})]})]})})]}),l.jsxs(wa,{open:rD,onOpenChange:wj,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":rD,className:"w-full justify-between h-10 px-3 hover:bg-accent transition-colors",children:[l.jsx("span",{className:"truncate",children:he?iy(he):e("mleads.allUsers")}),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchUser")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsxs(Na,{children:[l.jsx(qr,{value:e("mleads.allUsers"),onSelect:()=>{ee(""),q(1),wj(!1)},children:e("mleads.allUsers")}),C.map(B=>{var wt;const we=(wt=B.userid||B.user_id||B.id)==null?void 0:wt.toString(),qe=B.name||B.user_name||B.display_name||"-";return l.jsx(qr,{value:we,onSelect:()=>{ee(we),q(1),wj(!1)},children:qe},we)})]})]})]})})]})]})]})}),l.jsx(Sl,{open:fe,onOpenChange:ye,children:l.jsxs(Io,{className:"w-full sm:max-w-[540px] flex flex-col h-full",children:[l.jsx(xc,{children:l.jsx(jl,{children:e(be?"mleads.editLead":"mleads.createNewLead")})}),l.jsxs("div",{className:"mt-6 space-y-4 px-4 flex-1 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.companyName")}),l.jsx(He,{value:sr.company_name||"",onChange:B=>Wa({...sr,company_name:B.target.value}),placeholder:e("mleads.companyName")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.address")}),l.jsx(da,{value:sr.address||"",onChange:B=>Wa({...sr,address:B.target.value}),placeholder:e("mleads.address")})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.contacts")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ar(!qt),className:"h-6 px-2 text-xs",children:e(qt?"mleads.cancel":"mleads.addContact")})]}),Re.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:Re.map((B,we)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:B.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[B.contact_email&&`${B.contact_email}  `,B.contact_mobile&&`${B.contact_mobile}`]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>AQ(we),className:"h-6 w-6 p-0",children:l.jsx(Oo,{className:"h-3 w-3"})})]},we))}),qt&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mleads.contactName"),value:ft.contact_name,onChange:B=>tt({...ft,contact_name:B.target.value})}),l.jsx(He,{placeholder:e("mleads.email"),type:"email",value:ft.contact_email,onChange:B=>tt({...ft,contact_email:B.target.value})}),l.jsx(He,{placeholder:e("mleads.mobile"),value:ft.contact_mobile,onChange:B=>tt({...ft,contact_mobile:B.target.value})}),l.jsxs(wa,{open:Uo,onOpenChange:Jf,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Uo,className:"w-full justify-between",children:[ft.jobtitle_id?(dD=T.find(B=>B.jobtitle_id===ft.jobtitle_id))==null?void 0:dD.jobtitle_name_en:e("mleads.selectJobTitle"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchJobTitle")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:T&&T.length>0?T.map(B=>l.jsx(qr,{value:mr(B,"jobtitle_name_en","jobtitle_name_ar")||B.jobtitle_name_en||"Unknown",onSelect:()=>{tt(we=>({...we,jobtitle_id:B.jobtitle_id})),Jf(!1)},children:mr(B,"jobtitle_name_en","jobtitle_name_ar")||B.jobtitle_name_en||"Unknown"},B.jobtitle_id)):l.jsx(qr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(ue,{type:"button",onClick:TQ,className:"w-full",children:e("mleads.addContactTitle")})]})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.city")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ee(!pe),className:"h-6 px-2 text-xs",children:e(pe?"mleads.cancel":"mleads.addNew")})]}),pe?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mleads.cityNameEn"),value:$e.city_name_en,onChange:B=>Fe({...$e,city_name_en:B.target.value})}),l.jsx(He,{placeholder:e("mleads.cityNameAr"),value:$e.city_name_ar,onChange:B=>Fe({...$e,city_name_ar:B.target.value})}),l.jsxs(wa,{open:xi,onOpenChange:G4,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":xi,className:"w-full justify-between",children:[$e.country_id?(fD=P.find(B=>B.country_id===$e.country_id))==null?void 0:fD.country_name_en:e("mleads.selectCountry"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchCountry")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:P.map(B=>l.jsx(qr,{value:mr(B,"country_name_en","country_name_ar"),onSelect:()=>{Fe({...$e,country_id:B.country_id}),G4(!1)},children:mr(B,"country_name_en","country_name_ar")},B.country_id))})]})]})})]}),l.jsx(ue,{type:"button",onClick:kQ,className:"w-full",children:e("mleads.createCity")})]}):l.jsxs(wa,{open:Ve,onOpenChange:Ze,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ve,className:"w-full justify-between",children:[sr.city_id?gQ(sr.city_id):e("mleads.city"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchCity")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:f.map(B=>l.jsx(qr,{value:mr(B,"city_name_en","city_name_ar"),onSelect:()=>{Wa({...sr,city_id:B.city_id}),Ze(!1)},children:mr(B,"city_name_en","city_name_ar")},B.city_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.activity")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>pr(!kr),className:"h-6 px-2 text-xs",children:e(kr?"mleads.cancel":"mleads.addNew")})]}),kr?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mleads.activityNameEn"),value:za.activity_name_en,onChange:B=>qn({...za,activity_name_en:B.target.value})}),l.jsx(He,{placeholder:e("mleads.activityNameAr"),value:za.activity_name_ar,onChange:B=>qn({...za,activity_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:EQ,className:"w-full",children:e("mleads.createActivity")})]}):l.jsxs(wa,{open:at,onOpenChange:Ye,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":at,className:"w-full justify-between",children:[sr.activity_id?vQ(sr.activity_id):e("mleads.selectActivity"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchActivity")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:m.map(B=>l.jsx(qr,{value:mr(B,"activity_name_en","activity_name_ar"),onSelect:()=>{Wa({...sr,activity_id:B.activity_id}),Ye(!1)},children:mr(B,"activity_name_en","activity_name_ar")},B.activity_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.system")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>yt(!We),className:"h-6 px-2 text-xs",children:e(We?"mleads.cancel":"mleads.addNew")})]}),We?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mleads.systemNameEn"),value:zt.system_name_en,onChange:B=>hr({...zt,system_name_en:B.target.value})}),l.jsx(He,{placeholder:e("mleads.systemNameAr"),value:zt.system_name_ar,onChange:B=>hr({...zt,system_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:NQ,className:"w-full",children:e("mleads.createSystem")})]}):l.jsxs(wa,{open:nt,onOpenChange:Dt,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":nt,className:"w-full justify-between",children:[sr.system_id?yQ(sr.system_id):e("mleads.selectSystem"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchSystem")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:x.map(B=>l.jsx(qr,{value:mr(B,"system_name_en","system_name_ar"),onSelect:()=>{Wa({...sr,system_id:B.system_id}),Dt(!1)},children:mr(B,"system_name_en","system_name_ar")},B.system_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.status")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>vi(!ra),className:"h-6 px-2 text-xs",children:e(ra?"mleads.cancel":"mleads.addNew")})]}),ra?l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mleads.statusNameEn"),value:oe.status_name_en,onChange:B=>Ne({...oe,status_name_en:B.target.value})}),l.jsx(He,{placeholder:e("mleads.statusNameAr"),value:oe.status_name_ar,onChange:B=>Ne({...oe,status_name_ar:B.target.value})}),l.jsx(ue,{type:"button",onClick:CQ,className:"w-full",children:e("mleads.createStatus")})]}):l.jsxs(wa,{open:Or,onOpenChange:Pr,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Or,className:"w-full justify-between",children:[sr.status_id?xQ(sr.status_id):e("mleads.selectStatus"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchStatus")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:v.map(B=>l.jsx(qr,{value:mr(B,"status_name_en","status_name_ar"),onSelect:()=>{Wa({...sr,status_id:B.status_id}),Pr(!1)},children:mr(B,"status_name_en","status_name_ar")},B.status_id))})]})]})})]})]}),sr.status_id===7&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:[l.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(rv,{className:"h-4 w-4 text-yellow-600"}),e("mleads.uploadQuotation")]}),l.jsx(He,{type:"file",onChange:B=>{var qe;const we=(qe=B.target.files)==null?void 0:qe[0];we&&Se(we)},className:"cursor-pointer"}),sr.lead_quotation&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Current file:",l.jsx("a",{href:(hD=sr.lead_quotation)==null?void 0:hD.public_url,target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-blue-600 hover:underline font-medium",children:(mD=sr.lead_quotation)==null?void 0:mD.name})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.stage")}),l.jsxs(wa,{open:Dn,onOpenChange:Pc,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Dn,className:"w-full justify-between",children:[sr.stage_id?wQ(sr.stage_id):e("mleads.selectStage"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchStage")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:w.map(B=>l.jsx(qr,{value:B.stage_name,onSelect:()=>{Wa({...sr,stage_id:B.stage_id}),Pc(!1)},children:B.stage_name},B.stage_id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:e("mleads.assignedTo")}),l.jsxs(wa,{open:Dc,onOpenChange:Rc,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Dc,className:"w-full justify-between",children:[sr.assigned_to?iy(sr.assigned_to):e("mleads.selectUser"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mleads.searchUser")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:C.map(B=>l.jsx(qr,{value:B.user_name,onSelect:()=>{Wa({...sr,assigned_to:B.userid}),Rc(!1)},children:B.user_name},B.user_id))})]})]})})]})]}),l.jsxs("div",{className:"flex gap-2 pt-4 border-t mt-4",children:[l.jsx(ue,{variant:"outline",onClick:()=>ye(!1),children:e("common.cancel")}),l.jsx(ue,{onClick:_Q,children:e("common.save")})]})]})}),O&&l.jsx("div",{className:"flex-shrink-0 px-4 pb-4",children:l.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30 animate-in fade-in slide-in-from-top-2",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Lead Analytics"}),l.jsxs(kl,{defaultValue:"pie",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"pie",children:"Distribution Charts"}),l.jsx(en,{value:"timeline",children:"Timeline"})]}),l.jsx(An,{value:"pie",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Status"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const B=v.map(we=>({name:mr(we,"status_name_en","status_name_ar"),value:pa.filter(qe=>qe.status_id===we.status_id).length})).filter(we=>we.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:we})=>`${B}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,we)=>l.jsx(sl,{fill:B},`cell-${we}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By System"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const B=x.map(we=>({name:mr(we,"system_name_en","system_name_ar"),value:pa.filter(qe=>qe.system_id===we.system_id).length})).filter(we=>we.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:we})=>`${B}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,we)=>l.jsx(sl,{fill:B},`cell-${we}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Activity"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const B=m.map(we=>({name:mr(we,"activity_name_en","activity_name_ar"),value:pa.filter(qe=>qe.activity_id===we.activity_id).length})).filter(we=>we.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:we})=>`${B}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,we)=>l.jsx(sl,{fill:B},`cell-${we}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const B=f.map(we=>({name:mr(we,"city_name_en","city_name_ar"),value:pa.filter(qe=>qe.city_id===we.city_id).length})).filter(we=>we.value>0);return B.length>0?B:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:we})=>`${B}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,we)=>l.jsx(sl,{fill:B},`cell-${we}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Assigned User"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const B=C.map(we=>({name:we.user_name,value:pa.filter(qe=>qe.assigned_to===we.userid).length})).filter(we=>we.value>0);return B.length>0?B:[{name:"Unassigned",value:pa.filter(we=>!we.assigned_to).length||1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:B,value:we})=>`${B}: ${we}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((B,we)=>l.jsx(sl,{fill:B},`cell-${we}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Leads"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:pa.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(An,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(n4,{width:"100%",height:"100%",children:l.jsxs(qJ,{data:(()=>{const B=new Map;return pa.forEach(qe=>{const wt=new Date(qe.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});B.set(wt,(B.get(wt)||0)+1)}),Array.from(B.entries()).sort((qe,wt)=>new Date(qe[0]).getTime()-new Date(wt[0]).getTime()).map(([qe,wt])=>({date:qe,count:wt}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx($4,{strokeDasharray:"3 3"}),l.jsx(ry,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),l.jsx(ny,{label:{value:"Number of Leads",angle:-90,position:"insideLeft"}}),l.jsx(Ti,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:B=>[`${B} leads`,"Total"]}),l.jsx(Ou,{}),l.jsx(o0,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Leads"})]})})})})]})]})}),l.jsx(ot,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0 overflow-hidden",children:Y==="kanban"?l.jsx(Dx,{stages:w.map(B=>({id:B.stage_id,name:B.stage_name,count:pa.filter(we=>we.stage_id===B.stage_id).length})),currentStageId:X4||((pD=w[0])==null?void 0:pD.stage_id),onStageChange:hQ,children:l.jsx("div",{className:"space-y-4 h-full flex flex-col",children:l.jsx("div",{className:"flex gap-6 pb-6 overflow-x-auto pt-4 scrollbar-hide flex-1 min-h-0",children:w.filter(B=>{var we;return!s||B.stage_id===(X4||((we=w[0])==null?void 0:we.stage_id))}).map((B,we)=>{const qe=pa.filter(wt=>wt.stage_id===B.stage_id);return l.jsxs("div",{className:ve("flex-shrink-0 animate-fade-in h-full flex flex-col",s?"w-full":"w-[300px]"),style:{animationDelay:`${we*.1}s`},onDragOver:PQ,onDrop:()=>DQ(B.stage_id),children:[!s&&l.jsx("div",{className:"rounded-xl bg-muted/30 backdrop-blur p-4 mb-5 shadow-soft border-l-4 border-primary/50 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h2",{className:"font-bold text-base",children:B.stage_name}),l.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-background shadow-sm",children:qe.length})]})}),l.jsx("div",{className:"space-y-4 overflow-y-auto pr-2 custom-scrollbar flex-1 min-h-0",children:qe.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-40 border-2 border-dashed rounded-xl border-muted-foreground/20 text-muted-foreground",children:[l.jsx(En,{className:"h-8 w-8 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm",children:e("common.noLeads")})]}):qe.map(wt=>l.jsxs(ot,{className:ve("group relative hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500",s?"w-full":"w-[300px]","min-h-[160px]",sy===wt.leads_id&&"opacity-50 rotate-2 scale-105"),onClick:()=>oD(wt),draggable:!0,onDragStart:Dr=>{Dr.dataTransfer.effectAllowed="move",Dr.dataTransfer.setData("text/plain",wt.leads_id.toString()),OQ(wt.leads_id)},children:[l.jsx(Xt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate group-hover:text-primary transition-colors",children:wt.company_name||"No Company"}),wt.address&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:wt.address})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:bj(wt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(gI,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate",children:_j(wt)})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(En,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("p",{className:"text-xs truncate text-muted-foreground",children:jj(wt)})]})]}),l.jsx("div",{children:l.jsx(gt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${kj(wt.status_id)}`,children:Sj(wt)})})]}),(()=>{const Dr=S.filter(Ha=>Number(Ha.leads_id)===Number(wt.leads_id));return Dr.length===0?null:l.jsxs("div",{className:"pt-2 border-t mt-2 flex flex-col gap-1",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground font-semibold uppercase tracking-wider",children:e("mleads.contacts")}),Dr.slice(0,1).map((Ha,Ji)=>l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Qn,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("p",{className:"text-[11px] truncate",children:Ha.contact_name})]},Ji)),Dr.length>1&&l.jsxs("p",{className:"text-[10px] text-muted-foreground pl-4",children:["+",Dr.length-1," more"]})]})})(),l.jsxs("div",{className:"pt-2 border-t flex flex-col gap-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[l.jsx(Qn,{className:"h-2.5 w-2.5 flex-shrink-0"}),l.jsxs("span",{className:"truncate",children:["Assign: ",iy(wt.assigned_to)]})]}),l.jsx("div",{className:"flex items-center gap-1 min-w-0",children:l.jsxs("span",{className:"truncate opacity-70",children:["By: ",iy(wt.created_by_name)]})})]}),l.jsx("div",{className:"text-[10px] text-muted-foreground italic opacity-60",children:new Date(wt.created_at).toLocaleDateString()})]})]})]},wt.leads_id))})]},B.stage_id)})})})}):l.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:pa.length===0?l.jsx(pl,{title:e("mleads.noLeadsFound"),description:e("mleads.createNewLeadToGetStarted"),icon:l.jsx(En,{className:"h-12 w-12"})}):l.jsx(yc,{data:pQ,columns:["kanban","timeline"].includes(Y)?[]:IQ,actions:MQ,bulkActions:RQ,enableBulkSelect:!0,keyExtractor:B=>B.leads_id.toString(),onRowClick:B=>oD(B),rowHeight:"h-26"},`leads-${De}-${ut}-${Ue}-${de}-${Be}-${he}-${L}-${V}`)}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:ld>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(NP,{children:l.jsxs(EP,{children:[l.jsx(af,{children:l.jsx(TP,{onClick:()=>q(Math.max(1,V-1)),className:V===1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(af,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",V," ",e("common.of")," ",ld]})}),l.jsx(af,{children:l.jsx(AP,{onClick:()=>q(Math.min(ld,V+1)),className:V===ld?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})})]})})}),l.jsx(fi,{open:_e!==null,onOpenChange:()=>je(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("mleads.deleteLead")}),l.jsx(Bs,{children:e("mleads.deleteLeadConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{onClick:()=>_e&&SQ(_e),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:od,onOpenChange:W,children:l.jsxs(Io,{side:Yt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(xc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(En,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:ar==null?void 0:ar.company_name})]})}),ar&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mleads.leadDetails")}),l.jsxs(ue,{onClick:()=>{cD(ar),W(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:e("common.overview")}),l.jsx(en,{value:"notes",children:e("notes.title")})]}),l.jsxs(An,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:ar.company_name||"-"}),ar.address&&l.jsx("p",{className:"text-muted-foreground mt-1",children:ar.address})]}),ar.lead_quotation&&l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border bg-blue-50/50 dark:bg-blue-900/10",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center flex-shrink-0",children:l.jsx(rv,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.quotation")}),l.jsx("a",{href:(gD=ar.lead_quotation)==null?void 0:gD.public_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline truncate block",children:(vD=ar.lead_quotation)==null?void 0:vD.name})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.city")}),l.jsx("p",{className:"font-medium",children:bj(ar)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(gI,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.activity")}),l.jsx("p",{className:"font-medium",children:_j(ar)})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.status")}),l.jsx(gt,{variant:"outline",className:`text-xs ${kj(ar.status_id)}`,children:Sj(ar)})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.stage")}),l.jsx(gt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:iD(ar)})]})}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(En,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.system")}),l.jsx("p",{className:"font-medium",children:jj(ar)})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Qn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.createdBy")}),l.jsx("p",{className:"font-medium",children:ar.created_by_name||"-"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Qn,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.assignedTo")}),l.jsx("p",{className:"text-sm font-medium",children:ar.Users_name||"-"})]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(ar.created_at).toLocaleDateString()})]})}),l.jsx("div",{className:"flex items-start gap-2 p-3 rounded-lg border",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mleads.notes")}),l.jsx("p",{className:"text-sm mt-1",children:ar.notes||"-"})]})}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mleads.contacts")}),(()=>{const B=N.length>0?N:[];return B.length>0?l.jsx("div",{className:"space-y-2",children:B.map((we,qe)=>{var wt;return l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:we.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[we.contact_email&&`${we.contact_email}  `,we.contact_mobile&&`${we.contact_mobile}`]})]}),l.jsx(gt,{variant:"outline",className:"text-xs",children:((wt=T.find(Dr=>Dr.jobtitle_id===we.jobtitle_id))==null?void 0:wt.jobtitle_name_en)||"-"})]},we.contact_id||qe)})}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mleads.noContactsFound")})})()]})]}),l.jsx(An,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"mlead",relatedId:ar.leads_id,notes:re,onNotesChange:()=>lD(ar.leads_id)})})]})]})]})})]})}function KGe(e){const r=e.lastIndexOf("."),n=r!==-1?e.slice(r):"";return`contract-${crypto.randomUUID()}${n}`}async function GGe(e,r,n={}){const a=n.bucket||"projects",s=!!n.publicBucket;if(!e)throw new Error("No file provided");if(!r)throw new Error("projectId is required");const i=KGe(e.name),o=`projects/${r}/${i}`,{data:c,error:u}=await Qt.storage.from(a).upload(o,e,{cacheControl:"3600",upsert:!1});if(u)throw u;let d=null;if(s){const{data:p}=Qt.storage.from(a).getPublicUrl(o);d=(p==null?void 0:p.publicUrl)||null}else{const{data:v,error:g}=await Qt.storage.from(a).createSignedUrl(o,3600);if(g){const{data:x}=Qt.storage.from(a).getPublicUrl(o);if(d=(x==null?void 0:x.publicUrl)||null,!d)throw g}else d=(v==null?void 0:v.signedUrl)||null}const{data:{user:f}}=await Qt.auth.getUser(),h={bucket:a,path:o,url:d,name:e.name,filename:i,mime:e.type||null,size:e.size||null,uploaded_by:(f==null?void 0:f.id)||null,uploaded_at:new Date().toISOString()},{error:m}=await Qt.from("m_projects").update({contract_document:h}).eq("project_id",r);if(m){try{await Qt.storage.from(a).remove([o])}catch(p){console.error("Failed to delete uploaded file after DB update error:",p)}throw m}return h}async function YGe(e){try{const{data:r,error:n}=await Qt.from("m_projects").select("contract_document").eq("project_id",e).single();if(n)throw n;if(r!=null&&r.contract_document){const a=r.contract_document,{error:s}=await Qt.storage.from(a.bucket).remove([a.path]);s&&console.error("Failed to delete file from storage:",s);const{error:i}=await Qt.from("m_projects").update({contract_document:null}).eq("project_id",e);if(i)throw i}}catch(r){throw console.error("Error deleting contract document:",r),r}}function XGe(){var W,re,Z;const{t:e}=Kt(),{user:r}=Sr(),{currentLanguage:n}=ms(),{toast:a}=Ol();yn();const{setBreadcrumbs:s}=fx();zs();const[i,o]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[p,v]=y.useState([]),[g,x]=y.useState([]),[b,w]=y.useState([]),[_,S]=y.useState(!0),[j,N]=y.useState(null),[k,C]=y.useState(""),[E,P]=y.useState(0),[I]=y.useState(9),[T,U]=y.useState(0),[H,F]=y.useState(""),[M,z]=y.useState(""),[L,R]=y.useState(null),[J,te]=y.useState(null),[A,X]=y.useState(!1),[V,q]=y.useState(!1),[ae,ce]=y.useState({city_name_en:"",city_name_ar:"",country_id:null});y.useState(null);const[me,ie]=y.useState(null),[Q,de]=y.useState(!1),[D,Be]=y.useState([]),[Le,Ue]=y.useState(!1),[ze,De]=y.useState("list"),[mt,ut]=y.useState(null),[se,he]=y.useState(""),[ee,_e]=y.useState([]),[je,be]=y.useState({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),[le,fe]=y.useState(!1),[ye,pe]=y.useState(!1);y.useState(!1),y.useState(!1),y.useState(!1);const[Ee,$e]=y.useState(!1),[Fe,We]=y.useState({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""});y.useEffect(()=>{s([{label:e("navigation.dashboard"),href:"/"},{label:e("mprojects.masterProjects"),href:"/mprojects"}])},[s,e]),y.useEffect(()=>{yt()},[]),y.useEffect(()=>{zt()},[E,k,H,M,d]),y.useEffect(()=>{Le&&hr()},[Le,k,H,M,d]);const yt=async()=>{try{S(!0),N(null);const[O,K,Y,xe,Te]=await Promise.all([G.mCity.list({sort_by:"city_name_en",sort_order:"asc"}),G.mContacts.list({sort_by:"contact_name",sort_order:"asc"}),G.users.list({sort_by:"user_name",sort_order:"asc"}),G.mCountry.list({sort_by:"country_name_en",sort_order:"asc"}),G.mJobtitle.list({sort_by:"jobtitle_name_en",sort_order:"asc"})]),Se=ke=>Array.isArray(ke)?ke:ke!=null&&ke.data&&Array.isArray(ke.data)?ke.data:[];f(Se(O)),m(Se(K)),v(Se(Y)),x(Se(xe)),w(Se(Te))}catch(O){const K=O instanceof Error?O.message:"Failed to load data";N(K),a({title:"Error",description:K,variant:"destructive"})}finally{S(!1)}},zt=async()=>{try{S(!0),N(null);const O={};if(H&&(O.city_id=H),M){const xe=d.filter(Te=>{var Se;return((Se=Te.country_id)==null?void 0:Se.toString())===M}).map(Te=>Te.city_id);xe.length>0?O.city_id=xe:O.city_id=-1}const K={page:E,limit:I,sort_by:"created_at",sort_order:"desc",exact_filters:O};k&&(K.search=k);const Y=await G.mProjects.list(K);o(Y.data||[]),U(Y.total||0)}catch(O){const K=O instanceof Error?O.message:"Failed to load data";N(K),a({title:"Error",description:K,variant:"destructive"})}finally{S(!1)}},hr=async()=>{try{const O={};if(H&&(O.city_id=H),M){const xe=d.filter(Te=>{var Se;return((Se=Te.country_id)==null?void 0:Se.toString())===M}).map(Te=>Te.city_id);xe.length>0?O.city_id=xe:O.city_id=-1}const K={limit:1e3,exact_filters:O};k&&(K.search=k);const Y=await G.mProjects.list(K);u(Y.data||[])}catch(O){console.error("Failed to load all filtered projects:",O)}},kr=async()=>{try{const O=await G.mContacts.list({sort_by:"contact_name",sort_order:"asc"});m(O.data||[])}catch(O){console.error("Failed to load contacts:",O)}},pr=y.useMemo(()=>Le?c:i,[Le,c,i]),za=y.useMemo(()=>{if(Le){const O=E*I,K=O+I;return pr.slice(O,K)}else return i},[Le,pr,i,E,I]),qn=Math.ceil(T/I);y.useEffect(()=>{E>=qn&&qn>0&&P(qn-1)},[E,qn]);const ra=(O,K,Y)=>{if(!O)return"-";let xe=n==="ar"&&(O==null?void 0:O[Y])||(O==null?void 0:O[K]);if(!xe){const Te=K.replace(/_en$/,""),Se=Y.replace(/_ar$/,"");xe=n==="ar"&&(O==null?void 0:O[Se])||(O==null?void 0:O[Te])}return xe||(O==null?void 0:O.name)||(O==null?void 0:O.label)||(O==null?void 0:O.title)||"-"},vi=O=>{if(O==null||O==="")return"-";const K=Number(O),Y=d.find(xe=>Number(xe.city_id)===K||Number(xe.id)===K);return ra(Y,"city_name_en","city_name_ar")},oe=async()=>{if(!ye){pe(!0);try{let O;if(J)await G.mProjects.update(J,Fe),O=J,a({title:e("common.success"),description:e("mprojects.projectUpdatedSuccessfully")});else{const K={...Fe,created_by:r==null?void 0:r.id},Y=await G.mProjects.create(K);if(O=Y.id||Y.project_id,!O)throw new Error("Failed to create project");a({title:e("common.success"),description:e("mprojects.projectCreatedSuccessfully")})}if(J){const K=h.filter(Y=>Y.project_id===J);for(const Y of K)await G.mContacts.delete(Y.contact_id);ee.length>0&&await xs(O)}else ee.length>0&&await xs(O);if(mt){he("Uploading contract document...");try{await GGe(mt,O,{bucket:"projects",publicBucket:!1}),he("Document uploaded successfully"),a({title:e("common.success"),description:"Contract document uploaded successfully"})}catch(K){console.error("File upload failed:",K),he("Document upload failed"),a({title:"Warning",description:"Project saved but document upload failed",variant:"destructive"})}}X(!1),te(null),We({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),_e([]),ut(null),he(""),await zt(),await kr()}catch(O){const K=O instanceof Error?O.message:"Failed to save";a({title:"Error",description:K,variant:"destructive"})}finally{pe(!1)}}},Ne=async O=>{try{await G.mProjects.delete(O),a({title:e("common.success"),description:e("mprojects.projectDeletedSuccessfully")}),R(null),await zt()}catch(K){const Y=K instanceof Error?K.message:"Failed to delete";a({title:"Error",description:Y,variant:"destructive"})}},Re=O=>{ie(O),Me(O.project_id),kr(),de(!0)},Me=async O=>{try{const K=await im.getByRelated("mlead",O);Be(K)}catch(K){console.error("Failed to load notes:",K),Be([])}},ft=O=>{te(O.project_id),We(O);const K=h.filter(Y=>Y.project_id===O.project_id);_e(K.map(Y=>{var xe;return{contact_name:Y.contact_name||"",contact_email:Y.contact_email||"",contact_mobile:((xe=Y.contact_mobile)==null?void 0:xe.toString())||"",jobtitle_id:Y.jobtitle_id}})),X(!0)},tt=async O=>{try{await Promise.all(O.map(K=>G.mProjects.delete(K))),a({title:e("common.success"),description:e("mprojects.projectsDeletedSuccessfully")}),await zt()}catch(K){const Y=K instanceof Error?K.message:"Failed to delete";a({title:"Error",description:Y,variant:"destructive"})}},qt=async()=>{try{if(!ae.city_name_en&&!ae.city_name_ar){a({title:"Error",description:"Please enter at least one city name",variant:"destructive"});return}const O=await G.mCity.create(ae);O&&(f([...d,O]),We({...Fe,city_id:O.city_id}),q(!1),ce({city_name_en:"",city_name_ar:"",country_id:null}),a({title:e("common.success"),description:e("mprojects.cityCreatedSuccessfully")}))}catch(O){const K=O instanceof Error?O.message:"Failed to create city";a({title:"Error",description:K,variant:"destructive"})}},Ar=()=>{if(!je.contact_name.trim()){a({title:"Error",description:"Please enter contact name",variant:"destructive"});return}if(ee.some(K=>K.contact_name===je.contact_name&&K.contact_email===je.contact_email&&K.contact_mobile===je.contact_mobile)){a({title:"Warning",description:"This contact already exists",variant:"destructive"});return}_e([...ee,{...je}]),be({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),fe(!1)},vs=O=>{_e(ee.filter((K,Y)=>Y!==O))},xs=async O=>{try{const K=ee.map(Y=>({contact_name:Y.contact_name,contact_email:Y.contact_email,contact_mobile:Y.contact_mobile?parseInt(Y.contact_mobile):null,jobtitle_id:Y.jobtitle_id,project_id:O}));if(K.length>0)for(const Y of K)await G.mContacts.create(Y)}catch(K){const Y=K instanceof Error?K.message:"Failed to save contacts";a({title:"Error",description:Y,variant:"destructive"})}};if(_)return l.jsx("div",{className:"flex items-center justify-center h-full py-12",children:l.jsx(zi,{size:"xl"})});if(j)return l.jsx(Vp,{message:j,onRetry:yt});const ar=[{label:e("common.delete"),icon:l.jsx(Er,{}),onClick:O=>{window.confirm(`Delete ${O.length} projects?`)&&tt(O.map(K=>K.project_id))},variant:"destructive"}],id=[{key:"company_name",header:e("mprojects.company"),className:"w-1/4 min-w-[200px]",render:O=>l.jsx(wc,{title:O.company_name||"-",subtitle:O.contract_code||"",icon:l.jsx(En,{className:"h-4 w-4"})})},{key:"city_id",header:e("mprojects.city"),className:"w-1/6 min-w-[120px]",render:O=>l.jsx("span",{className:"text-sm text-foreground",children:vi(O.city_id)})},{key:"contract_amount",header:e("mprojects.contractAmount"),className:"w-1/6 min-w-[120px]",render:O=>l.jsx(gt,{variant:"outline",className:"text-xs",children:O.contract_amount?`$${O.contract_amount.toLocaleString()}`:"-"})},{key:"cont_start_date",header:e("mprojects.startDate"),className:"w-1/6 min-w-[120px]",render:O=>l.jsx("span",{className:"text-sm text-muted-foreground",children:O.cont_start_date?new Date(O.cont_start_date).toLocaleDateString():"-"})},{key:"cont_end_date",header:e("mprojects.endDate"),className:"w-1/6 min-w-[120px]",render:O=>l.jsx("span",{className:"text-sm text-muted-foreground",children:O.cont_end_date?new Date(O.cont_end_date).toLocaleDateString():"-"})},{key:"created_at",header:e("mprojects.created"),className:"w-1/6 min-w-[120px]",hideOnMobile:!0,render:O=>l.jsx(Bu,{date:O.created_at})}],od=[{icon:l.jsx(Vi,{}),label:e("common.edit"),onClick:O=>ft(O)},{icon:l.jsx(Er,{}),label:e("common.delete"),onClick:O=>R(O.project_id),variant:"destructive"}];return l.jsxs("div",{className:`h-full flex flex-col bg-background rounded-md ${Yt()?"rtl":"ltr"}`,children:[l.jsxs("div",{className:"flex-shrink-0 pb-3",children:[l.jsx("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between",children:[l.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:flex-1",children:[l.jsxs(ue,{variant:"outline",size:"default",onClick:()=>De(ze==="list"?"kanban":"list"),className:"flex items-center gap-2 h-10 px-4 hover:bg-accent transition-colors",children:[ze==="list"?l.jsx(Mi,{className:"h-4 w-4"}):l.jsx(En,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e(ze==="list"?"mprojects.kanbanView":"mprojects.listView")})]}),l.jsxs(ue,{variant:Le?"default":"outline",size:"default",onClick:()=>Ue(!Le),className:"flex items-center gap-2 h-10 px-4 transition-colors",children:[l.jsx(Mi,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline",children:e("mprojects.showChart")}),l.jsx(O_,{className:`h-4 w-4 transition-transform ${Le?"rotate-180":""}`})]}),l.jsxs("div",{className:"flex-1 min-w-[200px] relative",dir:Yt()?"rtl":"ltr",children:[l.jsx(Ws,{className:`absolute ${Yt()?"right-3":"left-3"} top-3 h-4 w-4 text-muted-foreground`}),l.jsx(He,{placeholder:e("mprojects.searchPlaceholder"),value:k,onChange:O=>{C(O.target.value),P(1)},className:`${Yt()?"pr-10 pl-3":"pl-10 pr-3"} h-10 bg-background border-input`})]})]}),l.jsxs(Sl,{open:A,onOpenChange:X,children:[l.jsx(dW,{asChild:!0,children:l.jsxs(ue,{size:"default",onClick:()=>{te(null),We({company_name:"",city_id:null,contract_code:"",contract_amount:null,cont_start_date:"",cont_end_date:""}),_e([]),ut(null),he(""),q(!1),fe(!1),ce({city_name_en:"",city_name_ar:"",country_id:null}),be({contact_name:"",contact_email:"",contact_mobile:"",jobtitle_id:null}),X(!0)},className:"flex items-center gap-2 h-10 px-4 bg-primary hover:bg-primary/90 transition-colors",dir:Yt()?"rtl":"ltr",children:[l.jsx(or,{className:`w-4 h-4 ${Yt()?"order-2":"order-1"}`}),l.jsx("span",{className:`${Yt()?"order-1":"order-2"}`,children:e("common.add")})]})}),l.jsxs(Io,{side:Yt()?"left":"right",className:"w-full sm:max-w-[540px] flex flex-col h-full p-0",children:[l.jsx(xc,{className:"p-6 pb-0",children:l.jsx(jl,{children:e(J?"mprojects.editProject":"mprojects.createNewProject")})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.companyName")," & ",e("mprojects.contractCode")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.companyName")}),l.jsx(He,{value:Fe.company_name||"",onChange:O=>We({...Fe,company_name:O.target.value}),placeholder:e("mprojects.companyName"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractCode")}),l.jsx(He,{value:Fe.contract_code||"",onChange:O=>We({...Fe,contract_code:O.target.value}),placeholder:e("mprojects.contractCode"),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:[e("mprojects.contractAmount")," & ",e("mprojects.startDate")]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contractAmount")}),l.jsx(He,{type:"number",value:Fe.contract_amount||"",onChange:O=>We({...Fe,contract_amount:parseFloat(O.target.value)||null}),placeholder:e("mprojects.contractAmount"),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.startDate")}),l.jsx(He,{type:"date",value:Fe.cont_start_date||"",onChange:O=>We({...Fe,cont_start_date:O.target.value}),className:"h-10"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.endDate")}),l.jsx(He,{type:"date",value:Fe.cont_end_date||"",onChange:O=>We({...Fe,cont_end_date:O.target.value}),className:"h-10"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.city")}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.city")}),l.jsxs(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>q(!V),className:"h-7 px-3 text-xs hover:bg-primary/10",children:[l.jsx(or,{className:"h-3 w-3 mr-1"}),e(V?"mprojects.cancel":"mprojects.addCity")]})]}),V?l.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[l.jsx(He,{placeholder:"City Name (English)",value:ae.city_name_en,onChange:O=>ce({...ae,city_name_en:O.target.value}),className:"h-9"}),l.jsx(He,{placeholder:"City Name (Arabic)",value:ae.city_name_ar,onChange:O=>ce({...ae,city_name_ar:O.target.value}),className:"h-9"}),l.jsxs(jt,{value:((W=ae.country_id)==null?void 0:W.toString())||"",onValueChange:O=>ce({...ae,country_id:parseInt(O)}),children:[l.jsx(_t,{className:"h-9",children:l.jsx(kt,{placeholder:"Select Country"})}),l.jsx(St,{children:g.map(O=>l.jsx(Pe,{value:O.country_id.toString(),children:ra(O,"country_name_en","country_name_ar")},O.country_id))})]}),l.jsxs(ue,{onClick:qt,size:"sm",className:"w-full h-9",children:[l.jsx(or,{className:"h-4 w-4 mr-2"}),e("mprojects.createCity")]})]}):l.jsxs(jt,{value:((re=Fe.city_id)==null?void 0:re.toString())||"",onValueChange:O=>We({...Fe,city_id:parseInt(O)||null}),children:[l.jsx(_t,{className:"h-10",children:l.jsx(kt,{placeholder:e("mprojects.selectCity")})}),l.jsx(St,{children:d.map(O=>l.jsx(Pe,{value:O.city_id.toString(),children:ra(O,"city_name_en","city_name_ar")},O.city_id))})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.contacts")}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>fe(!le),className:"h-6 px-2 text-xs",children:e(le?"mprojects.cancel":"mprojects.addContact")})]}),ee.length>0&&l.jsx("div",{className:"space-y-2 mb-3",children:ee.map((O,K)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md bg-muted/30",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:O.contact_name}),l.jsxs("div",{className:"text-muted-foreground",children:[O.contact_email&&`${O.contact_email}  `,O.contact_mobile&&`${O.contact_mobile}`]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>vs(K),className:"h-6 w-6 p-0",children:l.jsx(Oo,{className:"h-3 w-3"})})]},K))}),le&&l.jsxs("div",{className:"space-y-2 p-3 border rounded-lg bg-muted/50",children:[l.jsx(He,{placeholder:e("mprojects.contactName"),value:je.contact_name,onChange:O=>be({...je,contact_name:O.target.value})}),l.jsx(He,{placeholder:e("mprojects.email"),type:"email",value:je.contact_email,onChange:O=>be({...je,contact_email:O.target.value})}),l.jsx(He,{placeholder:e("mprojects.mobile"),value:je.contact_mobile,onChange:O=>be({...je,contact_mobile:O.target.value})}),l.jsxs(wa,{open:Ee,onOpenChange:$e,children:[l.jsx(ba,{asChild:!0,children:l.jsxs(ue,{variant:"outline",role:"combobox","aria-expanded":Ee,className:"w-full justify-between",children:[je.jobtitle_id?(Z=b.find(O=>O.jobtitle_id===je.jobtitle_id))==null?void 0:Z.jobtitle_name_en:e("mprojects.selectJobTitle"),l.jsx(qa,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(na,{className:"w-full p-0",children:l.jsxs(_a,{children:[l.jsx(Sa,{placeholder:e("mprojects.searchJobTitle")}),l.jsxs(ja,{children:[l.jsx(ka,{children:e("common.noResults")}),l.jsx(Na,{children:b&&b.length>0?b.map(O=>l.jsx(qr,{value:ra(O,"jobtitle_name_en","jobtitle_name_ar")||O.jobtitle_name_en||"Unknown",onSelect:()=>{be(K=>({...K,jobtitle_id:O.jobtitle_id})),$e(!1)},children:ra(O,"jobtitle_name_en","jobtitle_name_ar")||O.jobtitle_name_en||"Unknown"},O.jobtitle_id)):l.jsx(qr,{disabled:!0,children:"No job titles available"})})]})]})})]}),l.jsx(ue,{type:"button",onClick:Ar,className:"w-full",children:e("mprojects.addContactTitle")})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide border-b pb-2",children:e("mprojects.contractDocument")}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:e("mprojects.uploadContractDocument")}),l.jsx(He,{type:"file",accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png",onChange:O=>{var Y;const K=(Y=O.target.files)==null?void 0:Y[0];ut(K||null)},className:"file:hidden cursor-pointer"}),l.jsxs(ue,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:()=>{const O=document.querySelector('input[type="file"]');O==null||O.click()},children:[l.jsx(or,{className:"h-4 w-4"}),e("common.add")]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[e("mprojects.supportedFormats"),": PDF, DOC, DOCX, TXT, JPG, JPEG, PNG"]})]}),mt&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[l.jsx(Pi,{className:"h-5 w-5 text-primary flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:mt.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(mt.size/1024/1024).toFixed(2)," MB"]})]}),l.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>ut(null),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:l.jsx(Oo,{className:"h-4 w-4"})})]}),se&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx(zi,{size:"sm"}),l.jsx("span",{className:"text-sm text-blue-700",children:se})]})]})]})]}),l.jsx("div",{className:"p-6 border-t bg-muted/20",children:l.jsx(ue,{onClick:oe,className:"w-full",disabled:ye||!Fe.company_name,children:e(ye?"common.saving":J?"common.save":"common.create")})})]})]})]})}),l.jsxs("div",{className:"bg-card rounded-lg border shadow-sm p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:e("common.filters")||"Filters"}),(H||M||k)&&l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{F(""),z(""),C(""),P(1)},children:e("mprojects.clearFilters")})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs(jt,{value:M||"all",onValueChange:O=>{z(O==="all"?"":O),P(1)},children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("mprojects.country")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("mprojects.allCountries")}),g.map(O=>l.jsx(Pe,{value:O.country_id.toString(),children:ra(O,"country_name_en","country_name_ar")},O.country_id))]})]}),l.jsxs(jt,{value:H||"all",onValueChange:O=>{F(O==="all"?"":O),P(1)},children:[l.jsx(_t,{children:l.jsx(kt,{placeholder:e("mprojects.city")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("mprojects.allCities")}),d.map(O=>l.jsx(Pe,{value:O.city_id.toString(),children:ra(O,"city_name_en","city_name_ar")},O.city_id))]})]})]})]})]}),Le&&l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:e("mprojects.analytics")})}),l.jsx(xt,{children:l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:"Overview"}),l.jsx(en,{value:"timeline",children:"Timeline"})]}),l.jsx(An,{value:"overview",className:"mt-4",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By Contract Amount Range"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:[{name:"< $10K",min:0,max:1e4},{name:"$10K - $50K",min:1e4,max:5e4},{name:"$50K - $100K",min:5e4,max:1e5},{name:"> $100K",min:1e5,max:1/0}].map(Y=>({name:Y.name,value:pr.filter(xe=>xe.contract_amount&&xe.contract_amount>=Y.min&&xe.contract_amount<Y.max).length})).filter(Y=>Y.value>0),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:K})=>`${O}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,K)=>l.jsx(sl,{fill:O},`cell-${K}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"By City"}),l.jsx(ru,{config:{},className:"h-[350px]",children:l.jsxs(Cd,{children:[l.jsx(rs,{data:(()=>{const O=d.map(K=>({name:ra(K,"city_name_en","city_name_ar"),value:pr.filter(Y=>Y.city_id===K.city_id).length})).filter(K=>K.value>0);return O.length>0?O:[{name:"No data",value:1}]})(),cx:"50%",cy:"50%",labelLine:!1,label:({name:O,value:K})=>`${O}: ${K}`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"].map((O,K)=>l.jsx(sl,{fill:O},`cell-${K}`))}),l.jsx(Td,{content:l.jsx(nu,{})})]})})]}),l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:"Total Projects"}),l.jsx("div",{className:"text-5xl font-bold text-primary",children:pr.length}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Based on current filters"})]})]})}),l.jsx(An,{value:"timeline",className:"mt-4",children:l.jsx("div",{className:"w-full h-[400px]",children:l.jsx(n4,{width:"100%",height:"100%",children:l.jsxs(qJ,{data:(()=>{const O=new Map;return pr.forEach(Y=>{const xe=new Date(Y.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});O.set(xe,(O.get(xe)||0)+1)}),Array.from(O.entries()).sort((Y,xe)=>new Date(Y[0]).getTime()-new Date(xe[0]).getTime()).map(([Y,xe])=>({date:Y,count:xe}))})(),margin:{top:5,right:30,left:0,bottom:5},children:[l.jsx($4,{strokeDasharray:"3 3"}),l.jsx(ry,{dataKey:"date",angle:-45,textAnchor:"end",height:80,tick:{fontSize:12}}),l.jsx(ny,{label:{value:"Number of Projects",angle:-90,position:"insideLeft"}}),l.jsx(Ti,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"none",borderRadius:"4px",color:"#fff"},formatter:O=>[`${O} projects`,"Total"]}),l.jsx(Ou,{}),l.jsx(o0,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Daily Projects"})]})})})})]})})]}),l.jsx(ot,{className:"flex-1 min-h-0 flex flex-col overflow-hidden border-0 shadow-none",children:l.jsx(xt,{className:"h-full flex flex-col p-0",children:l.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 p-4",children:ze==="kanban"?l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 pt-4",children:za.map(O=>{var K;return l.jsxs(ot,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:()=>Re(O),children:[l.jsx(Xt,{className:"pb-2 px-4 pt-3",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm truncate",children:O.company_name||"No Company"}),O.contract_code&&l.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:O.contract_code})]})})}),l.jsxs(xt,{className:"px-4 pb-3 space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("div",{className:"space-y-1.5 flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(Lm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-xs font-medium truncate",children:vi(O.city_id)})]})}),l.jsx("div",{children:l.jsxs(gt,{variant:"outline",className:"text-xs",children:["$",((K=O.contract_amount)==null?void 0:K.toLocaleString())||"0"]})})]}),l.jsx("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground pt-1 border-t",children:l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("span",{children:["Created: ",new Date(O.created_at).toLocaleDateString()]})})})]})]},O.project_id)})})}):l.jsx(l.Fragment,{children:pr.length===0?l.jsx(pl,{title:e("mprojects.noProjectsFound"),description:e("mprojects.createNewProjectToGetStarted"),icon:l.jsx(En,{className:"h-12 w-12"})}):l.jsx(yc,{data:za,columns:id,actions:od,bulkActions:ar,enableBulkSelect:!0,keyExtractor:O=>O.project_id.toString(),onRowClick:O=>Re(O),rowHeight:"h-26"})})})})}),l.jsx("div",{className:"flex-shrink-0 border-t pt-4 bg-background mt-auto",children:qn>0&&l.jsx("div",{className:"flex justify-center",children:l.jsx(NP,{children:l.jsxs(EP,{children:[l.jsx(af,{children:l.jsx(TP,{onClick:()=>P(Math.max(0,E-1)),className:E===0?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.previous")})}),l.jsx(af,{children:l.jsxs("span",{className:"px-3 py-2 text-sm",children:[e("common.page")," ",E+1," ",e("common.of")," ",qn]})}),l.jsx(af,{children:l.jsx(AP,{onClick:()=>P(Math.min(qn-1,E+1)),className:E===qn-1?"pointer-events-none opacity-50":"cursor-pointer",children:e("common.next")})})]})})})}),l.jsx(fi,{open:L!==null,onOpenChange:()=>R(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("mprojects.deleteProject")}),l.jsx(Bs,{children:e("mprojects.deleteProjectConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{onClick:()=>L&&Ne(L),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:e("common.delete")})]})]})}),l.jsx(Sl,{open:Q,onOpenChange:de,children:l.jsxs(Io,{side:Yt()?"left":"right",className:"w-full sm:max-w-[540px] overflow-y-auto",children:[l.jsx(xc,{children:l.jsxs(jl,{className:"flex items-center gap-2 min-w-0",children:[l.jsx(En,{className:"h-5 w-5 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:me==null?void 0:me.company_name})]})}),me&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:e("mprojects.projectDetails")}),l.jsxs(ue,{onClick:()=>{ft(me),de(!1)},variant:"outline",size:"sm",children:[l.jsx(Vi,{className:"h-4 w-4 mr-2"}),e("common.edit")]})]}),l.jsxs(kl,{defaultValue:"overview",className:"w-full",children:[l.jsxs(Fo,{className:"grid w-full grid-cols-2",children:[l.jsx(en,{value:"overview",children:e("common.overview")}),l.jsx(en,{value:"notes",children:e("notes.title")})]}),l.jsxs(An,{value:"overview",className:"space-y-4 mt-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold",children:me.company_name||"-"}),me.contract_code&&l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Contract: ",me.contract_code]})]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractAmount")}),l.jsx("p",{className:"font-medium",children:me.contract_amount?`$${me.contract_amount.toLocaleString()}`:"-"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.startDate")}),l.jsx("p",{className:"font-medium",children:me.cont_start_date?new Date(me.cont_start_date).toLocaleDateString():"-"})]})}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.endDate")}),l.jsx("p",{className:"font-medium",children:me.cont_end_date?new Date(me.cont_end_date).toLocaleDateString():"-"})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Lm,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.city")}),l.jsx("p",{className:"font-medium",children:vi(me.city_id)})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium mb-3",children:e("mprojects.contacts")}),(()=>{const O=h.filter(K=>K.project_id===me.project_id);return O.length>0?l.jsx("div",{className:"space-y-2",children:O.map((K,Y)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-muted/30",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:K.contact_name||"-"}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[K.contact_email&&`${K.contact_email}  `,K.contact_mobile&&`${K.contact_mobile}`]})]}),l.jsx(gt,{variant:"outline",className:"text-xs",children:b.find(xe=>xe.jobtitle_id===K.jobtitle_id)?ra(b.find(xe=>xe.jobtitle_id===K.jobtitle_id),"jobtitle_name_en","jobtitle_name_ar"):"-"})]},K.contact_id||Y))}):l.jsx("p",{className:"text-sm text-muted-foreground",children:e("mprojects.noContactsFound")})})()]}),l.jsx("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.created")}),l.jsx("p",{className:"text-sm font-medium",children:new Date(me.created_at).toLocaleDateString()})]})}),me.contract_document&&(()=>{const O=me.contract_document;return l.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg border",children:[l.jsx(Pi,{className:"h-5 w-5 text-primary"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:e("mprojects.contractDocument")}),l.jsx("p",{className:"text-sm font-medium truncate",children:O.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.size&&`${(O.size/1024/1024).toFixed(2)} MB`,"  ",new Date(O.uploaded_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-1",children:[O.url&&l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>window.open(O.url,"_blank"),className:"h-8 w-8 p-0",children:l.jsx(kie,{className:"h-4 w-4"})}),l.jsx(ue,{variant:"ghost",size:"sm",onClick:async()=>{try{await YGe(me.project_id),a({title:e("common.success"),description:"Contract document deleted successfully"}),await zt(),de(!1)}catch{a({title:"Error",description:"Failed to delete contract document",variant:"destructive"})}},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:l.jsx(Er,{className:"h-4 w-4"})})]})]})})()]}),l.jsx(An,{value:"notes",className:"mt-4",children:l.jsx(DO,{relatedType:"mlead",relatedId:me.project_id,notes:D,onNotesChange:()=>Me(me.project_id)})})]})]})]})})]})}const v1={async getRequests(){return(await G.requests.list({sort_by:"created_at",sort_order:"desc"})).data||[]},async getRequestById(e){return await G.requests.get(e)},async createRequest(e){return await G.requests.create(e)},async updateRequest(e,r){return await G.requests.update(e,r)},async deleteRequest(e){await G.requests.delete(e)}};var ay=e=>e.type==="checkbox",Vd=e=>e instanceof Date,Za=e=>e==null;const YJ=e=>typeof e=="object";var xn=e=>!Za(e)&&!Array.isArray(e)&&YJ(e)&&!Vd(e),XJ=e=>xn(e)&&e.target?ay(e.target)?e.target.checked:e.target.value:e,JGe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JJ=(e,r)=>e.has(JGe(r)),QGe=e=>{const r=e.constructor&&e.constructor.prototype;return xn(r)&&r.hasOwnProperty("isPrototypeOf")},B4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Fn(e){let r;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(B4&&(e instanceof Blob||a))&&(n||xn(e)))if(r=n?[]:{},!n&&!QGe(e))r=e;else for(const s in e)e.hasOwnProperty(s)&&(r[s]=Fn(e[s]));else return e;return r}var fj=e=>/^\w*$/.test(e),fn=e=>e===void 0,U4=e=>Array.isArray(e)?e.filter(Boolean):[],V4=e=>U4(e.replace(/["|']|\]/g,"").split(/\.|\[/)),et=(e,r,n)=>{if(!r||!xn(e))return n;const a=(fj(r)?[r]:V4(r)).reduce((s,i)=>Za(s)?s:s[i],e);return fn(a)||a===e?fn(e[r])?n:e[r]:a},Js=e=>typeof e=="boolean",yr=(e,r,n)=>{let a=-1;const s=fj(r)?[r]:V4(r),i=s.length,o=i-1;for(;++a<i;){const c=s[a];let u=n;if(a!==o){const d=e[c];u=xn(d)||Array.isArray(d)?d:isNaN(+s[a+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=u,e=e[c]}};const n_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z4=ne.createContext(null);z4.displayName="HookFormContext";const hj=()=>ne.useContext(z4),ZGe=e=>{const{children:r,...n}=e;return ne.createElement(z4.Provider,{value:n},r)};var QJ=(e,r,n,a=!0)=>{const s={defaultValues:r._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return r._proxyFormState[o]!==yo.all&&(r._proxyFormState[o]=!a||yo.all),n&&(n[o]=!0),e[o]}});return s};const W4=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function eYe(e){const r=hj(),{control:n=r.control,disabled:a,name:s,exact:i}=e||{},[o,c]=ne.useState(n._formState),u=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return W4(()=>n._subscribe({name:s,formState:u.current,exact:i,callback:d=>{!a&&c({...n._formState,...d})}}),[s,a,i]),ne.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),ne.useMemo(()=>QJ(o,n,u.current,!1),[o,n])}var dl=e=>typeof e=="string",ZJ=(e,r,n,a,s)=>dl(e)?(a&&r.watch.add(e),et(n,e,s)):Array.isArray(e)?e.map(i=>(a&&r.watch.add(i),et(n,i))):(a&&(r.watchAll=!0),n),gT=e=>Za(e)||!YJ(e);function Xl(e,r,n=new WeakSet){if(gT(e)||gT(r))return e===r;if(Vd(e)&&Vd(r))return e.getTime()===r.getTime();const a=Object.keys(e),s=Object.keys(r);if(a.length!==s.length)return!1;if(n.has(e)||n.has(r))return!0;n.add(e),n.add(r);for(const i of a){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=r[i];if(Vd(o)&&Vd(c)||xn(o)&&xn(c)||Array.isArray(o)&&Array.isArray(c)?!Xl(o,c,n):o!==c)return!1}}return!0}function tYe(e){const r=hj(),{control:n=r.control,name:a,defaultValue:s,disabled:i,exact:o,compute:c}=e||{},u=ne.useRef(s),d=ne.useRef(c),f=ne.useRef(void 0);d.current=c;const h=ne.useMemo(()=>n._getWatch(a,u.current),[n,a]),[m,p]=ne.useState(d.current?d.current(h):h);return W4(()=>n._subscribe({name:a,formState:{values:!0},exact:o,callback:v=>{if(!i){const g=ZJ(a,n._names,v.values||n._formValues,!1,u.current);if(d.current){const x=d.current(g);Xl(x,f.current)||(p(x),f.current=x)}else p(g)}}}),[n,i,a,o]),ne.useEffect(()=>n._removeUnmounted()),m}function rYe(e){const r=hj(),{name:n,disabled:a,control:s=r.control,shouldUnregister:i,defaultValue:o}=e,c=JJ(s._names.array,n),u=ne.useMemo(()=>et(s._formValues,n,et(s._defaultValues,n,o)),[s,n,o]),d=tYe({control:s,name:n,defaultValue:u,exact:!0}),f=eYe({control:s,name:n,exact:!0}),h=ne.useRef(e),m=ne.useRef(s.register(n,{...e.rules,value:d,...Js(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!et(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!et(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!et(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!et(f.validatingFields,n)},error:{enumerable:!0,get:()=>et(f.errors,n)}}),[f,n]),v=ne.useCallback(w=>m.current.onChange({target:{value:XJ(w),name:n},type:n_.CHANGE}),[n]),g=ne.useCallback(()=>m.current.onBlur({target:{value:et(s._formValues,n),name:n},type:n_.BLUR}),[n,s._formValues]),x=ne.useCallback(w=>{const _=et(s._fields,n);_&&w&&(_._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:S=>w.setCustomValidity(S),reportValidity:()=>w.reportValidity()})},[s._fields,n]),b=ne.useMemo(()=>({name:n,value:d,...Js(a)||f.disabled?{disabled:f.disabled||a}:{},onChange:v,onBlur:g,ref:x}),[n,a,f.disabled,v,g,x,d]);return ne.useEffect(()=>{const w=s._options.shouldUnregister||i;s.register(n,{...h.current.rules,...Js(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(S,j)=>{const N=et(s._fields,S);N&&N._f&&(N._f.mount=j)};if(_(n,!0),w){const S=Fn(et(s._options.defaultValues,n));yr(s._defaultValues,n,S),fn(et(s._formValues,n))&&yr(s._formValues,n,S)}return!c&&s.register(n),()=>{(c?w&&!s._state.action:w)?s.unregister(n):_(n,!1)}},[n,s,c,i]),ne.useEffect(()=>{s._setDisabledField({disabled:a,name:n})},[a,n,s]),ne.useMemo(()=>({field:b,formState:f,fieldState:p}),[b,f,p])}const nYe=e=>e.render(rYe(e));var eQ=(e,r,n,a,s)=>r?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:s||!0}}:{},Og=e=>Array.isArray(e)?e:[e],o8=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ws=e=>xn(e)&&!Object.keys(e).length,H4=e=>e.type==="file",wo=e=>typeof e=="function",a_=e=>{if(!B4)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},tQ=e=>e.type==="select-multiple",q4=e=>e.type==="radio",aYe=e=>q4(e)||ay(e),EN=e=>a_(e)&&e.isConnected;function sYe(e,r){const n=r.slice(0,-1).length;let a=0;for(;a<n;)e=fn(e)?a++:e[r[a++]];return e}function iYe(e){for(const r in e)if(e.hasOwnProperty(r)&&!fn(e[r]))return!1;return!0}function _n(e,r){const n=Array.isArray(r)?r:fj(r)?[r]:V4(r),a=n.length===1?e:sYe(e,n),s=n.length-1,i=n[s];return a&&delete a[i],s!==0&&(xn(a)&&ws(a)||Array.isArray(a)&&iYe(a))&&_n(e,n.slice(0,-1)),e}var rQ=e=>{for(const r in e)if(wo(e[r]))return!0;return!1};function s_(e,r={}){const n=Array.isArray(e);if(xn(e)||n)for(const a in e)Array.isArray(e[a])||xn(e[a])&&!rQ(e[a])?(r[a]=Array.isArray(e[a])?[]:{},s_(e[a],r[a])):Za(e[a])||(r[a]=!0);return r}function nQ(e,r,n){const a=Array.isArray(e);if(xn(e)||a)for(const s in e)Array.isArray(e[s])||xn(e[s])&&!rQ(e[s])?fn(r)||gT(n[s])?n[s]=Array.isArray(e[s])?s_(e[s],[]):{...s_(e[s])}:nQ(e[s],Za(r)?{}:r[s],n[s]):n[s]=!Xl(e[s],r[s]);return n}var R0=(e,r)=>nQ(e,r,s_(r));const l8={value:!1,isValid:!1},c8={value:!0,isValid:!0};var aQ=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!fn(e[0].attributes.value)?fn(e[0].value)||e[0].value===""?c8:{value:e[0].value,isValid:!0}:c8:l8}return l8},sQ=(e,{valueAsNumber:r,valueAsDate:n,setValueAs:a})=>fn(e)?e:r?e===""?NaN:e&&+e:n&&dl(e)?new Date(e):a?a(e):e;const u8={isValid:!1,value:null};var iQ=e=>Array.isArray(e)?e.reduce((r,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:r,u8):u8;function d8(e){const r=e.ref;return H4(r)?r.files:q4(r)?iQ(e.refs).value:tQ(r)?[...r.selectedOptions].map(({value:n})=>n):ay(r)?aQ(e.refs).value:sQ(fn(r.value)?e.ref.value:r.value,e)}var oYe=(e,r,n,a)=>{const s={};for(const i of e){const o=et(r,i);o&&yr(s,i,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:a}},i_=e=>e instanceof RegExp,I0=e=>fn(e)?e:i_(e)?e.source:xn(e)?i_(e.value)?e.value.source:e.value:e,f8=e=>({isOnSubmit:!e||e===yo.onSubmit,isOnBlur:e===yo.onBlur,isOnChange:e===yo.onChange,isOnAll:e===yo.all,isOnTouch:e===yo.onTouched});const h8="AsyncFunction";var lYe=e=>!!e&&!!e.validate&&!!(wo(e.validate)&&e.validate.constructor.name===h8||xn(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===h8)),cYe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),m8=(e,r,n)=>!n&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Pg=(e,r,n,a)=>{for(const s of n||Object.keys(e)){const i=et(e,s);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&r(o.refs[0],s)&&!a)return!0;if(o.ref&&r(o.ref,o.name)&&!a)return!0;if(Pg(c,r))break}else if(xn(c)&&Pg(c,r))break}}};function p8(e,r,n){const a=et(e,n);if(a||fj(n))return{error:a,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=et(r,i),c=et(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};s.pop()}return{name:n}}var uYe=(e,r,n,a)=>{n(e);const{name:s,...i}=e;return ws(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(o=>r[o]===(!a||yo.all))},dYe=(e,r,n)=>!e||!r||e===r||Og(e).some(a=>a&&(n?a===r:a.startsWith(r)||r.startsWith(a))),fYe=(e,r,n,a,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(r||e):(n?a.isOnBlur:s.isOnBlur)?!e:(n?a.isOnChange:s.isOnChange)?e:!0,hYe=(e,r)=>!U4(et(e,r)).length&&_n(e,r),mYe=(e,r,n)=>{const a=Og(et(e,n));return yr(a,"root",r[n]),yr(e,n,a),e},H1=e=>dl(e);function g8(e,r,n="validate"){if(H1(e)||Array.isArray(e)&&e.every(H1)||Js(e)&&!e)return{type:n,message:H1(e)?e:"",ref:r}}var gh=e=>xn(e)&&!i_(e)?e:{value:e,message:""},v8=async(e,r,n,a,s,i)=>{const{ref:o,refs:c,required:u,maxLength:d,minLength:f,min:h,max:m,pattern:p,validate:v,name:g,valueAsNumber:x,mount:b}=e._f,w=et(n,g);if(!b||r.has(g))return{};const _=c?c[0]:o,S=T=>{s&&_.reportValidity&&(_.setCustomValidity(Js(T)?"":T||""),_.reportValidity())},j={},N=q4(o),k=ay(o),C=N||k,E=(x||H4(o))&&fn(o.value)&&fn(w)||a_(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,P=eQ.bind(null,g,a,j),I=(T,U,H,F=Vl.maxLength,M=Vl.minLength)=>{const z=T?U:H;j[g]={type:T?F:M,message:z,ref:o,...P(T?F:M,z)}};if(i?!Array.isArray(w)||!w.length:u&&(!C&&(E||Za(w))||Js(w)&&!w||k&&!aQ(c).isValid||N&&!iQ(c).isValid)){const{value:T,message:U}=H1(u)?{value:!!u,message:u}:gh(u);if(T&&(j[g]={type:Vl.required,message:U,ref:_,...P(Vl.required,U)},!a))return S(U),j}if(!E&&(!Za(h)||!Za(m))){let T,U;const H=gh(m),F=gh(h);if(!Za(w)&&!isNaN(w)){const M=o.valueAsNumber||w&&+w;Za(H.value)||(T=M>H.value),Za(F.value)||(U=M<F.value)}else{const M=o.valueAsDate||new Date(w),z=J=>new Date(new Date().toDateString()+" "+J),L=o.type=="time",R=o.type=="week";dl(H.value)&&w&&(T=L?z(w)>z(H.value):R?w>H.value:M>new Date(H.value)),dl(F.value)&&w&&(U=L?z(w)<z(F.value):R?w<F.value:M<new Date(F.value))}if((T||U)&&(I(!!T,H.message,F.message,Vl.max,Vl.min),!a))return S(j[g].message),j}if((d||f)&&!E&&(dl(w)||i&&Array.isArray(w))){const T=gh(d),U=gh(f),H=!Za(T.value)&&w.length>+T.value,F=!Za(U.value)&&w.length<+U.value;if((H||F)&&(I(H,T.message,U.message),!a))return S(j[g].message),j}if(p&&!E&&dl(w)){const{value:T,message:U}=gh(p);if(i_(T)&&!w.match(T)&&(j[g]={type:Vl.pattern,message:U,ref:o,...P(Vl.pattern,U)},!a))return S(U),j}if(v){if(wo(v)){const T=await v(w,n),U=g8(T,_);if(U&&(j[g]={...U,...P(Vl.validate,U.message)},!a))return S(U.message),j}else if(xn(v)){let T={};for(const U in v){if(!ws(T)&&!a)break;const H=g8(await v[U](w,n),_,U);H&&(T={...H,...P(U,H.message)},S(H.message),a&&(j[g]=T))}if(!ws(T)&&(j[g]={ref:_,...T},!a))return j}}return S(!0),j};const pYe={mode:yo.onSubmit,reValidateMode:yo.onChange,shouldFocusError:!0};function gYe(e={}){let r={...pYe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:wo(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},s=xn(r.defaultValues)||xn(r.values)?Fn(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:Fn(s),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const m={array:o8(),state:o8()},p=r.criteriaMode===yo.all,v=se=>he=>{clearTimeout(d),d=setTimeout(se,he)},g=async se=>{if(!r.disabled&&(f.isValid||h.isValid||se)){const he=r.resolver?ws((await k()).errors):await E(a,!0);he!==n.isValid&&m.state.next({isValid:he})}},x=(se,he)=>{!r.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((se||Array.from(c.mount)).forEach(ee=>{ee&&(he?yr(n.validatingFields,ee,he):_n(n.validatingFields,ee))}),m.state.next({validatingFields:n.validatingFields,isValidating:!ws(n.validatingFields)}))},b=(se,he=[],ee,_e,je=!0,be=!0)=>{if(_e&&ee&&!r.disabled){if(o.action=!0,be&&Array.isArray(et(a,se))){const le=ee(et(a,se),_e.argA,_e.argB);je&&yr(a,se,le)}if(be&&Array.isArray(et(n.errors,se))){const le=ee(et(n.errors,se),_e.argA,_e.argB);je&&yr(n.errors,se,le),hYe(n.errors,se)}if((f.touchedFields||h.touchedFields)&&be&&Array.isArray(et(n.touchedFields,se))){const le=ee(et(n.touchedFields,se),_e.argA,_e.argB);je&&yr(n.touchedFields,se,le)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=R0(s,i)),m.state.next({name:se,isDirty:I(se,he),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yr(i,se,he)},w=(se,he)=>{yr(n.errors,se,he),m.state.next({errors:n.errors})},_=se=>{n.errors=se,m.state.next({errors:n.errors,isValid:!1})},S=(se,he,ee,_e)=>{const je=et(a,se);if(je){const be=et(i,se,fn(ee)?et(s,se):ee);fn(be)||_e&&_e.defaultChecked||he?yr(i,se,he?be:d8(je._f)):H(se,be),o.mount&&g()}},j=(se,he,ee,_e,je)=>{let be=!1,le=!1;const fe={name:se};if(!r.disabled){if(!ee||_e){(f.isDirty||h.isDirty)&&(le=n.isDirty,n.isDirty=fe.isDirty=I(),be=le!==fe.isDirty);const ye=Xl(et(s,se),he);le=!!et(n.dirtyFields,se),ye?_n(n.dirtyFields,se):yr(n.dirtyFields,se,!0),fe.dirtyFields=n.dirtyFields,be=be||(f.dirtyFields||h.dirtyFields)&&le!==!ye}if(ee){const ye=et(n.touchedFields,se);ye||(yr(n.touchedFields,se,ee),fe.touchedFields=n.touchedFields,be=be||(f.touchedFields||h.touchedFields)&&ye!==ee)}be&&je&&m.state.next(fe)}return be?fe:{}},N=(se,he,ee,_e)=>{const je=et(n.errors,se),be=(f.isValid||h.isValid)&&Js(he)&&n.isValid!==he;if(r.delayError&&ee?(u=v(()=>w(se,ee)),u(r.delayError)):(clearTimeout(d),u=null,ee?yr(n.errors,se,ee):_n(n.errors,se)),(ee?!Xl(je,ee):je)||!ws(_e)||be){const le={..._e,...be&&Js(he)?{isValid:he}:{},errors:n.errors,name:se};n={...n,...le},m.state.next(le)}},k=async se=>{x(se,!0);const he=await r.resolver(i,r.context,oYe(se||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return x(se),he},C=async se=>{const{errors:he}=await k(se);if(se)for(const ee of se){const _e=et(he,ee);_e?yr(n.errors,ee,_e):_n(n.errors,ee)}else n.errors=he;return he},E=async(se,he,ee={valid:!0})=>{for(const _e in se){const je=se[_e];if(je){const{_f:be,...le}=je;if(be){const fe=c.array.has(be.name),ye=je._f&&lYe(je._f);ye&&f.validatingFields&&x([_e],!0);const pe=await v8(je,c.disabled,i,p,r.shouldUseNativeValidation&&!he,fe);if(ye&&f.validatingFields&&x([_e]),pe[be.name]&&(ee.valid=!1,he))break;!he&&(et(pe,be.name)?fe?mYe(n.errors,pe,be.name):yr(n.errors,be.name,pe[be.name]):_n(n.errors,be.name))}!ws(le)&&await E(le,he,ee)}}return ee.valid},P=()=>{for(const se of c.unMount){const he=et(a,se);he&&(he._f.refs?he._f.refs.every(ee=>!EN(ee)):!EN(he._f.ref))&&ce(se)}c.unMount=new Set},I=(se,he)=>!r.disabled&&(se&&he&&yr(i,se,he),!Xl(J(),s)),T=(se,he,ee)=>ZJ(se,c,{...o.mount?i:fn(he)?s:dl(se)?{[se]:he}:he},ee,he),U=se=>U4(et(o.mount?i:s,se,r.shouldUnregister?et(s,se,[]):[])),H=(se,he,ee={})=>{const _e=et(a,se);let je=he;if(_e){const be=_e._f;be&&(!be.disabled&&yr(i,se,sQ(he,be)),je=a_(be.ref)&&Za(he)?"":he,tQ(be.ref)?[...be.ref.options].forEach(le=>le.selected=je.includes(le.value)):be.refs?ay(be.ref)?be.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(je)?le.checked=!!je.find(fe=>fe===le.value):le.checked=je===le.value||!!je)}):be.refs.forEach(le=>le.checked=le.value===je):H4(be.ref)?be.ref.value="":(be.ref.value=je,be.ref.type||m.state.next({name:se,values:Fn(i)})))}(ee.shouldDirty||ee.shouldTouch)&&j(se,je,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&R(se)},F=(se,he,ee)=>{for(const _e in he){if(!he.hasOwnProperty(_e))return;const je=he[_e],be=se+"."+_e,le=et(a,be);(c.array.has(se)||xn(je)||le&&!le._f)&&!Vd(je)?F(be,je,ee):H(be,je,ee)}},M=(se,he,ee={})=>{const _e=et(a,se),je=c.array.has(se),be=Fn(he);yr(i,se,be),je?(m.array.next({name:se,values:Fn(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&ee.shouldDirty&&m.state.next({name:se,dirtyFields:R0(s,i),isDirty:I(se,be)})):_e&&!_e._f&&!Za(be)?F(se,be,ee):H(se,be,ee),m8(se,c)&&m.state.next({...n,name:se}),m.state.next({name:o.mount?se:void 0,values:Fn(i)})},z=async se=>{o.mount=!0;const he=se.target;let ee=he.name,_e=!0;const je=et(a,ee),be=ye=>{_e=Number.isNaN(ye)||Vd(ye)&&isNaN(ye.getTime())||Xl(ye,et(i,ee,ye))},le=f8(r.mode),fe=f8(r.reValidateMode);if(je){let ye,pe;const Ee=he.type?d8(je._f):XJ(se),$e=se.type===n_.BLUR||se.type===n_.FOCUS_OUT,Fe=!cYe(je._f)&&!r.resolver&&!et(n.errors,ee)&&!je._f.deps||fYe($e,et(n.touchedFields,ee),n.isSubmitted,fe,le),We=m8(ee,c,$e);yr(i,ee,Ee),$e?(je._f.onBlur&&je._f.onBlur(se),u&&u(0)):je._f.onChange&&je._f.onChange(se);const yt=j(ee,Ee,$e),zt=!ws(yt)||We;if(!$e&&m.state.next({name:ee,type:se.type,values:Fn(i)}),Fe)return(f.isValid||h.isValid)&&(r.mode==="onBlur"?$e&&g():$e||g()),zt&&m.state.next({name:ee,...We?{}:yt});if(!$e&&We&&m.state.next({...n}),r.resolver){const{errors:hr}=await k([ee]);if(be(Ee),_e){const kr=p8(n.errors,a,ee),pr=p8(hr,a,kr.name||ee);ye=pr.error,ee=pr.name,pe=ws(hr)}}else x([ee],!0),ye=(await v8(je,c.disabled,i,p,r.shouldUseNativeValidation))[ee],x([ee]),be(Ee),_e&&(ye?pe=!1:(f.isValid||h.isValid)&&(pe=await E(a,!0)));_e&&(je._f.deps&&R(je._f.deps),N(ee,pe,ye,yt))}},L=(se,he)=>{if(et(n.errors,he)&&se.focus)return se.focus(),1},R=async(se,he={})=>{let ee,_e;const je=Og(se);if(r.resolver){const be=await C(fn(se)?se:je);ee=ws(be),_e=se?!je.some(le=>et(be,le)):ee}else se?(_e=(await Promise.all(je.map(async be=>{const le=et(a,be);return await E(le&&le._f?{[be]:le}:le)}))).every(Boolean),!(!_e&&!n.isValid)&&g()):_e=ee=await E(a);return m.state.next({...!dl(se)||(f.isValid||h.isValid)&&ee!==n.isValid?{}:{name:se},...r.resolver||!se?{isValid:ee}:{},errors:n.errors}),he.shouldFocus&&!_e&&Pg(a,L,se?je:c.mount),_e},J=se=>{const he={...o.mount?i:s};return fn(se)?he:dl(se)?et(he,se):se.map(ee=>et(he,ee))},te=(se,he)=>({invalid:!!et((he||n).errors,se),isDirty:!!et((he||n).dirtyFields,se),error:et((he||n).errors,se),isValidating:!!et(n.validatingFields,se),isTouched:!!et((he||n).touchedFields,se)}),A=se=>{se&&Og(se).forEach(he=>_n(n.errors,he)),m.state.next({errors:se?n.errors:{}})},X=(se,he,ee)=>{const _e=(et(a,se,{_f:{}})._f||{}).ref,je=et(n.errors,se)||{},{ref:be,message:le,type:fe,...ye}=je;yr(n.errors,se,{...ye,...he,ref:_e}),m.state.next({name:se,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&_e&&_e.focus&&_e.focus()},V=(se,he)=>wo(se)?m.state.subscribe({next:ee=>"values"in ee&&se(T(void 0,he),ee)}):T(se,he,!0),q=se=>m.state.subscribe({next:he=>{dYe(se.name,he.name,se.exact)&&uYe(he,se.formState||f,De,se.reRenderRoot)&&se.callback({values:{...i},...n,...he,defaultValues:s})}}).unsubscribe,ae=se=>(o.mount=!0,h={...h,...se.formState},q({...se,formState:h})),ce=(se,he={})=>{for(const ee of se?Og(se):c.mount)c.mount.delete(ee),c.array.delete(ee),he.keepValue||(_n(a,ee),_n(i,ee)),!he.keepError&&_n(n.errors,ee),!he.keepDirty&&_n(n.dirtyFields,ee),!he.keepTouched&&_n(n.touchedFields,ee),!he.keepIsValidating&&_n(n.validatingFields,ee),!r.shouldUnregister&&!he.keepDefaultValue&&_n(s,ee);m.state.next({values:Fn(i)}),m.state.next({...n,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},me=({disabled:se,name:he})=>{(Js(se)&&o.mount||se||c.disabled.has(he))&&(se?c.disabled.add(he):c.disabled.delete(he))},ie=(se,he={})=>{let ee=et(a,se);const _e=Js(he.disabled)||Js(r.disabled);return yr(a,se,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:se}},name:se,mount:!0,...he}}),c.mount.add(se),ee?me({disabled:Js(he.disabled)?he.disabled:r.disabled,name:se}):S(se,!0,he.value),{..._e?{disabled:he.disabled||r.disabled}:{},...r.progressive?{required:!!he.required,min:I0(he.min),max:I0(he.max),minLength:I0(he.minLength),maxLength:I0(he.maxLength),pattern:I0(he.pattern)}:{},name:se,onChange:z,onBlur:z,ref:je=>{if(je){ie(se,he),ee=et(a,se);const be=fn(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,le=aYe(be),fe=ee._f.refs||[];if(le?fe.find(ye=>ye===be):be===ee._f.ref)return;yr(a,se,{_f:{...ee._f,...le?{refs:[...fe.filter(EN),be,...Array.isArray(et(s,se))?[{}]:[]],ref:{type:be.type,name:se}}:{ref:be}}}),S(se,!1,void 0,be)}else ee=et(a,se,{}),ee._f&&(ee._f.mount=!1),(r.shouldUnregister||he.shouldUnregister)&&!(JJ(c.array,se)&&o.action)&&c.unMount.add(se)}}},Q=()=>r.shouldFocusError&&Pg(a,L,c.mount),de=se=>{Js(se)&&(m.state.next({disabled:se}),Pg(a,(he,ee)=>{const _e=et(a,ee);_e&&(he.disabled=_e._f.disabled||se,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(je=>{je.disabled=_e._f.disabled||se}))},0,!1))},D=(se,he)=>async ee=>{let _e;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let je=Fn(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:be,values:le}=await k();n.errors=be,je=Fn(le)}else await E(a);if(c.disabled.size)for(const be of c.disabled)_n(je,be);if(_n(n.errors,"root"),ws(n.errors)){m.state.next({errors:{}});try{await se(je,ee)}catch(be){_e=be}}else he&&await he({...n.errors},ee),Q(),setTimeout(Q);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ws(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},Be=(se,he={})=>{et(a,se)&&(fn(he.defaultValue)?M(se,Fn(et(s,se))):(M(se,he.defaultValue),yr(s,se,Fn(he.defaultValue))),he.keepTouched||_n(n.touchedFields,se),he.keepDirty||(_n(n.dirtyFields,se),n.isDirty=he.defaultValue?I(se,Fn(et(s,se))):I()),he.keepError||(_n(n.errors,se),f.isValid&&g()),m.state.next({...n}))},Le=(se,he={})=>{const ee=se?Fn(se):s,_e=Fn(ee),je=ws(se),be=je?s:_e;if(he.keepDefaultValues||(s=ee),!he.keepValues){if(he.keepDirtyValues){const le=new Set([...c.mount,...Object.keys(R0(s,i))]);for(const fe of Array.from(le))et(n.dirtyFields,fe)?yr(be,fe,et(i,fe)):M(fe,et(be,fe))}else{if(B4&&fn(se))for(const le of c.mount){const fe=et(a,le);if(fe&&fe._f){const ye=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(a_(ye)){const pe=ye.closest("form");if(pe){pe.reset();break}}}}if(he.keepFieldsRef)for(const le of c.mount)M(le,et(be,le));else a={}}i=r.shouldUnregister?he.keepDefaultValues?Fn(s):{}:Fn(be),m.array.next({values:{...be}}),m.state.next({values:{...be}})}c={mount:he.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!r.shouldUnregister,m.state.next({submitCount:he.keepSubmitCount?n.submitCount:0,isDirty:je?!1:he.keepDirty?n.isDirty:!!(he.keepDefaultValues&&!Xl(se,s)),isSubmitted:he.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:je?{}:he.keepDirtyValues?he.keepDefaultValues&&i?R0(s,i):n.dirtyFields:he.keepDefaultValues&&se?R0(s,se):he.keepDirty?n.dirtyFields:{},touchedFields:he.keepTouched?n.touchedFields:{},errors:he.keepErrors?n.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(se,he)=>Le(wo(se)?se(i):se,he),ze=(se,he={})=>{const ee=et(a,se),_e=ee&&ee._f;if(_e){const je=_e.refs?_e.refs[0]:_e.ref;je.focus&&(je.focus(),he.shouldSelect&&wo(je.select)&&je.select())}},De=se=>{n={...n,...se}},ut={control:{register:ie,unregister:ce,getFieldState:te,handleSubmit:D,setError:X,_subscribe:q,_runSchema:k,_focusError:Q,_getWatch:T,_getDirty:I,_setValid:g,_setFieldArray:b,_setDisabledField:me,_setErrors:_,_getFieldArray:U,_reset:Le,_resetDefaultValues:()=>wo(r.defaultValues)&&r.defaultValues().then(se=>{Ue(se,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:de,_subjects:m,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(se){o=se},get _defaultValues(){return s},get _names(){return c},set _names(se){c=se},get _formState(){return n},get _options(){return r},set _options(se){r={...r,...se}}},subscribe:ae,trigger:R,register:ie,handleSubmit:D,watch:V,setValue:M,getValues:J,reset:Ue,resetField:Be,clearErrors:A,unregister:ce,setError:X,setFocus:ze,getFieldState:te};return{...ut,formControl:ut}}function vYe(e={}){const r=ne.useRef(void 0),n=ne.useRef(void 0),[a,s]=ne.useState({isDirty:!1,isValidating:!1,isLoading:wo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:wo(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:a},e.defaultValues&&!wo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=gYe(e);r.current={...c,formState:a}}const i=r.current.control;return i._options=e,W4(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),ne.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ne.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ne.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ne.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ne.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),ne.useEffect(()=>{e.values&&!Xl(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),ne.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),r.current.formState=QJ(a,i),r.current}const x8=(e,r,n)=>{if(e&&"reportValidity"in e){const a=et(n,r);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},oQ=(e,r)=>{for(const n in r.fields){const a=r.fields[n];a&&a.ref&&"reportValidity"in a.ref?x8(a.ref,n,e):a.refs&&a.refs.forEach(s=>x8(s,n,e))}},xYe=(e,r)=>{r.shouldUseNativeValidation&&oQ(e,r);const n={};for(const a in e){const s=et(r.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(yYe(r.names||Object.keys(e),a)){const o=Object.assign({},et(n,a));yr(o,"root",i),yr(n,a,o)}else yr(n,a,i)}return n},yYe=(e,r)=>e.some(n=>n.startsWith(r+"."));var wYe=function(e,r){for(var n={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!n[o])if("unionErrors"in a){var c=a.unionErrors[0].errors[0];n[o]={message:c.message,type:c.code}}else n[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),r){var u=n[o].types,d=u&&u[a.code];n[o]=eQ(o,r,n,s,d?[].concat(d,a.message):a.message)}e.shift()}return n},bYe=function(e,r,n){return n===void 0&&(n={}),function(a,s,i){try{return Promise.resolve(function(o,c){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](a,r)).then(function(d){return i.shouldUseNativeValidation&&oQ({},i),{errors:{},values:n.raw?a:d}})}catch(d){return c(d)}return u&&u.then?u.then(void 0,c):u}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:xYe(wYe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ur;(function(e){e.assertEqual=s=>{};function r(s){}e.assertIs=r;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),o={};for(const c of i)o[c]=s[c];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ur||(ur={}));var y8;(function(e){e.mergeShapes=(r,n)=>({...r,...n})})(y8||(y8={}));const ht=ur.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gc=e=>{switch(typeof e){case"undefined":return ht.undefined;case"string":return ht.string;case"number":return Number.isNaN(e)?ht.nan:ht.number;case"boolean":return ht.boolean;case"function":return ht.function;case"bigint":return ht.bigint;case"symbol":return ht.symbol;case"object":return Array.isArray(e)?ht.array:e===null?ht.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ht.promise:typeof Map<"u"&&e instanceof Map?ht.map:typeof Set<"u"&&e instanceof Set?ht.set:typeof Date<"u"&&e instanceof Date?ht.date:ht.object;default:return ht.unknown}},Xe=ur.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kc extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){const n=r||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(n(o));else{let c=a,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(o))):c[d]=c[d]||{_errors:[]},c=c[d],u++}}};return s(this),a}static assert(r){if(!(r instanceof kc))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ur.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){const n={},a=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(r(s))}else a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}}kc.create=e=>new kc(e);const vT=(e,r)=>{let n;switch(e.code){case Xe.invalid_type:e.received===ht.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Xe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ur.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ur.joinValues(e.keys,", ")}`;break;case Xe.invalid_union:n="Invalid input";break;case Xe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ur.joinValues(e.options)}`;break;case Xe.invalid_enum_value:n=`Invalid enum value. Expected ${ur.joinValues(e.options)}, received '${e.received}'`;break;case Xe.invalid_arguments:n="Invalid function arguments";break;case Xe.invalid_return_type:n="Invalid function return type";break;case Xe.invalid_date:n="Invalid date";break;case Xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ur.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Xe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Xe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Xe.custom:n="Invalid input";break;case Xe.invalid_intersection_types:n="Intersection results could not be merged";break;case Xe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Xe.not_finite:n="Number must be finite";break;default:n=r.defaultError,ur.assertNever(e)}return{message:n}};let _Ye=vT;function SYe(){return _Ye}const jYe=e=>{const{data:r,path:n,errorMaps:a,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let c="";const u=a.filter(d=>!!d).slice().reverse();for(const d of u)c=d(o,{data:r,defaultError:c}).message;return{...s,path:i,message:c}};function st(e,r){const n=SYe(),a=jYe({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vT?void 0:vT].filter(s=>!!s)});e.common.issues.push(a)}class mi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){const a=[];for(const s of n){if(s.status==="aborted")return Ft;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){const a=[];for(const s of n){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return mi.mergeObjectSync(r,a)}static mergeObjectSync(r,n){const a={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ft;i.status==="dirty"&&r.dirty(),o.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:r.value,value:a}}}const Ft=Object.freeze({status:"aborted"}),X0=e=>({status:"dirty",value:e}),Xi=e=>({status:"valid",value:e}),w8=e=>e.status==="aborted",b8=e=>e.status==="dirty",bp=e=>e.status==="valid",o_=e=>typeof Promise<"u"&&e instanceof Promise;var vt;(function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(vt||(vt={}));class Wu{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _8=(e,r)=>{if(bp(r))return{success:!0,data:r.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new kc(e.common.issues);return this._error=n,this._error}}};function Gt(e){if(!e)return{};const{errorMap:r,invalid_type_error:n,required_error:a,description:s}=e;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(o,c)=>{const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??c.defaultError}:typeof c.data>"u"?{message:u??a??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:u??n??c.defaultError}},description:s}}class cr{get description(){return this._def.description}_getType(r){return Gc(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:Gc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new mi,ctx:{common:r.parent.common,data:r.data,parsedType:Gc(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const n=this._parse(r);if(o_(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){const n=this._parse(r);return Promise.resolve(n)}parse(r,n){const a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){const a={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Gc(r)},s=this._parseSync({data:r,path:a.path,parent:a});return _8(a,s)}"~validate"(r){var a,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Gc(r)};if(!this["~standard"].async)try{const i=this._parseSync({data:r,path:[],parent:n});return bp(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(a=i==null?void 0:i.message)==null?void 0:a.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:n}).then(i=>bp(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(r,n){const a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){const a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Gc(r)},s=this._parse({data:r,path:a.path,parent:a}),i=await(o_(s)?s:Promise.resolve(s));return _8(a,i)}refine(r,n){const a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=r(s),c=()=>i.addIssue({code:Xe.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new jp({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Du.create(this,this._def)}nullable(){return kp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return yl.create(this)}promise(){return d_.create(this,this._def)}or(r){return c_.create([this,r],this._def)}and(r){return u_.create(this,r,this._def)}transform(r){return new jp({...Gt(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const n=typeof r=="function"?r:()=>r;return new yT({...Gt(this._def),innerType:this,defaultValue:n,typeName:Lt.ZodDefault})}brand(){return new KYe({typeName:Lt.ZodBranded,type:this,...Gt(this._def)})}catch(r){const n=typeof r=="function"?r:()=>r;return new wT({...Gt(this._def),innerType:this,catchValue:n,typeName:Lt.ZodCatch})}describe(r){const n=this.constructor;return new n({...this._def,description:r})}pipe(r){return K4.create(this,r)}readonly(){return bT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kYe=/^c[^\s-]{8,}$/i,NYe=/^[0-9a-z]+$/,EYe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,CYe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TYe=/^[a-z0-9_-]{21}$/i,AYe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OYe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PYe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DYe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let CN;const RYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IYe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FYe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LYe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$Ye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BYe=new RegExp(`^${lQ}$`);function cQ(e){let r="[0-5]\\d";e.precision?r=`${r}\\.\\d{${e.precision}}`:e.precision==null&&(r=`${r}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${r})${n}`}function UYe(e){return new RegExp(`^${cQ(e)}$`)}function VYe(e){let r=`${lQ}T${cQ(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function zYe(e,r){return!!((r==="v4"||!r)&&RYe.test(e)||(r==="v6"||!r)&&MYe.test(e))}function WYe(e,r){if(!AYe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||r&&s.alg!==r)}catch{return!1}}function HYe(e,r){return!!((r==="v4"||!r)&&IYe.test(e)||(r==="v6"||!r)&&FYe.test(e))}class xu extends cr{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ht.string){const i=this._getOrReturnCtx(r);return st(i,{code:Xe.invalid_type,expected:ht.string,received:i.parsedType}),Ft}const a=new mi;let s;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")r.data.length>i.value&&(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=r.data.length>i.value,c=r.data.length<i.value;(o||c)&&(s=this._getOrReturnCtx(r,s),o?st(s,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&st(s,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")PYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"email",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")CN||(CN=new RegExp(DYe,"u")),CN.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"emoji",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")CYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"uuid",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")TYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"nanoid",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")kYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"cuid",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")NYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"cuid2",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")EYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"ulid",code:Xe.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{s=this._getOrReturnCtx(r,s),st(s,{validation:"url",code:Xe.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"regex",code:Xe.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?VYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?BYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?UYe(i).test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?OYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"duration",code:Xe.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?zYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"ip",code:Xe.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?WYe(r.data,i.alg)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"jwt",code:Xe.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?HYe(r.data,i.version)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"cidr",code:Xe.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?LYe.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"base64",code:Xe.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?$Ye.test(r.data)||(s=this._getOrReturnCtx(r,s),st(s,{validation:"base64url",code:Xe.invalid_string,message:i.message}),a.dirty()):ur.assertNever(i);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),{validation:n,code:Xe.invalid_string,...vt.errToObj(a)})}_addCheck(r){return new xu({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...vt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...vt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...vt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...vt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...vt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...vt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...vt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...vt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...vt.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...vt.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...vt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...vt.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...vt.errToObj(r)})}datetime(r){return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(r==null?void 0:r.offset)??!1,local:(r==null?void 0:r.local)??!1,...vt.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...vt.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...vt.errToObj(r)})}regex(r,n){return this._addCheck({kind:"regex",regex:r,...vt.errToObj(n)})}includes(r,n){return this._addCheck({kind:"includes",value:r,position:n==null?void 0:n.position,...vt.errToObj(n==null?void 0:n.message)})}startsWith(r,n){return this._addCheck({kind:"startsWith",value:r,...vt.errToObj(n)})}endsWith(r,n){return this._addCheck({kind:"endsWith",value:r,...vt.errToObj(n)})}min(r,n){return this._addCheck({kind:"min",value:r,...vt.errToObj(n)})}max(r,n){return this._addCheck({kind:"max",value:r,...vt.errToObj(n)})}length(r,n){return this._addCheck({kind:"length",value:r,...vt.errToObj(n)})}nonempty(r){return this.min(1,vt.errToObj(r))}trim(){return new xu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}xu.create=e=>new xu({checks:[],typeName:Lt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});function qYe(e,r){const n=(e.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(r.toFixed(s).replace(".",""));return i%o/10**s}class _p extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ht.number){const i=this._getOrReturnCtx(r);return st(i,{code:Xe.invalid_type,expected:ht.number,received:i.parsedType}),Ft}let a;const s=new mi;for(const i of this._def.checks)i.kind==="int"?ur.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qYe(r.data,i.value)!==0&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.not_finite,message:i.message}),s.dirty()):ur.assertNever(i);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,vt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,vt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,vt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,vt.toString(n))}setLimit(r,n,a,s){return new _p({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:vt.toString(s)}]})}_addCheck(r){return new _p({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:vt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:vt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(r)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&ur.isInteger(r.value))}get isFinite(){let r=null,n=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}}_p.create=e=>new _p({checks:[],typeName:Lt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class ex extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==ht.bigint)return this._getInvalidInput(r);let a;const s=new mi;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),st(a,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ur.assertNever(i);return{status:s.value,value:r.data}}_getInvalidInput(r){const n=this._getOrReturnCtx(r);return st(n,{code:Xe.invalid_type,expected:ht.bigint,received:n.parsedType}),Ft}gte(r,n){return this.setLimit("min",r,!0,vt.toString(n))}gt(r,n){return this.setLimit("min",r,!1,vt.toString(n))}lte(r,n){return this.setLimit("max",r,!0,vt.toString(n))}lt(r,n){return this.setLimit("max",r,!1,vt.toString(n))}setLimit(r,n,a,s){return new ex({...this._def,checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:vt.toString(s)}]})}_addCheck(r){return new ex({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(n)})}get minValue(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}}ex.create=e=>new ex({checks:[],typeName:Lt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Gt(e)});class S8 extends cr{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ht.boolean){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.boolean,received:a.parsedType}),Ft}return Xi(r.data)}}S8.create=e=>new S8({typeName:Lt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class l_ extends cr{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ht.date){const i=this._getOrReturnCtx(r);return st(i,{code:Xe.invalid_type,expected:ht.date,received:i.parsedType}),Ft}if(Number.isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return st(i,{code:Xe.invalid_date}),Ft}const a=new mi;let s;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(s=this._getOrReturnCtx(r,s),st(s,{code:Xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):ur.assertNever(i);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new l_({...this._def,checks:[...this._def.checks,r]})}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:vt.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:vt.toString(n)})}get minDate(){let r=null;for(const n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}}l_.create=e=>new l_({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Lt.ZodDate,...Gt(e)});class j8 extends cr{_parse(r){if(this._getType(r)!==ht.symbol){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.symbol,received:a.parsedType}),Ft}return Xi(r.data)}}j8.create=e=>new j8({typeName:Lt.ZodSymbol,...Gt(e)});class k8 extends cr{_parse(r){if(this._getType(r)!==ht.undefined){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.undefined,received:a.parsedType}),Ft}return Xi(r.data)}}k8.create=e=>new k8({typeName:Lt.ZodUndefined,...Gt(e)});class N8 extends cr{_parse(r){if(this._getType(r)!==ht.null){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.null,received:a.parsedType}),Ft}return Xi(r.data)}}N8.create=e=>new N8({typeName:Lt.ZodNull,...Gt(e)});class E8 extends cr{constructor(){super(...arguments),this._any=!0}_parse(r){return Xi(r.data)}}E8.create=e=>new E8({typeName:Lt.ZodAny,...Gt(e)});class C8 extends cr{constructor(){super(...arguments),this._unknown=!0}_parse(r){return Xi(r.data)}}C8.create=e=>new C8({typeName:Lt.ZodUnknown,...Gt(e)});class Hu extends cr{_parse(r){const n=this._getOrReturnCtx(r);return st(n,{code:Xe.invalid_type,expected:ht.never,received:n.parsedType}),Ft}}Hu.create=e=>new Hu({typeName:Lt.ZodNever,...Gt(e)});class T8 extends cr{_parse(r){if(this._getType(r)!==ht.undefined){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.void,received:a.parsedType}),Ft}return Xi(r.data)}}T8.create=e=>new T8({typeName:Lt.ZodVoid,...Gt(e)});class yl extends cr{_parse(r){const{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==ht.array)return st(n,{code:Xe.invalid_type,expected:ht.array,received:n.parsedType}),Ft;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(o||c)&&(st(n,{code:o?Xe.too_big:Xe.too_small,minimum:c?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(st(n,{code:Xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(st(n,{code:Xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>s.type._parseAsync(new Wu(n,o,n.path,c)))).then(o=>mi.mergeArray(a,o));const i=[...n.data].map((o,c)=>s.type._parseSync(new Wu(n,o,n.path,c)));return mi.mergeArray(a,i)}get element(){return this._def.type}min(r,n){return new yl({...this._def,minLength:{value:r,message:vt.toString(n)}})}max(r,n){return new yl({...this._def,maxLength:{value:r,message:vt.toString(n)}})}length(r,n){return new yl({...this._def,exactLength:{value:r,message:vt.toString(n)}})}nonempty(r){return this.min(1,r)}}yl.create=(e,r)=>new yl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...Gt(r)});function jh(e){if(e instanceof an){const r={};for(const n in e.shape){const a=e.shape[n];r[n]=Du.create(jh(a))}return new an({...e._def,shape:()=>r})}else return e instanceof yl?new yl({...e._def,type:jh(e.element)}):e instanceof Du?Du.create(jh(e.unwrap())):e instanceof kp?kp.create(jh(e.unwrap())):e instanceof Rf?Rf.create(e.items.map(r=>jh(r))):e}class an extends cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),n=ur.objectKeys(r);return this._cached={shape:r,keys:n},this._cached}_parse(r){if(this._getType(r)!==ht.object){const d=this._getOrReturnCtx(r);return st(d,{code:Xe.invalid_type,expected:ht.object,received:d.parsedType}),Ft}const{status:a,ctx:s}=this._processInputParams(r),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Hu&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||c.push(d);const u=[];for(const d of o){const f=i[d],h=s.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Wu(s,h,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Hu){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of c)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")c.length>0&&(st(s,{code:Xe.unrecognized_keys,keys:c}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of c){const h=s.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Wu(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const h=await f.key,m=await f.value;d.push({key:h,value:m,alwaysSet:f.alwaysSet})}return d}).then(d=>mi.mergeObjectSync(a,d)):mi.mergeObjectSync(a,u)}get shape(){return this._def.shape()}strict(r){return vt.errToObj,new an({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(n,a)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,a).message)??a.defaultError;return n.code==="unrecognized_keys"?{message:vt.errToObj(r).message??s}:{message:s}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(r){return new an({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new an({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Lt.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new an({...this._def,catchall:r})}pick(r){const n={};for(const a of ur.objectKeys(r))r[a]&&this.shape[a]&&(n[a]=this.shape[a]);return new an({...this._def,shape:()=>n})}omit(r){const n={};for(const a of ur.objectKeys(this.shape))r[a]||(n[a]=this.shape[a]);return new an({...this._def,shape:()=>n})}deepPartial(){return jh(this)}partial(r){const n={};for(const a of ur.objectKeys(this.shape)){const s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}return new an({...this._def,shape:()=>n})}required(r){const n={};for(const a of ur.objectKeys(this.shape))if(r&&!r[a])n[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof Du;)i=i._def.innerType;n[a]=i}return new an({...this._def,shape:()=>n})}keyof(){return uQ(ur.objectKeys(this.shape))}}an.create=(e,r)=>new an({shape:()=>e,unknownKeys:"strip",catchall:Hu.create(),typeName:Lt.ZodObject,...Gt(r)});an.strictCreate=(e,r)=>new an({shape:()=>e,unknownKeys:"strict",catchall:Hu.create(),typeName:Lt.ZodObject,...Gt(r)});an.lazycreate=(e,r)=>new an({shape:e,unknownKeys:"strip",catchall:Hu.create(),typeName:Lt.ZodObject,...Gt(r)});class c_ extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a=this._def.options;function s(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new kc(c.ctx.common.issues));return st(n,{code:Xe.invalid_union,unionErrors:o}),Ft}if(n.common.async)return Promise.all(a.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of a){const d={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(u=>new kc(u));return st(n,{code:Xe.invalid_union,unionErrors:c}),Ft}}get options(){return this._def.options}}c_.create=(e,r)=>new c_({options:e,typeName:Lt.ZodUnion,...Gt(r)});function xT(e,r){const n=Gc(e),a=Gc(r);if(e===r)return{valid:!0,data:e};if(n===ht.object&&a===ht.object){const s=ur.objectKeys(r),i=ur.objectKeys(e).filter(c=>s.indexOf(c)!==-1),o={...e,...r};for(const c of i){const u=xT(e[c],r[c]);if(!u.valid)return{valid:!1};o[c]=u.data}return{valid:!0,data:o}}else if(n===ht.array&&a===ht.array){if(e.length!==r.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],c=r[i],u=xT(o,c);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ht.date&&a===ht.date&&+e==+r?{valid:!0,data:e}:{valid:!1}}class u_ extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=(i,o)=>{if(w8(i)||w8(o))return Ft;const c=xT(i.value,o.value);return c.valid?((b8(i)||b8(o))&&n.dirty(),{status:n.value,value:c.data}):(st(a,{code:Xe.invalid_intersection_types}),Ft)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}u_.create=(e,r,n)=>new u_({left:e,right:r,typeName:Lt.ZodIntersection,...Gt(n)});class Rf extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ht.array)return st(a,{code:Xe.invalid_type,expected:ht.array,received:a.parsedType}),Ft;if(a.data.length<this._def.items.length)return st(a,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&a.data.length>this._def.items.length&&(st(a,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...a.data].map((o,c)=>{const u=this._def.items[c]||this._def.rest;return u?u._parse(new Wu(a,o,a.path,c)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>mi.mergeArray(n,o)):mi.mergeArray(n,i)}get items(){return this._def.items}rest(r){return new Rf({...this._def,rest:r})}}Rf.create=(e,r)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rf({items:e,typeName:Lt.ZodTuple,rest:null,...Gt(r)})};class A8 extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ht.map)return st(a,{code:Xe.invalid_type,expected:ht.map,received:a.parsedType}),Ft;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([c,u],d)=>({key:s._parse(new Wu(a,c,a.path,[d,"key"])),value:i._parse(new Wu(a,u,a.path,[d,"value"]))}));if(a.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Ft;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Ft;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(d.value,f.value)}return{status:n.value,value:c}}}}A8.create=(e,r,n)=>new A8({valueType:r,keyType:e,typeName:Lt.ZodMap,...Gt(n)});class tx extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ht.set)return st(a,{code:Xe.invalid_type,expected:ht.set,received:a.parsedType}),Ft;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(st(a,{code:Xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(st(a,{code:Xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Ft;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const c=[...a.data.values()].map((u,d)=>i._parse(new Wu(a,u,a.path,d)));return a.common.async?Promise.all(c).then(u=>o(u)):o(c)}min(r,n){return new tx({...this._def,minSize:{value:r,message:vt.toString(n)}})}max(r,n){return new tx({...this._def,maxSize:{value:r,message:vt.toString(n)}})}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}}tx.create=(e,r)=>new tx({valueType:e,minSize:null,maxSize:null,typeName:Lt.ZodSet,...Gt(r)});class O8 extends cr{get schema(){return this._def.getter()}_parse(r){const{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}O8.create=(e,r)=>new O8({getter:e,typeName:Lt.ZodLazy,...Gt(r)});class P8 extends cr{_parse(r){if(r.data!==this._def.value){const n=this._getOrReturnCtx(r);return st(n,{received:n.data,code:Xe.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:r.data}}get value(){return this._def.value}}P8.create=(e,r)=>new P8({value:e,typeName:Lt.ZodLiteral,...Gt(r)});function uQ(e,r){return new Sp({values:e,typeName:Lt.ZodEnum,...Gt(r)})}class Sp extends cr{_parse(r){if(typeof r.data!="string"){const n=this._getOrReturnCtx(r),a=this._def.values;return st(n,{expected:ur.joinValues(a),received:n.parsedType,code:Xe.invalid_type}),Ft}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(r.data)){const n=this._getOrReturnCtx(r),a=this._def.values;return st(n,{received:n.data,code:Xe.invalid_enum_value,options:a}),Ft}return Xi(r.data)}get options(){return this._def.values}get enum(){const r={};for(const n of this._def.values)r[n]=n;return r}get Values(){const r={};for(const n of this._def.values)r[n]=n;return r}get Enum(){const r={};for(const n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return Sp.create(r,{...this._def,...n})}exclude(r,n=this._def){return Sp.create(this.options.filter(a=>!r.includes(a)),{...this._def,...n})}}Sp.create=uQ;class D8 extends cr{_parse(r){const n=ur.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==ht.string&&a.parsedType!==ht.number){const s=ur.objectValues(n);return st(a,{expected:ur.joinValues(s),received:a.parsedType,code:Xe.invalid_type}),Ft}if(this._cache||(this._cache=new Set(ur.getValidEnumValues(this._def.values))),!this._cache.has(r.data)){const s=ur.objectValues(n);return st(a,{received:a.data,code:Xe.invalid_enum_value,options:s}),Ft}return Xi(r.data)}get enum(){return this._def.values}}D8.create=(e,r)=>new D8({values:e,typeName:Lt.ZodNativeEnum,...Gt(r)});class d_ extends cr{unwrap(){return this._def.type}_parse(r){const{ctx:n}=this._processInputParams(r);if(n.parsedType!==ht.promise&&n.common.async===!1)return st(n,{code:Xe.invalid_type,expected:ht.promise,received:n.parsedType}),Ft;const a=n.parsedType===ht.promise?n.data:Promise.resolve(n.data);return Xi(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}d_.create=(e,r)=>new d_({type:e,typeName:Lt.ZodPromise,...Gt(r)});class jp extends cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,i={addIssue:o=>{st(a,o),o.fatal?n.abort():n.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async c=>{if(n.value==="aborted")return Ft;const u=await this._def.schema._parseAsync({data:c,path:a.path,parent:a});return u.status==="aborted"?Ft:u.status==="dirty"||n.value==="dirty"?X0(u.value):u});{if(n.value==="aborted")return Ft;const c=this._def.schema._parseSync({data:o,path:a.path,parent:a});return c.status==="aborted"?Ft:c.status==="dirty"||n.value==="dirty"?X0(c.value):c}}if(s.type==="refinement"){const o=c=>{const u=s.refinement(c,i);if(a.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(a.common.async===!1){const c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>c.status==="aborted"?Ft:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!bp(o))return Ft;const c=s.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>bp(o)?Promise.resolve(s.transform(o.value,i)).then(c=>({status:n.value,value:c})):Ft);ur.assertNever(s)}}jp.create=(e,r,n)=>new jp({schema:e,typeName:Lt.ZodEffects,effect:r,...Gt(n)});jp.createWithPreprocess=(e,r,n)=>new jp({schema:r,effect:{type:"preprocess",transform:e},typeName:Lt.ZodEffects,...Gt(n)});class Du extends cr{_parse(r){return this._getType(r)===ht.undefined?Xi(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Du.create=(e,r)=>new Du({innerType:e,typeName:Lt.ZodOptional,...Gt(r)});class kp extends cr{_parse(r){return this._getType(r)===ht.null?Xi(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}kp.create=(e,r)=>new kp({innerType:e,typeName:Lt.ZodNullable,...Gt(r)});class yT extends cr{_parse(r){const{ctx:n}=this._processInputParams(r);let a=n.data;return n.parsedType===ht.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yT.create=(e,r)=>new yT({innerType:e,typeName:Lt.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Gt(r)});class wT extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return o_(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kc(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new kc(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}wT.create=(e,r)=>new wT({innerType:e,typeName:Lt.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Gt(r)});class R8 extends cr{_parse(r){if(this._getType(r)!==ht.nan){const a=this._getOrReturnCtx(r);return st(a,{code:Xe.invalid_type,expected:ht.nan,received:a.parsedType}),Ft}return{status:"valid",value:r.data}}}R8.create=e=>new R8({typeName:Lt.ZodNaN,...Gt(e)});class KYe extends cr{_parse(r){const{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}}class K4 extends cr{_parse(r){const{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Ft:i.status==="dirty"?(n.dirty(),X0(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Ft:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new K4({in:r,out:n,typeName:Lt.ZodPipeline})}}class bT extends cr{_parse(r){const n=this._def.innerType._parse(r),a=s=>(bp(s)&&(s.value=Object.freeze(s.value)),s);return o_(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}}bT.create=(e,r)=>new bT({innerType:e,typeName:Lt.ZodReadonly,...Gt(r)});an.lazycreate;var Lt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const x1=xu.create,GYe=_p.create;Hu.create;yl.create;const YYe=an.create;an.strictCreate;c_.create;u_.create;Rf.create;Sp.create;d_.create;Du.create;kp.create;const XYe=ZGe,dQ=y.createContext({}),M0=({...e})=>l.jsx(dQ.Provider,{value:{name:e.name},children:l.jsx(nYe,{...e})}),mj=()=>{const e=y.useContext(dQ),r=y.useContext(fQ),{getFieldState:n,formState:a}=hj(),s=n(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},fQ=y.createContext({}),kh=y.forwardRef(({className:e,...r},n)=>{const a=y.useId();return l.jsx(fQ.Provider,{value:{id:a},children:l.jsx("div",{ref:n,className:ve("space-y-2",e),...r})})});kh.displayName="FormItem";const Nh=y.forwardRef(({className:e,...r},n)=>{const{error:a,formItemId:s}=mj();return l.jsx(Ge,{ref:n,className:ve(a&&"text-destructive",e),htmlFor:s,...r})});Nh.displayName="FormLabel";const Eh=y.forwardRef(({...e},r)=>{const{error:n,formItemId:a,formDescriptionId:s,formMessageId:i}=mj();return l.jsx(c9,{ref:r,id:a,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Eh.displayName="FormControl";const JYe=y.forwardRef(({className:e,...r},n)=>{const{formDescriptionId:a}=mj();return l.jsx("p",{ref:n,id:a,className:ve("text-sm text-muted-foreground",e),...r})});JYe.displayName="FormDescription";const Ch=y.forwardRef(({className:e,children:r,...n},a)=>{const{error:s,formMessageId:i}=mj(),o=s?String(s==null?void 0:s.message):r;return o?l.jsx("p",{ref:a,id:i,className:ve("text-sm font-medium text-destructive",e),...n,children:o}):null});Ch.displayName="FormMessage";const QYe=YYe({request_title:x1().min(1,"Title is required"),request_description:x1().optional(),request_type:x1().optional(),priority:GYe().optional(),status:x1().optional()});function ZYe({open:e,onOpenChange:r,onSubmit:n,initialData:a}){const{t:s}=Kt(),{user:i}=Sr(),o=(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="manager",c=vYe({resolver:bYe(QYe),defaultValues:{request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"}});y.useEffect(()=>{a?c.reset({request_title:a.request_title,request_description:a.request_description||"",request_type:a.request_type||"internal_task",priority:a.priority||1,status:a.status||"pending"}):c.reset({request_title:"",request_description:"",request_type:"internal_task",priority:1,status:"pending"})},[a,c,e]);const u=async d=>{await n(d),r(!1),c.reset()};return l.jsx(Sl,{open:e,onOpenChange:r,children:l.jsxs(Io,{side:Yt()?"left":"right",className:"sm:max-w-md overflow-y-auto",children:[l.jsx(xc,{children:l.jsx(jl,{children:s(a?"requests.editRequest":"requests.createRequest")})}),l.jsx("div",{className:"py-4",children:l.jsx(XYe,{...c,children:l.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[l.jsx(M0,{control:c.control,name:"request_title",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.title")}),l.jsx(Eh,{children:l.jsx(He,{placeholder:s("requests.titlePlaceholder"),...d})}),l.jsx(Ch,{})]})}),l.jsx(M0,{control:c.control,name:"request_description",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.description")}),l.jsx(Eh,{children:l.jsx(da,{placeholder:s("requests.descriptionPlaceholder"),className:"resize-none min-h-[100px]",...d})}),l.jsx(Ch,{})]})}),o&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(M0,{control:c.control,name:"request_type",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.type")}),l.jsxs(jt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Eh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select type"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"internal_task",children:s("requests.types.internalTask")}),l.jsx(Pe,{value:"support",children:s("requests.types.support")}),l.jsx(Pe,{value:"feature",children:s("requests.types.feature")})]})]}),l.jsx(Ch,{})]})}),l.jsx(M0,{control:c.control,name:"priority",render:({field:d})=>{var f,h;return l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.priority")}),l.jsxs(jt,{onValueChange:m=>d.onChange(parseInt(m)),defaultValue:(f=d.value)==null?void 0:f.toString(),value:(h=d.value)==null?void 0:h.toString(),children:[l.jsx(Eh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select priority"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"0",children:s("requests.priorities.low")}),l.jsx(Pe,{value:"1",children:s("requests.priorities.medium")}),l.jsx(Pe,{value:"2",children:s("requests.priorities.high")})]})]}),l.jsx(Ch,{})]})}})]}),l.jsx(M0,{control:c.control,name:"status",render:({field:d})=>l.jsxs(kh,{children:[l.jsx(Nh,{children:s("requests.status")}),l.jsxs(jt,{onValueChange:d.onChange,defaultValue:d.value,value:d.value,children:[l.jsx(Eh,{children:l.jsx(_t,{children:l.jsx(kt,{placeholder:"Select status"})})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"pending",children:s("status.pending")}),l.jsx(Pe,{value:"in_progress",children:s("status.in_progress")}),l.jsx(Pe,{value:"completed",children:s("status.completed")}),l.jsx(Pe,{value:"approved",children:s("status.approved")}),l.jsx(Pe,{value:"rejected",children:s("status.rejected")})]})]}),l.jsx(Ch,{})]})})]}),l.jsx("div",{className:"flex justify-end pt-4 gap-2",children:l.jsx(ue,{type:"submit",children:s(a?"common.save":"common.create")})})]})})})]})})}function eXe(){const{t:e}=Kt(),{toast:r}=Ol(),{user:n}=Sr();yn();const[a,s]=y.useState([]),[i,o]=y.useState(!0),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(null),[p,v]=y.useState(null),[g,x]=y.useState("all"),[b,w]=y.useState("all"),_=async()=>{try{o(!0);const T=await v1.getRequests();s(T)}catch(T){console.error("Failed to fetch requests:",T),r({title:e("common.error"),description:"Failed to load requests",variant:"destructive"})}finally{o(!1)}};y.useEffect(()=>{_()},[]);const S=()=>{m(null),f(!0)},j=T=>{m(T),f(!0)},N=async()=>{if(p)try{await v1.deleteRequest(p),r({title:e("common.success"),description:e("requests.deleteSuccess")}),_()}catch(T){console.error("Failed to delete request:",T),r({title:e("common.error"),description:"Failed to delete request",variant:"destructive"})}finally{v(null)}},k=async T=>{try{if(!(n!=null&&n.id)){r({title:"Error",description:"You must be logged in to perform this action",variant:"destructive"});return}h?(await v1.updateRequest(h.request_id,T),r({title:e("common.success"),description:e("requests.updateSuccess")})):(await v1.createRequest({...T,requested_by_auth:n.id,related_entity_id:null,related_entity_type:null,metadata:{},assigned_to:null}),r({title:e("common.success"),description:e("requests.createSuccess")})),_()}catch(U){console.error("Failed to save request:",U),r({title:e("common.error"),description:"Failed to save request",variant:"destructive"})}},C=a.filter(T=>{var M;const U=T.request_title.toLowerCase().includes(c.toLowerCase()),H=g==="all"||T.status===g,F=b==="all"||((M=T.priority)==null?void 0:M.toString())===b;return U&&H&&F}),E=T=>{switch(T){case"completed":case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"pending":default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"}},P=T=>{switch(T){case 2:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case 1:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case 0:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},I=T=>{switch(T){case 2:return e("requests.priorities.high");case 1:return e("requests.priorities.medium");case 0:return e("requests.priorities.low");default:return e("requests.priorities.medium")}};return l.jsxs("div",{className:"space-y-6 sm:space-y-8",dir:Yt()?"rtl":"ltr",children:[l.jsx(Rx,{title:e("requests.title"),description:e("requests.subtitle"),icon:l.jsx(Pi,{className:"h-5 w-5 text-primary"}),actions:l.jsxs(ue,{onClick:S,children:[l.jsx(or,{className:"mr-2 h-4 w-4"}),e("requests.createRequest")]})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 pb-2",children:[l.jsxs("div",{className:"relative flex-1 max-w-sm",children:[l.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(He,{placeholder:e("requests.searchPlaceholder"),className:"pl-10 h-9",value:c,onChange:T=>u(T.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-wrap",children:[l.jsxs(jt,{value:b,onValueChange:w,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:e("requests.priority")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("common.all")}),l.jsx(Pe,{value:"0",children:e("requests.priorities.low")}),l.jsx(Pe,{value:"1",children:e("requests.priorities.medium")}),l.jsx(Pe,{value:"2",children:e("requests.priorities.high")})]})]}),l.jsxs(jt,{value:g,onValueChange:x,children:[l.jsx(_t,{className:"w-[130px] h-9",children:l.jsx(kt,{placeholder:e("requests.status")})}),l.jsxs(St,{children:[l.jsx(Pe,{value:"all",children:e("common.all")}),l.jsx(Pe,{value:"pending",children:e("status.pending")}),l.jsx(Pe,{value:"approved",children:e("status.approved")}),l.jsx(Pe,{value:"rejected",children:e("status.rejected")}),l.jsx(Pe,{value:"in_progress",children:e("status.in_progress")}),l.jsx(Pe,{value:"completed",children:e("status.completed")})]})]})]})]}),(()=>{const T=[{key:"title",header:e("requests.requestTitle"),render:H=>{var F;return l.jsx(wc,{title:H.request_title,subtitle:(F=H.request_type)==null?void 0:F.replace("_"," ")})}},{key:"priority",header:e("requests.priority"),render:H=>l.jsx(gt,{variant:"outline",className:P(H.priority),children:I(H.priority)})},{key:"status",header:e("requests.status"),render:H=>l.jsx(gt,{variant:"secondary",className:`capitalize ${E(H.status)}`,children:H.status?e(`status.${H.status}`):e("status.pending")})},{key:"created",header:e("requests.createdDate"),hideOnMobile:!0,render:H=>l.jsx(Bu,{date:H.created_at})}],U=[{icon:l.jsx(H2,{}),label:e("common.edit"),onClick:j},{icon:l.jsx(Er,{}),label:e("common.delete"),onClick:H=>v(H.request_id),variant:"destructive"}];return l.jsx(yc,{data:C,columns:T,actions:U,loading:i,keyExtractor:H=>H.request_id,onRowClick:j})})(),l.jsx(ZYe,{open:d,onOpenChange:f,onSubmit:k,initialData:h}),l.jsx(fi,{open:!!p,onOpenChange:T=>!T&&v(null),children:l.jsxs(Ms,{children:[l.jsxs(Fs,{children:[l.jsx($s,{children:e("common.confirmDelete")}),l.jsx(Bs,{children:e("requests.deleteConfirmation")})]}),l.jsxs(Ls,{children:[l.jsx(Vs,{children:e("common.cancel")}),l.jsx(Us,{className:"bg-red-500 hover:bg-red-600",onClick:N,children:e("common.delete")})]})]})})]})}const J0="https://api.middar.com",tXe="default",rXe="",I8={async getConversations(){return(await G.whatsappConversations.list()).data},async getMessages(e){return(await G.whatsappMessages.getByConversation(e)).data},async sendMessage(e,r){try{const n={"Content-Type":"application/json",accept:"application/json"},a=e.includes("@")?e:`${e.replace(/\D/g,"")}@c.us`,s=await fetch(`${J0}/api/v1/whatsapp/sendText`,{method:"POST",headers:n,body:JSON.stringify({session:tXe,chatId:a,text:r})}),i=await s.json();if(!s.ok)throw new Error(i.error||"Failed to send message via WAHA");const c=(await G.whatsappConversations.list({exact_filters:{phone:e}})).data[0];if(c){const u=c.id;await G.whatsappMessages.create({conversation_id:u,phone:e,message:r,direction:"outbound",created_at:new Date().toISOString()}),await G.whatsappConversations.update(u,{last_message_at:new Date().toISOString()})}return i}catch(n){throw console.error("Error sending WhatsApp message:",n),n}},async createConversation(e,r){const n=await G.whatsappConversations.list({exact_filters:{phone:e}});return n.data.length>0?n.data[0]:await G.whatsappConversations.create({phone:e,lead_id:r,last_message_at:new Date().toISOString()})}};function nXe(){Kt();const{toast:e}=Ol();yn();const[r,n]=y.useState([]),[a,s]=y.useState(null),[i,o]=y.useState([]),[c,u]=y.useState(""),[d,f]=y.useState(!0),[h,m]=y.useState(!1),p=y.useRef(null);y.useEffect(()=>{v();const w=setInterval(v,1e4);return()=>{clearInterval(w)}},[]),y.useEffect(()=>{let w;return a&&(g(a.id),w=window.setInterval(()=>g(a.id),3e3)),()=>{w&&window.clearInterval(w)}},[a]);const v=async()=>{try{const w=await I8.getConversations();n(w),d&&f(!1)}catch(w){console.error(w),e({variant:"destructive",title:"Error",description:"Failed to load conversations"})}},g=async w=>{try{const _=await I8.getMessages(w);o(_),setTimeout(()=>x(),100)}catch(_){console.error(_)}},x=()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},b=async w=>{if(w==null||w.preventDefault(),!(!c.trim()||!a)){e({variant:"destructive",title:"Missing WUZ token",description:"Set VITE_WUZ_API_TOKEN in your environment to send messages."});return}};return l.jsxs("div",{className:"flex flex-1 overflow-hidden bg-background border rounded-lg",dir:Yt()?"rtl":"ltr",children:[l.jsxs("div",{className:"w-80 border-r bg-muted/10 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b bg-background/50 backdrop-blur",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center justify-between",children:[l.jsx("span",{children:"WhatsApp"}),l.jsx(ue,{variant:"ghost",size:"icon",onClick:v,children:l.jsx(yI,{className:"h-4 w-4"})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Ws,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx(He,{placeholder:"Search...",className:"pl-9"})]})]}),l.jsx(la,{className:"flex-1",children:l.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[r.map(w=>l.jsxs("button",{onClick:()=>s(w),className:`flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${(a==null?void 0:a.id)===w.id?"bg-primary/10 hover:bg-primary/15":"hover:bg-muted"}`,children:[l.jsx(Rs,{children:l.jsx(Is,{className:"bg-green-100 text-green-700",children:l.jsx(Qn,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-medium truncate",children:w.phone}),l.jsx("span",{className:"text-xs text-muted-foreground",children:w.last_message_at&&cs(new Date(w.last_message_at),"MMM d")})]}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Tap to view messages"})]})]},w.id)),r.length===0&&!d&&l.jsx("div",{className:"text-center p-8 text-muted-foreground text-sm",children:"No conversations yet."})]})})]}),l.jsx("div",{className:"flex-1 flex flex-col bg-background relative",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"p-4 border-b flex items-center justify-between bg-background z-10",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Rs,{className:"h-10 w-10",children:l.jsx(Is,{className:"bg-green-600 text-white",children:"WA"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:a.phone}),l.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"WhatsApp Business"]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-900/50",ref:p,children:i.map(w=>l.jsx("div",{className:`flex ${w.direction==="outbound"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-2 shadow-sm ${w.direction==="outbound"?"bg-green-600 text-white rounded-br-none":"bg-white dark:bg-slate-800 border rounded-bl-none"}`,children:[w.media_url&&l.jsx("div",{className:"mb-2",children:w.media_type==="image"||w.media_type==="sticker"?l.jsx("img",{src:`${J0}${w.media_url}`,alt:"WhatsApp media",className:"rounded-lg max-w-full h-auto cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`${J0}${w.media_url}`,"_blank")}):w.media_type==="video"?l.jsx("video",{controls:!0,className:"rounded-lg max-w-full",children:l.jsx("source",{src:`${J0}${w.media_url}`})}):l.jsxs("a",{href:`${J0}${w.media_url}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted/50 rounded hover:bg-muted transition-colors text-xs",children:[l.jsx(yI,{className:"h-4 w-4"}),l.jsxs("span",{children:["Download ",w.media_type||"File"]})]})}),w.message&&l.jsx("p",{className:"text-sm",children:w.message}),l.jsx("p",{className:`text-[10px] mt-1 text-right ${w.direction==="outbound"?"text-green-100":"text-muted-foreground"}`,children:cs(new Date(w.created_at),"HH:mm")})]})},w.id))}),l.jsx("div",{className:"p-4 border-t bg-background",children:l.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[l.jsx(He,{value:c,onChange:w=>u(w.target.value),placeholder:"Type a message...",className:"flex-1",disabled:h}),l.jsx(ue,{type:"submit",size:"icon",disabled:h||!c.trim(),children:l.jsx(mx,{className:"h-4 w-4"})})]})})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-8",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mb-4",children:l.jsx(tm,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a conversation"}),l.jsx("p",{className:"max-w-xs text-center text-sm",children:"Choose a conversation from the sidebar to start messaging via WhatsApp."})]})})]})}function aXe(){const{t:e}=Kt(),{isRTL:r}=ms();yn();const{setBreadcrumbs:n}=fx(),{toast:a}=Ol(),[s,i]=y.useState([]),[o,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,p]=y.useState(!1),[v,g]=y.useState(!1),[x,b]=y.useState({});y.useEffect(()=>{n([{label:e("navigation.dashboard"),href:"/"},{label:"Permissions",href:"/permissions"}]),w()},[]);const w=async()=>{try{c(!0);const E=await G.permissions.list();i(E.data||[]),d(null)}catch(E){d(E.message||"Failed to load permissions")}finally{c(!1)}},_=E=>{h(E),b({...E}),g(!0),p(!0)},S=()=>{h(null),b({permissions_Name:"",is_offline_mode:0,can_edit:0,can_update:0,can_delete:0,can_view_system_settings:0,can_view_delete_button:0}),g(!1),p(!0)},j=async()=>{try{if(!x.permissions_Name){a({title:"Error",description:"Permission name is required",variant:"destructive"});return}f?(await G.permissions.update(f.permissions_ID,x),a({title:"Success",description:"Permission updated"})):(await G.permissions.create(x),a({title:"Success",description:"Permission created"})),p(!1),w()}catch(E){a({title:"Error",description:E.message,variant:"destructive"})}},N=[{key:"permissions_Name",header:"Role Name",render:E=>l.jsx(wc,{title:E.permissions_Name||"Unnamed Role",icon:l.jsx(Sw,{className:"h-4 w-4 text-primary"})})},{key:"permissions_ID",header:"ID",render:E=>l.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",E.permissions_ID]})}],k=[{icon:l.jsx(Vi,{}),label:"Edit",onClick:E=>_(E)}],C=()=>{const E=Object.keys(x).filter(P=>P!=="permissions_ID"&&P!=="permissions_Name"&&P!=="created_at"&&P!=="updated_at");return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:E.map(P=>l.jsxs("div",{className:"flex items-center gap-2 border p-3 rounded-md",children:[l.jsx($w,{id:P,checked:!!x[P],onCheckedChange:I=>{b(T=>({...T,[P]:I?1:0}))}}),l.jsx(Ge,{htmlFor:P,className:"cursor-pointer flex-1 capitalize",children:P.replace(/_/g," ")})]},P))})};return o?l.jsx(UO,{}):u?l.jsx(Vp,{message:u,onRetry:w}):l.jsxs("div",{className:"space-y-4 p-4",dir:r?"rtl":"ltr",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Permissions"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage user roles and access rights"})]}),l.jsxs(ue,{onClick:S,children:[l.jsx(or,{className:"mr-2 h-4 w-4"})," Add Role"]})]}),l.jsx(yc,{data:s,columns:N,actions:k,keyExtractor:E=>E.permissions_ID.toString()}),l.jsx(Sl,{open:m,onOpenChange:p,children:l.jsxs(Io,{side:r?"left":"right",className:"w-full sm:max-w-[850px] overflow-y-auto",dir:r?"rtl":"ltr",children:[l.jsxs(xc,{children:[l.jsx(jl,{children:f?"Edit Role":"New Role"}),l.jsx(Cx,{children:"Configure access permissions for this role."})]}),l.jsxs("div",{className:"py-4 space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Ge,{htmlFor:"roleName",children:"Role Name"}),l.jsx(He,{id:"roleName",value:x.permissions_Name||"",onChange:E=>b(P=>({...P,permissions_Name:E.target.value}))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-2",children:"Access Rights"}),C(),Object.keys(x).filter(E=>E!=="permissions_ID"&&E!=="permissions_Name").length===0&&l.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["No permission flags detected.",s.length===0&&" Add your first permission to define the schema or ensure backend migration."]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsx(ue,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),l.jsx(ue,{onClick:j,children:"Save Changes"})]})]})})]})}const ji={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"},Ko={primary:"text-primary",secondary:"text-muted-foreground",success:"text-green-600",warning:"text-yellow-600",destructive:"text-red-600"},y1={primary:"bg-primary",secondary:"bg-muted-foreground",success:"bg-green-600",warning:"bg-yellow-600",destructive:"bg-red-600"};function Yc({size:e="md",variant:r="default",className:n,color:a="primary"}){const s=ve(ji[e],Ko[a],n);switch(r){case"dots":return l.jsxs("div",{className:ve("flex space-x-1",n),children:[l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a]),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a],"animation-delay-100"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})}),l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a],"animation-delay-200"),children:l.jsx("div",{className:"h-full w-full rounded-full bg-current"})})]});case"pulse":return l.jsxs("div",{className:ve("relative",ji[e],n),children:[l.jsx("div",{className:ve("h-full w-full rounded-full border-2 border-current opacity-20")}),l.jsx("div",{className:ve("absolute inset-0 h-full w-full rounded-full border-2 border-t-current animate-spin")})]});case"bounce":return l.jsxs("div",{className:ve("flex space-x-1",n),children:[l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a]),children:l.jsx(Fie,{className:"h-full w-full"})}),l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a],"animation-delay-100"),children:l.jsx(r9,{className:"h-full w-full"})}),l.jsx("div",{className:ve("animate-bounce",ji[e],Ko[a],"animation-delay-200"),children:l.jsx(tv,{className:"h-full w-full animate-spin"})})]});case"rotate":return l.jsx("div",{className:ve("relative",ji[e],n),children:l.jsx(tv,{className:ve("h-full w-full animate-spin",Ko[a])})});case"rings":return l.jsxs("div",{className:ve("relative",ji[e],n),children:[l.jsx("div",{className:ve("absolute inset-0 h-full w-full rounded-full border-2 border-current opacity-20 animate-ping")}),l.jsx("div",{className:ve("absolute inset-2 h-full w-full rounded-full border-2 border-current opacity-40 animate-ping","animation-delay-100")}),l.jsx("div",{className:ve("absolute inset-4 h-full w-full rounded-full border-2 border-current animate-spin")})]});case"bars":return l.jsx("div",{className:ve("flex items-end space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ve("w-1 bg-current rounded-full animate-pulse",e==="sm"?"h-4":e==="md"?"h-6":e==="lg"?"h-8":"h-12",Ko[a],i===0&&"animation-delay-0",i===1&&"animation-delay-100",i===2&&"animation-delay-200",i===3&&"animation-delay-300",i===4&&"animation-delay-400"),style:{animationDelay:`${i*100}ms`,animation:"pulse 1.4s cubic-bezier(0.4, 0, 0.6, 1) infinite"}},i))});case"wave":return l.jsx("div",{className:ve("flex space-x-1",n),children:[0,1,2,3,4].map(i=>l.jsx("div",{className:ve("rounded-full bg-current animate-bounce",e==="sm"?"h-2 w-2":e==="md"?"h-3 w-3":e==="lg"?"h-4 w-4":"h-6 w-6",Ko[a]),style:{animationDelay:`${i*100}ms`}},i))});case"orbit":return l.jsxs("div",{className:ve("relative",ji[e],n),children:[l.jsxs("div",{className:ve("absolute inset-0 h-full w-full animate-spin"),children:[l.jsx("div",{className:ve("absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full",y1[a])}),l.jsx("div",{className:ve("absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-1/2 w-2 h-2 rounded-full opacity-60",y1[a])}),l.jsx("div",{className:ve("absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1/2 w-2 h-2 rounded-full opacity-40",y1[a])}),l.jsx("div",{className:ve("absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-2 h-2 rounded-full opacity-80",y1[a])})]}),l.jsx("div",{className:ve("absolute inset-2 h-full w-full rounded-full border border-current opacity-20")})]});case"morph":return l.jsx("div",{className:ve("relative",ji[e],n),children:l.jsx("div",{className:ve("h-full w-full bg-current rounded-full animate-morph")})});default:return l.jsx(I_,{className:ve("animate-spin",s)})}}function M8({message:e="Loading...",size:r="lg",variant:n="default",showProgress:a=!1,progress:s=0,className:i}){return l.jsxs("div",{className:ve("flex flex-col items-center justify-center py-8 space-y-4",i),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Yc,{size:r,variant:n}),a&&l.jsx("div",{className:"absolute -bottom-6 left-0 right-0",children:l.jsx("div",{className:"w-24 h-1 bg-muted rounded-full overflow-hidden mx-auto",children:l.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-out",style:{width:`${s}%`}})})})]}),e&&l.jsx("p",{className:"text-sm text-muted-foreground animate-pulse font-medium text-center max-w-xs",children:e})]})}function sXe({message:e="Loading...",fullScreen:r=!1,variant:n="bounce",className:a}){const s=l.jsxs("div",{className:ve("flex flex-col items-center justify-center space-y-6",r?"min-h-screen":"py-16",a),children:[l.jsxs("div",{className:"relative",children:[l.jsx(Yc,{size:"xl",variant:n}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"h-32 w-32 rounded-full border-4 border-muted/20 animate-ping"})})]}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("p",{className:"text-lg font-medium text-foreground animate-pulse",children:e}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we prepare your content..."})]})]});return r?l.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50",children:s}):s}function iXe(){const[e,r]=y.useState(!1),[n,a]=y.useState(0),s=()=>{a(0),r(!0);const u=setInterval(()=>{a(d=>d>=100?(clearInterval(u),setTimeout(()=>r(!1),500),100):d+10)},200)},i=["default","dots","pulse","bounce","rotate","rings","bars","wave","orbit","morph"],o=["sm","md","lg","xl"],c=["primary","secondary","success","warning","destructive"];return l.jsxs("div",{className:"min-h-screen bg-background p-8 space-y-8",children:[l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs("div",{className:"text-center space-y-4 mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold",children:"Custom Loading Spinners"}),l.jsx("p",{className:"text-muted-foreground text-lg",children:"Showcase of different spinner variants and configurations"}),l.jsx(ue,{onClick:s,className:"mt-4",children:"Show Page Loader with Progress"})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:"Spinner Variants"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:i.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Yc,{variant:u,size:"lg"})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:"Spinner Sizes"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:o.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Yc,{variant:"bounce",size:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:"Spinner Colors"})}),l.jsx(xt,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8",children:c.map(u=>l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"h-20 flex items-center justify-center",children:l.jsx(Yc,{variant:"default",size:"lg",color:u})}),l.jsx("p",{className:"text-sm font-medium capitalize text-foreground",children:u})]},u))})})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:"Loading Spinner with Messages"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"Basic Loading"}),l.jsx(M8,{message:"Loading dashboard data...",variant:"dots",size:"md"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold",children:"With Progress"}),l.jsx(M8,{message:"Processing files...",variant:"pulse",size:"lg",showProgress:!0,progress:65})]})]})})]}),l.jsxs(ot,{children:[l.jsx(Xt,{children:l.jsx(br,{children:"Combined Examples"})}),l.jsx(xt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Yc,{variant:"bounce",size:"xl",color:"success"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Success State"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Yc,{variant:"rotate",size:"xl",color:"warning"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing"})]}),l.jsxs("div",{className:"text-center space-y-4 p-6 border rounded-lg",children:[l.jsx(Yc,{variant:"dots",size:"xl",color:"destructive"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Error State"})]})]})})]})]}),e&&l.jsx(sXe,{message:"Loading amazing content...",variant:"bounce",fullScreen:!0})]})}const oXe=()=>l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[l.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Unauthorized Access"}),l.jsx("p",{className:"mb-4",children:"You don't have permission to view this page."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Go Back"})]})}),lXe=()=>{const{user:e}=Sr();return(e==null?void 0:e.role)==="client"?l.jsx(Aye,{}):l.jsx(exe,{})},F8=({children:e})=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-slate-900 dark:to-slate-800",children:e});function cXe(){return l.jsx(Pae,{children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx(Loe,{children:l.jsx(tie,{children:l.jsx(Zse,{children:l.jsx(rie,{children:l.jsx(uXe,{})})})})})})})}function uXe(){const{isRTL:e}=ms(),r=Al(),{t:n}=Kt();return y.useEffect(()=>{document.documentElement.dir=e?"rtl":"ltr"},[e]),y.useEffect(()=>{const a=r.pathname.split("/").filter(u=>u),s="Middar CRM";if(a.length===0){document.title=s;return}const i=a[a.length-1],o={dashboard:"navigation.dashboard",projects:"navigation.projects",users:"navigation.users",settings:"navigation.settings",leads:"navigation.leads",tickets:"navigation.tickets",tasks:"navigation.tasks",teams:"navigation.teams",clients:"navigation.clients",chats:"navigation.chats",surveys:"navigation.surveys","client-portal":"navigation.clientPortal","partner-dashboard":"navigation.partnerDashboard",employee_dashboard:"navigation.empDashboard","partner-employee-dashboard":"auth.partnerEmployee",permissions:"navigation.permissions"};let c="";if(o[i])c=n(o[i]);else if(/^\d+$/.test(i)||i.length>20)if(a.length>1){const u=a[a.length-2];o[u]?c=`${n(o[u])} - ${i}`:c=i}else c=i;else c=i.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");document.title=`${c} | ${s}`},[r,n]),l.jsxs(kae,{children:[l.jsx(Cr,{path:"/login",element:l.jsx(F8,{children:l.jsx(Moe,{})})}),l.jsx(Cr,{path:"/signup",element:l.jsx(F8,{children:l.jsx(Foe,{})})}),l.jsx(Cr,{path:"/unauthorized",element:l.jsx(oXe,{})}),l.jsx(Cr,{path:"/auth/callback",element:l.jsx(Dye,{})}),l.jsx(Cr,{path:"/",element:l.jsx(Pye,{})}),l.jsxs(Cr,{element:l.jsx(Ay,{children:l.jsx(bE,{children:l.jsx(nI,{})})}),children:[l.jsx(Cr,{path:"/dashboard",element:l.jsx(gpe,{})}),l.jsx(Cr,{path:"/leads",element:l.jsx(uve,{})}),l.jsx(Cr,{path:"/projects",element:l.jsx(Cve,{})}),l.jsx(Cr,{path:"/tasks",element:l.jsx(pve,{})}),l.jsx(Cr,{path:"/tickets",element:l.jsx(xve,{})}),l.jsx(Cr,{path:"/users",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(zve,{})})}),l.jsx(Cr,{path:"/teams",element:l.jsx(Wve,{})}),l.jsx(Cr,{path:"/chats",element:l.jsx(lXe,{})}),l.jsx(Cr,{path:"/all-chats",element:l.jsx(Tye,{})}),l.jsx(Cr,{path:"/whatsapp",element:l.jsx(nXe,{})}),l.jsx(Cr,{path:"/requests",element:l.jsx(eXe,{})}),l.jsx(Cr,{path:"/client-portal",element:l.jsx(Oye,{})}),l.jsx(Cr,{path:"/surveys",element:l.jsx(F2e,{})}),l.jsx(Cr,{path:"/mleads",element:l.jsx(qGe,{})}),l.jsx(Cr,{path:"/mprojects",element:l.jsx(XGe,{})}),l.jsx(Cr,{path:"/permissions",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(aXe,{})})}),l.jsx(Cr,{path:"/settings",element:l.jsx(Ay,{denyPermissionIds:[3,4,5,6],children:l.jsx(L2e,{})})}),l.jsx(Cr,{path:"/spinner-demo",element:l.jsx(iXe,{})})]}),l.jsx(Cr,{element:l.jsx(bE,{children:l.jsx(nI,{})})}),l.jsx(Cr,{path:"*",element:l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("h1",{children:"404 - Page Not Found"})})})]})}const dXe=new Nte({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3}}});oU(document.getElementById("root")).render(l.jsx(Rre,{i18n:Zr,children:l.jsx(Ote,{client:dXe,children:l.jsx(YU,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:l.jsx(cXe,{})})})}));
